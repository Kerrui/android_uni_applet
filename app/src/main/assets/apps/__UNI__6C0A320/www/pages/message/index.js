"use weex:vue";

if (typeof Promise !== 'undefined' && !Promise.prototype.finally) {
  Promise.prototype.finally = function(callback) {
    const promise = this.constructor
    return this.then(
      value => promise.resolve(callback()).then(() => value),
      reason => promise.resolve(callback()).then(() => {
        throw reason
      })
    )
  }
};

if (typeof uni !== 'undefined' && uni && uni.requireGlobal) {
  const global = uni.requireGlobal()
  ArrayBuffer = global.ArrayBuffer
  Int8Array = global.Int8Array
  Uint8Array = global.Uint8Array
  Uint8ClampedArray = global.Uint8ClampedArray
  Int16Array = global.Int16Array
  Uint16Array = global.Uint16Array
  Int32Array = global.Int32Array
  Uint32Array = global.Uint32Array
  Float32Array = global.Float32Array
  Float64Array = global.Float64Array
  BigInt64Array = global.BigInt64Array
  BigUint64Array = global.BigUint64Array
};


(()=>{var ba=Object.create;var dn=Object.defineProperty;var ya=Object.getOwnPropertyDescriptor;var Ea=Object.getOwnPropertyNames;var Sa=Object.getPrototypeOf,Aa=Object.prototype.hasOwnProperty;var wa=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ta=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Ea(t))!Aa.call(e,a)&&a!==n&&dn(e,a,{get:()=>t[a],enumerable:!(i=ya(t,a))||i.enumerable});return e};var H=(e,t,n)=>(n=e!=null?ba(Sa(e)):{},Ta(t||!e||!e.__esModule?dn(n,"default",{value:e,enumerable:!0}):n,e));var ee=(e,t,n)=>new Promise((i,a)=>{var o=l=>{try{s(n.next(l))}catch(c){a(c)}},r=l=>{try{s(n.throw(l))}catch(c){a(c)}},s=l=>l.done?i(l.value):Promise.resolve(l.value).then(o,r);s((n=n.apply(e,t)).next())});var j=wa((qs,fn)=>{fn.exports=Vue});var w=H(j()),F={zT:2,appId:plus.runtime.appid,appV:parseInt(plus.runtime.version.split(".").join("")),isAndroid:plus.os.name=="Android"};var Ca=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Ve=e=>Ca?Symbol(e):e,va=(e,t,n)=>Ia({l:e,k:t,s:n}),Ia=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),te=e=>typeof e=="number"&&isFinite(e),Da=e=>Rt(e)==="[object Date]",it=e=>Rt(e)==="[object RegExp]",rt=e=>N(e)&&Object.keys(e).length===0;function Na(e,t){typeof console!="undefined"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}var oe=Object.assign;function mn(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}var Oa=Object.prototype.hasOwnProperty;function Nn(e,t){return Oa.call(e,t)}var K=Array.isArray,ne=e=>typeof e=="function",E=e=>typeof e=="string",V=e=>typeof e=="boolean",ie=e=>e!==null&&typeof e=="object",On=Object.prototype.toString,Rt=e=>On.call(e),N=e=>Rt(e)==="[object Object]",ka=e=>e==null?"":K(e)||N(e)&&e.toString===On?JSON.stringify(e,null,2):String(e);var La=Object.prototype.hasOwnProperty;function Ma(e,t){return La.call(e,t)}var et=e=>e!==null&&typeof e=="object",Se=[];Se[0]={w:[0],i:[3,0],"[":[4],o:[7]};Se[1]={w:[1],".":[2],"[":[4],o:[7]};Se[2]={w:[2],i:[3,0],0:[3,0]};Se[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Se[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Se[5]={"'":[4,0],o:8,l:[5,0]};Se[6]={'"':[4,0],o:8,l:[6,0]};var xa=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Ra(e){return xa.test(e)}function Pa(e){let t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t===n&&(t===34||t===39)?e.slice(1,-1):e}function Fa(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Ua(e){let t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:Ra(t)?Pa(t):"*"+t}function $a(e){let t=[],n=-1,i=0,a=0,o,r,s,l,c,f,_,S=[];S[0]=()=>{r===void 0?r=s:r+=s},S[1]=()=>{r!==void 0&&(t.push(r),r=void 0)},S[2]=()=>{S[0](),a++},S[3]=()=>{if(a>0)a--,i=4,S[0]();else{if(a=0,r===void 0||(r=Ua(r),r===!1))return!1;S[1]()}};function I(){let A=e[n+1];if(i===5&&A==="'"||i===6&&A==='"')return n++,s="\\"+A,S[0](),!0}for(;i!==null;)if(n++,o=e[n],!(o==="\\"&&I())){if(l=Fa(o),_=Se[i],c=_[l]||_.l||8,c===8||(i=c[0],c[1]!==void 0&&(f=S[c[1]],f&&(s=o,f()===!1))))return;if(i===7)return t}}var pn=new Map;function at(e,t){if(!et(e))return null;let n=pn.get(t);if(n||(n=$a(t),n&&pn.set(t,n)),!n)return null;let i=n.length,a=e,o=0;for(;o<i;){let r=a[n[o]];if(r===void 0)return null;a=r,o++}return a}function It(e){if(!et(e))return e;for(let t in e)if(Ma(e,t))if(!t.includes("."))et(e[t])&&It(e[t]);else{let n=t.split("."),i=n.length-1,a=e;for(let o=0;o<i;o++)n[o]in a||(a[n[o]]={}),a=a[n[o]];a[n[i]]=e[t],delete e[t],et(a[n[i]])&&It(a[n[i]])}return e}var Wa=e=>e,Ba=e=>"",Va="text",ja=e=>e.length===0?"":e.join(""),Ha=ka;function gn(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function Ga(e){let t=te(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(te(e.named.count)||te(e.named.n))?te(e.named.count)?e.named.count:te(e.named.n)?e.named.n:t:t}function za(e,t){t.count||(t.count=e),t.n||(t.n=e)}function Ya(e={}){let t=e.locale,n=Ga(e),i=ie(e.pluralRules)&&E(t)&&ne(e.pluralRules[t])?e.pluralRules[t]:gn,a=ie(e.pluralRules)&&E(t)&&ne(e.pluralRules[t])?gn:void 0,o=y=>y[i(n,y.length,a)],r=e.list||[],s=y=>r[y],l=e.named||{};te(e.pluralIndex)&&za(n,l);let c=y=>l[y];function f(y){let C=ne(e.messages)?e.messages(y):ie(e.messages)?e.messages[y]:!1;return C||(e.parent?e.parent.message(y):Ba)}let _=y=>e.modifiers?e.modifiers[y]:Wa,S=N(e.processor)&&ne(e.processor.normalize)?e.processor.normalize:ja,I=N(e.processor)&&ne(e.processor.interpolate)?e.processor.interpolate:Ha,A=N(e.processor)&&E(e.processor.type)?e.processor.type:Va,D={list:s,named:c,plural:o,linked:(y,C)=>{let v=f(y)(D);return E(C)?_(C)(v):v},message:f,type:A,interpolate:I,normalize:S};return D}function kn(e,t,n={}){let{domain:i,messages:a,args:o}=n,r=e,s=new SyntaxError(String(r));return s.code=e,t&&(s.location=t),s.domain=i,s}var Ja="9.1.9",st=-1,_n="";function Ka(){return{upper:e=>E(e)?e.toUpperCase():e,lower:e=>E(e)?e.toLowerCase():e,capitalize:e=>E(e)?`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`:e}}var qa,hn=0;function Za(e={}){let t=E(e.version)?e.version:Ja,n=E(e.locale)?e.locale:"en-US",i=K(e.fallbackLocale)||N(e.fallbackLocale)||E(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:n,a=N(e.messages)?e.messages:{[n]:{}},o=N(e.datetimeFormats)?e.datetimeFormats:{[n]:{}},r=N(e.numberFormats)?e.numberFormats:{[n]:{}},s=oe({},e.modifiers||{},Ka()),l=e.pluralRules||{},c=ne(e.missing)?e.missing:null,f=V(e.missingWarn)||it(e.missingWarn)?e.missingWarn:!0,_=V(e.fallbackWarn)||it(e.fallbackWarn)?e.fallbackWarn:!0,S=!!e.fallbackFormat,I=!!e.unresolving,A=ne(e.postTranslation)?e.postTranslation:null,D=N(e.processor)?e.processor:null,y=V(e.warnHtmlMessage)?e.warnHtmlMessage:!0,C=!!e.escapeParameter,v=ne(e.messageCompiler)?e.messageCompiler:qa,L=ne(e.onWarn)?e.onWarn:Na,m=e,O=ie(m.__datetimeFormatters)?m.__datetimeFormatters:new Map,ce=ie(m.__numberFormatters)?m.__numberFormatters:new Map,Ce=ie(m.__meta)?m.__meta:{};return hn++,{version:t,cid:hn,locale:n,fallbackLocale:i,messages:a,datetimeFormats:o,numberFormats:r,modifiers:s,pluralRules:l,missing:c,missingWarn:f,fallbackWarn:_,fallbackFormat:S,unresolving:I,postTranslation:A,processor:D,warnHtmlMessage:y,escapeParameter:C,messageCompiler:v,onWarn:L,__datetimeFormatters:O,__numberFormatters:ce,__meta:Ce}}function Pt(e,t,n,i,a){let{missing:o,onWarn:r}=e;if(o!==null){let s=o(e,n,t,a);return E(s)?s:t}else return t}function je(e,t,n){let i=e;i.__localeChainCache||(i.__localeChainCache=new Map);let a=i.__localeChainCache.get(n);if(!a){a=[];let o=[n];for(;K(o);)o=bn(a,o,t);let r=K(t)?t:N(t)?t.default?t.default:null:t;o=E(r)?[r]:r,K(o)&&bn(a,o,!1),i.__localeChainCache.set(n,a)}return a}function bn(e,t,n){let i=!0;for(let a=0;a<t.length&&V(i);a++){let o=t[a];E(o)&&(i=Xa(e,t[a],n))}return i}function Xa(e,t,n){let i,a=t.split("-");do{let o=a.join("-");i=Qa(e,o,n),a.splice(-1,1)}while(a.length&&i===!0);return i}function Qa(e,t,n){let i=!1;if(!e.includes(t)&&(i=!0,t)){i=t[t.length-1]!=="!";let a=t.replace(/!/g,"");e.push(a),(K(n)||N(n))&&n[a]&&(i=n[a])}return i}function $e(e,t,n){let i=e;i.__localeChainCache=new Map,je(e,n,t)}function Me(e){return kn(e,null,void 0)}var yn=()=>"",Ne=e=>ne(e);function En(e,...t){let{fallbackFormat:n,postTranslation:i,unresolving:a,fallbackLocale:o,messages:r}=e,[s,l]=Dt(...t),c=V(l.missingWarn)?l.missingWarn:e.missingWarn,f=V(l.fallbackWarn)?l.fallbackWarn:e.fallbackWarn,_=V(l.escapeParameter)?l.escapeParameter:e.escapeParameter,S=!!l.resolvedMessage,I=E(l.default)||V(l.default)?V(l.default)?s:l.default:n?s:"",A=n||I!=="",D=E(l.locale)?l.locale:e.locale;_&&eo(l);let[y,C,v]=S?[s,D,r[D]||{}]:to(e,s,D,o,f,c),L=s;if(!S&&!(E(y)||Ne(y))&&A&&(y=I,L=y),!S&&(!(E(y)||Ne(y))||!E(C)))return a?st:s;let m=!1,O=()=>{m=!0},ce=Ne(y)?y:Ln(e,s,C,y,L,O);if(m)return y;let Ce=ao(e,C,v,l),se=Ya(Ce),ue=no(e,ce,se);return i?i(ue):ue}function eo(e){K(e.list)?e.list=e.list.map(t=>E(t)?mn(t):t):ie(e.named)&&Object.keys(e.named).forEach(t=>{E(e.named[t])&&(e.named[t]=mn(e.named[t]))})}function to(e,t,n,i,a,o){let{messages:r,onWarn:s}=e,l=je(e,i,n),c={},f,_=null,S="translate";for(let I=0;I<l.length&&(f=l[I],c=r[f]||{},(_=at(c,t))===null&&(_=c[t]),!(E(_)||ne(_)));I++){let A=Pt(e,t,f,o,S);A!==t&&(_=A)}return[_,f,c]}function Ln(e,t,n,i,a,o){let{messageCompiler:r,warnHtmlMessage:s}=e;if(Ne(i)){let c=i;return c.locale=c.locale||n,c.key=c.key||t,c}let l=r(i,io(e,n,a,i,s,o));return l.locale=n,l.key=t,l.source=i,l}function no(e,t,n){return t(n)}function Dt(...e){let[t,n,i]=e,a={};if(!E(t)&&!te(t)&&!Ne(t))throw Me(14);let o=te(t)?String(t):(Ne(t),t);return te(n)?a.plural=n:E(n)?a.default=n:N(n)&&!rt(n)?a.named=n:K(n)&&(a.list=n),te(i)?a.plural=i:E(i)?a.default=i:N(i)&&oe(a,i),[o,a]}function io(e,t,n,i,a,o){return{warnHtmlMessage:a,onError:r=>{throw o&&o(r),r},onCacheKey:r=>va(t,n,r)}}function ao(e,t,n,i){let{modifiers:a,pluralRules:o}=e,s={locale:t,modifiers:a,pluralRules:o,messages:l=>{let c=at(n,l);if(E(c)){let f=!1,S=Ln(e,l,t,c,l,()=>{f=!0});return f?yn:S}else return Ne(c)?c:yn}};return e.processor&&(s.processor=e.processor),i.list&&(s.list=i.list),i.named&&(s.named=i.named),te(i.plural)&&(s.pluralIndex=i.plural),s}function Sn(e,...t){let{datetimeFormats:n,unresolving:i,fallbackLocale:a,onWarn:o}=e,{__datetimeFormatters:r}=e,[s,l,c,f]=Nt(...t),_=V(c.missingWarn)?c.missingWarn:e.missingWarn;V(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;let S=!!c.part,I=E(c.locale)?c.locale:e.locale,A=je(e,a,I);if(!E(s)||s==="")return new Intl.DateTimeFormat(I).format(l);let D={},y,C=null,v="datetime format";for(let O=0;O<A.length&&(y=A[O],D=n[y]||{},C=D[s],!N(C));O++)Pt(e,s,y,_,v);if(!N(C)||!E(y))return i?st:s;let L=`${y}__${s}`;rt(f)||(L=`${L}__${JSON.stringify(f)}`);let m=r.get(L);return m||(m=new Intl.DateTimeFormat(y,oe({},C,f)),r.set(L,m)),S?m.formatToParts(l):m.format(l)}function Nt(...e){let[t,n,i,a]=e,o={},r={},s;if(E(t)){if(!/\d{4}-\d{2}-\d{2}(T.*)?/.test(t))throw Me(16);s=new Date(t);try{s.toISOString()}catch(l){throw Me(16)}}else if(Da(t)){if(isNaN(t.getTime()))throw Me(15);s=t}else if(te(t))s=t;else throw Me(14);return E(n)?o.key=n:N(n)&&(o=n),E(i)?o.locale=i:N(i)&&(r=i),N(a)&&(r=a),[o.key||"",s,o,r]}function An(e,t,n){let i=e;for(let a in n){let o=`${t}__${a}`;i.__datetimeFormatters.has(o)&&i.__datetimeFormatters.delete(o)}}function wn(e,...t){let{numberFormats:n,unresolving:i,fallbackLocale:a,onWarn:o}=e,{__numberFormatters:r}=e,[s,l,c,f]=Ot(...t),_=V(c.missingWarn)?c.missingWarn:e.missingWarn;V(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;let S=!!c.part,I=E(c.locale)?c.locale:e.locale,A=je(e,a,I);if(!E(s)||s==="")return new Intl.NumberFormat(I).format(l);let D={},y,C=null,v="number format";for(let O=0;O<A.length&&(y=A[O],D=n[y]||{},C=D[s],!N(C));O++)Pt(e,s,y,_,v);if(!N(C)||!E(y))return i?st:s;let L=`${y}__${s}`;rt(f)||(L=`${L}__${JSON.stringify(f)}`);let m=r.get(L);return m||(m=new Intl.NumberFormat(y,oe({},C,f)),r.set(L,m)),S?m.formatToParts(l):m.format(l)}function Ot(...e){let[t,n,i,a]=e,o={},r={};if(!te(t))throw Me(14);let s=t;return E(n)?o.key=n:N(n)&&(o=n),E(i)?o.locale=i:N(i)&&(r=i),N(a)&&(r=a),[o.key||"",s,o,r]}function Tn(e,t,n){let i=e;for(let a in n){let o=`${t}__${a}`;i.__numberFormatters.has(o)&&i.__numberFormatters.delete(o)}}var oo="9.1.9";function Ie(e,...t){return kn(e,null,void 0)}var kt=Ve("__transrateVNode"),Lt=Ve("__datetimeParts"),Mt=Ve("__numberParts"),ro=Ve("__setPluralRules"),Mn=Ve("__injectWithOption"),Cn=0;function vn(e){return(t,n,i,a)=>e(n,i,(0,w.getCurrentInstance)()||void 0,a)}function xn(e,t){let{messages:n,__i18n:i}=t,a=N(n)?n:K(i)?{}:{[e]:{}};if(K(i)&&i.forEach(({locale:o,resource:r})=>{o?(a[o]=a[o]||{},ot(r,a[o])):ot(r,a)}),t.flatJson)for(let o in a)Nn(a,o)&&It(a[o]);return a}var Qe=e=>!ie(e)||K(e);function ot(e,t){if(Qe(e)||Qe(t))throw Ie(20);for(let n in e)Nn(e,n)&&(Qe(e[n])||Qe(t[n])?t[n]=e[n]:ot(e[n],t[n]))}function so(e={}){let{__root:t}=e,n=t===void 0,i=V(e.inheritLocale)?e.inheritLocale:!0,a=(0,w.ref)(t&&i?t.locale.value:E(e.locale)?e.locale:"en-US"),o=(0,w.ref)(t&&i?t.fallbackLocale.value:E(e.fallbackLocale)||K(e.fallbackLocale)||N(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:a.value),r=(0,w.ref)(xn(a.value,e)),s=(0,w.ref)(N(e.datetimeFormats)?e.datetimeFormats:{[a.value]:{}}),l=(0,w.ref)(N(e.numberFormats)?e.numberFormats:{[a.value]:{}}),c=t?t.missingWarn:V(e.missingWarn)||it(e.missingWarn)?e.missingWarn:!0,f=t?t.fallbackWarn:V(e.fallbackWarn)||it(e.fallbackWarn)?e.fallbackWarn:!0,_=t?t.fallbackRoot:V(e.fallbackRoot)?e.fallbackRoot:!0,S=!!e.fallbackFormat,I=ne(e.missing)?e.missing:null,A=ne(e.missing)?vn(e.missing):null,D=ne(e.postTranslation)?e.postTranslation:null,y=V(e.warnHtmlMessage)?e.warnHtmlMessage:!0,C=!!e.escapeParameter,v=t?t.modifiers:N(e.modifiers)?e.modifiers:{},L=e.pluralRules||t&&t.pluralRules,m;function O(){return Za({version:oo,locale:a.value,fallbackLocale:o.value,messages:r.value,messageCompiler:function(p){return de=>de.normalize([p])},datetimeFormats:s.value,numberFormats:l.value,modifiers:v,pluralRules:L,missing:A===null?void 0:A,missingWarn:c,fallbackWarn:f,fallbackFormat:S,unresolving:!0,postTranslation:D===null?void 0:D,warnHtmlMessage:y,escapeParameter:C,__datetimeFormatters:N(m)?m.__datetimeFormatters:void 0,__numberFormatters:N(m)?m.__numberFormatters:void 0,__v_emitter:N(m)?m.__v_emitter:void 0,__meta:{framework:"vue"}})}m=O(),$e(m,a.value,o.value);function ce(){return[a.value,o.value,r.value,s.value,l.value]}let Ce=(0,w.computed)({get:()=>a.value,set:d=>{a.value=d,m.locale=a.value}}),se=(0,w.computed)({get:()=>o.value,set:d=>{o.value=d,m.fallbackLocale=o.value,$e(m,a.value,d)}}),ue=(0,w.computed)(()=>r.value),_e=(0,w.computed)(()=>s.value),Ke=(0,w.computed)(()=>l.value);function qe(){return ne(D)?D:null}function Ze(d){D=d,m.postTranslation=d}function At(){return I}function qi(d){d!==null&&(A=vn(d)),I=d,m.missing=A}function ke(d,p,de,Q,wt,Xe){ce();let Ue;if(Ue=d(m),te(Ue)&&Ue===st){let[ha,Js]=p();return t&&_?Q(t):wt(ha)}else{if(Xe(Ue))return Ue;throw Ie(14)}}function cn(...d){return ke(p=>En(p,...d),()=>Dt(...d),"translate",p=>p.t(...d),p=>p,p=>E(p))}function Zi(...d){let[p,de,Q]=d;if(Q&&!ie(Q))throw Ie(15);return cn(p,de,oe({resolvedMessage:!0},Q||{}))}function Xi(...d){return ke(p=>Sn(p,...d),()=>Nt(...d),"datetime format",p=>p.d(...d),()=>_n,p=>E(p))}function Qi(...d){return ke(p=>wn(p,...d),()=>Ot(...d),"number format",p=>p.n(...d),()=>_n,p=>E(p))}function ea(d){return d.map(p=>E(p)?(0,w.createVNode)(w.Text,null,p,0):p)}let ta={normalize:ea,interpolate:d=>d,type:"vnode"};function na(...d){return ke(p=>{let de,Q=p;try{Q.processor=ta,de=En(Q,...d)}finally{Q.processor=null}return de},()=>Dt(...d),"translate",p=>p[kt](...d),p=>[(0,w.createVNode)(w.Text,null,p,0)],p=>K(p))}function ia(...d){return ke(p=>wn(p,...d),()=>Ot(...d),"number format",p=>p[Mt](...d),()=>[],p=>E(p)||K(p))}function aa(...d){return ke(p=>Sn(p,...d),()=>Nt(...d),"datetime format",p=>p[Lt](...d),()=>[],p=>E(p)||K(p))}function oa(d){L=d,m.pluralRules=L}function ra(d,p){let de=E(p)?p:a.value,Q=un(de);return at(Q,d)!==null}function sa(d){let p=null,de=je(m,o.value,a.value);for(let Q=0;Q<de.length;Q++){let wt=r.value[de[Q]]||{},Xe=at(wt,d);if(Xe!=null){p=Xe;break}}return p}function la(d){let p=sa(d);return p!=null?p:t?t.tm(d)||{}:{}}function un(d){return r.value[d]||{}}function ca(d,p){r.value[d]=p,m.messages=r.value}function ua(d,p){r.value[d]=r.value[d]||{},ot(p,r.value[d]),m.messages=r.value}function da(d){return s.value[d]||{}}function fa(d,p){s.value[d]=p,m.datetimeFormats=s.value,An(m,d,p)}function ma(d,p){s.value[d]=oe(s.value[d]||{},p),m.datetimeFormats=s.value,An(m,d,p)}function pa(d){return l.value[d]||{}}function ga(d,p){l.value[d]=p,m.numberFormats=l.value,Tn(m,d,p)}function _a(d,p){l.value[d]=oe(l.value[d]||{},p),m.numberFormats=l.value,Tn(m,d,p)}return Cn++,t&&((0,w.watch)(t.locale,d=>{i&&(a.value=d,m.locale=d,$e(m,a.value,o.value))}),(0,w.watch)(t.fallbackLocale,d=>{i&&(o.value=d,m.fallbackLocale=d,$e(m,a.value,o.value))})),{id:Cn,locale:Ce,fallbackLocale:se,get inheritLocale(){return i},set inheritLocale(d){i=d,d&&t&&(a.value=t.locale.value,o.value=t.fallbackLocale.value,$e(m,a.value,o.value))},get availableLocales(){return Object.keys(r.value).sort()},messages:ue,datetimeFormats:_e,numberFormats:Ke,get modifiers(){return v},get pluralRules(){return L||{}},get isGlobal(){return n},get missingWarn(){return c},set missingWarn(d){c=d,m.missingWarn=c},get fallbackWarn(){return f},set fallbackWarn(d){f=d,m.fallbackWarn=f},get fallbackRoot(){return _},set fallbackRoot(d){_=d},get fallbackFormat(){return S},set fallbackFormat(d){S=d,m.fallbackFormat=S},get warnHtmlMessage(){return y},set warnHtmlMessage(d){y=d,m.warnHtmlMessage=d},get escapeParameter(){return C},set escapeParameter(d){C=d,m.escapeParameter=d},t:cn,rt:Zi,d:Xi,n:Qi,te:ra,tm:la,getLocaleMessage:un,setLocaleMessage:ca,mergeLocaleMessage:ua,getDateTimeFormat:da,setDateTimeFormat:fa,mergeDateTimeFormat:ma,getNumberFormat:pa,setNumberFormat:ga,mergeNumberFormat:_a,getPostTranslationHandler:qe,setPostTranslationHandler:Ze,getMissingHandler:At,setMissingHandler:qi,[kt]:na,[Mt]:ia,[Lt]:aa,[ro]:oa,[Mn]:e.__injectWithOption}}var Ft={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};oe({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>te(e)||!isNaN(e)}},Ft);function lo({slots:e},t){return t.length===1&&t[0]==="default"?e.default?e.default():[]:t.reduce((n,i)=>{let a=e[i];return a&&(n[i]=a()),n},{})}function Rn(e,t,n,i){let{slots:a,attrs:o}=t;return()=>{let r={part:!0},s={};e.locale&&(r.locale=e.locale),E(e.format)?r.key=e.format:ie(e.format)&&(E(e.format.key)&&(r.key=e.format.key),s=Object.keys(e.format).reduce((_,S)=>n.includes(S)?oe({},_,{[S]:e.format[S]}):_,{}));let l=i(e.value,r,s),c=[r.key];K(l)?c=l.map((_,S)=>{let I=a[_.type];return I?I({[_.type]:_.value,index:S,parts:l}):[_.value]}):E(l)&&(c=[l]);let f=oe({},o);return E(e.tag)?(0,w.h)(e.tag,f,c):ie(e.tag)?(0,w.h)(e.tag,f,c):(0,w.h)(w.Fragment,f,c)}}var co=["localeMatcher","style","unit","unitDisplay","currency","currencyDisplay","useGrouping","numberingSystem","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","notation","formatMatcher"];oe({value:{type:Number,required:!0},format:{type:[String,Object]}},Ft);var uo=["dateStyle","timeStyle","fractionalSecondDigits","calendar","dayPeriod","numberingSystem","localeMatcher","timeZone","hour12","hourCycle","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"];oe({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Ft);function Ut(e={}){let t=(0,w.getCurrentInstance)();if(t==null)throw Ie(16);if(!t.appContext.app.__VUE_I18N_SYMBOL__)throw Ie(17);let n=(0,w.inject)(t.appContext.app.__VUE_I18N_SYMBOL__);if(!n)throw Ie(22);let i=n.mode==="composition"?n.global:n.global.__composer,a=rt(e)?"__i18n"in t.type?"local":"global":e.useScope?e.useScope:"local";if(a==="global"){let s=ie(e.messages)?e.messages:{};"__i18nGlobal"in t.type&&(s=xn(i.locale.value,{messages:s,__i18n:t.type.__i18nGlobal}));let l=Object.keys(s);if(l.length&&l.forEach(c=>{i.mergeLocaleMessage(c,s[c])}),ie(e.datetimeFormats)){let c=Object.keys(e.datetimeFormats);c.length&&c.forEach(f=>{i.mergeDateTimeFormat(f,e.datetimeFormats[f])})}if(ie(e.numberFormats)){let c=Object.keys(e.numberFormats);c.length&&c.forEach(f=>{i.mergeNumberFormat(f,e.numberFormats[f])})}return i}if(a==="parent"){let s=fo(n,t,e.__useComponent);return s==null&&(s=i),s}if(n.mode==="legacy")throw Ie(18);let o=n,r=o.__getInstance(t);if(r==null){let s=t.type,l=oe({},e);s.__i18n&&(l.__i18n=s.__i18n),i&&(l.__root=i),r=so(l),mo(o,t),o.__setInstance(t,r)}return r}function fo(e,t,n=!1){let i=null,a=t.root,o=t.parent;for(;o!=null;){let r=e;if(e.mode==="composition")i=r.__getInstance(o);else{let s=r.__getInstance(o);s!=null&&(i=s.__composer),n&&i&&!i[Mn]&&(i=null)}if(i!=null||a===o)break;o=o.parent}return i}function mo(e,t,n){(0,w.onMounted)(()=>{},t),(0,w.onUnmounted)(()=>{e.__deleteInstance(t)},t)}function lt(e,t,n=!1,i=null){let a=ut(e,n);i?uni.setStorage({key:a,data:t,success:i}):uni.setStorageSync(a,t)}function Oe(e,t=!1,n=null){let i=ut(e,t);if(n)uni.getStorage({key:i,success:n});else return uni.getStorageSync(i)}function Pn(e,t=!1){uni.removeStorage({key:ut(e,t)})}function ct(e,t=!1){uni.removeStorageSync(ut(e,t))}function ut(e,t){return t?`_azb_${e}`:`mzb_${e}`}function dt(e,t){let n=t;return typeof t=="undefined"&&(n=getApp().globalData.uid),Oe(e+"_"+n)}function b(e){return typeof e=="undefined"||e==null||e==""}var ve=new Promise(()=>{});function po(e,t,n=""){if(b(e))return"";let i=[];for(let a in e)i.push(a+"="+e[a]);return n+i.join(t)}function We(e){return typeof e=="number"?e+"":typeof e=="boolean"?e?"true":"false":b(e)?"null":typeof e=="object"?JSON.stringify(e):e}function fe(e){return e.replace(new RegExp("'","gm"),"\uFF07")}function xe(e){return e.replace(new RegExp("\uFF07","gm"),"'")}function Le(e,t){let n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in n)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,RegExp.$1.length==1?n[i]:("00"+n[i]).substr((""+n[i]).length)));return t}function go(e,t=1){let n=new Date(e),i=n.getFullYear(),a=String(n.getMonth()+1).padStart(2,"0"),o=String(n.getDate()).padStart(2,"0");return t==1?`${a}/${o}/${i}`:`${a}-${o}-${i}`}function Fn(e,t=18){if(b(e))return"";let n=new Date(Date.parse(e.replace(/-/g,"/"))),i=Math.ceil((new Date().getTime()-n)/31536e6),a=i>1?i-1:i;return a<t?t:a}function Un(e){return e=parseInt(e),e.toString().length==16?e=Math.round(e/1e3):e<1e10&&(e=e*1e3),e}function $n(e){let t=new Date,n=new Date(e),i=t.toDateString()==n.toDateString(),a=new Date(t-864e5).toDateString()==n.toDateString();if(i)return h("today")+" "+Le(n,"hh:mm");if(a)return h("yesterday")+" "+Le(n,"hh:mm");if(Math.floor((t-n)/(24*60*60*1e3))<=7){let o=new Array(7);return o[0]=h("week.sunday"),o[1]=h("week.monday"),o[2]=h("week.tuesday"),o[3]=h("week.wednesday"),o[4]=h("week.thursday"),o[5]=h("week.friday"),o[6]=h("week.saturday"),o[n.getDay()]+" "+Le(n,"hh:mm")}else return t.getFullYear()==n.getFullYear()?Le(n,"M/d")+" "+Le(n,"hh:mm"):go(n)+" "+Le(n,"hh:mm")}function Wn(e,t=!1){if(b(e)||e<0||isNaN(e))return t?"00:00:00":"00:00";var n=0,i=0;e>0&&e<10?e="0"+parseInt(e):e<=0?e="00":e>=60&&(n=parseInt(e/60)<10?"0"+parseInt(e/60):parseInt(e/60),e=parseInt(e%60)<10?"0"+parseInt(e%60):parseInt(e%60),n>60&&(i=parseInt(n/60)<10?"0"+parseInt(n/60):parseInt(n/60),n=parseInt(n%60)<10?"0"+parseInt(n%60):parseInt(n%60)));var a;return i>0?a=i+":"+n+":"+e:n>0?(a=n+":"+e,t&&(a="00:"+a)):(a="00:"+e,t&&(a="00:"+a)),a}function he(e){try{let t=JSON.parse(e);if(typeof t=="object")return t}catch(t){}return!1}function Bn(e,t){for(let n in e)if(t[n]!=null&&e[n]!=t[n])return!0;return!1}function _o(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var tt={LEVEL_34:34,LEVEL_33:33,LEVEL_29:29},Vn="CONCH",jn="CONCH",ft={CONCH:0,MESSAGE:1,MINE:2},Hn={CONCH:"/pages/conch_chat/index",MESSAGE:"/pages/message/index",MINE:"/pages/my/index"};function mt(e){return weex.requireModule(e)}function P(e,t,...n){uni.__log__?uni.__log__(e,t,...n):console[e].apply(console,[...n,t])}function $(e,t){return typeof e=="string"?t:e}var Re={PATH:"wgt_path",VALUE:"welcome_url",MAX_VERSION:"wgt_max_version"},$t={INIT:1,OPEN:2,CALLBACK:3,SOCKET:4,LOGIN:5},Wt={TAB_CLICK:1,OPEN:2},Be={DEFAULT:1e4,FAIL:0,SUCCESS:1,DISCONNECT:6,RECONNECT:7},He={INIT:"init",APP_SHOW:"app_show",TAB_SHOW:"tab_show",MSG_INDEX_REFRESH:"msg_index_refresh",STOP_TAKING_RECOVERY:"stop_taking_recovery",CATCH_MSG_SYNC:"sync_catch",API_CALL_BACK:"api_call_back",RECONNECT_LISTENER:"reconnect_listener",RECONNECT_LOCAL:"reconnect_local"},Ge={emailLogin:"/pagesLogin/email-login",forgetPwd:"/pagesLogin/forget-pwd",signUp:"/pagesLogin/sign-up",confirmSignUp:"/pagesLogin/confirm-sign-up",usageInstructionsPopup:"/pagesDialog/usage-instructions-popup",releaseConch:"/pagesPub/conch/release-conch",msgSendMediaLimit:"/pagesDialog/msg-send-media-limit",userHome:"/pagesPub/user-home/user-home",reportUser:"/pagesReport/index",myConch:"/pagesPub/conch/my-conch",blockList:"/pagesPub/block/block-list",accountSettings:"/pagesPub/account-settings/account-settings",bindNewEmail:"/pagesPub/account-settings/bind-new-email",settings:"/pagesPub/settings/settings",feedback:"/pagesPub/settings/feedback",aboutUs:"/pagesPub/settings/about-us",changePassword:"/pagesPub/account-settings/change-password",catchConch:"/pagesPub/conch/catch-conch",buyVip:"/pagesPub/buyVip/vip",coinDetail:"/pagesPub/coin-detail/coin-detail",editProfile:"/pagesPub/edit-profile/edit-profile",buyCoins:"/pagesPub/buyCoins/coins",ageDialog:"/pagesDialog/age-dialog",sendVideoTip:"/pagesDialog/send-video-tip",reportDialog:"/pagesDialog/report-dialog",chooseCountry:"/pagesDialog/choose-country",filterSex:"/pagesPub/filter-sex/filter-sex",buyVipDialog:"/pagesPub/buy-vip-dialog/buy-vip-dialog",authenticationDialog:"/pagesPub/authentication-dialog/authentication-dialog",faceAuthentication:"/pagesPub/authentication-dialog/face-authentication",topUpDialog:"/pagesPub/top-up-dialog/top-up-dialog",callRecords:"/pagesPub/call-records/call-records",friendList:"/pagesPub/user-home/friend-list",notify:"/pagesPub/notify/notify"};function Gn(e,t){let n=Ge[e];return n||(n=e),n+po(t,"&","?")}function pt(e,t=null,n=null,i=!1){let a=Gn(e,t),o={url:a,fail:r=>{P("error","at common/route.js:58",`\u6253\u5F00\u9875\u9762\u5931\u8D25${a} ${JSON.stringify(r)}`)}};i&&(o=Object.assign(o,i)),n!=null&&(o.events=n),uni.navigateTo(o)}function De(e,t,n,i,a=null){let r={url:Gn(e,t),success(s){s.eventChannel.emit(n,i)}};a!=null&&(r.events=a),uni.navigateTo(r)}function ho(e=1,t="",n="",i){let a={delta:e,complete:()=>{typeof i=="function"&&i()}};t&&(a.animationType=t),n&&(a.animationDuration=n),uni.navigateBack(a)}function Bt(){let e=[],t=getCurrentPages();for(let n=0,i=t.length;n<i;n++){let a=t[n].$page;e.push(a.path)}return e}function gt(e="path"){let t=getCurrentPages(),n=t[t.length-1];if(!n)return"";let i=n.$page;return i?i[e]:""}function zn(e,t=null,n=null){let a={uid:typeof e=="object"?e.uid:e};n&&(a=Object.assign(a,n)),De("/pagesMsg/chat/index",a,"priData",{user:e,extra:t})}var re={PHOTO:1,VIDEO:2,VOICE:3,TXT:4};function Vt(e){function t(r,s,l){for(;0<l--;)r.push(s)}function n(r,s){return r<<s|r>>>32-s}function i(r,s,l){return r^s^l}function a(r,s){var l=(s&65535)+(r&65535),c=(s>>>16)+(r>>>16)+(l>>>16);return(c&65535)<<16|l&65535}var o="0123456789abcdef";return function(r){for(var s=[],l=r.length*4,c,f=0;f<l;f++)c=r[f>>2]>>(3-f%4)*8,s.push(o.charAt(c>>4&15)+o.charAt(c&15));return s.join("")}(function(r,s){var l,c,f,_,S,I=r.length,A=1732584193,D=4023233417,y=2562383102,C=271733878,v=3285377520,L=[];t(L,1518500249,20),t(L,1859775393,20),t(L,2400959708,20),t(L,3395469782,20),r[s>>5]|=128<<24-s%32,r[(s+65>>9<<4)+15]=s;for(var m=0;m<I;m+=16){l=A,c=D,f=y,_=C,S=v;for(var O=0,ce=[];O<80;O++){ce[O]=O<16?r[O+m]:n(ce[O-3]^ce[O-8]^ce[O-14]^ce[O-16],1);var Ce=function(se,ue,_e,Ke,qe){var Ze=(qe&65535)+(se&65535)+(ue&65535)+(_e&65535)+(Ke&65535),At=(qe>>>16)+(se>>>16)+(ue>>>16)+(_e>>>16)+(Ke>>>16)+(Ze>>>16);return(At&65535)<<16|Ze&65535}(O<20?function(se,ue,_e){return se&ue^~se&_e}(c,f,_):O<40?i(c,f,_):O<60?function(se,ue,_e){return se&ue^se&_e^ue&_e}(c,f,_):i(c,f,_),S,L[O],ce[O],n(l,5));S=_,_=f,f=n(c,30),c=l,l=Ce}A=a(A,l),D=a(D,c),y=a(y,f),C=a(C,_),v=a(v,S)}return[A,D,y,C,v]}(function(r){for(var s=[],l=255,c=r.length*8,f=0;f<c;f+=8)s[f>>5]|=(r.charCodeAt(f/8)&l)<<24-f%32;return s}(e).slice(),e.length*8))}function Yn(e,t,n=!0){return qn(getApp().globalData.ossPicPath,e,t,n)}function Jn(e,t,n=!0){return qn(getApp().globalData.ossPath,e,t,n)}function ze(e,t){uni.saveFile({tempFilePath:t}).then(n=>{if(!n||!n.savedFilePath)return;let i=Vt(e);lt(`img_${i}`,n.savedFilePath),Zn("tempFile success")})}function Kn(e){if(b(e)||e.startsWith("http"))return;let n=`img_${Vt(e)}`,i=Oe(n);Pn(n),i&&uni.removeSavedFile({filePath:i})}function qn(e,t,n,i=!0){if(b(t))return"";if(t.startsWith("http")||t.startsWith("file://"))return t;if(t.startsWith("/var/mobile/"))return"file://"+t;if(t.startsWith("/storage/"))return t;let o=`img_${Vt(t)}`,r=Oe(o);if(r){let l={filePath:r,fail(c){Zn(`\u7F13\u5B58\u68C0\u6D4B\u5931\u8D25${t}`,c),Pn(o),typeof n=="function"&&n(e+t)},success(c){}};return typeof n=="function"&&(l.success=function(){n(r)}),uni.getFileInfo(l),r}let s=e+t;return getApp().globalData.picCacheObj[o]||(getApp().globalData.picCacheObj[o]=1,typeof n=="function"&&!i&&n(s),Uo(s).then(l=>{lt(o,l),typeof n=="function"&&i&&n(l),delete getApp().globalData.picCacheObj[o]}).catch(()=>{})),s}function Zn(e,t){P("error","at common/cache.js:118",`cache ${e}`,t)}var ae={M_TEXT:1,M_VOICE:2,M_IMG:3,M_GIFT:5,M_NOTICE:6,M_CALL:8,M_RECOMMEND_USER:11,M_RECOMMEND_CLUB:12,M_VIDEO:4,M_GIFT_ASK:21,M_NOTICE_SYS:22,M_EXPRESSION:23,M_LETTER:24,M_PAID_PHOTO:25,M_PAID_VIDEO:26,M_MATCH_SUCCESS:27,M_AI_ISSUE_GUIDE:28,M_AI_ISSUE_QUESTION:29,M_SERVICE_RATING:30,M_N_DEF:100,M_N_AUDIT:103,M_N_VIP:104,M_N_RECHARGE:105,M_N_CLUB_AUDIT_REJECT:106,M_N_CLUB_AUDIT:107,M_N_GREETING_AUDIT:115,M_N_SYS_NOTICE:116,M_N_CALL:117,M_N_COOPERATE:118,M_N_WITHDRAW:119,M_N_REPORT_AUDIT:120,M_N_IMG:121,M_N_PRIVACY_CALL:122,M_N_WITHDRAW_NOTICE:123,M_N_WITH_MEDIA:124,M_N_REPORT_RESULT:144,M_N_COMPLAINT_NOTICE:145,M_N_MONITOR:202,M_C_RECHARGE:1001,M_C_CALL_TEXT_AUDIO:1002,SYSTEM_ID:1e7},Ae={M_CHAT_PRI:1,M_CHAT_CLUB:2,M_CHAT_ASS:3,M_CHAT_NOTICE:4,M_CHAT_NOTIFY:5,M_CHAT_CLUB_NOTICE:6};function jt(e,t=!0){return e.startsWith("http")?e:e.startsWith("file://")?t?e:e.replace("file://",""):e.startsWith("/storage/")||e.startsWith("/var/mobile/")?t?`file://${e}`:e:e.startsWith("_doc/uniapp")?t?e:plus.io.convertLocalFileSystemURL(e):e.indexOf("apps/__UNI")!=-1?e:!1}function Xn(e,t){return getApp().globalData.curChatId==e&&getApp().globalData.curChatType==t}function Ht(e,t,n){return new Promise(i=>{let a=e;a.startsWith("_doc")&&(a=plus.io.convertLocalFileSystemURL(a)),getApp().globalData.pluginImageBrowser.getVideoCover({url:a},o=>{bo(`getVideoCover ${o}`),i(o)})})}function bo(e,t){P("error","at comExtend/plugin-image-browser.js:90",`preview media ${e}`,t)}function Qn(e){return new Promise(t=>{getApp().globalData.pluginTool.permissionRequest({permission:e},n=>{t(n)})})}function yo(e){return getApp().globalData.pluginTool.permissionStatusSync({permission:e})}function Eo(e){return getApp().globalData.pluginTool.permissionOpenSetting({permission:e})}function So(){return getApp().globalData.pluginTool.locationAuthorizationStatusSync()}function Ao(){return new Promise(e=>{getApp().globalData.pluginTool.locationAuthorizationStatus({},t=>{e(t)})})}var k={ALBUM:1,CAMERA:2,VIDEO:3,MICROPHONE:4,NOTIFY:5,LOCATION:6,DRAW_OVERLAYS:7},R={GRANTED:1,DENIED:0,DENIED_ALWAYS:-1};function ei(e,t=!0,n=!0){return new Promise(i=>{let a=function(o){o==R.GRANTED?i(!0):(o==R.DENIED||o==R.DENIED_ALWAYS&&n&&To(e),i(!1))};if(F.isAndroid)if(e==k.NOTIFY)Io().then(a);else{let o=_t(e);Qn(o).then(a)}else Ro(e)(t).then(a)})}function Gt(e){return e==k.NOTIFY?F.isAndroid?nt(e):ti():e==k.MICROPHONE?F.isAndroid?nt(e):xo():e==k.LOCATION?F.isAndroid?nt(e):So():!0}function wo(e){F.isAndroid?Co(_t(e)):Do()}var Tt=!1;function To(e,t){Tt||(uni.showModal({title:h("tips"),content:Po(e),showCancel:!0,cancelText:h("cancel"),confirmText:h("toTurnOn"),complete(n){Tt=!1,n.confirm?(wo(e),typeof t=="function"&&t(!0)):n.cancel&&typeof t=="function"&&t(!1)}}),Tt=!0)}function nt(e){let t=_t(e);return yo(t)}function Co(e){if(b(e)){vo();return}Eo(e)}function vo(){var e=plus.android.importClass("android.content.Intent"),t=plus.android.importClass("android.provider.Settings"),n=plus.android.importClass("android.net.Uri"),i=plus.android.runtimeMainActivity(),a=new e;a.setAction(t.ACTION_APPLICATION_DETAILS_SETTINGS);var o=n.fromParts("package",i.getPackageName(),null);a.setData(o),i.startActivity(a)}function _t(e){switch(e){case k.LOCATION:return["android.permission.ACCESS_FINE_LOCATION","android.permission.ACCESS_COARSE_LOCATION"];case k.ALBUM:case k.VIDEO:let t=["android.permission.READ_MEDIA_IMAGES","android.permission.READ_MEDIA_VIDEO"];return getApp().globalData.sys.androidAPILevel>=tt.LEVEL_34&&t.push("android.permission.READ_MEDIA_VISUAL_USER_SELECTED"),t;case k.MICROPHONE:return getApp().globalData.sys.androidAPILevel<tt.LEVEL_29?["android.permission.READ_MEDIA_IMAGES","android.permission.READ_MEDIA_VIDEO","android.permission.RECORD_AUDIO"]:["android.permission.RECORD_AUDIO"];case k.CAMERA:return getApp().globalData.sys.androidAPILevel<tt.LEVEL_29?["android.permission.READ_MEDIA_IMAGES","android.permission.READ_MEDIA_VIDEO","android.permission.CAMERA"]:["android.permission.CAMERA"];case k.NOTIFY:return["android.permission.POST_NOTIFICATIONS"]}}function Io(){return new Promise(e=>{if(getApp().globalData.sys.androidAPILevel>=tt.LEVEL_33)Qn(_t(k.NOTIFY)).then(t=>{e(t)});else{let t=nt(k.NOTIFY);e(t?R.GRANTED:R.DENIED_ALWAYS)}})}function Do(){var e=plus.ios.import("UIApplication"),t=e.sharedApplication(),n=plus.ios.import("NSURL"),i=n.URLWithString("app-settings:");t.openURL(i),plus.ios.deleteObject(i),plus.ios.deleteObject(n),plus.ios.deleteObject(t)}function No(){return new Promise(e=>{Ao().then(t=>{e(t==1?R.GRANTED:R.DENIED_ALWAYS)})})}function Oo(e){return new Promise(t=>{let n=plus.ios.importClass("AVCaptureDevice"),i=n.authorizationStatusForMediaType("soun");i==3?(plus.ios.deleteObject(n),t(R.GRANTED)):i==0?plus.ios.invoke("AVCaptureDevice","requestAccessForMediaType:completionHandler:","soun",function(){if(e){let a=n.authorizationStatusForMediaType("soun");plus.ios.deleteObject(n),t(a==3?R.GRANTED:R.DENIED)}else plus.ios.deleteObject(n),t(R.DENIED)}):(plus.ios.deleteObject(n),t(R.DENIED_ALWAYS))})}function ko(e){return new Promise(t=>{let n=plus.ios.importClass("AVCaptureDevice"),i=n.authorizationStatusForMediaType("vide");i==3?(plus.ios.deleteObject(n),t(R.GRANTED)):i==0?plus.ios.invoke("AVCaptureDevice","requestAccessForMediaType:completionHandler:","vide",function(){if(e){let a=n.authorizationStatusForMediaType("vide");plus.ios.deleteObject(n),t(a==3?R.GRANTED:R.DENIED)}else plus.ios.deleteObject(n),t(R.DENIED)}):(plus.ios.deleteObject(n),t(R.DENIED_ALWAYS))})}function Lo(e){return new Promise(t=>{let n=plus.ios.import("PHPhotoLibrary"),i=n.authorizationStatus();i==3||i==4?(plus.ios.deleteObject(n),t(R.GRANTED)):i==0?plus.ios.invoke("PHPhotoLibrary","requestAuthorization:",function(){if(e){let a=n.authorizationStatus();plus.ios.deleteObject(n),t(a==3||a==4?R.GRANTED:R.DENIED)}else plus.ios.deleteObject(n),t(R.DENIED)}):(plus.ios.deleteObject(n),t(R.DENIED_ALWAYS))})}function Mo(){return new Promise(e=>{let t=plus.ios.invoke("UNUserNotificationCenter","currentNotificationCenter");plus.ios.invoke(t,"requestAuthorizationWithOptions:completionHandler:",7,function(n){plus.ios.deleteObject(t);let i=ti();e(i?R.GRANTED:R.DENIED_ALWAYS)})})}function xo(){let e=plus.ios.importClass("AVCaptureDevice"),t=e.authorizationStatusForMediaType("soun");return plus.ios.deleteObject(e),t==3}function ti(){var e=!1,t=plus.ios.import("UIApplication"),n=t.sharedApplication(),i=0;if(n.currentUserNotificationSettings){var a=n.currentUserNotificationSettings();i=a.plusGetAttribute("types"),e=i!=0,plus.ios.deleteObject(a)}else i=n.enabledRemoteNotificationTypes(),e=i!=0;return plus.ios.deleteObject(n),plus.ios.deleteObject(t),e}function Ro(e){switch(e){case k.LOCATION:return No;case k.ALBUM:case k.VIDEO:return Lo;case k.MICROPHONE:return Oo;case k.CAMERA:return ko;case k.NOTIFY:return Mo}}function Po(e){let t=getApp().globalData.appInfo;return e==k.LOCATION?h("openLocationPerTip",{appName:t.name}):e==k.ALBUM||e==k.VIDEO?h("openAlbumPerTip",{appName:t.name}):e==k.MICROPHONE?h("openMicrophonePerTip",{appName:t.name}):e==k.NOTIFY?h("msg.openNoticePerTips",{appName:t.name}):e==k.CAMERA?h("openCameraPerTip",{appName:t.name}):""}function ni(){return getApp().globalData.pluginMqtt.checkStatusSync()?Be.SUCCESS:Be.FAIL}function Fo(e){F.isAndroid||getApp().globalData.pluginMqtt.setAppBadgeNumber({badge:e})}function ii(e,t){getApp().globalData.s.commit("setPubValue",{name:e,value:t})}function ai(e,t){if(e==ft.MESSAGE){let n=Number(getApp().globalData.s.state.pubUnread);isNaN(n)&&(n=0),Fo(n)}t>0?uni.setTabBarBadge({index:e,text:t+""}):uni.removeTabBarBadge({index:e})}function Uo(e){return new Promise((t,n)=>{uni.downloadFile({url:e}).then(i=>!i||i.statusCode!=200||!i.tempFilePath?(n(),new Promise(()=>{})):uni.saveFile({tempFilePath:i.tempFilePath})).then(i=>{!i||!i.savedFilePath?n():t(i.savedFilePath)}).catch(i=>{P("error","at common/common.js:72","downloadFile error "+JSON.stringify(i))})})}function oi(e,t="md5"){return new Promise(n=>{uni.getFileInfo({filePath:e,digestAlgorithm:t,success(i){n(i)},fail(){n(null)}})})}function In(e,t){t?plus.runtime.openWeb(e):plus.runtime.openURL(e)}function ri(e,t,n,i=h("confirm")){ht(e,t,n,"",i,!1)}function $o(e){return["Si, desbloquear","Reenviar Completar"].indexOf(e)!=-1}function ht(e,t,n,i,a=h("confirm"),o=!0,r=h("cancel"),s=!1){let l=!1;if(!F.isAndroid&&(l=$o(a),l)){let c=a;a=r,r=c}uni.showModal({title:e,content:t,showCancel:o,cancelText:r,confirmText:a,editable:s,success(c){c.confirm?l?typeof i=="function"&&i():typeof n=="function"&&n(c):c.cancel&&(l?typeof n=="function"&&n(c):typeof i=="function"&&i())}})}function si(e,t="none",n="center"){uni.showToast({title:e,duration:2e3,icon:t,position:n})}function zt(e){return new Promise(t=>{plus.io.getVideoInfo({filePath:e,success(n){t(n)},fail(n){t(`getVideoInfo ${JSON.stringify(n)}`)}})})}function Yt(e,t){return new Promise((n,i)=>{uni.compressVideo({src:e,quality:t,success(a){P("log","at common/common.js:247","videoCompress res "+JSON.stringify(a)),n(a)},fail(a){P("log","at common/common.js:251","videoCompress error "+JSON.stringify(a)),i(`videoCompress ${JSON.stringify(a)}`)}})})}var Ct=0;function Wo(e){return Vo(Bo(jo(e)))}function Bo(e){return Go(zo(Ho(e),e.length*8))}function Vo(e){try{}catch(o){Ct=0}for(var t=Ct?"0123456789ABCDEF":"0123456789abcdef",n="",i,a=0;a<e.length;a++)i=e.charCodeAt(a),n+=t.charAt(i>>>4&15)+t.charAt(i&15);return n}function jo(e){for(var t="",n=-1,i,a;++n<e.length;)i=e.charCodeAt(n),a=n+1<e.length?e.charCodeAt(n+1):0,55296<=i&&i<=56319&&56320<=a&&a<=57343&&(i=65536+((i&1023)<<10)+(a&1023),n++),i<=127?t+=String.fromCharCode(i):i<=2047?t+=String.fromCharCode(192|i>>>6&31,128|i&63):i<=65535?t+=String.fromCharCode(224|i>>>12&15,128|i>>>6&63,128|i&63):i<=2097151&&(t+=String.fromCharCode(240|i>>>18&7,128|i>>>12&63,128|i>>>6&63,128|i&63));return t}function Ho(e){for(var t=Array(e.length>>2),n=0;n<t.length;n++)t[n]=0;for(var n=0;n<e.length*8;n+=8)t[n>>5]|=(e.charCodeAt(n/8)&255)<<n%32;return t}function Go(e){for(var t="",n=0;n<e.length*32;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t}function zo(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var n=1732584193,i=-271733879,a=-1732584194,o=271733878,r=0;r<e.length;r+=16){var s=n,l=i,c=a,f=o;n=G(n,i,a,o,e[r+0],7,-680876936),o=G(o,n,i,a,e[r+1],12,-389564586),a=G(a,o,n,i,e[r+2],17,606105819),i=G(i,a,o,n,e[r+3],22,-1044525330),n=G(n,i,a,o,e[r+4],7,-176418897),o=G(o,n,i,a,e[r+5],12,1200080426),a=G(a,o,n,i,e[r+6],17,-1473231341),i=G(i,a,o,n,e[r+7],22,-45705983),n=G(n,i,a,o,e[r+8],7,1770035416),o=G(o,n,i,a,e[r+9],12,-1958414417),a=G(a,o,n,i,e[r+10],17,-42063),i=G(i,a,o,n,e[r+11],22,-1990404162),n=G(n,i,a,o,e[r+12],7,1804603682),o=G(o,n,i,a,e[r+13],12,-40341101),a=G(a,o,n,i,e[r+14],17,-1502002290),i=G(i,a,o,n,e[r+15],22,1236535329),n=z(n,i,a,o,e[r+1],5,-165796510),o=z(o,n,i,a,e[r+6],9,-1069501632),a=z(a,o,n,i,e[r+11],14,643717713),i=z(i,a,o,n,e[r+0],20,-373897302),n=z(n,i,a,o,e[r+5],5,-701558691),o=z(o,n,i,a,e[r+10],9,38016083),a=z(a,o,n,i,e[r+15],14,-660478335),i=z(i,a,o,n,e[r+4],20,-405537848),n=z(n,i,a,o,e[r+9],5,568446438),o=z(o,n,i,a,e[r+14],9,-1019803690),a=z(a,o,n,i,e[r+3],14,-187363961),i=z(i,a,o,n,e[r+8],20,1163531501),n=z(n,i,a,o,e[r+13],5,-1444681467),o=z(o,n,i,a,e[r+2],9,-51403784),a=z(a,o,n,i,e[r+7],14,1735328473),i=z(i,a,o,n,e[r+12],20,-1926607734),n=Y(n,i,a,o,e[r+5],4,-378558),o=Y(o,n,i,a,e[r+8],11,-2022574463),a=Y(a,o,n,i,e[r+11],16,1839030562),i=Y(i,a,o,n,e[r+14],23,-35309556),n=Y(n,i,a,o,e[r+1],4,-1530992060),o=Y(o,n,i,a,e[r+4],11,1272893353),a=Y(a,o,n,i,e[r+7],16,-155497632),i=Y(i,a,o,n,e[r+10],23,-1094730640),n=Y(n,i,a,o,e[r+13],4,681279174),o=Y(o,n,i,a,e[r+0],11,-358537222),a=Y(a,o,n,i,e[r+3],16,-722521979),i=Y(i,a,o,n,e[r+6],23,76029189),n=Y(n,i,a,o,e[r+9],4,-640364487),o=Y(o,n,i,a,e[r+12],11,-421815835),a=Y(a,o,n,i,e[r+15],16,530742520),i=Y(i,a,o,n,e[r+2],23,-995338651),n=J(n,i,a,o,e[r+0],6,-198630844),o=J(o,n,i,a,e[r+7],10,1126891415),a=J(a,o,n,i,e[r+14],15,-1416354905),i=J(i,a,o,n,e[r+5],21,-57434055),n=J(n,i,a,o,e[r+12],6,1700485571),o=J(o,n,i,a,e[r+3],10,-1894986606),a=J(a,o,n,i,e[r+10],15,-1051523),i=J(i,a,o,n,e[r+1],21,-2054922799),n=J(n,i,a,o,e[r+8],6,1873313359),o=J(o,n,i,a,e[r+15],10,-30611744),a=J(a,o,n,i,e[r+6],15,-1560198380),i=J(i,a,o,n,e[r+13],21,1309151649),n=J(n,i,a,o,e[r+4],6,-145523070),o=J(o,n,i,a,e[r+11],10,-1120210379),a=J(a,o,n,i,e[r+2],15,718787259),i=J(i,a,o,n,e[r+9],21,-343485551),n=Ee(n,s),i=Ee(i,l),a=Ee(a,c),o=Ee(o,f)}return Array(n,i,a,o)}function bt(e,t,n,i,a,o){return Ee(Yo(Ee(Ee(t,e),Ee(i,o)),a),n)}function G(e,t,n,i,a,o,r){return bt(t&n|~t&i,e,t,a,o,r)}function z(e,t,n,i,a,o,r){return bt(t&i|n&~i,e,t,a,o,r)}function Y(e,t,n,i,a,o,r){return bt(t^n^i,e,t,a,o,r)}function J(e,t,n,i,a,o,r){return bt(n^(t|~i),e,t,a,o,r)}function Ee(e,t){var n=(e&65535)+(t&65535),i=(e>>16)+(t>>16)+(n>>16);return i<<16|n&65535}function Yo(e,t){return e<<t|e>>>32-t}var xt={md5:function(e){return Wo(e)}};function Jo(e,t){let n=getApp().globalData.s.state.AES.encrypt(t,e);return`${getApp().globalData.apiUaPrefix}${n}`}function Dn(e){return xt.md5(`${getApp().globalData.channel}${e}${getApp().globalData.apiEncValue}`).substring(0,16)}var U={setToken(e){b(e)||ii("pubToken",e)},isLogin(){let e=getApp().globalData.s.state;return!b(e.pubToken)&&e.pubUser.uid},isNoCompletedInfo(){let e=getApp().globalData.s.state;return!b(e.pubToken)&&e.pubUser.uid&&e.userStep==1},requestSign(e,t,n,i,a=!1){let o=getApp().globalData.desCodeStatus?b(getApp().globalData.desCodeVal)?0:1:0;return U.request(e,t,n,i,a,1,o)},request(e,t,n,i,a=!1){return new Promise((o,r)=>{var s,l,c;let f=!1;if(n)if(n=="refresh")f=!0;else{let v={mask:!0};typeof n=="string"&&(v.title=n),uni.showLoading(v)}let _=!1;try{_=getApp().globalData.s.state.pubToken}catch(v){P("error","at common/api.js:44","request token catch "+JSON.stringify(v))}b((s=getApp().globalData)==null?void 0:s.ua)&&(vt(7,(l=getApp().globalData)==null?void 0:l.ua,typeof((c=getApp().globalData)==null?void 0:c.ua),t,e,_),getApp().initUaInfo());let S=getApp().globalData.ua,I,A=tr(t),D={"content-type":"application/json"},y=getApp().globalData.apiHost,C;_&&getApp().globalData.uid!==0?(D.Authorization=`Bearer ${_}`,C=Dn(getApp().globalData.uid)):C=Dn(0),D.ua=Jo(S,C),I=getApp().globalData.s.state.AES.encrypt(C,JSON.stringify(A)),uni.request({url:y+e,method:"POST",header:D,data:I,dataType:"json",timeout:1e4,complete(v){if(n&&uni.hideLoading(),P("log","at common/api.js:78",`API - ${e} \xB7\xB7\xB7\xB7\xB7 ${JSON.stringify(t)} statusCode=${v==null?void 0:v.statusCode}`),v.header&&v.header["x-report-log"]&&vt(v.header["x-report-log"],D.ua,S,I,e,_),v.statusCode==200){let L=v.data,m=getApp().globalData.s.state.AES.decrypt(C,L);if(m=he(m),!m){i&&r(m),vt(1,D.ua,S,I,e,_);return}if(m.data&&typeof m.data.callback=="object"&&(U.handleCallback(m.data.callback),a))return ve;if(m.ok===99)return getApp().loginOut(),ve;if(m.ok==-98)return er(m.data),i&&r(m),ve;if(b(m.msg)||si(m.msg),m.ok>0){o(m);return}i&&r(m)}else{if(v.statusCode==401)return getApp().loginOut(),ve;if(f&&uni.stopPullDownRefresh(),i)r(v);else return ve}},fail(v){}})})},handleCallback(e){switch(e.func_name){case"alert":Ko(e.func_data);break;case"open":qo(e.func_data);break;case"vip_alert":De("/pages/vip/vip-dialog",null,"vipDialogData",e.func_data);break;case"recharge_alert":let t={actionType:e.func_data.action_type,diffCoin:e.func_data.diff_coin||0};t.order_source=typeof e.func_data.order_source=="undefined"?0:e.func_data.order_source,t.click_type=typeof e.func_data.click_type=="undefined"?0:e.func_data.click_type,De("/pages/coin/coin-dialog",t,"coinDialogData",e.func_data);break;case"close":ho();break;case"banned_alert":let n=e.func_data.exp_time;if(parseInt(new Date().getTime()/1e3)>n)return;break;case"reconnect_mqtt":getApp().socketReconnect(He.API_CALL_BACK,e.func_data);break;case"reload_route":getApp().handleSecret(e.func_data,$t.CALLBACK,{});break;case"event":Zo(e.func_data);break;case"api":Xo(e.func_data);break;case"sensitive_alert":De("/pagesDialog/sensitive-check",null,"sensitiveData",e.func_data),uni.hideKeyboard();break;case"free_coins":De("/pagesDialog/coins-free",{coin:e.func_data.free_coins},"coinsFree",{},{});break}},accessLog(e,t){this.request("/other/access-log",{api_name:e,content:We(t)})},accessLogExtra(e,t,n){let i=`${We(t)} ${We(n)}`;this.request("/other/access-log",{api_name:e,content:i})},accessLogApi(e,t,n,i){let a=`url:${t} p:${JSON.stringify(n)} res ${We(i)}`;U.accessLog(e,a)}};function Ko(e){let t=e.enter_func,n=e.cancel_title,i=e.enter_title,a=e.cancel_func,o=!b(n);uni.hideKeyboard(),uni.showModal({title:e.title,content:e.msg,showCancel:o,cancelText:o?n:h("cancel"),confirmText:i||h("ok"),complete(r){r.confirm?b(t)||U.handleCallback(t):r.cancel&&(b(a)||U.handleCallback(a))}})}function qo(e){let t=e.page_name,n=e.data;t=="inside_web"?In(n.route,!0):t=="safari"?In(n.route,!1):t=="web"?pt(n.route):t=="native"&&Qo(n.route)}function Zo(e){let t=e.event_key;if(b(t))return;let n=e.data;b(n)?uni.$emit(t):uni.$emit(t,n)}function Xo(e){if(e.type==1){let n={user_info:{is_rest:0}};U.request("/user/update-info",n,!0).then(()=>{getApp().pubUser.is_rest=0,ri(h("tips"),h("anchorTurnedOffRest"),"",h("gotIt"))})}}function Qo(e){return new Function("return "+e)()}function er(e){Bt().indexOf("/pagesDialog/stop_taking")==-1&&(getApp().globalData.appStopTaking=!0,getApp().socketDisconnect(),De("/pagesDialog/stop_taking",{},"stopTakingData",e))}function tr(e){try{b(e)&&(e={}),e.times=new Date().getTime();let t=Object.keys(e).sort(),n={};for(let a=0,o=t.length;a<o;a++)n[t[a]]=e[t[a]];let i=li(n).substr(1);return n.sign=xt.md5(`${xt.md5(i)}${getApp().globalData.apiSignValue}`),n}catch(t){return e}}function li(e,t){if(e==null||typeof e=="number"&&isNaN(e))return"";try{let n="",i=typeof e;if(i=="string"||i=="number")n+="&"+t+"="+_o(e);else if(i=="boolean")n+="&"+t+"="+(e?1:0);else for(let a in e){let o=t==null?a:t+nr(a);n+=li(e[a],o)}return n}catch(n){return""}}function nr(e){return`${encodeURIComponent("[")}${e}${encodeURIComponent("]")}`}function vt(e,t,n,i,a,o){let r={type:e,ua:t,origin_ua:n,params:i,api:a,token:o},s=!1;try{s=getApp().globalData.s.state.pubToken}catch(c){P("error","at common/api.js:314","request token catch "+JSON.stringify(c))}let l={"content-type":"application/json",ua:getApp().globalData.ua};s&&(l.Authorization=`Bearer ${s}`),P("error","at common/api.js:322","-----> api sign enc fail ",r),uni.request({url:`${getApp().globalData.apiHost}/log/report`,method:"POST",header:l,data:r,dataType:"json",timeout:1e4})}function h(...e){return getApp().globalData.s.state.pubI18n(...e)}var x=(e,t)=>{let n=e.__vccOpts||e;for(let[i,a]of t)n[i]=a;return n};var W=H(j()),ir={"l-img":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"place-img":{"":{position:"absolute",top:0,left:0}},"text-place":{"":{color:"#999999",position:"absolute",bottom:0,textAlign:"center"}}},ar={name:"LImg",emits:["click","onError","onLoad"],props:{src:{type:String,default:""},mode:{type:String,default:"aspectFill"},w:{type:String,default:"0"},h:{type:String,default:"0"},radius:{type:String,default:"0"},lazyLoad:{type:Boolean,default:!1},fade:{type:Boolean,default:!0},placeType:{type:[String,Number],default:0},placeW:{type:String,default:""},placeFontSize:{type:[String,Boolean],default:""},placeBottom:{type:String,default:""},border:{type:String,default:""},otherStyle:{type:Object,default(){return{}}},click:{type:Boolean,default:!0},isGif:{type:Boolean,default:!1},needStyle:{type:[String,Number],default:0},useCache:{type:Boolean,default:!1},fitWH:{type:String,default:""},isStatic:{type:Number,default:0},lImgStyle:{type:Object,default(){return{}}}},data(){return{errorCount:1,path:"",refresh:!0,darkDir:"",isLoad:!1,fitStr:""}},watch:{src(){this.isLoad=!1,this.path=this.parse()}},computed:{placeSrc(){return this.placeType==1||this.placeType==2?"/static/img_load_cupid.png":""},placeViewStyle(){let e={width:this.placeW,height:this.placeW,position:"relative"};return this.placeBottom&&(e.marginBottom=this.placeBottom),e},placeFontSizeVal(){return this.placeFontSize===!1?"":this.placeFontSize?this.placeFontSize:this.placeType==2?"24rpx":"16rpx"},borderStyle(){if(this.border=="")return{};let e={},t=this.border.split(" ");return e.borderWidth=t[0],e.borderStyle=t[1],e.borderColor=t[2],e},viewStyle(){let e={width:this.w,minWidth:this.w,height:this.h,minHeight:this.h};return this.setRadius(e)},imgStyle(){let e={width:this.w,height:this.h};return e=Object.assign(e,this.otherStyle),this.setRadius(e)},ossPathOriginal(){return this.isGif?getApp().globalData.ossPath:getApp().globalData.ossPicPath}},methods:{$str:h,clickImg(e){this.click&&this.$emit("click",e)},setRadius(e){let t=this.radius.split(" ");return t.length<=1?e.borderRadius=this.radius:(e.borderTopLeftRadius=t[0],e.borderTopRightRadius=t[1],e.borderBottomRightRadius=t[2],e.borderBottomLeftRadius=t[3]),e},onLoadError(){if(this.path){if(this.path.startsWith("http")){if(this.errorCount>2){this.isError=!0,this.$emit("onError");return}this.errorCount+=1,this.refresh=!1,setTimeout(()=>{this.refresh=!0},500);return}this.path=this.ossPathOriginal+this.darkDir+this.src,Kn(this.darkDir+this.src)}},onLoad(){this.isLoad=!0,this.$emit("onLoad")},parseSrcUrl(){return this.fitStr+this.darkDir+this.src},parse(){var e;if(this.isStatic)return this.src;let t;if(t=0,this.src.startsWith("/static"))return this.src;if((e=this.src)!=null&&e.startsWith("co/")){let n=this.src.slice(3),i=getApp().getFilePath(n);if(!b(i))return jt(i)}return this.useCache||t&&F.isAndroid?this.isGif?Jn(this.parseSrcUrl()):Yn(this.parseSrcUrl()):this.src.startsWith("file://")?this.src:this.src.startsWith("/var/mobile/")?"file://"+this.src:this.src.startsWith("/storage/")?this.src:this.ossPathOriginal+this.parseSrcUrl()}},created(){this.darkDir="",this.fitWH&&this.src.indexOf("fit-in")==-1&&(this.fitStr="fit-in/"+this.fitWH+"/"),this.path=this.parse()}};function or(e,t,n,i,a,o){return(0,W.openBlock)(),(0,W.createElementBlock)("view",{class:"l-img",onClick:t[2]||(t[2]=(...r)=>o.clickImg&&o.clickImg(...r)),style:(0,W.normalizeStyle)([o.viewStyle,o.borderStyle,n.lImgStyle]),renderWhole:!0},[(0,W.createElementVNode)("view",{class:"l-img",style:(0,W.normalizeStyle)([{position:"relative"},o.viewStyle])},[n.placeType&&!a.isLoad?((0,W.openBlock)(),(0,W.createElementBlock)("view",{key:0,style:(0,W.normalizeStyle)(o.placeViewStyle)},[(0,W.createElementVNode)("u-image",{src:o.placeSrc,style:(0,W.normalizeStyle)({width:n.placeW,height:n.placeW})},null,12,["src"])],4)):(0,W.createCommentVNode)("",!0),a.refresh?((0,W.openBlock)(),(0,W.createElementBlock)("u-image",{key:1,onError:t[0]||(t[0]=(...r)=>o.onLoadError&&o.onLoadError(...r)),onLoad:t[1]||(t[1]=(...r)=>o.onLoad&&o.onLoad(...r)),src:a.path,mode:n.mode,lazyLoad:n.lazyLoad,fadeShow:n.fade,style:(0,W.normalizeStyle)([o.imgStyle,o.borderStyle]),class:"place-img"},null,44,["src","mode","lazyLoad","fadeShow"])):(0,W.createCommentVNode)("",!0)],4)],4)}var ge=x(ar,[["render",or],["styles",[ir]]]);var u=H(j());var q=H(j());var rr={"uni-badge--x":{"":{position:"relative"}},"uni-badge--absolute":{"":{position:"absolute"}},"uni-badge--small":{"":{transform:"scale(0.8)",transformOrigin:"center center"}},"uni-badge":{"":{justifyContent:"center",flexDirection:"row",height:20,lineHeight:18,color:"#ffffff",borderRadius:100,borderWidth:1,borderStyle:"solid",borderColor:"rgba(0,0,0,0)",backgroundColor:"rgba(0,0,0,0)",textAlign:"center",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSize:12},".with-border":{borderWidth:1,borderStyle:"solid",borderColor:"#ffffff"}},"uni-badge--info":{"":{color:"#ffffff",backgroundColor:"#909399"}},"uni-badge--primary":{"":{backgroundColor:"#2979ff"}},"uni-badge--success":{"":{backgroundColor:"#4cd964"}},"uni-badge--warning":{"":{backgroundColor:"#f0ad4e"}},"uni-badge--error":{"":{backgroundColor:"#dd524d"}},"uni-badge--inverted":{"":{paddingTop:0,paddingRight:5,paddingBottom:0,paddingLeft:0,color:"#909399"}},"uni-badge--info-inverted":{"":{color:"#909399",backgroundColor:"rgba(0,0,0,0)"}},"uni-badge--primary-inverted":{"":{color:"#2979ff",backgroundColor:"rgba(0,0,0,0)"}},"uni-badge--success-inverted":{"":{color:"#4cd964",backgroundColor:"rgba(0,0,0,0)"}},"uni-badge--warning-inverted":{"":{color:"#f0ad4e",backgroundColor:"rgba(0,0,0,0)"}},"uni-badge--error-inverted":{"":{color:"#dd524d",backgroundColor:"rgba(0,0,0,0)"}}},sr={name:"UniBadge",emits:["click"],props:{type:{type:String,default:"error"},inverted:{type:Boolean,default:!1},isDot:{type:Boolean,default:!1},maxNum:{type:Number,default:99},absolute:{type:String,default:""},offset:{type:Array,default(){return[0,0]}},text:{type:[String,Number],default:""},size:{type:String,default:"small"},customStyle:{type:Object,default(){return{}}},widthBorder:{type:Boolean,default:!1}},data(){return{}},computed:{width(){return String(this.text).length*8+12},classNames(){let{inverted:e,type:t,size:n,absolute:i}=this;return[e?"uni-badge--"+t+"-inverted":"","uni-badge--"+t,"uni-badge--"+n,i?"uni-badge--absolute":""].join(" ")},positionStyle(){if(!this.absolute)return{};let e=this.width/2,t=10;this.isDot&&(e=5,t=5);let n=`${-e+this.offset[0]}px`,i=`${-t+this.offset[1]}px`,a={rightTop:{right:n,top:i},rightBottom:{right:n,bottom:i},leftBottom:{left:n,bottom:i},leftTop:{left:n,top:i}},o=a[this.absolute];return o||a.rightTop},badgeWidth(){return{width:`${this.width}px`}},dotStyle(){return this.isDot?{width:"10px",height:"10px",borderRadius:"10px"}:{}},displayValue(){let{isDot:e,text:t,maxNum:n}=this;return e?"":Number(t)>n?`${n}+`:t}},methods:{onClick(){this.$emit("click")}}};function lr(e,t,n,i,a,o){return(0,q.openBlock)(),(0,q.createElementBlock)("view",{class:"uni-badge--x",renderWhole:!0},[(0,q.renderSlot)(e.$slots,"default"),n.text?((0,q.openBlock)(),(0,q.createElementBlock)("u-text",{key:0,class:(0,q.normalizeClass)([[o.classNames,n.widthBorder?"with-border":""],"uni-badge"]),style:(0,q.normalizeStyle)([o.badgeWidth,o.positionStyle,n.customStyle,o.dotStyle]),onClick:t[0]||(t[0]=r=>o.onClick())},(0,q.toDisplayString)(o.displayValue),7)):(0,q.createCommentVNode)("",!0)])}var Jt=x(sr,[["render",lr],["styles",[rr]]]);var we=H(j());var cr={id:"2852637",name:"uniui\u56FE\u6807\u5E93",font_family:"uniicons",css_prefix_text:"uniui-",description:"",glyphs:[{icon_id:"25027049",name:"yanse",font_class:"color",unicode:"e6cf",unicode_decimal:59087},{icon_id:"25027048",name:"wallet",font_class:"wallet",unicode:"e6b1",unicode_decimal:59057},{icon_id:"25015720",name:"settings-filled",font_class:"settings-filled",unicode:"e6ce",unicode_decimal:59086},{icon_id:"25015434",name:"shimingrenzheng-filled",font_class:"auth-filled",unicode:"e6cc",unicode_decimal:59084},{icon_id:"24934246",name:"shop-filled",font_class:"shop-filled",unicode:"e6cd",unicode_decimal:59085},{icon_id:"24934159",name:"staff-filled-01",font_class:"staff-filled",unicode:"e6cb",unicode_decimal:59083},{icon_id:"24932461",name:"VIP-filled",font_class:"vip-filled",unicode:"e6c6",unicode_decimal:59078},{icon_id:"24932462",name:"plus_circle_fill",font_class:"plus-filled",unicode:"e6c7",unicode_decimal:59079},{icon_id:"24932463",name:"folder_add-filled",font_class:"folder-add-filled",unicode:"e6c8",unicode_decimal:59080},{icon_id:"24932464",name:"yanse-filled",font_class:"color-filled",unicode:"e6c9",unicode_decimal:59081},{icon_id:"24932465",name:"tune-filled",font_class:"tune-filled",unicode:"e6ca",unicode_decimal:59082},{icon_id:"24932455",name:"a-rilidaka-filled",font_class:"calendar-filled",unicode:"e6c0",unicode_decimal:59072},{icon_id:"24932456",name:"notification-filled",font_class:"notification-filled",unicode:"e6c1",unicode_decimal:59073},{icon_id:"24932457",name:"wallet-filled",font_class:"wallet-filled",unicode:"e6c2",unicode_decimal:59074},{icon_id:"24932458",name:"paihangbang-filled",font_class:"medal-filled",unicode:"e6c3",unicode_decimal:59075},{icon_id:"24932459",name:"gift-filled",font_class:"gift-filled",unicode:"e6c4",unicode_decimal:59076},{icon_id:"24932460",name:"fire-filled",font_class:"fire-filled",unicode:"e6c5",unicode_decimal:59077},{icon_id:"24928001",name:"refreshempty",font_class:"refreshempty",unicode:"e6bf",unicode_decimal:59071},{icon_id:"24926853",name:"location-ellipse",font_class:"location-filled",unicode:"e6af",unicode_decimal:59055},{icon_id:"24926735",name:"person-filled",font_class:"person-filled",unicode:"e69d",unicode_decimal:59037},{icon_id:"24926703",name:"personadd-filled",font_class:"personadd-filled",unicode:"e698",unicode_decimal:59032},{icon_id:"24923351",name:"back",font_class:"back",unicode:"e6b9",unicode_decimal:59065},{icon_id:"24923352",name:"forward",font_class:"forward",unicode:"e6ba",unicode_decimal:59066},{icon_id:"24923353",name:"arrowthinright",font_class:"arrow-right",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923353",name:"arrowthinright",font_class:"arrowthinright",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrow-left",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrowthinleft",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923355",name:"arrowthinup",font_class:"arrow-up",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923355",name:"arrowthinup",font_class:"arrowthinup",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923356",name:"arrowthindown",font_class:"arrow-down",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923356",name:"arrowthindown",font_class:"arrowthindown",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923349",name:"arrowdown",font_class:"bottom",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923349",name:"arrowdown",font_class:"arrowdown",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923346",name:"arrowright",font_class:"right",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923346",name:"arrowright",font_class:"arrowright",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923347",name:"arrowup",font_class:"top",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923347",name:"arrowup",font_class:"arrowup",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923348",name:"arrowleft",font_class:"left",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923348",name:"arrowleft",font_class:"arrowleft",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923334",name:"eye",font_class:"eye",unicode:"e651",unicode_decimal:58961},{icon_id:"24923335",name:"eye-filled",font_class:"eye-filled",unicode:"e66a",unicode_decimal:58986},{icon_id:"24923336",name:"eye-slash",font_class:"eye-slash",unicode:"e6b3",unicode_decimal:59059},{icon_id:"24923337",name:"eye-slash-filled",font_class:"eye-slash-filled",unicode:"e6b4",unicode_decimal:59060},{icon_id:"24923305",name:"info-filled",font_class:"info-filled",unicode:"e649",unicode_decimal:58953},{icon_id:"24923299",name:"reload-01",font_class:"reload",unicode:"e6b2",unicode_decimal:59058},{icon_id:"24923195",name:"mic_slash_fill",font_class:"micoff-filled",unicode:"e6b0",unicode_decimal:59056},{icon_id:"24923165",name:"map-pin-ellipse",font_class:"map-pin-ellipse",unicode:"e6ac",unicode_decimal:59052},{icon_id:"24923166",name:"map-pin",font_class:"map-pin",unicode:"e6ad",unicode_decimal:59053},{icon_id:"24923167",name:"location",font_class:"location",unicode:"e6ae",unicode_decimal:59054},{icon_id:"24923064",name:"starhalf",font_class:"starhalf",unicode:"e683",unicode_decimal:59011},{icon_id:"24923065",name:"star",font_class:"star",unicode:"e688",unicode_decimal:59016},{icon_id:"24923066",name:"star-filled",font_class:"star-filled",unicode:"e68f",unicode_decimal:59023},{icon_id:"24899646",name:"a-rilidaka",font_class:"calendar",unicode:"e6a0",unicode_decimal:59040},{icon_id:"24899647",name:"fire",font_class:"fire",unicode:"e6a1",unicode_decimal:59041},{icon_id:"24899648",name:"paihangbang",font_class:"medal",unicode:"e6a2",unicode_decimal:59042},{icon_id:"24899649",name:"font",font_class:"font",unicode:"e6a3",unicode_decimal:59043},{icon_id:"24899650",name:"gift",font_class:"gift",unicode:"e6a4",unicode_decimal:59044},{icon_id:"24899651",name:"link",font_class:"link",unicode:"e6a5",unicode_decimal:59045},{icon_id:"24899652",name:"notification",font_class:"notification",unicode:"e6a6",unicode_decimal:59046},{icon_id:"24899653",name:"staff",font_class:"staff",unicode:"e6a7",unicode_decimal:59047},{icon_id:"24899654",name:"VIP",font_class:"vip",unicode:"e6a8",unicode_decimal:59048},{icon_id:"24899655",name:"folder_add",font_class:"folder-add",unicode:"e6a9",unicode_decimal:59049},{icon_id:"24899656",name:"tune",font_class:"tune",unicode:"e6aa",unicode_decimal:59050},{icon_id:"24899657",name:"shimingrenzheng",font_class:"auth",unicode:"e6ab",unicode_decimal:59051},{icon_id:"24899565",name:"person",font_class:"person",unicode:"e699",unicode_decimal:59033},{icon_id:"24899566",name:"email-filled",font_class:"email-filled",unicode:"e69a",unicode_decimal:59034},{icon_id:"24899567",name:"phone-filled",font_class:"phone-filled",unicode:"e69b",unicode_decimal:59035},{icon_id:"24899568",name:"phone",font_class:"phone",unicode:"e69c",unicode_decimal:59036},{icon_id:"24899570",name:"email",font_class:"email",unicode:"e69e",unicode_decimal:59038},{icon_id:"24899571",name:"personadd",font_class:"personadd",unicode:"e69f",unicode_decimal:59039},{icon_id:"24899558",name:"chatboxes-filled",font_class:"chatboxes-filled",unicode:"e692",unicode_decimal:59026},{icon_id:"24899559",name:"contact",font_class:"contact",unicode:"e693",unicode_decimal:59027},{icon_id:"24899560",name:"chatbubble-filled",font_class:"chatbubble-filled",unicode:"e694",unicode_decimal:59028},{icon_id:"24899561",name:"contact-filled",font_class:"contact-filled",unicode:"e695",unicode_decimal:59029},{icon_id:"24899562",name:"chatboxes",font_class:"chatboxes",unicode:"e696",unicode_decimal:59030},{icon_id:"24899563",name:"chatbubble",font_class:"chatbubble",unicode:"e697",unicode_decimal:59031},{icon_id:"24881290",name:"upload-filled",font_class:"upload-filled",unicode:"e68e",unicode_decimal:59022},{icon_id:"24881292",name:"upload",font_class:"upload",unicode:"e690",unicode_decimal:59024},{icon_id:"24881293",name:"weixin",font_class:"weixin",unicode:"e691",unicode_decimal:59025},{icon_id:"24881274",name:"compose",font_class:"compose",unicode:"e67f",unicode_decimal:59007},{icon_id:"24881275",name:"qq",font_class:"qq",unicode:"e680",unicode_decimal:59008},{icon_id:"24881276",name:"download-filled",font_class:"download-filled",unicode:"e681",unicode_decimal:59009},{icon_id:"24881277",name:"pengyouquan",font_class:"pyq",unicode:"e682",unicode_decimal:59010},{icon_id:"24881279",name:"sound",font_class:"sound",unicode:"e684",unicode_decimal:59012},{icon_id:"24881280",name:"trash-filled",font_class:"trash-filled",unicode:"e685",unicode_decimal:59013},{icon_id:"24881281",name:"sound-filled",font_class:"sound-filled",unicode:"e686",unicode_decimal:59014},{icon_id:"24881282",name:"trash",font_class:"trash",unicode:"e687",unicode_decimal:59015},{icon_id:"24881284",name:"videocam-filled",font_class:"videocam-filled",unicode:"e689",unicode_decimal:59017},{icon_id:"24881285",name:"spinner-cycle",font_class:"spinner-cycle",unicode:"e68a",unicode_decimal:59018},{icon_id:"24881286",name:"weibo",font_class:"weibo",unicode:"e68b",unicode_decimal:59019},{icon_id:"24881288",name:"videocam",font_class:"videocam",unicode:"e68c",unicode_decimal:59020},{icon_id:"24881289",name:"download",font_class:"download",unicode:"e68d",unicode_decimal:59021},{icon_id:"24879601",name:"help",font_class:"help",unicode:"e679",unicode_decimal:59001},{icon_id:"24879602",name:"navigate-filled",font_class:"navigate-filled",unicode:"e67a",unicode_decimal:59002},{icon_id:"24879603",name:"plusempty",font_class:"plusempty",unicode:"e67b",unicode_decimal:59003},{icon_id:"24879604",name:"smallcircle",font_class:"smallcircle",unicode:"e67c",unicode_decimal:59004},{icon_id:"24879605",name:"minus-filled",font_class:"minus-filled",unicode:"e67d",unicode_decimal:59005},{icon_id:"24879606",name:"micoff",font_class:"micoff",unicode:"e67e",unicode_decimal:59006},{icon_id:"24879588",name:"closeempty",font_class:"closeempty",unicode:"e66c",unicode_decimal:58988},{icon_id:"24879589",name:"clear",font_class:"clear",unicode:"e66d",unicode_decimal:58989},{icon_id:"24879590",name:"navigate",font_class:"navigate",unicode:"e66e",unicode_decimal:58990},{icon_id:"24879591",name:"minus",font_class:"minus",unicode:"e66f",unicode_decimal:58991},{icon_id:"24879592",name:"image",font_class:"image",unicode:"e670",unicode_decimal:58992},{icon_id:"24879593",name:"mic",font_class:"mic",unicode:"e671",unicode_decimal:58993},{icon_id:"24879594",name:"paperplane",font_class:"paperplane",unicode:"e672",unicode_decimal:58994},{icon_id:"24879595",name:"close",font_class:"close",unicode:"e673",unicode_decimal:58995},{icon_id:"24879596",name:"help-filled",font_class:"help-filled",unicode:"e674",unicode_decimal:58996},{icon_id:"24879597",name:"plus-filled",font_class:"paperplane-filled",unicode:"e675",unicode_decimal:58997},{icon_id:"24879598",name:"plus",font_class:"plus",unicode:"e676",unicode_decimal:58998},{icon_id:"24879599",name:"mic-filled",font_class:"mic-filled",unicode:"e677",unicode_decimal:58999},{icon_id:"24879600",name:"image-filled",font_class:"image-filled",unicode:"e678",unicode_decimal:59e3},{icon_id:"24855900",name:"locked-filled",font_class:"locked-filled",unicode:"e668",unicode_decimal:58984},{icon_id:"24855901",name:"info",font_class:"info",unicode:"e669",unicode_decimal:58985},{icon_id:"24855903",name:"locked",font_class:"locked",unicode:"e66b",unicode_decimal:58987},{icon_id:"24855884",name:"camera-filled",font_class:"camera-filled",unicode:"e658",unicode_decimal:58968},{icon_id:"24855885",name:"chat-filled",font_class:"chat-filled",unicode:"e659",unicode_decimal:58969},{icon_id:"24855886",name:"camera",font_class:"camera",unicode:"e65a",unicode_decimal:58970},{icon_id:"24855887",name:"circle",font_class:"circle",unicode:"e65b",unicode_decimal:58971},{icon_id:"24855888",name:"checkmarkempty",font_class:"checkmarkempty",unicode:"e65c",unicode_decimal:58972},{icon_id:"24855889",name:"chat",font_class:"chat",unicode:"e65d",unicode_decimal:58973},{icon_id:"24855890",name:"circle-filled",font_class:"circle-filled",unicode:"e65e",unicode_decimal:58974},{icon_id:"24855891",name:"flag",font_class:"flag",unicode:"e65f",unicode_decimal:58975},{icon_id:"24855892",name:"flag-filled",font_class:"flag-filled",unicode:"e660",unicode_decimal:58976},{icon_id:"24855893",name:"gear-filled",font_class:"gear-filled",unicode:"e661",unicode_decimal:58977},{icon_id:"24855894",name:"home",font_class:"home",unicode:"e662",unicode_decimal:58978},{icon_id:"24855895",name:"home-filled",font_class:"home-filled",unicode:"e663",unicode_decimal:58979},{icon_id:"24855896",name:"gear",font_class:"gear",unicode:"e664",unicode_decimal:58980},{icon_id:"24855897",name:"smallcircle-filled",font_class:"smallcircle-filled",unicode:"e665",unicode_decimal:58981},{icon_id:"24855898",name:"map-filled",font_class:"map-filled",unicode:"e666",unicode_decimal:58982},{icon_id:"24855899",name:"map",font_class:"map",unicode:"e667",unicode_decimal:58983},{icon_id:"24855825",name:"refresh-filled",font_class:"refresh-filled",unicode:"e656",unicode_decimal:58966},{icon_id:"24855826",name:"refresh",font_class:"refresh",unicode:"e657",unicode_decimal:58967},{icon_id:"24855808",name:"cloud-upload",font_class:"cloud-upload",unicode:"e645",unicode_decimal:58949},{icon_id:"24855809",name:"cloud-download-filled",font_class:"cloud-download-filled",unicode:"e646",unicode_decimal:58950},{icon_id:"24855810",name:"cloud-download",font_class:"cloud-download",unicode:"e647",unicode_decimal:58951},{icon_id:"24855811",name:"cloud-upload-filled",font_class:"cloud-upload-filled",unicode:"e648",unicode_decimal:58952},{icon_id:"24855813",name:"redo",font_class:"redo",unicode:"e64a",unicode_decimal:58954},{icon_id:"24855814",name:"images-filled",font_class:"images-filled",unicode:"e64b",unicode_decimal:58955},{icon_id:"24855815",name:"undo-filled",font_class:"undo-filled",unicode:"e64c",unicode_decimal:58956},{icon_id:"24855816",name:"more",font_class:"more",unicode:"e64d",unicode_decimal:58957},{icon_id:"24855817",name:"more-filled",font_class:"more-filled",unicode:"e64e",unicode_decimal:58958},{icon_id:"24855818",name:"undo",font_class:"undo",unicode:"e64f",unicode_decimal:58959},{icon_id:"24855819",name:"images",font_class:"images",unicode:"e650",unicode_decimal:58960},{icon_id:"24855821",name:"paperclip",font_class:"paperclip",unicode:"e652",unicode_decimal:58962},{icon_id:"24855822",name:"settings",font_class:"settings",unicode:"e653",unicode_decimal:58963},{icon_id:"24855823",name:"search",font_class:"search",unicode:"e654",unicode_decimal:58964},{icon_id:"24855824",name:"redo-filled",font_class:"redo-filled",unicode:"e655",unicode_decimal:58965},{icon_id:"24841702",name:"list",font_class:"list",unicode:"e644",unicode_decimal:58948},{icon_id:"24841489",name:"mail-open-filled",font_class:"mail-open-filled",unicode:"e63a",unicode_decimal:58938},{icon_id:"24841491",name:"hand-thumbsdown-filled",font_class:"hand-down-filled",unicode:"e63c",unicode_decimal:58940},{icon_id:"24841492",name:"hand-thumbsdown",font_class:"hand-down",unicode:"e63d",unicode_decimal:58941},{icon_id:"24841493",name:"hand-thumbsup-filled",font_class:"hand-up-filled",unicode:"e63e",unicode_decimal:58942},{icon_id:"24841494",name:"hand-thumbsup",font_class:"hand-up",unicode:"e63f",unicode_decimal:58943},{icon_id:"24841496",name:"heart-filled",font_class:"heart-filled",unicode:"e641",unicode_decimal:58945},{icon_id:"24841498",name:"mail-open",font_class:"mail-open",unicode:"e643",unicode_decimal:58947},{icon_id:"24841488",name:"heart",font_class:"heart",unicode:"e639",unicode_decimal:58937},{icon_id:"24839963",name:"loop",font_class:"loop",unicode:"e633",unicode_decimal:58931},{icon_id:"24839866",name:"pulldown",font_class:"pulldown",unicode:"e632",unicode_decimal:58930},{icon_id:"24813798",name:"scan",font_class:"scan",unicode:"e62a",unicode_decimal:58922},{icon_id:"24813786",name:"bars",font_class:"bars",unicode:"e627",unicode_decimal:58919},{icon_id:"24813788",name:"cart-filled",font_class:"cart-filled",unicode:"e629",unicode_decimal:58921},{icon_id:"24813790",name:"checkbox",font_class:"checkbox",unicode:"e62b",unicode_decimal:58923},{icon_id:"24813791",name:"checkbox-filled",font_class:"checkbox-filled",unicode:"e62c",unicode_decimal:58924},{icon_id:"24813794",name:"shop",font_class:"shop",unicode:"e62f",unicode_decimal:58927},{icon_id:"24813795",name:"headphones",font_class:"headphones",unicode:"e630",unicode_decimal:58928},{icon_id:"24813796",name:"cart",font_class:"cart",unicode:"e631",unicode_decimal:58929}]},ur="/static/uniicons.ttf",dr={"uni-icons":{"":{fontFamily:"uniicons",textDecoration:"none",textAlign:"center"}}},fr=weex.requireModule("dom");fr.addRule("fontFace",{fontFamily:"uniicons",src:"url('"+ur+"')"});var mr={name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""}},data(){return{icons:cr.glyphs}},computed:{unicode(){let e=this.icons.find(t=>t.font_class===this.type);return e?unescape(`%u${e.unicode}`):""}},methods:{_onClick(e){this.$emit("click",e)}}};function pr(e,t,n,i,a,o){return(0,we.openBlock)(),(0,we.createElementBlock)("u-text",{style:(0,we.normalizeStyle)({color:n.color,"font-size":n.size}),class:"uni-icons",onClick:t[0]||(t[0]=(...r)=>o._onClick&&o._onClick(...r))},(0,we.toDisplayString)(o.unicode),5)}var ci=x(mr,[["render",pr],["styles",[dr]]]);var g=H(j());var Te=H(j());var gr={"uni-status-bar":{"":{height:20}}},_r={name:"UniStatusBar",data(){return{statusBarHeight:20}},mounted(){this.statusBarHeight=uni.getSystemInfoSync().statusBarHeight+"px"}};function hr(e,t,n,i,a,o){return(0,Te.openBlock)(),(0,Te.createElementBlock)("view",{style:(0,Te.normalizeStyle)({height:a.statusBarHeight}),class:"uni-status-bar",renderWhole:!0},[(0,Te.renderSlot)(e.$slots,"default")],4)}var ui=x(_r,[["render",hr],["styles",[gr]]]);var br={"uni-nav-bar-text":{"":{fontSize:"34rpx"}},"uni-nav-bar-right-text":{"":{fontSize:12}},"uni-navbar__content":{"":{position:"relative",backgroundColor:"#ffffff",overflow:"hidden"}},"uni-navbar__content_view":{"":{alignItems:"center",flexDirection:"row"}},"uni-navbar__header":{"":{paddingTop:0,paddingRight:10,paddingBottom:0,paddingLeft:10,flexDirection:"row",height:44,lineHeight:44,fontSize:12}},"uni-navbar__header-btns":{"":{flexWrap:"nowrap",width:"120rpx",justifyContent:"center",alignItems:"center"}},"uni-navbar__header-btns-left":{"":{width:"120rpx",justifyContent:"flex-start"}},"uni-navbar__header-btns-right":{"":{width:"120rpx",justifyContent:"flex-end"}},"uni-navbar__header-container":{"":{flex:1}},"uni-navbar__header-container-inner":{"":{flex:1,alignItems:"center",justifyContent:"center",fontSize:12}},"uni-navbar__placeholder-view":{"":{height:44}},"uni-navbar--fixed":{"":{position:"fixed",zIndex:998,left:0,right:0}},"uni-navbar--border":{"":{borderBottomWidth:"1rpx",borderBottomStyle:"solid",borderBottomColor:"#eeeeee"}}},yr={name:"UniNavBar",components:{statusBar:ui},emits:["clickLeft","clickRight","clickTitle"],props:{title:{type:String,default:""},leftText:{type:String,default:""},rightText:{type:String,default:""},leftIcon:{type:String,default:""},rightIcon:{type:String,default:""},fixed:{type:[Boolean,String],default:!1},color:{type:String,default:"#000000"},backgroundColor:{type:String,default:"#FFFFFF"},statusBar:{type:[Boolean,String],default:!1},shadow:{type:[Boolean,String],default:!1},border:{type:[Boolean,String],default:!0}},mounted(){uni.report&&this.title!==""&&uni.report("title",this.title)},methods:{onClickLeft(){this.$emit("clickLeft")},onClickRight(){this.$emit("clickRight")},onClickTitle(){this.$emit("clickTitle")}}};function Er(e,t,n,i,a,o){let r=(0,g.resolveComponent)("status-bar"),s=$((0,g.resolveDynamicComponent)("uni-icons"),ci);return(0,g.openBlock)(),(0,g.createElementBlock)("view",{class:"uni-navbar",renderWhole:!0},[(0,g.createElementVNode)("view",{class:(0,g.normalizeClass)([{"uni-navbar--fixed":n.fixed,"uni-navbar--shadow":n.shadow,"uni-navbar--border":n.border},"uni-navbar__content"]),style:(0,g.normalizeStyle)({"background-color":n.backgroundColor})},[n.statusBar?((0,g.openBlock)(),(0,g.createBlock)(r,{key:0})):(0,g.createCommentVNode)("",!0),(0,g.createElementVNode)("view",{style:(0,g.normalizeStyle)({color:n.color,backgroundColor:n.backgroundColor}),class:"uni-navbar__header uni-navbar__content_view"},[(0,g.createElementVNode)("view",{onClick:t[0]||(t[0]=(...l)=>o.onClickLeft&&o.onClickLeft(...l)),class:"uni-navbar__header-btns uni-navbar__header-btns-left uni-navbar__content_view"},[n.leftIcon.length?((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:0,class:"uni-navbar__content_view"},[(0,g.createVNode)(s,{color:n.color,type:n.leftIcon,size:"44rpx"},null,8,["color","type"])])):(0,g.createCommentVNode)("",!0),n.leftText.length?((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:1,class:(0,g.normalizeClass)([{"uni-navbar-btn-icon-left":!n.leftIcon.length},"uni-navbar-btn-text uni-navbar__content_view"])},[(0,g.createElementVNode)("u-text",{style:(0,g.normalizeStyle)({color:n.color,fontSize:"12px"})},(0,g.toDisplayString)(n.leftText),5)],2)):(0,g.createCommentVNode)("",!0),(0,g.renderSlot)(e.$slots,"left")]),(0,g.createElementVNode)("view",{class:"uni-navbar__header-container uni-navbar__content_view",onClick:t[1]||(t[1]=(...l)=>o.onClickTitle&&o.onClickTitle(...l))},[n.title.length?((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:0,class:"uni-navbar__header-container-inner uni-navbar__content_view"},[(0,g.createElementVNode)("u-text",{class:"uni-nav-bar-text",style:(0,g.normalizeStyle)({color:n.color})},(0,g.toDisplayString)(n.title),5)])):(0,g.createCommentVNode)("",!0),(0,g.renderSlot)(e.$slots,"default")]),(0,g.createElementVNode)("view",{class:(0,g.normalizeClass)([n.title.length?"uni-navbar__header-btns-right":"","uni-navbar__header-btns uni-navbar__content_view"]),onClick:t[2]||(t[2]=(...l)=>o.onClickRight&&o.onClickRight(...l))},[n.rightIcon.length?((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:0,class:"uni-navbar__content_view uni-navbar__header-btns-right"},[(0,g.createVNode)(s,{color:n.color,type:n.rightIcon,size:"22"},null,8,["color","type"])])):(0,g.createCommentVNode)("",!0),n.rightText.length&&!n.rightIcon.length?((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:1,class:"uni-navbar-btn-text uni-navbar__content_view"},[(0,g.createElementVNode)("u-text",{class:"uni-nav-bar-right-text"},(0,g.toDisplayString)(n.rightText),1)])):(0,g.createCommentVNode)("",!0),(0,g.renderSlot)(e.$slots,"right")],2)],4)],6),n.fixed?((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:0,class:"uni-navbar__placeholder"},[n.statusBar?((0,g.openBlock)(),(0,g.createBlock)(r,{key:0})):(0,g.createCommentVNode)("",!0),(0,g.createElementVNode)("view",{class:"uni-navbar__placeholder-view"})])):(0,g.createCommentVNode)("",!0)])}var di=x(yr,[["render",Er],["styles",[br]]]);var dl=H(j());function Sr(e){return new Promise((t,n)=>{getApp().globalData.pluginDB.selectSql({sql:e},i=>{i.status==1?t(i.rows):(P("error","at comExtend/plugin-DB.js:53","db \u63D2\u4EF6 select \u6267\u884C \u9519\u8BEF "+i.message),n(i.message))})})}function Ar(e){return new Promise((t,n)=>{getApp().globalData.pluginDB.executeSql({sql:e},i=>{i.status==1?t(i.rows):(P("error","at comExtend/plugin-DB.js:66","db \u63D2\u4EF6 execute \u6267\u884C \u9519\u8BEF "+i.message),n(i.message))})})}function me(e,t){return new Promise((n,i)=>{Ar(e).then(a=>{n(a)},a=>{i()})})}function be(e,t){return new Promise((n,i)=>{Sr(e).then(a=>{n(a)},a=>{i()})})}function fi(e){return new Promise(t=>{let n=`SELECT name FROM sqlite_master WHERE type = 'table' AND name = '${e}'`;be(n).then(i=>{t(i.length>0)},i=>{t(!1)})})}function B(e){return b(e)?0:parseInt(e)}function ye(e){return b(e)?"":e}function mi(e,t){return b(e)?Math.round(t/1e3):(e+"").length==16?Math.round(e/1e3):e}function wr(e,t){let n=e.length,i,a,o,r;if(n>t)a=!0,i=t,o=e[n-2].ctime,r=e[n-2].mtime;else{a=!1,i=n;let s=e[n-1];b(s)?(o=0,r=0):(o=s.ctime,r=s.mtime)}return{rows:e,hasMore:a,forLen:i,ctime:o,mtime:r}}function pi(e,t){let n=wr(e,t);for(let i=0,a=n.forLen;i<a;i++){let o=n.rows[i];o&&(o.msg_content=xe(o.msg_content))}return n}var Pe=H(j());function gi(e){return e==1?h("himLower"):h("herLower")}var Je={DELETED:"avatar/default/avatar_deleted.png",BLACKED:"avatar/default/avatar_blacked.png",DELETED_DEF_DIR:"avatar/default/avatar_deleted",BLACKED_DEF_DIR:"avatar/default/avatar_blacked"};var Tr={VIDEO:1,VOICE:2};function Kt(e,t){let n=parseInt(e.msg_type),i=e.contentObj||he(e.msg_content);switch(n){case ae.M_TEXT:if(i.content)return i.content;let a=i.text;if(i.info)for(let s=0,l=i.info.length;s<l;s++)a=a.replace("[x]",i.info[s].text);return a;case ae.M_GIFT:if(i.from_type==5){let s=i.to_user_info?"@"+i.to_user_info.nickname:"@"+h("all"),l=i.to_user_info?h("msg.giftISentYou"):h("msg.giftISent");return`${Ye(n)} ${s} ${l} ${i.number} ${i.title}`}return i.from_type==6?`${Ye(n)} ${h("msg.giftISent")} ${i.number} ${i.title}`:`${Ye(n)} ${h("msg.giftISentYou")} ${i.number} ${i.title}`;case ae.M_VOICE:return`${Ye(n)} ${Wn(i.voice_duration)}`;case ae.M_CALL:let o=Cr(i,t,e.send_uid);return`[${i.call_type==Tr.VIDEO?h("videoChat"):h("audioChat")}] ${o}`;default:return Ye(n)}}function yt(e){let t={},n=Object.keys(e).sort(function(i,a){return e[a].sortTime-e[i].sortTime});for(let i=0,a=n.length;i<a;i++)t[n[i]]=e[n[i]];return t}function Ye(e){return{2:`[${h("voice")}]`,3:`[${h("picture")}]`,5:`[${h("gift")}]`,4:`[${h("video")}]`,6:`[${h("notice")}]`,100:`[${h("msg.systemNotice")}]`}[e]||"["+h("unknownMessage")+"]"}function Cr(e,t,n){let{call_status:i,duration:a}=e,o=getApp().globalData.uid==n;return i==0?h("canceled"):i==1?o?h("declined",{nickname:gi(t.sex)}):h("canceled"):a?`${h("duration")} ${a}`:h("canceled")}function vr(e,t){let n=bi();return new Promise(i=>{let a=0;be(`SELECT * FROM ${n} WHERE uid = ${e.uid} LIMIT 1`).then(o=>{if(o.length>0)if(t&&Bn(o[0],e)){a=1;let r=`UPDATE ${n} SET nickname = '${fe(e.nickname)}', avatar = '${e.avatar}', sex = ${B(e.sex)}, birthday = '${ye(e.birthday)}', is_vip = ${B(e.is_vip)}, is_auth = ${B(e.is_auth)}, level = ${B(e.level)}, country_code = '${ye(e.country_code)}', country_flag = '${ye(e.country_flag)}', language = '${ye(e.language)}', hide_vip = ${B(e.hide_vip)}, hide_level = ${B(e.hide_level)}, hide_profile = ${B(e.hide_profile)}, auth_status = ${B(e.auth_status)} WHERE uid = ${e.uid}`;me(r).then(()=>{i(a)},()=>{i(a)})}else i(a);else{a=2;let r=`INSERT INTO ${n} (uid, nickname, avatar, sex, birthday, is_vip, is_auth, level, country_code, country_flag, language, hide_vip, hide_level, hide_profile, auth_status) VALUES (${e.uid}, '${fe(e.nickname)}', '${e.avatar}', ${B(e.sex)}, '${ye(e.birthday)}', ${B(e.is_vip)}, ${B(e.is_auth)}, ${B(e.level)}, '${ye(e.country_code)}', '${ye(e.country_flag)}', '${ye(e.language)}', ${B(e.hide_vip)}, ${B(e.hide_level)}, ${B(e.hide_profile)}, ${B(e.auth_status)})`;me(r).then(()=>{i(a)},()=>{i(a)})}},()=>{i(a)})})}function _i(e){return new Promise(t=>{let n=Array.isArray(e),i=0,a=n?e.length:Object.keys(e).length;for(let o in e){let r=e[o];vr(r,!0).then(()=>{i+=1,i>=a&&t()})}})}function hi(e,t=!0){let n=bi();return new Promise(i=>{if(t&&(e=e.filter(r=>!b(r))),e.length<=0){i({});return}let a={},o=`SELECT * FROM ${n} WHERE uid IN (${e.join(",")}) LIMIT ${e.length}`;be(o).then(r=>{for(let s=0,l=r.length;s<l;s++){let c=r[s];c&&(c.nickname=xe(c.nickname),a[c.uid]=c)}i(a)})})}function bi(){return"tb_user"}var Ir={props:{w:{type:String,default:"0"},h:{type:String,default:"0"},border:{type:String,default:""},radius:{type:String,default:"0"}},computed:{deletedAvatar(){return Je.DELETED}}};function Dr(e,t,n,i,a,o){let r=$((0,Pe.resolveDynamicComponent)("l-img"),ge);return(0,Pe.openBlock)(),(0,Pe.createBlock)(r,{src:o.deletedAvatar,w:n.w,h:n.h,radius:n.radius},null,8,["src","w","h","radius"])}var yi=x(Ir,[["render",Dr]]);var M=H(j());var Nr={"user-info":{"":{flexDirection:"row",alignItems:"center"}},"nickname-nvue":{"":{lines:1,textOverflow:"ellipsis",wordWrap:"anywhere"}},"m-r-4":{"":{marginRight:"8rpx"}}},Or={components:{LImg:ge},props:{info:{type:Object,default(){return{}}},noName:{type:Number,default:0},nameColor:{type:String,default:""},nameSize:{type:String,default:"26rpx"},nameWidth:{type:String,default:"300rpx"},fw:{type:[String,Number],default:"400"},showAge:{type:Boolean,default:!1}},computed:{nicknameColor(){return b(this.nameColor)?"#333333":this.nameColor},age(){if(!this.showAge||b(this.info.birthday)||this.info.hide_profile)return"";let e=Fn(this.info.birthday);return b(e)||isNaN(e)?"":`${this.noName?"":", "}${e}`}}};function kr(e,t,n,i,a,o){let r=$((0,M.resolveDynamicComponent)("l-img"),ge);return(0,M.openBlock)(),(0,M.createElementBlock)("view",{renderWhole:!0},[(0,M.createElementVNode)("view",{class:"user-info"},[n.noName?(0,M.createCommentVNode)("",!0):((0,M.openBlock)(),(0,M.createElementBlock)("u-text",{key:0,class:"nickname-nvue m-r-4",style:(0,M.normalizeStyle)({color:o.nicknameColor,fontSize:n.nameSize,maxWidth:n.nameWidth,fontWeight:n.fw})},(0,M.toDisplayString)(n.info.nickname),5)),o.age?((0,M.openBlock)(),(0,M.createElementBlock)("u-text",{key:1,class:"nickname-nvue m-r-4",style:(0,M.normalizeStyle)({color:o.nicknameColor,fontSize:n.nameSize,fontWeight:n.fw})},(0,M.toDisplayString)(o.age),5)):(0,M.createCommentVNode)("",!0),(0,M.createVNode)(r,{src:n.info.country_flag,w:"40rpx",h:"26rpx"},null,8,["src"]),n.info.auth_status==1?((0,M.openBlock)(),(0,M.createBlock)(r,{key:2,src:"/static/pic/authed.png",w:"28rpx",h:"28rpx",style:{"margin-left":"8rpx"}})):(0,M.createCommentVNode)("",!0)])])}var Ei=x(Or,[["render",kr],["styles",[Nr]]]);var Z=H(j());var Lr={"vip-img":{"":{position:"absolute",width:"70rpx",height:"30rpx",bottom:0,left:0,zIndex:100}}},Mr={emits:["click","onLoad"],components:{LImg:ge},props:{user:{type:Object,default(){return{}}},w:{type:String,default:"0"},h:{type:String,default:"0"},radius:{type:String,default:"0"},avatarKey:{type:String,default:"small_avatar"},border:{type:String,default:""},placeType:{type:Number,default:1},placeW:{type:String,default:""},placeFontSize:{type:[String,Boolean],default:""},placeBottom:{type:String,default:""},click:{type:Boolean,default:!0},fromAdmin:{type:[Boolean,Number],default:!1},fromType:{type:Number,default:1},fade:{type:Boolean,default:!0},bgColor:{type:String,default:"transparent"},isShowVip:{type:Boolean,default:!0},vipW:{type:String,default:"70rpx"},vipH:{type:String,default:"30rpx"}},methods:{clickAvatar(e){this.click&&this.$emit("click",e)},onLoad(){this.$emit("onLoad")}}};function xr(e,t,n,i,a,o){let r=$((0,Z.resolveDynamicComponent)("l-img"),ge);return n.user.avatar?((0,Z.openBlock)(),(0,Z.createElementBlock)("view",{key:0,style:(0,Z.normalizeStyle)([{"border-radius":n.radius,background:n.bgColor},{position:"relative",padding:"0 0 10rpx 10rpx"}]),renderWhole:!0},[(0,Z.createVNode)(r,{onClick:o.clickAvatar,src:n.user.avatar,w:n.w,h:n.h,radius:n.radius,border:n.border,"place-type":n.placeType,"place-w":n.placeW,"place-font-size":n.placeFontSize,"place-bottom":n.placeBottom,fade:n.fade,onOnLoad:o.onLoad},null,8,["onClick","src","w","h","radius","border","place-type","place-w","place-font-size","place-bottom","fade","onOnLoad"]),n.isShowVip&&Number(n.user.is_vip)?((0,Z.openBlock)(),(0,Z.createElementBlock)("view",{key:0,class:"vip-img"},[(0,Z.createVNode)(r,{src:"/static/avatar-vip.png",w:n.vipW,h:n.vipH},null,8,["w","h"])])):(0,Z.createCommentVNode)("",!0)],4)):(0,Z.createCommentVNode)("",!0)}var Si=x(Mr,[["render",xr],["styles",[Lr]]]);var T=H(j()),Rr={},Ci={},Ai=mt("bindingx"),Pr=mt("dom"),Fr=mt("animation");Ci={data(){return{}},watch:{show(e){this.autoClose||this.stop||(this.stop=!0,e?this.open(e):this.close())},leftOptions(){this.getSelectorQuery(),this.init()},rightOptions(e){this.init()}},created(){this.swipeaction=this.getSwipeAction(),this.swipeaction.children!==void 0&&this.swipeaction.children.push(this)},mounted(){this.box=this.getEl(this.$refs["selector-box--hock"]),this.selector=this.getEl(this.$refs["selector-content--hock"]),this.leftButton=this.getEl(this.$refs["selector-left-button--hock"]),this.rightButton=this.getEl(this.$refs["selector-right-button--hock"]),this.init()},methods:{init(){this.$nextTick(()=>{this.x=0,this.button={show:!1},setTimeout(()=>{this.getSelectorQuery()},200)})},onClick(e,t,n){this.$emit("click",{content:t,index:e,position:n})},touchstart(e){if(this.disabled||this.stop)return;this.stop=!0,this.autoClose&&this.swipeaction.closeOther(this);let t=this.button.left.width,n=this.button.right.width,i=this.range(this.x,-n,t),a=this.range(this.x-t,-t,0),o=this.range(this.x+n,0,n);this.eventpan=Ai.bind({anchor:this.box,eventType:"pan",props:[{element:this.selector,property:"transform.translateX",expression:i},{element:this.leftButton,property:"transform.translateX",expression:a},{element:this.rightButton,property:"transform.translateX",expression:o}]},r=>{r.state==="end"&&(this.x=r.deltaX+this.x,this.isclick=!0,this.bindTiming(r.deltaX))})},touchend(e){this.isopen!=="none"&&!this.isclick&&this.open("none")},bindTiming(e){let t=this.x,n=this.button.left.width,i=this.button.right.width,a=this.threshold;!this.isopen||this.isopen==="none"?t>a?this.open("left"):t<-a?this.open("right"):this.open("none"):e>-n&&e<0||e>i?e>-a&&e<0||e-i>a?this.open("left"):this.open("none"):e<a&&e>0||e+n<-a?this.open("right"):this.open("none")},range(e,t,n){return`min(max(x+${e}, ${t}), ${n})`},open(e){this.animation(e)},close(){this.animation("none")},animation(e){let t=this.button.left.width,n=this.button.right.width;switch(this.eventpan&&this.eventpan.token&&Ai.unbind({token:this.eventpan.token,eventType:"pan"}),e){case"left":Promise.all([this.move(this.selector,t),this.move(this.leftButton,0),this.move(this.rightButton,n*2)]).then(()=>{this.setEmit(t,e)});break;case"right":Promise.all([this.move(this.selector,-n),this.move(this.leftButton,-t*2),this.move(this.rightButton,0)]).then(()=>{this.setEmit(-n,e)});break;default:Promise.all([this.move(this.selector,0),this.move(this.leftButton,-t),this.move(this.rightButton,n)]).then(()=>{this.setEmit(0,e)})}},setEmit(e,t){let n=this.button.left.width,i=this.button.right.width;this.isopen=this.isopen||"none",this.stop=!1,this.isclick=!1,this.isopen!==t&&this.x!==e&&(t==="left"&&n>0&&this.$emit("change","left"),t==="right"&&i>0&&this.$emit("change","right"),t==="none"&&this.$emit("change","none")),this.x=e,this.isopen=t},move(e,t){return new Promise((n,i)=>{Fr.transition(e,{styles:{transform:`translateX(${t})`},duration:150,timingFunction:"linear",needLayout:!1,delay:0},function(a){n(a)})})},getEl(e){return e.ref},getSelectorQuery(){Promise.all([this.getDom("left"),this.getDom("right")]).then(e=>{let t="none";this.autoClose?t="none":t=this.show,t==="none"||this.open(t)})},getDom(e){return new Promise((t,n)=>{Pr.getComponentRect(this.$refs[`selector-${e}-button--hock`],i=>{i?(this.button[e]=i.size,t(i)):n()})})}}};var Ur=Ci,$r={},Wr={"uni-swipe":{"":{position:"relative"}},"uni-swipe_box":{"":{position:"relative"}},"uni-swipe_text--center":{"":{width:100}},"uni-swipe_button-group":{"":{flexDirection:"row",position:"absolute",top:0,bottom:0}},"button-group--left":{"":{left:0,transform:"translateX(-100%)"}},"button-group--right":{"":{right:0,transform:"translateX(100%)"}},"uni-swipe_button":{"":{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",paddingTop:0,paddingRight:20,paddingBottom:0,paddingLeft:20}},"uni-swipe_button-text":{"":{fontSize:14}},ani:{"":{transitionProperty:"transform",transitionDuration:300,transitionTimingFunction:"cubic-bezier(0.165,0.84,0.44,1)"}},"@TRANSITION":{ani:{property:"transform",duration:300,timingFunction:"cubic-bezier(0.165,0.84,0.44,1)"}}},wi={},Ti={},qt={mixins:[Rr,Ur,$r],emits:["click","change"],props:{show:{type:String,default:"none"},disabled:{type:Boolean,default:!1},autoClose:{type:Boolean,default:!0},threshold:{type:Number,default:20},leftOptions:{type:Array,default(){return[]}},rightOptions:{type:Array,default(){return[]}}},unmounted(){this.__isUnmounted=!0,this.uninstall()},methods:{uninstall(){this.swipeaction&&this.swipeaction.children.forEach((e,t)=>{e===this&&this.swipeaction.children.splice(t,1)})},getSwipeAction(e="uniSwipeAction"){let t=this.$parent,n=t.$options.name;for(;n!==e;){if(t=t.$parent,!t)return!1;n=t.$options.name}return t}}};function Br(e,t,n,i,a,o){return(0,T.openBlock)(),(0,T.createElementBlock)("view",{ref:"selector-box--hock",class:"uni-swipe",onHorizontalpan:t[0]||(t[0]=(...r)=>e.touchstart&&e.touchstart(...r)),onTouchend:t[1]||(t[1]=(...r)=>e.touchend&&e.touchend(...r)),renderWhole:!0},[(0,T.createElementVNode)("view",{ref:"selector-left-button--hock",class:"uni-swipe_button-group button-group--left"},[(0,T.renderSlot)(e.$slots,"left",{},()=>[((0,T.openBlock)(!0),(0,T.createElementBlock)(T.Fragment,null,(0,T.renderList)(n.leftOptions,(r,s)=>((0,T.openBlock)(),(0,T.createElementBlock)("view",{key:s,style:(0,T.normalizeStyle)({backgroundColor:r.style&&r.style.backgroundColor?r.style.backgroundColor:"#C7C6CD"}),class:"uni-swipe_button button-hock",onClick:(0,T.withModifiers)(l=>e.onClick(s,r,"left"),["stop"])},[(0,T.createElementVNode)("u-text",{class:"uni-swipe_button-text",style:(0,T.normalizeStyle)({color:r.style&&r.style.color?r.style.color:"#FFFFFF",fontSize:r.style&&r.style.fontSize?r.style.fontSize:"16px"})},(0,T.toDisplayString)(r.text),5)],12,["onClick"]))),128))])],512),(0,T.createElementVNode)("view",{ref:"selector-right-button--hock",class:"uni-swipe_button-group button-group--right"},[(0,T.renderSlot)(e.$slots,"right",{},()=>[((0,T.openBlock)(!0),(0,T.createElementBlock)(T.Fragment,null,(0,T.renderList)(n.rightOptions,(r,s)=>((0,T.openBlock)(),(0,T.createElementBlock)("view",{key:s,style:(0,T.normalizeStyle)({backgroundColor:r.style&&r.style.backgroundColor?r.style.backgroundColor:"#C7C6CD"}),class:"uni-swipe_button button-hock",onClick:(0,T.withModifiers)(l=>e.onClick(s,r,"right"),["stop"])},[(0,T.createElementVNode)("u-text",{class:"uni-swipe_button-text",style:(0,T.normalizeStyle)({color:r.style&&r.style.color?r.style.color:"#FFFFFF",fontSize:r.style&&r.style.fontSize?r.style.fontSize:"16px"})},(0,T.toDisplayString)(r.text),5)],12,["onClick"]))),128))])],512),(0,T.createElementVNode)("view",{ref:"selector-content--hock",class:"uni-swipe_box"},[(0,T.renderSlot)(e.$slots,"default")],512)],544)}typeof wi=="function"&&wi(qt);typeof Ti=="function"&&Ti(qt);var vi=x(qt,[["render",Br],["styles",[Wr]]]),Vr={name:"uniSwipeAction",data(){return{}},created(){this.children=[]},methods:{resize(){this.children.forEach(e=>{e.init()})},closeAll(){this.children.forEach(e=>{e.close()})},closeOther(e){this.openItem&&this.openItem!==e&&this.openItem.close(),this.openItem=e}}};function jr(e,t,n,i,a,o){return(0,T.openBlock)(),(0,T.createElementBlock)("view",{renderWhole:!0},[(0,T.renderSlot)(e.$slots,"default")])}var Ii=x(Vr,[["render",jr]]);var X=H(j());var Hr=e=>e!==null&&typeof e=="object",Gr=["{","}"],Qt=class{constructor(){this._caches=Object.create(null)}interpolate(t,n,i=Gr){if(!n)return[t];let a=this._caches[t];return a||(a=Jr(t,i),this._caches[t]=a),Kr(a,n)}},zr=/^(?:\d)+/,Yr=/^(?:\w)+/;function Jr(e,[t,n]){let i=[],a=0,o="";for(;a<e.length;){let r=e[a++];if(r===t){o&&i.push({type:"text",value:o}),o="";let s="";for(r=e[a++];r!==void 0&&r!==n;)s+=r,r=e[a++];let l=r===n,c=zr.test(s)?"list":l&&Yr.test(s)?"named":"unknown";i.push({value:s,type:c})}else o+=r}return o&&i.push({type:"text",value:o}),i}function Kr(e,t){let n=[],i=0,a=Array.isArray(t)?"list":Hr(t)?"named":"unknown";if(a==="unknown")return n;for(;i<e.length;){let o=e[i];switch(o.type){case"text":n.push(o.value);break;case"list":n.push(t[parseInt(o.value,10)]);break;case"named":a==="named"&&n.push(t[o.value]);break}i++}return n}var Zt="zh-Hans",Di="zh-Hant",Fe="en",qr="fr",Zr="es",Xr=Object.prototype.hasOwnProperty,Ni=(e,t)=>Xr.call(e,t),Qr=new Qt;function es(e,t){return!!t.find(n=>e.indexOf(n)!==-1)}function ts(e,t){return t.find(n=>e.indexOf(n)===0)}function Oi(e,t){if(!e)return;if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if(e=e.toLowerCase(),e==="chinese")return Zt;if(e.indexOf("zh")===0)return e.indexOf("-hans")>-1?Zt:e.indexOf("-hant")>-1||es(e,["-tw","-hk","-mo","-cht"])?Di:Zt;let n=[Fe,qr,Zr];t&&Object.keys(t).length>0&&(n=Object.keys(t));let i=ts(e,n);if(i)return i}var en=class{constructor({locale:t,fallbackLocale:n,messages:i,watcher:a,formater:o}){this.locale=Fe,this.fallbackLocale=Fe,this.message={},this.messages={},this.watchers=[],n&&(this.fallbackLocale=n),this.formater=o||Qr,this.messages=i||{},this.setLocale(t||Fe),a&&this.watchLocale(a)}setLocale(t){let n=this.locale;this.locale=Oi(t,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],n!==this.locale&&this.watchers.forEach(i=>{i(this.locale,n)})}getLocale(){return this.locale}watchLocale(t){let n=this.watchers.push(t)-1;return()=>{this.watchers.splice(n,1)}}add(t,n,i=!0){let a=this.messages[t];a?i?Object.assign(a,n):Object.keys(n).forEach(o=>{Ni(a,o)||(a[o]=n[o])}):this.messages[t]=n}f(t,n,i){return this.formater.interpolate(t,n,i).join("")}t(t,n,i){let a=this.message;return typeof n=="string"?(n=Oi(n,this.messages),n&&(a=this.messages[n])):i=n,Ni(a,t)?this.formater.interpolate(a[t],i).join(""):(console.warn(`Cannot translate the value of keypath ${t}. Use the value of keypath as default.`),t)}};function ns(e,t){e.$watchLocale?e.$watchLocale(n=>{t.setLocale(n)}):e.$watch(()=>e.$locale,n=>{t.setLocale(n)})}function is(){return typeof uni!="undefined"&&uni.getLocale?uni.getLocale():typeof global!="undefined"&&global.getLocale?global.getLocale():Fe}function as(e,t={},n,i){if(typeof e!="string"){let r=[t,e];e=r[0],t=r[1]}typeof e!="string"&&(e=is()),typeof n!="string"&&(n=typeof __uniConfig!="undefined"&&__uniConfig.fallbackLocale||Fe);let a=new en({locale:e,fallbackLocale:n,messages:t,watcher:i}),o=(r,s)=>{if(typeof getApp!="function")o=function(l,c){return a.t(l,c)};else{let l=!1;o=function(c,f){let _=getApp().$vm;return _&&(_.$locale,l||(l=!0,ns(_,a))),a.t(c,f)}}return o(r,s)};return{i18n:a,f(r,s,l){return a.f(r,s,l)},t(r,s){return o(r,s)},add(r,s,l=!0){return a.add(r,s,l)},watch(r){return a.watchLocale(r)},getLocale(){return a.getLocale()},setLocale(r){return a.setLocale(r)}}}var os={"uni-load-more.contentdown":"Pull up to show more","uni-load-more.contentrefresh":"loading...","uni-load-more.contentnomore":"No more data"},rs={"uni-load-more.contentdown":"Pull up to show more","uni-load-more.contentrefresh":"Loading...","uni-load-more.contentnomore":"No more data"},ss={"uni-load-more.contentdown":"\u4E0A\u62C9\u986F\u793A\u66F4\u591A","uni-load-more.contentrefresh":"\u6B63\u5728\u52A0\u8F09...","uni-load-more.contentnomore":"\u6C92\u6709\u66F4\u591A\u6578\u64DA\u4E86"},ls={"uni-load-more.contentdown":"Tire hacia arriba para mostrar m\xE1s","uni-load-more.contentrefresh":"cargando...","uni-load-more.contentnomore":"No m\xE1s datos"},cs={"uni-load-more.contentdown":"\u0627\u0633\u062D\u0628 \u0644\u0623\u0639\u0644\u0649 \u0644\u0625\u0638\u0647\u0627\u0631 \u0627\u0644\u0645\u0632\u064A\u062F","uni-load-more.contentrefresh":"\u062C\u0627\u0631 \u0627\u0644\u062A\u062D\u0645\u064A\u0644...","uni-load-more.contentnomore":"\u0644\u0627 \u0645\u0632\u064A\u062F \u0645\u0646 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"},us={"uni-load-more.contentdown":"K\xE9o l\xEAn \u0111\u1EC3 hi\u1EC3n th\u1ECB th\xEAm","uni-load-more.contentrefresh":"\u0111ang t\u1EA3i...","uni-load-more.contentnomore":"Kh\xF4ng c\xF2n d\u1EEF li\u1EC7u"},ds={en:os,"zh-Hans":rs,"zh-Hant":ss,es:ls,ar:cs,vi:us},fs={"uni-load-more":{"":{flexDirection:"row",height:40,alignItems:"center",justifyContent:"center"}},"uni-load-more__text":{"":{fontSize:14,marginLeft:8}},"uni-load-more__img":{"":{width:24,height:24}},"uni-load-more__img--nvue":{"":{color:"#666666"}},"uni-load-more__img--android":{"":{width:24,height:24,transform:"rotate(0deg)"}},"uni-load-more__img--ios":{"":{width:24,height:24,transform:"rotate(0deg)"}}},ki;setTimeout(()=>{ki=uni.getSystemInfoSync().platform},16);var{t:Xt}=as(ds),ms={name:"UniLoadMore",emits:["clickLoadMore"],props:{status:{type:String,default:"more"},showIcon:{type:Boolean,default:!0},iconType:{type:String,default:"auto"},iconSize:{type:Number,default:24},color:{type:String,default:"#777777"},contentText:{type:Object,default(){return{contentdown:"",contentrefresh:"",contentnomore:""}}},showText:{type:Boolean,default:!1}},data(){return{webviewHide:!1,platform:ki,imgBase64:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzlBMzU3OTlEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzlBMzU3OUFEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDOUEzNTc5N0Q5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDOUEzNTc5OEQ5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pt+ALSwAAA6CSURBVHja1FsLkFZVHb98LM+F5bHL8khA1iSeiyQBCRM+YGqKUnnJTDLGI0BGZlKDIU2MMglUiDApEZvSsZnQtBRJtKwQNKQMFYeRDR10WOLd8ljYXdh+v8v5fR3Od+797t1dnOnO/Ofce77z+J//+b/P+ZqtXbs2sJ9MJhNUV1cHJ06cCJo3bx7EPc2aNcvpy7pWrVoF+/fvDyoqKoI2bdoE9fX1F7TjN8a+EXBn/fkfvw942Tf+wYMHg9mzZwfjxo0LDhw4EPa1x2MbFw/fOGfPng1qa2tzcCkILsLDydq2bRsunpOTMM7TD/W/tZDZhPdeKD+yGxHhdu3aBV27dg3OnDlzMVANMheLAO3btw8KCwuDmpoaX5OxbgUIMEq7K8IcPnw4KCsrC/r37x8cP378/4cAXAB3vqSkJMuiDhTkw+XcuXNhOWbMmKBly5YhUT8xArhyFvP0BfwRsAuwxJZJsm/nzp2DTp06he/OU+cZ64K6o0ePBkOHDg2GDx8e6gEbJ5Q/NHNuAJQ1hgBeHUDlR7nVTkY8rQAvAi4z34vR/mPs1FoRsaCgIJThI0eOBC1atEiFGGV+5MiRoS45efJkqFjJFXV1dQuA012m2WcwTw98fy6CqBdsaiIO4CScrGPHjvk4odhavPquRtFWXEC25VgkREKOCh/qDSq+vn37htzD/mZTOmOc5U7zKzBPEedygWshcDyWvs30igAbU+6oyMgJBCFhwQE0fccxN60Ay9iebbjoDh06hMowjQxT4fXq1SskArmHZpkArvixp/kWzHdMeArExSJEaiXIjjRjRJ4DaAGWpibLzXN3Fm1vA5teBgh3j1Rv3bp1YgKwPdmf2p9zcyNYYgPKMfY0T5f5nNYdw158nJ8QawW4CLKwiOBSEgO/hok2eBydR+3dYH+PLxA5J8Vv0KBBwenTp0P2JWAx6+yFEBfs8lMY+y0SWMBNI9E4ThKi58VKTg3FQZS1RQF1cz27eC0QHMu+3E0SkUowjhVt5VdaWhp07949ZHv2Qd1EjDXM2cla1M0nl3GxAs3J9yREzyTdFVKVFOaE9qRA8GM0WebRuo9JGZKA7Mv2SeS/Z8+eoQ9BArMfFrLGo6jvxbhHbJZnKX2Rzz1O7QhJJ9Cs2ZMaWIyq/zhdeqPNfIoHd58clIQD+JSXl4dKlyIAuBdVXZwFVWKspSSoxE++h8x4k3uCnEhE4I5KwRiFWGOU0QWKiCYLbdoRMRKAu2kQ9vkfLU6dOhX06NEjlH+yMRZSinnuyWnYosVcji8CEA/6Cg2JF+IIUBqnGKUTCNwtwBN4f89RiK1R96DEgO2o0NDmtEdvVFdVVYV+P3UAPUEs6GFwV3PHmXkD4vh74iDFJysVI/MlaQhwKeBNTLYX5VuA8T4/gZxA4MRGFxDB6R7OmYPfyykGRJbyie+XnGYnQIC/coH9+vULiYrxrkL9ZA9+0ykaHIfEpM7ge8TiJ2CsHYwyMfafAF1yCGBHYIbCVDjDjKt7BeB51D+LgQa6OkG7IDYEEtvQ7lnXLKLtLdLuJBpE4gPUXcW2+PkZwOex+4cGDhwYDBkyRL7/HFcEwUGPo/8uWRUpYnfxGHco8HkewLHLyYmAawAPuIFZxhOpDfJQ8gbUv41yORAptMWBNr6oqMhWird5+u+iHmBb2nhjDV7HWBNQTgK8y11l5NetWzc5ULscAtSj7nbNI0skhWeUZCc0W4nyH/jO4Vz0u1IeYhbk4AiwM6tjxIWByHsoZ9qcIBPJd/y+DwPfBESOmCa/QF3WiZHucLlEDpNxcNhmheEOPgdQNx6/VZFQzFZ5TN08AHXQt2Ii3EdyFuUsPtTcGPhW5iMiCNELvz+Gdn9huG4HUJaW/w3g0wxV0XaG7arG2WeKiUWYM4Y7GO5ezshTARbbWGw/DvXkpp/ivVvE0JVoMxN4rpGzJMhE5Pl+xlATsDIqikP9F9D2z3h9nOksEUFhK+qO4rcPkoalMQ/HqJLIyb3F3JdjrCcw1yZ8joyJLR5gCo54etlag7qIoeNh1N1BRYj3DTFJ0elotxPlVzkGuYAmL0VSJVGAJA41c4Z6A3BzTLfn0HYwYKEI6CUAMzZEWvLsIcQOo1AmmyyM72nHJCfYsogflGV6jEk9vyQZXSuq6w4c16NsGcGZbwOPr+H1RkOk2LEzjNepxQkihHSCQ4ynAYNRx2zMKV92CQMWqj8J0BRE8EShxRFN6YrfCRhC0x3r/Zm4IbQCcmJoV0kMamllccR6FjHqUC5F2R/wS2dcymOlfAKOS4KmzQb5cpNC2MC7JhVn5wjXoJ44rYhLh8n0eXOCorJxa7POjbSlCGVczr34/RsAmrcvo9s+wGp3tzVhntxiXiJ4nvEYb4FJkf0O8HocAePmLvCxnL0AORraVekJk6TYjDabRVXfRE2lCN1h6ZQRN1+InUbsCpKwoBZHh0dODN9JBCUffItXxEavTQkUtnfTVAplCWL3JISz29h4NjotnuSsQKJCk8dF+kJR6RARjrqFVmfPnj3ZbK8cIJ0msd6jgHPGtfVTQ8VLmlvh4mct9sobRmPic0DyDQQnx/NlfYUgyz59+oScsH379pAwXABD32nTpoUHIToESeI5mnbE/UqDdyLcafEBf2MCqgC7NwxIbMREJQ0g4D4sfJwnD+AmRrII05cfMWJE+L1169bQr+fip06dGp4oJ83lmYd5wj/EmMa4TaHivo4EeCguYZBnkB5g2aWA69OIEnUHOaGysjIYMGBAMGnSpODYsWPZwCpFmm4lNq+4gSLQA7jcX8DwtjEyRC8wjabnXEx9kfWnTJkSJkAo90xpJVV+FmcVNeYAF5zWngS4C4O91MBxmAv8blLEpbjI5sz9MTdAhcgkCT1RO8mZkAjfiYpTEvStAS53Uw1vAiUGgZ3GpuQEYvoiBqlIan7kSDHnTwJQFNiPu0+5VxCVYhcZIjNrdXUDdp+Eq5AZ3Gkg8QAyVZRZIk4Tl4QAbF9cXJxNYZMAtAokgs4BrNxEpCtteXg7DDTMDKYNSuQdKsnJBek7HxewvxaosWxLYXtw+cJp18217wql4aKCfBNoEu0O5VU+PhctJ0YeXD4C6JQpyrlpSLTojpGGGN5YwNziChdIZLk4lvLcFJ9jMX3QdiImY9bmGQU+TRUL5CHITTRlgF8D9ouD1MfmLoEPl5xokIumZ2cfgMpHt47IW9N64Hsh7wQYYjyIugWuF5fCqYncXRd5vPMWyizzvhi/32+nvG0dZc9vR6fZOu0md5e+uC408FvKSIOZwXlGvxPv95izA2Vtvg1xKFWARI+vMX66HUhpQQb643uW1bSjuTWyw2SBvDrBvjFic1eGGlz5esq3ko9uSIlBRqPuFcCv8F4WIcN12nVaBd0SaYwI6PDDImR11JkqgHcPmQssjxIn6bUshygDFJUTxPMpHk+jfjPgupgdnYV2R/g7xSjtpah8RJBewhwf0gGK6XI92u4wXFEU40afJ4DN4h5LcAd+40HI3JgJecuT0c062W0i2hQJUTcxan3/CMW1PF2K6bbA+Daz4xRs1D3Br1Cm0OihKCqizW78/nXAF/G5TXrEcVzaNMH6CyMswqsAHqDyDLEyou8lwOXnKF8DjI6KjV3KzMBiXkDH8ij/H214J5A596ekrZ3F0zXlWeL7+P5eUrNo3/QwC15uxthuzidy7DzKRwEDaAViiDgKbTbz7CJnzo0bN7pIfIiid8SuPwn25o3QCmpnyjlZkyxPP8EomCJzrGb7GJMx7tNsq4MT2xMUYaiErZOluTzKsnz3gwCeCZyVRZJfYplNEokEjwrPtxlxjeYAk+F1F74VAzPxQRNYYdtpOUvWs8J1sGhBJMNsb7igN8plJs1eSmLIhLKE4rvaCX27gOhLpLOsIzJ7qn/i+wZzcvSOZ23/du8TZjwV8zHIXoP4R3ifBxiFz1dcVpa3aPntPE+c6TmIWE9EtcMmAcPdWAhYhAXxcLOQi9L1WhD1Sc8p1d2oL7XGiRKp8F4A2i8K/nfI+y/gsTDJ/YC/8+AD5Uh04KHiGl+cIFPnBDDrPMjwRGkLXyxO4VGbfQWnDH2v0bVWE3C9QOXlepbgjEfIJQI6XDG3z5ahD9cw2pS78ipB85wyScNTvsVzlzzhL8/jRrnmVjfFJK/m3m4nj9vbgQTguT8XZTjsm672R5uJKEaQmBI/c58gyus8ZDagLpEVSJBIyHp4jn++xqPV71OgQgJYEWOtZ/haxRtKmWOBu8xdBLftWltsY84zE6WIEy/eIOWL+BaayMx+KHtL7EAkqdNDLiEXmEMUHniedtJqg9HmZtfvt26vNi0BdG3Ft3g8ZOf7PAu59TxtzivLNIekyi+wD1i8CuUiD9FXAa8C+/xS3JPmZnomyc7H+fb4/Se0bk41Fel621r4cgVxbq91V4jVqwB7HTe2M7jgB+QWHavZkDRPmZcASoZEmBx6i75bGjPcMdL4/VKGFAGWZkGzPG0XAbdL9A81G5LOmUnC9hHKJeO7dcUMjblSl12867ElFTtaGl20xvvLGPdVz/8TVuU7y0x1PG7vtNg24oz9Uo/Z412++VFWI7Fcog9tu9Lm6gvRmIPv9x1xmQAu6RDkXtbOtlGEmpgD5Nvnyc0dcv0EE6cfdi1HmhMf9wDF3k3gtRvEedhxjpgfqPb9PU9iEJHnyOUA7bQUXh6kq/D7l2iTjWv7XOD530BDr8jIrus+srXjt4MzumJMHuTsBa63YKE1+RR5lBjEikCCnWKWiHdzOgKO+nRIBAF88za/IFmJ3eMZov4CYxGBabcpGL8EYx+SeMXJeRwHNsV/h+vdxeuhEpN3ZyNY78Gm2fknJxVGhyjixPiQvVkNzT1elD9Py/aTAL64Hb9vcYmC9zfdXdT/C1LeGbg4rnBaAihDFJH12W5ulfNCNe/xTsP3bp8ikzJs5BF+5PNfAQYAPaseTdsEcaYAAAAASUVORK5CYII="}},computed:{iconSnowWidth(){return(Math.floor(this.iconSize/24)||1)*2},contentdownText(){return this.contentText.contentdown||Xt("uni-load-more.contentdown")},contentrefreshText(){return this.contentText.contentrefresh||Xt("uni-load-more.contentrefresh")},contentnomoreText(){return this.contentText.contentnomore||Xt("uni-load-more.contentnomore")}},mounted(){var e=getCurrentPages(),t=e[e.length-1],n=t.$getAppWebview();n.addEventListener("hide",()=>{this.webviewHide=!0}),n.addEventListener("show",()=>{this.webviewHide=!1})},methods:{onClick(){this.$emit("clickLoadMore",{detail:{status:this.status}})}}};function ps(e,t,n,i,a,o){return(0,X.openBlock)(),(0,X.createElementBlock)("view",{class:"uni-load-more",onClick:t[0]||(t[0]=(...r)=>o.onClick&&o.onClick(...r)),renderWhole:!0},[!a.webviewHide&&n.status==="loading"&&n.showIcon?((0,X.openBlock)(),(0,X.createElementBlock)("loading-indicator",{key:0,style:(0,X.normalizeStyle)({color:n.color,width:n.iconSize+"px",height:n.iconSize+"px"}),animating:!0,class:"uni-load-more__img uni-load-more__img--nvue"},null,4)):(0,X.createCommentVNode)("",!0),n.showText?((0,X.openBlock)(),(0,X.createElementBlock)("u-text",{key:1,class:"uni-load-more__text",style:(0,X.normalizeStyle)({color:n.color})},(0,X.toDisplayString)(n.status==="more"?o.contentdownText:n.status==="loading"?o.contentrefreshText:o.contentnomoreText),5)):(0,X.createCommentVNode)("",!0)])}var Li=x(ms,[["render",ps],["styles",[fs]]]);function Mi(){plus.runtime.restart()}function xi(e){if(F.isAndroid)try{let t=plus.android.runtimeMainActivity();t&&t.moveTaskToBack(e)}catch(t){}}var zl=H(j());function Ri(e){return new Promise(t=>{getApp().globalData.pluginUpload.uploadList(e,n=>{t(n)})})}var gs=2,Pi="/upload/handle";function Fi(e,t){return new Promise((n,i)=>ee(this,null,function*(){let a=[];for(let r=0,s=e.length;r<s;r++){let l=e[r],c={type:l.media_type,flag:t},f=yield oi(l.filePath);f&&(b(f.digest)||(c.md5=f.digest)),a.push(c)}let o={list:a};U.request(Pi,o,!1,!0).then(r=>{let s=[];for(let l=0,c=r.data.list.length;l<c;l++){let f=r.data.list[l];f.is_upload||s.push(f.upload_id)}n({upType:gs,list:r.data.list,uploadIdList:s})},r=>{_s(o,r),i(r)})}))}function Ui(e){b(e)||U.request("/upload/success",{id:e},!1,!0).then(t=>{P("error","at common/api-upload.js:163","-----> api upload/success response",t)},t=>{P("error","at common/api-upload.js:165","-----> api upload/success response error",t)})}function _s(e,t){U.accessLogApi("upload",Pi,e,t)}function Vi(e){return ee(this,null,function*(){try{let t=yield hs(e.mediaList),n=yield Fi(t,"album"),i=Es(e,t,n),a="/album/add",o={album_list:i.mediaList};if(i.upFileList.length>0){let r={type:n.upType,fileList:i.upFileList,api:a,apiParams:o},s=yield Ss(e.id,r,n.uploadIdList,"album");a=s.api,o=s.apiParams}U.request(a,o,!1,!0).then(r=>{uni.$emit("event_album_publish_finish",{status:!0,id:e.id})},()=>{$i(e.id)})}catch(t){P("error","at com/upload.js:60","app upload album catch",t),$i(e.id)}})}function $i(e){P("error","at com/upload.js:66","app upload album publish fail - id = "+e),uni.$emit("event_album_publish_finish",{status:!1,id:e})}function hs(e){return ee(this,null,function*(){let t=[];for(let n=0,i=e.length;n<i;n++){let a=e[n];a.media_type==re.VIDEO?t.push(yield ys(a.url,a.cover_url,a.width,a.height)):a.media_type==re.PHOTO&&t.push(bs(a.url))}return t})}function bs(e){return{media_type:re.PHOTO,filePath:e.replace("file://","")}}function ys(e,t,n,i){return ee(this,null,function*(){let a=e,o=t,r=yield zt(`${F.isAndroid?"":"file://"}${a}`);if(r?r.size>10*1024*1024:!1){let l=yield Yt(a,"medium");l&&(a=plus.io.convertLocalFileSystemURL(l.tempFilePath),o=yield Ht(a))}return{media_type:re.VIDEO,filePath:a,coverFilePath:o}})}function Wi(e,t,n,i){return ze(e,t.filePath),{media_type:re.PHOTO,url:e,width:n.width,height:n.height,img_type:n.img_type||"",upload_id:i||0}}function Bi(e,t,n,i,a){return ze(t,n.coverFilePath),ze(e,n.filePath),{media_type:re.VIDEO,url:e,cover_url:t,width:i.width,height:i.height,duration:i.duration,upload_id:a||0}}function Es(e,t,n){let i=[],a=[];for(let o=0,r=t.length;o<r;o++){let s=t[o],l=e.mediaList[o],c=n.list[o];c.is_upload?s.media_type==re.PHOTO?a.push(Wi(c.dir,s,l,c.upload_id)):s.media_type==re.VIDEO&&a.push(Bi(c.dir,c.cover_url,s,l,c.upload_id)):(s.ossInfo=c,i.push(s),s.media_type==re.PHOTO?a.push(Wi(c.dir.path,s,l,c.upload_id)):s.media_type==re.VIDEO&&a.push(Bi(c.dir.path,c.dir.cover_path,s,l,c.upload_id)))}return{upFileList:i,mediaList:a}}function Ss(e,t,n,i){return new Promise((a,o)=>{Ri(t).then(r=>{r.status?(a(r),Ui(n)):(U.accessLogExtra("upload",i,r.msg),o(r))})})}function As(e,t){if(typeof e=="undefined"||isNaN(Number(e)))return!0;let n=F.appV<=Number(e);return t&&!n&&tn(),n}function tn(){ct(Re.PATH),ct(Re.VALUE),ct(Re.MAX_VERSION)}function ws(e,t){if(!getApp().globalData.isRouteRestart)return;let n=Oe(Re.PATH),i=Oe(Re.MAX_VERSION);if(b(n)||b(i)||!As(i,!0))return;let a=[],o=[];if(e==Wt.OPEN){let r=gt();if(b(r)||a.indexOf(r)!=-1)return;if(!b(o)){let s=Bt(),l=o.filter(c=>s.indexOf(c)!=-1);if(!b(l))return}}plus.runtime.install(n,{force:!0},()=>{tn(),setTimeout(()=>{Mi()},500)},()=>{tn()})}var ji={data(){return{userInitFinish:getApp().globalData.userInitFinish,isDefTab:!1,tabBarHeight:getApp().globalData.window.tabBarHeight+getApp().globalData.window.safeBottom}},methods:{tabBarChange(e){},onEventUserInit(e){this.userInitFinish=!0,typeof this.onEventUserInitAfter=="function"&&this.onEventUserInitAfter(e),this.isDefTab&&e.secret&&getApp().handleSecret(e.secret,$t.INIT)},initAppFirstHandleByCheckTab(){this.isDefTab&&(P("log","at pages/main.mixin.js:31","\u300ACycle\u300B\u300AApp init first in app\u300B *****"),uni.$on("event_album_publish",e=>{Vi(e)}))},unloadAppFirstHandleByCheckTab(){}},onTabItemTap(e){typeof this.onTabItemClick=="function"&&this.onTabItemClick(e),e&&e.index==ft[jn]&&ws(Wt.TAB_CLICK)},onShow(){let e=getApp().globalData.s.state.pubUnread;ai(ft.MESSAGE,e),getApp().globalData.isMainTabOnShowFilterAppShow&&getApp().socketCheckConnect(He.TAB_SHOW),getApp().checkAndroidPayStatus()},onLoad(){let e=gt();this.isDefTab=e==Hn[Vn],uni.$on("event_user_init",this.onEventUserInit),this.isDefTab&&(getApp().init(),this.initAppFirstHandleByCheckTab())},onUnload(){uni.$off("event_user_init",this.onEventUserInit),this.isDefTab&&this.unloadAppFirstHandleByCheckTab()},onBackPress(e){if(xi(!1),e.from=="backbutton")return!0}};var Zl=H(j());var Ts=18;function Et(e,t){return new Promise(n=>{let i=`SELECT * FROM tb_msg_index WHERE chat_id = ${e} AND chat_type = ${t} LIMIT 1`;be(i).then(a=>{let o=a[0];o&&(o.msg_content=xe(o.msg_content)),n(o)},()=>{n(null)})})}function nn(e,t){return new Promise(n=>{let i=t||Ts,a=i+1,o;e==0?o=`SELECT * FROM tb_msg_index ORDER BY ctime DESC LIMIT 0, ${a}`:o=`SELECT * FROM tb_msg_index WHERE ctime < ${e} ORDER BY ctime DESC LIMIT 0, ${a}`,be(o).then(r=>{n(pi(r,i))},r=>{n({rows:[],hasMore:!1,forLen:0,ctime:0,mtime:0})})})}function Hi(){return new Promise(e=>{be("SELECT count(*) as count from tb_msg_index WHERE unread > 0 AND msg_notice > 0").then(t=>{b(t)?e(0):e(t[0].count)},()=>{e(0)})})}function Gi(e,t){return new Promise(n=>{let i=`DELETE FROM tb_msg_index WHERE chat_id = ${e} AND chat_type = ${t}`;me(i).then(()=>{Is(e,t),n()},()=>{n()})})}function an(e,t,n){return new Promise(i=>{let a=`UPDATE tb_msg_index SET msg_content = '${fe(n)}' WHERE chat_id = ${e} AND chat_type = ${t}`;me(a).then(o=>{i()},()=>{i()})})}function Cs(e,t){return new Promise(n=>{let i=on(e);try{let a=`CREATE TABLE IF NOT EXISTS ${i} (id INTEGER PRIMARY KEY AUTOINCREMENT, chat_id INTEGER, chat_type INTEGER, send_uid INTEGER, mtime INTEGER, ctime INTEGER, msg_type INTEGER, msg_content varchar(500), msg_status INTEGER, m_type INTEGER, remark varchar(500))`;me(a).then(()=>{me(`CREATE index IF NOT EXISTS idx_ctime on ${i} (chat_id, ctime, chat_type)`),me(`CREATE index IF NOT EXISTS idx_mtime on ${i} (chat_id, mtime)`),n()})}catch(a){n()}})}function zi(e,t){let n=1;return new Promise(i=>{Cs(e.chat_id,e.chat_type).then(()=>vs(e)).then(a=>a!=1?(i({isSave:0,isNotice:n}),ve):Et(e.chat_id,e.chat_type)).then(a=>{let o=he(e.msg_content),r=typeof e.msg_status=="undefined"?0:Number(e.msg_status);isNaN(r)&&(r=0);let s,l=Ds(e,o),c=0,f,_="";b(e.remark)?a&&(_=a.remark||""):_=e.remark,a?(f=a.unread<=0,l?n=0:n=a.msg_notice,a.ctime<e.ctime&&(t&&e.send_uid!=getApp().globalData.uid&&getApp().globalData.curChatId!=e.chat_id?(c=l?0:1,s=`UPDATE tb_msg_index SET unread = ${a.unread+c}, send_uid = ${e.send_uid}, msg_type = ${e.msg_type}, msg_content = '${fe(e.msg_content)}', mtime = ${e.mtime}, ctime = ${e.ctime}, msg_status = ${r}, remark = '${fe(_)}' WHERE chat_id = ${e.chat_id} AND chat_type = ${e.chat_type}`):s=`UPDATE tb_msg_index SET send_uid = ${e.send_uid}, msg_type = ${e.msg_type}, msg_content = '${fe(e.msg_content)}', mtime = ${e.mtime}, ctime = ${e.ctime}, msg_status = ${r}, remark = '${fe(_)}' WHERE chat_id = ${e.chat_id} AND chat_type = ${e.chat_type}`)):(f=!0,n=l?0:1,c=t&&e.send_uid!=getApp().globalData.uid&&!l?1:0,s=`INSERT INTO tb_msg_index (chat_id, chat_type, send_uid, msg_type, msg_content, mtime, ctime, unread, is_top, msg_notice, has_at, msg_status, remark) values (${e.chat_id}, ${e.chat_type}, ${e.send_uid}, ${e.msg_type}, '${fe(e.msg_content)}', ${e.mtime}, ${e.ctime}, ${c}, ${B(e.is_top)}, ${Ns(e.msg_notice)}, 0, ${r}, '${fe(_)}')`),b(s)?i({isSave:1,isNotice:0,unread:c,addTabUnread:f}):me(s).then(S=>{i({isSave:1,isNotice:n,unread:c,addTabUnread:f})})})})}function vs(e){return new Promise(t=>{let n=on(e.chat_id,e.chat_type);be(`SELECT * FROM ${n} WHERE chat_id = ${e.chat_id} AND mtime = ${e.mtime} LIMIT 1`).then(i=>{if(i[0]){t(2);return}e.ctime=mi(e.ctime,e.mtime);let o=`INSERT INTO ${n} (chat_id, chat_type, send_uid, mtime, ctime, msg_type, msg_content, msg_status, m_type, remark) VALUES (${e.chat_id}, ${e.chat_type}, ${e.send_uid}, ${e.mtime}, ${e.ctime}, ${e.msg_type}, '${fe(e.msg_content)}', ${B(e.msg_status)}, 0, '')`;me(o).then(()=>{t(1)},()=>{t(0)})},i=>{t(0)})})}function Is(e,t){return ee(this,null,function*(){try{let n=on(e,t);if(!(yield fi(n)))return!1;yield me(`DELETE FROM ${n} WHERE chat_id = ${e}`)}catch(n){return!1}})}function Ds(e,t){return e.msg_type==ae.M_MATCH_SUCCESS||e.msg_type==ae.M_AI_ISSUE_GUIDE||e.msg_type==ae.M_AI_ISSUE_QUESTION||e.msg_type==ae.M_SERVICE_RATING?!0:e.msg_type!=ae.M_CALL||e.send_uid==getApp().globalData.uid?!1:t.call_status==2||t.call_status==1}function Ns(e){return e==null?1:parseInt(e)}function on(e,t){let n=Os();if(e==ae.SYSTEM_ID)return`${n}${e}`;let i=Number(e)%10;return`${n}${i}`}function Os(){return"tb_msg_"}function Yi(){return getApp().globalData.s.state.pubUser.is_auth}function rn(){return ni()}var ks="pubUnreadNotice";function Ji(){return dt(ks)}var pe=H(j()),Ls={"center-align":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"refresh-wrap":{"":{height:"80rpx",color:"#777777"}},loading:{".refresh-wrap ":{width:"50rpx",height:"50rpx",color:"#FFFFFF",position:"absolute"}}},Ms={props:{bgValue:{type:String,default:""},remainW:{type:Number,default:0}},emits:["onRefresh"],data(){return{sW:getApp().globalData.window.width,isAndroid:F.isAndroid,isRefreshing:!1,showPullLoading:!1}},computed:{bgColor(){return F.isAndroid?b(this.bgValue)?{backgroundColor:"transparent"}:this.bgValue:{}},loadingViewW(){return this.sW-this.remainW}},methods:{onPullingDown(){this.showPullLoading||(this.showPullLoading=!0)},onRefresh(){if(this.isRefreshing)return;this.isRefreshing||(this.isRefreshing=!0);let e=new Date().getTime();this.$emit("onRefresh",e)},refreshFinish(e){let t=new Date().getTime()-e;t<1e3?setTimeout(()=>{this.isRefreshing=!1,this.showPullLoading=!1},1e3-t):(this.isRefreshing=!1,this.showPullLoading=!1)}}};function xs(e,t,n,i,a,o){return(0,pe.openBlock)(),(0,pe.createElementBlock)("refresh",{onRefresh:t[0]||(t[0]=(...r)=>o.onRefresh&&o.onRefresh(...r)),onPullingdown:t[1]||(t[1]=(...r)=>o.onPullingDown&&o.onPullingDown(...r)),display:a.isRefreshing?"show":"hide",class:"center-align refresh-wrap",style:(0,pe.normalizeStyle)([{width:`${o.loadingViewW}px`},o.bgColor])},[a.showPullLoading&&!a.isAndroid?((0,pe.openBlock)(),(0,pe.createElementBlock)("loading-indicator",{key:0,class:"loading"})):(0,pe.createCommentVNode)("",!0),(0,pe.createElementVNode)("loading-indicator",{class:"loading"})],44,["display"])}var Ki=x(Ms,[["render",xs],["styles",[Ls]]]);var Rs={"msg-item":{"":{height:"144rpx",paddingTop:0,paddingRight:"20rpx",paddingBottom:"-10rpx",paddingLeft:"15rpx"}},"msg-content":{"":{height:"100rpx",marginLeft:"20rpx",flex:1}},"msg-text":{"":{flex:1,lines:1,fontSize:"24rpx",lineHeight:20,overflow:"hidden",textOverflow:"ellipsis",color:"rgba(255,255,255,0.7)"}},center:{"":{display:"flex",flexDirection:"row",alignItems:"center"}},"column-between":{"":{flexDirection:"column",justifyContent:"space-between"}},"center-between":{"":{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},"time-str":{"":{fontSize:"24rpx",color:"#999999",position:"absolute",top:"30rpx",right:"20rpx"}},line:{"":{height:"2rpx",backgroundColor:"rgba(255,255,255,0.15)",transform:"scaleY(0.5)",transformOrigin:"50% 100%",marginLeft:"20rpx"}},"m-t-10":{"":{marginTop:"20rpx"}}},Ps={components:{AvatarImgVip:Si},props:{user:{type:Object,default(){return{}}},item:{type:Object,default(){return{}}},nameWidth:{type:String,default:"300rpx"},indexStr:{type:String,default:""},nameColor:{type:String,default:"#333333"},msgTextColor:{type:String,default:"#999999"},lineBgColor:{type:String,default:"rgba(255, 255, 255, 0.15)"}},data(){return{}},computed:{placeW(){return 104*.84+"rpx"},contentW(){return getApp().globalData.window.width-uni.upx2px(210)},badgeStyle(){return{fontSize:"24rpx",color:"#FFFFFF",backgroundColor:this.item.msg_notice==0?"#CCCCCC":"#FF3B30",marginBottom:"2rpx"}},getTime(){return b(this.item.ctime)?"":$n(this.item.ctime)}},methods:{clickItem(){let e,t;this.user&&this.user.uid?(e=this.user,t=!1):(e={uid:this.item.chat_id},t=!0),zn(e,null,{refreshUser:t})}}};function Fs(e,t,n,i,a,o){let r=$((0,u.resolveDynamicComponent)("avatar-deleted-img"),yi),s=(0,u.resolveComponent)("avatar-img-vip"),l=$((0,u.resolveDynamicComponent)("u-base-info"),Ei),c=$((0,u.resolveDynamicComponent)("l-img"),ge),f=$((0,u.resolveDynamicComponent)("uni-badge"),Jt);return(0,u.openBlock)(),(0,u.createElementBlock)("view",{onClick:t[0]||(t[0]=(..._)=>o.clickItem&&o.clickItem(..._)),class:"msg-item center",renderWhole:!0},[n.user.is_cancel?((0,u.openBlock)(),(0,u.createBlock)(r,{key:0,onClick:(0,u.withModifiers)(o.clickItem,["stop"]),user:n.user,w:"104rpx",h:"104rpx",radius:"8rpx",setKey:"avatar","place-w":o.placeW,"place-type":2,"avatar-key":"avatar"},null,8,["onClick","user","place-w"])):((0,u.openBlock)(),(0,u.createBlock)(s,{key:1,onClick:(0,u.withModifiers)(o.clickItem,["stop"]),user:n.user,w:"104rpx",h:"104rpx",pl:"",radius:"8rpx",setKey:"avatar","place-w":"60rpx","place-type":2,"avatar-key":"avatar"},null,8,["onClick","user"])),(0,u.createElementVNode)("view",{class:"msg-content column-between",style:{flex:"1"}},[(0,u.createVNode)(l,{info:n.user,"show-country":!0,"show-sex":!1,"show-auth":!1,"show-age":!1,"show-country-code":!1,nameSize:"30rpx",fw:600,nameWidth:n.nameWidth,"name-color":n.nameColor},null,8,["info","nameWidth","name-color"]),(0,u.createElementVNode)("view",{class:"center-between m-t-10",style:(0,u.normalizeStyle)({width:`${o.contentW}px`})},[(0,u.createElementVNode)("view",{class:"center",style:{flex:"1",padding:"2rpx 0"}},[n.item.msg_status==1?((0,u.openBlock)(),(0,u.createBlock)(c,{key:0,src:"s/pub/i-error.png",w:"20rpx",h:"20rpx",style:{"margin-right":"6rpx"}})):(0,u.createCommentVNode)("",!0),(0,u.createElementVNode)("u-text",{class:"msg-text",style:(0,u.normalizeStyle)({color:`${n.msgTextColor}`})},(0,u.toDisplayString)(n.indexStr),5)]),(0,u.createElementVNode)("view",{class:"center",style:{"margin-left":"20rpx"}},[(0,u.createVNode)(f,{text:n.item.unread,"max-num":99999,size:"small","custom-style":o.badgeStyle},null,8,["text","custom-style"])])],4)]),(0,u.createElementVNode)("u-text",{class:"time-str"},(0,u.toDisplayString)(o.getTime),1)])}var Us=x(Ps,[["render",Fs],["styles",[Rs]]]),le={getObjKey(e,t){return`m_${e}_${t}`},getIndexCTime(e,t){return ee(this,null,function*(){if(e)return 0;let n=0,i,a=Object.keys(t);return a.length>0&&(i=t[a[a.length-1]].item,n=i.ctime),typeof n=="undefined"?(yield Et(i.chat_id,i.chat_type)).ctime:n})},getMsgIndexList(e,t){return ee(this,null,function*(){let n=yield le.getIndexCTime(e,t),i=yield nn(n);if(i.forLen<=0)return i;let a=$s(i);if(a.indexMoreNoCount==i.forLen)return i;let o={last_sync_mtime:0,last_mtime:a.indexMoreMTime};try{let r=yield U.request("/msg/sync",o,!1,!0);if(r.data&&r.data.list.length>0)for(let s=0,l=r.data.list.length;s<l;s++){let c=r.data.list[s];if(b(c.list))continue;c.user_infos&&(yield _i(c.user_infos));let f=c.list[0];f.unread=c.unread,yield zi(f,!1)}return a.indexMoreChatId&&a.indexMoreDelContent&&(yield an(a.indexMoreChatId,a.indexMoreChatType,JSON.stringify(a.indexMoreDelContent))),yield Ws(r.data.income_coins_list),nn(n)}catch(r){return P("error","at pages/message/msg.js:61","-----> \u83B7\u53D6\u6D88\u606Findex\u5931\u8D25 "+JSON.stringify(r)),i}})},getMsgItem(e,t,n){let i={id:e,item:t,user:n,sortTime:t.is_top?t.ctime*10:t.ctime};return i.indexStr=Kt(t,n),i},getPriItem(e,t,n){return t.chat_id==ae.SYSTEM_ID&&t.chat_type==Ae.M_CHAT_ASS&&(n.nickname=h("customerService")),{id:e,item:t,user:n,sortTime:t.is_top==1?t.ctime*10:t.ctime,indexStr:Kt(t,n)}},getPriDBItem(e,t){return{chat_id:e.chat_id,chat_type:e.chat_type,send_uid:e.send_uid,msg_type:e.msg_type,msg_content:e.msg_content,mtime:e.mtime,ctime:Un(e.ctime),unread:t,msg_status:e.msg_status}}};function $s(e){let t=0,n,i,a,o;for(let r=0,s=e.forLen;r<s;r++){let l=e.rows[r],c=he(l.msg_content);c&&c.index_more?(o=l.mtime,i=l.chat_id,a=l.chat_type,delete c.index_more,n=c):t+=1}return{indexMoreNoCount:t,indexMoreDelContent:n,indexMoreChatId:i,indexMoreChatType:a,indexMoreMTime:o}}function Ws(e){let t=0;return new Promise(n=>{if(b(e)){n();return}for(let i=0,a=e.length;i<a;i++){let o=e[i];an(o.chat_id,Ae.M_CHAT_PRI,o.msg_content).then(()=>{t++,t>=e.length&&n()},()=>{t++,t>=e.length&&n()})}})}var sn=getApp().globalData.window,Bs={data(){return{enterItemW:(sn.width-uni.upx2px(52)-30)/4,emptyBtnW:sn.width-40,pageViewW:sn.width,statusBarFontColor:"#FFFFFF",showNotice:!1,appName:h("message"),backgroundWidth:getApp().globalData.window.width,backgroundHeight:getApp().globalData.window.height-getApp().globalData.window.safeBottom,msgObj:{},userInfos:{},clubInfos:{},initFinish:!1,loadMore:"loading",loadContent:{contentrefresh:" ",contentnomore:" "},badgeStyle:{backgroundColor:"#FF3B30",color:"#FFFFFF",fontSize:"24rpx"},badgePosition:{position:"absolute",top:0,right:"0"},isAuth:Yi(),socketStatus:Be.DEFAULT,clickTitleCount:0,clickTitleTimer:!1,lastRefreshSawMeTime:0}},methods:{$str:h,clickCallRecord(){pt(Ge.callRecords)},clickNotify(){pt(Ge.notify,{noticeNum:this.noticeObj.noticeNum,friendRequestNum:this.noticeObj.friendRequestNum})},clickTitle(){this.clickTitleCount<=0&&(this.clickTitleTimer=setTimeout(()=>{this.clickTitleCount=0,clearTimeout(this.clickTitleTimer)},2e3)),this.clickTitleCount>=5?(U.request("/chat/msg/mq-status",{}).then(e=>{uni.showToast({title:"Send",duration:3e3,icon:"none",position:"center"})}),this.clickTitleCount=0,clearTimeout(this.clickTitleTimer)):this.clickTitleCount++},clickDelete(e,t){e&&e.stopPropagation();let n=this.$refs["swipe_action_item_"+t][0];n&&n.close(),ht(h("tips"),h("deleteIndexMsgTips"),()=>{let i=he(JSON.stringify(this.msgObj)),a=i[t].item;delete i[t],this.msgObj=i,Gi(a.chat_id,a.chat_type),U.request("/msg/delete",{chat_id:a.chat_id,chat_type:a.chat_type,mtime:0}),a.unread>0&&getApp().globalData.s.commit("setUnread",-1)},"",this.$str("delete"))},clickGetNotice(){ei(k.NOTIFY).then(e=>{})},changeOpenNotice(){this.showNotice=!Gt(k.NOTIFY),this.setUnread()},updatePriIndex(e,t){return ee(this,null,function*(){let n=le.getObjKey(e.chat_id,e.chat_type),i=e.user_info||(e==null?void 0:e.user_infos[e.chat_id]);i&&(this.userInfos[i.uid]=i);let a=t&&e.send_uid!=getApp().globalData.uid&&!Xn(e.chat_id,e.chat_type)?1:0,o=this.msgObj[n],r;o?r=o.item.unread+a:r=(yield Et(e.chat_id,e.chat_type)).unread;let s=le.getPriDBItem(e,r);o&&(s.msg_notice=o.item.msg_notice,s.is_top=o.item.is_top),this.msgObj[n]=le.getPriItem(n,s,i),this.msgObj=JSON.parse(JSON.stringify(yt(this.msgObj)))})},updatePriIndexSend(e){let t=e.user_info;if(!t)return;this.userInfos[t.uid]=t;let n=le.getObjKey(e.chat_id,e.chat_type),i=this.msgObj[n],a=i?i.item.unread:0,o=le.getPriDBItem(e,a);i&&(o.msg_notice=i.item.msg_notice,o.is_top=i.item.is_top),this.msgObj[n]=le.getPriItem(n,o,t),this.msgObj=JSON.parse(JSON.stringify(yt(this.msgObj)))},setUnread(){Hi().then(e=>{let t=Ji(),n=Number((t==null?void 0:t.noticeNum)||0)+Number((t==null?void 0:t.friendRequestNum)||0)>0;getApp().globalData.s.commit("initUnread",e+(n?1:0))})},onEventUserInitAfter(e){},onEventSyncFinish(){this.initMsgIndex(!0).then(()=>{uni.$emit("event_sync_finish_index")});let e=parseInt(new Date().getTime()/1e3);e-this.lastRefreshSawMeTime>180&&(this.lastRefreshSawMeTime=e)},onEventSyncAssFinish(){this.setUnread()},onLoadMore(){return ee(this,null,function*(){this.loadMore!="nomore"&&(this.loadMore="loading",yield this.initMsgIndex(!1))})},onRefresh(e){return ee(this,null,function*(){yield this.initMsgIndex(!0),this.$refs.nvueRefresh.refreshFinish(e),this.socketStatus=rn(),getApp().socketCheckConnect(He.MSG_INDEX_REFRESH)})},initMsgIndex(e){return ee(this,null,function*(){e&&this.setUnread();let t=yield le.getMsgIndexList(e,this.msgObj),n=[],i=[];for(let o=0,r=t.forLen;o<r;o++){let s=t.rows[o];n.push(s),i.indexOf(s.chat_id)==-1&&i.push(s.chat_id),b(this.userInfos[s.send_uid])&&i.indexOf(s.send_uid)==-1&&i.push(s.send_uid),s.contentObj=he(s.msg_content)}this.loadMore=t.hasMore?"loadmore":"nomore";let a=yield hi(i,!1);this.userInfos=Object.assign(this.userInfos,a),e&&(this.msgObj={});for(let o=0,r=n.length;o<r;o++){let s=n[o],l=le.getObjKey(s.chat_id,s.chat_type),c=this.userInfos[s.chat_id];this.msgObj[l]=le.getMsgItem(l,s,c)}return this.msgObj=yt(this.msgObj),this.$nextTick(()=>{this.$refs.msgIndexList.resetLoadmore()}),this.initFinish=!0,!0})}},onShow(){this.changeOpenNotice()},onLoad(){this.initMsgIndex(!0).then(()=>{uni.$on("event_socket_status",e=>{this.socketStatus=e}),this.socketStatus=rn()}),uni.$on("event_msg_index",(e,t)=>{e.chat_type==Ae.M_CHAT_PRI&&this.updatePriIndex(e,t)}),uni.$on("event_msg_index_send",(e,t)=>{e.chat_type==Ae.M_CHAT_PRI&&this.updatePriIndexSend(e)}),uni.$on("event_msg_index_unread",e=>{let t=le.getObjKey(e.chatId,e.chatType),n=this.msgObj[t];b(n)||(n.item.unread=0)}),uni.$on("event_sync_finish",this.onEventSyncFinish),uni.$on("event_sync_ass_finish",this.onEventSyncAssFinish),uni.$on("event_msg_index_refresh",()=>{this.initMsgIndex(!0)}),uni.$on("event_refresh_index_item_info",e=>{let t=le.getObjKey(e.chat_id,e.chat_type);e.chat_type==Ae.M_CHAT_PRI&&(this.msgObj[t].user=e.user)}),uni.$on("event_msg_index_update_user",e=>{let t=le.getObjKey(e.uid,Ae.M_CHAT_PRI);b(this.msgObj[t])||b(this.msgObj[t].user)||(e.is_cancel?(this.msgObj[t].user.avatar=Je.DELETED,this.msgObj[t].user.nickname=h("deleted"),this.msgObj[t].user.is_vip=0):e.is_blacked?this.msgObj[t].user.avatar=Je.BLACKED:this.msgObj[t].user.avatar=e.avatar)})},onUnload(){uni.$off("event_msg_index_unread"),uni.$off("event_msg_index_send"),uni.$off("event_msg_index"),uni.$off("event_sync_finish",this.onEventSyncFinish),uni.$off("event_sync_ass_finish",this.onEventSyncAssFinish),uni.$off("event_msg_index_refresh"),uni.$off("event_refresh_index_item_info"),uni.$off("event_msg_index_update_user")}},Vs={computed:{noticeNum(){var e;return((e=this.noticeObj)==null?void 0:e.noticeNum)+this.noticeObj.friendRequestNum}},data(){return{noticeObj:getApp().globalData.s.state.noticeObj}},methods:{onUnreadNoticeWatch(){this.noticeObj=getApp().globalData.s.state.noticeObj}},onLoad(){uni.$on("event_vuex_watch_unreadNotice",this.onUnreadNoticeWatch)},onUnload(){uni.$off("event_vuex_watch_unreadNotice",this.onUnreadNoticeWatch)},created(){uni.$on("event_vuex_watch_unreadNotice",this.onUnreadNoticeWatch)},destroyed(){uni.$off("event_vuex_watch_unreadNotice",this.onUnreadNoticeWatch)},unmounted(){uni.$off("event_vuex_watch_unreadNotice",this.onUnreadNoticeWatch)}},js={"msg-list-box":{"":{flex:1,paddingTop:"20rpx",paddingRight:"20rpx",paddingBottom:"20rpx",paddingLeft:"20rpx"}},"list-wrap":{"":{flex:1,borderRadius:"16rpx"}},"right-options":{".list-wrap ":{width:"144rpx",height:"144rpx",backgroundColor:"#FF3B30",borderTopLeftRadius:0,borderTopRightRadius:"16rpx",borderBottomRightRadius:"16rpx",borderBottomLeftRadius:0}},"center-align":{"":{display:"flex",justifyContent:"center",alignItems:"center"}},notification:{"":{height:"88rpx",borderRadius:"16rpx",backgroundColor:"rgba(255,255,255,0.9)",paddingTop:0,paddingRight:"20rpx",paddingBottom:0,paddingLeft:"20rpx"}},"m-t-4":{"":{marginTop:"8rpx"}},"f-12":{"":{fontSize:"24rpx"}},"f-10":{"":{fontSize:"20rpx"}},"c-f":{"":{color:"#FFFFFF"}},"c-f-oa":{"":{color:"rgba(255,255,255,0.7)"}},"f-w5":{"":{fontWeight:"500"}},"center-between":{"":{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:"20rpx"}},"f-8":{"":{fontSize:"16rpx"}},"c-3":{"":{color:"#333333"}},"c-9":{"":{color:"#999999"}},turnOnBtn:{"":{position:"relative",width:"124rpx",height:"52rpx",borderRadius:"16rpx"}},"turn-btn-item":{"":{position:"absolute",top:0,left:0,width:"124rpx",height:"52rpx",alignItems:"center",justifyContent:"center"}},"empty-person-wrap":{"":{paddingTop:"300rpx"}},"empty-tips":{".empty-person-wrap ":{fontSize:"24rpx",textAlign:"center",marginTop:"20rpx",color:"#FFFFFF",fontWeight:"400"}},"msg-item-box":{"":{backgroundColor:"rgba(255,255,255,0.9)",borderRadius:"16rpx"}},"background-img":{"":{position:"absolute",top:0,left:0,zIndex:-10}},"column-center":{"":{alignItems:"center"}},center:{"":{display:"flex",flexDirection:"row",alignItems:"center"}},"notify-wrap":{"":{paddingTop:"8rpx",paddingRight:"4rpx",paddingBottom:0,paddingLeft:0}}},Hs={components:{NvueRefresh:Ki},mixins:[ji,Bs,Vs]};function Gs(e,t,n,i,a,o){let r=$((0,u.resolveDynamicComponent)("l-img"),ge),s=$((0,u.resolveDynamicComponent)("uni-badge"),Jt),l=$((0,u.resolveDynamicComponent)("uni-nav-bar"),di),c=(0,u.resolveComponent)("nvue-refresh"),f=$((0,u.resolveDynamicComponent)("msg-item"),Us),_=$((0,u.resolveDynamicComponent)("uni-swipe-action-item"),vi),S=$((0,u.resolveDynamicComponent)("uni-swipe-action"),Ii),I=$((0,u.resolveDynamicComponent)("uni-load-more"),Li);return(0,u.openBlock)(),(0,u.createElementBlock)("scroll-view",{scrollY:!0,showScrollbar:!0,enableBackToTop:!0,bubble:"true",style:{flexDirection:"column"}},[(0,u.createElementVNode)("view",{class:"background-img"},[(0,u.createVNode)(r,{src:"/static/background-img.png",w:`${e.backgroundWidth}px`,h:`${e.backgroundHeight}px`},null,8,["w","h"])]),(0,u.createVNode)(l,{title:e.appName,color:"#ffffff","left-icon":"","status-bar":"","background-color":"transparent",border:!1},{right:(0,u.withCtx)(()=>[(0,u.createElementVNode)("view",{class:"center",style:{flex:"1","justify-content":"space-between"}},[(0,u.createElementVNode)("view",{onClick:t[0]||(t[0]=(0,u.withModifiers)((...A)=>e.clickCallRecord&&e.clickCallRecord(...A),["stop"])),class:"call-record-wrap"},[(0,u.createVNode)(r,{src:"/static/pic/call-record-icon.png",w:"48rpx",h:"48rpx"})]),(0,u.createElementVNode)("view",{onClick:t[1]||(t[1]=(...A)=>e.clickNotify&&e.clickNotify(...A)),class:"notify-wrap"},[(0,u.createVNode)(r,{src:"/static/pic/notify-icon.png",w:"48rpx",h:"48rpx"}),e.noticeNum?((0,u.openBlock)(),(0,u.createBlock)(s,{key:0,text:e.noticeNum,maxNum:99999,size:"small",style:(0,u.normalizeStyle)(e.badgePosition),customStyle:e.badgeStyle},null,8,["text","style","customStyle"])):(0,u.createCommentVNode)("",!0)])])]),_:1},8,["title"]),(0,u.createElementVNode)("view",{class:"msg-list-box"},[e.showNotice?((0,u.openBlock)(),(0,u.createElementBlock)("view",{key:0,onClick:t[2]||(t[2]=(...A)=>e.clickGetNotice&&e.clickGetNotice(...A)),class:"center-between notification"},[(0,u.createElementVNode)("view",null,[(0,u.createElementVNode)("u-text",{class:"f-12 c-3 f-w5"},(0,u.toDisplayString)(e.$str("turnOnNotification")),1),(0,u.createElementVNode)("u-text",{class:"m-t-4 f-10 c-9"},(0,u.toDisplayString)(e.$str("toNeverMissNewMessages")),1)]),(0,u.createElementVNode)("view",{class:"center-align turnOnBtn"},[(0,u.createVNode)(r,{src:"/static/trun_on.png",w:"124rpx",h:"52rpx"}),(0,u.createElementVNode)("view",{class:"turn-btn-item"},[(0,u.createElementVNode)("u-text",{class:"f-8 c-3 f-w5"},(0,u.toDisplayString)(e.$str("turnOn")),1)])])])):(0,u.createCommentVNode)("",!0),(0,u.createElementVNode)("list",{ref:"msgIndexList",scrollable:!0,showScrollbar:!1,onLoadmore:t[3]||(t[3]=(...A)=>e.onLoadMore&&e.onLoadMore(...A)),loadmoreoffset:20,offsetAccuracy:10,class:"list-wrap"},[(0,u.createVNode)(c,{ref:"nvueRefresh",onOnRefresh:e.onRefresh},null,8,["onOnRefresh"]),(0,u.createElementVNode)("cell",null,[(0,u.createVNode)(S,null,{default:(0,u.withCtx)(()=>[((0,u.openBlock)(!0),(0,u.createElementBlock)(u.Fragment,null,(0,u.renderList)(e.msgObj,(A,D,y)=>((0,u.openBlock)(),(0,u.createElementBlock)("view",{key:y,class:"msg-item-box",style:{"margin-bottom":"20rpx"}},[(0,u.createVNode)(_,{ref_for:!0,ref:`swipe_action_item_${D}`},{right:(0,u.withCtx)(()=>[(0,u.createElementVNode)("view",{onClick:C=>e.clickDelete(C,A.id),class:"right-options center-align"},[(0,u.createVNode)(r,{src:"/static/meg-delete.png",w:"48rpx",h:"48rpx"})],8,["onClick"])]),default:(0,u.withCtx)(()=>[(0,u.createElementVNode)("view",null,[(0,u.createVNode)(f,{user:A.user,item:A.item,indexStr:A.indexStr},null,8,["user","item","indexStr"])])]),_:2},1536)]))),128))]),_:1})]),e.initFinish&&Object.keys(e.msgObj).length<=0?((0,u.openBlock)(),(0,u.createElementBlock)("cell",{key:0,class:"column-center empty-person-wrap"},[(0,u.createVNode)(r,{src:"/static/meg-empty.png",needStyle:1,w:"303rpx",h:"268rpx"}),(0,u.createElementVNode)("u-text",{class:"empty-tips",style:{"margin-bottom":"20rpx"}},(0,u.toDisplayString)(e.$str("noMessageHere")),1)])):(0,u.createCommentVNode)("",!0),e.loadMore!="nomore"?((0,u.openBlock)(),(0,u.createElementBlock)("header",{key:1},[(0,u.createVNode)(I,{status:e.loadMore,contentText:e.loadContent,color:"#777777"},null,8,["status","contentText"])])):(0,u.createCommentVNode)("",!0)],544),(0,u.createElementVNode)("view",{style:(0,u.normalizeStyle)([{height:e.tabBarHeight+"px"},{width:"1px"}])},null,4)])])}var St=x(Hs,[["render",Gs],["styles",[js]]]);var ln=plus.webview.currentWebview();if(ln){let e=parseInt(ln.id),t="pages/message/index",n={};try{n=JSON.parse(ln.__query__)}catch(a){}St.mpType="page";let i=Vue.createPageApp(St,{$store:getApp({allowDefault:!0}).$store,__pageId:e,__pagePath:t,__pageQuery:n});i.provide("__globalStyles",Vue.useCssStyles([...__uniConfig.styles,...St.styles||[]])),i.mount("#root")}})();
/*!
  * @intlify/shared v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/message-resolver v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/runtime v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/message-compiler v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/core-base v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * vue-i18n v9.1.9
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */
