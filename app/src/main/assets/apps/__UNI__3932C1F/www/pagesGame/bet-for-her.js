"use weex:vue";

if (typeof Promise !== 'undefined' && !Promise.prototype.finally) {
  Promise.prototype.finally = function(callback) {
    const promise = this.constructor
    return this.then(
      value => promise.resolve(callback()).then(() => value),
      reason => promise.resolve(callback()).then(() => {
        throw reason
      })
    )
  }
};

if (typeof uni !== 'undefined' && uni && uni.requireGlobal) {
  const global = uni.requireGlobal()
  ArrayBuffer = global.ArrayBuffer
  Int8Array = global.Int8Array
  Uint8Array = global.Uint8Array
  Uint8ClampedArray = global.Uint8ClampedArray
  Int16Array = global.Int16Array
  Uint16Array = global.Uint16Array
  Int32Array = global.Int32Array
  Uint32Array = global.Uint32Array
  Float32Array = global.Float32Array
  Float64Array = global.Float64Array
  BigInt64Array = global.BigInt64Array
  BigUint64Array = global.BigUint64Array
};


(()=>{var Ra=Object.create;var Nt=Object.defineProperty,Ma=Object.defineProperties,Ba=Object.getOwnPropertyDescriptor,Pa=Object.getOwnPropertyDescriptors,Ha=Object.getOwnPropertyNames,yi=Object.getOwnPropertySymbols,Wa=Object.getPrototypeOf,Ai=Object.prototype.hasOwnProperty,Ua=Object.prototype.propertyIsEnumerable;var wi=(e,t,i)=>t in e?Nt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,Ot=(e,t)=>{for(var i in t||(t={}))Ai.call(t,i)&&wi(e,i,t[i]);if(yi)for(var i of yi(t))Ua.call(t,i)&&wi(e,i,t[i]);return e},xi=(e,t)=>Ma(e,Pa(t));var Ci=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ga=(e,t,i,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Ha(t))!Ai.call(e,n)&&n!==i&&Nt(e,n,{get:()=>t[n],enumerable:!(a=Ba(t,n))||a.enumerable});return e};var ae=(e,t,i)=>(i=e!=null?Ra(Wa(e)):{},Ga(t||!e||!e.__esModule?Nt(i,"default",{value:e,enumerable:!0}):i,e));var Di=(e,t,i)=>new Promise((a,n)=>{var r=c=>{try{l(i.next(c))}catch(u){n(u)}},o=c=>{try{l(i.throw(c))}catch(u){n(u)}},l=c=>c.done?a(c.value):Promise.resolve(c.value).then(r,o);l((i=i.apply(e,t)).next())});var ce=Ci((Dc,Si)=>{Si.exports=Vue});var Rt=Ci((Sc,Ei)=>{Ei.exports=uni.Vuex});var E=ae(ce()),Zi=ae(Rt());var ja=e=>typeof e=="string";function At(e){return weex.requireModule(e)}function k(e,t,...i){uni.__log__?uni.__log__(e,t,...i):console[e].apply(console,[...i,t])}function v(e,t){return ja(e)?t:e}var za="dev",Xi,Qi,en,tn,nn;Xi="https://ztest1.candychat.link",tn="https://mtest2.candychat.link",nn="https://atest3.267girl.com",Qi="https://pic2.candychat.link/",en="https://pic3.candychat.link/";var Va={wv:"13.2.0",ENV:za,apiHost:Xi,ossPath:Qi,pApiHost:tn,oApiHost:nn,ossPicPath:en,zT:3,appId:plus.runtime.appid,appV:parseInt(plus.runtime.version.split(".").join("")),OSS_PATH_V:1,OSS_PIC_PATH_V:1,API_HOST_V:1,isAndroid:plus.os.name=="Android",PHOTO:1,VIDEO:2,VOICE:3,TXT:4,SYSTEM_ID:1e7,M_TEXT:1,M_VOICE:2,M_IMG:3,M_GIFT:5,M_NOTICE:6,M_CALL:8,M_RECOMMEND_USER:11,M_RECOMMEND_CLUB:12,M_VIDEO:18,M_GIFT_ASK:21,M_NOTICE_SYS:22,M_EXPRESSION:23,M_LETTER:24,M_PAID_PHOTO:25,M_PAID_VIDEO:26,M_MATCH_SUCCESS:27,M_N_DEF:100,M_N_AUDIT:103,M_N_VIP:104,M_N_RECHARGE:105,M_N_CLUB_AUDIT_REJECT:106,M_N_CLUB_AUDIT:107,M_N_GREETING_AUDIT:115,M_N_SYS_NOTICE:116,M_N_CALL:117,M_N_COOPERATE:118,M_N_WITHDRAW:119,M_N_REPORT_AUDIT:120,M_N_IMG:121,M_N_PRIVACY_CALL:122,M_N_WITHDRAW_NOTICE:123,M_N_WITH_MEDIA:124,M_N_MONITOR:202,M_C_RECHARGE:1001,M_C_CALL_TEXT_AUDIO:1002,M_CHAT_PRI:1,M_CHAT_CLUB:2,M_CHAT_ASS:3,M_CHAT_NOTICE:4,M_CHAT_NOTIFY:5,M_CHAT_CLUB_NOTICE:6,PAY_TYPE_SUCCESS:0,PAY_TYPE_FAIL:1,PAY_TYPE_CANCEL:2,PAY_TYPE_NOT_EXIST:3,PAY_TYPE_NOT_ALLOW:4,PAY_TYPE_ERROR:5,MATCH_PRICE:10},ee=Va;var Ge={FIND:0,USER:1,MSG:2,MY:3},ct={FIND:"/pages/user/index",MSG:"/pages/msg/index",CALL:"/pages/call-history/index",USER:"/pages/user/index",MY:"/pages/my/index"};var Ya={en:{title:"English",language:"en",code:"en-US"},es:{title:"espa\xF1ol",language:"es",code:"es-ES"},ar:{title:"\u0639\u0631\u0628\u064A",language:"ar",code:"ar-SA"},vi:{title:"Ti\u1EBFng Vi\u1EC7t",language:"vi",code:"vi-VN"},tr:{title:"T\xFCrk\xE7e",language:"tr",code:"tr-TR"},pt:{title:"Portugu\xEAs",language:"pt",code:"pt-PT"}};var Ti={SUPER:1,KEFU:2};var Ka={DISBAND:1,CHECK_RESULT:2};var Ja=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Ce=e=>Ja?Symbol(e):e,$a=(e,t,i)=>qa({l:e,k:t,s:i}),qa=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),X=e=>typeof e=="number"&&isFinite(e),Za=e=>Zt(e)==="[object Date]",_t=e=>Zt(e)==="[object RegExp]",xt=e=>L(e)&&Object.keys(e).length===0;function Xa(e,t){typeof console!="undefined"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}var se=Object.assign;function vi(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}var Qa=Object.prototype.hasOwnProperty;function an(e,t){return Qa.call(e,t)}var $=Array.isArray,Q=e=>typeof e=="function",w=e=>typeof e=="string",z=e=>typeof e=="boolean",te=e=>e!==null&&typeof e=="object",rn=Object.prototype.toString,Zt=e=>rn.call(e),L=e=>Zt(e)==="[object Object]",er=e=>e==null?"":$(e)||L(e)&&e.toString===rn?JSON.stringify(e,null,2):String(e);var tr=Object.prototype.hasOwnProperty;function ir(e,t){return tr.call(e,t)}var gt=e=>e!==null&&typeof e=="object",De=[];De[0]={w:[0],i:[3,0],["["]:[4],o:[7]};De[1]={w:[1],["."]:[2],["["]:[4],o:[7]};De[2]={w:[2],i:[3,0],[0]:[3,0]};De[3]={i:[3,0],[0]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};De[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};De[5]={["'"]:[4,0],o:8,l:[5,0]};De[6]={['"']:[4,0],o:8,l:[6,0]};var nr=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function ar(e){return nr.test(e)}function rr(e){let t=e.charCodeAt(0),i=e.charCodeAt(e.length-1);return t===i&&(t===34||t===39)?e.slice(1,-1):e}function sr(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function or(e){let t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:ar(t)?rr(t):"*"+t}function lr(e){let t=[],i=-1,a=0,n=0,r,o,l,c,u,m,_,A=[];A[0]=()=>{o===void 0?o=l:o+=l},A[1]=()=>{o!==void 0&&(t.push(o),o=void 0)},A[2]=()=>{A[0](),n++},A[3]=()=>{if(n>0)n--,a=4,A[0]();else{if(n=0,o===void 0||(o=or(o),o===!1))return!1;A[1]()}};function x(){let S=e[i+1];if(a===5&&S==="'"||a===6&&S==='"')return i++,l="\\"+S,A[0](),!0}for(;a!==null;)if(i++,r=e[i],!(r==="\\"&&x())){if(c=sr(r),_=De[a],u=_[c]||_.l||8,u===8||(a=u[0],u[1]!==void 0&&(m=A[u[1]],m&&(l=r,m()===!1))))return;if(a===7)return t}}var Li=new Map;function bt(e,t){if(!gt(e))return null;let i=Li.get(t);if(i||(i=lr(t),i&&Li.set(t,i)),!i)return null;let a=i.length,n=e,r=0;for(;r<a;){let o=n[i[r]];if(o===void 0)return null;n=o,r++}return n}function Ht(e){if(!gt(e))return e;for(let t in e)if(ir(e,t))if(!t.includes("."))gt(e[t])&&Ht(e[t]);else{let i=t.split("."),a=i.length-1,n=e;for(let r=0;r<a;r++)i[r]in n||(n[i[r]]={}),n=n[i[r]];n[i[a]]=e[t],delete e[t],gt(n[i[a]])&&Ht(n[i[a]])}return e}var cr=e=>e,ur=e=>"",mr="text",fr=e=>e.length===0?"":e.join(""),dr=er;function Ii(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function pr(e){let t=X(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(X(e.named.count)||X(e.named.n))?X(e.named.count)?e.named.count:X(e.named.n)?e.named.n:t:t}function gr(e,t){t.count||(t.count=e),t.n||(t.n=e)}function hr(e={}){let t=e.locale,i=pr(e),a=te(e.pluralRules)&&w(t)&&Q(e.pluralRules[t])?e.pluralRules[t]:Ii,n=te(e.pluralRules)&&w(t)&&Q(e.pluralRules[t])?Ii:void 0,r=C=>C[a(i,C.length,n)],o=e.list||[],l=C=>o[C],c=e.named||{};X(e.pluralIndex)&&gr(i,c);let u=C=>c[C];function m(C){let F=Q(e.messages)?e.messages(C):te(e.messages)?e.messages[C]:!1;return F||(e.parent?e.parent.message(C):ur)}let _=C=>e.modifiers?e.modifiers[C]:cr,A=L(e.processor)&&Q(e.processor.normalize)?e.processor.normalize:fr,x=L(e.processor)&&Q(e.processor.interpolate)?e.processor.interpolate:dr,S=L(e.processor)&&w(e.processor.type)?e.processor.type:mr,M={list:l,named:u,plural:r,linked:(C,F)=>{let G=m(C)(M);return w(F)?_(F)(G):G},message:m,type:S,interpolate:x,normalize:A};return M}function sn(e,t,i={}){let{domain:a,messages:n,args:r}=i,o=e,l=new SyntaxError(String(o));return l.code=e,t&&(l.location=t),l.domain=a,l}var _r="9.1.9",Ct=-1,Fi="";function br(){return{upper:e=>w(e)?e.toUpperCase():e,lower:e=>w(e)?e.toLowerCase():e,capitalize:e=>w(e)?`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`:e}}var yr,ki=0;function wr(e={}){let t=w(e.version)?e.version:_r,i=w(e.locale)?e.locale:"en-US",a=$(e.fallbackLocale)||L(e.fallbackLocale)||w(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:i,n=L(e.messages)?e.messages:{[i]:{}},r=L(e.datetimeFormats)?e.datetimeFormats:{[i]:{}},o=L(e.numberFormats)?e.numberFormats:{[i]:{}},l=se({},e.modifiers||{},br()),c=e.pluralRules||{},u=Q(e.missing)?e.missing:null,m=z(e.missingWarn)||_t(e.missingWarn)?e.missingWarn:!0,_=z(e.fallbackWarn)||_t(e.fallbackWarn)?e.fallbackWarn:!0,A=!!e.fallbackFormat,x=!!e.unresolving,S=Q(e.postTranslation)?e.postTranslation:null,M=L(e.processor)?e.processor:null,C=z(e.warnHtmlMessage)?e.warnHtmlMessage:!0,F=!!e.escapeParameter,G=Q(e.messageCompiler)?e.messageCompiler:yr,B=Q(e.onWarn)?e.onWarn:Xa,b=e,N=te(b.__datetimeFormatters)?b.__datetimeFormatters:new Map,me=te(b.__numberFormatters)?b.__numberFormatters:new Map,Ie=te(b.__meta)?b.__meta:{};return ki++,{version:t,cid:ki,locale:i,fallbackLocale:a,messages:n,datetimeFormats:r,numberFormats:o,modifiers:l,pluralRules:c,missing:u,missingWarn:m,fallbackWarn:_,fallbackFormat:A,unresolving:x,postTranslation:S,processor:M,warnHtmlMessage:C,escapeParameter:F,messageCompiler:G,onWarn:B,__datetimeFormatters:N,__numberFormatters:me,__meta:Ie}}function Xt(e,t,i,a,n){let{missing:r,onWarn:o}=e;if(r!==null){let l=r(e,i,t,n);return w(l)?l:t}else return t}function it(e,t,i){let a=e;a.__localeChainCache||(a.__localeChainCache=new Map);let n=a.__localeChainCache.get(i);if(!n){n=[];let r=[i];for(;$(r);)r=Ni(n,r,t);let o=$(t)?t:L(t)?t.default?t.default:null:t;r=w(o)?[o]:o,$(r)&&Ni(n,r,!1),a.__localeChainCache.set(i,n)}return n}function Ni(e,t,i){let a=!0;for(let n=0;n<t.length&&z(a);n++){let r=t[n];w(r)&&(a=Ar(e,t[n],i))}return a}function Ar(e,t,i){let a,n=t.split("-");do{let r=n.join("-");a=xr(e,r,i),n.splice(-1,1)}while(n.length&&a===!0);return a}function xr(e,t,i){let a=!1;if(!e.includes(t)&&(a=!0,t)){a=t[t.length-1]!=="!";let n=t.replace(/!/g,"");e.push(n),($(i)||L(i))&&i[n]&&(a=i[n])}return a}function Ze(e,t,i){let a=e;a.__localeChainCache=new Map,it(e,i,t)}function We(e){return sn(e,null,void 0)}var Oi=()=>"",Ne=e=>Q(e);function Ri(e,...t){let{fallbackFormat:i,postTranslation:a,unresolving:n,fallbackLocale:r,messages:o}=e,[l,c]=Wt(...t),u=z(c.missingWarn)?c.missingWarn:e.missingWarn,m=z(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,_=z(c.escapeParameter)?c.escapeParameter:e.escapeParameter,A=!!c.resolvedMessage,x=w(c.default)||z(c.default)?z(c.default)?l:c.default:i?l:"",S=i||x!=="",M=w(c.locale)?c.locale:e.locale;_&&Cr(c);let[C,F,G]=A?[l,M,o[M]||{}]:Dr(e,l,M,r,m,u),B=l;if(!A&&!(w(C)||Ne(C))&&S&&(C=x,B=C),!A&&(!(w(C)||Ne(C))||!w(F)))return n?Ct:l;let b=!1,N=()=>{b=!0},me=Ne(C)?C:on(e,l,F,C,B,N);if(b)return C;let Ie=Tr(e,F,G,c),le=hr(Ie),fe=Sr(e,me,le);return a?a(fe):fe}function Cr(e){$(e.list)?e.list=e.list.map(t=>w(t)?vi(t):t):te(e.named)&&Object.keys(e.named).forEach(t=>{w(e.named[t])&&(e.named[t]=vi(e.named[t]))})}function Dr(e,t,i,a,n,r){let{messages:o,onWarn:l}=e,c=it(e,a,i),u={},m,_=null,A="translate";for(let x=0;x<c.length&&(m=c[x],u=o[m]||{},(_=bt(u,t))===null&&(_=u[t]),!(w(_)||Q(_)));x++){let S=Xt(e,t,m,r,A);S!==t&&(_=S)}return[_,m,u]}function on(e,t,i,a,n,r){let{messageCompiler:o,warnHtmlMessage:l}=e;if(Ne(a)){let u=a;return u.locale=u.locale||i,u.key=u.key||t,u}let c=o(a,Er(e,i,n,a,l,r));return c.locale=i,c.key=t,c.source=a,c}function Sr(e,t,i){return t(i)}function Wt(...e){let[t,i,a]=e,n={};if(!w(t)&&!X(t)&&!Ne(t))throw We(14);let r=X(t)?String(t):(Ne(t),t);return X(i)?n.plural=i:w(i)?n.default=i:L(i)&&!xt(i)?n.named=i:$(i)&&(n.list=i),X(a)?n.plural=a:w(a)?n.default=a:L(a)&&se(n,a),[r,n]}function Er(e,t,i,a,n,r){return{warnHtmlMessage:n,onError:o=>{throw r&&r(o),o},onCacheKey:o=>$a(t,i,o)}}function Tr(e,t,i,a){let{modifiers:n,pluralRules:r}=e,l={locale:t,modifiers:n,pluralRules:r,messages:c=>{let u=bt(i,c);if(w(u)){let m=!1,A=on(e,c,t,u,c,()=>{m=!0});return m?Oi:A}else return Ne(u)?u:Oi}};return e.processor&&(l.processor=e.processor),a.list&&(l.list=a.list),a.named&&(l.named=a.named),X(a.plural)&&(l.pluralIndex=a.plural),l}function Mi(e,...t){let{datetimeFormats:i,unresolving:a,fallbackLocale:n,onWarn:r}=e,{__datetimeFormatters:o}=e,[l,c,u,m]=Ut(...t),_=z(u.missingWarn)?u.missingWarn:e.missingWarn;z(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;let A=!!u.part,x=w(u.locale)?u.locale:e.locale,S=it(e,n,x);if(!w(l)||l==="")return new Intl.DateTimeFormat(x).format(c);let M={},C,F=null,G="datetime format";for(let N=0;N<S.length&&(C=S[N],M=i[C]||{},F=M[l],!L(F));N++)Xt(e,l,C,_,G);if(!L(F)||!w(C))return a?Ct:l;let B=`${C}__${l}`;xt(m)||(B=`${B}__${JSON.stringify(m)}`);let b=o.get(B);return b||(b=new Intl.DateTimeFormat(C,se({},F,m)),o.set(B,b)),A?b.formatToParts(c):b.format(c)}function Ut(...e){let[t,i,a,n]=e,r={},o={},l;if(w(t)){if(!/\d{4}-\d{2}-\d{2}(T.*)?/.test(t))throw We(16);l=new Date(t);try{l.toISOString()}catch(c){throw We(16)}}else if(Za(t)){if(isNaN(t.getTime()))throw We(15);l=t}else if(X(t))l=t;else throw We(14);return w(i)?r.key=i:L(i)&&(r=i),w(a)?r.locale=a:L(a)&&(o=a),L(n)&&(o=n),[r.key||"",l,r,o]}function Bi(e,t,i){let a=e;for(let n in i){let r=`${t}__${n}`;a.__datetimeFormatters.has(r)&&a.__datetimeFormatters.delete(r)}}function Pi(e,...t){let{numberFormats:i,unresolving:a,fallbackLocale:n,onWarn:r}=e,{__numberFormatters:o}=e,[l,c,u,m]=Gt(...t),_=z(u.missingWarn)?u.missingWarn:e.missingWarn;z(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;let A=!!u.part,x=w(u.locale)?u.locale:e.locale,S=it(e,n,x);if(!w(l)||l==="")return new Intl.NumberFormat(x).format(c);let M={},C,F=null,G="number format";for(let N=0;N<S.length&&(C=S[N],M=i[C]||{},F=M[l],!L(F));N++)Xt(e,l,C,_,G);if(!L(F)||!w(C))return a?Ct:l;let B=`${C}__${l}`;xt(m)||(B=`${B}__${JSON.stringify(m)}`);let b=o.get(B);return b||(b=new Intl.NumberFormat(C,se({},F,m)),o.set(B,b)),A?b.formatToParts(c):b.format(c)}function Gt(...e){let[t,i,a,n]=e,r={},o={};if(!X(t))throw We(14);let l=t;return w(i)?r.key=i:L(i)&&(r=i),w(a)?r.locale=a:L(a)&&(o=a),L(n)&&(o=n),[r.key||"",l,r,o]}function Hi(e,t,i){let a=e;for(let n in i){let r=`${t}__${n}`;a.__numberFormatters.has(r)&&a.__numberFormatters.delete(r)}}var vr="9.1.9";function ke(e,...t){return sn(e,null,void 0)}var jt=Ce("__transrateVNode"),zt=Ce("__datetimeParts"),Vt=Ce("__numberParts");Ce("__enableEmitter");Ce("__disableEmitter");var Lr=Ce("__setPluralRules");Ce("__intlifyMeta");var ln=Ce("__injectWithOption"),Wi=0;function Ui(e){return(t,i,a,n)=>e(i,a,(0,E.getCurrentInstance)()||void 0,n)}function cn(e,t){let{messages:i,__i18n:a}=t,n=L(i)?i:$(a)?{}:{[e]:{}};if($(a)&&a.forEach(({locale:r,resource:o})=>{r?(n[r]=n[r]||{},yt(o,n[r])):yt(o,n)}),t.flatJson)for(let r in n)an(n,r)&&Ht(n[r]);return n}var ut=e=>!te(e)||$(e);function yt(e,t){if(ut(e)||ut(t))throw ke(20);for(let i in e)an(e,i)&&(ut(e[i])||ut(t[i])?t[i]=e[i]:yt(e[i],t[i]))}function Ir(e={}){let{__root:t}=e,i=t===void 0,a=z(e.inheritLocale)?e.inheritLocale:!0,n=(0,E.ref)(t&&a?t.locale.value:w(e.locale)?e.locale:"en-US"),r=(0,E.ref)(t&&a?t.fallbackLocale.value:w(e.fallbackLocale)||$(e.fallbackLocale)||L(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:n.value),o=(0,E.ref)(cn(n.value,e)),l=(0,E.ref)(L(e.datetimeFormats)?e.datetimeFormats:{[n.value]:{}}),c=(0,E.ref)(L(e.numberFormats)?e.numberFormats:{[n.value]:{}}),u=t?t.missingWarn:z(e.missingWarn)||_t(e.missingWarn)?e.missingWarn:!0,m=t?t.fallbackWarn:z(e.fallbackWarn)||_t(e.fallbackWarn)?e.fallbackWarn:!0,_=t?t.fallbackRoot:z(e.fallbackRoot)?e.fallbackRoot:!0,A=!!e.fallbackFormat,x=Q(e.missing)?e.missing:null,S=Q(e.missing)?Ui(e.missing):null,M=Q(e.postTranslation)?e.postTranslation:null,C=z(e.warnHtmlMessage)?e.warnHtmlMessage:!0,F=!!e.escapeParameter,G=t?t.modifiers:L(e.modifiers)?e.modifiers:{},B=e.pluralRules||t&&t.pluralRules,b;function N(){return wr({version:vr,locale:n.value,fallbackLocale:r.value,messages:o.value,messageCompiler:function(g){return de=>de.normalize([g])},datetimeFormats:l.value,numberFormats:c.value,modifiers:G,pluralRules:B,missing:S===null?void 0:S,missingWarn:u,fallbackWarn:m,fallbackFormat:A,unresolving:!0,postTranslation:M===null?void 0:M,warnHtmlMessage:C,escapeParameter:F,__datetimeFormatters:L(b)?b.__datetimeFormatters:void 0,__numberFormatters:L(b)?b.__numberFormatters:void 0,__v_emitter:L(b)?b.__v_emitter:void 0,__meta:{framework:"vue"}})}b=N(),Ze(b,n.value,r.value);function me(){return[n.value,r.value,o.value,l.value,c.value]}let Ie=(0,E.computed)({get:()=>n.value,set:d=>{n.value=d,b.locale=n.value}}),le=(0,E.computed)({get:()=>r.value,set:d=>{r.value=d,b.fallbackLocale=r.value,Ze(b,n.value,d)}}),fe=(0,E.computed)(()=>o.value),be=(0,E.computed)(()=>l.value),rt=(0,E.computed)(()=>c.value);function st(){return Q(M)?M:null}function ot(d){M=d,b.postTranslation=d}function Ft(){return x}function da(d){d!==null&&(S=Ui(d)),x=d,b.missing=S}function Be(d,g,de,Z,kt,lt){me();let qe;if(qe=d(b),X(qe)&&qe===Ct){let[Oa,xc]=g();return t&&_?Z(t):kt(Oa)}else{if(lt(qe))return qe;throw ke(14)}}function _i(...d){return Be(g=>Ri(g,...d),()=>Wt(...d),"translate",g=>g.t(...d),g=>g,g=>w(g))}function pa(...d){let[g,de,Z]=d;if(Z&&!te(Z))throw ke(15);return _i(g,de,se({resolvedMessage:!0},Z||{}))}function ga(...d){return Be(g=>Mi(g,...d),()=>Ut(...d),"datetime format",g=>g.d(...d),()=>Fi,g=>w(g))}function ha(...d){return Be(g=>Pi(g,...d),()=>Gt(...d),"number format",g=>g.n(...d),()=>Fi,g=>w(g))}function _a(d){return d.map(g=>w(g)?(0,E.createVNode)(E.Text,null,g,0):g)}let ba={normalize:_a,interpolate:d=>d,type:"vnode"};function ya(...d){return Be(g=>{let de,Z=g;try{Z.processor=ba,de=Ri(Z,...d)}finally{Z.processor=null}return de},()=>Wt(...d),"translate",g=>g[jt](...d),g=>[(0,E.createVNode)(E.Text,null,g,0)],g=>$(g))}function wa(...d){return Be(g=>Pi(g,...d),()=>Gt(...d),"number format",g=>g[Vt](...d),()=>[],g=>w(g)||$(g))}function Aa(...d){return Be(g=>Mi(g,...d),()=>Ut(...d),"datetime format",g=>g[zt](...d),()=>[],g=>w(g)||$(g))}function xa(d){B=d,b.pluralRules=B}function Ca(d,g){let de=w(g)?g:n.value,Z=bi(de);return bt(Z,d)!==null}function Da(d){let g=null,de=it(b,r.value,n.value);for(let Z=0;Z<de.length;Z++){let kt=o.value[de[Z]]||{},lt=bt(kt,d);if(lt!=null){g=lt;break}}return g}function Sa(d){let g=Da(d);return g!=null?g:t?t.tm(d)||{}:{}}function bi(d){return o.value[d]||{}}function Ea(d,g){o.value[d]=g,b.messages=o.value}function Ta(d,g){o.value[d]=o.value[d]||{},yt(g,o.value[d]),b.messages=o.value}function va(d){return l.value[d]||{}}function La(d,g){l.value[d]=g,b.datetimeFormats=l.value,Bi(b,d,g)}function Ia(d,g){l.value[d]=se(l.value[d]||{},g),b.datetimeFormats=l.value,Bi(b,d,g)}function Fa(d){return c.value[d]||{}}function ka(d,g){c.value[d]=g,b.numberFormats=c.value,Hi(b,d,g)}function Na(d,g){c.value[d]=se(c.value[d]||{},g),b.numberFormats=c.value,Hi(b,d,g)}return Wi++,t&&((0,E.watch)(t.locale,d=>{a&&(n.value=d,b.locale=d,Ze(b,n.value,r.value))}),(0,E.watch)(t.fallbackLocale,d=>{a&&(r.value=d,b.fallbackLocale=d,Ze(b,n.value,r.value))})),{id:Wi,locale:Ie,fallbackLocale:le,get inheritLocale(){return a},set inheritLocale(d){a=d,d&&t&&(n.value=t.locale.value,r.value=t.fallbackLocale.value,Ze(b,n.value,r.value))},get availableLocales(){return Object.keys(o.value).sort()},messages:fe,datetimeFormats:be,numberFormats:rt,get modifiers(){return G},get pluralRules(){return B||{}},get isGlobal(){return i},get missingWarn(){return u},set missingWarn(d){u=d,b.missingWarn=u},get fallbackWarn(){return m},set fallbackWarn(d){m=d,b.fallbackWarn=m},get fallbackRoot(){return _},set fallbackRoot(d){_=d},get fallbackFormat(){return A},set fallbackFormat(d){A=d,b.fallbackFormat=A},get warnHtmlMessage(){return C},set warnHtmlMessage(d){C=d,b.warnHtmlMessage=d},get escapeParameter(){return F},set escapeParameter(d){F=d,b.escapeParameter=d},t:_i,rt:pa,d:ga,n:ha,te:Ca,tm:Sa,getLocaleMessage:bi,setLocaleMessage:Ea,mergeLocaleMessage:Ta,getDateTimeFormat:va,setDateTimeFormat:La,mergeDateTimeFormat:Ia,getNumberFormat:Fa,setNumberFormat:ka,mergeNumberFormat:Na,getPostTranslationHandler:st,setPostTranslationHandler:ot,getMissingHandler:Ft,setMissingHandler:da,[jt]:ya,[Vt]:wa,[zt]:Aa,[Lr]:xa,[ln]:e.__injectWithOption}}var Qt={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};se({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>X(e)||!isNaN(e)}},Qt);function Fr({slots:e},t){return t.length===1&&t[0]==="default"?e.default?e.default():[]:t.reduce((i,a)=>{let n=e[a];return n&&(i[a]=n()),i},{})}function un(e,t,i,a){let{slots:n,attrs:r}=t;return()=>{let o={part:!0},l={};e.locale&&(o.locale=e.locale),w(e.format)?o.key=e.format:te(e.format)&&(w(e.format.key)&&(o.key=e.format.key),l=Object.keys(e.format).reduce((_,A)=>i.includes(A)?se({},_,{[A]:e.format[A]}):_,{}));let c=a(e.value,o,l),u=[o.key];$(c)?u=c.map((_,A)=>{let x=n[_.type];return x?x({[_.type]:_.value,index:A,parts:c}):[_.value]}):w(c)&&(u=[c]);let m=se({},r);return w(e.tag)?(0,E.h)(e.tag,m,u):te(e.tag)?(0,E.h)(e.tag,m,u):(0,E.h)(E.Fragment,m,u)}}var kr=["localeMatcher","style","unit","unitDisplay","currency","currencyDisplay","useGrouping","numberingSystem","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","notation","formatMatcher"];se({value:{type:Number,required:!0},format:{type:[String,Object]}},Qt);var Nr=["dateStyle","timeStyle","fractionalSecondDigits","calendar","dayPeriod","numberingSystem","localeMatcher","timeZone","hour12","hourCycle","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"];se({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Qt);function ei(e={}){let t=(0,E.getCurrentInstance)();if(t==null)throw ke(16);if(!t.appContext.app.__VUE_I18N_SYMBOL__)throw ke(17);let i=(0,E.inject)(t.appContext.app.__VUE_I18N_SYMBOL__);if(!i)throw ke(22);let a=i.mode==="composition"?i.global:i.global.__composer,n=xt(e)?"__i18n"in t.type?"local":"global":e.useScope?e.useScope:"local";if(n==="global"){let l=te(e.messages)?e.messages:{};"__i18nGlobal"in t.type&&(l=cn(a.locale.value,{messages:l,__i18n:t.type.__i18nGlobal}));let c=Object.keys(l);if(c.length&&c.forEach(u=>{a.mergeLocaleMessage(u,l[u])}),te(e.datetimeFormats)){let u=Object.keys(e.datetimeFormats);u.length&&u.forEach(m=>{a.mergeDateTimeFormat(m,e.datetimeFormats[m])})}if(te(e.numberFormats)){let u=Object.keys(e.numberFormats);u.length&&u.forEach(m=>{a.mergeNumberFormat(m,e.numberFormats[m])})}return a}if(n==="parent"){let l=Or(i,t,e.__useComponent);return l==null&&(l=a),l}if(i.mode==="legacy")throw ke(18);let r=i,o=r.__getInstance(t);if(o==null){let l=t.type,c=se({},e);l.__i18n&&(c.__i18n=l.__i18n),a&&(c.__root=a),o=Ir(c),Rr(r,t),r.__setInstance(t,o)}return o}function Or(e,t,i=!1){let a=null,n=t.root,r=t.parent;for(;r!=null;){let o=e;if(e.mode==="composition")a=o.__getInstance(r);else{let l=o.__getInstance(r);l!=null&&(a=l.__composer),i&&a&&!a[ln]&&(a=null)}if(a!=null||n===r)break;r=r.parent}return a}function Rr(e,t,i){(0,E.onMounted)(()=>{},t),(0,E.onUnmounted)(()=>{e.__deleteInstance(t)},t)}function ue(e,t,i=!1,a=null){let n=ti(e,i);a?uni.setStorage({key:n,data:t,success:a}):uni.setStorageSync(n,t)}function P(e,t=!1,i=null){let a=ti(e,t);if(i)uni.getStorage({key:a,success:i});else return uni.getStorageSync(a)}function ze(e,t=!1){uni.removeStorage({key:ti(e,t)})}function ti(e,t){return t?`_a_${e}`:`m_${e}`}function Mr(e,t){let i=t;return typeof t=="undefined"&&(i=getApp().globalData.uid),P(e+"_"+i)}var Gi={NONE:0,WAITING:1,GAME:2,WEEK_UP:3,JUDGE_ROOM:100};function Oe(e){return e==1?h("himLower"):h("herLower")}function mn(e){return e==1?h("he"):h("she")}function y(e){return typeof e=="undefined"||e==null||e==""}function Br(e){return e===""||e===null}var mt=new Promise(()=>{});function Pr(e,t,i=""){if(y(e))return"";let a=[];for(let n in e)a.push(n+"="+e[n]);return i+a.join(t)}function ft(e){return typeof e=="number"?e+"":typeof e=="boolean"?e?"true":"false":y(e)?"null":typeof e=="object"?JSON.stringify(e):e}function dt(e){return e.replace(new RegExp("'","gm"),"\uFF07")}function fn(e,t=18){if(y(e))return"";let i=new Date(Date.parse(e.replace(/-/g,"/"))),a=Math.ceil((new Date().getTime()-i)/31536e6),n=a>1?a-1:a;return n<t?t:n}function Fe(e){return e<10?"0"+e:e}function Dt(e,t=!1,i=!1,a=!0){e<1e10&&(e=e*1e3);var n=new Date(e),r=n.getFullYear(),o=n.getMonth()+1,l=n.getDate(),c=n.getHours(),u=n.getMinutes(),m=n.getSeconds();let _=t?`${r}-`:"";if(i)return _+Fe(o)+"-"+Fe(l);{let A=a?":"+Fe(m):"";return _+Fe(o)+"-"+Fe(l)+" "+Fe(c)+":"+Fe(u)+A}}function Hr(e){try{let t=JSON.parse(e);if(typeof t=="object")return t}catch(t){}return!1}function St(e){return y(e)?!0:Object.keys(e).length<=0}function dn(e,t){let i=t-e,a=Math.random();return e+Math.round(a*i)}function Wr(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var Xe={adminAgencyList:"/pagesAdmin/agency/list",adminAgencyDetail:"/pagesAdmin/agency/agency-detail",adminAgencyEdit:"/pagesAdmin/agency/agency-edit",adminAgencyEditPrice:"/pagesAdmin/agency/agency-edit-price",adminAgencyEditWithdrawInfo:"/pagesAdmin/agency/withdraw-info",adminAgencyEditName:"/pagesAdmin/agency/agency-edit-nickname",adminAgencyEditCountry:"/pagesAdmin/agency/agency-edit-country",adminAgencyEditEmail:"/pagesAdmin/agency/agency-edit-email",adminAgencyEditWhatsApp:"/pagesAdmin/agency/agency-edit-whatsapp",adminAgencyInvited:"/pagesAdmin/agency/invited",adminAgencyListSub:"/pagesAdmin/agency/list-sub",adminAgencyGirlsList:"/pagesAdmin/agency/girls-list",adminAgencyGirlsListSub:"/pagesAdmin/agency/girls-list-sub",adminAgencyDataPanel:"/pagesAdmin/agency/data-panel",adminAgencyDataHistory:"/pagesAdmin/agency/data-history",adminAgencyDataDetail:"/pagesAdmin/agency/data-detail",adminAgencyDataDetailTask:"/pagesAdmin/agency/data-detail-task",adminAgencyWithdrawRecords:"/pagesAdmin/agency/withdraw-records",adminAgencyWalletDetail:"/pagesAdmin/agency/wallet-detail",adminAgencyHandleBan:"/pagesAdmin/agency/handle-ban",adminAgencyHandleDelete:"/pagesAdmin/agency/handle-delete",adminAgencySelected:"/pagesAdmin/agency/selected-agency",adminAgencyStatus:"/pagesAdmin/agency/agency-status",adminAgencySubAgencyList:"/pagesAdmin/agency/sub-agency-list",adminAgencyWithdrawGirlList:"/pagesAdmin/agency/withdraw/girl-list",adminAgencyWithdrawSubAgentList:"/pagesAdmin/agency/withdraw/sub-agent-list",adminAgencyWithdrawSettlementDetail:"/pagesAdmin/agency/withdraw/settlement-detail",adminAgencyWithdrawEntiretyDetail:"/pagesAdmin/agency/withdraw/entirety-detail",adminAgencyWithdrawEntiretyDetailReject:"/pagesAdmin/agency/withdraw/entirety-detail-reject",adminAgencyHistoricalMemberList:"/pagesAdmin/agency/historical-list",adminAgencyWithdrawSubAgentDetail:"/pagesAdmin/agency/withdraw/sub-agent-detail",adminAuditSettlement:"/pagesAdmin/auditNew/settlement",adminAuditSettlementSub:"/pagesAdmin/auditNew/settlement-sub",adminAuditWithdraw:"/pagesAdmin/auditNew/withdraw",adminAuditWithdrawCashList:"/pagesAdmin/audit/withdraw-cash-list",adminWallet:"/pagesAdmin/wallet/wallet",adminWalletCoinStat:"/pagesAdmin/wallet/coin-stat",adminAgencyAnchorDetail:"/pagesAdmin/agencyManager/anchor-detail",adminChannelBackend:"/pagesAdmin/channel/channel-backend",adminAuditAgencyAvatar:"/pagesAdmin/auditNew/agency-avatar",adminAuditAgencyName:"/pagesAdmin/auditNew/agency-name",adminAuditCheckAllUnderReview:"/pagesAdmin/audit/check-all-under-review",adminPermissionWebManage:"/pagesAdmin/more/permission-web-manage",adminPermissionList:"/pagesAdmin/more/permission-list",adminPermissionEdit:"/pagesAdmin/more/permission-edit",adminPermissionNewAccount:"/pagesAdmin/more/permission-new-account",adminPermissionChooseRole:"/pagesAdmin/more/permission-choose-role",adminPermissionNewRole:"/pagesAdmin/more/permission-new-role",adminWhiteList:"/pagesAdmin/more/white-list",adminCallEvaluationList:"/pagesAdmin/user/call-evaluation-list",adminWarnDeviceUser:"/pagesAdmin/user/ban-device-user",adminWarnList:"/pagesAdmin/audit/warn-list",adminVersionUseList:"/pagesAdmin/more/version-use-list",adminAuditSettlementReview:"/pagesAdmin/auditNew/settlement-review",adminAuditWithdrawReview:"/pagesAdmin/auditNew/withdraw-review",adminClubApplication:"/pagesAdmin/auditNew/club-application",adminClubModification:"/pagesAdmin/auditNew/club-modification",adminClubManagement:"/pagesAdmin/club/management",warningDialog:"/pagesDialog/warning",homeFilterSexGuide:"/pagesDialog/home-filter-sex-guide",club:"/pagesClub/club",clubReachLevel:"/pagesDialog/club-reach-level",clubStatusRemind:"/pagesDialog/club-status-remind",clubApplyCreate:"/pagesClub/apply-create",clubCreateSuccess:"/pagesClub/create-success",clubRules:"/pagesDialog/club-rules",clubApplicationList:"/pagesClub/application-list",clubWarning:"/pagesDialog/club-warning",clubDisband:"/pagesDialog/club-disband",adminClubManagementSub:"/pagesAdmin/club/management-sub",adminClubTodayNew:"/pagesAdmin/club/club-today-new",adminClubNormal:"/pagesAdmin/club/club-normal",adminClubManageGirls:"/pagesAdmin/club/club-manage-girls",adminClubOperator:"/pagesAdmin/club/club-operator",adminClubDisbanded:"/pagesAdmin/club/club-disbanded",adminClubMemberList:"/pagesAdmin/club/member-new",adminClubInfo:"/pagesAdmin/club/detail-new",adminCLubWarning:"/pagesAdmin/club/warning",adminClubOperatorLog:"/pagesAdmin/club/operation-log",adminClubPersonalApplication:"/pagesAdmin/auditNew/club-application-personal",adminOutsourcingIndex:"/pagesAdmin/more/outsourcing/index",adminOutsourcingPermissionList:"/pagesAdmin/more/outsourcing/permission-list",adminOutsourcingNewRole:"/pagesAdmin/more/outsourcing/new-role",adminOutsourcingEditRole:"/pagesAdmin/more/outsourcing/edit-role",adminRefundDetail:"/pagesAdmin/refund/detail"};function pn(e,t){let i=Xe[e];return i||(i=e),i+Pr(t,"&","?")}function re(e,t=null,i=null,a=!1){let n=pn(e,t),r={url:n,fail:o=>{k("error","at common/route.js:107",`\u6253\u5F00\u9875\u9762\u5931\u8D25${n} ${JSON.stringify(o)}`),getApp().globalData.appCRE&&n.startsWith("/pagesAdmin")&&ee.zT!=3&&H.request("/sign/reload-route",{},!0)}};a&&(r=Object.assign(r,a)),i!=null&&(r.events=i),uni.navigateTo(r)}function j(e,t,i,a,n=null){let o={url:pn(e,t),success(l){l.eventChannel.emit(i,a)}};n!=null&&(o.events=n),uni.navigateTo(o)}function ii(e=1,t="",i=""){let a={delta:e};t&&(a.animationType=t),i&&(a.animationDuration=i),uni.navigateBack(a)}function Re(){let e=[],t=getCurrentPages();for(let i=0,a=t.length;i<a;i++){let n=t[i].$page;e.push(n.path)}return e}function gn(e="path"){let t=getCurrentPages(),i=t[t.length-1];if(!i)return"";let a=i.$page;return a?a[e]:""}function hn(e){let t=cs();t&&(t==Ti.SUPER?re("/pagesAdmin/user/info",{uid:e}):t==Ti.KEFU&&re("/pagesAdmin/user/info-sub",{user_detail:t,uid:e}))}function Ur(e,t=null,i=null){let n={uid:typeof e=="object"?e.uid:e};i&&(n=Object.assign(n,i)),j("/pagesMsg/pri/chat",n,"priData",{user:e,extra:t})}function Gr(e,t=null){let a={id:typeof e=="object"?e.club_id:e};t&&(a=Object.assign(a,t)),j("/pagesMsg/club/chat",a,"clubData",{club:e})}function _n(e,t=0,i=0){if(y(e))return;if(t&&i){Gr(e);return}re("/pagesClub/info",{id:e,isMember:t})}var jr=[{key:"tr",title:"T\xFCrk"},{key:"pt",title:"Portugu\xEAs"}];function Yt(e=!0){let t=P("language_app_key");if(!e||!Br(t))return t;let i=bn(!1),a=Ya[i];return y(a)?"en":i}function bn(e){let t=uni.getAppBaseInfo().language;return y(t)?e?"en-US":"en":e?t:t.split("-")[0]}function zr(){return P("call_automatic_source_language")||Yt()}function Vr(){return!!P("call_automatic_open")}function h(...e){return getApp().globalData.s.state.pubI18n(...e)}function yn(e){function t(o,l,c){for(;0<c--;)o.push(l)}function i(o,l){return o<<l|o>>>32-l}function a(o,l,c){return o^l^c}function n(o,l){var c=(l&65535)+(o&65535),u=(l>>>16)+(o>>>16)+(c>>>16);return(u&65535)<<16|c&65535}var r="0123456789abcdef";return function(o){for(var l=[],c=o.length*4,u,m=0;m<c;m++)u=o[m>>2]>>(3-m%4)*8,l.push(r.charAt(u>>4&15)+r.charAt(u&15));return l.join("")}(function(o,l){var c,u,m,_,A,x=o.length,S=1732584193,M=4023233417,C=2562383102,F=271733878,G=3285377520,B=[];t(B,1518500249,20),t(B,1859775393,20),t(B,2400959708,20),t(B,3395469782,20),o[l>>5]|=128<<24-l%32,o[(l+65>>9<<4)+15]=l;for(var b=0;b<x;b+=16){c=S,u=M,m=C,_=F,A=G;for(var N=0,me=[];N<80;N++){me[N]=N<16?o[N+b]:i(me[N-3]^me[N-8]^me[N-14]^me[N-16],1);var Ie=function(le,fe,be,rt,st){var ot=(st&65535)+(le&65535)+(fe&65535)+(be&65535)+(rt&65535),Ft=(st>>>16)+(le>>>16)+(fe>>>16)+(be>>>16)+(rt>>>16)+(ot>>>16);return(Ft&65535)<<16|ot&65535}(N<20?function(le,fe,be){return le&fe^~le&be}(u,m,_):N<40?a(u,m,_):N<60?function(le,fe,be){return le&fe^le&be^fe&be}(u,m,_):a(u,m,_),A,B[N],me[N],i(c,5));A=_,_=m,m=i(u,30),u=c,c=Ie}S=n(S,c),M=n(M,u),C=n(C,m),F=n(F,_),G=n(G,A)}return[S,M,C,F,G]}(function(o){for(var l=[],c=255,u=o.length*8,m=0;m<u;m+=8)l[m>>5]|=(o.charCodeAt(m/8)&c)<<24-m%32;return l}(e).slice(),e.length*8))}function wn(e,t,i=!0){return xn(getApp().globalData.ossPicPath,e,t,i)}function Se(e,t,i=!0){return xn(getApp().globalData.ossPath,e,t,i)}function An(e){if(y(e)||e.startsWith("http"))return;let i=`img_${yn(e)}`,a=P(i);ze(i),a&&uni.removeSavedFile({filePath:a})}function xn(e,t,i,a=!0){if(y(t))return"";if(t.startsWith("http")||t.startsWith("file://"))return t;if(t.startsWith("/var/mobile/"))return"file://"+t;if(t.startsWith("/storage/"))return t;let r=`img_${yn(t)}`,o=P(r);if(o){let c={filePath:o,fail(u){Yr(`\u7F13\u5B58\u68C0\u6D4B\u5931\u8D25${t}`,u),ze(r),typeof i=="function"&&i(e+t)},success(u){}};return typeof i=="function"&&(c.success=function(){i(o)}),uni.getFileInfo(c),o}let l=e+t;return getApp().globalData.picCacheObj[r]||(getApp().globalData.picCacheObj[r]=1,typeof i=="function"&&!a&&i(l),ns(l).then(c=>{ue(r,c),typeof i=="function"&&a&&i(c),delete getApp().globalData.picCacheObj[r]}).catch(()=>{})),l}function Yr(e,t){k("error","at common/cache.js:118",`cache ${e}`,t)}var Kr={CANDY_CHAT_I:"__UNI__CB903B1",CANDY_CHAT_A:"__UNI__564E31A",CHAT_NOW_A:"__UNI__DB0D401",CHAT_NOW_DEV:"__UNI__DEED62E",HOT_FACE_A:"__UNI__0D44E11",HOT_FACE_DEV:"__UNI__58DBD61",LOVE_SKY:"__UNI__0EE5E5E",DEV:"__UNI__3932C1F",DEV2:"__UNI__9C66D76"};function Jr(){return getApp().globalData.pluginTool.vpnConnected()}function $r(e){return getApp().globalData.pluginTool.permissionStatusSync({permission:e})}function qr(){return getApp().globalData.pluginTool.permissionCheckAll()}function Zr(){return getApp().globalData.pluginTool.locationAuthorizationStatusSync()}var U={ALBUM:1,CAMERA:2,VIDEO:3,MICROPHONE:4,NOTIFY:5,LOCATION:6,DRAW_OVERLAYS:7,ALBUM_AND_CAMERA:101};function Xr(e,t,i){if(getApp().globalData.uid!=0)return new Promise(a=>{let n;if(i==null?n=Cn():n=i,n==null){a();return}let r={fromType:e,showClose:t,resList:n[0]};j("/pagesDialog/check-permission",null,"permissionData",r,{onCloseListener:()=>{a()}})})}function Cn(){let e=[],t=!0;if(ee.isAndroid){let r=qr();e.push({key:"notice",value:r.notice,permission:U.NOTIFY}),e.push({key:"camera",value:r.camera,permission:U.CAMERA}),e.push({key:"voice",value:r.voice,permission:U.MICROPHONE}),e.push({key:"album",value:r.storage,permission:U.ALBUM})}else e.push({key:"notice",value:En(),permission:U.NOTIFY}),e.push({key:"camera",value:es(),permission:U.CAMERA}),e.push({key:"voice",value:Sn(),permission:U.MICROPHONE}),e.push({key:"album",value:ts(),permission:U.ALBUM});for(let r=0,o=e.length;r<o;r++)if(!e[r].value){t=!1;break}let i={};for(let r=0,o=e.length;r<o;r++){let l=e[r];i[l.key]=l.value?1:0}i.auto_translate=getApp().globalData.translateAuto?1:0;let a=Vr()?1:0,n=zr();return i.audio_translate=a,i.audio_language=n,H.request("/user/sync-permission",i),[e,t]}function Dn(e){if(e==U.NOTIFY)return ee.isAndroid?Mt(e):En();if(e==U.MICROPHONE)return ee.isAndroid?Mt(e):Sn();if(e==U.ALBUM_AND_CAMERA){let i=Cn()[0];return i?i[1].value&&i[3].value:!0}else if(e==U.LOCATION)return ee.isAndroid?Mt(e):Zr();return!0}function Mt(e){let t=Qr(e);return $r(t)}function Qr(e){switch(e){case U.LOCATION:return["android.permission.ACCESS_FINE_LOCATION","android.permission.ACCESS_COARSE_LOCATION"];case U.ALBUM:case U.VIDEO:return["android.permission.READ_MEDIA_IMAGES","android.permission.READ_MEDIA_VIDEO"];case U.MICROPHONE:return["android.permission.RECORD_AUDIO"];case U.CAMERA:return["android.permission.CAMERA"];case U.NOTIFY:return["android.permission.POST_NOTIFICATIONS"]}}function Sn(){let e=plus.ios.importClass("AVCaptureDevice"),t=e.authorizationStatusForMediaType("soun");return plus.ios.deleteObject(e),t==3}function es(){let e=plus.ios.importClass("AVCaptureDevice"),t=e.authorizationStatusForMediaType("vide");return plus.ios.deleteObject(e),t==3}function ts(){var e=!1,t=plus.ios.import("PHPhotoLibrary"),i=t.authorizationStatus();return(i==3||i==4)&&(e=!0),plus.ios.deleteObject(t),e}function En(){var e=!1,t=plus.ios.import("UIApplication"),i=t.sharedApplication(),a=0;if(i.currentUserNotificationSettings){var n=i.currentUserNotificationSettings();a=n.plusGetAttribute("types"),e=a!=0,plus.ios.deleteObject(n)}else a=i.enabledRemoteNotificationTypes(),e=a!=0;return plus.ios.deleteObject(i),plus.ios.deleteObject(t),e}function Ve(e,t){getApp().globalData.s.commit("setPubValue",{name:e,value:t})}function D(e,t){getApp().globalData.s.commit(e,t)}function wt(e,t){e==Ge.MSG&&getApp().setNumberBadge(),t>0?uni.setTabBarBadge({index:e,text:t+""}):uni.removeTabBarBadge({index:e})}function is(e,t=!0){t?uni.showTabBarRedDot({index:e}):uni.hideTabBarRedDot({index:e})}function ns(e){return new Promise((t,i)=>{uni.downloadFile({url:e}).then(a=>!a||a.statusCode!=200||!a.tempFilePath?(i(),new Promise(()=>{})):uni.saveFile({tempFilePath:a.tempFilePath})).then(a=>{!a||!a.savedFilePath?i():t(a.savedFilePath)}).catch(a=>{k("error","at common/common.js:65","downloadFile error "+JSON.stringify(a))})})}function et(e,t){t?plus.runtime.openWeb(e):plus.runtime.openURL(e)}function Ee(e,t,i,a=h("confirm")){Ye(e,t,i,"",a,!1)}function as(e){return["Si, desbloquear","Reenviar Completar"].indexOf(e)!=-1}function Ye(e,t,i,a,n=h("confirm"),r=!0,o=h("cancel"),l=!1){let c=!1;if(!ee.isAndroid&&(c=as(n),c)){let u=n;n=o,o=u}uni.showModal({title:e,content:t,showCancel:r,cancelText:o,confirmText:n,editable:l,success(u){u.confirm?c?typeof a=="function"&&a():typeof i=="function"&&i(u):u.cancel&&(c?typeof i=="function"&&i(u):typeof a=="function"&&a())}})}function ni(e,t="none",i="center"){uni.showToast({title:e,duration:2e3,icon:t,position:i})}function Et(e){return new Promise(t=>{let i=uni.createInnerAudioContext();i.src=e,i.sessionCategory="ambient",i.onError(a=>{i.destroy(),t(0)}),i.onPlay(()=>{t(1)}),i.onEnded(a=>{i.destroy(),t(2)}),i.play()})}var Tn={LIGHT:1,DARK:2};function Tt(e){let t=Number(e);if(isNaN(t)){k("error","at common/user.js:35","\u5237\u65B0\u4F59\u989D\u5931\u8D25");return}Ve("pubAccount.money",t),k("error","at common/user.js:39",`\u5237\u65B0\u4F59\u989D ${t}`)}function ai(e){if(e=Number(e),isNaN(e))return;let t=Number(getApp().pubAccount.money);isNaN(t)&&(t=0);let i=t+e;Ve("pubAccount.money",i)}function Ke(e,t=0,i,a){let r=P("coin_callback"),o={};o.order_source=typeof i=="undefined"?0:i,o.click_type=typeof a=="undefined"?0:a,r?(o.fromType=t,o.diffCoin=e,j("/pages/coin/coin-dialog",o,"coinDialogData",r)):(o.from_type=t,o.diff_coin=e,H.request("/pay/coin/callback",o,!0))}function rs(e){let t=getApp().pubUser.seeking_sex;return e?t:t==0?getApp().pubUser.sex==1?2:1:t}function xe(){return getApp().globalData.s.state.pubUser.is_auth}function ss(){return!xe()&&getApp().pubUser.recharge_money>0}function os(){let e=getApp().globalData.admin;return e&&e.permission&&e.permission.kefu}function ls(){let e=getApp().globalData.admin;return e&&e.permission&&e.permission.check_all}function cs(){let e=getApp().globalData.admin;return!e||!e.permission?0:e.permission.user_detail}function us(){let e=getApp().globalData.admin;return!y(e)&&e.type==1}var Kt={DEFAULT:1e4,FAIL:0,SUCCESS:1,DISCONNECT:6,RECONNECT:7},ms={INIT:"init",APP_SHOW:"app_show",TAB_SHOW:"tab_show",MSG_INDEX_REFRESH:"msg_index_refresh",STOP_TAKING_RECOVERY:"stop_taking_recovery",CATCH_MSG_SYNC:"sync_catch",API_CALL_BACK:"api_call_back",RECONNECT_LISTENER:"reconnect_listener",RECONNECT_LOCAL:"reconnect_local"};function fs(e){return new Promise((t,i)=>{getApp().globalData.pluginDB.selectSql({sql:e},a=>{a.status==1?t(a.rows):(k("error","at comExtend/plugin-DB.js:44","db \u63D2\u4EF6 select \u6267\u884C \u9519\u8BEF "+a.message),i(a.message))})})}function ds(e){return new Promise((t,i)=>{getApp().globalData.pluginDB.executeSql({sql:e},a=>{a.status==1?t(a.rows):(k("error","at comExtend/plugin-DB.js:57","db \u63D2\u4EF6 execute \u6267\u884C \u9519\u8BEF "+a.message),i(a.message))})})}function ps(e,t){return new Promise((i,a)=>{ds(e).then(n=>{i(n)},n=>{a(),t||In("execute",n,e)})})}function gs(e,t){return new Promise((i,a)=>{fs(e).then(n=>{i(n)},n=>{a(),t||In("select",n,e)})})}function ht(e){return y(e)?0:parseInt(e)}function hs(){return getApp().globalData.pluginMqtt.checkStatusSync()?Kt.SUCCESS:Kt.FAIL}function _s(){return hs()}function bs(){return _s()==Kt.SUCCESS}var je={getUserDesc(){let e=getApp().pubUser;return Object.keys(e).length<=3?"\u672A\u767B\u5F55":[e.uid,e.is_auth?"\u4E3B\u64AD":"\u7528\u6237",`\u7B49\u7EA7-${e.level}`,`vip${e.is_vip?"\u662F":"\u5426"}`,`\u5145\u503C${e.recharge_money}`,`\u4F59\u989D${getApp().pubAccount.money}`,`\u540E\u53F0\u8EAB\u4EFD${ys()}`].join("|")},getActionDesc(){let e=Re(),t=e.length;return[`\u9875\u9762: ${(t>5?e.slice(t-5):e).join(",")}`,`${getApp().globalData.catchApiUrlList.join(",")}`].join("|")},getEnvironsDesc(){let e=getApp().globalData.ua.split("|"),t=[`${e[1]}`,`app\u7248\u672C${e[2]}`,`zip\u7248\u672C${e[3]}-${e[13]}`,`${e[6]}`,`\u54C1\u724C${e[11]}`,`\u578B\u53F7${e[12]}`,`\u7F51\u7EDC${getApp().globalData.network.type}`,`MQTT${bs()?"\u662F":"\u5426"}`],i=Jr();return typeof i!="undefined"&&t.push(`VPN${i?"\u662F":"\u5426"}`),t.join("|")}};function ys(){if(us())return"\u8D85\u7BA1";let e=[];return os()&&e.push("\u5BA2\u670D"),ls()&&e.push("\u5BA1\u6838"),e.length<=0?"\u65E0":e.join("\u548C")}var Bt=0;function ws(e){return xs(As(Cs(e)))}function As(e){return Ss(Es(Ds(e),e.length*8))}function xs(e){try{}catch(r){Bt=0}for(var t=Bt?"0123456789ABCDEF":"0123456789abcdef",i="",a,n=0;n<e.length;n++)a=e.charCodeAt(n),i+=t.charAt(a>>>4&15)+t.charAt(a&15);return i}function Cs(e){for(var t="",i=-1,a,n;++i<e.length;)a=e.charCodeAt(i),n=i+1<e.length?e.charCodeAt(i+1):0,55296<=a&&a<=56319&&56320<=n&&n<=57343&&(a=65536+((a&1023)<<10)+(n&1023),i++),a<=127?t+=String.fromCharCode(a):a<=2047?t+=String.fromCharCode(192|a>>>6&31,128|a&63):a<=65535?t+=String.fromCharCode(224|a>>>12&15,128|a>>>6&63,128|a&63):a<=2097151&&(t+=String.fromCharCode(240|a>>>18&7,128|a>>>12&63,128|a>>>6&63,128|a&63));return t}function Ds(e){for(var t=Array(e.length>>2),i=0;i<t.length;i++)t[i]=0;for(var i=0;i<e.length*8;i+=8)t[i>>5]|=(e.charCodeAt(i/8)&255)<<i%32;return t}function Ss(e){for(var t="",i=0;i<e.length*32;i+=8)t+=String.fromCharCode(e[i>>5]>>>i%32&255);return t}function Es(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var i=1732584193,a=-271733879,n=-1732584194,r=271733878,o=0;o<e.length;o+=16){var l=i,c=a,u=n,m=r;i=V(i,a,n,r,e[o+0],7,-680876936),r=V(r,i,a,n,e[o+1],12,-389564586),n=V(n,r,i,a,e[o+2],17,606105819),a=V(a,n,r,i,e[o+3],22,-1044525330),i=V(i,a,n,r,e[o+4],7,-176418897),r=V(r,i,a,n,e[o+5],12,1200080426),n=V(n,r,i,a,e[o+6],17,-1473231341),a=V(a,n,r,i,e[o+7],22,-45705983),i=V(i,a,n,r,e[o+8],7,1770035416),r=V(r,i,a,n,e[o+9],12,-1958414417),n=V(n,r,i,a,e[o+10],17,-42063),a=V(a,n,r,i,e[o+11],22,-1990404162),i=V(i,a,n,r,e[o+12],7,1804603682),r=V(r,i,a,n,e[o+13],12,-40341101),n=V(n,r,i,a,e[o+14],17,-1502002290),a=V(a,n,r,i,e[o+15],22,1236535329),i=Y(i,a,n,r,e[o+1],5,-165796510),r=Y(r,i,a,n,e[o+6],9,-1069501632),n=Y(n,r,i,a,e[o+11],14,643717713),a=Y(a,n,r,i,e[o+0],20,-373897302),i=Y(i,a,n,r,e[o+5],5,-701558691),r=Y(r,i,a,n,e[o+10],9,38016083),n=Y(n,r,i,a,e[o+15],14,-660478335),a=Y(a,n,r,i,e[o+4],20,-405537848),i=Y(i,a,n,r,e[o+9],5,568446438),r=Y(r,i,a,n,e[o+14],9,-1019803690),n=Y(n,r,i,a,e[o+3],14,-187363961),a=Y(a,n,r,i,e[o+8],20,1163531501),i=Y(i,a,n,r,e[o+13],5,-1444681467),r=Y(r,i,a,n,e[o+2],9,-51403784),n=Y(n,r,i,a,e[o+7],14,1735328473),a=Y(a,n,r,i,e[o+12],20,-1926607734),i=K(i,a,n,r,e[o+5],4,-378558),r=K(r,i,a,n,e[o+8],11,-2022574463),n=K(n,r,i,a,e[o+11],16,1839030562),a=K(a,n,r,i,e[o+14],23,-35309556),i=K(i,a,n,r,e[o+1],4,-1530992060),r=K(r,i,a,n,e[o+4],11,1272893353),n=K(n,r,i,a,e[o+7],16,-155497632),a=K(a,n,r,i,e[o+10],23,-1094730640),i=K(i,a,n,r,e[o+13],4,681279174),r=K(r,i,a,n,e[o+0],11,-358537222),n=K(n,r,i,a,e[o+3],16,-722521979),a=K(a,n,r,i,e[o+6],23,76029189),i=K(i,a,n,r,e[o+9],4,-640364487),r=K(r,i,a,n,e[o+12],11,-421815835),n=K(n,r,i,a,e[o+15],16,530742520),a=K(a,n,r,i,e[o+2],23,-995338651),i=J(i,a,n,r,e[o+0],6,-198630844),r=J(r,i,a,n,e[o+7],10,1126891415),n=J(n,r,i,a,e[o+14],15,-1416354905),a=J(a,n,r,i,e[o+5],21,-57434055),i=J(i,a,n,r,e[o+12],6,1700485571),r=J(r,i,a,n,e[o+3],10,-1894986606),n=J(n,r,i,a,e[o+10],15,-1051523),a=J(a,n,r,i,e[o+1],21,-2054922799),i=J(i,a,n,r,e[o+8],6,1873313359),r=J(r,i,a,n,e[o+15],10,-30611744),n=J(n,r,i,a,e[o+6],15,-1560198380),a=J(a,n,r,i,e[o+13],21,1309151649),i=J(i,a,n,r,e[o+4],6,-145523070),r=J(r,i,a,n,e[o+11],10,-1120210379),n=J(n,r,i,a,e[o+2],15,718787259),a=J(a,n,r,i,e[o+9],21,-343485551),i=Ae(i,l),a=Ae(a,c),n=Ae(n,u),r=Ae(r,m)}return Array(i,a,n,r)}function vt(e,t,i,a,n,r){return Ae(Ts(Ae(Ae(t,e),Ae(a,r)),n),i)}function V(e,t,i,a,n,r,o){return vt(t&i|~t&a,e,t,n,r,o)}function Y(e,t,i,a,n,r,o){return vt(t&a|i&~a,e,t,n,r,o)}function K(e,t,i,a,n,r,o){return vt(t^i^a,e,t,n,r,o)}function J(e,t,i,a,n,r,o){return vt(i^(t|~a),e,t,n,r,o)}function Ae(e,t){var i=(e&65535)+(t&65535),a=(e>>16)+(t>>16)+(i>>16);return a<<16|i&65535}function Ts(e,t){return e<<t|e>>>32-t}var Jt={md5:function(e){return ws(e)}};function vn(){return"tb_error_log"}function vs(e,t){return new Promise(i=>{let a=`SELECT * FROM ${vn()} WHERE status = ${ht(e)} AND identify = '${t}' ORDER BY id DESC LIMIT 1`;gs(a,!0).then(n=>{i(n[0])})})}function Ls(e,t,i,a,n,r,o,l,c,u){return vs(e,t).then(m=>{if(m)return Promise.resolve(!0);let _=`INSERT INTO ${vn()} (status, identify, grade, flag, user_desc, action_desc, environs_desc, error_desc, create_time, exp_time) values (${ht(e)}, '${t}', ${i}, '${a}', '${dt(n)}', '${dt(r)}', '${dt(o)}', '${dt(l)}', ${ht(c)}, ${ht(u)})`;return ps(_,!0)})}var ri={CRASH:1,USER:11,API_FAIL:12,API_ERROR:13,MSG_SYNC:14,DB_PLUGIN:15,FRAME:21,LISTENER:31,BUG_DB_GET_NONE:201,BUG_MSG_SYNC_PLUGIN_LOSS:202,BUG_MSG_SYNC_JS_LOSS:203},si={CRASH:"crash",MEMORY:"memory",LISTENER:"listener",FRAME_API:"frame_api",API:"api",DB:"db",PAYMENT:"payment",AUTH_FACE:"auth_face",CHAT_CALL:"chat_call",HOT_UPDATE:"hot_update",MESSAGE_PARSE:"message_parse",BUG:"bug"};function Ln(){return getApp().globalData.uid==0?!1:ee.zT==3?!0:ee.appId==Kr.CHAT_NOW_A||ee.ENV=="dev"}var Is=1e3;function Fs(e,t){try{if(!Ln())return;let i=$t(t),a=`api-${e} ${i}`;k("error","at comCatch/catch-save.js:15","catch api fail "+a);let n=Fn(a);Os().then(r=>{let o;typeof r=="boolean"?o="\u6D4B\u8BD5\u8C37\u6B4C\u6210\u529F":o=`\u6D4B\u8BD5\u8C37\u6B4C\u5931\u8D25-${$t(r)}`,n.errorDesc=`${n.errorDesc} - ${o}`,kn(ri.API_FAIL,si.API,n)})}catch(i){}}function ks(e,t,i){try{if(!Ln())return;let a=$t(i);a=a.substring(0,120);let n=`statusCode-${i.statusCode}-${a}-api-${e}-${JSON.stringify(t)}`;k("error","at comCatch/catch-save.js:37","catch api error "+n);let r=Fn(n);kn(ri.API_ERROR,si.API,r)}catch(a){}}function In(e,t,i){try{if(i.indexOf("tb_error_log")!=-1)return;let a=`${e} - ${t}`;i&&(a+=` - ${i}`),k("error","at comCatch/catch-save.js:74","catch db "+a),Ns(ri.DB_PLUGIN,si.DB,a)}catch(a){}}function $t(e){if(!e)return"";let t=JSON.stringify(e);return(typeof t!="string"||t=="{}")&&(t=e.toString()),t}function Fn(e){return{identify:Jt.md5(e),errorDesc:e,userDesc:je.getUserDesc(),actionDesc:je.getActionDesc(),environsDesc:je.getEnvironsDesc(),expTime:0}}function kn(e,t,i){Ls(0,i.identify,e,t,i.userDesc,i.actionDesc,i.environsDesc,i.errorDesc,new Date().getTime(),i.expTime)}function Ns(e,t,i){let a=[],n=new Date().getTime();if(n-getApp().globalData.catchApiLastReqTime<=Is)return;getApp().globalData.catchApiLastReqTime=n,a.push({grade:e,flag:t,user_desc:je.getUserDesc(),action_desc:je.getActionDesc(),environs_desc:je.getEnvironsDesc(),error_desc:i,create_time:n,createTimeStr:Dt(n)});let r={log_list:a};H.request("/monitor/record-exception-log",r)}function Os(){return new Promise(e=>{uni.request({url:"https://google.com",method:"GET",timeout:5e3,success(t){e(!0)},fail(t){e(t)}})})}var Rs=["/monitor/index","/chat/call/log","/chat/msg/mq-log","/user/sync-permission","/monitor/record-exception-log"],ji=["/monitor/record-exception-log"],zi=5,pt={invoke(e,t){if(Rs.indexOf(e)!=-1)return;let i="";i+=`\u63A5\u53E3=${e};`,i+=`\u53C2\u6570=${JSON.stringify(t)}`,i+=`\u65F6\u95F4=${Dt(new Date().getTime())}`,getApp().globalData.catchApiUrlList.push(`\u3010${i}\u3011`);let a=getApp().globalData.catchApiUrlList.length;a>zi&&(getApp().globalData.catchApiUrlList=getApp().globalData.catchApiUrlList.slice(a-zi))},error(e,t,i){ji.indexOf(e)==-1&&getApp().globalData.network.isConnected&&(!i||typeof i.statusCode=="undefined"||ks(e,t,i))},fail(e,t){ji.indexOf(e)==-1&&getApp().globalData.network.isConnected&&Fs(e,t)}},Ms={INIT:1,OPEN:2,CALLBACK:3,SOCKET:4,LOGIN:5};function Nn(e,t=!1){if(!t&&e.hide_profile){let i=e.uid%9999;return i<1e3&&(i="0"+i),h("mysteryer")+i}else return e.nickname||""}function Vi(){if(getApp().pubUnreadMy.moment>0){wt(Ge.MY,getApp().pubUnreadMy.moment);return}wt(Ge.MY,0),is(Ge.MY,getApp().pubUnreadMy.fans>0)}var p={PERMISSION:"permission",PERFECT_DATA:"perfect_data",REST:"rest",HOME_FILTER:"home_filter",GRID_GUIDE:"grid_guide",NOTIFY:"notify",HELLO:"hello",SHARE:"share",LANGUAGE_UP:"language_up",RAMADAN:"ramadan",MSG_DISTURB:"msg_disturb",CALL_DISTURB:"call_disturb",BAN:"ban",WARNING:"warning",HOME_SEX_FILTER:"home_sex_filter",CLUB_RESULT:"club_result",CLUB_DISBAND:"club_disband"},Bs={[p.HOME_FILTER]:"seeking_sex_open_time",[p.GRID_GUIDE]:"dialog_show_time_grid_guide",[p.NOTIFY]:"dialog_show_time_notify",[p.HELLO]:"dialog_show_time_hello"},qt=-99,tt=-100,Ps={[p.HOME_FILTER]:1,[p.HOME_SEX_FILTER]:1,[p.GRID_GUIDE]:1,[p.NOTIFY]:2,[p.SHARE]:3,[p.HELLO]:4,[p.LANGUAGE_UP]:5,[p.RAMADAN]:6},oi={[p.PERMISSION]:1,[p.PERFECT_DATA]:2,[p.REST]:3,[p.HOME_FILTER]:4,[p.HOME_SEX_FILTER]:4,[p.GRID_GUIDE]:4,[p.NOTIFY]:5,[p.SHARE]:7,[p.LANGUAGE_UP]:8};function Hs(e){return Gs(p.HOME_FILTER,21600)?!1:rs(!1)!=e}function Ws(e){return ee.isAndroid||e||P(li(p.GRID_GUIDE))?!1:!P("user_list_sort_"+getApp().globalData.uid)}function On(){return Dn(U.NOTIFY)?!1:!Us()}function Us(){let e=Mr(`${p.NOTIFY}_show_status`);if(!y(e))return!0;let t=P(li(p.NOTIFY));return!y(t)}function li(e){return`${Bs[e]}_${getApp().globalData.uid}`}function Gs(e,t){let i=P(li(e));if(!i)return!1;let a=new Date().getTime();return a<=i?!1:parseInt((a-i)/1e3)<=t}var Yi=!1,Pe=!1,we=0,Qe={appDialogList:[],appDialogStop:!1,appDialogCurKey:"",appDialogHelloData:!1,appBanDialogList:[],appClubResultList:[],appDialogIsShowBan:!1,appBanDialogCurKey:"",appWarningDialogCurKey:"",appClubResultCurKey:""},js={setDialogHelloData(e,t){e.appDialogHelloData=t},setDialogCurKey(e,t){e.appDialogCurKey=t},setDialogList(e,t){e.appDialogList=t,e.appDialogList.sort((i,a)=>i.sort-a.sort)},sortDialogList(e){e.appDialogList.sort((t,i)=>t.sort-i.sort)},resetDialogItem(e,t){let i=e.appDialogList.findIndex(a=>a.key==t.key);i!=-1&&(e.appDialogList[i].hasExec=!1,e.appDialogList[i].delay=t.delay)},resetClubResultDialogItem(e,t){let i=e.appClubResultList.findIndex(a=>a.key==t.key);i!=-1&&(e.appClubResultList[i].hasExec=!1)},delDialogItem(e,t){y(e.appDialogList)||e.appDialogList.splice(t,1)},delDialogItemByKey(e,t){if(y(e.appDialogList))return;let i=e.appDialogList.findIndex(a=>a.key==t);i!=-1&&e.appDialogList.splice(i,1)},clearDialog(e){e.appDialogStop=!0,e.appDialogList=[]},executeDialog(e,t){if(e.appBanDialogCurKey||e.appWarningDialogCurKey||e.appClubResultCurKey||y(e.appDialogList)||e.appDialogStop)return;let i=e.appDialogList[0];y(i)||i.hasExec||i.isCanExecute&&(e.appDialogList[0].hasExec=!0,Pt[i.funcName](i).then(()=>{e.appDialogCurKey="";let a=e.appDialogList.indexOf(i);a!=-1&&D("appDialog/delDialogItem",a),D("appDialog/executeDialog","execute then")}))},addDialog(e,t){let i=t.key;e.appDialogStop=!0;let a=e.appDialogList.findIndex(n=>n.key==i);if(a!=-1){if(e.appDialogList[a].isAdd){e.appDialogStop=!1,e.appDialogCurKey||D("appDialog/executeDialog");return}e.appDialogList[a].isAdd=!0,e.appDialogList[a].addTime=new Date().getTime(),e.appDialogList[a].isCanExecute=!0}else{let n=xe()?1:2,r;switch(i){case p.HOME_FILTER:r=qs(n,!0);break;case p.HELLO:r=Ki(t.delay);break;case p.MSG_DISTURB:r=Xs(t.delay);break;case p.CALL_DISTURB:r=Qs(t.delay);break;default:e.appDialogStop=!1,e.appDialogCurKey||D("appDialog/executeDialog");return}r.isAdd=!0,r.addTime=new Date().getTime(),e.appDialogList.push(r)}e.appDialogList.sort((n,r)=>n.sort==r.sort?r.addTime-n.addTime||(n.isCanExecute?tt:0):n.sort-r.sort),!e.appDialogCurKey&&(e.appDialogCurKey=i,e.appDialogStop=!1,D("appDialog/executeDialog"))},addDialogHomeFilter(e,t){getApp().globalData.appCRE==0||!Hs(t)||D("appDialog/addDialog",{key:p.HOME_FILTER})},addDialogHomeSexFilter(e,t){getApp().globalData.appCRE!=0&&(D("appDialog/addDialog",{key:p.HOME_SEX_FILTER,value:t}),D("appDialog/sortDialogList"))},addDialogGridGuide(e,t){let i=e.appDialogList.findIndex(n=>n.key==p.GRID_GUIDE);if(Ws(t)){if(i==-1)return;D("appDialog/addDialog",{key:p.GRID_GUIDE})}else i!=-1&&D("appDialog/delDialogItem",i)},addDialogNotify(e,t){t&&!On()||re("/pagesDialog/open-sys-notice")},addDialogHello(e,t){if(getApp().globalData.appCRE==0||Yi)return;Yi=!0;let i=e.appDialogList[0];if(i&&i.key==p.SHARE){we=30;let a=Ki(we);a.sort=Me(xe()?1:2,p.SHARE+1),a.isAdd=!0,a.addTime=new Date().getTime(),e.appDialogList.push(a),e.appDialogList.sort((n,r)=>n.sort==r.sort?r.addTime-n.addTime||(n.isCanExecute?tt:0):n.sort-r.sort);return}we=t,D("appDialog/addDialog",{key:p.HELLO,delay:t})},addDialogMsgDisturb(e,t){D("appDialog/addDialog",{key:p.MSG_DISTURB,delay:t})},addDialogCallDisturb(e,t){D("appDialog/addDialog",{key:p.CALL_DISTURB,delay:t})},delBanDialogItem(e){y(Qe.appBanDialogList)||Qe.appBanDialogList.splice(e,1)},delClubResultDialogItem(e){y(Qe.appClubResultList)||Qe.appClubResultList.splice(e,1)},addDialogBan(e,t){let i=eo(t);e.appDialogIsShowBan?uni.$emit("event_refresh_banned_data",t):(e.appBanDialogList.push(i),D("appDialog/sortBanWarningDialog"))},addDialogWarning(e,t){if(e.appBanDialogList.map(n=>n.sort).indexOf(Number(t.id))!=-1)return;let a;t.from_type==2?a=io(t):a=to(t),e.appBanDialogList.push(a),!(e.appBanDialogCurKey||e.appWarningDialogCurKey)&&D("appDialog/executeBanWarningDialog")},addDialogClubNoticeDialog(e,t){let i,a,n=e.appClubResultList.map(r=>r.key);t.type==Ka.CHECK_RESULT?(a=p.CLUB_RESULT+"_"+t.club_id,n.indexOf(a)==-1&&(i=ao(t))):(a=p.CLUB_DISBAND+"_"+t.club_id,n.indexOf(a)==-1&&(i=no(t))),i&&e.appClubResultList.push(i),!(e.appBanDialogCurKey||e.appWarningDialogCurKey)&&(e.appClubResultCurKey||D("appDialog/executeClubNoticeDialog"))},executeBanWarningDialog(e){if(y(e.appBanDialogList)){D("appDialog/executeClubNoticeDialog");return}let t=e.appBanDialogList[0];if(y(t)||t.hasExec)return;let i=getApp().globalData.curCallId>Gi.WAITING;if(i){t.isBan&&uni.$emit("event_banned_close_chat");return}e.appBanDialogList[0].hasExec=!i||!t.isBan,e.appDialogIsShowBan=t.isBan,t.isBan?e.appBanDialogCurKey="ban":e.appWarningDialogCurKey="warning",Pt[t.funcName](t).then(a=>{if(t.isBan){if(e.appBanDialogCurKey="",e.appDialogIsShowBan=!1,a==1){let n=e.appBanDialogList.indexOf(t);n!=-1&&D("appDialog/delBanDialogItem",n)}}else{e.appWarningDialogCurKey="";let n=e.appBanDialogList.indexOf(t);n!=-1&&D("appDialog/delBanDialogItem",n)}D("appDialog/executeBanWarningDialog","execute then")})},executeClubNoticeDialog(e,t){if(e.appBanDialogCurKey||e.appWarningDialogCurKey)return;if(y(e.appClubResultList)){D("appDialog/executeDialog");return}let i=e.appClubResultList[0];y(i)||i.hasExec||getApp().globalData.curCallId>Gi.WAITING||(e.appClubResultCurKey="club_result",e.appClubResultList[0].hasExec=!0,t&&t.delay&&(i.delay=t.delay),Pt[i.funcName](i).then(()=>{e.appClubResultCurKey="";let n=e.appClubResultList.indexOf(i);n!=-1&&D("appDialog/delClubResultDialogItem",n),D("appDialog/executeClubNoticeDialog","execute then")}))},sortBanWarningDialog(e){let t=e.appBanDialogList.filter(a=>a.sort==qt),i=e.appBanDialogList.filter(a=>a.sort!=qt);i=i.sort((a,n)=>a.sort-n.sort),e.appBanDialogList=[...t,...i]}},zs={init(i,a){return Di(this,arguments,function*({state:e},t){k("error","at store/modules/app-dialog.js:326","------> init dialog list, data ",t);let n=[];xe()?n=Ks(t.data,t.homeViewSizeObj):n=Ys(t.data,t.homeViewSizeObj),D("appDialog/setDialogList",n),D("appDialog/executeDialog")})}},Vs={namespaced:!0,state:Qe,mutations:js,actions:zs};function Ys(e,t){permissionGetAllStatus();let i=[],a=Rn(2,t,e.homeFilterSex);a&&i.push(a);let n=Mn(2,t);n&&i.push(n);let r=Bn(2,e.share);r&&i.push(r);let o=Pn(2);o&&i.push(o);let l=Zs(2,e.notifyTips);return l&&i.push(l),i}function Ks(e,t){let i=[],a=Js(e.authList);a&&i.push(a);let n=$s();n&&i.push(n);let r=Rn(2,t,e.homeFilterSex);r&&i.push(r);let o=Mn(1,t);o&&i.push(o);let l=5,c=Bn(1,e.share,l);c&&i.push(c);let u=Pn(1);return u&&i.push(u),i}function Js(e){return typeof e=="undefined"?null:{key:p.PERFECT_DATA,sort:oi[p.PERFECT_DATA],delay:0,data:e,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecutePerfectData"}}function $s(){return Hn()||!getApp().pubUser.is_rest?null:{key:p.REST,sort:oi[p.REST],delay:0,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteRest"}}function qs(e,t){return{key:p.HOME_FILTER,sort:Me(e,p.HOME_FILTER),delay:0,data:{},hasExec:!1,isCanExecute:t,addTime:new Date().getTime(),funcName:"_dialogExecuteHomeFilter"}}function Rn(e,t,i){return getApp().globalData.appCRE==0||!t||!t.filter?null:{key:p.HOME_SEX_FILTER,sort:Me(e,p.HOME_SEX_FILTER),delay:0,data:{value:i,size:t.filter},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteHomeSexFilter"}}function Mn(e,t){if(getApp().globalData.appCRE==0)return null;let i="grid";if(!t||!t[i])return null;let a={sizeList:[{key:i,size:t[i]}],from_type:1};return{key:p.GRID_GUIDE,sort:Me(e,p.GRID_GUIDE),delay:0,data:a,hasExec:!1,isCanExecute:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteGridGuide"}}function Bn(e,t,i=5){return getApp().globalData.appCRE==0||y(t)||getApp().globalData.launchCount<3||ss()?null:{key:p.SHARE,sort:Me(e,p.SHARE),delay:i,data:t,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteShare"}}function Ki(e){return{key:p.HELLO,sort:tt,delay:e,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteHello"}}function Pn(e){let t=P("user_switch_language_status");if(t)return null;let i=Yt(!1);if(t||y(i))return null;let a=jr.map(o=>o.key),n=Yt();if(a.indexOf(n)!=-1)return null;let r=bn(!1);return a.indexOf(r)==-1?null:{key:p.LANGUAGE_UP,sort:Me(e,p.LANGUAGE_UP),delay:5,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteLanguageUp"}}function Zs(e,t){return y(t)||P(`stop_notify_${getApp().globalData.uid}_${t.time}`)||!Dn(U.NOTIFY)?null:{key:p.RAMADAN,sort:Me(e,p.RAMADAN),delay:5,data:t,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteRamadan"}}function Xs(e){return{key:p.MSG_DISTURB,sort:tt,delay:e,data:{from_type:1},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteMsgDisturb"}}function Qs(e){return{key:p.CALL_DISTURB,sort:tt,delay:e,data:{from_type:2},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteCallDisturb"}}function eo(e){return{key:p.BAN,sort:qt,data:e,delay:e.delay||0,hasExec:!1,isBan:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteBan"}}function to(e){return{key:p.WARNING,sort:Number(e.id),data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteWarning"}}function io(e){return{key:p.WARNING,sort:Number(e.id),data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubWarning"}}function no(e){return{key:p.CLUB_DISBAND+"_"+e.club_id,data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubDisband"}}function ao(e){return{key:p.CLUB_RESULT+"_"+e.club_id,data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubResult"}}var Pt={_dialogExecutePermission(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),ge(e.key,e.delay,0)&&(D("appDialog/setDialogCurKey",p.PERMISSION),Xr(1,!1,e.permissionRes).then(()=>{t()}))},e.delay*1e3)})},_dialogExecutePerfectData(e){return new Promise(t=>{D("appDialog/setDialogCurKey",p.PERFECT_DATA),j("/pagesDialog/complete-content-first",{},"DataCompleteContentFirst",e.data,{onCloseListener(){t()}})})},_dialogExecuteRest(){return new Promise(e=>{D("appDialog/setDialogCurKey",p.REST),Ye(h("tips"),h("anchor.rest.openedTip"),()=>{let t={user_info:{is_rest:0}};H.request("/user/update-info",t,!0,!0).then(i=>{Ve("pubUser.is_rest",0),Ee(h("tips"),h("anchor.rest.turnOff"),()=>{e()},h("gotIt"))},()=>{e()})},()=>{e()},h("startWorking"))})},_dialogExecuteHomeFilter(e){return new Promise(t=>{ge(e.key,e.delay,ct.USER)&&(D("appDialog/setDialogCurKey",p.HOME_FILTER),re("/pagesDialog/seeking-sex-guide",{},{onCloseChooseSeekingSex:i=>{uni.$emit("event_app_dialog_seeking_sex_after",i),t()}}))})},_dialogExecuteHomeSexFilter(e){return new Promise(t=>{ge(e.key,e.delay,ct.USER)&&(D("appDialog/setDialogCurKey",p.HOME_SEX_FILTER),re(Xe.homeFilterSexGuide,{params:JSON.stringify(e.data)},{onCloseListener:()=>{uni.$emit("event_handle_filter_seeking_sex"),t()}}))})},_dialogExecuteGridGuide(e){return new Promise(t=>{if(!ge(e.key,e.delay,ct.USER))return;D("appDialog/setDialogCurKey",p.GRID_GUIDE);let i=e.data.sizeList;re("/pagesDialog/guide-cover",{list:encodeURIComponent(JSON.stringify(i))},{onCloseGuideCover:()=>{uni.$emit("event_app_dialog_close_guide",{from_type:e.data.from_type}),t()}})})},_dialogExecuteShare(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),ge(e.key,e.delay,0)&&(D("appDialog/setDialogCurKey",p.SHARE),j("/pagesDialog/share",{},"shareData",e.data.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteLanguageUp(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),ge(e.key,e.delay,0)&&(D("appDialog/setDialogCurKey",p.LANGUAGE_UP),ue("user_switch_language_status","1"),re("/pagesDialog/switch-language-remind",{},{onCloseListener(){t()}}))},e.delay*1e3)})},_dialogExecuteRamadan(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),ge(e.key,e.delay,0)&&(D("appDialog/setDialogCurKey",p.RAMADAN),j("/pagesDialog/stop-notify",{},"dataStopNotify",e.data,{onCloseListener(){t()}}))},e.delay*1e3)})},_dialogExecuteHello(e){return new Promise(t=>{oo().then(i=>{if(!i){t();return}if(Pe&&clearInterval(Pe),e.delay<=0||we<=0){if(!ge(e.key,we,0))return;D("appDialog/setDialogCurKey",p.HELLO),Ji(i,()=>{t()});return}Pe=setInterval(()=>{if(!ge(e.key,we,0)){Pe&&clearInterval(Pe);return}we-=1,we<=0&&(clearInterval(Pe),D("appDialog/setDialogCurKey",p.HELLO),Ji(i,()=>{t()}))},1e3)})})},_dialogExecuteMsgDisturb(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),ge(e.key,e.delay,ct.MSG)&&(D("appDialog/setDialogCurKey",p.MSG_DISTURB),re("/pagesDialog/disturb-def",e.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteCallDisturb(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),ge(e.key,e.delay,0)&&(D("appDialog/setDialogCurKey",p.CALL_DISTURB),re("/pagesDialog/disturb-def",e.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteBan(e){return new Promise(t=>{let i=e.exp_time;if(parseInt(new Date().getTime()/1e3)>i){t();return}let a=setTimeout(()=>{clearTimeout(a);let n=e.data.from_cache?1:0;j("/pagesDialog/banned",{from_cache:n},"bannedDialogData",e.data,{onCloseListener:r=>{t(r)}})},e.delay*1e3)})},_dialogExecuteWarning(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),j("/pagesDialog/warning",{},"warningDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubWarning(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),j(Xe.clubWarning,{},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubDisband(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),j(Xe.clubDisband,{},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubResult(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),j(Xe.clubStatusRemind,{from_type:2},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})}};function ge(e,t,i){let a;return i==0?a=ro():a=so(i),getApp().globalData.isGestureBacking||getApp().globalData.s.state.appDialog.appDialogStop||Hn()||!a?(D("appDialog/resetDialogItem",{key:e,delay:t}),!1):!0}function Hn(){return getApp().globalData.uid==0}function ro(){return getCurrentPages().length==1}function so(e){let t=Re();return t.length==1&&t[0]==e}function Me(e,t){return e==1?oi[t]:Ps[t]}function oo(){return new Promise(e=>{let t=getApp().globalData.s.state.appDialog.appDialogHelloData;t?e(t):H.request("/user/greet-coach-list",{},!1,!0).then(i=>{y(i.data)||y(i.data.list)?e(null):(D("appDialog/setDialogHelloData",i.data),e(i.data))},i=>{e(null)})})}function Ji(e,t){j("/pagesDialog/quality-user",{},"qualityUserData",e,{onCloseListener:i=>{i&&On()?setTimeout(()=>{D("appDialog/addDialogNotify")},2300):t()}})}var lo={curSendCont:0,msgMtimeList:[]},co=60,$i=6,uo={addSendCount(e){e.curSendCont+=1},clearSendCount(e){e.curSendCont=0},addMsgDisturbSaveCount(e,t){let i=e.msgMtimeList.length;if(e.msgMtimeList.length<$i&&(e.msgMtimeList.push(t/1e6),i=e.msgMtimeList.length),i>=$i){let a=e.msgMtimeList[0];e.msgMtimeList[i-1]-a<=co&&D("appDialog/addDialogMsgDisturb",2),e.msgMtimeList.splice(0,1)}}},mo={namespaced:!0,state:lo,mutations:uo},fo={callMtimeList:[]},po=60,qi=3,go={addCallDisturbReceiveCount(e,t){let i=e.callMtimeList.length;if(e.callMtimeList.length<qi&&(e.callMtimeList.push(t/1e3),i=e.callMtimeList.length),i>=qi){let a=e.callMtimeList[0];e.callMtimeList[i-1]-a<=po&&D("appDialog/addDialogCallDisturb",2),e.callMtimeList.splice(0,1)}},clearCallDisturbReceiveMtime(e){e.callMtimeList=[]}},ho={namespaced:!0,state:fo,mutations:go},Ue=P("pubData");Ue||(Ue={});var _o=["pubToken","pubUser","pubAccount","pubPrivacy"],bo=function(e,t){if(_o.indexOf(e)==-1)return;let i=P("pubData");i=i||{},i[e]=t,ue("pubData",i),["pubUser","pubAccount"].indexOf(e)!=-1?uni.$emit("event_vuex_watch",e):uni.$emit(`event_vuex_watch_${e}`)},yo=(0,Zi.createStore)({state:{pubToken:Ue.pubToken||"",pubUser:Ue.pubUser||{nickname:"",uid:0,avatar:""},pubAccount:Ue.pubAccount||{money:0},pubPrivacy:Ue.pubPrivacy||{},pubUnread:0,pubUnreadMy:{fans:0,moment:0,moment_type:1},pubI18n:"",pubAI18n:""},mutations:{setPubValue(e,t){let i=t.name.split("."),a="",n=i.length;if(n>=2){let r=e[i[0]];for(let o=1;o<n-1;o++)r=r[i[o]];r[i[n-1]]=t.value,a=i[0]}else e[t.name]=t.value,a=t.name;bo(a,e[a])},initUnread(e,t){let i=parseInt(t);i<0&&(i=0),e.pubUnread=i,wt(Ge.MSG,e.pubUnread),uni.$emit("event_vuex_watch_pub_unread",i)},setUnread(e,t){let i=parseInt(t);if(isNaN(i)||i==0)return;let a=e.pubUnread+i;a<0&&(a=0),e.pubUnread=a,wt(Ge.MSG,e.pubUnread),uni.$emit("event_vuex_watch_pub_unread",a)},initUnreadMy(e,t){let i=e.pubUnreadMy;typeof t.fans!="undefined"&&(i.fans=Number(t.fans)),typeof t.moment!="undefined"&&(i.moment=Number(t.moment)),typeof t.moment_type!="undefined"&&(i.moment_type=Number(t.moment_type)),e.pubUnreadMy=i,Vi(),uni.$emit("event_vuex_watch_pubUnreadMy",i)},setUnreadMy(e,t){let i=e.pubUnreadMy;for(let a in t)i[a]=t[a];e.pubUnreadMy=i,Vi(),uni.$emit("event_vuex_watch_pubUnreadMy",i)}},modules:{appDialog:Vs,message:mo,call:ho}}),He={handleCache(){let e=He.getCache();y(e)||(e=Hr(e),!He.checkIsShow()&&(e.from_cache=1,D("appDialog/addDialogBan",e),D("appDialog/executeBanWarningDialog")))},checkIsShow(){return gn()=="/pagesDialog/banned"},setCache(e){let t=JSON.stringify(e);ue(He.getCacheKey(),t)},getCache(){return P(He.getCacheKey())},getCacheKey(){return`banned_data_${yo.state.pubUser.uid}`},removeCache(){ze(He.getCacheKey())}},H={setToken(e){y(e)||Ve("pubToken",e)},isLogin(){let e=getApp().globalData.s.state;return!y(e.pubToken)&&e.pubUser.uid},requestOutsourcing(e,t,i,a,n=!1){return H.requestBase(e,t,i,a,n,3)},requestManager(e,t,i,a,n=!1){return H.requestBase(e,t,i,a,n,2)},request(e,t,i,a,n=!1){return H.requestBase(e,t,i,a,n,1)},requestBase(e,t,i,a,n=!1,r){return new Promise((o,l)=>{let c=!1;try{c=getApp().globalData.s.state.pubToken}catch(x){k("error","at common/api.js:35","request token catch "+JSON.stringify(x))}let u={"content-type":"application/json",ua:getApp().globalData.ua},m;r==1?(m=getApp().globalData.apiHost,c&&(u.auth=`Bearer ${c}`)):r==2?(m=getApp().globalData.pApiHost,c&&(u.Authorization=`Bearer ${c}`)):r==3&&(m=getApp().globalData.oApiHost,c&&(u.Authorization=`Bearer ${c}`));let _=!1;if(i)if(i=="refresh")_=!0;else{let x={mask:!0};typeof i=="string"&&(x.title=i),uni.showLoading(x)}pt.invoke(e,t);let A=Eo(t);uni.request({url:m+e,method:"POST",header:u,data:A,dataType:"json",timeout:1e4,complete(x){if(i&&uni.hideLoading(),k("log","at common/api.js:74",`request ${e} obj ${JSON.stringify(t)}`),x.statusCode==200){let S=x.data;if(S.data&&typeof S.data.callback=="object"&&(H.handleCallback(S.data.callback),n))return mt;if(S.ok===99)return getApp().loginOut(),mt;if(S.ok==-98)return So(S.data),a&&l(S),mt;if(y(S.msg)||ni(S.msg),S.ok>0){o(S);return}a&&l(S)}else if(_&&uni.stopPullDownRefresh(),a)l(x),pt.error(e,t,x);else return pt.error(e,t,x),mt},fail(x){pt.fail(e,x)}})})},handleCallback(e){switch(e.func_name){case"alert":wo(e.func_data);break;case"open":Ao(e.func_data);break;case"vip_alert":j("/pages/vip/vip-dialog",null,"vipDialogData",e.func_data);break;case"recharge_alert":let t={fromType:e.func_data.from_type,diffCoin:e.func_data.diff_coin||0};t.order_source=typeof e.func_data.order_source=="undefined"?0:e.func_data.order_source,t.click_type=typeof e.func_data.click_type=="undefined"?0:e.func_data.click_type,j("/pages/coin/coin-dialog",t,"coinDialogData",e.func_data);break;case"close":ii();break;case"banned_alert":let i=e.func_data.exp_time;if(parseInt(new Date().getTime()/1e3)>i||(D("appDialog/addDialogBan",e.func_data),He.setCache(e.func_data),gn()=="/pagesDialog/banned"))return;let n=setTimeout(()=>{clearTimeout(n),D("appDialog/executeBanWarningDialog")},e.delay*1e3);break;case"reconnect_mqtt":getApp().socketReconnect(ms.API_CALL_BACK,e.func_data);break;case"reload_route":getApp().handleSecret(e.func_data,Ms.CALLBACK,{});break;case"event":xo(e.func_data);break;case"api":Co(e.func_data);break;case"sensitive_alert":j("/pagesDialog/sensitive-check",null,"sensitiveData",e.func_data),uni.hideKeyboard();break;case"free_coins":j("/pagesDialog/coins-free",{coin:e.func_data.free_coins},"coinsFree",{},{});break}},accessLog(e,t){this.request("/other/access-log",{api_name:e,content:ft(t)})},accessLogExtra(e,t,i){let a=`${ft(t)} ${ft(i)}`;this.request("/other/access-log",{api_name:e,content:a})},accessLogApi(e,t,i,a){let n=`url:${t} p:${JSON.stringify(i)} res ${ft(a)}`;H.accessLog(e,n)}};function wo(e){let t=e.enter_func,i=e.cancel_title,a=e.enter_title,n=e.cancel_func,r=!y(i);uni.hideKeyboard(),uni.showModal({title:e.title,content:e.msg,showCancel:r,cancelText:r?i:h("cancel"),confirmText:a||h("ok"),complete(o){o.confirm?y(t)||H.handleCallback(t):o.cancel&&(y(n)||H.handleCallback(n))}})}function Ao(e){let t=e.page_name,i=e.data;t=="inside_web"?et(i.route,!0):t=="safari"?et(i.route,!1):t=="web"?re(i.route):t=="native"?Do(i.route):t=="chat"&&(Re().indexOf("/pages/call/chat-view")==-1?Ur(i.user_info):uni.$emit("event_no_connect_close_listener",{action:"chat_pri",user:i.user_info}))}function xo(e){let t=e.event_key;if(y(t))return;let i=e.data;y(i)?uni.$emit(t):uni.$emit(t,i)}function Co(e){if(e.type==1){let i={user_info:{is_rest:0}};H.request("/user/update-info",i,!0).then(()=>{getApp().pubUser.is_rest=0,Ee(h("tips"),h("anchorTurnedOffRest"),"",h("gotIt"))})}}function Do(e){return new Function("return "+e)()}function So(e){Re().indexOf("/pagesDialog/stop_taking")==-1&&(getApp().globalData.appStopTaking=!0,getApp().socketDisconnect(),j("/pagesDialog/stop_taking",{},"stopTakingData",e))}function Eo(e){try{y(e)&&(e={}),e.times=new Date().getTime();let t=Object.keys(e).sort(),i={};for(let n=0,r=t.length;n<r;n++)i[t[n]]=e[t[n]];let a=Wn(i).substr(1);return i.sign=Jt.md5(`${Jt.md5(a)}fMHjgD94yoc6TbB7sGoA`),i}catch(t){return e}}function Wn(e,t){if(e==null)return"";try{let i="",a=typeof e;if(a=="string"||a=="number")i+="&"+t+"="+Wr(e);else if(a=="boolean")i+="&"+t+"="+(e?1:0);else for(let n in e){let r=t==null?n:t+To(n);i+=Wn(e[n],r)}return i}catch(i){return""}}function To(e){return`${encodeURIComponent("[")}${e}${encodeURIComponent("]")}`}var I=(e,t)=>{let i=e.__vccOpts||e;for(let[a,n]of t)i[a]=n;return i};var R=ae(ce()),vo={"l-img":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"place-img":{"":{position:"absolute",top:0,left:0}},"text-place":{"":{color:"#999999",position:"absolute",bottom:0,textAlign:"center"}}},Lo={name:"LImg",emits:["click","onError","onLoad"],props:{src:{type:String,default:""},mode:{type:String,default:"aspectFill"},w:{type:String,default:"0"},h:{type:String,default:"0"},radius:{type:String,default:"0"},lazyLoad:{type:Boolean,default:!1},fade:{type:Boolean,default:!0},placeType:{type:Number,default:0},placeW:{type:String,default:""},placeFontSize:{type:[String,Boolean],default:""},placeBottom:{type:String,default:""},border:{type:String,default:""},otherStyle:{type:Object,default(){return{}}},click:{type:Boolean,default:!0},isGif:{type:Boolean,default:!1},needStyle:{type:[String,Number],default:0},useCache:{type:Boolean,default:!1},fitWH:{type:String,default:""}},data(){return{errorCount:1,path:"",refresh:!0,darkDir:"",isLoad:!1,fitStr:""}},watch:{src(){this.isLoad=!1,this.path=this.parse()}},computed:{placeSrc(){return this.placeType==1?"/static/img_load_s.png":this.placeType==2?"/static/img_load_b.png":""},placeViewStyle(){let e={width:this.placeW,height:this.placeW,position:"relative"};return this.placeBottom&&(e.marginBottom=this.placeBottom),e},placeFontSizeVal(){return this.placeFontSize===!1?"":this.placeFontSize?this.placeFontSize:this.placeType==2?"24rpx":"16rpx"},borderStyle(){if(this.border=="")return{};let e={},t=this.border.split(" ");return e.borderWidth=t[0],e.borderStyle=t[1],e.borderColor=t[2],e},viewStyle(){let e={width:this.w,minWidth:this.w,height:this.h,minHeight:this.h};return this.setRadius(e)},imgStyle(){let e={width:this.w,height:this.h};return e=Object.assign(e,this.otherStyle),this.setRadius(e)},ossPathOriginal(){return this.isGif?getApp().globalData.ossPath:getApp().globalData.ossPicPath}},methods:{$str:h,clickImg(e){this.click&&this.$emit("click",e)},setRadius(e){let t=this.radius.split(" ");return t.length<=1?e.borderRadius=this.radius:(e.borderTopLeftRadius=t[0],e.borderTopRightRadius=t[1],e.borderBottomRightRadius=t[2],e.borderBottomLeftRadius=t[3]),e},onLoadError(){if(this.path){if(this.path.startsWith("http")){if(this.errorCount>2){this.isError=!0,this.$emit("onError");return}this.errorCount+=1,this.refresh=!1,setTimeout(()=>{this.refresh=!0},500);return}this.path=this.ossPathOriginal+this.darkDir+this.src,An(this.darkDir+this.src)}},onLoad(){this.isLoad=!0,this.$emit("onLoad")},parse(){let e;if(e=0,this.src.startsWith("/static"))return this.src;if(this.src.startsWith("s/")){let t=getApp().getAppFilePath(this.darkDir+this.src,e);if(!y(t))return t}return this.useCache||e&&ee.isAndroid?this.isGif?Se(this.fitStr+this.darkDir+this.src):wn(this.fitStr+this.darkDir+this.src):this.src.startsWith("file://")?this.src:this.src.startsWith("/var/mobile/")?"file://"+this.src:this.src.startsWith("/storage/")?this.src:this.ossPathOriginal+this.fitStr+this.darkDir+this.src}},created(){this.needStyle==1&&getApp().globalData.themeObj.style==Tn.DARK?this.darkDir="dark/":this.darkDir="",this.fitWH&&this.src.indexOf("fit-in")==-1&&(this.fitStr="fit-in/"+this.fitWH+"/"),this.path=this.parse()}};function Io(e,t,i,a,n,r){return(0,R.openBlock)(),(0,R.createElementBlock)("view",{class:"l-img",onClick:t[2]||(t[2]=(...o)=>r.clickImg&&r.clickImg(...o)),style:(0,R.normalizeStyle)([r.viewStyle,r.borderStyle]),renderWhole:!0},[(0,R.createElementVNode)("view",{class:"l-img",style:(0,R.normalizeStyle)([{position:"relative"},r.viewStyle])},[i.placeType&&!n.isLoad?((0,R.openBlock)(),(0,R.createElementBlock)("view",{key:0,style:(0,R.normalizeStyle)(r.placeViewStyle)},[(0,R.createElementVNode)("u-image",{src:r.placeSrc,style:(0,R.normalizeStyle)({width:i.placeW,height:i.placeW})},null,12,["src"]),r.placeFontSizeVal?((0,R.openBlock)(),(0,R.createElementBlock)("u-text",{key:0,class:"text-place",style:(0,R.normalizeStyle)({fontSize:r.placeFontSizeVal,width:i.placeW})},(0,R.toDisplayString)(r.$str("loading"))+"...",5)):(0,R.createCommentVNode)("",!0)],4)):(0,R.createCommentVNode)("",!0),n.refresh?((0,R.openBlock)(),(0,R.createElementBlock)("u-image",{key:1,onError:t[0]||(t[0]=(...o)=>r.onLoadError&&r.onLoadError(...o)),onLoad:t[1]||(t[1]=(...o)=>r.onLoad&&r.onLoad(...o)),src:n.path,mode:i.mode,lazyLoad:i.lazyLoad,fadeShow:i.fade,style:(0,R.normalizeStyle)([r.imgStyle,r.borderStyle]),class:"place-img"},null,44,["src","mode","lazyLoad","fadeShow"])):(0,R.createCommentVNode)("",!0)],4)],4)}var W=I(Lo,[["render",Io],["styles",[vo]]]);var T=ae(ce());var f=ae(ce());var Fo={"view-this":{"":{flexDirection:"row",alignItems:"center",position:"relative",marginRight:"8rpx"}},"text-level":{"":{width:"50rpx",lineHeight:"50rpx",textAlign:"center",color:"#FFFFFF",position:"absolute",top:0}}},ko={props:{info:{type:Object,default(){return{}}},vipAlways:{type:Boolean,default:!1},levelAlways:{type:Boolean,default:!1},hideVip:{type:Boolean,default:!1}},computed:{show(){return this.info.is_auth||this.info.level>0||this.showVip||this.levelAlways},showVip(){return this.hideVip?!1:this.info.is_vip?this.info.hide_vip?this.vipAlways:!0:!1},showLevel(){return!this.info.hide_level&&(this.info.level>0||this.info.is_auth)?!0:this.levelAlways},levelStr(){let e=this.info.is_auth?1:0;return this.info.level<=0?e:this.info.level},levelSrc(){return this.info.sex==2?"s/pub/level_a.png":"s/pub/level_c.png"},levelSize(){return this.info.level>99?"10rpx":this.info.level>9?"14rpx":"16rpx"},levelWeight(){return this.info.level>99?"bold":"normal"}}};function No(e,t,i,a,n,r){let o=v((0,f.resolveDynamicComponent)("l-img"),W);return r.show?((0,f.openBlock)(),(0,f.createElementBlock)("view",{key:0,class:"view-this",renderWhole:!0},[r.showLevel?((0,f.openBlock)(),(0,f.createElementBlock)("view",{key:0},[(0,f.createVNode)(o,{src:r.levelSrc,w:"50rpx",h:"50rpx"},null,8,["src"]),(0,f.createElementVNode)("u-text",{class:"text-level",style:(0,f.normalizeStyle)({fontSize:r.levelSize,fontWeight:r.levelWeight})},(0,f.toDisplayString)(r.levelStr),5)])):(0,f.createCommentVNode)("",!0),r.showVip?((0,f.openBlock)(),(0,f.createBlock)(o,{key:1,src:"s/pub/vip_3.png",w:"56rpx",h:"24rpx",style:{"margin-left":"8rpx"}})):(0,f.createCommentVNode)("",!0)])):(0,f.createCommentVNode)("",!0)}var Un=I(ko,[["render",No],["styles",[Fo]]]),Oo={center:{"":{alignItems:"center",flexDirection:"row"}},"m-l-4":{"":{marginLeft:"8rpx"}},"m-r-4":{"":{marginRight:"8rpx"}}},Ro={props:{user:{type:Object,default(){return{}}},imgW:{type:Number,default:40},imgH:{type:Number,default:26},fontSize:{type:Number,default:24},color:{type:String,default:""},showName:{type:Boolean,default:!1},showCode:{type:Boolean,default:!0},desc:{type:Boolean,default:!1}},computed:{defClass(){let e={fontSize:`${this.fontSize}rpx`};return y(this.color)?e.color=getApp().globalData.themeObj.color.title:e.color=this.color,e}}};function Mo(e,t,i,a,n,r){let o=v((0,f.resolveDynamicComponent)("l-img"),W);return i.user.country_code&&!i.desc?((0,f.openBlock)(),(0,f.createElementBlock)("view",{key:0,class:"center"},[(0,f.createVNode)(o,{src:i.user.country_flag,w:`${i.imgW}rpx`,h:`${i.imgH}rpx`},null,8,["src","w","h"]),i.showCode&&i.user.country_code?((0,f.openBlock)(),(0,f.createElementBlock)("u-text",{key:0,class:"m-l-4",style:(0,f.normalizeStyle)(r.defClass)},(0,f.toDisplayString)(i.user.country_code.toUpperCase()),5)):(0,f.createCommentVNode)("",!0),i.showName&&i.user.country_name?((0,f.openBlock)(),(0,f.createElementBlock)("u-text",{key:1,class:"m-l-4",style:(0,f.normalizeStyle)(r.defClass)},(0,f.toDisplayString)(i.user.country_name),5)):(0,f.createCommentVNode)("",!0)])):i.user.country_code?((0,f.openBlock)(),(0,f.createElementBlock)("view",{key:1,class:"center m-r-4"},[i.showName&&i.user.country_name?((0,f.openBlock)(),(0,f.createElementBlock)("u-text",{key:0,class:"m-r-4",style:(0,f.normalizeStyle)(r.defClass)},(0,f.toDisplayString)(i.user.country_name),5)):(0,f.createCommentVNode)("",!0),i.showCode&&i.user.country_code?((0,f.openBlock)(),(0,f.createElementBlock)("u-text",{key:1,class:"m-r-4",style:(0,f.normalizeStyle)(r.defClass)},(0,f.toDisplayString)(i.user.country_code.toUpperCase()),5)):(0,f.createCommentVNode)("",!0),(0,f.createVNode)(o,{src:i.user.country_flag,w:`${i.imgW}rpx`,h:`${i.imgH}rpx`},null,8,["src","w","h"])])):(0,f.createCommentVNode)("",!0)}var Gn=I(Ro,[["render",Mo],["styles",[Oo]]]),Bo={"user-info":{"":{flexDirection:"row",alignItems:"center"}},"nickname-nvue":{"":{lines:1,textOverflow:"ellipsis",wordWrap:"anywhere"}},"m-r-4":{"":{marginRight:"8rpx"}},"text-official":{"":{lineHeight:"28rpx",backgroundColor:"#34C759",borderRadius:"4rpx",paddingTop:0,paddingRight:"8rpx",paddingBottom:0,paddingLeft:"8rpx",color:"#FFFFFF",fontSize:"20rpx",fontStyle:"italic",fontWeight:"700",marginRight:"8rpx"}}},Po={components:{LImg:W,CountryCode:Gn,LevelVip:Un},props:{info:{type:Object,default(){return{}}},noName:{type:Number,default:0},nameColor:{type:String,default:""},nameSize:{type:String,default:"26rpx"},nameWidth:{type:String,default:"300rpx"},fw:{type:[String,Number],default:"400"},desc:{type:Boolean,default:!1},isAdmin:{type:Number,default:0},showAge:{type:Boolean,default:!0},showAuth:{type:Boolean,default:!0},showCountry:{type:Boolean,default:!1},showCountryCode:{type:Boolean,default:!0},levelAlways:{type:Boolean,default:!1}},computed:{officialStr(){return this.info.auth_status==9?h("official"):""},age(){if(!this.showAge||y(this.info.birthday)||this.info.hide_profile)return"";let e=fn(this.info.birthday);return y(e)||isNaN(e)?"":`${this.noName?"":", "}${e}`},nicknameText(){return Nn(this.info,this.isAdmin)},showCountryInfo(){return this.showCountry&&this.info.hide_profile!=1},nicknameColor(){return y(this.nameColor)?getApp().globalData.themeObj.color.title:this.nameColor}}};function Ho(e,t,i,a,n,r){let o=v((0,f.resolveDynamicComponent)("level-vip"),Un),l=v((0,f.resolveDynamicComponent)("country-code"),Gn),c=v((0,f.resolveDynamicComponent)("l-img"),W);return(0,f.openBlock)(),(0,f.createElementBlock)("view",{renderWhole:!0},[i.desc?((0,f.openBlock)(),(0,f.createElementBlock)("view",{key:1,class:"user-info",style:{"justify-content":"flex-end"}},[r.officialStr?((0,f.openBlock)(),(0,f.createElementBlock)("u-text",{key:0,class:"text-official"},(0,f.toDisplayString)(r.officialStr),1)):((0,f.openBlock)(),(0,f.createElementBlock)("view",{key:1,class:"user-info"},[i.showAuth&&i.info.auth_status==1?((0,f.openBlock)(),(0,f.createBlock)(c,{key:0,src:"s/pub/verified_1.png",w:"24rpx",h:"24rpx",style:{"margin-right":"8rpx"}})):(0,f.createCommentVNode)("",!0),r.showCountryInfo?((0,f.openBlock)(),(0,f.createBlock)(l,{key:1,user:i.info,color:r.nicknameColor,desc:i.desc,"show-code":i.showCountryCode},null,8,["user","color","desc","show-code"])):(0,f.createCommentVNode)("",!0),(0,f.createVNode)(o,{info:i.info,"vip-always":i.isAdmin==1,"level-always":i.levelAlways,style:{"margin-right":"8rpx"}},null,8,["info","vip-always","level-always"])])),i.noName?(0,f.createCommentVNode)("",!0):((0,f.openBlock)(),(0,f.createElementBlock)("u-text",{key:2,class:(0,f.normalizeClass)(["nickname-nvue",[r.age?"":"m-r-4"]]),style:(0,f.normalizeStyle)({color:r.nicknameColor,fontSize:i.nameSize,maxWidth:i.nameWidth,fontWeight:i.fw})},(0,f.toDisplayString)(r.nicknameText),7)),r.age?((0,f.openBlock)(),(0,f.createElementBlock)("u-text",{key:3,class:"nickname-nvue",style:(0,f.normalizeStyle)({color:r.nicknameColor,fontSize:i.nameSize,fontWeight:i.fw})},(0,f.toDisplayString)(r.age),5)):(0,f.createCommentVNode)("",!0)])):((0,f.openBlock)(),(0,f.createElementBlock)("view",{key:0,class:"user-info"},[i.noName?(0,f.createCommentVNode)("",!0):((0,f.openBlock)(),(0,f.createElementBlock)("u-text",{key:0,class:(0,f.normalizeClass)(["nickname-nvue",[r.age?"":"m-r-4"]]),style:(0,f.normalizeStyle)({color:r.nicknameColor,fontSize:i.nameSize,maxWidth:i.nameWidth,fontWeight:i.fw})},(0,f.toDisplayString)(r.nicknameText),7)),r.age?((0,f.openBlock)(),(0,f.createElementBlock)("u-text",{key:1,class:"nickname-nvue m-r-4",style:(0,f.normalizeStyle)({color:r.nicknameColor,fontSize:i.nameSize,fontWeight:i.fw})},(0,f.toDisplayString)(r.age),5)):(0,f.createCommentVNode)("",!0),r.officialStr?((0,f.openBlock)(),(0,f.createElementBlock)("u-text",{key:2,class:"text-official"},(0,f.toDisplayString)(r.officialStr),1)):((0,f.openBlock)(),(0,f.createElementBlock)("view",{key:3,class:"user-info"},[(0,f.createVNode)(o,{info:i.info,"vip-always":i.isAdmin==1,"level-always":i.levelAlways,style:{"margin-right":"8rpx"}},null,8,["info","vip-always","level-always"]),r.showCountryInfo?((0,f.openBlock)(),(0,f.createBlock)(l,{key:0,user:i.info,color:r.nicknameColor,"show-code":i.showCountryCode,style:{"margin-right":"8rpx"}},null,8,["user","color","show-code"])):(0,f.createCommentVNode)("",!0),i.showAuth&&i.info.auth_status==1?((0,f.openBlock)(),(0,f.createBlock)(c,{key:1,src:"s/pub/verified_1.png",w:"24rpx",h:"24rpx",style:{"margin-right":"8rpx"}})):(0,f.createCommentVNode)("",!0)]))]))])}var nt=I(Po,[["render",Ho],["styles",[Bo]]]);function jn(e,t){y(e)||y(t)||(ue(`game_bet_info_${getApp().globalData.uid}`,{gameId:e,betInfo:t}),getApp().globalData.hasBetNumber=!0)}function zn(e,t){let i=P(`game_bet_info_${getApp().globalData.uid}`);if(y(i)||i.gameId!=e)return-1;let a=0,n=i.betInfo;return n[t]&&(a+=n[t].prizes),t>=5?n.B&&(a+=n.B.prizes):n.S&&(a+=n.S.prizes),t%2==0?n.E&&(a+=n.E.prizes):n.O&&(a+=n.O.prizes),a}function Vn(e){let t=P(`game_bet_info_${getApp().globalData.uid}`);return y(t)||t.gameId!=e?null:t.betInfo}function Yn(e){return e=="B"?10:e=="S"?11:e=="O"?12:e=="E"?13:parseInt(e)}function ci(e){return e=="B"?[5,6,7,8,9]:e=="S"?[0,1,2,3,4]:e=="O"?[1,3,5,7,9]:e=="E"?[0,2,4,6,8]:[]}function Kn(e){return e=="B"?h("big"):e=="S"?h("small"):e=="O"?h("odd"):e=="E"?h("even"):""}var Te=ae(ce());var Wo={id:"2852637",name:"uniui\u56FE\u6807\u5E93",font_family:"uniicons",css_prefix_text:"uniui-",description:"",glyphs:[{icon_id:"25027049",name:"yanse",font_class:"color",unicode:"e6cf",unicode_decimal:59087},{icon_id:"25027048",name:"wallet",font_class:"wallet",unicode:"e6b1",unicode_decimal:59057},{icon_id:"25015720",name:"settings-filled",font_class:"settings-filled",unicode:"e6ce",unicode_decimal:59086},{icon_id:"25015434",name:"shimingrenzheng-filled",font_class:"auth-filled",unicode:"e6cc",unicode_decimal:59084},{icon_id:"24934246",name:"shop-filled",font_class:"shop-filled",unicode:"e6cd",unicode_decimal:59085},{icon_id:"24934159",name:"staff-filled-01",font_class:"staff-filled",unicode:"e6cb",unicode_decimal:59083},{icon_id:"24932461",name:"VIP-filled",font_class:"vip-filled",unicode:"e6c6",unicode_decimal:59078},{icon_id:"24932462",name:"plus_circle_fill",font_class:"plus-filled",unicode:"e6c7",unicode_decimal:59079},{icon_id:"24932463",name:"folder_add-filled",font_class:"folder-add-filled",unicode:"e6c8",unicode_decimal:59080},{icon_id:"24932464",name:"yanse-filled",font_class:"color-filled",unicode:"e6c9",unicode_decimal:59081},{icon_id:"24932465",name:"tune-filled",font_class:"tune-filled",unicode:"e6ca",unicode_decimal:59082},{icon_id:"24932455",name:"a-rilidaka-filled",font_class:"calendar-filled",unicode:"e6c0",unicode_decimal:59072},{icon_id:"24932456",name:"notification-filled",font_class:"notification-filled",unicode:"e6c1",unicode_decimal:59073},{icon_id:"24932457",name:"wallet-filled",font_class:"wallet-filled",unicode:"e6c2",unicode_decimal:59074},{icon_id:"24932458",name:"paihangbang-filled",font_class:"medal-filled",unicode:"e6c3",unicode_decimal:59075},{icon_id:"24932459",name:"gift-filled",font_class:"gift-filled",unicode:"e6c4",unicode_decimal:59076},{icon_id:"24932460",name:"fire-filled",font_class:"fire-filled",unicode:"e6c5",unicode_decimal:59077},{icon_id:"24928001",name:"refreshempty",font_class:"refreshempty",unicode:"e6bf",unicode_decimal:59071},{icon_id:"24926853",name:"location-ellipse",font_class:"location-filled",unicode:"e6af",unicode_decimal:59055},{icon_id:"24926735",name:"person-filled",font_class:"person-filled",unicode:"e69d",unicode_decimal:59037},{icon_id:"24926703",name:"personadd-filled",font_class:"personadd-filled",unicode:"e698",unicode_decimal:59032},{icon_id:"24923351",name:"back",font_class:"back",unicode:"e6b9",unicode_decimal:59065},{icon_id:"24923352",name:"forward",font_class:"forward",unicode:"e6ba",unicode_decimal:59066},{icon_id:"24923353",name:"arrowthinright",font_class:"arrow-right",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923353",name:"arrowthinright",font_class:"arrowthinright",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrow-left",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrowthinleft",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923355",name:"arrowthinup",font_class:"arrow-up",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923355",name:"arrowthinup",font_class:"arrowthinup",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923356",name:"arrowthindown",font_class:"arrow-down",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923356",name:"arrowthindown",font_class:"arrowthindown",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923349",name:"arrowdown",font_class:"bottom",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923349",name:"arrowdown",font_class:"arrowdown",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923346",name:"arrowright",font_class:"right",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923346",name:"arrowright",font_class:"arrowright",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923347",name:"arrowup",font_class:"top",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923347",name:"arrowup",font_class:"arrowup",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923348",name:"arrowleft",font_class:"left",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923348",name:"arrowleft",font_class:"arrowleft",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923334",name:"eye",font_class:"eye",unicode:"e651",unicode_decimal:58961},{icon_id:"24923335",name:"eye-filled",font_class:"eye-filled",unicode:"e66a",unicode_decimal:58986},{icon_id:"24923336",name:"eye-slash",font_class:"eye-slash",unicode:"e6b3",unicode_decimal:59059},{icon_id:"24923337",name:"eye-slash-filled",font_class:"eye-slash-filled",unicode:"e6b4",unicode_decimal:59060},{icon_id:"24923305",name:"info-filled",font_class:"info-filled",unicode:"e649",unicode_decimal:58953},{icon_id:"24923299",name:"reload-01",font_class:"reload",unicode:"e6b2",unicode_decimal:59058},{icon_id:"24923195",name:"mic_slash_fill",font_class:"micoff-filled",unicode:"e6b0",unicode_decimal:59056},{icon_id:"24923165",name:"map-pin-ellipse",font_class:"map-pin-ellipse",unicode:"e6ac",unicode_decimal:59052},{icon_id:"24923166",name:"map-pin",font_class:"map-pin",unicode:"e6ad",unicode_decimal:59053},{icon_id:"24923167",name:"location",font_class:"location",unicode:"e6ae",unicode_decimal:59054},{icon_id:"24923064",name:"starhalf",font_class:"starhalf",unicode:"e683",unicode_decimal:59011},{icon_id:"24923065",name:"star",font_class:"star",unicode:"e688",unicode_decimal:59016},{icon_id:"24923066",name:"star-filled",font_class:"star-filled",unicode:"e68f",unicode_decimal:59023},{icon_id:"24899646",name:"a-rilidaka",font_class:"calendar",unicode:"e6a0",unicode_decimal:59040},{icon_id:"24899647",name:"fire",font_class:"fire",unicode:"e6a1",unicode_decimal:59041},{icon_id:"24899648",name:"paihangbang",font_class:"medal",unicode:"e6a2",unicode_decimal:59042},{icon_id:"24899649",name:"font",font_class:"font",unicode:"e6a3",unicode_decimal:59043},{icon_id:"24899650",name:"gift",font_class:"gift",unicode:"e6a4",unicode_decimal:59044},{icon_id:"24899651",name:"link",font_class:"link",unicode:"e6a5",unicode_decimal:59045},{icon_id:"24899652",name:"notification",font_class:"notification",unicode:"e6a6",unicode_decimal:59046},{icon_id:"24899653",name:"staff",font_class:"staff",unicode:"e6a7",unicode_decimal:59047},{icon_id:"24899654",name:"VIP",font_class:"vip",unicode:"e6a8",unicode_decimal:59048},{icon_id:"24899655",name:"folder_add",font_class:"folder-add",unicode:"e6a9",unicode_decimal:59049},{icon_id:"24899656",name:"tune",font_class:"tune",unicode:"e6aa",unicode_decimal:59050},{icon_id:"24899657",name:"shimingrenzheng",font_class:"auth",unicode:"e6ab",unicode_decimal:59051},{icon_id:"24899565",name:"person",font_class:"person",unicode:"e699",unicode_decimal:59033},{icon_id:"24899566",name:"email-filled",font_class:"email-filled",unicode:"e69a",unicode_decimal:59034},{icon_id:"24899567",name:"phone-filled",font_class:"phone-filled",unicode:"e69b",unicode_decimal:59035},{icon_id:"24899568",name:"phone",font_class:"phone",unicode:"e69c",unicode_decimal:59036},{icon_id:"24899570",name:"email",font_class:"email",unicode:"e69e",unicode_decimal:59038},{icon_id:"24899571",name:"personadd",font_class:"personadd",unicode:"e69f",unicode_decimal:59039},{icon_id:"24899558",name:"chatboxes-filled",font_class:"chatboxes-filled",unicode:"e692",unicode_decimal:59026},{icon_id:"24899559",name:"contact",font_class:"contact",unicode:"e693",unicode_decimal:59027},{icon_id:"24899560",name:"chatbubble-filled",font_class:"chatbubble-filled",unicode:"e694",unicode_decimal:59028},{icon_id:"24899561",name:"contact-filled",font_class:"contact-filled",unicode:"e695",unicode_decimal:59029},{icon_id:"24899562",name:"chatboxes",font_class:"chatboxes",unicode:"e696",unicode_decimal:59030},{icon_id:"24899563",name:"chatbubble",font_class:"chatbubble",unicode:"e697",unicode_decimal:59031},{icon_id:"24881290",name:"upload-filled",font_class:"upload-filled",unicode:"e68e",unicode_decimal:59022},{icon_id:"24881292",name:"upload",font_class:"upload",unicode:"e690",unicode_decimal:59024},{icon_id:"24881293",name:"weixin",font_class:"weixin",unicode:"e691",unicode_decimal:59025},{icon_id:"24881274",name:"compose",font_class:"compose",unicode:"e67f",unicode_decimal:59007},{icon_id:"24881275",name:"qq",font_class:"qq",unicode:"e680",unicode_decimal:59008},{icon_id:"24881276",name:"download-filled",font_class:"download-filled",unicode:"e681",unicode_decimal:59009},{icon_id:"24881277",name:"pengyouquan",font_class:"pyq",unicode:"e682",unicode_decimal:59010},{icon_id:"24881279",name:"sound",font_class:"sound",unicode:"e684",unicode_decimal:59012},{icon_id:"24881280",name:"trash-filled",font_class:"trash-filled",unicode:"e685",unicode_decimal:59013},{icon_id:"24881281",name:"sound-filled",font_class:"sound-filled",unicode:"e686",unicode_decimal:59014},{icon_id:"24881282",name:"trash",font_class:"trash",unicode:"e687",unicode_decimal:59015},{icon_id:"24881284",name:"videocam-filled",font_class:"videocam-filled",unicode:"e689",unicode_decimal:59017},{icon_id:"24881285",name:"spinner-cycle",font_class:"spinner-cycle",unicode:"e68a",unicode_decimal:59018},{icon_id:"24881286",name:"weibo",font_class:"weibo",unicode:"e68b",unicode_decimal:59019},{icon_id:"24881288",name:"videocam",font_class:"videocam",unicode:"e68c",unicode_decimal:59020},{icon_id:"24881289",name:"download",font_class:"download",unicode:"e68d",unicode_decimal:59021},{icon_id:"24879601",name:"help",font_class:"help",unicode:"e679",unicode_decimal:59001},{icon_id:"24879602",name:"navigate-filled",font_class:"navigate-filled",unicode:"e67a",unicode_decimal:59002},{icon_id:"24879603",name:"plusempty",font_class:"plusempty",unicode:"e67b",unicode_decimal:59003},{icon_id:"24879604",name:"smallcircle",font_class:"smallcircle",unicode:"e67c",unicode_decimal:59004},{icon_id:"24879605",name:"minus-filled",font_class:"minus-filled",unicode:"e67d",unicode_decimal:59005},{icon_id:"24879606",name:"micoff",font_class:"micoff",unicode:"e67e",unicode_decimal:59006},{icon_id:"24879588",name:"closeempty",font_class:"closeempty",unicode:"e66c",unicode_decimal:58988},{icon_id:"24879589",name:"clear",font_class:"clear",unicode:"e66d",unicode_decimal:58989},{icon_id:"24879590",name:"navigate",font_class:"navigate",unicode:"e66e",unicode_decimal:58990},{icon_id:"24879591",name:"minus",font_class:"minus",unicode:"e66f",unicode_decimal:58991},{icon_id:"24879592",name:"image",font_class:"image",unicode:"e670",unicode_decimal:58992},{icon_id:"24879593",name:"mic",font_class:"mic",unicode:"e671",unicode_decimal:58993},{icon_id:"24879594",name:"paperplane",font_class:"paperplane",unicode:"e672",unicode_decimal:58994},{icon_id:"24879595",name:"close",font_class:"close",unicode:"e673",unicode_decimal:58995},{icon_id:"24879596",name:"help-filled",font_class:"help-filled",unicode:"e674",unicode_decimal:58996},{icon_id:"24879597",name:"plus-filled",font_class:"paperplane-filled",unicode:"e675",unicode_decimal:58997},{icon_id:"24879598",name:"plus",font_class:"plus",unicode:"e676",unicode_decimal:58998},{icon_id:"24879599",name:"mic-filled",font_class:"mic-filled",unicode:"e677",unicode_decimal:58999},{icon_id:"24879600",name:"image-filled",font_class:"image-filled",unicode:"e678",unicode_decimal:59e3},{icon_id:"24855900",name:"locked-filled",font_class:"locked-filled",unicode:"e668",unicode_decimal:58984},{icon_id:"24855901",name:"info",font_class:"info",unicode:"e669",unicode_decimal:58985},{icon_id:"24855903",name:"locked",font_class:"locked",unicode:"e66b",unicode_decimal:58987},{icon_id:"24855884",name:"camera-filled",font_class:"camera-filled",unicode:"e658",unicode_decimal:58968},{icon_id:"24855885",name:"chat-filled",font_class:"chat-filled",unicode:"e659",unicode_decimal:58969},{icon_id:"24855886",name:"camera",font_class:"camera",unicode:"e65a",unicode_decimal:58970},{icon_id:"24855887",name:"circle",font_class:"circle",unicode:"e65b",unicode_decimal:58971},{icon_id:"24855888",name:"checkmarkempty",font_class:"checkmarkempty",unicode:"e65c",unicode_decimal:58972},{icon_id:"24855889",name:"chat",font_class:"chat",unicode:"e65d",unicode_decimal:58973},{icon_id:"24855890",name:"circle-filled",font_class:"circle-filled",unicode:"e65e",unicode_decimal:58974},{icon_id:"24855891",name:"flag",font_class:"flag",unicode:"e65f",unicode_decimal:58975},{icon_id:"24855892",name:"flag-filled",font_class:"flag-filled",unicode:"e660",unicode_decimal:58976},{icon_id:"24855893",name:"gear-filled",font_class:"gear-filled",unicode:"e661",unicode_decimal:58977},{icon_id:"24855894",name:"home",font_class:"home",unicode:"e662",unicode_decimal:58978},{icon_id:"24855895",name:"home-filled",font_class:"home-filled",unicode:"e663",unicode_decimal:58979},{icon_id:"24855896",name:"gear",font_class:"gear",unicode:"e664",unicode_decimal:58980},{icon_id:"24855897",name:"smallcircle-filled",font_class:"smallcircle-filled",unicode:"e665",unicode_decimal:58981},{icon_id:"24855898",name:"map-filled",font_class:"map-filled",unicode:"e666",unicode_decimal:58982},{icon_id:"24855899",name:"map",font_class:"map",unicode:"e667",unicode_decimal:58983},{icon_id:"24855825",name:"refresh-filled",font_class:"refresh-filled",unicode:"e656",unicode_decimal:58966},{icon_id:"24855826",name:"refresh",font_class:"refresh",unicode:"e657",unicode_decimal:58967},{icon_id:"24855808",name:"cloud-upload",font_class:"cloud-upload",unicode:"e645",unicode_decimal:58949},{icon_id:"24855809",name:"cloud-download-filled",font_class:"cloud-download-filled",unicode:"e646",unicode_decimal:58950},{icon_id:"24855810",name:"cloud-download",font_class:"cloud-download",unicode:"e647",unicode_decimal:58951},{icon_id:"24855811",name:"cloud-upload-filled",font_class:"cloud-upload-filled",unicode:"e648",unicode_decimal:58952},{icon_id:"24855813",name:"redo",font_class:"redo",unicode:"e64a",unicode_decimal:58954},{icon_id:"24855814",name:"images-filled",font_class:"images-filled",unicode:"e64b",unicode_decimal:58955},{icon_id:"24855815",name:"undo-filled",font_class:"undo-filled",unicode:"e64c",unicode_decimal:58956},{icon_id:"24855816",name:"more",font_class:"more",unicode:"e64d",unicode_decimal:58957},{icon_id:"24855817",name:"more-filled",font_class:"more-filled",unicode:"e64e",unicode_decimal:58958},{icon_id:"24855818",name:"undo",font_class:"undo",unicode:"e64f",unicode_decimal:58959},{icon_id:"24855819",name:"images",font_class:"images",unicode:"e650",unicode_decimal:58960},{icon_id:"24855821",name:"paperclip",font_class:"paperclip",unicode:"e652",unicode_decimal:58962},{icon_id:"24855822",name:"settings",font_class:"settings",unicode:"e653",unicode_decimal:58963},{icon_id:"24855823",name:"search",font_class:"search",unicode:"e654",unicode_decimal:58964},{icon_id:"24855824",name:"redo-filled",font_class:"redo-filled",unicode:"e655",unicode_decimal:58965},{icon_id:"24841702",name:"list",font_class:"list",unicode:"e644",unicode_decimal:58948},{icon_id:"24841489",name:"mail-open-filled",font_class:"mail-open-filled",unicode:"e63a",unicode_decimal:58938},{icon_id:"24841491",name:"hand-thumbsdown-filled",font_class:"hand-down-filled",unicode:"e63c",unicode_decimal:58940},{icon_id:"24841492",name:"hand-thumbsdown",font_class:"hand-down",unicode:"e63d",unicode_decimal:58941},{icon_id:"24841493",name:"hand-thumbsup-filled",font_class:"hand-up-filled",unicode:"e63e",unicode_decimal:58942},{icon_id:"24841494",name:"hand-thumbsup",font_class:"hand-up",unicode:"e63f",unicode_decimal:58943},{icon_id:"24841496",name:"heart-filled",font_class:"heart-filled",unicode:"e641",unicode_decimal:58945},{icon_id:"24841498",name:"mail-open",font_class:"mail-open",unicode:"e643",unicode_decimal:58947},{icon_id:"24841488",name:"heart",font_class:"heart",unicode:"e639",unicode_decimal:58937},{icon_id:"24839963",name:"loop",font_class:"loop",unicode:"e633",unicode_decimal:58931},{icon_id:"24839866",name:"pulldown",font_class:"pulldown",unicode:"e632",unicode_decimal:58930},{icon_id:"24813798",name:"scan",font_class:"scan",unicode:"e62a",unicode_decimal:58922},{icon_id:"24813786",name:"bars",font_class:"bars",unicode:"e627",unicode_decimal:58919},{icon_id:"24813788",name:"cart-filled",font_class:"cart-filled",unicode:"e629",unicode_decimal:58921},{icon_id:"24813790",name:"checkbox",font_class:"checkbox",unicode:"e62b",unicode_decimal:58923},{icon_id:"24813791",name:"checkbox-filled",font_class:"checkbox-filled",unicode:"e62c",unicode_decimal:58924},{icon_id:"24813794",name:"shop",font_class:"shop",unicode:"e62f",unicode_decimal:58927},{icon_id:"24813795",name:"headphones",font_class:"headphones",unicode:"e630",unicode_decimal:58928},{icon_id:"24813796",name:"cart",font_class:"cart",unicode:"e631",unicode_decimal:58929}]},Uo="/static/uniicons.ttf",Go={"uni-icons":{"":{fontFamily:"uniicons",textDecoration:"none",textAlign:"center"}}},jo=weex.requireModule("dom");jo.addRule("fontFace",{fontFamily:"uniicons",src:"url('"+Uo+"')"});var zo={name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""}},data(){return{icons:Wo.glyphs}},computed:{unicode(){let e=this.icons.find(t=>t.font_class===this.type);return e?unescape(`%u${e.unicode}`):""}},methods:{_onClick(e){this.$emit("click",e)}}};function Vo(e,t,i,a,n,r){return(0,Te.openBlock)(),(0,Te.createElementBlock)("u-text",{style:(0,Te.normalizeStyle)({color:i.color,"font-size":i.size}),class:"uni-icons",onClick:t[0]||(t[0]=(...o)=>r._onClick&&r._onClick(...o))},(0,Te.toDisplayString)(r.unicode),5)}var he=I(zo,[["render",Vo],["styles",[Go]]]);var s=ae(ce());var oe=ae(ce());var Yo={"coin-flex":{"":{flexDirection:"row",alignItems:"center"}}},Ko={props:{coin:{type:[String,Number],default:""},w:{type:Number,default:20},size:{type:Number,default:24},mR:{type:Number,default:4},fw:{type:Number,default:400},color:{type:String,default:""}},data(){return{}},computed:{textColor(){return this.color?this.color:getApp().globalData.themeObj.color.coin}}};function Jo(e,t,i,a,n,r){let o=v((0,oe.resolveDynamicComponent)("l-img"),W);return(0,oe.openBlock)(),(0,oe.createElementBlock)("view",{class:"coin-flex",renderWhole:!0},[(0,oe.createElementVNode)("u-text",{style:(0,oe.normalizeStyle)({fontSize:`${i.size}rpx`,marginRight:`${i.mR}rpx`,fontWeight:i.fw,color:r.textColor})},(0,oe.toDisplayString)(i.coin),5),(0,oe.createVNode)(o,{src:"s/my/i_coins.png",w:`${i.w}rpx`,h:`${i.w}rpx`},null,8,["w","h"])])}var at=I(Ko,[["render",Jo],["styles",[Yo]]]);var Jn={data(){return{pubUser:getApp().pubUser,pubAccount:getApp().pubAccount}},methods:{eventVuexWatch(e){k("error","at store/watch.mixin.js:10","event_vuex_watch change "+e),this[e]=getApp()[e],typeof this.onEventVuexWatch=="function"&&this.onEventVuexWatch(e)}},onLoad(){uni.$on("event_vuex_watch",this.eventVuexWatch)},onUnload(){uni.$off("event_vuex_watch",this.eventVuexWatch)}};var ve=ae(ce()),$o={emits:["click"],props:{data:{type:Object,default(){return{text:"",info:[],click:[]}}},fontSize:{type:String,default:"24rpx"},color:{type:String,default(){return getApp().globalData.themeObj.color.title}},selectable:{type:Boolean,default:!1}},data(){return{version:0,nodes:[{name:"div",children:[]}]}},watch:{data(){this.parse()}},methods:{click(e){let t=Array.isArray(this.data.click)?this.data.click[0]:this.data.click;t&&(t.disabled||(e.stopPropagation(),t.action==1?re("/pages/main/user-home",{uid:t.id}):t.action==2?_n(t.id,t.member,0):t.action==3?Ke(0,1):t.action==4?hn(t.id):t.action==5?et(t.url,!1):t.action==6?et(t.url,!0):t.action==100?re(t.url):t.action==101&&this.$emit("click")))},parseTextV1(e,t,i,a="",n=""){let r={type:"text",text:`${t?"&nbsp;":""}${e}${i?"&nbsp;":""}`},o="";return a!=""&&(o+=`color:${a};`),n!=""&&(o+=`font-size:${n};`),o!=""&&(r.attrs={style:o}),r},parseDataV1(){let e=[];if(this.data.text=="[x]"){let i=this.data.info[0];this.nodes[0].children=[this.parseTextV1(i.text,!1,!1,i.color)];return}let t=this.data.text.split("[x]");for(let i=0,a=t.length;i<a;i++){let n=t[i];n!=""&&e.push(this.parseTextV1(n,!1,!1,this.color));let r=this.data.info[i];if(r){let o,l;try{y(n)||n.endsWith('"')?o=!1:o=!0;let u=t[i+1];y(u)||u.startsWith('"')||u.startsWith(",")||u.startsWith(".")?l=!1:l=!0}catch(u){o=!0,l=!0}let c="";r.user_info?r.user_info.uid==getApp().pubUser.uid?c=r.self:c=r.nickname:c=r.text,e.push(this.parseTextV1(c,o,l,r.color))}}e.length>1&&(this.nodes[0].children=e)},parseText(e,t="",i=""){let a={type:"text",text:`${e}`},n="";return y(t)||(n+=`color:${t};`),y(i)||(n+=`font-size:${i};`),n!=""&&(a.attrs={style:n}),a},parse(){let e=this.data.text.split(/(\[%\w+%\])/).filter(function(i){return i!==""});if(e.length<=1){this.parseDataV1();return}let t=[];for(let i=0,a=e.length;i<a;i++){let n=e[i];if(n.startsWith("[%")){let o=n.replace(/[\s+,\[%,%\]]/g,""),l=this.data.info[o];if(y(l)||y(l.text))continue;t.push(this.parseText(l.text,l.color,l.fontSize))}else n.startsWith(" ")&&(n=`&nbsp;${n}`),n.endsWith(" ")&&(n=`${n}&nbsp;`),t.push(this.parseText(n,this.color))}t.length>1&&(this.nodes[0].children=t)}},created(){y(this.data.text)||this.parse()}};function qo(e,t,i,a,n,r){let o=(0,ve.resolveComponent)("rich-text");return(0,ve.openBlock)(),(0,ve.createBlock)(o,{onClick:r.click,nodes:n.nodes,selectable:i.selectable,style:(0,ve.normalizeStyle)({color:i.color,fontSize:i.fontSize})},null,8,["onClick","nodes","selectable","style"])}var ui=I($o,[["render",qo]]);function Zo(e,t){Ye(h("tips"),h("anchor.rest.turnOffTip"),()=>{let i={user_info:{is_rest:0}};H.request("/user/update-info",i,!0).then(()=>{typeof e=="function"&&e(),Ve("pubUser.is_rest",0),Ee(h("tips"),h("anchor.rest.turnOff"),"",h("gotIt"))})},()=>{typeof t=="function"&&t()},h("turnOff"))}function $n(){return!xe()||getApp().pubUser.is_rest!=1?!1:(uni.hideKeyboard(),Zo(!1,!1),!0)}var qn={};function Zn(e,t="",i={}){if(Xo()&&typeof qn.fbEvent!="undefined")try{qn.fbEvent({event:e,valueToSum:t,params:i},function(){k("info","at comEvent/event.js:17",`fbEvent ${e} success`)},function(){k("error","at comEvent/event.js:19",`fbEvent ${e} error`)})}catch(a){}}function Xo(){return!(!ee.isAndroid&&ee.appV<133)}function Xn(){Zn("game_bet_click_total");let e=`game_bet_click_${Qo()}`;Zn(e)}function Qo(e){return xe()?e?"anchor".substr(0,6-e):"anchor":"user"}var ie=ae(ce()),el={text:{"":{color:"#333333"}},"text-small":{"":{fontSize:"32rpx",fontWeight:"600"}},"text-big":{"":{fontSize:"80rpx",fontWeight:"800"}}},tl={emits:[],props:{sizeType:{type:Number,default:1},gameInfo:{type:Object,default(){return{}}},draw:{type:Boolean,default:!1}},data(){return{number:1,timer:!1,isDrawing:0,resNumber:0}},watch:{gameInfo:{handler(e,t){St(e)||typeof t!="undefined"&&e.status==t.status||(k("error","at pagesGame/coms/lottery-number.vue:42","lottery-number watch "+JSON.stringify(e)),e.status==0?this.reset():e.status==1?this.startDrawing():this.showLuckNumber(e.result))},immediate:!0,deep:!0},draw:{handler(e,t){e&&this.startDrawing()}}},computed:{textClass(){return this.sizeType==1?"text-small":"text-big"},imgW(){return this.sizeType==1?"36rpx":"72rpx"}},methods:{clearTimer(){this.timer&&(clearInterval(this.timer),this.timer=!1)},startDrawing(){this.isDrawing=1,this.clearTimer(),this.timer=setInterval(()=>{let e=dn(0,9);e==this.number&&(e=e+1>9?8:e+1),this.number=e},100)},showLuckNumber(e){this.isDrawing=2,this.clearTimer(),this.resNumber=e},reset(){this.clearTimer(),this.isDrawing=0}},created(){},unmounted(){this.clearTimer()}};function il(e,t,i,a,n,r){let o=v((0,ie.resolveDynamicComponent)("l-img"),W);return(0,ie.openBlock)(),(0,ie.createElementBlock)("view",{renderWhole:!0},[n.isDrawing==0?((0,ie.openBlock)(),(0,ie.createBlock)(o,{key:0,src:"s/game/lottery-def-1.png",w:r.imgW,h:r.imgW},null,8,["w","h"])):((0,ie.openBlock)(),(0,ie.createElementBlock)("u-text",{key:1,class:(0,ie.normalizeClass)(["text",[r.textClass]])},(0,ie.toDisplayString)(n.isDrawing==1?n.number:n.resNumber),3))])}var Qn=I(tl,[["render",il],["styles",[el]]]);var pe=ae(ce());var nl=At("animation"),Lt=class{constructor(t,i){this.options=t,this.animation=uni.createAnimation(t),this.currentStepAnimates={},this.next=0,this.$=i}_nvuePushAnimates(t,i){let a=this.currentStepAnimates[this.next],n={};if(a?n=a:n={styles:{},config:{}},ta.includes(t)){n.styles.transform||(n.styles.transform="");let r="";t==="rotate"&&(r="deg"),n.styles.transform+=`${t}(${i+r}) `}else n.styles[t]=`${i}`;this.currentStepAnimates[this.next]=n}_animateRun(t={},i={}){let a=this.$.$refs.ani.ref;if(a)return new Promise((n,r)=>{nl.transition(a,Ot({styles:t},i),o=>{n()})})}_nvueNextAnimate(t,i=0,a){let n=t[i];if(n){let{styles:r,config:o}=n;this._animateRun(r,o).then(()=>{i+=1,this._nvueNextAnimate(t,i,a)})}else this.currentStepAnimates={},typeof a=="function"&&a(),this.isEnd=!0}step(t={}){return this.currentStepAnimates[this.next].config=Object.assign({},this.options,t),this.currentStepAnimates[this.next].styles.transformOrigin=this.currentStepAnimates[this.next].config.transformOrigin,this.next++,this}run(t){this.isEnd=!1,this.$.$refs.ani&&this.$.$refs.ani.ref&&(this._nvueNextAnimate(this.currentStepAnimates,0,t),this.next=0)}},ta=["matrix","matrix3d","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","translate","translate3d","translateX","translateY","translateZ"],al=["opacity","backgroundColor"],rl=["width","height","left","right","top","bottom"];ta.concat(al,rl).forEach(e=>{Lt.prototype[e]=function(...t){return this._nvuePushAnimates(e,t),this}});function ea(e,t){if(t)return clearTimeout(t.timer),new Lt(e,t)}var sl={name:"uniTransition",emits:["click","change"],props:{show:{type:Boolean,default:!1},modeClass:{type:[Array,String],default(){return"fade"}},duration:{type:Number,default:300},styles:{type:Object,default(){return{}}},customClass:{type:String,default:""}},data(){return{isShow:!1,transform:"",opacity:1,animationData:{},durationTime:300,config:{}}},watch:{show:{handler(e){e?this.open():this.isShow&&this.close()},immediate:!0}},computed:{stylesObject(){let e=xi(Ot({},this.styles),{"transition-duration":this.duration/1e3+"s"}),t="";for(let i in e){let a=this.toLine(i);t+=a+":"+e[i]+";"}return t},transformStyles(){return"transform:"+this.transform+";opacity:"+this.opacity+";"+this.stylesObject}},created(){this.config={duration:this.duration,timingFunction:"ease",transformOrigin:"50% 50%",delay:0},this.durationTime=this.duration},methods:{init(e={}){e.duration&&(this.durationTime=e.duration),this.animation=ea(Object.assign(this.config,e),this)},onClick(){this.$emit("click",{detail:this.isShow})},step(e,t={}){if(this.animation){for(let i in e)try{typeof e[i]=="object"?this.animation[i](...e[i]):this.animation[i](e[i])}catch(a){k("error","at uni_modules/uni-transition/components/uni-transition/uni-transition.vue:139",`\u65B9\u6CD5 ${i} \u4E0D\u5B58\u5728`)}return this.animation.step(t),this}},run(e){this.animation&&this.animation.run(e)},open(){clearTimeout(this.timer),this.transform="",this.isShow=!0;let{opacity:e,transform:t}=this.styleInit(!1);typeof e!="undefined"&&(this.opacity=e),this.transform=t,this.$nextTick(()=>{this.timer=setTimeout(()=>{this.animation=ea(this.config,this),this.tranfromInit(!1).step(),this.animation.run(),this.$emit("change",{detail:this.isShow})},20)})},close(e){this.animation&&this.tranfromInit(!0).step().run(()=>{this.isShow=!1,this.animationData=null,this.animation=null;let{opacity:t,transform:i}=this.styleInit(!1);this.opacity=t||1,this.transform=i,this.$emit("change",{detail:this.isShow})})},styleInit(e){let t={transform:""},i=(a,n)=>{n==="fade"?t.opacity=this.animationType(a)[n]:t.transform+=this.animationType(a)[n]+" "};return typeof this.modeClass=="string"?i(e,this.modeClass):this.modeClass.forEach(a=>{i(e,a)}),t},tranfromInit(e){let t=(i,a)=>{let n=null;a==="fade"?n=i?0:1:(n=i?"-100%":"0",a==="zoom-in"&&(n=i?.8:1),a==="zoom-out"&&(n=i?1.2:1),a==="slide-right"&&(n=i?"100%":"0"),a==="slide-bottom"&&(n=i?"100%":"0")),this.animation[this.animationMode()[a]](n)};return typeof this.modeClass=="string"?t(e,this.modeClass):this.modeClass.forEach(i=>{t(e,i)}),this.animation},animationType(e){return{fade:e?1:0,"slide-top":`translateY(${e?"0":"-100%"})`,"slide-right":`translateX(${e?"0":"100%"})`,"slide-bottom":`translateY(${e?"0":"100%"})`,"slide-left":`translateX(${e?"0":"-100%"})`,"zoom-in":`scaleX(${e?1:.8}) scaleY(${e?1:.8})`,"zoom-out":`scaleX(${e?1:1.2}) scaleY(${e?1:1.2})`}},animationMode(){return{fade:"opacity","slide-top":"translateY","slide-right":"translateX","slide-bottom":"translateY","slide-left":"translateX","zoom-in":"scale","zoom-out":"scale"}},toLine(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}}};function ol(e,t,i,a,n,r){return n.isShow?((0,pe.openBlock)(),(0,pe.createElementBlock)("view",{key:0,ref:"ani",animation:n.animationData,class:(0,pe.normalizeClass)(i.customClass),style:(0,pe.normalizeStyle)(r.transformStyles),onClick:t[0]||(t[0]=(...o)=>r.onClick&&r.onClick(...o)),renderWhole:!0},[(0,pe.renderSlot)(e.$slots,"default")],14,["animation"])):(0,pe.createCommentVNode)("",!0)}var ia=I(sl,[["render",ol]]);var O=ae(ce()),ll={"uni-popup":{"":{position:"fixed"},".top":{top:0},".left":{top:0},".right":{top:0}},"uni-popup__wrapper":{".uni-popup ":{position:"relative"},".uni-popup .left":{paddingTop:0,flex:1},".uni-popup .right":{paddingTop:0,flex:1}},"fixforpc-top":{"":{top:0}}},cl={name:"uniPopup",components:{},emits:["change","maskClick"],props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},maskClick:{type:Boolean,default:!0},backgroundColor:{type:String,default:"none"},safeArea:{type:Boolean,default:!0},maskBgColor:{type:String,default:"rgba(0, 0, 0, 0.4)"}},watch:{type:{handler:function(e){this.config[e]&&this[this.config[e]](!0)},immediate:!0},isDesktop:{handler:function(e){this.config[e]&&this[this.config[this.type]](!0)},immediate:!0},maskClick:{handler:function(e){this.mkclick=e},immediate:!0}},data(){return{duration:300,ani:[],showPopup:!1,showTrans:!1,popupWidth:0,popupHeight:0,config:{top:"top",bottom:"bottom",center:"center",left:"left",right:"right",message:"top",dialog:"center",share:"bottom"},transClass:{position:"fixed",left:0,right:0},maskShow:!0,mkclick:!0,popupstyle:this.isDesktop?"fixforpc-top":"top"}},computed:{maskClass(){return{position:"fixed",bottom:0,top:0,left:0,right:0,backgroundColor:this.maskBgColor}},isDesktop(){return this.popupWidth>=500&&this.popupHeight>=500},bg(){return this.backgroundColor===""||this.backgroundColor==="none"?"transparent":this.backgroundColor}},mounted(){(()=>{let{windowWidth:t,windowHeight:i,windowTop:a,safeAreaInsets:n}=uni.getSystemInfoSync();this.popupWidth=t,this.popupHeight=i+a,this.safeArea?this.safeAreaInsets=n:this.safeAreaInsets=0})()},created(){this.mkclick=this.maskClick,this.animation?this.duration=300:this.duration=0,this.messageChild=null,this.clearPropagation=!1},methods:{closeMask(){this.maskShow=!1},disableMask(){this.mkclick=!1},clear(e){this.clearPropagation=!0},open(e,t=!0){if(e&&["top","center","bottom","left","right","message","dialog","share"].indexOf(e)!==-1||(e=this.type),this.maskShow=t,!this.config[e]){k("error","at uni_modules/uni-popup/components/uni-popup/uni-popup.vue:218","\u7F3A\u5C11\u7C7B\u578B\uFF1A",e);return}this[this.config[e]](),this.$emit("change",{show:!0,type:e})},close(e){this.showTrans=!1,this.$emit("change",{show:!1,type:this.type}),clearTimeout(this.timer),this.timer=setTimeout(()=>{this.showPopup=!1},300)},touchstart(){this.clearPropagation=!1},onTap(){if(this.clearPropagation){this.clearPropagation=!1;return}this.$emit("maskClick"),this.mkclick&&this.close()},top(e){this.popupstyle=this.isDesktop?"fixforpc-top":"top",this.ani=["slide-top"],this.transClass={position:"fixed",left:0,right:0,backgroundColor:this.bg},!e&&(this.showPopup=!0,this.showTrans=!0,this.$nextTick(()=>{this.messageChild&&this.type==="message"&&this.messageChild.timerClose()}))},bottom(e){this.popupstyle="bottom",this.ani=["slide-bottom"],this.transClass={position:"fixed",left:0,right:0,bottom:0,paddingBottom:this.safeAreaInsets&&this.safeAreaInsets.bottom||0,backgroundColor:this.bg},!e&&(this.showPopup=!0,this.showTrans=!0)},center(e){this.popupstyle="center",this.ani=["zoom-out","fade"],this.transClass={position:"fixed",bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center"},!e&&(this.showPopup=!0,this.showTrans=!0)},left(e){this.popupstyle="left",this.ani=["slide-left"],this.transClass={position:"fixed",left:0,bottom:0,top:0,backgroundColor:this.bg},!e&&(this.showPopup=!0,this.showTrans=!0)},right(e){this.popupstyle="right",this.ani=["slide-right"],this.transClass={position:"fixed",bottom:0,right:0,top:0,backgroundColor:this.bg},!e&&(this.showPopup=!0,this.showTrans=!0)}}};function ul(e,t,i,a,n,r){let o=v((0,O.resolveDynamicComponent)("uni-transition"),ia);return n.showPopup?((0,O.openBlock)(),(0,O.createElementBlock)("view",{key:0,class:(0,O.normalizeClass)(["uni-popup",[n.popupstyle,r.isDesktop?"fixforpc-z-index":""]]),onTouchmove:t[2]||(t[2]=(0,O.withModifiers)((...l)=>r.clear&&r.clear(...l),["stop","prevent"])),renderWhole:!0},[(0,O.createElementVNode)("view",{onTouchstart:t[1]||(t[1]=(...l)=>r.touchstart&&r.touchstart(...l))},[n.maskShow?((0,O.openBlock)(),(0,O.createBlock)(o,{key:"1",name:"mask","mode-class":"fade",styles:r.maskClass,duration:n.duration,show:n.showTrans,onClick:r.onTap},null,8,["styles","duration","show","onClick"])):(0,O.createCommentVNode)("",!0),(0,O.createVNode)(o,{key:"2","mode-class":n.ani,name:"content",styles:n.transClass,duration:n.duration,show:n.showTrans,onClick:r.onTap},{default:(0,O.withCtx)(()=>[(0,O.createElementVNode)("view",{class:(0,O.normalizeClass)(["uni-popup__wrapper",[n.popupstyle]]),style:(0,O.normalizeStyle)({backgroundColor:r.bg}),onClick:t[0]||(t[0]=(...l)=>r.clear&&r.clear(...l))},[(0,O.renderSlot)(e.$slots,"default")],6)]),_:3},8,["mode-class","styles","duration","show","onClick"])],32)],34)):(0,O.createCommentVNode)("",!0)}var mi=I(cl,[["render",ul],["styles",[ll]]]);var q=ae(ce());var ml=e=>e!==null&&typeof e=="object",fl=["{","}"],pi=class{constructor(){this._caches=Object.create(null)}interpolate(t,i,a=fl){if(!i)return[t];let n=this._caches[t];return n||(n=gl(t,a),this._caches[t]=n),hl(n,i)}},dl=/^(?:\d)+/,pl=/^(?:\w)+/;function gl(e,[t,i]){let a=[],n=0,r="";for(;n<e.length;){let o=e[n++];if(o===t){r&&a.push({type:"text",value:r}),r="";let l="";for(o=e[n++];o!==void 0&&o!==i;)l+=o,o=e[n++];let c=o===i,u=dl.test(l)?"list":c&&pl.test(l)?"named":"unknown";a.push({value:l,type:u})}else r+=o}return r&&a.push({type:"text",value:r}),a}function hl(e,t){let i=[],a=0,n=Array.isArray(t)?"list":ml(t)?"named":"unknown";if(n==="unknown")return i;for(;a<e.length;){let r=e[a];switch(r.type){case"text":i.push(r.value);break;case"list":i.push(t[parseInt(r.value,10)]);break;case"named":n==="named"&&i.push(t[r.value]);break}a++}return i}var fi="zh-Hans",na="zh-Hant",Je="en",_l="fr",bl="es",yl=Object.prototype.hasOwnProperty,aa=(e,t)=>yl.call(e,t),wl=new pi;function Al(e,t){return!!t.find(i=>e.indexOf(i)!==-1)}function xl(e,t){return t.find(i=>e.indexOf(i)===0)}function ra(e,t){if(!e)return;if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if(e=e.toLowerCase(),e==="chinese")return fi;if(e.indexOf("zh")===0)return e.indexOf("-hans")>-1?fi:e.indexOf("-hant")>-1||Al(e,["-tw","-hk","-mo","-cht"])?na:fi;let i=[Je,_l,bl];t&&Object.keys(t).length>0&&(i=Object.keys(t));let a=xl(e,i);if(a)return a}var gi=class{constructor({locale:t,fallbackLocale:i,messages:a,watcher:n,formater:r}){this.locale=Je,this.fallbackLocale=Je,this.message={},this.messages={},this.watchers=[],i&&(this.fallbackLocale=i),this.formater=r||wl,this.messages=a||{},this.setLocale(t||Je),n&&this.watchLocale(n)}setLocale(t){let i=this.locale;this.locale=ra(t,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],i!==this.locale&&this.watchers.forEach(a=>{a(this.locale,i)})}getLocale(){return this.locale}watchLocale(t){let i=this.watchers.push(t)-1;return()=>{this.watchers.splice(i,1)}}add(t,i,a=!0){let n=this.messages[t];n?a?Object.assign(n,i):Object.keys(i).forEach(r=>{aa(n,r)||(n[r]=i[r])}):this.messages[t]=i}f(t,i,a){return this.formater.interpolate(t,i,a).join("")}t(t,i,a){let n=this.message;return typeof i=="string"?(i=ra(i,this.messages),i&&(n=this.messages[i])):a=i,aa(n,t)?this.formater.interpolate(n[t],a).join(""):(console.warn(`Cannot translate the value of keypath ${t}. Use the value of keypath as default.`),t)}};function Cl(e,t){e.$watchLocale?e.$watchLocale(i=>{t.setLocale(i)}):e.$watch(()=>e.$locale,i=>{t.setLocale(i)})}function Dl(){return typeof uni!="undefined"&&uni.getLocale?uni.getLocale():typeof global!="undefined"&&global.getLocale?global.getLocale():Je}function Sl(e,t={},i,a){typeof e!="string"&&([e,t]=[t,e]),typeof e!="string"&&(e=Dl()),typeof i!="string"&&(i=typeof __uniConfig!="undefined"&&__uniConfig.fallbackLocale||Je);let n=new gi({locale:e,fallbackLocale:i,messages:t,watcher:a}),r=(o,l)=>{if(typeof getApp!="function")r=function(c,u){return n.t(c,u)};else{let c=!1;r=function(u,m){let _=getApp().$vm;return _&&(_.$locale,c||(c=!0,Cl(_,n))),n.t(u,m)}}return r(o,l)};return{i18n:n,f(o,l,c){return n.f(o,l,c)},t(o,l){return r(o,l)},add(o,l,c=!0){return n.add(o,l,c)},watch(o){return n.watchLocale(o)},getLocale(){return n.getLocale()},setLocale(o){return n.setLocale(o)}}}var El={"uni-load-more.contentdown":"Pull up to show more","uni-load-more.contentrefresh":"loading...","uni-load-more.contentnomore":"No more data"},Tl={"uni-load-more.contentdown":"Pull up to show more","uni-load-more.contentrefresh":"Loading...","uni-load-more.contentnomore":"No more data"},vl={"uni-load-more.contentdown":"\u4E0A\u62C9\u986F\u793A\u66F4\u591A","uni-load-more.contentrefresh":"\u6B63\u5728\u52A0\u8F09...","uni-load-more.contentnomore":"\u6C92\u6709\u66F4\u591A\u6578\u64DA\u4E86"},Ll={"uni-load-more.contentdown":"Tire hacia arriba para mostrar m\xE1s","uni-load-more.contentrefresh":"cargando...","uni-load-more.contentnomore":"No m\xE1s datos"},Il={"uni-load-more.contentdown":"\u0627\u0633\u062D\u0628 \u0644\u0623\u0639\u0644\u0649 \u0644\u0625\u0638\u0647\u0627\u0631 \u0627\u0644\u0645\u0632\u064A\u062F","uni-load-more.contentrefresh":"\u062C\u0627\u0631 \u0627\u0644\u062A\u062D\u0645\u064A\u0644...","uni-load-more.contentnomore":"\u0644\u0627 \u0645\u0632\u064A\u062F \u0645\u0646 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"},Fl={"uni-load-more.contentdown":"K\xE9o l\xEAn \u0111\u1EC3 hi\u1EC3n th\u1ECB th\xEAm","uni-load-more.contentrefresh":"\u0111ang t\u1EA3i...","uni-load-more.contentnomore":"Kh\xF4ng c\xF2n d\u1EEF li\u1EC7u"},kl={en:El,"zh-Hans":Tl,"zh-Hant":vl,es:Ll,ar:Il,vi:Fl},Nl={"uni-load-more":{"":{flexDirection:"row",height:40,alignItems:"center",justifyContent:"center"}},"uni-load-more__text":{"":{fontSize:14,marginLeft:8}},"uni-load-more__img":{"":{width:24,height:24}},"uni-load-more__img--nvue":{"":{color:"#666666"}},"uni-load-more__img--android":{"":{width:24,height:24,transform:"rotate(0deg)"}},"uni-load-more__img--ios":{"":{width:24,height:24,transform:"rotate(0deg)"}}},sa;setTimeout(()=>{sa=uni.getSystemInfoSync().platform},16);var{t:di}=Sl(kl),Ol={name:"UniLoadMore",emits:["clickLoadMore"],props:{status:{type:String,default:"more"},showIcon:{type:Boolean,default:!0},iconType:{type:String,default:"auto"},iconSize:{type:Number,default:24},color:{type:String,default:"#777777"},contentText:{type:Object,default(){return{contentdown:"",contentrefresh:"",contentnomore:""}}},showText:{type:Boolean,default:!1}},data(){return{webviewHide:!1,platform:sa,imgBase64:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzlBMzU3OTlEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzlBMzU3OUFEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDOUEzNTc5N0Q5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDOUEzNTc5OEQ5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pt+ALSwAAA6CSURBVHja1FsLkFZVHb98LM+F5bHL8khA1iSeiyQBCRM+YGqKUnnJTDLGI0BGZlKDIU2MMglUiDApEZvSsZnQtBRJtKwQNKQMFYeRDR10WOLd8ljYXdh+v8v5fR3Od+797t1dnOnO/Ofce77z+J//+b/P+ZqtXbs2sJ9MJhNUV1cHJ06cCJo3bx7EPc2aNcvpy7pWrVoF+/fvDyoqKoI2bdoE9fX1F7TjN8a+EXBn/fkfvw942Tf+wYMHg9mzZwfjxo0LDhw4EPa1x2MbFw/fOGfPng1qa2tzcCkILsLDydq2bRsunpOTMM7TD/W/tZDZhPdeKD+yGxHhdu3aBV27dg3OnDlzMVANMheLAO3btw8KCwuDmpoaX5OxbgUIMEq7K8IcPnw4KCsrC/r37x8cP378/4cAXAB3vqSkJMuiDhTkw+XcuXNhOWbMmKBly5YhUT8xArhyFvP0BfwRsAuwxJZJsm/nzp2DTp06he/OU+cZ64K6o0ePBkOHDg2GDx8e6gEbJ5Q/NHNuAJQ1hgBeHUDlR7nVTkY8rQAvAi4z34vR/mPs1FoRsaCgIJThI0eOBC1atEiFGGV+5MiRoS45efJkqFjJFXV1dQuA012m2WcwTw98fy6CqBdsaiIO4CScrGPHjvk4odhavPquRtFWXEC25VgkREKOCh/qDSq+vn37htzD/mZTOmOc5U7zKzBPEedygWshcDyWvs30igAbU+6oyMgJBCFhwQE0fccxN60Ay9iebbjoDh06hMowjQxT4fXq1SskArmHZpkArvixp/kWzHdMeArExSJEaiXIjjRjRJ4DaAGWpibLzXN3Fm1vA5teBgh3j1Rv3bp1YgKwPdmf2p9zcyNYYgPKMfY0T5f5nNYdw158nJ8QawW4CLKwiOBSEgO/hok2eBydR+3dYH+PLxA5J8Vv0KBBwenTp0P2JWAx6+yFEBfs8lMY+y0SWMBNI9E4ThKi58VKTg3FQZS1RQF1cz27eC0QHMu+3E0SkUowjhVt5VdaWhp07949ZHv2Qd1EjDXM2cla1M0nl3GxAs3J9yREzyTdFVKVFOaE9qRA8GM0WebRuo9JGZKA7Mv2SeS/Z8+eoQ9BArMfFrLGo6jvxbhHbJZnKX2Rzz1O7QhJJ9Cs2ZMaWIyq/zhdeqPNfIoHd58clIQD+JSXl4dKlyIAuBdVXZwFVWKspSSoxE++h8x4k3uCnEhE4I5KwRiFWGOU0QWKiCYLbdoRMRKAu2kQ9vkfLU6dOhX06NEjlH+yMRZSinnuyWnYosVcji8CEA/6Cg2JF+IIUBqnGKUTCNwtwBN4f89RiK1R96DEgO2o0NDmtEdvVFdVVYV+P3UAPUEs6GFwV3PHmXkD4vh74iDFJysVI/MlaQhwKeBNTLYX5VuA8T4/gZxA4MRGFxDB6R7OmYPfyykGRJbyie+XnGYnQIC/coH9+vULiYrxrkL9ZA9+0ykaHIfEpM7ge8TiJ2CsHYwyMfafAF1yCGBHYIbCVDjDjKt7BeB51D+LgQa6OkG7IDYEEtvQ7lnXLKLtLdLuJBpE4gPUXcW2+PkZwOex+4cGDhwYDBkyRL7/HFcEwUGPo/8uWRUpYnfxGHco8HkewLHLyYmAawAPuIFZxhOpDfJQ8gbUv41yORAptMWBNr6oqMhWird5+u+iHmBb2nhjDV7HWBNQTgK8y11l5NetWzc5ULscAtSj7nbNI0skhWeUZCc0W4nyH/jO4Vz0u1IeYhbk4AiwM6tjxIWByHsoZ9qcIBPJd/y+DwPfBESOmCa/QF3WiZHucLlEDpNxcNhmheEOPgdQNx6/VZFQzFZ5TN08AHXQt2Ii3EdyFuUsPtTcGPhW5iMiCNELvz+Gdn9huG4HUJaW/w3g0wxV0XaG7arG2WeKiUWYM4Y7GO5ezshTARbbWGw/DvXkpp/ivVvE0JVoMxN4rpGzJMhE5Pl+xlATsDIqikP9F9D2z3h9nOksEUFhK+qO4rcPkoalMQ/HqJLIyb3F3JdjrCcw1yZ8joyJLR5gCo54etlag7qIoeNh1N1BRYj3DTFJ0elotxPlVzkGuYAmL0VSJVGAJA41c4Z6A3BzTLfn0HYwYKEI6CUAMzZEWvLsIcQOo1AmmyyM72nHJCfYsogflGV6jEk9vyQZXSuq6w4c16NsGcGZbwOPr+H1RkOk2LEzjNepxQkihHSCQ4ynAYNRx2zMKV92CQMWqj8J0BRE8EShxRFN6YrfCRhC0x3r/Zm4IbQCcmJoV0kMamllccR6FjHqUC5F2R/wS2dcymOlfAKOS4KmzQb5cpNC2MC7JhVn5wjXoJ44rYhLh8n0eXOCorJxa7POjbSlCGVczr34/RsAmrcvo9s+wGp3tzVhntxiXiJ4nvEYb4FJkf0O8HocAePmLvCxnL0AORraVekJk6TYjDabRVXfRE2lCN1h6ZQRN1+InUbsCpKwoBZHh0dODN9JBCUffItXxEavTQkUtnfTVAplCWL3JISz29h4NjotnuSsQKJCk8dF+kJR6RARjrqFVmfPnj3ZbK8cIJ0msd6jgHPGtfVTQ8VLmlvh4mct9sobRmPic0DyDQQnx/NlfYUgyz59+oScsH379pAwXABD32nTpoUHIToESeI5mnbE/UqDdyLcafEBf2MCqgC7NwxIbMREJQ0g4D4sfJwnD+AmRrII05cfMWJE+L1169bQr+fip06dGp4oJ83lmYd5wj/EmMa4TaHivo4EeCguYZBnkB5g2aWA69OIEnUHOaGysjIYMGBAMGnSpODYsWPZwCpFmm4lNq+4gSLQA7jcX8DwtjEyRC8wjabnXEx9kfWnTJkSJkAo90xpJVV+FmcVNeYAF5zWngS4C4O91MBxmAv8blLEpbjI5sz9MTdAhcgkCT1RO8mZkAjfiYpTEvStAS53Uw1vAiUGgZ3GpuQEYvoiBqlIan7kSDHnTwJQFNiPu0+5VxCVYhcZIjNrdXUDdp+Eq5AZ3Gkg8QAyVZRZIk4Tl4QAbF9cXJxNYZMAtAokgs4BrNxEpCtteXg7DDTMDKYNSuQdKsnJBek7HxewvxaosWxLYXtw+cJp18217wql4aKCfBNoEu0O5VU+PhctJ0YeXD4C6JQpyrlpSLTojpGGGN5YwNziChdIZLk4lvLcFJ9jMX3QdiImY9bmGQU+TRUL5CHITTRlgF8D9ouD1MfmLoEPl5xokIumZ2cfgMpHt47IW9N64Hsh7wQYYjyIugWuF5fCqYncXRd5vPMWyizzvhi/32+nvG0dZc9vR6fZOu0md5e+uC408FvKSIOZwXlGvxPv95izA2Vtvg1xKFWARI+vMX66HUhpQQb643uW1bSjuTWyw2SBvDrBvjFic1eGGlz5esq3ko9uSIlBRqPuFcCv8F4WIcN12nVaBd0SaYwI6PDDImR11JkqgHcPmQssjxIn6bUshygDFJUTxPMpHk+jfjPgupgdnYV2R/g7xSjtpah8RJBewhwf0gGK6XI92u4wXFEU40afJ4DN4h5LcAd+40HI3JgJecuT0c062W0i2hQJUTcxan3/CMW1PF2K6bbA+Daz4xRs1D3Br1Cm0OihKCqizW78/nXAF/G5TXrEcVzaNMH6CyMswqsAHqDyDLEyou8lwOXnKF8DjI6KjV3KzMBiXkDH8ij/H214J5A596ekrZ3F0zXlWeL7+P5eUrNo3/QwC15uxthuzidy7DzKRwEDaAViiDgKbTbz7CJnzo0bN7pIfIiid8SuPwn25o3QCmpnyjlZkyxPP8EomCJzrGb7GJMx7tNsq4MT2xMUYaiErZOluTzKsnz3gwCeCZyVRZJfYplNEokEjwrPtxlxjeYAk+F1F74VAzPxQRNYYdtpOUvWs8J1sGhBJMNsb7igN8plJs1eSmLIhLKE4rvaCX27gOhLpLOsIzJ7qn/i+wZzcvSOZ23/du8TZjwV8zHIXoP4R3ifBxiFz1dcVpa3aPntPE+c6TmIWE9EtcMmAcPdWAhYhAXxcLOQi9L1WhD1Sc8p1d2oL7XGiRKp8F4A2i8K/nfI+y/gsTDJ/YC/8+AD5Uh04KHiGl+cIFPnBDDrPMjwRGkLXyxO4VGbfQWnDH2v0bVWE3C9QOXlepbgjEfIJQI6XDG3z5ahD9cw2pS78ipB85wyScNTvsVzlzzhL8/jRrnmVjfFJK/m3m4nj9vbgQTguT8XZTjsm672R5uJKEaQmBI/c58gyus8ZDagLpEVSJBIyHp4jn++xqPV71OgQgJYEWOtZ/haxRtKmWOBu8xdBLftWltsY84zE6WIEy/eIOWL+BaayMx+KHtL7EAkqdNDLiEXmEMUHniedtJqg9HmZtfvt26vNi0BdG3Ft3g8ZOf7PAu59TxtzivLNIekyi+wD1i8CuUiD9FXAa8C+/xS3JPmZnomyc7H+fb4/Se0bk41Fel621r4cgVxbq91V4jVqwB7HTe2M7jgB+QWHavZkDRPmZcASoZEmBx6i75bGjPcMdL4/VKGFAGWZkGzPG0XAbdL9A81G5LOmUnC9hHKJeO7dcUMjblSl12867ElFTtaGl20xvvLGPdVz/8TVuU7y0x1PG7vtNg24oz9Uo/Z412++VFWI7Fcog9tu9Lm6gvRmIPv9x1xmQAu6RDkXtbOtlGEmpgD5Nvnyc0dcv0EE6cfdi1HmhMf9wDF3k3gtRvEedhxjpgfqPb9PU9iEJHnyOUA7bQUXh6kq/D7l2iTjWv7XOD530BDr8jIrus+srXjt4MzumJMHuTsBa63YKE1+RR5lBjEikCCnWKWiHdzOgKO+nRIBAF88za/IFmJ3eMZov4CYxGBabcpGL8EYx+SeMXJeRwHNsV/h+vdxeuhEpN3ZyNY78Gm2fknJxVGhyjixPiQvVkNzT1elD9Py/aTAL64Hb9vcYmC9zfdXdT/C1LeGbg4rnBaAihDFJH12W5ulfNCNe/xTsP3bp8ikzJs5BF+5PNfAQYAPaseTdsEcaYAAAAASUVORK5CYII="}},computed:{iconSnowWidth(){return(Math.floor(this.iconSize/24)||1)*2},contentdownText(){return this.contentText.contentdown||di("uni-load-more.contentdown")},contentrefreshText(){return this.contentText.contentrefresh||di("uni-load-more.contentrefresh")},contentnomoreText(){return this.contentText.contentnomore||di("uni-load-more.contentnomore")}},mounted(){var e=getCurrentPages(),t=e[e.length-1],i=t.$getAppWebview();i.addEventListener("hide",()=>{this.webviewHide=!0}),i.addEventListener("show",()=>{this.webviewHide=!1})},methods:{onClick(){this.$emit("clickLoadMore",{detail:{status:this.status}})}}};function Rl(e,t,i,a,n,r){return(0,q.openBlock)(),(0,q.createElementBlock)("view",{class:"uni-load-more",onClick:t[0]||(t[0]=(...o)=>r.onClick&&r.onClick(...o)),renderWhole:!0},[!n.webviewHide&&i.status==="loading"&&i.showIcon?((0,q.openBlock)(),(0,q.createElementBlock)("loading-indicator",{key:0,style:(0,q.normalizeStyle)({color:i.color,width:i.iconSize+"px",height:i.iconSize+"px"}),animating:!0,class:"uni-load-more__img uni-load-more__img--nvue"},null,4)):(0,q.createCommentVNode)("",!0),i.showText?((0,q.openBlock)(),(0,q.createElementBlock)("u-text",{key:1,class:"uni-load-more__text",style:(0,q.normalizeStyle)({color:i.color})},(0,q.toDisplayString)(i.status==="more"?r.contentdownText:i.status==="loading"?r.contentrefreshText:r.contentnomoreText),5)):(0,q.createCommentVNode)("",!0)])}var $e=I(Ol,[["render",Rl],["styles",[Nl]]]);var Ml={"view-btn":{"":{alignItems:"center",justifyContent:"flex-end"}},"text-rate":{"":{fontWeight:"500",color:"#FFFFFF",position:"absolute",left:0,textAlign:"center",transform:"rotate(-45deg)",paddingTop:"4rpx"}},"text-number":{"":{fontSize:"28rpx",fontWeight:"600",color:"#3B0000"}},"view-bet-coins":{"":{marginBottom:"4rpx",marginTop:"4rpx"}},"text-none":{".view-bet-coins ":{lineHeight:"24rpx",fontSize:"22rpx",color:"#3B0000",textAlign:"center",width:"50rpx"}},bet:{".view-bet-coins ":{backgroundColor:"rgba(0,0,0,0.2)",height:"24rpx",alignItems:"center",paddingLeft:"8rpx",paddingRight:"8rpx",borderRadius:"12rpx",flexDirection:"row",color:"#FFFFFF"}},"text-bet":{".view-bet-coins ":{fontSize:"20rpx",lineHeight:"24rpx",fontWeight:"500",color:"#FFFFFF",marginRight:"4rpx"}},"text-win":{"":{fontSize:"14rpx",fontWeight:"800",color:"#FFFFFF"}},"img-rule":{"":{position:"absolute",top:0,right:0,paddingLeft:"4rpx",paddingRight:"4rpx",paddingBottom:"4rpx"}}},Bl={emits:["onBtnListener","onBtnToast"],props:{width:{type:Number,default:0},info:{type:Object,default(){return{}}},gameStatus:{type:Number,default:0},draw:{type:Boolean,default:!1},isCallConnect:{type:[Boolean,Number],default:!1}},data(){return{isWideS:getApp().globalData.window.isWideScreen,rateW:this.width*.225,bottomHB:parseInt(this.width*.1774),bottomHS:parseInt(this.width*.1129),status:this.info.status}},watch:{"info.status":{handler(e,t){this.status=e}}},computed:{rateStyle(){let e=this.draw||this.gameStatus==3||this.gameStatus==2,t=0;return this.status==2?t=0:e&&this.status==1&&!this.info.isBet?t=6:this.status==1||this.info.isBet&&this.info.tCoins?t=0:t=6,{width:`${this.rateW}px`,height:`${this.rateW}px`,lineHeight:`${this.rateW}px`,top:`${t}rpx`,fontSize:this.isWideS?"14rpx":"16rpx"}},bgSrc(){if(this.status==2)return"s/game/btn-bg-w-1.png";let e=this.draw||this.gameStatus==3||this.gameStatus==2;return this.info.isBet&&this.status==3&&!e?"s/game/btn-bg-c.png":this.info.isBet?"s/game/btn-bg-s.png":e?"s/game/btn-bg-none.png":this.status==0?"s/game/btn-bg-n.png":this.status==1?"s/game/btn-bg-c.png":""},fontColor(){return this.status==2?"#333333":this.draw||this.gameStatus==3||this.gameStatus==2||this.info.isBet?"#FFFFFF":this.status==0?"#333333":"#FFFFFF"},bottomStr(){return this.status==2?h("winning"):""},bottomStyle(){let e=this.status!=0||this.info.isBet?this.bottomHB:this.bottomHS;return{height:`${e}px`,lineHeight:`${e}px`}},ruleTop(){return this.status==0?10:4},noneStatus(){return this.draw||this.gameStatus==3||this.gameStatus==2}},methods:{clickRule(e){e&&e.stopPropagation();let t=this.info.number,i=ci(t).join(",");Ee(h("tips"),h("game.BSOETip",{number:t,number_str:Kn(t),number_list:i}),"",h("ok"))},clickBtn(e){if(e&&e.stopPropagation(),!this.draw){if(this.gameStatus!=0){Ee(h("tips"),h("bet.lotteryDoingTip"),"",h("gotIt"));return}if(this.status!=2){if(this.info.isBet)this.status==1||this.status==0?(this.status=3,this.showNumberToast()):this.status==3&&(this.status=0);else if(this.status==0)this.status=1,this.showNumberToast();else if(this.status==1)this.status=0;else return;this.isCallConnect||Et(Se("s/game/v/choose.mp3")),this.$emit("onBtnListener",this.status,this.info)}}},showNumberToast(){this.info.index>9&&!P(`game_btn_toast_${this.info.number}`)&&(this.$emit("onBtnToast",this.info.number,ci(this.info.number).join(",")),ue(`game_btn_toast_${this.info.number}`,!0))}},created(){}};function Pl(e,t,i,a,n,r){let o=v((0,s.resolveDynamicComponent)("l-img"),W),l=v((0,s.resolveDynamicComponent)("coin"),at);return(0,s.openBlock)(),(0,s.createElementBlock)("view",{onClick:t[1]||(t[1]=(...c)=>r.clickBtn&&r.clickBtn(...c)),class:"view-btn",style:(0,s.normalizeStyle)({width:`${i.width}px`,height:`${i.width}px`}),renderWhole:!0},[(0,s.createVNode)(o,{src:r.bgSrc,w:`${i.width}px`,h:`${i.width}px`,style:{position:"absolute",top:"0"}},null,8,["src","w","h"]),(0,s.createElementVNode)("u-text",{class:"text-rate",style:(0,s.normalizeStyle)([r.rateStyle])},(0,s.toDisplayString)(i.info.rate)+"x",5),(0,s.createElementVNode)("u-text",{class:"text-number",style:(0,s.normalizeStyle)({color:r.fontColor})},(0,s.toDisplayString)(i.info.number),5),(0,s.createElementVNode)("view",{class:"view-bet-coins"},[r.noneStatus&&n.status==1&&!i.info.isBet?((0,s.openBlock)(),(0,s.createElementBlock)("u-text",{key:0,class:"text-none"},"-")):n.status==1||i.info.isBet&&i.info.tCoins?((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:1,class:"bet"},[(0,s.createElementVNode)("u-text",{class:"text-bet"},(0,s.toDisplayString)(i.info.tCoins),1),(0,s.createVNode)(o,{src:"s/my/i_coins.png",w:"16rpx",h:"16rpx"})])):((0,s.openBlock)(),(0,s.createElementBlock)("u-text",{key:2,class:"text-none"},"-"))]),(0,s.createVNode)(l,{coin:i.info.bet,size:18,w:14,color:r.fontColor,mR:2},null,8,["coin","color"]),(0,s.createElementVNode)("u-text",{class:"text-win",style:(0,s.normalizeStyle)(r.bottomStyle)},(0,s.toDisplayString)(r.bottomStr),5),i.info.index>9?((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:0,onClick:t[0]||(t[0]=(...c)=>r.clickRule&&r.clickRule(...c)),class:"img-rule",style:(0,s.normalizeStyle)({paddingTop:`${r.ruleTop}rpx`})},[(0,s.createVNode)(o,{src:"s/game/rule.png",w:"20rpx",h:"20rpx"})],4)):(0,s.createCommentVNode)("",!0)],4)}var Hl=I(Bl,[["render",Pl],["styles",[Ml]]]),Wl={center:{"":{flexDirection:"row",alignItems:"center"}},"view-bet-info":{"":{flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:"128rpx"}},"view-content":{"":{width:"480rpx",height:"72rpx",borderRadius:"12rpx",flexDirection:"row",alignItems:"center",justifyContent:"center"}},"text-number":{"":{fontWeight:"600",fontSize:"32rpx",color:"#FFFFFF"},".view-result ":{fontSize:"28rpx"}},"line-text":{"":{width:"2rpx",height:"28rpx",backgroundColor:"#FFFFFF",borderRadius:"2rpx",marginLeft:"20rpx",marginRight:"20rpx"},".view-result ":{height:"24rpx"}},"view-result":{"":{width:"540rpx",height:"92rpx",backgroundColor:"rgba(255,255,255,0.39)",borderRadius:"16rpx"}},result:{".view-result ":{width:"540rpx",flexDirection:"row",justifyContent:"center",alignItems:"center",position:"absolute",bottom:"8rpx"}},"img-res":{"":{position:"absolute",top:0,alignItems:"center"}},"view-draw":{"":{width:"420rpx",height:"60rpx",flexDirection:"row",justifyContent:"space-between"}}},Ul={emits:["onClickRule","onClickHistory"],props:{gameInfo:{type:Object,default(){return{}}},draw:{type:Boolean,default:!1},isForHer:{type:Boolean,default:!1},isCallConnect:{type:[Boolean,Number],default:!1}},data(){return{sW:getApp().globalData.window.width,status:0,prizes:0,isRotate:!1}},watch:{gameInfo:{handler(e,t){if(!St(e)&&e.status!=t.status)if(e.status==0||e.status==1)this.status=0,this.prizes=0;else{let i=zn(e.game_id,e.result);i==-1?(this.status=3,this.prizes=0,this.playLuckMusic(!1)):i==0?(this.status=1,this.prizes=0,this.playLuckMusic(!1)):i>0&&(this.status=2,this.prizes=i,this.playLuckMusic(!0))}},deep:!0}},computed:{resSrc(){return this.status==1?"s/game/luck-lose-f.png":this.status==2?"s/game/luck-win-f.png":this.status==3?"s/game/luck-no-f.png":""},gifSrc(){return this.status==2?"s/game/luck-win.gif":"s/game/luck-no.gif"},gifLeftSrc(){return this.status==2?"s/game/luck-win-left.gif":"s/game/luck-no-left.gif"}},methods:{$str:h,clickCenterImg(){this.draw||this.clickHistory(3)},clickRule(){this.$emit("onClickRule")},clickHistory(e){this.$emit("onClickHistory",e,this.gameInfo.game_id,1)},playLuckMusic(e){if(this.isCallConnect||!this.isForHer&&Re().indexOf("/pagesGame/bet-for-her")!=-1)return;Et(Se(e?"s/game/v/luck_win.mp3":"s/game/v/luck_no.mp3"))}}};function Gl(e,t,i,a,n,r){let o=v((0,s.resolveDynamicComponent)("l-img"),W),l=v((0,s.resolveDynamicComponent)("coin"),at),c=v((0,s.resolveDynamicComponent)("uni-icons"),he);return(0,s.openBlock)(),(0,s.createElementBlock)("view",{class:"view-bet-info",style:(0,s.normalizeStyle)({width:`${n.sW}px`}),renderWhole:!0},[(0,s.createVNode)(o,{onClick:r.clickRule,src:"s/game/rule.png",w:"48rpx",h:"48rpx",style:{"margin-left":"30rpx"}},null,8,["onClick"]),i.draw?((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:0,class:"view-result"},[(0,s.createElementVNode)("view",{class:"result"},[(0,s.createElementVNode)("u-text",{class:"text-number"},(0,s.toDisplayString)(i.gameInfo.total_people),1),(0,s.createVNode)(o,{src:"s/game/people.png",w:"22rpx",h:"26rpx"}),(0,s.createElementVNode)("view",{class:"line-text"}),(0,s.createVNode)(l,{coin:i.gameInfo.total_bet,color:"#FFFFFF",size:28,fw:600,w:24},null,8,["coin"])])])):n.status==0?((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:1,class:"view-content"},[(0,s.createElementVNode)("u-text",{class:"text-number"},(0,s.toDisplayString)(i.gameInfo.total_people),1),(0,s.createVNode)(o,{src:"s/game/people.png",w:"26rpx",h:"30rpx"}),(0,s.createElementVNode)("view",{class:"line-text"}),(0,s.createVNode)(l,{coin:i.gameInfo.total_bet,color:"#FFFFFF",size:32,fw:600,w:28},null,8,["coin"])])):((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:2,onClick:t[0]||(t[0]=u=>r.clickHistory(3)),class:"view-result"},[(0,s.createElementVNode)("view",{class:"result"},[(0,s.createElementVNode)("u-text",{class:"text-number"},(0,s.toDisplayString)(i.gameInfo.winners),1),(0,s.createVNode)(o,{src:"s/game/people.png",w:"22rpx",h:"26rpx"}),(0,s.createElementVNode)("view",{class:"line-text"}),(0,s.createVNode)(l,{coin:i.gameInfo.prizes,color:"#FFFFFF",size:28,fw:600,w:24},null,8,["coin"]),n.status==2?((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:0,class:"center"},[(0,s.createElementVNode)("view",{class:"line-text"}),(0,s.createElementVNode)("u-text",{class:"text-number",style:{color:"#FFFA1E"}},(0,s.toDisplayString)(r.$str("prize"))+":",1),(0,s.createVNode)(l,{coin:n.prizes,size:28,fw:600,w:24},null,8,["coin"])])):(0,s.createCommentVNode)("",!0),(0,s.createVNode)(c,{type:"right",size:"28rpx",color:"#FFFFFF",style:{"margin-left":"6rpx"}})])])),(0,s.createVNode)(o,{onClick:t[1]||(t[1]=u=>r.clickHistory(2)),src:"s/game/history.png",w:"48rpx",h:"48rpx",style:{"margin-right":"30rpx"}}),n.status!=0||i.draw?((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:3,onClick:t[2]||(t[2]=(...u)=>r.clickCenterImg&&r.clickCenterImg(...u)),style:(0,s.normalizeStyle)({width:`${n.sW}px`}),class:"img-res"},[i.draw?((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:0,class:"view-draw"},[(0,s.createVNode)(o,{src:"s/game/luck-draw-loading.gif",w:"60rpx",h:"60rpx"}),(0,s.createVNode)(o,{src:"s/game/luck-draw.png",w:"220rpx",h:"60rpx"}),(0,s.createVNode)(o,{src:"s/game/luck-draw-loading.gif",w:"60rpx",h:"60rpx"})])):((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:1,class:"view-draw"},[(0,s.createVNode)(o,{src:r.gifLeftSrc,w:"60rpx",h:"60rpx"},null,8,["src"]),(0,s.createVNode)(o,{src:r.resSrc,w:"220rpx",h:"60rpx"},null,8,["src"]),(0,s.createVNode)(o,{src:r.gifSrc,w:"60rpx",h:"60rpx"},null,8,["src"])]))],4)):(0,s.createCommentVNode)("",!0)],4)}var jl=I(Ul,[["render",Gl],["styles",[Wl]]]),zl={"view-bet-action":{"":{height:"100rpx",width:"472rpx",paddingBottom:"20rpx",flexDirection:"row",justifyContent:"center",alignItems:"flex-end"}},"view-bg":{"":{position:"absolute",bottom:0,width:"472rpx",height:"68rpx",backgroundColor:"#270B19",borderRadius:"16rpx",borderWidth:"2rpx",borderStyle:"solid",borderColor:"rgba(255,255,255,0.3)"}},"view-bet":{"":{marginLeft:"8rpx",marginRight:"8rpx",width:"270rpx",height:"80rpx",justifyContent:"center",flexDirection:"row"}},"text-action":{"":{fontSize:"28rpx",fontWeight:"600",lineHeight:"32rpx"}},"view-action":{"":{width:"82rpx",height:"72rpx",alignItems:"center"}},pos:{"":{position:"absolute",top:0,left:0}},"text-bet":{"":{fontSize:"28rpx",fontWeight:"600",color:"#FFFFFF",lineHeight:"64rpx",marginRight:"6rpx"}},"view-bet-coin":{"":{alignItems:"center",flexDirection:"row",height:"64rpx"}},"view-confirm-content":{"":{position:"fixed",left:0,backgroundColor:"rgba(0,0,0,0.4)",justifyContent:"flex-end",alignItems:"center"}},content:{".view-confirm-content ":{backgroundColor:"#FFFFFF",width:"660rpx",paddingTop:"60rpx",paddingRight:"70rpx",paddingBottom:0,paddingLeft:"70rpx",borderRadius:"40rpx",alignItems:"center"}},"text-confirm":{".view-confirm-content ":{width:"520rpx",height:"88rpx",lineHeight:"88rpx",backgroundImage:"linear-gradient(to right, #FF00BD, #FF5954)",borderRadius:"16rpx",fontSize:"28rpx",fontWeight:"500",color:"#FFFFFF",textAlign:"center"}},"view-remind":{".view-confirm-content ":{paddingTop:"20rpx",paddingBottom:"30rpx",flexDirection:"row",alignItems:"center"}},"reminder-text":{".view-confirm-content ":{fontSize:"24rpx",marginLeft:"8rpx",lineHeight:"24rpx"}}},Vl={components:{RichContent:ui},emits:["onBetActionListener","onBetFinish"],props:{gameInfo:{type:Object,default(){return{}}},singleBet:{type:Number,default:10},accountMoney:{type:Number,default:0},betMoney:{type:Number,default:0},betObj:{type:Object,default(){return{}}},roomId:{type:[String,Number],default:0},targetUser:{type:[Object,Boolean],default(){return!1}},isForHer:{type:Boolean,default:!1},gameLotteryDraw:{type:Boolean,default:!1},forHerRate:{type:Array,default(){return[.2,.8]}},isCallConnect:{type:[Boolean,Number],default:!1}},data(){return{sW:getApp().globalData.window.width,sH:getApp().globalData.window.height,popBottom:getApp().globalData.window.safeBottom+uni.upx2px(100),betNumberCount:Object.keys(this.betObj).length,showBetConfirm:!1,betConfirmRich:{text:"",info:[{type:"text",text:""}]},betConfirmWinRich:{text:"",info:[{type:"text",text:""}]},remind:!0,remindHer:!0}},watch:{betObj:{handler(e,t){this.betNumberCount=Object.keys(e).length},deep:!0}},computed:{betStr(){return this.betMoney>this.accountMoney?h("balance.no"):h("bet")},betBgSrc(){return this.betMoney<=0||this.gameLotteryDraw||this.gameInfo.status==3?"s/game/btn-bg-bet-none.png":this.betMoney>this.accountMoney?"s/game/btn-bg-bet-no.png":this.isForHer?"s/game/btn-bg-bet-other.png":"s/game/btn-bg-bet.png"},subBgSrc(){let e=this.betNumberCount*this.singleBet;return this.betNumberCount<=0||this.betMoney<=e?"s/game/btn-bg-bet-sub.png":"s/game/btn-bg-bet-add.png"},subStyle(){let e=this.betNumberCount*this.singleBet;return this.betNumberCount<=0||this.betMoney<=e?{color:"#666666",marginTop:"18rpx"}:{color:"#3B0000",marginTop:"14rpx"}},addBgSrc(){return this.gameLotteryDraw||this.betNumberCount<=0||this.betMoney>this.accountMoney?"s/game/btn-bg-bet-sub.png":"s/game/btn-bg-bet-add.png"},addStyle(){return{color:this.gameLotteryDraw||this.betNumberCount<=0||this.betMoney>this.accountMoney?"#666666":"#3B0000"}},betStyle(){return{fontSize:this.betMoney>this.accountMoney?"24rpx":"28rpx"}},remindSrc(){return(this.isForHer?this.remindHer:this.remind)?"s/msg/no_reminder_s_1.png":"s/msg/no_reminder_n_1.png"}},methods:{$str:h,clickRemind(){this.isForHer?this.remindHer=!this.remindHer:this.remind=!this.remind},clickSub(e){e&&e.stopPropagation(),this.checkGameStatus()&&(this.betMoney<=this.betNumberCount*this.singleBet||this.$emit("onBetActionListener",!1))},clickAdd(e){if(e&&e.stopPropagation(),!!this.checkGameStatus()){if(this.betMoney>this.accountMoney){Ke(Math.abs(this.betMoney-this.accountMoney),0);return}this.$emit("onBetActionListener",!0)}},clickBet(e){if(e&&e.stopPropagation(),!this.checkGameStatus()||$n())return;if(this.betMoney>this.accountMoney){Ke(Math.abs(this.betMoney-this.accountMoney),0);return}if(P(this.isForHer?"game_bet_confirm_for":"game_bet_confirm")){this.clickConfirm();return}let i=0,a=[];for(let n in this.betObj){let r=this.betObj[n];i+=r.betCoins*r.rate,a.push(r.number)}this.isForHer?(this.betConfirmRich={text:h("bet.confirmOtherTip",{whom:Oe(this.targetUser.sex)}),info:{bet:{type:"text",text:a.join("\uFF0C"),color:"#FF4477"}}},this.betConfirmWinRich={text:h("bet.confirmOtherWinTip",{who:Oe(this.targetUser.sex)}),info:{win:{type:"text",text:h("coins.amount",{number:parseInt(i*this.forHerRate[0])}),color:"#FFAA0D"},other_win:{type:"text",text:h("coins.amount",{number:parseInt(i*this.forHerRate[1])}),color:"#FFAA0D"}}}):(this.betConfirmRich={text:h("bet.confirmTip"),info:{bet:{type:"text",text:a.join("\uFF0C"),color:"#FF4477"}}},this.betConfirmWinRich={text:h("bet.confirmWinTip"),info:{win:{type:"text",text:h("coins.amount",{number:i}),color:"#FFAA0D"}}}),this.showBetConfirm=!0},clickPopClose(){this.showBetConfirm=!1},clickConfirm(){this.isForHer?ue("game_bet_confirm_for",this.remindHer):ue("game_bet_confirm",this.remind);let e=[];for(let i in this.betObj){let a=this.betObj[i];e.push({number:a.number,bet:a.betCoins})}let t={game_id:this.gameInfo.game_id,room_id:this.roomId||0,bets:e,for_uid:this.isForHer?this.targetUser.uid:0};if(this.checkGameStatus()){if(this.targetUser.isLeave){Ye(h("tips"),h("bet.forYouNoGameTip",{he:mn(this.targetUser.sex),him:Oe(this.targetUser.sex)}),()=>{this.reqGameBet(t)},"",h("bet"));return}this.reqGameBet(t)}},reqGameBet(e){this.showBetConfirm=!1,this.$emit("onBetFinish",e),this.isCallConnect||Et(Se(this.isForHer?"s/game/v/bet_for_her.mp3":"s/game/v/bet_self.mp3"));let t=this.betMoney;ai(-t),H.request("/chat/game/bet",e,!1,!0).then(i=>{k("error","at pagesGame/coms/game-bet-action.vue:320","\u4E0B\u6CE8\u6210\u529F... "+JSON.stringify(i)),Tt(i.data.account_money),jn(i.data.game_info.game_id,i.data.bet_info),uni.$emit("event_game_touch_bet",this.gameInfo),Xn()},i=>{ai(t)})},checkGameStatus(){if(!this.gameLotteryDraw){if(this.betNumberCount<=0){ni(h("bet.noChooseTip"),"none","bottom");return}return this.gameInfo.status!=0?(Ee(h("tips"),h("bet.lotteryDoingTip"),"",h("gotIt")),!1):!0}}}};function Yl(e,t,i,a,n,r){let o=v((0,s.resolveDynamicComponent)("l-img"),W),l=v((0,s.resolveDynamicComponent)("rich-content"),ui),c=v((0,s.resolveDynamicComponent)("coin"),at),u=v((0,s.resolveDynamicComponent)("uni-icons"),he);return(0,s.openBlock)(),(0,s.createElementBlock)("view",{class:"view-bet-action",renderWhole:!0},[(0,s.createElementVNode)("view",{class:"view-bg"}),(0,s.createElementVNode)("view",{onClick:t[0]||(t[0]=(...m)=>r.clickSub&&r.clickSub(...m)),class:"view-action"},[(0,s.createVNode)(o,{src:r.subBgSrc,w:"82rpx",h:"72rpx",style:{position:"absolute",top:"0",left:"0"}},null,8,["src"]),(0,s.createElementVNode)("u-text",{class:"text-action",style:(0,s.normalizeStyle)(r.subStyle)},"-",4)]),(0,s.createElementVNode)("view",{onClick:t[1]||(t[1]=(...m)=>r.clickBet&&r.clickBet(...m)),class:"view-bet"},[(0,s.createVNode)(o,{src:r.betBgSrc,w:"270rpx",h:"80rpx",style:{position:"absolute",top:"0",left:"0"}},null,8,["src"]),(0,s.createElementVNode)("u-text",{class:"text-bet",style:(0,s.normalizeStyle)(r.betStyle)},(0,s.toDisplayString)(r.betStr),5),i.betMoney<=i.accountMoney?((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:0,class:"view-bet-coin"},[(0,s.createElementVNode)("u-text",{class:"text-bet"},(0,s.toDisplayString)(i.betMoney),1),(0,s.createVNode)(o,{src:"s/my/i_coins.png",w:"26rpx",h:"26rpx"})])):(0,s.createCommentVNode)("",!0)]),(0,s.createElementVNode)("view",{onClick:t[2]||(t[2]=(...m)=>r.clickAdd&&r.clickAdd(...m)),class:"view-action"},[(0,s.createVNode)(o,{src:r.addBgSrc,w:"82rpx",h:"72rpx",style:{position:"absolute",top:"0",left:"0"}},null,8,["src"]),(0,s.createElementVNode)("u-text",{class:"text-action",style:(0,s.normalizeStyle)([r.addStyle,{"margin-top":"14rpx"}])},"+",4)]),(0,s.createElementVNode)("view",{style:(0,s.normalizeStyle)({width:`${n.sW}px`,height:`${n.sH}px`,top:`${n.showBetConfirm?0:n.sH}px`}),class:"view-confirm-content"},[(0,s.createElementVNode)("view",{class:"content",style:(0,s.normalizeStyle)({marginBottom:`${n.popBottom}px`})},[(0,s.createVNode)(l,{data:n.betConfirmRich,"font-size":"36rpx",color:"#333333",style:{"font-weight":"600",width:"520rpx","align-items":"center","text-align":"center"}},null,8,["data"]),(0,s.createVNode)(l,{data:n.betConfirmWinRich,"font-size":"20rpx",color:"#333333",style:{"margin-top":"8rpx",width:"520rpx","align-items":"center","text-align":"center"}},null,8,["data"]),(0,s.createVNode)(c,{coin:i.betMoney,size:34,w:30,color:"#FFAA0D",fw:600,style:{"margin-top":"24rpx","margin-bottom":"24rpx"}},null,8,["coin"]),(0,s.createElementVNode)("u-text",{onClick:t[3]||(t[3]=(...m)=>r.clickConfirm&&r.clickConfirm(...m)),class:"text-confirm"},(0,s.toDisplayString)(r.$str("confirm")),1),(0,s.createElementVNode)("view",{onClick:t[4]||(t[4]=(...m)=>r.clickRemind&&r.clickRemind(...m)),class:"view-remind"},[(0,s.createVNode)(o,{src:r.remindSrc,h:"24rpx",w:"24rpx"},null,8,["src"]),(0,s.createElementVNode)("u-text",{class:"reminder-text"},(0,s.toDisplayString)(r.$str("reminderNoMore")),1)]),(0,s.createVNode)(u,{onClick:r.clickPopClose,type:"closeempty",size:"36rpx",color:"#333333",style:{position:"absolute",padding:"24rpx 30rpx",top:"0",right:"0"}},null,8,["onClick"])],4)],4)])}var Kl=I(Vl,[["render",Yl],["styles",[zl]]]),Jl={center:{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"view-game-plate":{"":{alignItems:"center"}},"view-content":{"":{backgroundImage:"linear-gradient(to bottom, #846CFF, #3E0079)",borderTopWidth:"4rpx",borderTopColor:"#7A26D3",marginTop:"30rpx"}},"view-lottery":{"":{position:"absolute",top:0,width:"230rpx",height:"120rpx",backgroundImage:"linear-gradient(to bottom, #5917CD, #B79FFF)",borderRadius:"32rpx",flexDirection:"row",alignItems:"center",justifyContent:"center"}},bg:{".view-lottery ":{width:"218rpx",height:"108rpx",backgroundColor:"#FFFFFF",borderRadius:"28rpx",borderWidth:"2rpx",borderStyle:"solid",borderColor:"#7755DE",flexDirection:"row",alignItems:"center",justifyContent:"center"}},"view-result":{"":{flexDirection:"row",justifyContent:"space-between"}},result:{".view-result ":{height:"60rpx",paddingLeft:"12rpx",paddingRight:"4rpx",backgroundColor:"rgba(0,0,0,0.1)",borderTopLeftRadius:0,borderTopRightRadius:"12rpx",borderBottomRightRadius:"12rpx",borderBottomLeftRadius:0,flexDirection:"row",alignItems:"center",justifyContent:"center"}},text:{".view-result .result ":{fontSize:"22rpx",fontWeight:"500",color:"#FFFFFF",marginRight:"4rpx"},".view-game-code ":{fontSize:"22rpx",fontWeight:"700",color:"#FFFFFF",fontStyle:"italic",lineHeight:"26rpx",height:"26rpx",marginBottom:"-6rpx"},".view-rule-tip ":{fontSize:"20rpx",color:"#FFFFFF",marginRight:"4rpx",lineHeight:"48rpx"}},"num-bg":{".view-result .result ":{width:"44rpx",height:"44rpx",flexDirection:"row",alignItems:"center",justifyContent:"center"}},time:{".view-result ":{width:"240rpx",height:"60rpx",backgroundColor:"rgba(0,0,0,0.1)",borderTopLeftRadius:"12rpx",borderTopRightRadius:0,borderBottomRightRadius:0,borderBottomLeftRadius:"12rpx",flexDirection:"row",alignItems:"center",justifyContent:"center"}},"text-time":{".view-result .time ":{fontSize:"24rpx",fontWeight:"600",color:"#FFFFFF"}},"view-btn-list":{"":{flexDirection:"row",flexWrap:"wrap",paddingLeft:"24rpx"}},"view-btn-bg":{"":{backgroundColor:"#270B19",borderRadius:"16rpx",borderWidth:"2rpx",borderStyle:"solid",borderColor:"rgba(255,255,255,0.3)",position:"absolute"}},"view-bet":{"":{marginBottom:"20rpx",flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingRight:"10rpx"}},"text-top-up":{".view-bet ":{fontSize:"24rpx",color:"#FFFA1E",marginLeft:"4rpx"}},"view-btn-toast":{"":{height:"64rpx",position:"absolute"}},"text-toast":{".view-btn-toast ":{height:"56rpx",lineHeight:"56rpx",backgroundColor:"rgba(0,0,0,0.9)",borderRadius:"8rpx",textAlign:"center",color:"#FFFFFF",fontSize:"20rpx",paddingLeft:"10rpx",paddingRight:"10rpx"}},"text-rate":{".view-btn-toast ":{width:"16rpx",height:"16rpx",backgroundColor:"rgba(0,0,0,0.9)",position:"absolute",bottom:0,left:"16rpx",transform:"rotate(-45deg)"}},"view-game-code":{"":{position:"absolute",top:"5rpx",right:"20rpx",borderTopWidth:"4rpx",borderTopColor:"#7A26D3",borderLeftWidth:"4rpx",borderLeftColor:"#7A26D3",borderRightWidth:"4rpx",borderRightColor:"#7A26D3",borderTopLeftRadius:"20rpx",borderTopRightRadius:"20rpx",height:"30rpx",paddingLeft:"20rpx",paddingRight:"20rpx",backgroundColor:"#846BFE",alignItems:"center",justifyContent:"flex-end"}},"view-music":{"":{position:"absolute",top:"5rpx",left:"30rpx",width:"68rpx",height:"48rpx",alignItems:"center"}},"view-bg":{".view-music ":{borderTopWidth:"4rpx",borderTopColor:"#7A26D3",borderLeftWidth:"4rpx",borderLeftColor:"#7A26D3",borderRightWidth:"4rpx",borderRightColor:"#7A26D3",borderTopLeftRadius:"30rpx",borderTopRightRadius:"30rpx",width:"60rpx",height:"30rpx",backgroundColor:"#846BFE"}},"view-rule-tip":{"":{position:"absolute",left:"8rpx",paddingBottom:"8rpx"}},content:{".view-rule-tip ":{flexDirection:"row",paddingLeft:"10rpx",paddingRight:"8rpx",height:"48rpx",backgroundColor:"rgba(0,0,0,0.8)",borderRadius:"8rpx",alignItems:"center"}},jian:{".view-rule-tip ":{width:"16rpx",height:"16rpx",backgroundColor:"rgba(0,0,0,0.8)",position:"absolute",bottom:0,left:"40rpx",transform:"rotate(-45deg)"}}},Le=getApp().globalData.window,ne=parseInt((Le.width-uni.upx2px(128))/5)-(Le.isWideScreen?10:0),$l=ne*6+uni.upx2px(148);$l<=Le.width&&(ne=ne+10);var oa=parseInt(ne*.89),ql=[{number:0,bet:0,rate:10,status:0,betCoins:0,tCoins:0,isBet:0,index:0},{number:1,bet:0,rate:10,status:0,betCoins:0,tCoins:0,isBet:0,index:1},{number:2,bet:0,rate:10,status:0,betCoins:0,tCoins:0,isBet:0,index:2},{number:3,bet:0,rate:10,status:0,betCoins:0,tCoins:0,isBet:0,index:3},{number:4,bet:0,rate:10,status:0,betCoins:0,tCoins:0,isBet:0,index:4},{number:5,bet:0,rate:10,status:0,betCoins:0,tCoins:0,isBet:0,index:5},{number:6,bet:0,rate:10,status:0,betCoins:0,tCoins:0,isBet:0,index:6},{number:7,bet:0,rate:10,status:0,betCoins:0,tCoins:0,isBet:0,index:7},{number:8,bet:0,rate:10,status:0,betCoins:0,tCoins:0,isBet:0,index:8},{number:9,bet:0,rate:10,status:0,betCoins:0,tCoins:0,isBet:0,index:9},{number:"B",bet:0,rate:2,status:0,betCoins:0,tCoins:0,isBet:0,index:10},{number:"S",bet:0,rate:2,status:0,betCoins:0,tCoins:0,isBet:0,index:11},{number:"O",bet:0,rate:2,status:0,betCoins:0,tCoins:0,isBet:0,index:12},{number:"E",bet:0,rate:2,status:0,betCoins:0,tCoins:0,isBet:0,index:13}],Zl=At("dom"),ye=uni.createInnerAudioContext(),_e=uni.createInnerAudioContext(),Xl={mixins:[Jn],components:{GameBtn:Hl,GameBetInfo:jl,LotteryNumber:Qn,GameBetAction:Kl},emits:["onGetPlateHeight","onOpenHistoryPop"],props:{isGameShow:{type:Boolean,default:!1},singleBet:{type:Number,default:10},gameInfo:{type:Object,default(){return{}}},targetUser:{type:[Object,Boolean],default(){return!1}},roomId:{type:[String,Number],default:0},lastResult:{type:Object,default(){return{}}},isForHer:{type:Boolean,default:!1},forHerRate:{type:Array,default(){return[.2,.8]}},isCallConnect:{type:[Boolean,Number],default:!1}},data(){return{sW:Le.width,sH:Le.height,safeB:Le.safeBottom,isWideS:Le.isWideScreen,betMoney:0,btnW:ne,btnLastLeft:parseInt((ne+uni.upx2px(20))/2),btnListH:ne*3+uni.upx2px(56)+uni.upx2px(16),btnListBgH:oa,btnListBgW1:ne*5+uni.upx2px(118),btnListBgW2:ne*4+uni.upx2px(90),btnListBgMargin:ne-oa+uni.upx2px(28),btnList:JSON.parse(JSON.stringify(ql)),betObj:{},betAddTimes:1,gameTimer:!1,gameDoingTimeInt:-100,gameLotteryDraw:!1,gameLotteryShowInt:-100,btnToastTimer:!1,btnToastNumber:!1,btnToastTip:!1,musicBgClose:P("game_music_bg"),showRuleTip:!P("game_rule_tip")}},watch:{isCallConnect:{handler(e,t){e?this.musicBgClose||_e.pause():this.musicBgClose||_e.play()}}},computed:{gameDoingTimeStr(){return this.gameInfo.status==1||this.gameLotteryDraw?h("drawing"):this.gameInfo.status==0?this.gameDoingTimeInt<=0?h("aboutToStart"):`${this.gameDoingTimeInt}s`:this.gameLotteryShowInt<=0?h("aboutToStart"):`${h("nextRound")}: ${this.gameLotteryShowInt}`},btnToastStyle(){let e=parseInt((Le.width-(ne*4+uni.upx2px(60)))/2),t;return this.btnToastNumber=="B"&&(t=e),this.btnToastNumber=="S"&&(t=ne+uni.upx2px(20)+e),this.btnToastNumber=="O"&&(t=ne*2+uni.upx2px(40)+e),this.btnToastNumber=="E"&&(t=ne*3+uni.upx2px(60)+e),{bottom:ne+uni.upx2px(4),left:`${t}px`}},musicSrc(){return this.musicBgClose?"s/game/music-close.png":"s/game/music-open.png"},resultStr(){let e=this.lastResult.result,t=e>=5?"B":"S",i=e%2==0?"E":"O";return`${e}(${t}/${i})`}},methods:{$str:h,clickMusic(e){e&&e.stopPropagation(),_e.paused?(_e.play(),this.musicBgClose=!1):(_e.pause(),this.musicBgClose=!0),ue("game_music_bg",this.musicBgClose)},onClickHistory(e,t="",i=""){this.$emit("onOpenHistoryPop",e,t,i)},onClickRule(){this.showRuleTip=!1,this.$emit("onOpenHistoryPop",1),ue("game_rule_tip",!0)},clickMoney(){Ke(0,1)},setMusicPlay(e){this.isCallConnect||this.musicBgClose||(e?_e.play():(_e.pause(),ye.paused||ye.stop()))},getPlateHeight(){Zl.getComponentRect(this.$refs.viewGamePlate,e=>{if(e&&e.size){let t=e.size;this.$emit("onGetPlateHeight",t.height)}})},onBtnToast(e,t){this.btnToastTimer&&clearTimeout(this.btnToastTimer),this.btnToastTimer=setTimeout(()=>{this.btnToastNumber=!1},3e3),this.btnToastNumber=e,this.btnToastTip=`Contains "${t}"`},onBtnListener(e,t){let i=t.number,a=this.btnList[t.index];a&&(e==1||e==3?(a.betCoins=this.betAddTimes*this.singleBet,a.tCoins+=a.betCoins,a.status=e,this.betObj[i]=this.btnList[t.index]):e==0&&(a.betCoins=0,a.tCoins-=this.betAddTimes*this.singleBet,a.status=0,delete this.betObj[i]),this.setBetMoney(),this.refreshBetObjOriginal(),this.saveBetData())},onBetActionListener(e){if(e)this.betAddTimes+=1;else{if(this.betAddTimes==1)return;this.betAddTimes-=1}for(let t in this.betObj){let i=this.betObj[t],a=this.singleBet*this.betAddTimes;i.betCoins=a;let n=this.btnList[i.index],r=n.tCoins;n.betCoins=a,n.tCoins=e?r+this.singleBet:r-this.singleBet}this.setBetMoney(),this.saveBetData()},onBetFinish(e){for(let t in this.betObj){let i=this.betObj[t];this.btnList[i.index].isBet=!0,this.btnList[i.index].status=1}this.betObj={},this.betMoney=0,this.betAddTimes=1,this.saveBetData()},resetBtnList(e,t){this.gameDoingTimeInt=t.draw_time-getApp().getCTime(!0),this.$refs.lotteryNumber.reset();for(let i=0,a=this.btnList.length;i<a;i++){let n=this.btnList[i];n=Object.assign(n,e[i]),n.status=0,n.betCoins=0,n.tCoins=0,n.isBet=0}this.betObj={},this.betAddTimes=1,ze(this.saveKey()),this.setBetMoney(),ye.paused||ye.stop()},changeBtnList(e){for(let t=0,i=this.btnList.length;t<i;t++)this.btnList[t]=Object.assign(this.btnList[t],e[t]);this.saveBetData()},changeBtnBet(e){for(let t in e){let i=e[t],a=Yn(t),n=this.btnList[a];n.status=1,n.isBet=!0,n.betCoins=i.coins,n.tCoins=n.tCoins+i.coins}},setBetMoney(){let e=Object.keys(this.betObj).length;this.betMoney=e<=0?0:e*this.betAddTimes*this.singleBet},refreshBetObjOriginal(){this.betObj=JSON.parse(JSON.stringify(this.betObj))},saveKey(){return`bet_data_${this.isForHer&&this.targetUser?this.targetUser.uid:getApp().globalData.uid}`},saveBetData(){if(!this.gameInfo.draw_time)return;let e={draw_time:this.gameInfo.draw_time,btnList:this.btnList,betObj:this.betObj,betAddTimes:this.betAddTimes};ue(this.saveKey(),e)},startGameTimer(){this.gameTimer=setInterval(()=>{typeof this.gameInfo.status!="undefined"&&(this.gameInfo.status==0?(this.gameDoingTimeInt==-100&&(this.gameDoingTimeInt=this.gameInfo.draw_time-getApp().getCTime(!0)),this.gameDoingTimeInt-=1,this.gameDoingTimeInt<=0?(this.gameLotteryDraw=!0,ye.paused&&this.playLuckOpen()):this.gameLotteryDraw=!1):this.gameInfo.status==1?(this.gameLotteryDraw=!0,this.playLuckOpen()):(ye.stop(),this.gameLotteryDraw=!1,this.gameLotteryShowInt=this.gameInfo.end_time-getApp().getCTime(!0),this.gameDoingTimeInt=-100))},1e3)},playLuckOpen(){this.isCallConnect||getApp().globalData.appShow&&(!this.isForHer&&Re().indexOf("/pagesGame/bet-for-her")!=-1||ye.play())},init(e,t){for(let i=0,a=this.btnList.length;i<a;i++){if(this.btnList[i]=Object.assign(this.btnList[i],e[i]),!t)continue;let n=this.btnList[i],r=t[n.number];r?(n.isBet=!0,n.betCoins=r.coins,n.tCoins>r.coins?n.status=3:(n.status=1,n.tCoins=r.coins)):n.isBet=!1}this.getPlateHeight(),k("error","at pagesGame/coms/game-plate.vue:448","-----> init finish "+JSON.stringify(this.betObj))}},created(){this.isForHer||(_e.src=Se("s/game/v/game_bg.mp3"),_e.loop=!0,this.isGameShow&&!this.musicBgClose&&_e.play()),ye.src=Se("s/game/v/luck_open.wav"),this.startGameTimer();let e=P(this.saveKey());if(!e||!e.draw_time||y(e.btnList)||y(e.betObj))return;if(e.draw_time<=getApp().getCTime(!0)){ze(this.saveKey());return}this.btnList=e.btnList,Object.keys(e.betObj).length>0&&(this.betObj=e.betObj,this.betAddTimes=e.betAddTimes||1,this.setBetMoney())},unmounted(){_e.destroy(),ye.destroy(),this.gameTimer&&clearInterval(this.gameTimer)}};function Ql(e,t,i,a,n,r){let o=v((0,s.resolveDynamicComponent)("uni-icons"),he),l=(0,s.resolveComponent)("game-bet-info"),c=(0,s.resolveComponent)("game-btn"),u=v((0,s.resolveDynamicComponent)("coin"),at),m=(0,s.resolveComponent)("game-bet-action"),_=(0,s.resolveComponent)("lottery-number"),A=v((0,s.resolveDynamicComponent)("l-img"),W);return(0,s.openBlock)(),(0,s.createElementBlock)("view",{class:"view-game-plate",ref:"viewGamePlate",style:(0,s.normalizeStyle)({width:`${n.sW}px`}),renderWhole:!0},[(0,s.createElementVNode)("view",{class:"view-content",style:(0,s.normalizeStyle)({width:`${n.sW}px`,paddingBottom:`${n.safeB}px`})},[(0,s.createElementVNode)("view",{class:"view-result",style:(0,s.normalizeStyle)({marginTop:`${n.isWideS?20:30}rpx`})},[(0,s.createElementVNode)("view",{onClick:t[0]||(t[0]=x=>r.onClickHistory(2,"",0)),class:"result"},[(0,s.createElementVNode)("u-text",{class:"text"},(0,s.toDisplayString)(i.lastResult.game_code)+":",1),(0,s.createElementVNode)("u-text",{class:"text"},(0,s.toDisplayString)(r.resultStr),1),(0,s.createVNode)(o,{type:"right",size:"28rpx",color:"#FFFFFF"})]),(0,s.createElementVNode)("view",{class:"time"},[(0,s.createElementVNode)("u-text",{class:"text-time"},(0,s.toDisplayString)(r.gameDoingTimeStr),1)])],4),(0,s.createVNode)(l,{"game-info":i.gameInfo,draw:n.gameLotteryDraw,"is-for-her":i.isForHer,"is-call-connect":i.isCallConnect,onOnClickRule:r.onClickRule,onOnClickHistory:r.onClickHistory},null,8,["game-info","draw","is-for-her","is-call-connect","onOnClickRule","onOnClickHistory"]),(0,s.createElementVNode)("view",{style:(0,s.normalizeStyle)([{width:`${n.sW}px`,height:`${n.btnListH}px`},{"align-items":"center"}])},[(0,s.createElementVNode)("view",{class:"view-btn-bg",style:(0,s.normalizeStyle)({width:`${n.btnListBgW1}px`,height:`${n.btnListBgH}px`,bottom:`${n.btnListBgMargin*2+n.btnListBgH*2}px`})},null,4),(0,s.createElementVNode)("view",{class:"view-btn-bg",style:(0,s.normalizeStyle)({width:`${n.btnListBgW1}px`,height:`${n.btnListBgH}px`,bottom:`${n.btnListBgMargin+n.btnListBgH}px`})},null,4),(0,s.createElementVNode)("view",{class:"view-btn-bg",style:(0,s.normalizeStyle)({width:`${n.btnListBgW2}px`,height:`${n.btnListBgH}px`,bottom:0})},null,4),(0,s.createElementVNode)("view",{class:"view-btn-list"},[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(n.btnList,(x,S)=>((0,s.openBlock)(),(0,s.createBlock)(c,{key:`a${S}`,width:n.btnW,info:x,"game-status":i.gameInfo.status,draw:n.gameLotteryDraw,"is-call-connect":i.isCallConnect,style:(0,s.normalizeStyle)([{marginBottom:`${S<=9?14:0}px`,marginLeft:`${S==10?n.btnLastLeft:0}px`},{"margin-right":"20rpx"}]),onOnBtnListener:r.onBtnListener,onOnBtnToast:r.onBtnToast},null,8,["width","info","game-status","draw","is-call-connect","style","onOnBtnListener","onOnBtnToast"]))),128)),n.btnToastNumber?((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:0,class:"view-btn-toast",style:(0,s.normalizeStyle)(r.btnToastStyle)},[(0,s.createElementVNode)("u-text",{class:"text-toast"},(0,s.toDisplayString)(n.btnToastTip),1),(0,s.createElementVNode)("view",{class:"text-rate"})],4)):(0,s.createCommentVNode)("",!0)])],4),(0,s.createElementVNode)("view",{class:"view-bet",style:(0,s.normalizeStyle)({marginTop:`${n.isWideS?10:20}rpx`})},[(0,s.createElementVNode)("view",{onClick:t[1]||(t[1]=(...x)=>r.clickMoney&&r.clickMoney(...x)),class:"center",style:{"padding-left":"10rpx"}},[(0,s.createVNode)(u,{coin:e.pubAccount.money,fw:500},null,8,["coin"]),(0,s.createElementVNode)("u-text",{class:"text-top-up"},(0,s.toDisplayString)(r.$str("topUp")),1),(0,s.createVNode)(o,{type:"right",size:"26rpx",color:"#FFFA1E"})]),(0,s.createVNode)(m,{"game-info":i.gameInfo,"account-money":e.pubAccount.money,"bet-money":n.betMoney,"game-lottery-draw":n.gameLotteryDraw,"bet-obj":n.betObj,"single-bet":i.singleBet,"target-user":i.targetUser,"room-id":i.roomId,"is-for-her":i.isForHer,"is-call-connect":i.isCallConnect,onOnBetActionListener:r.onBetActionListener,onOnBetFinish:r.onBetFinish},null,8,["game-info","account-money","bet-money","game-lottery-draw","bet-obj","single-bet","target-user","room-id","is-for-her","is-call-connect","onOnBetActionListener","onOnBetFinish"])],4)],4),(0,s.createElementVNode)("view",{class:"view-lottery"},[(0,s.createElementVNode)("view",{class:"bg"},[(0,s.createVNode)(_,{ref:"lotteryNumber","size-type":2,"game-info":i.gameInfo,draw:n.gameLotteryDraw},null,8,["game-info","draw"])])]),(0,s.createElementVNode)("view",{class:"view-game-code"},[(0,s.createElementVNode)("u-text",{class:"text"},(0,s.toDisplayString)(i.gameInfo.game_code),1)]),!i.isForHer&&!i.isCallConnect?((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:0,onClick:t[2]||(t[2]=(...x)=>r.clickMusic&&r.clickMusic(...x)),class:"view-music"},[(0,s.createElementVNode)("view",{class:"view-bg"}),(0,s.createVNode)(A,{onClick:r.clickMusic,src:r.musicSrc,w:"40rpx",h:"40rpx",style:{position:"absolute",bottom:"4rpx"}},null,8,["onClick","src"])])):(0,s.createCommentVNode)("",!0),n.showRuleTip?((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:1,onClick:t[3]||(t[3]=(...x)=>r.onClickRule&&r.onClickRule(...x)),class:"view-rule-tip",style:(0,s.normalizeStyle)({top:`${78+(n.isWideS?20:30)}rpx`})},[(0,s.createElementVNode)("view",{class:"content"},[(0,s.createElementVNode)("u-text",{class:"text"},(0,s.toDisplayString)(r.$str("playHowTo")),1),(0,s.createVNode)(o,{type:"right",size:"24rpx",color:"#FFFFFF"})]),(0,s.createElementVNode)("view",{class:"jian"})],4)):(0,s.createCommentVNode)("",!0)],4)}var la=I(Xl,[["render",Ql],["styles",[Jl]]]),ec={"history-pop":{"":{backgroundColor:"#414773",borderTopWidth:"2rpx",borderTopStyle:"solid",borderTopColor:"rgba(255,255,255,0.5)",borderRightWidth:"2rpx",borderRightStyle:"solid",borderRightColor:"rgba(255,255,255,0.5)",borderLeftWidth:"2rpx",borderLeftStyle:"solid",borderLeftColor:"rgba(255,255,255,0.5)",borderTopLeftRadius:"16rpx",borderTopRightRadius:"16rpx",marginLeft:-1}}},tc={components:{UniPopup:mi},props:{height:{type:[Number,String],default:0}},data(){return{popW:getApp().globalData.window.width+2}},methods:{open(){this.$refs.historyPop.open()},close(){this.$refs.historyPop.close()}}};function ic(e,t,i,a,n,r){let o=v((0,s.resolveDynamicComponent)("uni-popup"),mi);return(0,s.openBlock)(),(0,s.createBlock)(o,{ref:"historyPop",type:"bottom","safe-area":!1},{default:(0,s.withCtx)(()=>[(0,s.createElementVNode)("view",{class:"history-pop",style:(0,s.normalizeStyle)({height:`${i.height}px`,width:`${n.popW}px`})},[(0,s.renderSlot)(e.$slots,"default",{style:"flex: 1;"})],4)]),_:3},512)}var ca=I(tc,[["render",ic],["styles",[ec]]]),nc={"center-between":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},center:{"":{flexDirection:"row",alignItems:"center"}},navbar:{"":{paddingTop:0,paddingRight:"24rpx",paddingBottom:0,paddingLeft:"24rpx",marginTop:"20rpx"}},title:{".navbar ":{color:"#FFFFFF",fontSize:"32rpx",textAlign:"center",lineHeight:"44rpx"}},"multiple-wrap":{"":{borderTopLeftRadius:"8rpx",borderTopRightRadius:"8rpx",borderBottomRightRadius:0,borderBottomLeftRadius:0,borderWidth:"2rpx",borderStyle:"solid",borderColor:"#FFFFFF",position:"relative"}},"title-item":{".multiple-wrap ":{flex:1,lineHeight:"74rpx",textAlign:"center",color:"#FFFFFF",fontSize:"26rpx"}},"num-item":{".multiple-wrap ":{flex:1,lineHeight:"64rpx",textAlign:"center",color:"#FFFFFF",fontSize:"24rpx"}},"mul-str":{".multiple-wrap ":{color:"#FFFA1E"}},"split-line":{".multiple-wrap ":{backgroundColor:"#FFFFFF",height:"2rpx"}},"ver-line":{".multiple-wrap ":{backgroundColor:"#FFFFFF",width:"2rpx",height:"64rpx"}},"tips-title":{"":{marginTop:"20rpx",fontSize:"28rpx",color:"#FFFFFF",lineHeight:"40rpx"}},"tips-text":{"":{fontSize:"24rpx",color:"#FFFFFF",lineHeight:"34rpx",marginTop:"16rpx"}}},ac={emits:["onClickLeft"],components:{UniIcons:he},props:{height:{type:[Number,String],default:0},rulesList:{type:Array,default:[]},rateList:{type:Array,default:[]}},data(){return{lineLeft:(getApp().globalData.window.width-uni.upx2px(56))/2,scrollViewH:this.height-uni.upx2px(96),safeBottom:getApp().globalData.window.safeBottom}},methods:{$str:h,clickLeft(){this.$emit("onClickLeft",1)}}};function rc(e,t,i,a,n,r){let o=v((0,s.resolveDynamicComponent)("uni-icons"),he);return(0,s.openBlock)(),(0,s.createElementBlock)("view",{class:"container",renderWhole:!0},[(0,s.createElementVNode)("view",{class:"navbar center-between"},[(0,s.createVNode)(o,{onClick:r.clickLeft,type:"left",size:"40rpx",color:"#FFFFFF"},null,8,["onClick"]),(0,s.createElementVNode)("u-text",{class:"title"},(0,s.toDisplayString)(r.$str("playHowTo")),1),(0,s.createElementVNode)("view",{style:{width:"40rpx"}})]),(0,s.createElementVNode)("scroll-view",{scrollY:!0,style:(0,s.normalizeStyle)([{padding:"20rpx 26rpx 0 26rpx"},{height:`${n.scrollViewH}px`,paddingBottom:`${n.safeBottom}px`}])},[(0,s.createElementVNode)("view",{class:"multiple-wrap"},[(0,s.createElementVNode)("view",{class:"center"},[(0,s.createElementVNode)("u-text",{class:"title-item"},(0,s.toDisplayString)(r.$str("game.luckyNumber")),1),(0,s.createElementVNode)("view",{class:"ver-line",style:{height:"74rpx"}}),(0,s.createElementVNode)("u-text",{class:"title-item"},(0,s.toDisplayString)(r.$str("bonusOdds")),1)]),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(i.rateList,(l,c)=>((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:"b"+c},[(0,s.createElementVNode)("view",{class:"split-line"}),(0,s.createElementVNode)("view",{class:"center"},[(0,s.createElementVNode)("u-text",{class:"num-item"},(0,s.toDisplayString)(l.title),1),(0,s.createElementVNode)("view",{class:"ver-line"}),(0,s.createElementVNode)("u-text",{class:"num-item mul-str"},(0,s.toDisplayString)(l.desc)+"x",1)])]))),128))]),(0,s.createElementVNode)("u-text",{class:"tips-title"},(0,s.toDisplayString)(r.$str("playMethods"))+":",1),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(i.rulesList,(l,c)=>((0,s.openBlock)(),(0,s.createElementBlock)("u-text",{key:"t"+c,class:"tips-text"},(0,s.toDisplayString)(l),1))),128))],4)])}var ua=I(ac,[["render",rc],["styles",[nc]]]),sc={center:{"":{flexDirection:"row",alignItems:"center"}},"center-between":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},"center-align":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"center-justify":{"":{flexDirection:"row",justifyContent:"center"}},"log-content":{"":{marginTop:"20rpx"}},"head-cell":{".log-content ":{borderTopLeftRadius:"16rpx",borderTopRightRadius:"16rpx",zIndex:111,backgroundColor:"#414773"}},"list-wrap":{".log-content ":{borderWidth:"2rpx",borderStyle:"solid",borderColor:"#FFFFFF",position:"relative",marginTop:0,marginRight:"26rpx",marginBottom:0,marginLeft:"26rpx"}},"title-item":{".log-content .list-wrap ":{textAlign:"center",color:"#FFFFFF",fontSize:"20rpx"}},"num-item":{".log-content .list-wrap ":{lineHeight:"64rpx",textAlign:"center",color:"#FFFFFF",fontSize:"20rpx",position:"relative"}},price:{".log-content .list-wrap .num-item ":{fontSize:"20rpx",color:"#FFFFFF",marginRight:"4rpx"}},"split-line":{".log-content .list-wrap ":{backgroundColor:"#FFFFFF",height:"2rpx"}},"ver-line":{".log-content .list-wrap ":{backgroundColor:"#FFFFFF",width:"2rpx",height:"74rpx"}}},oc={emits:["onClickPrize"],components:{LImg:W,UniLoadMore:$e},props:{data:{type:Object,default(){return{}}},height:{type:Number,default:0}},data(){return{apiUrl:this.data.type==1?"/chat/game/list":"/chat/game/bet-list",safeBottom:getApp().globalData.window.safeBottom,page:1,list:[],showEmpty:!1,loadMore:"loading",emptyHeight:this.height-uni.upx2px(160)-getApp().globalData.window.safeBottom-10}},computed:{getItemW(){let e=getApp().globalData.window.width-uni.upx2px(64),t=e*.3,i,a;return this.data.type==1?(i=e*.44/2,a=e*.26):(i=e*.48/3,a=e*.22),[t,i,a]}},methods:{$str:h,clickPrize(e){this.$emit("onClickPrize",e)},onLoadMore(){this.loadMore!="nomore"&&(this.loadMore="loading",this.page++,this.initData(!1,()=>{this.$nextTick(()=>{this.$refs.logList.resetLoadmore()})}))},initData(e,t){e&&(this.page=1),H.request(this.apiUrl,{page:this.page}).then(i=>{this.page==1&&(this.list=[]);let a=i.data.list;for(let n=0,r=a.length;n<r;n++){let o=a[n];o.ctime=new Date().getTime();let l=o.result<5?"S":"B",c=o.result%2==0?"E":"O";o.resultStr=o.result+" ("+l+"/"+c+")",this.list.push(o)}this.loadMore=i.data.has_more?"loadmore":"nomore",this.showEmpty=this.list.length<=0,typeof t=="function"&&t()})}}};function lc(e,t,i,a,n,r){let o=v((0,s.resolveDynamicComponent)("l-img"),W),l=v((0,s.resolveDynamicComponent)("uni-icons"),he),c=v((0,s.resolveDynamicComponent)("uni-load-more"),$e);return(0,s.openBlock)(),(0,s.createElementBlock)("view",{style:{flex:"1"},renderWhole:!0},[(0,s.createElementVNode)("list",{ref:"logList",class:"log-content",scrollable:!0,showScrollbar:!1,onLoadmore:t[0]||(t[0]=(...u)=>r.onLoadMore&&r.onLoadMore(...u)),loadmoreoffset:20,offsetAccuracy:10},[(0,s.createElementVNode)("header",null,[(0,s.createElementVNode)("view",{style:{background:"#414773"}},[(0,s.createElementVNode)("view",{class:"center list-wrap head-cell"},[(0,s.createElementVNode)("u-text",{class:"title-item",style:(0,s.normalizeStyle)({width:`${r.getItemW[0]}px`})},(0,s.toDisplayString)(r.$str("issue")),5),(0,s.createElementVNode)("view",{class:"ver-line"}),i.data.type!=1?((0,s.openBlock)(),(0,s.createElementBlock)("u-text",{key:0,class:"title-item",style:(0,s.normalizeStyle)({width:`${r.getItemW[1]}px`})},(0,s.toDisplayString)(r.$str("bet.numRank")),5)):(0,s.createCommentVNode)("",!0),i.data.type!=1?((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:1,class:"ver-line"})):(0,s.createCommentVNode)("",!0),(0,s.createElementVNode)("u-text",{class:"title-item",style:(0,s.normalizeStyle)({width:`${r.getItemW[1]}px`})},(0,s.toDisplayString)(i.data.type==1?r.$str("winners"):r.$str("bet.my")),5),(0,s.createElementVNode)("view",{class:"ver-line"}),(0,s.createElementVNode)("u-text",{class:"title-item",style:(0,s.normalizeStyle)({width:`${r.getItemW[1]}px`})},(0,s.toDisplayString)(r.$str("result")),5),(0,s.createElementVNode)("view",{class:"ver-line"}),(0,s.createElementVNode)("u-text",{class:"title-item",style:(0,s.normalizeStyle)({width:`${r.getItemW[2]}px`})},(0,s.toDisplayString)(r.$str("bonus")),5)])])]),(0,s.createElementVNode)("cell",null,[(0,s.createElementVNode)("view",{class:"list-wrap"},[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(n.list,(u,m)=>((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:"a"+u.ctime},[(0,s.createElementVNode)("view",{class:"center"},[(0,s.createElementVNode)("view",{class:"center",style:(0,s.normalizeStyle)([{position:"relative"},{width:`${r.getItemW[0]}px`}])},[i.data.type==2&&u.prizes>0?((0,s.openBlock)(),(0,s.createBlock)(o,{key:0,src:"s/game/fireworks.png",w:"20rpx",h:"20rpx",style:{"margin-left":"16rpx","margin-right":"10rpx"}})):((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:1,style:{width:"46rpx"}})),(0,s.createElementVNode)("u-text",{class:"num-item"},(0,s.toDisplayString)(u.game_code),1)],4),(0,s.createElementVNode)("view",{class:"ver-line"}),i.data.type!=1?((0,s.openBlock)(),(0,s.createElementBlock)("u-text",{key:0,class:"num-item",style:(0,s.normalizeStyle)({width:`${r.getItemW[1]}px`})},(0,s.toDisplayString)(u.bet),5)):(0,s.createCommentVNode)("",!0),i.data.type!=1?((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:1,class:"ver-line"})):(0,s.createCommentVNode)("",!0),(0,s.createElementVNode)("view",{class:"num-item center-align",style:(0,s.normalizeStyle)({width:`${r.getItemW[1]}px`})},[(0,s.createElementVNode)("u-text",{class:"price"},(0,s.toDisplayString)(i.data.type==1?u.winners:u.bet_coins),1),i.data.type!=1?((0,s.openBlock)(),(0,s.createBlock)(o,{key:0,src:"s/my/i_coins.png",w:"18rpx",h:"18rpx"})):(0,s.createCommentVNode)("",!0)],4),(0,s.createElementVNode)("view",{class:"ver-line"}),(0,s.createElementVNode)("u-text",{class:"num-item",style:(0,s.normalizeStyle)({width:`${r.getItemW[1]}px`})},(0,s.toDisplayString)(u.resultStr),5),(0,s.createElementVNode)("view",{class:"ver-line"}),(0,s.createElementVNode)("view",{onClick:_=>r.clickPrize(u.game_id),style:(0,s.normalizeStyle)({width:`${r.getItemW[2]}px`}),class:"num-item center-align"},[(0,s.createElementVNode)("u-text",{class:"price"},(0,s.toDisplayString)(u.prizes),1),(0,s.createVNode)(o,{src:"s/my/i_coins.png",w:"18rpx",h:"18rpx"}),(0,s.createVNode)(l,{type:"right",color:"#FFFFFF",size:"30rpx"})],12,["onClick"])]),m!=n.list.length-1?((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:0,class:"split-line"})):(0,s.createCommentVNode)("",!0)]))),128)),n.showEmpty?((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:0,class:"center-align",style:(0,s.normalizeStyle)({height:`${n.emptyHeight}px`})},[(0,s.createVNode)(o,{src:"s/game/empty_record.png",w:"182rpx",h:"168rpx"})],4)):(0,s.createCommentVNode)("",!0)])]),(0,s.createElementVNode)("cell",null,[(0,s.createElementVNode)("view",{style:(0,s.normalizeStyle)({height:`${n.safeBottom+10}px`})},null,4)]),n.loadMore!="nomore"?((0,s.openBlock)(),(0,s.createElementBlock)("header",{key:0},[(0,s.createVNode)(c,{status:n.loadMore,color:"#FFFFFF"},null,8,["status"])])):(0,s.createCommentVNode)("",!0)],544)])}var cc=I(oc,[["render",lc],["styles",[sc]]]),uc={center:{"":{flexDirection:"row",alignItems:"center"}},"center-between":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},"center-align":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"center-justify":{"":{flexDirection:"row",justifyContent:"center"}},navbar:{"":{paddingTop:0,paddingRight:"24rpx",paddingBottom:0,paddingLeft:"24rpx",marginTop:"20rpx"}},title:{".navbar ":{color:"#FFFFFF",fontSize:"32rpx",textAlign:"center",lineHeight:"44rpx",marginTop:"12rpx"}},"active-line":{".navbar ":{height:"4rpx",backgroundColor:"#FF4477",borderRadius:"2rpx",marginTop:"8rpx"}},"active-empty":{".navbar ":{backgroundColor:"rgba(0,0,0,0)"}},"swiper-home":{"":{flex:1}}},mc={emits:["onClickLeft"],components:{GameHistoryLogList:cc,UniLoadMore:$e,LImg:W,UniIcons:he},props:{height:{type:[Number,String],default:0},showType:{type:[Number,String],default:0}},data(){return{curIndex:this.showType,tabList:[{id:"history",type:1,title:h("history"),ml:0},{id:"my",type:2,title:h("my"),ml:160}],pageList:[]}},methods:{$str:h,clickLeft(){this.$emit("onClickLeft",2)},onClickPrize(e){this.$emit("onClickPrizeDetail",e)},onSwiperChange(e){this.curIndex=e.detail.current;let t=this.pageList[this.curIndex];t.list.length<=0&&t.initData(!0)},changeActive(e){this.curIndex!=e&&(this.curIndex=e)}},created(){this.$nextTick(()=>{for(let e=0,t=this.tabList.length;e<t;e++){let i=this.$refs[`page${e}`];this.pageList.push(i[0])}this.pageList[this.curIndex].initData(!0)})}};function fc(e,t,i,a,n,r){let o=v((0,s.resolveDynamicComponent)("uni-icons"),he),l=(0,s.resolveComponent)("game-history-log-list"),c=(0,s.resolveComponent)("swiper-item"),u=(0,s.resolveComponent)("swiper");return(0,s.openBlock)(),(0,s.createElementBlock)("view",{class:"container",style:(0,s.normalizeStyle)({height:`${i.height}px`}),renderWhole:!0},[(0,s.createElementVNode)("view",{class:"navbar center-between"},[(0,s.createVNode)(o,{onClick:r.clickLeft,type:"left",size:"40rpx",color:"#FFFFFF"},null,8,["onClick"]),(0,s.createElementVNode)("view",{class:"center"},[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(n.tabList,(m,_)=>((0,s.openBlock)(),(0,s.createElementBlock)("view",{onClick:A=>r.changeActive(_),style:(0,s.normalizeStyle)({marginLeft:`${m.ml}rpx`})},[(0,s.createElementVNode)("u-text",{class:"title"},(0,s.toDisplayString)(m.title),1),(0,s.createElementVNode)("view",{class:(0,s.normalizeClass)(["active-line",[n.curIndex==_?"":"active-empty"]])},null,2)],12,["onClick"]))),256))]),(0,s.createElementVNode)("view",{style:{width:"40rpx"}})]),(0,s.createVNode)(u,{class:"swiper-home",current:n.curIndex,duration:300,onChange:r.onSwiperChange,style:{flex:"1"}},{default:(0,s.withCtx)(()=>[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(n.tabList,(m,_)=>((0,s.openBlock)(),(0,s.createBlock)(c,{class:"swiper-item",key:m.id},{default:(0,s.withCtx)(()=>[(0,s.createVNode)(l,{ref_for:!0,ref:`page${_}`,data:m,height:i.height,onOnClickPrize:r.onClickPrize},null,8,["data","height","onOnClickPrize"])]),_:2},1024))),128))]),_:1},8,["current","onChange"])],4)}var ma=I(mc,[["render",fc],["styles",[uc]]]),dc={center:{"":{flexDirection:"row",alignItems:"center"}},"center-between":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},"center-align":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"center-justify":{"":{flexDirection:"row",justifyContent:"center"}},"column-center":{"":{flexDirection:"column",alignItems:"center",justifyContent:"center"}},navbar:{"":{paddingTop:0,paddingRight:"26rpx",paddingBottom:0,paddingLeft:"26rpx",marginTop:"20rpx"}},title:{".navbar ":{color:"#FFFFFF",fontSize:"32rpx",textAlign:"center",lineHeight:"44rpx",flex:1},".details-content .list-wrap .title-item ":{textAlign:"center",color:"#FFFFFF",fontSize:"26rpx",lineHeight:"36rpx",fontWeight:"600"}},"draw-time":{".navbar ":{color:"#FFFFFF",fontSize:"24rpx",flex:1,textAlign:"right"}},"active-line":{".navbar ":{height:"4rpx",backgroundColor:"#FF4477",borderRadius:"2rpx",marginTop:"8rpx"}},"active-empty":{".navbar ":{backgroundColor:"rgba(0,0,0,0)"}},"details-content":{"":{marginTop:"20rpx",paddingTop:"12rpx",paddingRight:"26rpx",paddingBottom:0,paddingLeft:"26rpx"}},"list-wrap":{".details-content ":{borderTopLeftRadius:"16rpx",borderTopRightRadius:"16rpx",borderBottomRightRadius:0,borderBottomLeftRadius:0,borderWidth:"2rpx",borderStyle:"solid",borderColor:"#FFFFFF",position:"relative"}},"right-bet-for":{".details-content .list-wrap ":{paddingTop:"4rpx",paddingRight:"8rpx",paddingBottom:"4rpx",paddingLeft:"16rpx",backgroundColor:"rgba(255,255,255,0.1)",borderTopLeftRadius:"200rpx",borderTopRightRadius:0,borderBottomRightRadius:0,borderBottomLeftRadius:"200rpx",position:"absolute",right:0,bottom:"14rpx"}},"bet-text":{".details-content .list-wrap .right-bet-for ":{fontSize:"20rpx",color:"#FFFFFF"}},"bet-name":{".details-content .list-wrap .right-bet-for ":{color:"#67D4FF",lines:1,overflow:"hidden",textOverflow:"ellipsis"}},"user-bet-for":{".details-content .list-wrap ":{height:"24rpx",lineHeight:"24rpx",backgroundColor:"rgba(255,255,255,0.1)",borderRadius:"18rpx",color:"#FFFFFF",fontSize:"16rpx",paddingTop:0,paddingRight:"12rpx",paddingBottom:0,paddingLeft:"12rpx"}},"time-line":{".details-content .list-wrap ":{width:"80rpx",height:"2rpx",backgroundColor:"#FFFFFF",opacity:.4}},"time-str":{".details-content .list-wrap ":{marginTop:"2rpx",marginRight:"12rpx",marginBottom:0,marginLeft:"12rpx",fontSize:"24rpx",color:"#FFFFFF",lineHeight:"28rpx"}},"num-str":{".details-content .list-wrap ":{fontSize:"28rpx",fontWeight:"600",color:"#FFFFFF",marginRight:"4rpx"}},"title-item":{".details-content .list-wrap ":{paddingTop:"14rpx",paddingRight:0,paddingBottom:"14rpx",paddingLeft:0,color:"#FFFFFF",fontSize:"26rpx",textAlign:"center",fontWeight:"600"}},"split-line":{".details-content .list-wrap ":{backgroundColor:"#FFFFFF",height:"2rpx"}},"ver-line-bold":{".details-content .list-wrap ":{backgroundColor:"#FFFFFF",width:"4rpx",height:"28rpx",marginTop:0,marginRight:"16rpx",marginBottom:0,marginLeft:"16rpx",borderRadius:"4rpx"}},"num-item":{"":{lineHeight:"64rpx",textAlign:"center",color:"#FFFFFF",fontSize:"24rpx"}},price:{".num-item ":{fontSize:"24rpx",color:"#FFFFFF",marginRight:"4rpx",marginTop:"2rpx"}},"ver-line":{"":{backgroundColor:"#FFFFFF",width:"2rpx",height:"100rpx"},".bottom-income ":{height:"52rpx"}},nickname:{"":{fontSize:"22rpx",color:"#FFFFFF",lines:1,overflow:"hidden",textOverflow:"ellipsis",marginBottom:"6rpx",lineHeight:"26rpx"}},"bet-num":{"":{fontSize:"24rpx",fontWeight:"600",color:"#FFFFFF",marginTop:"4rpx",marginRight:0,marginBottom:"12rpx",marginLeft:0}},"small-title":{"":{fontSize:12,color:"#FFFFFF",lineHeight:"34rpx"}},"right-gradient":{"":{width:"28rpx",height:"28rpx",position:"absolute",right:0,bottom:0,backgroundImage:"linear-gradient(to right, rgba(65, 71, 115, 0), #414773)",zIndex:11}},"bottom-income":{"":{paddingTop:"12rpx",position:"absolute",bottom:0,backgroundColor:"#34385C",borderTopWidth:"4rpx",borderTopStyle:"solid",borderTopColor:"#8E8DA4"}},"lose-str":{".bottom-income ":{fontSize:"24rpx",color:"#FF014C"}}},pc={emits:["onClickLeft"],components:{UniLoadMore:$e,UBaseInfo:nt,LImg:W,UniIcons:he},props:{height:{type:[Number,String],default:0},gameId:{type:[Number,String],default:0}},data(){return{sw:getApp().globalData.window.width,lineLeft:(getApp().globalData.window.width-uni.upx2px(56))/2,scrollViewH:this.height-uni.upx2px(86),safeBottom:getApp().globalData.window.safeBottom,list:[],page:1,myInfo:getApp().pubUser,loadMore:"loading",gameInfo:"",betInfo:"",showEmpty:!1,betUser:"",emptyHeight:0}},computed:{getItemW(){let e=getApp().globalData.window.width-uni.upx2px(62),t=e*.35,i=e*.65/3,a=t-uni.upx2px(68);return[t,i,a]},getSafeBottom(){return this.betInfo?this.safeBottom+uni.upx2px(100):this.safeBottom}},methods:{$str:h,clickLeft(){this.$emit("onClickLeft",3)},onLoadMore(){this.loadMore!="nomore"&&(this.loadMore="loading",this.page++,this.initData(!1))},initData(e){e&&(this.page=1),H.request("/chat/game/detail",{page:this.page,game_id:this.gameId}).then(t=>{e&&(this.list=[]),this.betUser=t.data.bet_user,this.gameInfo=t.data.game_info,this.gameInfo.resultBS=this.gameInfo.result<5?"S":"B",this.gameInfo.resultOE=this.gameInfo.result%2==0?"E":"O",this.gameInfo.drawTime=Dt(this.gameInfo.draw_time,!1,!1,!1),t.data.bet_info&&(this.betInfo=t.data.bet_info);let i=t.data.list;for(let a=0,n=i.length;a<n;a++){let r=i[a];this.betUser&&r.user_info.uid==this.betUser.uid?(r.lineH=134,r.betStr=h("bet.youForOther",{whom:Oe(r.user_info.sex)})):r.lineH=100,this.list.push(r)}if(this.loadMore=t.data.has_more?"loadmore":"nomore",this.list.length<=0){this.showEmpty=!0;let a=this.scrollViewH-this.safeBottom-uni.upx2px(262)-10;this.betInfo&&(a=a-uni.upx2px(72)),this.emptyHeight=a}})}},created(){this.initData(!0)}};function gc(e,t,i,a,n,r){let o=v((0,s.resolveDynamicComponent)("uni-icons"),he),l=v((0,s.resolveDynamicComponent)("l-img"),W),c=v((0,s.resolveDynamicComponent)("u-base-info"),nt),u=v((0,s.resolveDynamicComponent)("uni-load-more"),$e);return(0,s.openBlock)(),(0,s.createElementBlock)("view",{class:"container",renderWhole:!0},[(0,s.createElementVNode)("view",{class:"navbar center-between"},[(0,s.createElementVNode)("view",{style:{flex:"1","flex-direction":"row"}},[(0,s.createVNode)(o,{onClick:r.clickLeft,type:"left",size:"40rpx",color:"#FFFFFF"},null,8,["onClick"])]),(0,s.createElementVNode)("u-text",{class:"title"},(0,s.toDisplayString)(r.$str("details")),1),(0,s.createElementVNode)("u-text",{class:"draw-time"},(0,s.toDisplayString)(n.gameInfo.drawTime),1)]),(0,s.createElementVNode)("list",{class:"details-content",style:(0,s.normalizeStyle)({height:`${n.scrollViewH}px`}),scrollable:!0,showScrollbar:!1,onLoadmore:t[0]||(t[0]=(...m)=>r.onLoadMore&&r.onLoadMore(...m)),loadmoreoffset:20,offsetAccuracy:10},[(0,s.createElementVNode)("cell",{class:"list-wrap"},[(0,s.createElementVNode)("view",{class:"column-center",style:{position:"relative"}},[(0,s.createElementVNode)("view",{class:"center",style:{"margin-top":"20rpx"}},[(0,s.createElementVNode)("view",{class:"time-line"}),(0,s.createElementVNode)("u-text",{class:"time-str"},(0,s.toDisplayString)(n.gameInfo.game_code),1),(0,s.createElementVNode)("view",{class:"time-line"})]),(0,s.createElementVNode)("view",{class:"center-align",style:{"margin-top":"4rpx"}},[(0,s.createElementVNode)("view",{class:"center"},[(0,s.createElementVNode)("u-text",{class:"num-str"},(0,s.toDisplayString)(n.gameInfo.total_people),1),(0,s.createVNode)(l,{src:"s/game/people.png",w:"30rpx",h:"30rpx"})]),(0,s.createElementVNode)("view",{class:"ver-line-bold"}),(0,s.createElementVNode)("view",{class:"center"},[(0,s.createElementVNode)("u-text",{class:"num-str"},(0,s.toDisplayString)(n.gameInfo.total_bet),1),(0,s.createVNode)(l,{src:"s/my/i_coins.png",w:"26rpx",h:"26rpx"})])]),(0,s.createElementVNode)("view",{class:"center-align"},[(0,s.createElementVNode)("u-text",{class:"bet-num"},(0,s.toDisplayString)(n.gameInfo.result)+" ("+(0,s.toDisplayString)(n.gameInfo.resultBS)+"/"+(0,s.toDisplayString)(n.gameInfo.resultOE)+")",1)]),n.betUser?((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:0,class:"right-bet-for center"},[(0,s.createElementVNode)("u-text",{class:"bet-text"},(0,s.toDisplayString)(r.$str("bet.youFor")),1),(0,s.createElementVNode)("u-text",{class:"bet-text bet-name",style:{"max-width":"150rpx"}},(0,s.toDisplayString)(n.betUser.nickname),1)])):(0,s.createCommentVNode)("",!0)]),(0,s.createElementVNode)("view",{class:"split-line"}),(0,s.createElementVNode)("view",{class:"center"},[(0,s.createElementVNode)("view",{class:"title-item column-center",style:(0,s.normalizeStyle)({width:`${r.getItemW[0]}px`})},[(0,s.createElementVNode)("u-text",{class:"title"},(0,s.toDisplayString)(r.$str("winners")),1),(0,s.createElementVNode)("u-text",{class:"small-title"},(0,s.toDisplayString)(n.gameInfo.winners),1)],4),(0,s.createElementVNode)("view",{class:"ver-line"}),(0,s.createElementVNode)("u-text",{class:"title-item",style:(0,s.normalizeStyle)({width:`${r.getItemW[1]}px`})},(0,s.toDisplayString)(r.$str("bet.total")),5),(0,s.createElementVNode)("view",{class:"ver-line"}),(0,s.createElementVNode)("u-text",{class:"title-item",style:(0,s.normalizeStyle)({width:`${r.getItemW[1]}px`})},"["+(0,s.toDisplayString)(n.gameInfo.result)+"]"+(0,s.toDisplayString)(r.$str("bet")),5),(0,s.createElementVNode)("view",{class:"ver-line"}),(0,s.createElementVNode)("view",{class:"title-item column-center",style:(0,s.normalizeStyle)({width:`${r.getItemW[1]}px`})},[(0,s.createElementVNode)("u-text",{class:"title"},(0,s.toDisplayString)(r.$str("bonus")),1),(0,s.createElementVNode)("view",{class:"center-align"},[(0,s.createElementVNode)("u-text",{class:"small-title",style:{"margin-right":"4rpx"}},(0,s.toDisplayString)(n.gameInfo.prizes),1),(0,s.createVNode)(l,{src:"s/my/i_coins.png",w:"24rpx",h:"24rpx"})])],4)]),(0,s.createElementVNode)("view",{class:"split-line"}),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(n.list,(m,_)=>((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:"a"+m.game_id},[(0,s.createElementVNode)("view",{class:"center"},[(0,s.createElementVNode)("view",{class:"center-align",style:(0,s.normalizeStyle)({width:`${r.getItemW[0]}px`})},[(0,s.createVNode)(l,{src:m.user_info.small_avatar,w:"50rpx",h:"50rpx",radius:"25rpx"},null,8,["src"]),(0,s.createElementVNode)("view",{style:{"margin-left":"4rpx"}},[(0,s.createElementVNode)("u-text",{class:"nickname",style:(0,s.normalizeStyle)({"max-width":`${r.getItemW[2]}px`})},(0,s.toDisplayString)(m.user_info.nickname),5),(0,s.createElementVNode)("view",{style:(0,s.normalizeStyle)([{"max-width":`${r.getItemW[2]}px`},{overflow:"hidden"}])},[(0,s.createVNode)(c,{info:m.user_info,"no-name":1},null,8,["info"]),(0,s.createElementVNode)("view",{class:"right-gradient"})],4),m.betStr?((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:0,style:{"flex-direction":"row","margin-top":"10rpx"}},[(0,s.createElementVNode)("u-text",{class:"user-bet-for"},(0,s.toDisplayString)(m.betStr),1)])):(0,s.createCommentVNode)("",!0)])],4),(0,s.createElementVNode)("view",{class:"ver-line",style:(0,s.normalizeStyle)({height:`${m.lineH}rpx`})},null,4),(0,s.createElementVNode)("view",{class:"num-item center-align",style:(0,s.normalizeStyle)({width:`${r.getItemW[1]}px`})},[(0,s.createElementVNode)("u-text",{class:"small-title",style:{"margin-right":"4rpx"}},(0,s.toDisplayString)(m.total_bet),1),(0,s.createVNode)(l,{src:"s/my/i_coins.png",w:"22rpx",h:"22rpx"})],4),(0,s.createElementVNode)("view",{class:"ver-line",style:(0,s.normalizeStyle)({height:`${m.lineH}rpx`})},null,4),(0,s.createElementVNode)("view",{class:"num-item center-align",style:(0,s.normalizeStyle)({width:`${r.getItemW[1]}px`})},[(0,s.createElementVNode)("u-text",{class:"small-title",style:{"margin-right":"4rpx"}},(0,s.toDisplayString)(m.win_bet),1),(0,s.createVNode)(l,{src:"s/my/i_coins.png",w:"22rpx",h:"22rpx"})],4),(0,s.createElementVNode)("view",{class:"ver-line",style:(0,s.normalizeStyle)({height:`${m.lineH}rpx`})},null,4),(0,s.createElementVNode)("view",{class:"num-item center-align",style:(0,s.normalizeStyle)({width:`${r.getItemW[1]}px`})},[(0,s.createElementVNode)("u-text",{class:"price"},(0,s.toDisplayString)(m.prizes),1),(0,s.createVNode)(l,{src:"s/my/i_coins.png",w:"22rpx",h:"22rpx"})],4)]),_!=n.list.length-1?((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:0,class:"split-line"})):(0,s.createCommentVNode)("",!0)]))),128)),n.showEmpty?((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:0,class:"center-align",style:(0,s.normalizeStyle)({height:`${n.emptyHeight}px`})},[(0,s.createVNode)(l,{src:"s/game/empty_record.png",w:"182rpx",h:"168rpx"})],4)):(0,s.createCommentVNode)("",!0)]),(0,s.createElementVNode)("cell",null,[(0,s.createElementVNode)("view",{style:(0,s.normalizeStyle)({height:`${r.getSafeBottom}px`})},null,4)]),n.loadMore!="nomore"?((0,s.openBlock)(),(0,s.createElementBlock)("header",{key:0},[(0,s.createVNode)(u,{status:n.loadMore,color:"#FFFFFF"},null,8,["status"])])):(0,s.createCommentVNode)("",!0)],36),n.betInfo?((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:0,class:(0,s.normalizeClass)(["bottom-income",[n.betInfo.prizes>0?"center":"center-between"]]),style:(0,s.normalizeStyle)({paddingBottom:`${n.safeBottom}px`,width:`${n.sw}px`})},[(0,s.createElementVNode)("view",{class:"center",style:{"margin-left":"28rpx"}},[(0,s.createElementVNode)("view",{class:"center-align",style:(0,s.normalizeStyle)({width:`${r.getItemW[0]}px`})},[(0,s.createVNode)(l,{src:n.myInfo.small_avatar,w:"50rpx",h:"50rpx",radius:"25rpx"},null,8,["src"]),(0,s.createElementVNode)("view",{style:{"margin-left":"4rpx"}},[(0,s.createElementVNode)("u-text",{class:"nickname",style:(0,s.normalizeStyle)({"max-width":`${r.getItemW[2]}px`})},(0,s.toDisplayString)(n.myInfo.nickname),5),(0,s.createElementVNode)("view",{style:(0,s.normalizeStyle)([{"max-width":`${r.getItemW[2]}px`},{overflow:"hidden"}])},[(0,s.createVNode)(c,{info:n.myInfo,"no-name":1},null,8,["info"])],4)]),(0,s.createElementVNode)("view",{class:"right-gradient"})],4),(0,s.createElementVNode)("view",{class:"ver-line"}),(0,s.createElementVNode)("view",{class:"num-item center-align",style:(0,s.normalizeStyle)({width:`${r.getItemW[1]}px`})},[(0,s.createElementVNode)("u-text",{class:"small-title",style:{"margin-right":"4rpx"}},(0,s.toDisplayString)(n.betInfo.total_bet),1),(0,s.createVNode)(l,{src:"s/my/i_coins.png",w:"22rpx",h:"22rpx"})],4),(0,s.createElementVNode)("view",{class:"ver-line"}),(0,s.createElementVNode)("view",{class:"num-item center-align",style:(0,s.normalizeStyle)({width:`${r.getItemW[1]}px`})},[(0,s.createElementVNode)("u-text",{class:"small-title",style:{"margin-right":"4rpx"}},(0,s.toDisplayString)(n.betInfo.win_bet),1),(0,s.createVNode)(l,{src:"s/my/i_coins.png",w:"22rpx",h:"22rpx"})],4),(0,s.createElementVNode)("view",{class:"ver-line"}),n.betInfo.prizes>0?((0,s.openBlock)(),(0,s.createElementBlock)("view",{key:0,class:"num-item center-align",style:(0,s.normalizeStyle)({width:`${r.getItemW[1]}px`})},[(0,s.createElementVNode)("u-text",{class:"price"},(0,s.toDisplayString)(n.betInfo.prizes),1),(0,s.createVNode)(l,{src:"s/my/i_coins.png",w:"22rpx",h:"22rpx"})],4)):((0,s.openBlock)(),(0,s.createElementBlock)("u-text",{key:1,class:"num-item lose-str",style:(0,s.normalizeStyle)({width:`${r.getItemW[1]}px`})},(0,s.toDisplayString)(r.$str("lose")),5))])],6)):(0,s.createCommentVNode)("",!0)])}var fa=I(pc,[["render",gc],["styles",[dc]]]);var Du=ae(Rt());var hc={data(){return{sW:getApp().globalData.window.width,sH:getApp().globalData.window.height,user:{},roomId:0,singleBet:10,gameInfo:{},lastResult:{},forHerRate:[],plateHeight:0,rulesList:[],rateList:[],detailGameId:""}},computed:{tipStr(){return h("bet.youForBetting",{whom:Oe(this.user.sex)})}},methods:{$str:h,clickClose(){ii()},onOpenHistoryPop(e,t=""){e==1?this.$refs.gameRulesPop.open():e==2?this.$refs.gameLogsPop.open():e==3&&(this.detailGameId=t,this.$nextTick(()=>{this.$refs.gameDetailsPop.open()}))},onClickPrizeDetail(e){this.detailGameId=e,this.$refs.gameDetailsPop.open()},onClickHistoryLeft(e){e==1?this.$refs.gameRulesPop.close():e==2?this.$refs.gameLogsPop.close():e==3&&this.$refs.gameDetailsPop.close()},onGetPlateHeight(e){this.plateHeight||(this.plateHeight=e)},onMqttGameLotteryResult(e){let t=e.game_info.list;this.setGameInfo(e.game_info);let i=e.game_info.result;t[i].status=2;let a=Vn(e.game_info.game_id);a&&(i>=5?a.B&&(t[10].status=2):a.S&&(t[11].status=2),i%2==0?a.E&&(t[13].status=2):a.O&&(t[12].status=2)),this.$refs.gamePlate.changeBtnList(t)},onMqttGameReset(e){let t=e.game_info.list;this.setGameInfo(e.game_info),this.$refs.gamePlate.resetBtnList(t,e.game_info),e.last_result_info&&(this.lastResult=e.last_result_info)},onMqttGameBetListener(e){if(e.game_info.game_id!=this.gameInfo.game_id)return;let t=e.game_info.list;this.setGameInfo(e.game_info),this.$refs.gamePlate.changeBtnList(t)},setGameInfo(e){let t=JSON.parse(JSON.stringify(e));delete t.list,this.gameInfo=t,this.gameInfo=JSON.parse(JSON.stringify(t))},initView(e){H.request("/chat/game/bet-status",{room_id:this.roomId,for_uid:this.user.uid}).then(t=>{k("error","at pagesGame/bet-for-her.mixin.js:106","----> /chat/game/bet-status "+JSON.stringify(t)),this.singleBet=t.data.single_bet,this.lastResult=t.data.last_result_info,this.forHerRate=[t.data.game_info.bet_for_rate,t.data.game_info.bet_from_rate],Tt(t.data.account_money);let i=t.data.rule;if(i&&(this.rateList=i.rate,this.rulesList=i.playing_method),e){let a=t.data.game_info.list;this.setGameInfo(t.data.game_info),this.$nextTick(()=>{this.$refs.gamePlate.init(a,t.data.bet_info)})}else this.gameInfo.game_id!=t.data.game_info.game_id?t.data.game_info.status==0?this.onMqttGameReset(t.data):t.data.game_info.status==1?this.setGameInfo(t.data.game_info):(this.gameInfo.game_id=t.data.game_info.game_id,this.onMqttGameLotteryResult(t.data)):t.data.game_info.status==0?this.setGameInfo(t.data.game_info):t.data.game_info.status==1?this.setGameInfo(t.data.game_info):this.onMqttGameLotteryResult(t.data)})}},onLoad(){this.getOpenerEventChannel().on("betForHerData",e=>{this.user=e.user,this.roomId=e.roomId,this.initView(!0)}),uni.$on("event_game_lottery_result",this.onMqttGameLotteryResult),uni.$on("event_game_reset",this.onMqttGameReset),uni.$on("event_game_bet_listener",this.onMqttGameBetListener),uni.$on("event_game_call_user_leave",()=>{this.user.isLeave=!0}),uni.$on("event_app_show",this.initView)},unmounted(){uni.$off("event_game_lottery_result",this.onMqttGameLotteryResult),uni.$off("event_game_reset",this.onMqttGameReset),uni.$off("event_game_bet_listener",this.onMqttGameBetListener),uni.$off("event_game_call_user_leave"),uni.$off("event_app_show",this.initView)}},_c={"view-this":{"":{backgroundColor:"rgba(0,0,0,0.8)",alignItems:"center",justifyContent:"flex-end"}},"text-nickname":{"":{fontSize:"32rpx",fontWeight:"500",color:"#FFFFFF",marginTop:"10rpx",marginBottom:"6rpx"}},"view-tips":{"":{alignItems:"center",justifyContent:"center",height:"60rpx",marginTop:"32rpx",marginBottom:"32rpx"}},text:{".view-tips ":{color:"rgba(255,255,255,0.8)",fontSize:"24rpx"}},"text-cancel":{".view-tips ":{textDecoration:"underline",fontSize:"28rpx",fontWeight:"500",color:"#FFFFFF",position:"absolute",right:"80rpx"}}},bc={components:{GamePlate:la,GameHistory:ca,GameHistoryRules:ua,GameHistoryLogs:ma,GameHistoryDetails:fa},mixins:[hc],onBackPress(e){if(e.from=="backbutton")return!0}};function yc(e,t,i,a,n,r){let o=v((0,T.resolveDynamicComponent)("l-img"),W),l=v((0,T.resolveDynamicComponent)("u-base-info"),nt),c=(0,T.resolveComponent)("game-plate"),u=(0,T.resolveComponent)("game-history-rules"),m=(0,T.resolveComponent)("game-history"),_=(0,T.resolveComponent)("game-history-logs"),A=(0,T.resolveComponent)("game-history-details");return(0,T.openBlock)(),(0,T.createElementBlock)("scroll-view",{scrollY:!0,showScrollbar:!0,enableBackToTop:!0,bubble:"true",style:{flexDirection:"column"}},[(0,T.createElementVNode)("view",{class:"view-this",style:(0,T.normalizeStyle)({width:`${e.sW}px`,height:`${e.sH}px`})},[(0,T.createVNode)(o,{src:e.user.small_avatar,w:"200rpx",h:"200rpx",border:"2px solid #FFFFFF",radius:"100rpx"},null,8,["src"]),(0,T.createElementVNode)("u-text",{class:"text-nickname"},(0,T.toDisplayString)(e.user.nickname),1),(0,T.createVNode)(l,{info:e.user,"no-name":1,style:{"margin-bottom":"4rpx"}},null,8,["info"]),(0,T.createElementVNode)("view",{class:"view-tips",style:(0,T.normalizeStyle)({width:`${e.sW}px`})},[(0,T.createElementVNode)("u-text",{class:"text"},(0,T.toDisplayString)(e.tipStr),1),(0,T.createElementVNode)("u-text",{onClick:t[0]||(t[0]=(...x)=>e.clickClose&&e.clickClose(...x)),class:"text-cancel"},(0,T.toDisplayString)(e.$str("cancel")),1)],4),(0,T.createVNode)(c,{ref:"gamePlate","single-bet":e.singleBet,"game-info":e.gameInfo,"room-id":e.roomId,forHerRate:e.forHerRate,"target-user":e.user,"last-result":e.lastResult,"is-for-her":!0,"is-call-connect":!0,onOnGetPlateHeight:e.onGetPlateHeight,onOnOpenHistoryPop:e.onOpenHistoryPop},null,8,["single-bet","game-info","room-id","forHerRate","target-user","last-result","onOnGetPlateHeight","onOnOpenHistoryPop"]),(0,T.createVNode)(m,{ref:"gameRulesPop",height:e.plateHeight},{default:(0,T.withCtx)(()=>[(0,T.createVNode)(u,{onOnClickLeft:e.onClickHistoryLeft,height:e.plateHeight,rulesList:e.rulesList,rateList:e.rateList},null,8,["onOnClickLeft","height","rulesList","rateList"])]),_:1},8,["height"]),(0,T.createVNode)(m,{ref:"gameLogsPop",height:e.plateHeight},{default:(0,T.withCtx)(()=>[(0,T.createVNode)(_,{onOnClickLeft:e.onClickHistoryLeft,onOnClickPrizeDetail:e.onClickPrizeDetail,height:e.plateHeight},null,8,["onOnClickLeft","onOnClickPrizeDetail","height"])]),_:1},8,["height"]),(0,T.createVNode)(m,{ref:"gameDetailsPop",height:e.plateHeight},{default:(0,T.withCtx)(()=>[(0,T.createVNode)(A,{onOnClickLeft:e.onClickHistoryLeft,height:e.plateHeight,gameId:e.detailGameId},null,8,["onOnClickLeft","height","gameId"])]),_:1},8,["height"])],4)])}var It=I(bc,[["render",yc],["styles",[_c]]]);var hi=plus.webview.currentWebview();if(hi){let e=parseInt(hi.id),t="pagesGame/bet-for-her",i={};try{i=JSON.parse(hi.__query__)}catch(n){}It.mpType="page";let a=Vue.createPageApp(It,{$store:getApp({allowDefault:!0}).$store,__pageId:e,__pagePath:t,__pageQuery:i});a.provide("__globalStyles",Vue.useCssStyles([...__uniConfig.styles,...It.styles||[]])),a.mount("#root")}})();
/*!
  * @intlify/shared v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/message-resolver v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/runtime v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/message-compiler v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/core-base v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * vue-i18n v9.1.9
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */
