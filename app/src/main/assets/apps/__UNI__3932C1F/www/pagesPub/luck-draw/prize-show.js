"use weex:vue";

if (typeof Promise !== 'undefined' && !Promise.prototype.finally) {
  Promise.prototype.finally = function(callback) {
    const promise = this.constructor
    return this.then(
      value => promise.resolve(callback()).then(() => value),
      reason => promise.resolve(callback()).then(() => {
        throw reason
      })
    )
  }
};

if (typeof uni !== 'undefined' && uni && uni.requireGlobal) {
  const global = uni.requireGlobal()
  ArrayBuffer = global.ArrayBuffer
  Int8Array = global.Int8Array
  Uint8Array = global.Uint8Array
  Uint8ClampedArray = global.Uint8ClampedArray
  Int16Array = global.Int16Array
  Uint16Array = global.Uint16Array
  Int32Array = global.Int32Array
  Uint32Array = global.Uint32Array
  Float32Array = global.Float32Array
  Float64Array = global.Float64Array
  BigInt64Array = global.BigInt64Array
  BigUint64Array = global.BigUint64Array
};


(()=>{var Ha=Object.create;var Nt=Object.defineProperty,Wa=Object.defineProperties,ja=Object.getOwnPropertyDescriptor,Va=Object.getOwnPropertyDescriptors,za=Object.getOwnPropertyNames,Ei=Object.getOwnPropertySymbols,$a=Object.getPrototypeOf,xi=Object.prototype.hasOwnProperty,Ya=Object.prototype.propertyIsEnumerable;var Li=(e,t,i)=>t in e?Nt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,Rt=(e,t)=>{for(var i in t||(t={}))xi.call(t,i)&&Li(e,i,t[i]);if(Ei)for(var i of Ei(t))Ya.call(t,i)&&Li(e,i,t[i]);return e},ki=(e,t)=>Wa(e,Va(t));var vi=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ka=(e,t,i,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of za(t))!xi.call(e,a)&&a!==i&&Nt(e,a,{get:()=>t[a],enumerable:!(n=ja(t,a))||n.enumerable});return e};var K=(e,t,i)=>(i=e!=null?Ha($a(e)):{},Ka(t||!e||!e.__esModule?Nt(i,"default",{value:e,enumerable:!0}):i,e));var Ii=(e,t,i)=>new Promise((n,a)=>{var s=c=>{try{l(i.next(c))}catch(u){a(u)}},r=c=>{try{l(i.throw(c))}catch(u){a(u)}},l=c=>c.done?n(c.value):Promise.resolve(c.value).then(s,r);l((i=i.apply(e,t)).next())});var q=vi((uc,Ni)=>{Ni.exports=Vue});var Ot=vi((dc,Ri)=>{Ri.exports=uni.Vuex});var E=K(q()),sn=K(Ot());var Ja=e=>typeof e=="string";function we(e){return weex.requireModule(e)}function V(e,t,...i){uni.__log__?uni.__log__(e,t,...i):console[e].apply(console,[...i,t])}function U(e,t){return Ja(e)?t:e}var qa="dev",rn,on,ln,cn,un;rn="https://ztest1.candychat.link",cn="https://mtest2.candychat.link",un="https://atest3.267girl.com",on="https://pic2.candychat.link/",ln="https://pic3.candychat.link/";var Za={wv:"13.2.2",ENV:qa,apiHost:rn,ossPath:on,pApiHost:cn,oApiHost:un,ossPicPath:ln,zT:3,appId:plus.runtime.appid,appV:parseInt(plus.runtime.version.split(".").join("")),OSS_PATH_V:1,OSS_PIC_PATH_V:1,API_HOST_V:1,isAndroid:plus.os.name=="Android",PHOTO:1,VIDEO:2,VOICE:3,TXT:4,SYSTEM_ID:1e7,M_TEXT:1,M_VOICE:2,M_IMG:3,M_GIFT:5,M_NOTICE:6,M_CALL:8,M_RECOMMEND_USER:11,M_RECOMMEND_CLUB:12,M_VIDEO:18,M_GIFT_ASK:21,M_NOTICE_SYS:22,M_EXPRESSION:23,M_LETTER:24,M_PAID_PHOTO:25,M_PAID_VIDEO:26,M_MATCH_SUCCESS:27,M_N_DEF:100,M_N_AUDIT:103,M_N_VIP:104,M_N_RECHARGE:105,M_N_CLUB_AUDIT_REJECT:106,M_N_CLUB_AUDIT:107,M_N_GREETING_AUDIT:115,M_N_SYS_NOTICE:116,M_N_CALL:117,M_N_COOPERATE:118,M_N_WITHDRAW:119,M_N_REPORT_AUDIT:120,M_N_IMG:121,M_N_PRIVACY_CALL:122,M_N_WITHDRAW_NOTICE:123,M_N_WITH_MEDIA:124,M_N_MONITOR:202,M_C_RECHARGE:1001,M_C_CALL_TEXT_AUDIO:1002,M_CHAT_PRI:1,M_CHAT_CLUB:2,M_CHAT_ASS:3,M_CHAT_NOTICE:4,M_CHAT_NOTIFY:5,M_CHAT_CLUB_NOTICE:6,PAY_TYPE_SUCCESS:0,PAY_TYPE_FAIL:1,PAY_TYPE_CANCEL:2,PAY_TYPE_NOT_EXIST:3,PAY_TYPE_NOT_ALLOW:4,PAY_TYPE_ERROR:5,MATCH_PRICE:10},H=Za;var $e={FIND:0,USER:1,MSG:2,MY:3},ut={FIND:"/pages/user/index",MSG:"/pages/msg/index",CALL:"/pages/call-history/index",USER:"/pages/user/index",MY:"/pages/my/index"};var Xa={en:{title:"English",language:"en",code:"en-US"},es:{title:"espa\xF1ol",language:"es",code:"es-ES"},ar:{title:"\u0639\u0631\u0628\u064A",language:"ar",code:"ar-SA"},vi:{title:"Ti\u1EBFng Vi\u1EC7t",language:"vi",code:"vi-VN"},tr:{title:"T\xFCrk\xE7e",language:"tr",code:"tr-TR"},pt:{title:"Portugu\xEAs",language:"pt",code:"pt-PT"}};var he={GIFT:1,COIN:2,BOX:3},dn={LOAD:1,PLAY:2,PAUSE:3,FINISH:4,REPEAT:5,STEP:6,ERROR:0};var Qa={DISBAND:1,CHECK_RESULT:2};var es=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Ee=e=>es?Symbol(e):e,ts=(e,t,i)=>is({l:e,k:t,s:i}),is=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),ae=e=>typeof e=="number"&&isFinite(e),ns=e=>Jt(e)==="[object Date]",ht=e=>Jt(e)==="[object RegExp]",At=e=>I(e)&&Object.keys(e).length===0;function as(e,t){typeof console!="undefined"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}var oe=Object.assign;function Oi(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}var ss=Object.prototype.hasOwnProperty;function pn(e,t){return ss.call(e,t)}var te=Array.isArray,se=e=>typeof e=="function",D=e=>typeof e=="string",$=e=>typeof e=="boolean",re=e=>e!==null&&typeof e=="object",fn=Object.prototype.toString,Jt=e=>fn.call(e),I=e=>Jt(e)==="[object Object]",rs=e=>e==null?"":te(e)||I(e)&&e.toString===fn?JSON.stringify(e,null,2):String(e);var os=Object.prototype.hasOwnProperty;function ls(e,t){return os.call(e,t)}var gt=e=>e!==null&&typeof e=="object",Le=[];Le[0]={w:[0],i:[3,0],["["]:[4],o:[7]};Le[1]={w:[1],["."]:[2],["["]:[4],o:[7]};Le[2]={w:[2],i:[3,0],[0]:[3,0]};Le[3]={i:[3,0],[0]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};Le[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};Le[5]={["'"]:[4,0],o:8,l:[5,0]};Le[6]={['"']:[4,0],o:8,l:[6,0]};var cs=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function us(e){return cs.test(e)}function ds(e){let t=e.charCodeAt(0),i=e.charCodeAt(e.length-1);return t===i&&(t===34||t===39)?e.slice(1,-1):e}function ps(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function fs(e){let t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:us(t)?ds(t):"*"+t}function ms(e){let t=[],i=-1,n=0,a=0,s,r,l,c,u,p,_,b=[];b[0]=()=>{r===void 0?r=l:r+=l},b[1]=()=>{r!==void 0&&(t.push(r),r=void 0)},b[2]=()=>{b[0](),a++},b[3]=()=>{if(a>0)a--,n=4,b[0]();else{if(a=0,r===void 0||(r=fs(r),r===!1))return!1;b[1]()}};function S(){let g=e[i+1];if(n===5&&g==="'"||n===6&&g==='"')return i++,l="\\"+g,b[0](),!0}for(;n!==null;)if(i++,s=e[i],!(s==="\\"&&S())){if(c=ps(s),_=Le[n],u=_[c]||_.l||8,u===8||(n=u[0],u[1]!==void 0&&(p=b[u[1]],p&&(l=s,p()===!1))))return;if(n===7)return t}}var Fi=new Map;function _t(e,t){if(!gt(e))return null;let i=Fi.get(t);if(i||(i=ms(t),i&&Fi.set(t,i)),!i)return null;let n=i.length,a=e,s=0;for(;s<n;){let r=a[i[s]];if(r===void 0)return null;a=r,s++}return a}function Bt(e){if(!gt(e))return e;for(let t in e)if(ls(e,t))if(!t.includes("."))gt(e[t])&&Bt(e[t]);else{let i=t.split("."),n=i.length-1,a=e;for(let s=0;s<n;s++)i[s]in a||(a[i[s]]={}),a=a[i[s]];a[i[n]]=e[t],delete e[t],gt(a[i[n]])&&Bt(a[i[n]])}return e}var gs=e=>e,hs=e=>"",_s="text",bs=e=>e.length===0?"":e.join(""),ys=rs;function Mi(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function As(e){let t=ae(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(ae(e.named.count)||ae(e.named.n))?ae(e.named.count)?e.named.count:ae(e.named.n)?e.named.n:t:t}function ws(e,t){t.count||(t.count=e),t.n||(t.n=e)}function Cs(e={}){let t=e.locale,i=As(e),n=re(e.pluralRules)&&D(t)&&se(e.pluralRules[t])?e.pluralRules[t]:Mi,a=re(e.pluralRules)&&D(t)&&se(e.pluralRules[t])?Mi:void 0,s=w=>w[n(i,w.length,a)],r=e.list||[],l=w=>r[w],c=e.named||{};ae(e.pluralIndex)&&ws(i,c);let u=w=>c[w];function p(w){let v=se(e.messages)?e.messages(w):re(e.messages)?e.messages[w]:!1;return v||(e.parent?e.parent.message(w):hs)}let _=w=>e.modifiers?e.modifiers[w]:gs,b=I(e.processor)&&se(e.processor.normalize)?e.processor.normalize:bs,S=I(e.processor)&&se(e.processor.interpolate)?e.processor.interpolate:ys,g=I(e.processor)&&D(e.processor.type)?e.processor.type:_s,L={list:l,named:u,plural:s,linked:(w,v)=>{let W=p(w)(L);return D(v)?_(v)(W):W},message:p,type:g,interpolate:S,normalize:b};return L}function mn(e,t,i={}){let{domain:n,messages:a,args:s}=i,r=e,l=new SyntaxError(String(r));return l.code=e,t&&(l.location=t),l.domain=n,l}var Ss="9.1.9",wt=-1,Pi="";function Ds(){return{upper:e=>D(e)?e.toUpperCase():e,lower:e=>D(e)?e.toLowerCase():e,capitalize:e=>D(e)?`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`:e}}var Ts,Bi=0;function Es(e={}){let t=D(e.version)?e.version:Ss,i=D(e.locale)?e.locale:"en-US",n=te(e.fallbackLocale)||I(e.fallbackLocale)||D(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:i,a=I(e.messages)?e.messages:{[i]:{}},s=I(e.datetimeFormats)?e.datetimeFormats:{[i]:{}},r=I(e.numberFormats)?e.numberFormats:{[i]:{}},l=oe({},e.modifiers||{},Ds()),c=e.pluralRules||{},u=se(e.missing)?e.missing:null,p=$(e.missingWarn)||ht(e.missingWarn)?e.missingWarn:!0,_=$(e.fallbackWarn)||ht(e.fallbackWarn)?e.fallbackWarn:!0,b=!!e.fallbackFormat,S=!!e.unresolving,g=se(e.postTranslation)?e.postTranslation:null,L=I(e.processor)?e.processor:null,w=$(e.warnHtmlMessage)?e.warnHtmlMessage:!0,v=!!e.escapeParameter,W=se(e.messageCompiler)?e.messageCompiler:Ts,B=se(e.onWarn)?e.onWarn:as,C=e,O=re(C.__datetimeFormatters)?C.__datetimeFormatters:new Map,pe=re(C.__numberFormatters)?C.__numberFormatters:new Map,Fe=re(C.__meta)?C.__meta:{};return Bi++,{version:t,cid:Bi,locale:i,fallbackLocale:n,messages:a,datetimeFormats:s,numberFormats:r,modifiers:l,pluralRules:c,missing:u,missingWarn:p,fallbackWarn:_,fallbackFormat:b,unresolving:S,postTranslation:g,processor:L,warnHtmlMessage:w,escapeParameter:v,messageCompiler:W,onWarn:B,__datetimeFormatters:O,__numberFormatters:pe,__meta:Fe}}function qt(e,t,i,n,a){let{missing:s,onWarn:r}=e;if(s!==null){let l=s(e,i,t,a);return D(l)?l:t}else return t}function at(e,t,i){let n=e;n.__localeChainCache||(n.__localeChainCache=new Map);let a=n.__localeChainCache.get(i);if(!a){a=[];let s=[i];for(;te(s);)s=Ui(a,s,t);let r=te(t)?t:I(t)?t.default?t.default:null:t;s=D(r)?[r]:r,te(s)&&Ui(a,s,!1),n.__localeChainCache.set(i,a)}return a}function Ui(e,t,i){let n=!0;for(let a=0;a<t.length&&$(n);a++){let s=t[a];D(s)&&(n=Ls(e,t[a],i))}return n}function Ls(e,t,i){let n,a=t.split("-");do{let s=a.join("-");n=xs(e,s,i),a.splice(-1,1)}while(a.length&&n===!0);return n}function xs(e,t,i){let n=!1;if(!e.includes(t)&&(n=!0,t)){n=t[t.length-1]!=="!";let a=t.replace(/!/g,"");e.push(a),(te(i)||I(i))&&i[a]&&(n=i[a])}return n}function Qe(e,t,i){let n=e;n.__localeChainCache=new Map,at(e,i,t)}function Ve(e){return mn(e,null,void 0)}var Gi=()=>"",Ue=e=>se(e);function Hi(e,...t){let{fallbackFormat:i,postTranslation:n,unresolving:a,fallbackLocale:s,messages:r}=e,[l,c]=Ut(...t),u=$(c.missingWarn)?c.missingWarn:e.missingWarn,p=$(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,_=$(c.escapeParameter)?c.escapeParameter:e.escapeParameter,b=!!c.resolvedMessage,S=D(c.default)||$(c.default)?$(c.default)?l:c.default:i?l:"",g=i||S!=="",L=D(c.locale)?c.locale:e.locale;_&&ks(c);let[w,v,W]=b?[l,L,r[L]||{}]:vs(e,l,L,s,p,u),B=l;if(!b&&!(D(w)||Ue(w))&&g&&(w=S,B=w),!b&&(!(D(w)||Ue(w))||!D(v)))return a?wt:l;let C=!1,O=()=>{C=!0},pe=Ue(w)?w:gn(e,l,v,w,B,O);if(C)return w;let Fe=Rs(e,v,W,c),ue=Cs(Fe),fe=Is(e,pe,ue);return n?n(fe):fe}function ks(e){te(e.list)?e.list=e.list.map(t=>D(t)?Oi(t):t):re(e.named)&&Object.keys(e.named).forEach(t=>{D(e.named[t])&&(e.named[t]=Oi(e.named[t]))})}function vs(e,t,i,n,a,s){let{messages:r,onWarn:l}=e,c=at(e,n,i),u={},p,_=null,b="translate";for(let S=0;S<c.length&&(p=c[S],u=r[p]||{},(_=_t(u,t))===null&&(_=u[t]),!(D(_)||se(_)));S++){let g=qt(e,t,p,s,b);g!==t&&(_=g)}return[_,p,u]}function gn(e,t,i,n,a,s){let{messageCompiler:r,warnHtmlMessage:l}=e;if(Ue(n)){let u=n;return u.locale=u.locale||i,u.key=u.key||t,u}let c=r(n,Ns(e,i,a,n,l,s));return c.locale=i,c.key=t,c.source=n,c}function Is(e,t,i){return t(i)}function Ut(...e){let[t,i,n]=e,a={};if(!D(t)&&!ae(t)&&!Ue(t))throw Ve(14);let s=ae(t)?String(t):(Ue(t),t);return ae(i)?a.plural=i:D(i)?a.default=i:I(i)&&!At(i)?a.named=i:te(i)&&(a.list=i),ae(n)?a.plural=n:D(n)?a.default=n:I(n)&&oe(a,n),[s,a]}function Ns(e,t,i,n,a,s){return{warnHtmlMessage:a,onError:r=>{throw s&&s(r),r},onCacheKey:r=>ts(t,i,r)}}function Rs(e,t,i,n){let{modifiers:a,pluralRules:s}=e,l={locale:t,modifiers:a,pluralRules:s,messages:c=>{let u=_t(i,c);if(D(u)){let p=!1,b=gn(e,c,t,u,c,()=>{p=!0});return p?Gi:b}else return Ue(u)?u:Gi}};return e.processor&&(l.processor=e.processor),n.list&&(l.list=n.list),n.named&&(l.named=n.named),ae(n.plural)&&(l.pluralIndex=n.plural),l}function Wi(e,...t){let{datetimeFormats:i,unresolving:n,fallbackLocale:a,onWarn:s}=e,{__datetimeFormatters:r}=e,[l,c,u,p]=Gt(...t),_=$(u.missingWarn)?u.missingWarn:e.missingWarn;$(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;let b=!!u.part,S=D(u.locale)?u.locale:e.locale,g=at(e,a,S);if(!D(l)||l==="")return new Intl.DateTimeFormat(S).format(c);let L={},w,v=null,W="datetime format";for(let O=0;O<g.length&&(w=g[O],L=i[w]||{},v=L[l],!I(v));O++)qt(e,l,w,_,W);if(!I(v)||!D(w))return n?wt:l;let B=`${w}__${l}`;At(p)||(B=`${B}__${JSON.stringify(p)}`);let C=r.get(B);return C||(C=new Intl.DateTimeFormat(w,oe({},v,p)),r.set(B,C)),b?C.formatToParts(c):C.format(c)}function Gt(...e){let[t,i,n,a]=e,s={},r={},l;if(D(t)){if(!/\d{4}-\d{2}-\d{2}(T.*)?/.test(t))throw Ve(16);l=new Date(t);try{l.toISOString()}catch(c){throw Ve(16)}}else if(ns(t)){if(isNaN(t.getTime()))throw Ve(15);l=t}else if(ae(t))l=t;else throw Ve(14);return D(i)?s.key=i:I(i)&&(s=i),D(n)?s.locale=n:I(n)&&(r=n),I(a)&&(r=a),[s.key||"",l,s,r]}function ji(e,t,i){let n=e;for(let a in i){let s=`${t}__${a}`;n.__datetimeFormatters.has(s)&&n.__datetimeFormatters.delete(s)}}function Vi(e,...t){let{numberFormats:i,unresolving:n,fallbackLocale:a,onWarn:s}=e,{__numberFormatters:r}=e,[l,c,u,p]=Ht(...t),_=$(u.missingWarn)?u.missingWarn:e.missingWarn;$(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;let b=!!u.part,S=D(u.locale)?u.locale:e.locale,g=at(e,a,S);if(!D(l)||l==="")return new Intl.NumberFormat(S).format(c);let L={},w,v=null,W="number format";for(let O=0;O<g.length&&(w=g[O],L=i[w]||{},v=L[l],!I(v));O++)qt(e,l,w,_,W);if(!I(v)||!D(w))return n?wt:l;let B=`${w}__${l}`;At(p)||(B=`${B}__${JSON.stringify(p)}`);let C=r.get(B);return C||(C=new Intl.NumberFormat(w,oe({},v,p)),r.set(B,C)),b?C.formatToParts(c):C.format(c)}function Ht(...e){let[t,i,n,a]=e,s={},r={};if(!ae(t))throw Ve(14);let l=t;return D(i)?s.key=i:I(i)&&(s=i),D(n)?s.locale=n:I(n)&&(r=n),I(a)&&(r=a),[s.key||"",l,s,r]}function zi(e,t,i){let n=e;for(let a in i){let s=`${t}__${a}`;n.__numberFormatters.has(s)&&n.__numberFormatters.delete(s)}}var Os="9.1.9";function Pe(e,...t){return mn(e,null,void 0)}var Wt=Ee("__transrateVNode"),jt=Ee("__datetimeParts"),Vt=Ee("__numberParts");Ee("__enableEmitter");Ee("__disableEmitter");var Fs=Ee("__setPluralRules");Ee("__intlifyMeta");var hn=Ee("__injectWithOption"),$i=0;function Yi(e){return(t,i,n,a)=>e(i,n,(0,E.getCurrentInstance)()||void 0,a)}function _n(e,t){let{messages:i,__i18n:n}=t,a=I(i)?i:te(n)?{}:{[e]:{}};if(te(n)&&n.forEach(({locale:s,resource:r})=>{s?(a[s]=a[s]||{},bt(r,a[s])):bt(r,a)}),t.flatJson)for(let s in a)pn(a,s)&&Bt(a[s]);return a}var dt=e=>!re(e)||te(e);function bt(e,t){if(dt(e)||dt(t))throw Pe(20);for(let i in e)pn(e,i)&&(dt(e[i])||dt(t[i])?t[i]=e[i]:bt(e[i],t[i]))}function Ms(e={}){let{__root:t}=e,i=t===void 0,n=$(e.inheritLocale)?e.inheritLocale:!0,a=(0,E.ref)(t&&n?t.locale.value:D(e.locale)?e.locale:"en-US"),s=(0,E.ref)(t&&n?t.fallbackLocale.value:D(e.fallbackLocale)||te(e.fallbackLocale)||I(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:a.value),r=(0,E.ref)(_n(a.value,e)),l=(0,E.ref)(I(e.datetimeFormats)?e.datetimeFormats:{[a.value]:{}}),c=(0,E.ref)(I(e.numberFormats)?e.numberFormats:{[a.value]:{}}),u=t?t.missingWarn:$(e.missingWarn)||ht(e.missingWarn)?e.missingWarn:!0,p=t?t.fallbackWarn:$(e.fallbackWarn)||ht(e.fallbackWarn)?e.fallbackWarn:!0,_=t?t.fallbackRoot:$(e.fallbackRoot)?e.fallbackRoot:!0,b=!!e.fallbackFormat,S=se(e.missing)?e.missing:null,g=se(e.missing)?Yi(e.missing):null,L=se(e.postTranslation)?e.postTranslation:null,w=$(e.warnHtmlMessage)?e.warnHtmlMessage:!0,v=!!e.escapeParameter,W=t?t.modifiers:I(e.modifiers)?e.modifiers:{},B=e.pluralRules||t&&t.pluralRules,C;function O(){return Es({version:Os,locale:a.value,fallbackLocale:s.value,messages:r.value,messageCompiler:function(y){return me=>me.normalize([y])},datetimeFormats:l.value,numberFormats:c.value,modifiers:W,pluralRules:B,missing:g===null?void 0:g,missingWarn:u,fallbackWarn:p,fallbackFormat:b,unresolving:!0,postTranslation:L===null?void 0:L,warnHtmlMessage:w,escapeParameter:v,__datetimeFormatters:I(C)?C.__datetimeFormatters:void 0,__numberFormatters:I(C)?C.__numberFormatters:void 0,__v_emitter:I(C)?C.__v_emitter:void 0,__meta:{framework:"vue"}})}C=O(),Qe(C,a.value,s.value);function pe(){return[a.value,s.value,r.value,l.value,c.value]}let Fe=(0,E.computed)({get:()=>a.value,set:f=>{a.value=f,C.locale=a.value}}),ue=(0,E.computed)({get:()=>s.value,set:f=>{s.value=f,C.fallbackLocale=s.value,Qe(C,a.value,f)}}),fe=(0,E.computed)(()=>r.value),Ae=(0,E.computed)(()=>l.value),rt=(0,E.computed)(()=>c.value);function ot(){return se(L)?L:null}function lt(f){L=f,C.postTranslation=f}function vt(){return S}function ya(f){f!==null&&(g=Yi(f)),S=f,C.missing=g}function He(f,y,me,ne,It,ct){pe();let Xe;if(Xe=f(C),ae(Xe)&&Xe===wt){let[Ga,lc]=y();return t&&_?ne(t):It(Ga)}else{if(ct(Xe))return Xe;throw Pe(14)}}function Di(...f){return He(y=>Hi(y,...f),()=>Ut(...f),"translate",y=>y.t(...f),y=>y,y=>D(y))}function Aa(...f){let[y,me,ne]=f;if(ne&&!re(ne))throw Pe(15);return Di(y,me,oe({resolvedMessage:!0},ne||{}))}function wa(...f){return He(y=>Wi(y,...f),()=>Gt(...f),"datetime format",y=>y.d(...f),()=>Pi,y=>D(y))}function Ca(...f){return He(y=>Vi(y,...f),()=>Ht(...f),"number format",y=>y.n(...f),()=>Pi,y=>D(y))}function Sa(f){return f.map(y=>D(y)?(0,E.createVNode)(E.Text,null,y,0):y)}let Da={normalize:Sa,interpolate:f=>f,type:"vnode"};function Ta(...f){return He(y=>{let me,ne=y;try{ne.processor=Da,me=Hi(ne,...f)}finally{ne.processor=null}return me},()=>Ut(...f),"translate",y=>y[Wt](...f),y=>[(0,E.createVNode)(E.Text,null,y,0)],y=>te(y))}function Ea(...f){return He(y=>Vi(y,...f),()=>Ht(...f),"number format",y=>y[Vt](...f),()=>[],y=>D(y)||te(y))}function La(...f){return He(y=>Wi(y,...f),()=>Gt(...f),"datetime format",y=>y[jt](...f),()=>[],y=>D(y)||te(y))}function xa(f){B=f,C.pluralRules=B}function ka(f,y){let me=D(y)?y:a.value,ne=Ti(me);return _t(ne,f)!==null}function va(f){let y=null,me=at(C,s.value,a.value);for(let ne=0;ne<me.length;ne++){let It=r.value[me[ne]]||{},ct=_t(It,f);if(ct!=null){y=ct;break}}return y}function Ia(f){let y=va(f);return y!=null?y:t?t.tm(f)||{}:{}}function Ti(f){return r.value[f]||{}}function Na(f,y){r.value[f]=y,C.messages=r.value}function Ra(f,y){r.value[f]=r.value[f]||{},bt(y,r.value[f]),C.messages=r.value}function Oa(f){return l.value[f]||{}}function Fa(f,y){l.value[f]=y,C.datetimeFormats=l.value,ji(C,f,y)}function Ma(f,y){l.value[f]=oe(l.value[f]||{},y),C.datetimeFormats=l.value,ji(C,f,y)}function Pa(f){return c.value[f]||{}}function Ba(f,y){c.value[f]=y,C.numberFormats=c.value,zi(C,f,y)}function Ua(f,y){c.value[f]=oe(c.value[f]||{},y),C.numberFormats=c.value,zi(C,f,y)}return $i++,t&&((0,E.watch)(t.locale,f=>{n&&(a.value=f,C.locale=f,Qe(C,a.value,s.value))}),(0,E.watch)(t.fallbackLocale,f=>{n&&(s.value=f,C.fallbackLocale=f,Qe(C,a.value,s.value))})),{id:$i,locale:Fe,fallbackLocale:ue,get inheritLocale(){return n},set inheritLocale(f){n=f,f&&t&&(a.value=t.locale.value,s.value=t.fallbackLocale.value,Qe(C,a.value,s.value))},get availableLocales(){return Object.keys(r.value).sort()},messages:fe,datetimeFormats:Ae,numberFormats:rt,get modifiers(){return W},get pluralRules(){return B||{}},get isGlobal(){return i},get missingWarn(){return u},set missingWarn(f){u=f,C.missingWarn=u},get fallbackWarn(){return p},set fallbackWarn(f){p=f,C.fallbackWarn=p},get fallbackRoot(){return _},set fallbackRoot(f){_=f},get fallbackFormat(){return b},set fallbackFormat(f){b=f,C.fallbackFormat=b},get warnHtmlMessage(){return w},set warnHtmlMessage(f){w=f,C.warnHtmlMessage=f},get escapeParameter(){return v},set escapeParameter(f){v=f,C.escapeParameter=f},t:Di,rt:Aa,d:wa,n:Ca,te:ka,tm:Ia,getLocaleMessage:Ti,setLocaleMessage:Na,mergeLocaleMessage:Ra,getDateTimeFormat:Oa,setDateTimeFormat:Fa,mergeDateTimeFormat:Ma,getNumberFormat:Pa,setNumberFormat:Ba,mergeNumberFormat:Ua,getPostTranslationHandler:ot,setPostTranslationHandler:lt,getMissingHandler:vt,setMissingHandler:ya,[Wt]:Ta,[Vt]:Ea,[jt]:La,[Fs]:xa,[hn]:e.__injectWithOption}}var Zt={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};oe({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>ae(e)||!isNaN(e)}},Zt);function Ps({slots:e},t){return t.length===1&&t[0]==="default"?e.default?e.default():[]:t.reduce((i,n)=>{let a=e[n];return a&&(i[n]=a()),i},{})}function bn(e,t,i,n){let{slots:a,attrs:s}=t;return()=>{let r={part:!0},l={};e.locale&&(r.locale=e.locale),D(e.format)?r.key=e.format:re(e.format)&&(D(e.format.key)&&(r.key=e.format.key),l=Object.keys(e.format).reduce((_,b)=>i.includes(b)?oe({},_,{[b]:e.format[b]}):_,{}));let c=n(e.value,r,l),u=[r.key];te(c)?u=c.map((_,b)=>{let S=a[_.type];return S?S({[_.type]:_.value,index:b,parts:c}):[_.value]}):D(c)&&(u=[c]);let p=oe({},s);return D(e.tag)?(0,E.h)(e.tag,p,u):re(e.tag)?(0,E.h)(e.tag,p,u):(0,E.h)(E.Fragment,p,u)}}var Bs=["localeMatcher","style","unit","unitDisplay","currency","currencyDisplay","useGrouping","numberingSystem","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","notation","formatMatcher"];oe({value:{type:Number,required:!0},format:{type:[String,Object]}},Zt);var Us=["dateStyle","timeStyle","fractionalSecondDigits","calendar","dayPeriod","numberingSystem","localeMatcher","timeZone","hour12","hourCycle","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"];oe({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Zt);function Xt(e={}){let t=(0,E.getCurrentInstance)();if(t==null)throw Pe(16);if(!t.appContext.app.__VUE_I18N_SYMBOL__)throw Pe(17);let i=(0,E.inject)(t.appContext.app.__VUE_I18N_SYMBOL__);if(!i)throw Pe(22);let n=i.mode==="composition"?i.global:i.global.__composer,a=At(e)?"__i18n"in t.type?"local":"global":e.useScope?e.useScope:"local";if(a==="global"){let l=re(e.messages)?e.messages:{};"__i18nGlobal"in t.type&&(l=_n(n.locale.value,{messages:l,__i18n:t.type.__i18nGlobal}));let c=Object.keys(l);if(c.length&&c.forEach(u=>{n.mergeLocaleMessage(u,l[u])}),re(e.datetimeFormats)){let u=Object.keys(e.datetimeFormats);u.length&&u.forEach(p=>{n.mergeDateTimeFormat(p,e.datetimeFormats[p])})}if(re(e.numberFormats)){let u=Object.keys(e.numberFormats);u.length&&u.forEach(p=>{n.mergeNumberFormat(p,e.numberFormats[p])})}return n}if(a==="parent"){let l=Gs(i,t,e.__useComponent);return l==null&&(l=n),l}if(i.mode==="legacy")throw Pe(18);let s=i,r=s.__getInstance(t);if(r==null){let l=t.type,c=oe({},e);l.__i18n&&(c.__i18n=l.__i18n),n&&(c.__root=n),r=Ms(c),Hs(s,t),s.__setInstance(t,r)}return r}function Gs(e,t,i=!1){let n=null,a=t.root,s=t.parent;for(;s!=null;){let r=e;if(e.mode==="composition")n=r.__getInstance(s);else{let l=r.__getInstance(s);l!=null&&(n=l.__composer),i&&n&&!n[hn]&&(n=null)}if(n!=null||a===s)break;s=s.parent}return n}function Hs(e,t,i){(0,E.onMounted)(()=>{},t),(0,E.onUnmounted)(()=>{e.__deleteInstance(t)},t)}function z(e,t,i=!1,n=null){let a=Qt(e,i);n?uni.setStorage({key:a,data:t,success:n}):uni.setStorageSync(a,t)}function N(e,t=!1,i=null){let n=Qt(e,t);if(i)uni.getStorage({key:n,success:i});else return uni.getStorageSync(n)}function Ce(e,t=!1){uni.removeStorage({key:Qt(e,t)})}function Qt(e,t){return t?`_a_${e}`:`m_${e}`}function Ws(e,t){let i=t;return typeof t=="undefined"&&(i=getApp().globalData.uid),N(e+"_"+i)}var Ki={NONE:0,WAITING:1,GAME:2,WEEK_UP:3,JUDGE_ROOM:100};function yn(e){return e==1?x("himLower"):x("herLower")}function An(e){return`${e} ${e>1?x("coinsLower"):x("coinLower")}`}function A(e){return typeof e=="undefined"||e==null||e==""}function js(e){return e===""||e===null}var pt=new Promise(()=>{});function Vs(e,t,i=""){if(A(e))return"";let n=[];for(let a in e)n.push(a+"="+e[a]);return i+n.join(t)}function ft(e){return typeof e=="number"?e+"":typeof e=="boolean"?e?"true":"false":A(e)?"null":typeof e=="object"?JSON.stringify(e):e}function Be(e){return e.replace(new RegExp("'","gm"),"\uFF07")}function wn(e){return e.replace(new RegExp("\uFF07","gm"),"'")}function Cn(e,t=18){if(A(e))return"";let i=new Date(Date.parse(e.replace(/-/g,"/"))),n=Math.ceil((new Date().getTime()-i)/31536e6),a=n>1?n-1:n;return a<t?t:a}function Me(e){return e<10?"0"+e:e}function Sn(e,t=!1,i=!1,n=!0){e<1e10&&(e=e*1e3);var a=new Date(e),s=a.getFullYear(),r=a.getMonth()+1,l=a.getDate(),c=a.getHours(),u=a.getMinutes(),p=a.getSeconds();let _=t?`${s}-`:"";if(i)return _+Me(r)+"-"+Me(l);{let b=n?":"+Me(p):"";return _+Me(r)+"-"+Me(l)+" "+Me(c)+":"+Me(u)+b}}function ei(e){try{let t=JSON.parse(e);if(typeof t=="object")return t}catch(t){}return!1}function Dn(e,t){for(let i in e)if(t[i]!=null&&e[i]!=t[i])return!0;return!1}function zs(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var et={adminAgencyList:"/pagesAdmin/agency/list",adminAgencyDetail:"/pagesAdmin/agency/agency-detail",adminAgencyEdit:"/pagesAdmin/agency/agency-edit",adminAgencyEditPrice:"/pagesAdmin/agency/agency-edit-price",adminAgencyEditWithdrawInfo:"/pagesAdmin/agency/withdraw-info",adminAgencyEditName:"/pagesAdmin/agency/agency-edit-nickname",adminAgencyEditCountry:"/pagesAdmin/agency/agency-edit-country",adminAgencyEditEmail:"/pagesAdmin/agency/agency-edit-email",adminAgencyEditWhatsApp:"/pagesAdmin/agency/agency-edit-whatsapp",adminAgencyInvited:"/pagesAdmin/agency/invited",adminAgencyListSub:"/pagesAdmin/agency/list-sub",adminAgencyGirlsList:"/pagesAdmin/agency/girls-list",adminAgencyGirlsListSub:"/pagesAdmin/agency/girls-list-sub",adminAgencyDataPanel:"/pagesAdmin/agency/data-panel",adminAgencyDataHistory:"/pagesAdmin/agency/data-history",adminAgencyDataDetail:"/pagesAdmin/agency/data-detail",adminAgencyDataDetailTask:"/pagesAdmin/agency/data-detail-task",adminAgencyWithdrawRecords:"/pagesAdmin/agency/withdraw-records",adminAgencyWalletDetail:"/pagesAdmin/agency/wallet-detail",adminAgencyHandleBan:"/pagesAdmin/agency/handle-ban",adminAgencyHandleDelete:"/pagesAdmin/agency/handle-delete",adminAgencySelected:"/pagesAdmin/agency/selected-agency",adminAgencyStatus:"/pagesAdmin/agency/agency-status",adminAgencySubAgencyList:"/pagesAdmin/agency/sub-agency-list",adminAgencyWithdrawGirlList:"/pagesAdmin/agency/withdraw/girl-list",adminAgencyWithdrawSubAgentList:"/pagesAdmin/agency/withdraw/sub-agent-list",adminAgencyWithdrawSettlementDetail:"/pagesAdmin/agency/withdraw/settlement-detail",adminAgencyWithdrawEntiretyDetail:"/pagesAdmin/agency/withdraw/entirety-detail",adminAgencyWithdrawEntiretyDetailReject:"/pagesAdmin/agency/withdraw/entirety-detail-reject",adminAgencyHistoricalMemberList:"/pagesAdmin/agency/historical-list",adminAgencyWithdrawSubAgentDetail:"/pagesAdmin/agency/withdraw/sub-agent-detail",adminAuditSettlement:"/pagesAdmin/auditNew/settlement",adminAuditSettlementSub:"/pagesAdmin/auditNew/settlement-sub",adminAuditWithdraw:"/pagesAdmin/auditNew/withdraw",adminAuditWithdrawCashList:"/pagesAdmin/audit/withdraw-cash-list",adminWallet:"/pagesAdmin/wallet/wallet",adminWalletCoinStat:"/pagesAdmin/wallet/coin-stat",adminAgencyAnchorDetail:"/pagesAdmin/agencyManager/anchor-detail",adminChannelBackend:"/pagesAdmin/channel/channel-backend",adminAuditAgencyAvatar:"/pagesAdmin/auditNew/agency-avatar",adminAuditAgencyName:"/pagesAdmin/auditNew/agency-name",adminAuditCheckAllUnderReview:"/pagesAdmin/audit/check-all-under-review",adminPermissionWebManage:"/pagesAdmin/more/permission-web-manage",adminPermissionList:"/pagesAdmin/more/permission-list",adminPermissionEdit:"/pagesAdmin/more/permission-edit",adminPermissionNewAccount:"/pagesAdmin/more/permission-new-account",adminPermissionChooseRole:"/pagesAdmin/more/permission-choose-role",adminPermissionNewRole:"/pagesAdmin/more/permission-new-role",adminWhiteList:"/pagesAdmin/more/white-list",adminCallEvaluationList:"/pagesAdmin/user/call-evaluation-list",adminWarnDeviceUser:"/pagesAdmin/user/ban-device-user",adminWarnList:"/pagesAdmin/audit/warn-list",adminVersionUseList:"/pagesAdmin/more/version-use-list",adminAuditSettlementReview:"/pagesAdmin/auditNew/settlement-review",adminAuditWithdrawReview:"/pagesAdmin/auditNew/withdraw-review",adminClubApplication:"/pagesAdmin/auditNew/club-application",adminClubModification:"/pagesAdmin/auditNew/club-modification",adminClubManagement:"/pagesAdmin/club/management",warningDialog:"/pagesDialog/warning",homeFilterSexGuide:"/pagesDialog/home-filter-sex-guide",club:"/pagesClub/club",clubReachLevel:"/pagesDialog/club-reach-level",clubStatusRemind:"/pagesDialog/club-status-remind",clubApplyCreate:"/pagesClub/apply-create",clubCreateSuccess:"/pagesClub/create-success",clubRules:"/pagesDialog/club-rules",clubApplicationList:"/pagesClub/application-list",clubWarning:"/pagesDialog/club-warning",clubDisband:"/pagesDialog/club-disband",adminClubManagementSub:"/pagesAdmin/club/management-sub",adminClubTodayNew:"/pagesAdmin/club/club-today-new",adminClubNormal:"/pagesAdmin/club/club-normal",adminClubManageGirls:"/pagesAdmin/club/club-manage-girls",adminClubOperator:"/pagesAdmin/club/club-operator",adminClubDisbanded:"/pagesAdmin/club/club-disbanded",adminClubMemberList:"/pagesAdmin/club/member-new",adminClubInfo:"/pagesAdmin/club/detail-new",adminCLubWarning:"/pagesAdmin/club/warning",adminClubOperatorLog:"/pagesAdmin/club/operation-log",adminClubPersonalApplication:"/pagesAdmin/auditNew/club-application-personal",adminOutsourcingIndex:"/pagesAdmin/more/outsourcing/index",adminOutsourcingPermissionList:"/pagesAdmin/more/outsourcing/permission-list",adminOutsourcingNewRole:"/pagesAdmin/more/outsourcing/new-role",adminOutsourcingEditRole:"/pagesAdmin/more/outsourcing/edit-role",adminRefundDetail:"/pagesAdmin/refund/detail"};function Tn(e,t){let i=et[e];return i||(i=e),i+Vs(t,"&","?")}function ge(e,t=null,i=null,n=!1){let a=Tn(e,t),s={url:a,fail:r=>{V("error","at common/route.js:107",`\u6253\u5F00\u9875\u9762\u5931\u8D25${a} ${JSON.stringify(r)}`),getApp().globalData.appCRE&&a.startsWith("/pagesAdmin")&&H.zT!=3&&M.request("/sign/reload-route",{},!0)}};n&&(s=Object.assign(s,n)),i!=null&&(s.events=i),uni.navigateTo(s)}function J(e,t,i,n,a=null){let r={url:Tn(e,t),success(l){l.eventChannel.emit(i,n)}};a!=null&&(r.events=a),uni.navigateTo(r)}function ti(e=1,t="",i=""){let n={delta:e};t&&(n.animationType=t),i&&(n.animationDuration=i),uni.navigateBack(n)}function Ct(){let e=[],t=getCurrentPages();for(let i=0,n=t.length;i<n;i++){let a=t[i].$page;e.push(a.path)}return e}function St(e="path"){let t=getCurrentPages(),i=t[t.length-1];if(!i)return"";let n=i.$page;return n?n[e]:""}function $s(e,t=null,i=null){let a={uid:typeof e=="object"?e.uid:e};i&&(a=Object.assign(a,i)),J("/pagesMsg/pri/chat",a,"priData",{user:e,extra:t})}function En(e,t=!0){return e.startsWith("http")?e:e.startsWith("file://")?t?e:e.replace("file://",""):e.startsWith("/storage/")||e.startsWith("/var/mobile/")?t?`file://${e}`:e:e.startsWith("_doc/uniapp")?t?e:plus.io.convertLocalFileSystemURL(e):e.indexOf("apps/__UNI")!=-1?e:!1}var Ys=[{key:"tr",title:"T\xFCrk"},{key:"pt",title:"Portugu\xEAs"}];function it(e=!0){let t=N("language_app_key");if(!e||!js(t))return t;let i=ii(!1),n=Xa[i];return A(n)?"en":i}function ii(e){let t=uni.getAppBaseInfo().language;return A(t)?e?"en-US":"en":e?t:t.split("-")[0]}function Ks(){return N("call_automatic_source_language")||it()}function Js(){return!!N("call_automatic_open")}function x(...e){return getApp().globalData.s.state.pubI18n(...e)}function Ln(e){function t(r,l,c){for(;0<c--;)r.push(l)}function i(r,l){return r<<l|r>>>32-l}function n(r,l,c){return r^l^c}function a(r,l){var c=(l&65535)+(r&65535),u=(l>>>16)+(r>>>16)+(c>>>16);return(u&65535)<<16|c&65535}var s="0123456789abcdef";return function(r){for(var l=[],c=r.length*4,u,p=0;p<c;p++)u=r[p>>2]>>(3-p%4)*8,l.push(s.charAt(u>>4&15)+s.charAt(u&15));return l.join("")}(function(r,l){var c,u,p,_,b,S=r.length,g=1732584193,L=4023233417,w=2562383102,v=271733878,W=3285377520,B=[];t(B,1518500249,20),t(B,1859775393,20),t(B,2400959708,20),t(B,3395469782,20),r[l>>5]|=128<<24-l%32,r[(l+65>>9<<4)+15]=l;for(var C=0;C<S;C+=16){c=g,u=L,p=w,_=v,b=W;for(var O=0,pe=[];O<80;O++){pe[O]=O<16?r[O+C]:i(pe[O-3]^pe[O-8]^pe[O-14]^pe[O-16],1);var Fe=function(ue,fe,Ae,rt,ot){var lt=(ot&65535)+(ue&65535)+(fe&65535)+(Ae&65535)+(rt&65535),vt=(ot>>>16)+(ue>>>16)+(fe>>>16)+(Ae>>>16)+(rt>>>16)+(lt>>>16);return(vt&65535)<<16|lt&65535}(O<20?function(ue,fe,Ae){return ue&fe^~ue&Ae}(u,p,_):O<40?n(u,p,_):O<60?function(ue,fe,Ae){return ue&fe^ue&Ae^fe&Ae}(u,p,_):n(u,p,_),b,B[O],pe[O],i(c,5));b=_,_=p,p=i(u,30),u=c,c=Fe}g=a(g,c),L=a(L,u),w=a(w,p),v=a(v,_),W=a(W,b)}return[g,L,w,v,W]}(function(r){for(var l=[],c=255,u=r.length*8,p=0;p<u;p+=8)l[p>>5]|=(r.charCodeAt(p/8)&c)<<24-p%32;return l}(e).slice(),e.length*8))}function xn(e,t,i=!0){return vn(getApp().globalData.ossPicPath,e,t,i)}function _e(e,t,i=!0){return vn(getApp().globalData.ossPath,e,t,i)}function kn(e){if(A(e)||e.startsWith("http"))return;let i=`img_${Ln(e)}`,n=N(i);Ce(i),n&&uni.removeSavedFile({filePath:n})}function vn(e,t,i,n=!0){if(A(t))return"";if(t.startsWith("http")||t.startsWith("file://"))return t;if(t.startsWith("/var/mobile/"))return"file://"+t;if(t.startsWith("/storage/"))return t;let s=`img_${Ln(t)}`,r=N(s);if(r){let c={filePath:r,fail(u){qs(`\u7F13\u5B58\u68C0\u6D4B\u5931\u8D25${t}`,u),Ce(s),typeof i=="function"&&i(e+t)},success(u){}};return typeof i=="function"&&(c.success=function(){i(r)}),uni.getFileInfo(c),r}let l=e+t;return getApp().globalData.picCacheObj[s]||(getApp().globalData.picCacheObj[s]=1,typeof i=="function"&&!n&&i(l),or(l).then(c=>{z(s,c),typeof i=="function"&&n&&i(c),delete getApp().globalData.picCacheObj[s]}).catch(()=>{})),l}function qs(e,t){V("error","at common/cache.js:118",`cache ${e}`,t)}var Zs={CANDY_CHAT_I:"__UNI__CB903B1",CANDY_CHAT_A:"__UNI__564E31A",CHAT_NOW_A:"__UNI__DB0D401",CHAT_NOW_DEV:"__UNI__DEED62E",HOT_FACE_A:"__UNI__0D44E11",HOT_FACE_DEV:"__UNI__58DBD61",LOVE_SKY:"__UNI__0EE5E5E",DEV:"__UNI__3932C1F",DEV2:"__UNI__9C66D76",DEV3:"__UNI__8463C26"};function Xs(){return getApp().globalData.pluginTool.vpnConnected()}function Qs(e){return getApp().globalData.pluginTool.permissionStatusSync({permission:e})}function er(){return getApp().globalData.pluginTool.permissionCheckAll()}function tr(){return getApp().globalData.pluginTool.locationAuthorizationStatusSync()}var j={ALBUM:1,CAMERA:2,VIDEO:3,MICROPHONE:4,NOTIFY:5,LOCATION:6,DRAW_OVERLAYS:7,ALBUM_AND_CAMERA:101};function ir(e,t,i){if(getApp().globalData.uid!=0)return new Promise(n=>{let a;if(i==null?a=In():a=i,a==null){n();return}let s={fromType:e,showClose:t,resList:a[0]};J("/pagesDialog/check-permission",null,"permissionData",s,{onCloseListener:()=>{n()}})})}function In(){let e=[],t=!0;if(H.isAndroid){let s=er();e.push({key:"notice",value:s.notice,permission:j.NOTIFY}),e.push({key:"camera",value:s.camera,permission:j.CAMERA}),e.push({key:"voice",value:s.voice,permission:j.MICROPHONE}),e.push({key:"album",value:s.storage,permission:j.ALBUM})}else e.push({key:"notice",value:On(),permission:j.NOTIFY}),e.push({key:"camera",value:ar(),permission:j.CAMERA}),e.push({key:"voice",value:Rn(),permission:j.MICROPHONE}),e.push({key:"album",value:sr(),permission:j.ALBUM});for(let s=0,r=e.length;s<r;s++)if(!e[s].value){t=!1;break}let i={};for(let s=0,r=e.length;s<r;s++){let l=e[s];i[l.key]=l.value?1:0}i.auto_translate=getApp().globalData.translateAuto?1:0;let n=Js()?1:0,a=Ks();return i.audio_translate=n,i.audio_language=a,M.request("/user/sync-permission",i),[e,t]}function Nn(e){if(e==j.NOTIFY)return H.isAndroid?Ft(e):On();if(e==j.MICROPHONE)return H.isAndroid?Ft(e):Rn();if(e==j.ALBUM_AND_CAMERA){let i=In()[0];return i?i[1].value&&i[3].value:!0}else if(e==j.LOCATION)return H.isAndroid?Ft(e):tr();return!0}function Ft(e){let t=nr(e);return Qs(t)}function nr(e){switch(e){case j.LOCATION:return["android.permission.ACCESS_FINE_LOCATION","android.permission.ACCESS_COARSE_LOCATION"];case j.ALBUM:case j.VIDEO:return["android.permission.READ_MEDIA_IMAGES","android.permission.READ_MEDIA_VIDEO"];case j.MICROPHONE:return["android.permission.RECORD_AUDIO"];case j.CAMERA:return["android.permission.CAMERA"];case j.NOTIFY:return["android.permission.POST_NOTIFICATIONS"]}}function Rn(){let e=plus.ios.importClass("AVCaptureDevice"),t=e.authorizationStatusForMediaType("soun");return plus.ios.deleteObject(e),t==3}function ar(){let e=plus.ios.importClass("AVCaptureDevice"),t=e.authorizationStatusForMediaType("vide");return plus.ios.deleteObject(e),t==3}function sr(){var e=!1,t=plus.ios.import("PHPhotoLibrary"),i=t.authorizationStatus();return(i==3||i==4)&&(e=!0),plus.ios.deleteObject(t),e}function On(){var e=!1,t=plus.ios.import("UIApplication"),i=t.sharedApplication(),n=0;if(i.currentUserNotificationSettings){var a=i.currentUserNotificationSettings();n=a.plusGetAttribute("types"),e=n!=0,plus.ios.deleteObject(a)}else n=i.enabledRemoteNotificationTypes(),e=n!=0;return plus.ios.deleteObject(i),plus.ios.deleteObject(t),e}function ni(e,t){getApp().globalData.s.commit("setPubValue",{name:e,value:t})}function T(e,t){getApp().globalData.s.commit(e,t)}function yt(e,t){e==$e.MSG&&getApp().setNumberBadge(),t>0?uni.setTabBarBadge({index:e,text:t+""}):uni.removeTabBarBadge({index:e})}function rr(e,t=!0){t?uni.showTabBarRedDot({index:e}):uni.hideTabBarRedDot({index:e})}function or(e){return new Promise((t,i)=>{uni.downloadFile({url:e}).then(n=>!n||n.statusCode!=200||!n.tempFilePath?(i(),new Promise(()=>{})):uni.saveFile({tempFilePath:n.tempFilePath})).then(n=>{!n||!n.savedFilePath?i():t(n.savedFilePath)}).catch(n=>{V("error","at common/common.js:65","downloadFile error "+JSON.stringify(n))})})}function Ji(e,t){t?plus.runtime.openWeb(e):plus.runtime.openURL(e)}function Dt(e,t,i,n=x("confirm")){Fn(e,t,i,"",n,!1)}function lr(e){return["Si, desbloquear","Reenviar Completar"].indexOf(e)!=-1}function Fn(e,t,i,n,a=x("confirm"),s=!0,r=x("cancel"),l=!1){let c=!1;if(!H.isAndroid&&(c=lr(a),c)){let u=a;a=r,r=u}uni.showModal({title:e,content:t,showCancel:s,cancelText:r,confirmText:a,editable:l,success(u){u.confirm?c?typeof n=="function"&&n():typeof i=="function"&&i(u):u.cancel&&(c?typeof i=="function"&&i(u):typeof n=="function"&&n())}})}function Ke(e,t="none",i="center"){uni.showToast({title:e,duration:2e3,icon:t,position:i})}function Mn(e){return new Promise(t=>{let i=uni.createInnerAudioContext();i.src=e,i.sessionCategory="ambient",i.onError(n=>{i.destroy(),t(0)}),i.onPlay(()=>{t(1)}),i.onEnded(n=>{i.destroy(),t(2)}),i.play()})}var Pn={LIGHT:1,DARK:2};function Bn(e){let t=Number(e);if(isNaN(t)){V("error","at common/user.js:35","\u5237\u65B0\u4F59\u989D\u5931\u8D25");return}ni("pubAccount.money",t),V("error","at common/user.js:39",`\u5237\u65B0\u4F59\u989D ${t}`)}function Un(e,t=1,i=!0){if(e=Number(e),isNaN(e))return!0;let n=getApp().pubAccount.money-e*t;return n>=0?!0:(i&&ai(Math.abs(n),0),!1)}function ai(e,t=0,i,n){let s=N("coin_callback"),r={};r.order_source=typeof i=="undefined"?0:i,r.click_type=typeof n=="undefined"?0:n,s?(r.fromType=t,r.diffCoin=e,J("/pages/coin/coin-dialog",r,"coinDialogData",s)):(r.from_type=t,r.diff_coin=e,M.request("/pay/coin/callback",r,!0))}function cr(e){let t=getApp().pubUser.seeking_sex;return e?t:t==0?getApp().pubUser.sex==1?2:1:t}function de(){return getApp().globalData.s.state.pubUser.is_auth}function ur(){return!de()&&getApp().pubUser.recharge_money>0}function dr(){let e=getApp().globalData.admin;return e&&e.permission&&e.permission.kefu}function pr(){let e=getApp().globalData.admin;return e&&e.permission&&e.permission.check_all}function fr(){let e=getApp().globalData.admin;return!A(e)&&e.type==1}var zt={DEFAULT:1e4,FAIL:0,SUCCESS:1,DISCONNECT:6,RECONNECT:7},mr={INIT:"init",APP_SHOW:"app_show",TAB_SHOW:"tab_show",MSG_INDEX_REFRESH:"msg_index_refresh",STOP_TAKING_RECOVERY:"stop_taking_recovery",CATCH_MSG_SYNC:"sync_catch",API_CALL_BACK:"api_call_back",RECONNECT_LISTENER:"reconnect_listener",RECONNECT_LOCAL:"reconnect_local"};function gr(e){return new Promise((t,i)=>{getApp().globalData.pluginDB.selectSql({sql:e},n=>{n.status==1?t(n.rows):(V("error","at comExtend/plugin-DB.js:44","db \u63D2\u4EF6 select \u6267\u884C \u9519\u8BEF "+n.message),i(n.message))})})}function hr(e){return new Promise((t,i)=>{getApp().globalData.pluginDB.executeSql({sql:e},n=>{n.status==1?t(n.rows):(V("error","at comExtend/plugin-DB.js:57","db \u63D2\u4EF6 execute \u6267\u884C \u9519\u8BEF "+n.message),i(n.message))})})}function xe(e,t){return new Promise((i,n)=>{hr(e).then(a=>{i(a)},a=>{n(),t||Wn("execute",a,e)})})}function ke(e,t){return new Promise((i,n)=>{gr(e).then(a=>{i(a)},a=>{n(),t||Wn("select",a,e)})})}function k(e){return A(e)?0:parseInt(e)}function Se(e){return A(e)?"":e}function _r(){return getApp().globalData.pluginMqtt.checkStatusSync()?zt.SUCCESS:zt.FAIL}function br(){return _r()}function yr(){return br()==zt.SUCCESS}var Ye={getUserDesc(){let e=getApp().pubUser;return Object.keys(e).length<=3?"\u672A\u767B\u5F55":[e.uid,e.is_auth?"\u4E3B\u64AD":"\u7528\u6237",`\u7B49\u7EA7-${e.level}`,`vip${e.is_vip?"\u662F":"\u5426"}`,`\u5145\u503C${e.recharge_money}`,`\u4F59\u989D${getApp().pubAccount.money}`,`\u540E\u53F0\u8EAB\u4EFD${Ar()}`].join("|")},getActionDesc(){let e=Ct(),t=e.length;return[`\u9875\u9762: ${(t>5?e.slice(t-5):e).join(",")}`,`${getApp().globalData.catchApiUrlList.join(",")}`].join("|")},getEnvironsDesc(){let e=getApp().globalData.ua.split("|"),t=[`${e[1]}`,`app\u7248\u672C${e[2]}`,`zip\u7248\u672C${e[3]}-${e[13]}`,`${e[6]}`,`\u54C1\u724C${e[11]}`,`\u578B\u53F7${e[12]}`,`\u7F51\u7EDC${getApp().globalData.network.type}`,`MQTT${yr()?"\u662F":"\u5426"}`],i=Xs();return typeof i!="undefined"&&t.push(`VPN${i?"\u662F":"\u5426"}`),t.join("|")}};function Ar(){if(fr())return"\u8D85\u7BA1";let e=[];return dr()&&e.push("\u5BA2\u670D"),pr()&&e.push("\u5BA1\u6838"),e.length<=0?"\u65E0":e.join("\u548C")}var Mt=0;function wr(e){return Sr(Cr(Dr(e)))}function Cr(e){return Er(Lr(Tr(e),e.length*8))}function Sr(e){try{}catch(s){Mt=0}for(var t=Mt?"0123456789ABCDEF":"0123456789abcdef",i="",n,a=0;a<e.length;a++)n=e.charCodeAt(a),i+=t.charAt(n>>>4&15)+t.charAt(n&15);return i}function Dr(e){for(var t="",i=-1,n,a;++i<e.length;)n=e.charCodeAt(i),a=i+1<e.length?e.charCodeAt(i+1):0,55296<=n&&n<=56319&&56320<=a&&a<=57343&&(n=65536+((n&1023)<<10)+(a&1023),i++),n<=127?t+=String.fromCharCode(n):n<=2047?t+=String.fromCharCode(192|n>>>6&31,128|n&63):n<=65535?t+=String.fromCharCode(224|n>>>12&15,128|n>>>6&63,128|n&63):n<=2097151&&(t+=String.fromCharCode(240|n>>>18&7,128|n>>>12&63,128|n>>>6&63,128|n&63));return t}function Tr(e){for(var t=Array(e.length>>2),i=0;i<t.length;i++)t[i]=0;for(var i=0;i<e.length*8;i+=8)t[i>>5]|=(e.charCodeAt(i/8)&255)<<i%32;return t}function Er(e){for(var t="",i=0;i<e.length*32;i+=8)t+=String.fromCharCode(e[i>>5]>>>i%32&255);return t}function Lr(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var i=1732584193,n=-271733879,a=-1732584194,s=271733878,r=0;r<e.length;r+=16){var l=i,c=n,u=a,p=s;i=Z(i,n,a,s,e[r+0],7,-680876936),s=Z(s,i,n,a,e[r+1],12,-389564586),a=Z(a,s,i,n,e[r+2],17,606105819),n=Z(n,a,s,i,e[r+3],22,-1044525330),i=Z(i,n,a,s,e[r+4],7,-176418897),s=Z(s,i,n,a,e[r+5],12,1200080426),a=Z(a,s,i,n,e[r+6],17,-1473231341),n=Z(n,a,s,i,e[r+7],22,-45705983),i=Z(i,n,a,s,e[r+8],7,1770035416),s=Z(s,i,n,a,e[r+9],12,-1958414417),a=Z(a,s,i,n,e[r+10],17,-42063),n=Z(n,a,s,i,e[r+11],22,-1990404162),i=Z(i,n,a,s,e[r+12],7,1804603682),s=Z(s,i,n,a,e[r+13],12,-40341101),a=Z(a,s,i,n,e[r+14],17,-1502002290),n=Z(n,a,s,i,e[r+15],22,1236535329),i=X(i,n,a,s,e[r+1],5,-165796510),s=X(s,i,n,a,e[r+6],9,-1069501632),a=X(a,s,i,n,e[r+11],14,643717713),n=X(n,a,s,i,e[r+0],20,-373897302),i=X(i,n,a,s,e[r+5],5,-701558691),s=X(s,i,n,a,e[r+10],9,38016083),a=X(a,s,i,n,e[r+15],14,-660478335),n=X(n,a,s,i,e[r+4],20,-405537848),i=X(i,n,a,s,e[r+9],5,568446438),s=X(s,i,n,a,e[r+14],9,-1019803690),a=X(a,s,i,n,e[r+3],14,-187363961),n=X(n,a,s,i,e[r+8],20,1163531501),i=X(i,n,a,s,e[r+13],5,-1444681467),s=X(s,i,n,a,e[r+2],9,-51403784),a=X(a,s,i,n,e[r+7],14,1735328473),n=X(n,a,s,i,e[r+12],20,-1926607734),i=Q(i,n,a,s,e[r+5],4,-378558),s=Q(s,i,n,a,e[r+8],11,-2022574463),a=Q(a,s,i,n,e[r+11],16,1839030562),n=Q(n,a,s,i,e[r+14],23,-35309556),i=Q(i,n,a,s,e[r+1],4,-1530992060),s=Q(s,i,n,a,e[r+4],11,1272893353),a=Q(a,s,i,n,e[r+7],16,-155497632),n=Q(n,a,s,i,e[r+10],23,-1094730640),i=Q(i,n,a,s,e[r+13],4,681279174),s=Q(s,i,n,a,e[r+0],11,-358537222),a=Q(a,s,i,n,e[r+3],16,-722521979),n=Q(n,a,s,i,e[r+6],23,76029189),i=Q(i,n,a,s,e[r+9],4,-640364487),s=Q(s,i,n,a,e[r+12],11,-421815835),a=Q(a,s,i,n,e[r+15],16,530742520),n=Q(n,a,s,i,e[r+2],23,-995338651),i=ee(i,n,a,s,e[r+0],6,-198630844),s=ee(s,i,n,a,e[r+7],10,1126891415),a=ee(a,s,i,n,e[r+14],15,-1416354905),n=ee(n,a,s,i,e[r+5],21,-57434055),i=ee(i,n,a,s,e[r+12],6,1700485571),s=ee(s,i,n,a,e[r+3],10,-1894986606),a=ee(a,s,i,n,e[r+10],15,-1051523),n=ee(n,a,s,i,e[r+1],21,-2054922799),i=ee(i,n,a,s,e[r+8],6,1873313359),s=ee(s,i,n,a,e[r+15],10,-30611744),a=ee(a,s,i,n,e[r+6],15,-1560198380),n=ee(n,a,s,i,e[r+13],21,1309151649),i=ee(i,n,a,s,e[r+4],6,-145523070),s=ee(s,i,n,a,e[r+11],10,-1120210379),a=ee(a,s,i,n,e[r+2],15,718787259),n=ee(n,a,s,i,e[r+9],21,-343485551),i=Te(i,l),n=Te(n,c),a=Te(a,u),s=Te(s,p)}return Array(i,n,a,s)}function Tt(e,t,i,n,a,s){return Te(xr(Te(Te(t,e),Te(n,s)),a),i)}function Z(e,t,i,n,a,s,r){return Tt(t&i|~t&n,e,t,a,s,r)}function X(e,t,i,n,a,s,r){return Tt(t&n|i&~n,e,t,a,s,r)}function Q(e,t,i,n,a,s,r){return Tt(t^i^n,e,t,a,s,r)}function ee(e,t,i,n,a,s,r){return Tt(i^(t|~n),e,t,a,s,r)}function Te(e,t){var i=(e&65535)+(t&65535),n=(e>>16)+(t>>16)+(i>>16);return n<<16|i&65535}function xr(e,t){return e<<t|e>>>32-t}var $t={md5:function(e){return wr(e)}};function Gn(){return"tb_error_log"}function kr(e,t){return new Promise(i=>{let n=`SELECT * FROM ${Gn()} WHERE status = ${k(e)} AND identify = '${t}' ORDER BY id DESC LIMIT 1`;ke(n,!0).then(a=>{i(a[0])})})}function vr(e,t,i,n,a,s,r,l,c,u){return kr(e,t).then(p=>{if(p)return Promise.resolve(!0);let _=`INSERT INTO ${Gn()} (status, identify, grade, flag, user_desc, action_desc, environs_desc, error_desc, create_time, exp_time) values (${k(e)}, '${t}', ${i}, '${n}', '${Be(a)}', '${Be(s)}', '${Be(r)}', '${Be(l)}', ${k(c)}, ${k(u)})`;return xe(_,!0)})}var si={CRASH:1,USER:11,API_FAIL:12,API_ERROR:13,MSG_SYNC:14,DB_PLUGIN:15,FRAME:21,LISTENER:31,BUG_DB_GET_NONE:201,BUG_MSG_SYNC_PLUGIN_LOSS:202,BUG_MSG_SYNC_JS_LOSS:203},ri={CRASH:"crash",MEMORY:"memory",LISTENER:"listener",FRAME_API:"frame_api",API:"api",DB:"db",PAYMENT:"payment",AUTH_FACE:"auth_face",CHAT_CALL:"chat_call",HOT_UPDATE:"hot_update",MESSAGE_PARSE:"message_parse",BUG:"bug"};function Hn(){return getApp().globalData.uid==0?!1:H.zT==3?!0:H.appId==Zs.CHAT_NOW_A||H.ENV=="dev"}var Ir=1e3;function Nr(e,t){try{if(!Hn())return;let i=Yt(t),n=`api-${e} ${i}`;V("error","at comCatch/catch-save.js:15","catch api fail "+n);let a=jn(n);Fr().then(s=>{let r;typeof s=="boolean"?r="\u6D4B\u8BD5\u8C37\u6B4C\u6210\u529F":r=`\u6D4B\u8BD5\u8C37\u6B4C\u5931\u8D25-${Yt(s)}`,a.errorDesc=`${a.errorDesc} - ${r}`,Vn(si.API_FAIL,ri.API,a)})}catch(i){}}function Rr(e,t,i){try{if(!Hn())return;let n=Yt(i);n=n.substring(0,120);let a=`statusCode-${i.statusCode}-${n}-api-${e}-${JSON.stringify(t)}`;V("error","at comCatch/catch-save.js:37","catch api error "+a);let s=jn(a);Vn(si.API_ERROR,ri.API,s)}catch(n){}}function Wn(e,t,i){try{if(i.indexOf("tb_error_log")!=-1)return;let n=`${e} - ${t}`;i&&(n+=` - ${i}`),V("error","at comCatch/catch-save.js:74","catch db "+n),Or(si.DB_PLUGIN,ri.DB,n)}catch(n){}}function Yt(e){if(!e)return"";let t=JSON.stringify(e);return(typeof t!="string"||t=="{}")&&(t=e.toString()),t}function jn(e){return{identify:$t.md5(e),errorDesc:e,userDesc:Ye.getUserDesc(),actionDesc:Ye.getActionDesc(),environsDesc:Ye.getEnvironsDesc(),expTime:0}}function Vn(e,t,i){vr(0,i.identify,e,t,i.userDesc,i.actionDesc,i.environsDesc,i.errorDesc,new Date().getTime(),i.expTime)}function Or(e,t,i){let n=[],a=new Date().getTime();if(a-getApp().globalData.catchApiLastReqTime<=Ir)return;getApp().globalData.catchApiLastReqTime=a,n.push({grade:e,flag:t,user_desc:Ye.getUserDesc(),action_desc:Ye.getActionDesc(),environs_desc:Ye.getEnvironsDesc(),error_desc:i,create_time:a,createTimeStr:Sn(a)});let s={log_list:n};M.request("/monitor/record-exception-log",s)}function Fr(){return new Promise(e=>{uni.request({url:"https://google.com",method:"GET",timeout:5e3,success(t){e(!0)},fail(t){e(t)}})})}var Mr=["/monitor/index","/chat/call/log","/chat/msg/mq-log","/user/sync-permission","/monitor/record-exception-log"],qi=["/monitor/record-exception-log"],Zi=5,mt={invoke(e,t){if(Mr.indexOf(e)!=-1)return;let i="";i+=`\u63A5\u53E3=${e};`,i+=`\u53C2\u6570=${JSON.stringify(t)}`,i+=`\u65F6\u95F4=${Sn(new Date().getTime())}`,getApp().globalData.catchApiUrlList.push(`\u3010${i}\u3011`);let n=getApp().globalData.catchApiUrlList.length;n>Zi&&(getApp().globalData.catchApiUrlList=getApp().globalData.catchApiUrlList.slice(n-Zi))},error(e,t,i){qi.indexOf(e)==-1&&getApp().globalData.network.isConnected&&(!i||typeof i.statusCode=="undefined"||Rr(e,t,i))},fail(e,t){qi.indexOf(e)==-1&&getApp().globalData.network.isConnected&&Nr(e,t)}},Pr={INIT:1,OPEN:2,CALLBACK:3,SOCKET:4,LOGIN:5};function Xi(){if(getApp().pubUnreadMy.moment>0){yt($e.MY,getApp().pubUnreadMy.moment);return}yt($e.MY,0),rr($e.MY,getApp().pubUnreadMy.fans>0)}var h={PERMISSION:"permission",PERFECT_DATA:"perfect_data",REST:"rest",HOME_FILTER:"home_filter",GRID_GUIDE:"grid_guide",NOTIFY:"notify",HELLO:"hello",SHARE:"share",LANGUAGE_UP:"language_up",RAMADAN:"ramadan",MSG_DISTURB:"msg_disturb",CALL_DISTURB:"call_disturb",BAN:"ban",WARNING:"warning",HOME_SEX_FILTER:"home_sex_filter",CLUB_RESULT:"club_result",CLUB_DISBAND:"club_disband"},Br={[h.HOME_FILTER]:"seeking_sex_open_time",[h.GRID_GUIDE]:"dialog_show_time_grid_guide",[h.NOTIFY]:"dialog_show_time_notify",[h.HELLO]:"dialog_show_time_hello"},Kt=-99,nt=-100,Ur={[h.HOME_FILTER]:1,[h.HOME_SEX_FILTER]:1,[h.GRID_GUIDE]:1,[h.NOTIFY]:2,[h.SHARE]:3,[h.HELLO]:4,[h.LANGUAGE_UP]:5,[h.RAMADAN]:6},oi={[h.PERMISSION]:1,[h.PERFECT_DATA]:2,[h.REST]:3,[h.HOME_FILTER]:4,[h.HOME_SEX_FILTER]:4,[h.GRID_GUIDE]:4,[h.NOTIFY]:5,[h.SHARE]:7,[h.LANGUAGE_UP]:8};function Gr(e){return jr(h.HOME_FILTER,21600)?!1:cr(!1)!=e}function Hr(e){return H.isAndroid||e||N(li(h.GRID_GUIDE))?!1:!N("user_list_sort_"+getApp().globalData.uid)}function zn(){return Nn(j.NOTIFY)?!1:!Wr()}function Wr(){let e=Ws(`${h.NOTIFY}_show_status`);if(!A(e))return!0;let t=N(li(h.NOTIFY));return!A(t)}function li(e){return`${Br[e]}_${getApp().globalData.uid}`}function jr(e,t){let i=N(li(e));if(!i)return!1;let n=new Date().getTime();return n<=i?!1:parseInt((n-i)/1e3)<=t}var Qi=!1,We=!1,De=0,tt={appDialogList:[],appDialogStop:!1,appDialogCurKey:"",appDialogHelloData:!1,appBanDialogList:[],appClubResultList:[],appDialogIsShowBan:!1,appBanDialogCurKey:"",appWarningDialogCurKey:"",appClubResultCurKey:""},Vr={setDialogHelloData(e,t){e.appDialogHelloData=t},setDialogCurKey(e,t){e.appDialogCurKey=t},setDialogList(e,t){e.appDialogList=t,e.appDialogList.sort((i,n)=>i.sort-n.sort)},sortDialogList(e){e.appDialogList.sort((t,i)=>t.sort-i.sort)},resetDialogItem(e,t){let i=e.appDialogList.findIndex(n=>n.key==t.key);i!=-1&&(e.appDialogList[i].hasExec=!1,e.appDialogList[i].delay=t.delay)},resetClubResultDialogItem(e,t){let i=e.appClubResultList.findIndex(n=>n.key==t.key);i!=-1&&(e.appClubResultList[i].hasExec=!1)},delDialogItem(e,t){A(e.appDialogList)||e.appDialogList.splice(t,1)},delDialogItemByKey(e,t){if(A(e.appDialogList))return;let i=e.appDialogList.findIndex(n=>n.key==t);i!=-1&&e.appDialogList.splice(i,1)},clearDialog(e){e.appDialogStop=!0,e.appDialogList=[]},executeDialog(e,t){if(e.appBanDialogCurKey||e.appWarningDialogCurKey||e.appClubResultCurKey||A(e.appDialogList)||e.appDialogStop)return;let i=e.appDialogList[0];A(i)||i.hasExec||i.isCanExecute&&(e.appDialogList[0].hasExec=!0,Pt[i.funcName](i).then(()=>{e.appDialogCurKey="";let n=e.appDialogList.indexOf(i);n!=-1&&T("appDialog/delDialogItem",n),T("appDialog/executeDialog","execute then")}))},addDialog(e,t){let i=t.key;e.appDialogStop=!0;let n=e.appDialogList.findIndex(a=>a.key==i);if(n!=-1){if(e.appDialogList[n].isAdd){e.appDialogStop=!1,e.appDialogCurKey||T("appDialog/executeDialog");return}e.appDialogList[n].isAdd=!0,e.appDialogList[n].addTime=new Date().getTime(),e.appDialogList[n].isCanExecute=!0}else{let a=de()?1:2,s;switch(i){case h.HOME_FILTER:s=Zr(a,!0);break;case h.HELLO:s=en(t.delay);break;case h.MSG_DISTURB:s=Qr(t.delay);break;case h.CALL_DISTURB:s=eo(t.delay);break;default:e.appDialogStop=!1,e.appDialogCurKey||T("appDialog/executeDialog");return}s.isAdd=!0,s.addTime=new Date().getTime(),e.appDialogList.push(s)}e.appDialogList.sort((a,s)=>a.sort==s.sort?s.addTime-a.addTime||(a.isCanExecute?nt:0):a.sort-s.sort),!e.appDialogCurKey&&(e.appDialogCurKey=i,e.appDialogStop=!1,T("appDialog/executeDialog"))},addDialogHomeFilter(e,t){getApp().globalData.appCRE==0||!Gr(t)||T("appDialog/addDialog",{key:h.HOME_FILTER})},addDialogHomeSexFilter(e,t){getApp().globalData.appCRE!=0&&(T("appDialog/addDialog",{key:h.HOME_SEX_FILTER,value:t}),T("appDialog/sortDialogList"))},addDialogGridGuide(e,t){let i=e.appDialogList.findIndex(a=>a.key==h.GRID_GUIDE);if(Hr(t)){if(i==-1)return;T("appDialog/addDialog",{key:h.GRID_GUIDE})}else i!=-1&&T("appDialog/delDialogItem",i)},addDialogNotify(e,t){t&&!zn()||ge("/pagesDialog/open-sys-notice")},addDialogHello(e,t){if(getApp().globalData.appCRE==0||Qi)return;Qi=!0;let i=e.appDialogList[0];if(i&&i.key==h.SHARE){De=30;let n=en(De);n.sort=Ge(de()?1:2,h.SHARE+1),n.isAdd=!0,n.addTime=new Date().getTime(),e.appDialogList.push(n),e.appDialogList.sort((a,s)=>a.sort==s.sort?s.addTime-a.addTime||(a.isCanExecute?nt:0):a.sort-s.sort);return}De=t,T("appDialog/addDialog",{key:h.HELLO,delay:t})},addDialogMsgDisturb(e,t){T("appDialog/addDialog",{key:h.MSG_DISTURB,delay:t})},addDialogCallDisturb(e,t){T("appDialog/addDialog",{key:h.CALL_DISTURB,delay:t})},delBanDialogItem(e){A(tt.appBanDialogList)||tt.appBanDialogList.splice(e,1)},delClubResultDialogItem(e){A(tt.appClubResultList)||tt.appClubResultList.splice(e,1)},addDialogBan(e,t){let i=to(t);e.appDialogIsShowBan?uni.$emit("event_refresh_banned_data",t):(e.appBanDialogList.push(i),T("appDialog/sortBanWarningDialog"))},addDialogWarning(e,t){if(e.appBanDialogList.map(a=>a.sort).indexOf(Number(t.id))!=-1)return;let n;t.from_type==2?n=no(t):n=io(t),e.appBanDialogList.push(n),!(e.appBanDialogCurKey||e.appWarningDialogCurKey)&&T("appDialog/executeBanWarningDialog")},addDialogClubNoticeDialog(e,t){let i,n,a=e.appClubResultList.map(s=>s.key);t.type==Qa.CHECK_RESULT?(n=h.CLUB_RESULT+"_"+t.club_id,a.indexOf(n)==-1&&(i=so(t))):(n=h.CLUB_DISBAND+"_"+t.club_id,a.indexOf(n)==-1&&(i=ao(t))),i&&e.appClubResultList.push(i),!(e.appBanDialogCurKey||e.appWarningDialogCurKey)&&(e.appClubResultCurKey||T("appDialog/executeClubNoticeDialog"))},executeBanWarningDialog(e){if(A(e.appBanDialogList)){T("appDialog/executeClubNoticeDialog");return}let t=e.appBanDialogList[0];if(A(t)||t.hasExec)return;let i=getApp().globalData.curCallId>Ki.WAITING;if(i){t.isBan&&uni.$emit("event_banned_close_chat");return}e.appBanDialogList[0].hasExec=!i||!t.isBan,e.appDialogIsShowBan=t.isBan,t.isBan?e.appBanDialogCurKey="ban":e.appWarningDialogCurKey="warning",Pt[t.funcName](t).then(n=>{if(t.isBan){if(e.appBanDialogCurKey="",e.appDialogIsShowBan=!1,n==1){let a=e.appBanDialogList.indexOf(t);a!=-1&&T("appDialog/delBanDialogItem",a)}}else{e.appWarningDialogCurKey="";let a=e.appBanDialogList.indexOf(t);a!=-1&&T("appDialog/delBanDialogItem",a)}T("appDialog/executeBanWarningDialog","execute then")})},executeClubNoticeDialog(e,t){if(e.appBanDialogCurKey||e.appWarningDialogCurKey)return;if(A(e.appClubResultList)){T("appDialog/executeDialog");return}let i=e.appClubResultList[0];A(i)||i.hasExec||getApp().globalData.curCallId>Ki.WAITING||(e.appClubResultCurKey="club_result",e.appClubResultList[0].hasExec=!0,t&&t.delay&&(i.delay=t.delay),Pt[i.funcName](i).then(()=>{e.appClubResultCurKey="";let a=e.appClubResultList.indexOf(i);a!=-1&&T("appDialog/delClubResultDialogItem",a),T("appDialog/executeClubNoticeDialog","execute then")}))},sortBanWarningDialog(e){let t=e.appBanDialogList.filter(n=>n.sort==Kt),i=e.appBanDialogList.filter(n=>n.sort!=Kt);i=i.sort((n,a)=>n.sort-a.sort),e.appBanDialogList=[...t,...i]}},zr={init(i,n){return Ii(this,arguments,function*({state:e},t){V("error","at store/modules/app-dialog.js:326","------> init dialog list, data ",t);let a=[];de()?a=Kr(t.data,t.homeViewSizeObj):a=Yr(t.data,t.homeViewSizeObj),T("appDialog/setDialogList",a),T("appDialog/executeDialog")})}},$r={namespaced:!0,state:tt,mutations:Vr,actions:zr};function Yr(e,t){permissionGetAllStatus();let i=[],n=$n(2,t,e.homeFilterSex);n&&i.push(n);let a=Yn(2,t);a&&i.push(a);let s=Kn(2,e.share);s&&i.push(s);let r=Jn(2);r&&i.push(r);let l=Xr(2,e.notifyTips);return l&&i.push(l),i}function Kr(e,t){let i=[],n=Jr(e.authList);n&&i.push(n);let a=qr();a&&i.push(a);let s=$n(2,t,e.homeFilterSex);s&&i.push(s);let r=Yn(1,t);r&&i.push(r);let l=5,c=Kn(1,e.share,l);c&&i.push(c);let u=Jn(1);return u&&i.push(u),i}function Jr(e){return typeof e=="undefined"?null:{key:h.PERFECT_DATA,sort:oi[h.PERFECT_DATA],delay:0,data:e,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecutePerfectData"}}function qr(){return qn()||!getApp().pubUser.is_rest?null:{key:h.REST,sort:oi[h.REST],delay:0,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteRest"}}function Zr(e,t){return{key:h.HOME_FILTER,sort:Ge(e,h.HOME_FILTER),delay:0,data:{},hasExec:!1,isCanExecute:t,addTime:new Date().getTime(),funcName:"_dialogExecuteHomeFilter"}}function $n(e,t,i){return getApp().globalData.appCRE==0||!t||!t.filter?null:{key:h.HOME_SEX_FILTER,sort:Ge(e,h.HOME_SEX_FILTER),delay:0,data:{value:i,size:t.filter},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteHomeSexFilter"}}function Yn(e,t){if(getApp().globalData.appCRE==0)return null;let i="grid";if(!t||!t[i])return null;let n={sizeList:[{key:i,size:t[i]}],from_type:1};return{key:h.GRID_GUIDE,sort:Ge(e,h.GRID_GUIDE),delay:0,data:n,hasExec:!1,isCanExecute:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteGridGuide"}}function Kn(e,t,i=5){return getApp().globalData.appCRE==0||A(t)||getApp().globalData.launchCount<3||ur()?null:{key:h.SHARE,sort:Ge(e,h.SHARE),delay:i,data:t,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteShare"}}function en(e){return{key:h.HELLO,sort:nt,delay:e,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteHello"}}function Jn(e){let t=N("user_switch_language_status");if(t)return null;let i=it(!1);if(t||A(i))return null;let n=Ys.map(r=>r.key),a=it();if(n.indexOf(a)!=-1)return null;let s=ii(!1);return n.indexOf(s)==-1?null:{key:h.LANGUAGE_UP,sort:Ge(e,h.LANGUAGE_UP),delay:5,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteLanguageUp"}}function Xr(e,t){return A(t)||N(`stop_notify_${getApp().globalData.uid}_${t.time}`)||!Nn(j.NOTIFY)?null:{key:h.RAMADAN,sort:Ge(e,h.RAMADAN),delay:5,data:t,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteRamadan"}}function Qr(e){return{key:h.MSG_DISTURB,sort:nt,delay:e,data:{from_type:1},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteMsgDisturb"}}function eo(e){return{key:h.CALL_DISTURB,sort:nt,delay:e,data:{from_type:2},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteCallDisturb"}}function to(e){return{key:h.BAN,sort:Kt,data:e,delay:e.delay||0,hasExec:!1,isBan:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteBan"}}function io(e){return{key:h.WARNING,sort:Number(e.id),data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteWarning"}}function no(e){return{key:h.WARNING,sort:Number(e.id),data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubWarning"}}function ao(e){return{key:h.CLUB_DISBAND+"_"+e.club_id,data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubDisband"}}function so(e){return{key:h.CLUB_RESULT+"_"+e.club_id,data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubResult"}}var Pt={_dialogExecutePermission(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),ye(e.key,e.delay,0)&&(T("appDialog/setDialogCurKey",h.PERMISSION),ir(1,!1,e.permissionRes).then(()=>{t()}))},e.delay*1e3)})},_dialogExecutePerfectData(e){return new Promise(t=>{T("appDialog/setDialogCurKey",h.PERFECT_DATA),J("/pagesDialog/complete-content-first",{},"DataCompleteContentFirst",e.data,{onCloseListener(){t()}})})},_dialogExecuteRest(){return new Promise(e=>{T("appDialog/setDialogCurKey",h.REST),Fn(x("tips"),x("anchor.rest.openedTip"),()=>{let t={user_info:{is_rest:0}};M.request("/user/update-info",t,!0,!0).then(i=>{ni("pubUser.is_rest",0),Dt(x("tips"),x("anchor.rest.turnOff"),()=>{e()},x("gotIt"))},()=>{e()})},()=>{e()},x("startWorking"))})},_dialogExecuteHomeFilter(e){return new Promise(t=>{ye(e.key,e.delay,ut.USER)&&(T("appDialog/setDialogCurKey",h.HOME_FILTER),ge("/pagesDialog/seeking-sex-guide",{},{onCloseChooseSeekingSex:i=>{uni.$emit("event_app_dialog_seeking_sex_after",i),t()}}))})},_dialogExecuteHomeSexFilter(e){return new Promise(t=>{ye(e.key,e.delay,ut.USER)&&(T("appDialog/setDialogCurKey",h.HOME_SEX_FILTER),ge(et.homeFilterSexGuide,{params:JSON.stringify(e.data)},{onCloseListener:()=>{uni.$emit("event_handle_filter_seeking_sex"),t()}}))})},_dialogExecuteGridGuide(e){return new Promise(t=>{if(!ye(e.key,e.delay,ut.USER))return;T("appDialog/setDialogCurKey",h.GRID_GUIDE);let i=e.data.sizeList;ge("/pagesDialog/guide-cover",{list:encodeURIComponent(JSON.stringify(i))},{onCloseGuideCover:()=>{uni.$emit("event_app_dialog_close_guide",{from_type:e.data.from_type}),t()}})})},_dialogExecuteShare(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),ye(e.key,e.delay,0)&&(T("appDialog/setDialogCurKey",h.SHARE),J("/pagesDialog/share",{},"shareData",e.data.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteLanguageUp(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),ye(e.key,e.delay,0)&&(T("appDialog/setDialogCurKey",h.LANGUAGE_UP),z("user_switch_language_status","1"),ge("/pagesDialog/switch-language-remind",{},{onCloseListener(){t()}}))},e.delay*1e3)})},_dialogExecuteRamadan(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),ye(e.key,e.delay,0)&&(T("appDialog/setDialogCurKey",h.RAMADAN),J("/pagesDialog/stop-notify",{},"dataStopNotify",e.data,{onCloseListener(){t()}}))},e.delay*1e3)})},_dialogExecuteHello(e){return new Promise(t=>{lo().then(i=>{if(!i){t();return}if(We&&clearInterval(We),e.delay<=0||De<=0){if(!ye(e.key,De,0))return;T("appDialog/setDialogCurKey",h.HELLO),tn(i,()=>{t()});return}We=setInterval(()=>{if(!ye(e.key,De,0)){We&&clearInterval(We);return}De-=1,De<=0&&(clearInterval(We),T("appDialog/setDialogCurKey",h.HELLO),tn(i,()=>{t()}))},1e3)})})},_dialogExecuteMsgDisturb(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),ye(e.key,e.delay,ut.MSG)&&(T("appDialog/setDialogCurKey",h.MSG_DISTURB),ge("/pagesDialog/disturb-def",e.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteCallDisturb(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),ye(e.key,e.delay,0)&&(T("appDialog/setDialogCurKey",h.CALL_DISTURB),ge("/pagesDialog/disturb-def",e.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteBan(e){return new Promise(t=>{let i=e.exp_time;if(parseInt(new Date().getTime()/1e3)>i){t();return}let n=setTimeout(()=>{clearTimeout(n);let a=e.data.from_cache?1:0;J("/pagesDialog/banned",{from_cache:a},"bannedDialogData",e.data,{onCloseListener:s=>{t(s)}})},e.delay*1e3)})},_dialogExecuteWarning(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),J("/pagesDialog/warning",{},"warningDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubWarning(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),J(et.clubWarning,{},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubDisband(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),J(et.clubDisband,{},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubResult(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),J(et.clubStatusRemind,{from_type:2},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})}};function ye(e,t,i){let n;return i==0?n=ro():n=oo(i),getApp().globalData.isGestureBacking||getApp().globalData.s.state.appDialog.appDialogStop||qn()||!n?(T("appDialog/resetDialogItem",{key:e,delay:t}),!1):!0}function qn(){return getApp().globalData.uid==0}function ro(){return getCurrentPages().length==1}function oo(e){let t=Ct();return t.length==1&&t[0]==e}function Ge(e,t){return e==1?oi[t]:Ur[t]}function lo(){return new Promise(e=>{let t=getApp().globalData.s.state.appDialog.appDialogHelloData;t?e(t):M.request("/user/greet-coach-list",{},!1,!0).then(i=>{A(i.data)||A(i.data.list)?e(null):(T("appDialog/setDialogHelloData",i.data),e(i.data))},i=>{e(null)})})}function tn(e,t){J("/pagesDialog/quality-user",{},"qualityUserData",e,{onCloseListener:i=>{i&&zn()?setTimeout(()=>{T("appDialog/addDialogNotify")},2300):t()}})}var co={curSendCont:0,msgMtimeList:[]},uo=60,nn=6,po={addSendCount(e){e.curSendCont+=1},clearSendCount(e){e.curSendCont=0},addMsgDisturbSaveCount(e,t){let i=e.msgMtimeList.length;if(e.msgMtimeList.length<nn&&(e.msgMtimeList.push(t/1e6),i=e.msgMtimeList.length),i>=nn){let n=e.msgMtimeList[0];e.msgMtimeList[i-1]-n<=uo&&T("appDialog/addDialogMsgDisturb",2),e.msgMtimeList.splice(0,1)}}},fo={namespaced:!0,state:co,mutations:po},mo={callMtimeList:[]},go=60,an=3,ho={addCallDisturbReceiveCount(e,t){let i=e.callMtimeList.length;if(e.callMtimeList.length<an&&(e.callMtimeList.push(t/1e3),i=e.callMtimeList.length),i>=an){let n=e.callMtimeList[0];e.callMtimeList[i-1]-n<=go&&T("appDialog/addDialogCallDisturb",2),e.callMtimeList.splice(0,1)}},clearCallDisturbReceiveMtime(e){e.callMtimeList=[]}},_o={namespaced:!0,state:mo,mutations:ho},ze=N("pubData");ze||(ze={});var bo=["pubToken","pubUser","pubAccount","pubPrivacy"],yo=function(e,t){if(bo.indexOf(e)==-1)return;let i=N("pubData");i=i||{},i[e]=t,z("pubData",i),["pubUser","pubAccount"].indexOf(e)!=-1?uni.$emit("event_vuex_watch",e):uni.$emit(`event_vuex_watch_${e}`)},Ao=(0,sn.createStore)({state:{pubToken:ze.pubToken||"",pubUser:ze.pubUser||{nickname:"",uid:0,avatar:""},pubAccount:ze.pubAccount||{money:0},pubPrivacy:ze.pubPrivacy||{},pubUnread:0,pubUnreadMy:{fans:0,moment:0,moment_type:1},pubI18n:"",pubAI18n:""},mutations:{setPubValue(e,t){let i=t.name.split("."),n="",a=i.length;if(a>=2){let s=e[i[0]];for(let r=1;r<a-1;r++)s=s[i[r]];s[i[a-1]]=t.value,n=i[0]}else e[t.name]=t.value,n=t.name;yo(n,e[n])},initUnread(e,t){let i=parseInt(t);i<0&&(i=0),e.pubUnread=i,yt($e.MSG,e.pubUnread),uni.$emit("event_vuex_watch_pub_unread",i)},setUnread(e,t){let i=parseInt(t);if(isNaN(i)||i==0)return;let n=e.pubUnread+i;n<0&&(n=0),e.pubUnread=n,yt($e.MSG,e.pubUnread),uni.$emit("event_vuex_watch_pub_unread",n)},initUnreadMy(e,t){let i=e.pubUnreadMy;typeof t.fans!="undefined"&&(i.fans=Number(t.fans)),typeof t.moment!="undefined"&&(i.moment=Number(t.moment)),typeof t.moment_type!="undefined"&&(i.moment_type=Number(t.moment_type)),e.pubUnreadMy=i,Xi(),uni.$emit("event_vuex_watch_pubUnreadMy",i)},setUnreadMy(e,t){let i=e.pubUnreadMy;for(let n in t)i[n]=t[n];e.pubUnreadMy=i,Xi(),uni.$emit("event_vuex_watch_pubUnreadMy",i)}},modules:{appDialog:$r,message:fo,call:_o}}),je={handleCache(){let e=je.getCache();A(e)||(e=ei(e),!je.checkIsShow()&&(e.from_cache=1,T("appDialog/addDialogBan",e),T("appDialog/executeBanWarningDialog")))},checkIsShow(){return St()=="/pagesDialog/banned"},setCache(e){let t=JSON.stringify(e);z(je.getCacheKey(),t)},getCache(){return N(je.getCacheKey())},getCacheKey(){return`banned_data_${Ao.state.pubUser.uid}`},removeCache(){Ce(je.getCacheKey())}},M={setToken(e){A(e)||ni("pubToken",e)},isLogin(){let e=getApp().globalData.s.state;return!A(e.pubToken)&&e.pubUser.uid},requestOutsourcing(e,t,i,n,a=!1){return M.requestBase(e,t,i,n,a,3)},requestManager(e,t,i,n,a=!1){return M.requestBase(e,t,i,n,a,2)},request(e,t,i,n,a=!1){return M.requestBase(e,t,i,n,a,1)},requestBase(e,t,i,n,a=!1,s){return new Promise((r,l)=>{let c=!1;try{c=getApp().globalData.s.state.pubToken}catch(S){V("error","at common/api.js:35","request token catch "+JSON.stringify(S))}let u={"content-type":"application/json",ua:getApp().globalData.ua},p;s==1?(p=getApp().globalData.apiHost,c&&(u.auth=`Bearer ${c}`)):s==2?(p=getApp().globalData.pApiHost,c&&(u.Authorization=`Bearer ${c}`)):s==3&&(p=getApp().globalData.oApiHost,c&&(u.Authorization=`Bearer ${c}`));let _=!1;if(i)if(i=="refresh")_=!0;else{let S={mask:!0};typeof i=="string"&&(S.title=i),uni.showLoading(S)}mt.invoke(e,t);let b=Lo(t);uni.request({url:p+e,method:"POST",header:u,data:b,dataType:"json",timeout:1e4,complete(S){if(i&&uni.hideLoading(),V("log","at common/api.js:74",`request ${e} obj ${JSON.stringify(t)}`),S.statusCode==200){let g=S.data;if(g.data&&typeof g.data.callback=="object"&&(M.handleCallback(g.data.callback),a))return pt;if(g.ok===99)return getApp().loginOut(),pt;if(g.ok==-98)return Eo(g.data),n&&l(g),pt;if(A(g.msg)||Ke(g.msg),g.ok>0){r(g);return}n&&l(g)}else if(_&&uni.stopPullDownRefresh(),n)l(S),mt.error(e,t,S);else return mt.error(e,t,S),pt},fail(S){mt.fail(e,S)}})})},handleCallback(e){switch(e.func_name){case"alert":wo(e.func_data);break;case"open":Co(e.func_data);break;case"vip_alert":J("/pages/vip/vip-dialog",null,"vipDialogData",e.func_data);break;case"recharge_alert":let t={fromType:e.func_data.from_type,diffCoin:e.func_data.diff_coin||0};t.order_source=typeof e.func_data.order_source=="undefined"?0:e.func_data.order_source,t.click_type=typeof e.func_data.click_type=="undefined"?0:e.func_data.click_type,J("/pages/coin/coin-dialog",t,"coinDialogData",e.func_data);break;case"close":ti();break;case"banned_alert":let i=e.func_data.exp_time;if(parseInt(new Date().getTime()/1e3)>i||(T("appDialog/addDialogBan",e.func_data),je.setCache(e.func_data),St()=="/pagesDialog/banned"))return;let a=setTimeout(()=>{clearTimeout(a),T("appDialog/executeBanWarningDialog")},e.delay*1e3);break;case"reconnect_mqtt":getApp().socketReconnect(mr.API_CALL_BACK,e.func_data);break;case"reload_route":getApp().handleSecret(e.func_data,Pr.CALLBACK,{});break;case"event":So(e.func_data);break;case"api":Do(e.func_data);break;case"sensitive_alert":J("/pagesDialog/sensitive-check",null,"sensitiveData",e.func_data),uni.hideKeyboard();break;case"free_coins":J("/pagesDialog/coins-free",{coin:e.func_data.free_coins},"coinsFree",{},{});break}},accessLog(e,t){this.request("/other/access-log",{api_name:e,content:ft(t)})},accessLogExtra(e,t,i){let n=`${ft(t)} ${ft(i)}`;this.request("/other/access-log",{api_name:e,content:n})},accessLogApi(e,t,i,n){let a=`url:${t} p:${JSON.stringify(i)} res ${ft(n)}`;M.accessLog(e,a)}};function wo(e){let t=e.enter_func,i=e.cancel_title,n=e.enter_title,a=e.cancel_func,s=!A(i);uni.hideKeyboard(),uni.showModal({title:e.title,content:e.msg,showCancel:s,cancelText:s?i:x("cancel"),confirmText:n||x("ok"),complete(r){r.confirm?A(t)||M.handleCallback(t):r.cancel&&(A(a)||M.handleCallback(a))}})}function Co(e){let t=e.page_name,i=e.data;t=="inside_web"?Ji(i.route,!0):t=="safari"?Ji(i.route,!1):t=="web"?ge(i.route):t=="native"?To(i.route):t=="chat"&&(Ct().indexOf("/pages/call/chat-view")==-1?$s(i.user_info):uni.$emit("event_no_connect_close_listener",{action:"chat_pri",user:i.user_info}))}function So(e){let t=e.event_key;if(A(t))return;let i=e.data;A(i)?uni.$emit(t):uni.$emit(t,i)}function Do(e){if(e.type==1){let i={user_info:{is_rest:0}};M.request("/user/update-info",i,!0).then(()=>{getApp().pubUser.is_rest=0,Dt(x("tips"),x("anchorTurnedOffRest"),"",x("gotIt"))})}}function To(e){return new Function("return "+e)()}function Eo(e){Ct().indexOf("/pagesDialog/stop_taking")==-1&&(getApp().globalData.appStopTaking=!0,getApp().socketDisconnect(),J("/pagesDialog/stop_taking",{},"stopTakingData",e))}function Lo(e){try{A(e)&&(e={}),e.times=new Date().getTime();let t=Object.keys(e).sort(),i={};for(let a=0,s=t.length;a<s;a++)i[t[a]]=e[t[a]];let n=Zn(i).substr(1);return i.sign=$t.md5(`${$t.md5(n)}fMHjgD94yoc6TbB7sGoA`),i}catch(t){return e}}function Zn(e,t){if(e==null)return"";try{let i="",n=typeof e;if(n=="string"||n=="number")i+="&"+t+"="+zs(e);else if(n=="boolean")i+="&"+t+"="+(e?1:0);else for(let a in e){let s=t==null?a:t+xo(a);i+=Zn(e[a],s)}return i}catch(i){return""}}function xo(e){return`${encodeURIComponent("[")}${e}${encodeURIComponent("]")}`}var R=(e,t)=>{let i=e.__vccOpts||e;for(let[n,a]of t)i[n]=a;return i};var P=K(q()),ko={"l-img":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"place-img":{"":{position:"absolute",top:0,left:0}},"text-place":{"":{color:"#999999",position:"absolute",bottom:0,textAlign:"center"}}},vo={name:"LImg",emits:["click","onError","onLoad"],props:{src:{type:String,default:""},mode:{type:String,default:"aspectFill"},w:{type:String,default:"0"},h:{type:String,default:"0"},radius:{type:String,default:"0"},lazyLoad:{type:Boolean,default:!1},fade:{type:Boolean,default:!0},placeType:{type:Number,default:0},placeW:{type:String,default:""},placeFontSize:{type:[String,Boolean],default:""},placeBottom:{type:String,default:""},border:{type:String,default:""},otherStyle:{type:Object,default(){return{}}},click:{type:Boolean,default:!0},isGif:{type:Boolean,default:!1},needStyle:{type:[String,Number],default:0},useCache:{type:Boolean,default:!1},fitWH:{type:String,default:""}},data(){return{errorCount:1,path:"",refresh:!0,darkDir:"",isLoad:!1,fitStr:""}},watch:{src(){this.isLoad=!1,this.path=this.parse()}},computed:{placeSrc(){return this.placeType==1?"/static/img_load_s.png":this.placeType==2?"/static/img_load_b.png":""},placeViewStyle(){let e={width:this.placeW,height:this.placeW,position:"relative"};return this.placeBottom&&(e.marginBottom=this.placeBottom),e},placeFontSizeVal(){return this.placeFontSize===!1?"":this.placeFontSize?this.placeFontSize:this.placeType==2?"24rpx":"16rpx"},borderStyle(){if(this.border=="")return{};let e={},t=this.border.split(" ");return e.borderWidth=t[0],e.borderStyle=t[1],e.borderColor=t[2],e},viewStyle(){let e={width:this.w,minWidth:this.w,height:this.h,minHeight:this.h};return this.setRadius(e)},imgStyle(){let e={width:this.w,height:this.h};return e=Object.assign(e,this.otherStyle),this.setRadius(e)},ossPathOriginal(){return this.isGif?getApp().globalData.ossPath:getApp().globalData.ossPicPath}},methods:{$str:x,clickImg(e){this.click&&this.$emit("click",e)},setRadius(e){let t=this.radius.split(" ");return t.length<=1?e.borderRadius=this.radius:(e.borderTopLeftRadius=t[0],e.borderTopRightRadius=t[1],e.borderBottomRightRadius=t[2],e.borderBottomLeftRadius=t[3]),e},onLoadError(){if(this.path){if(this.path.startsWith("http")){if(this.errorCount>2){this.isError=!0,this.$emit("onError");return}this.errorCount+=1,this.refresh=!1,setTimeout(()=>{this.refresh=!0},500);return}this.path=this.ossPathOriginal+this.darkDir+this.src,kn(this.darkDir+this.src)}},onLoad(){this.isLoad=!0,this.$emit("onLoad")},parse(){let e;if(e=0,this.src.startsWith("/static"))return this.src;if(this.src.startsWith("s/")){let t=getApp().getAppFilePath(this.darkDir+this.src,e);if(!A(t))return t}return this.useCache||e&&H.isAndroid?this.isGif?_e(this.fitStr+this.darkDir+this.src):xn(this.fitStr+this.darkDir+this.src):this.src.startsWith("file://")?this.src:this.src.startsWith("/var/mobile/")?"file://"+this.src:this.src.startsWith("/storage/")?this.src:this.ossPathOriginal+this.fitStr+this.darkDir+this.src}},created(){this.needStyle==1&&getApp().globalData.themeObj.style==Pn.DARK?this.darkDir="dark/":this.darkDir="",this.fitWH&&this.src.indexOf("fit-in")==-1&&(this.fitStr="fit-in/"+this.fitWH+"/"),this.path=this.parse()}};function Io(e,t,i,n,a,s){return(0,P.openBlock)(),(0,P.createElementBlock)("view",{class:"l-img",onClick:t[2]||(t[2]=(...r)=>s.clickImg&&s.clickImg(...r)),style:(0,P.normalizeStyle)([s.viewStyle,s.borderStyle]),renderWhole:!0},[(0,P.createElementVNode)("view",{class:"l-img",style:(0,P.normalizeStyle)([{position:"relative"},s.viewStyle])},[i.placeType&&!a.isLoad?((0,P.openBlock)(),(0,P.createElementBlock)("view",{key:0,style:(0,P.normalizeStyle)(s.placeViewStyle)},[(0,P.createElementVNode)("u-image",{src:s.placeSrc,style:(0,P.normalizeStyle)({width:i.placeW,height:i.placeW})},null,12,["src"]),s.placeFontSizeVal?((0,P.openBlock)(),(0,P.createElementBlock)("u-text",{key:0,class:"text-place",style:(0,P.normalizeStyle)({fontSize:s.placeFontSizeVal,width:i.placeW})},(0,P.toDisplayString)(s.$str("loading"))+"...",5)):(0,P.createCommentVNode)("",!0)],4)):(0,P.createCommentVNode)("",!0),a.refresh?((0,P.openBlock)(),(0,P.createElementBlock)("u-image",{key:1,onError:t[0]||(t[0]=(...r)=>s.onLoadError&&s.onLoadError(...r)),onLoad:t[1]||(t[1]=(...r)=>s.onLoad&&s.onLoad(...r)),src:a.path,mode:i.mode,lazyLoad:i.lazyLoad,fadeShow:i.fade,style:(0,P.normalizeStyle)([s.imgStyle,s.borderStyle]),class:"place-img"},null,44,["src","mode","lazyLoad","fadeShow"])):(0,P.createCommentVNode)("",!0)],4)],4)}var le=R(vo,[["render",Io],["styles",[ko]]]);var d=K(q());var ce=K(q());var No={"coin-flex":{"":{flexDirection:"row",alignItems:"center"}}},Ro={props:{coin:{type:[String,Number],default:""},w:{type:Number,default:20},size:{type:Number,default:24},mR:{type:Number,default:4},fw:{type:Number,default:400},color:{type:String,default:""}},data(){return{}},computed:{textColor(){return this.color?this.color:getApp().globalData.themeObj.color.coin}}};function Oo(e,t,i,n,a,s){let r=U((0,ce.resolveDynamicComponent)("l-img"),le);return(0,ce.openBlock)(),(0,ce.createElementBlock)("view",{class:"coin-flex",renderWhole:!0},[(0,ce.createElementVNode)("u-text",{style:(0,ce.normalizeStyle)({fontSize:`${i.size}rpx`,marginRight:`${i.mR}rpx`,fontWeight:i.fw,color:s.textColor})},(0,ce.toDisplayString)(i.coin),5),(0,ce.createVNode)(r,{src:"s/my/i_coins.png",w:`${i.w}rpx`,h:`${i.w}rpx`},null,8,["w","h"])])}var ci=R(Ro,[["render",Oo],["styles",[No]]]);var be=K(q());var Fo=we("animation"),Et=class{constructor(t,i){this.options=t,this.animation=uni.createAnimation(t),this.currentStepAnimates={},this.next=0,this.$=i}_nvuePushAnimates(t,i){let n=this.currentStepAnimates[this.next],a={};if(n?a=n:a={styles:{},config:{}},Qn.includes(t)){a.styles.transform||(a.styles.transform="");let s="";t==="rotate"&&(s="deg"),a.styles.transform+=`${t}(${i+s}) `}else a.styles[t]=`${i}`;this.currentStepAnimates[this.next]=a}_animateRun(t={},i={}){let n=this.$.$refs.ani.ref;if(n)return new Promise((a,s)=>{Fo.transition(n,Rt({styles:t},i),r=>{a()})})}_nvueNextAnimate(t,i=0,n){let a=t[i];if(a){let{styles:s,config:r}=a;this._animateRun(s,r).then(()=>{i+=1,this._nvueNextAnimate(t,i,n)})}else this.currentStepAnimates={},typeof n=="function"&&n(),this.isEnd=!0}step(t={}){return this.currentStepAnimates[this.next].config=Object.assign({},this.options,t),this.currentStepAnimates[this.next].styles.transformOrigin=this.currentStepAnimates[this.next].config.transformOrigin,this.next++,this}run(t){this.isEnd=!1,this.$.$refs.ani&&this.$.$refs.ani.ref&&(this._nvueNextAnimate(this.currentStepAnimates,0,t),this.next=0)}},Qn=["matrix","matrix3d","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","translate","translate3d","translateX","translateY","translateZ"],Mo=["opacity","backgroundColor"],Po=["width","height","left","right","top","bottom"];Qn.concat(Mo,Po).forEach(e=>{Et.prototype[e]=function(...t){return this._nvuePushAnimates(e,t),this}});function Xn(e,t){if(t)return clearTimeout(t.timer),new Et(e,t)}var Bo={name:"uniTransition",emits:["click","change"],props:{show:{type:Boolean,default:!1},modeClass:{type:[Array,String],default(){return"fade"}},duration:{type:Number,default:300},styles:{type:Object,default(){return{}}},customClass:{type:String,default:""}},data(){return{isShow:!1,transform:"",opacity:1,animationData:{},durationTime:300,config:{}}},watch:{show:{handler(e){e?this.open():this.isShow&&this.close()},immediate:!0}},computed:{stylesObject(){let e=ki(Rt({},this.styles),{"transition-duration":this.duration/1e3+"s"}),t="";for(let i in e){let n=this.toLine(i);t+=n+":"+e[i]+";"}return t},transformStyles(){return"transform:"+this.transform+";opacity:"+this.opacity+";"+this.stylesObject}},created(){this.config={duration:this.duration,timingFunction:"ease",transformOrigin:"50% 50%",delay:0},this.durationTime=this.duration},methods:{init(e={}){e.duration&&(this.durationTime=e.duration),this.animation=Xn(Object.assign(this.config,e),this)},onClick(){this.$emit("click",{detail:this.isShow})},step(e,t={}){if(this.animation){for(let i in e)try{typeof e[i]=="object"?this.animation[i](...e[i]):this.animation[i](e[i])}catch(n){V("error","at uni_modules/uni-transition/components/uni-transition/uni-transition.vue:139",`\u65B9\u6CD5 ${i} \u4E0D\u5B58\u5728`)}return this.animation.step(t),this}},run(e){this.animation&&this.animation.run(e)},open(){clearTimeout(this.timer),this.transform="",this.isShow=!0;let{opacity:e,transform:t}=this.styleInit(!1);typeof e!="undefined"&&(this.opacity=e),this.transform=t,this.$nextTick(()=>{this.timer=setTimeout(()=>{this.animation=Xn(this.config,this),this.tranfromInit(!1).step(),this.animation.run(),this.$emit("change",{detail:this.isShow})},20)})},close(e){this.animation&&this.tranfromInit(!0).step().run(()=>{this.isShow=!1,this.animationData=null,this.animation=null;let{opacity:t,transform:i}=this.styleInit(!1);this.opacity=t||1,this.transform=i,this.$emit("change",{detail:this.isShow})})},styleInit(e){let t={transform:""},i=(n,a)=>{a==="fade"?t.opacity=this.animationType(n)[a]:t.transform+=this.animationType(n)[a]+" "};return typeof this.modeClass=="string"?i(e,this.modeClass):this.modeClass.forEach(n=>{i(e,n)}),t},tranfromInit(e){let t=(i,n)=>{let a=null;n==="fade"?a=i?0:1:(a=i?"-100%":"0",n==="zoom-in"&&(a=i?.8:1),n==="zoom-out"&&(a=i?1.2:1),n==="slide-right"&&(a=i?"100%":"0"),n==="slide-bottom"&&(a=i?"100%":"0")),this.animation[this.animationMode()[n]](a)};return typeof this.modeClass=="string"?t(e,this.modeClass):this.modeClass.forEach(i=>{t(e,i)}),this.animation},animationType(e){return{fade:e?1:0,"slide-top":`translateY(${e?"0":"-100%"})`,"slide-right":`translateX(${e?"0":"100%"})`,"slide-bottom":`translateY(${e?"0":"100%"})`,"slide-left":`translateX(${e?"0":"-100%"})`,"zoom-in":`scaleX(${e?1:.8}) scaleY(${e?1:.8})`,"zoom-out":`scaleX(${e?1:1.2}) scaleY(${e?1:1.2})`}},animationMode(){return{fade:"opacity","slide-top":"translateY","slide-right":"translateX","slide-bottom":"translateY","slide-left":"translateX","zoom-in":"scale","zoom-out":"scale"}},toLine(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}}};function Uo(e,t,i,n,a,s){return a.isShow?((0,be.openBlock)(),(0,be.createElementBlock)("view",{key:0,ref:"ani",animation:a.animationData,class:(0,be.normalizeClass)(i.customClass),style:(0,be.normalizeStyle)(s.transformStyles),onClick:t[0]||(t[0]=(...r)=>s.onClick&&s.onClick(...r)),renderWhole:!0},[(0,be.renderSlot)(e.$slots,"default")],14,["animation"])):(0,be.createCommentVNode)("",!0)}var ve=R(Bo,[["render",Uo]]);var o=K(q());var Ie=K(q());var Go={id:"2852637",name:"uniui\u56FE\u6807\u5E93",font_family:"uniicons",css_prefix_text:"uniui-",description:"",glyphs:[{icon_id:"25027049",name:"yanse",font_class:"color",unicode:"e6cf",unicode_decimal:59087},{icon_id:"25027048",name:"wallet",font_class:"wallet",unicode:"e6b1",unicode_decimal:59057},{icon_id:"25015720",name:"settings-filled",font_class:"settings-filled",unicode:"e6ce",unicode_decimal:59086},{icon_id:"25015434",name:"shimingrenzheng-filled",font_class:"auth-filled",unicode:"e6cc",unicode_decimal:59084},{icon_id:"24934246",name:"shop-filled",font_class:"shop-filled",unicode:"e6cd",unicode_decimal:59085},{icon_id:"24934159",name:"staff-filled-01",font_class:"staff-filled",unicode:"e6cb",unicode_decimal:59083},{icon_id:"24932461",name:"VIP-filled",font_class:"vip-filled",unicode:"e6c6",unicode_decimal:59078},{icon_id:"24932462",name:"plus_circle_fill",font_class:"plus-filled",unicode:"e6c7",unicode_decimal:59079},{icon_id:"24932463",name:"folder_add-filled",font_class:"folder-add-filled",unicode:"e6c8",unicode_decimal:59080},{icon_id:"24932464",name:"yanse-filled",font_class:"color-filled",unicode:"e6c9",unicode_decimal:59081},{icon_id:"24932465",name:"tune-filled",font_class:"tune-filled",unicode:"e6ca",unicode_decimal:59082},{icon_id:"24932455",name:"a-rilidaka-filled",font_class:"calendar-filled",unicode:"e6c0",unicode_decimal:59072},{icon_id:"24932456",name:"notification-filled",font_class:"notification-filled",unicode:"e6c1",unicode_decimal:59073},{icon_id:"24932457",name:"wallet-filled",font_class:"wallet-filled",unicode:"e6c2",unicode_decimal:59074},{icon_id:"24932458",name:"paihangbang-filled",font_class:"medal-filled",unicode:"e6c3",unicode_decimal:59075},{icon_id:"24932459",name:"gift-filled",font_class:"gift-filled",unicode:"e6c4",unicode_decimal:59076},{icon_id:"24932460",name:"fire-filled",font_class:"fire-filled",unicode:"e6c5",unicode_decimal:59077},{icon_id:"24928001",name:"refreshempty",font_class:"refreshempty",unicode:"e6bf",unicode_decimal:59071},{icon_id:"24926853",name:"location-ellipse",font_class:"location-filled",unicode:"e6af",unicode_decimal:59055},{icon_id:"24926735",name:"person-filled",font_class:"person-filled",unicode:"e69d",unicode_decimal:59037},{icon_id:"24926703",name:"personadd-filled",font_class:"personadd-filled",unicode:"e698",unicode_decimal:59032},{icon_id:"24923351",name:"back",font_class:"back",unicode:"e6b9",unicode_decimal:59065},{icon_id:"24923352",name:"forward",font_class:"forward",unicode:"e6ba",unicode_decimal:59066},{icon_id:"24923353",name:"arrowthinright",font_class:"arrow-right",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923353",name:"arrowthinright",font_class:"arrowthinright",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrow-left",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrowthinleft",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923355",name:"arrowthinup",font_class:"arrow-up",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923355",name:"arrowthinup",font_class:"arrowthinup",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923356",name:"arrowthindown",font_class:"arrow-down",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923356",name:"arrowthindown",font_class:"arrowthindown",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923349",name:"arrowdown",font_class:"bottom",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923349",name:"arrowdown",font_class:"arrowdown",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923346",name:"arrowright",font_class:"right",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923346",name:"arrowright",font_class:"arrowright",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923347",name:"arrowup",font_class:"top",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923347",name:"arrowup",font_class:"arrowup",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923348",name:"arrowleft",font_class:"left",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923348",name:"arrowleft",font_class:"arrowleft",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923334",name:"eye",font_class:"eye",unicode:"e651",unicode_decimal:58961},{icon_id:"24923335",name:"eye-filled",font_class:"eye-filled",unicode:"e66a",unicode_decimal:58986},{icon_id:"24923336",name:"eye-slash",font_class:"eye-slash",unicode:"e6b3",unicode_decimal:59059},{icon_id:"24923337",name:"eye-slash-filled",font_class:"eye-slash-filled",unicode:"e6b4",unicode_decimal:59060},{icon_id:"24923305",name:"info-filled",font_class:"info-filled",unicode:"e649",unicode_decimal:58953},{icon_id:"24923299",name:"reload-01",font_class:"reload",unicode:"e6b2",unicode_decimal:59058},{icon_id:"24923195",name:"mic_slash_fill",font_class:"micoff-filled",unicode:"e6b0",unicode_decimal:59056},{icon_id:"24923165",name:"map-pin-ellipse",font_class:"map-pin-ellipse",unicode:"e6ac",unicode_decimal:59052},{icon_id:"24923166",name:"map-pin",font_class:"map-pin",unicode:"e6ad",unicode_decimal:59053},{icon_id:"24923167",name:"location",font_class:"location",unicode:"e6ae",unicode_decimal:59054},{icon_id:"24923064",name:"starhalf",font_class:"starhalf",unicode:"e683",unicode_decimal:59011},{icon_id:"24923065",name:"star",font_class:"star",unicode:"e688",unicode_decimal:59016},{icon_id:"24923066",name:"star-filled",font_class:"star-filled",unicode:"e68f",unicode_decimal:59023},{icon_id:"24899646",name:"a-rilidaka",font_class:"calendar",unicode:"e6a0",unicode_decimal:59040},{icon_id:"24899647",name:"fire",font_class:"fire",unicode:"e6a1",unicode_decimal:59041},{icon_id:"24899648",name:"paihangbang",font_class:"medal",unicode:"e6a2",unicode_decimal:59042},{icon_id:"24899649",name:"font",font_class:"font",unicode:"e6a3",unicode_decimal:59043},{icon_id:"24899650",name:"gift",font_class:"gift",unicode:"e6a4",unicode_decimal:59044},{icon_id:"24899651",name:"link",font_class:"link",unicode:"e6a5",unicode_decimal:59045},{icon_id:"24899652",name:"notification",font_class:"notification",unicode:"e6a6",unicode_decimal:59046},{icon_id:"24899653",name:"staff",font_class:"staff",unicode:"e6a7",unicode_decimal:59047},{icon_id:"24899654",name:"VIP",font_class:"vip",unicode:"e6a8",unicode_decimal:59048},{icon_id:"24899655",name:"folder_add",font_class:"folder-add",unicode:"e6a9",unicode_decimal:59049},{icon_id:"24899656",name:"tune",font_class:"tune",unicode:"e6aa",unicode_decimal:59050},{icon_id:"24899657",name:"shimingrenzheng",font_class:"auth",unicode:"e6ab",unicode_decimal:59051},{icon_id:"24899565",name:"person",font_class:"person",unicode:"e699",unicode_decimal:59033},{icon_id:"24899566",name:"email-filled",font_class:"email-filled",unicode:"e69a",unicode_decimal:59034},{icon_id:"24899567",name:"phone-filled",font_class:"phone-filled",unicode:"e69b",unicode_decimal:59035},{icon_id:"24899568",name:"phone",font_class:"phone",unicode:"e69c",unicode_decimal:59036},{icon_id:"24899570",name:"email",font_class:"email",unicode:"e69e",unicode_decimal:59038},{icon_id:"24899571",name:"personadd",font_class:"personadd",unicode:"e69f",unicode_decimal:59039},{icon_id:"24899558",name:"chatboxes-filled",font_class:"chatboxes-filled",unicode:"e692",unicode_decimal:59026},{icon_id:"24899559",name:"contact",font_class:"contact",unicode:"e693",unicode_decimal:59027},{icon_id:"24899560",name:"chatbubble-filled",font_class:"chatbubble-filled",unicode:"e694",unicode_decimal:59028},{icon_id:"24899561",name:"contact-filled",font_class:"contact-filled",unicode:"e695",unicode_decimal:59029},{icon_id:"24899562",name:"chatboxes",font_class:"chatboxes",unicode:"e696",unicode_decimal:59030},{icon_id:"24899563",name:"chatbubble",font_class:"chatbubble",unicode:"e697",unicode_decimal:59031},{icon_id:"24881290",name:"upload-filled",font_class:"upload-filled",unicode:"e68e",unicode_decimal:59022},{icon_id:"24881292",name:"upload",font_class:"upload",unicode:"e690",unicode_decimal:59024},{icon_id:"24881293",name:"weixin",font_class:"weixin",unicode:"e691",unicode_decimal:59025},{icon_id:"24881274",name:"compose",font_class:"compose",unicode:"e67f",unicode_decimal:59007},{icon_id:"24881275",name:"qq",font_class:"qq",unicode:"e680",unicode_decimal:59008},{icon_id:"24881276",name:"download-filled",font_class:"download-filled",unicode:"e681",unicode_decimal:59009},{icon_id:"24881277",name:"pengyouquan",font_class:"pyq",unicode:"e682",unicode_decimal:59010},{icon_id:"24881279",name:"sound",font_class:"sound",unicode:"e684",unicode_decimal:59012},{icon_id:"24881280",name:"trash-filled",font_class:"trash-filled",unicode:"e685",unicode_decimal:59013},{icon_id:"24881281",name:"sound-filled",font_class:"sound-filled",unicode:"e686",unicode_decimal:59014},{icon_id:"24881282",name:"trash",font_class:"trash",unicode:"e687",unicode_decimal:59015},{icon_id:"24881284",name:"videocam-filled",font_class:"videocam-filled",unicode:"e689",unicode_decimal:59017},{icon_id:"24881285",name:"spinner-cycle",font_class:"spinner-cycle",unicode:"e68a",unicode_decimal:59018},{icon_id:"24881286",name:"weibo",font_class:"weibo",unicode:"e68b",unicode_decimal:59019},{icon_id:"24881288",name:"videocam",font_class:"videocam",unicode:"e68c",unicode_decimal:59020},{icon_id:"24881289",name:"download",font_class:"download",unicode:"e68d",unicode_decimal:59021},{icon_id:"24879601",name:"help",font_class:"help",unicode:"e679",unicode_decimal:59001},{icon_id:"24879602",name:"navigate-filled",font_class:"navigate-filled",unicode:"e67a",unicode_decimal:59002},{icon_id:"24879603",name:"plusempty",font_class:"plusempty",unicode:"e67b",unicode_decimal:59003},{icon_id:"24879604",name:"smallcircle",font_class:"smallcircle",unicode:"e67c",unicode_decimal:59004},{icon_id:"24879605",name:"minus-filled",font_class:"minus-filled",unicode:"e67d",unicode_decimal:59005},{icon_id:"24879606",name:"micoff",font_class:"micoff",unicode:"e67e",unicode_decimal:59006},{icon_id:"24879588",name:"closeempty",font_class:"closeempty",unicode:"e66c",unicode_decimal:58988},{icon_id:"24879589",name:"clear",font_class:"clear",unicode:"e66d",unicode_decimal:58989},{icon_id:"24879590",name:"navigate",font_class:"navigate",unicode:"e66e",unicode_decimal:58990},{icon_id:"24879591",name:"minus",font_class:"minus",unicode:"e66f",unicode_decimal:58991},{icon_id:"24879592",name:"image",font_class:"image",unicode:"e670",unicode_decimal:58992},{icon_id:"24879593",name:"mic",font_class:"mic",unicode:"e671",unicode_decimal:58993},{icon_id:"24879594",name:"paperplane",font_class:"paperplane",unicode:"e672",unicode_decimal:58994},{icon_id:"24879595",name:"close",font_class:"close",unicode:"e673",unicode_decimal:58995},{icon_id:"24879596",name:"help-filled",font_class:"help-filled",unicode:"e674",unicode_decimal:58996},{icon_id:"24879597",name:"plus-filled",font_class:"paperplane-filled",unicode:"e675",unicode_decimal:58997},{icon_id:"24879598",name:"plus",font_class:"plus",unicode:"e676",unicode_decimal:58998},{icon_id:"24879599",name:"mic-filled",font_class:"mic-filled",unicode:"e677",unicode_decimal:58999},{icon_id:"24879600",name:"image-filled",font_class:"image-filled",unicode:"e678",unicode_decimal:59e3},{icon_id:"24855900",name:"locked-filled",font_class:"locked-filled",unicode:"e668",unicode_decimal:58984},{icon_id:"24855901",name:"info",font_class:"info",unicode:"e669",unicode_decimal:58985},{icon_id:"24855903",name:"locked",font_class:"locked",unicode:"e66b",unicode_decimal:58987},{icon_id:"24855884",name:"camera-filled",font_class:"camera-filled",unicode:"e658",unicode_decimal:58968},{icon_id:"24855885",name:"chat-filled",font_class:"chat-filled",unicode:"e659",unicode_decimal:58969},{icon_id:"24855886",name:"camera",font_class:"camera",unicode:"e65a",unicode_decimal:58970},{icon_id:"24855887",name:"circle",font_class:"circle",unicode:"e65b",unicode_decimal:58971},{icon_id:"24855888",name:"checkmarkempty",font_class:"checkmarkempty",unicode:"e65c",unicode_decimal:58972},{icon_id:"24855889",name:"chat",font_class:"chat",unicode:"e65d",unicode_decimal:58973},{icon_id:"24855890",name:"circle-filled",font_class:"circle-filled",unicode:"e65e",unicode_decimal:58974},{icon_id:"24855891",name:"flag",font_class:"flag",unicode:"e65f",unicode_decimal:58975},{icon_id:"24855892",name:"flag-filled",font_class:"flag-filled",unicode:"e660",unicode_decimal:58976},{icon_id:"24855893",name:"gear-filled",font_class:"gear-filled",unicode:"e661",unicode_decimal:58977},{icon_id:"24855894",name:"home",font_class:"home",unicode:"e662",unicode_decimal:58978},{icon_id:"24855895",name:"home-filled",font_class:"home-filled",unicode:"e663",unicode_decimal:58979},{icon_id:"24855896",name:"gear",font_class:"gear",unicode:"e664",unicode_decimal:58980},{icon_id:"24855897",name:"smallcircle-filled",font_class:"smallcircle-filled",unicode:"e665",unicode_decimal:58981},{icon_id:"24855898",name:"map-filled",font_class:"map-filled",unicode:"e666",unicode_decimal:58982},{icon_id:"24855899",name:"map",font_class:"map",unicode:"e667",unicode_decimal:58983},{icon_id:"24855825",name:"refresh-filled",font_class:"refresh-filled",unicode:"e656",unicode_decimal:58966},{icon_id:"24855826",name:"refresh",font_class:"refresh",unicode:"e657",unicode_decimal:58967},{icon_id:"24855808",name:"cloud-upload",font_class:"cloud-upload",unicode:"e645",unicode_decimal:58949},{icon_id:"24855809",name:"cloud-download-filled",font_class:"cloud-download-filled",unicode:"e646",unicode_decimal:58950},{icon_id:"24855810",name:"cloud-download",font_class:"cloud-download",unicode:"e647",unicode_decimal:58951},{icon_id:"24855811",name:"cloud-upload-filled",font_class:"cloud-upload-filled",unicode:"e648",unicode_decimal:58952},{icon_id:"24855813",name:"redo",font_class:"redo",unicode:"e64a",unicode_decimal:58954},{icon_id:"24855814",name:"images-filled",font_class:"images-filled",unicode:"e64b",unicode_decimal:58955},{icon_id:"24855815",name:"undo-filled",font_class:"undo-filled",unicode:"e64c",unicode_decimal:58956},{icon_id:"24855816",name:"more",font_class:"more",unicode:"e64d",unicode_decimal:58957},{icon_id:"24855817",name:"more-filled",font_class:"more-filled",unicode:"e64e",unicode_decimal:58958},{icon_id:"24855818",name:"undo",font_class:"undo",unicode:"e64f",unicode_decimal:58959},{icon_id:"24855819",name:"images",font_class:"images",unicode:"e650",unicode_decimal:58960},{icon_id:"24855821",name:"paperclip",font_class:"paperclip",unicode:"e652",unicode_decimal:58962},{icon_id:"24855822",name:"settings",font_class:"settings",unicode:"e653",unicode_decimal:58963},{icon_id:"24855823",name:"search",font_class:"search",unicode:"e654",unicode_decimal:58964},{icon_id:"24855824",name:"redo-filled",font_class:"redo-filled",unicode:"e655",unicode_decimal:58965},{icon_id:"24841702",name:"list",font_class:"list",unicode:"e644",unicode_decimal:58948},{icon_id:"24841489",name:"mail-open-filled",font_class:"mail-open-filled",unicode:"e63a",unicode_decimal:58938},{icon_id:"24841491",name:"hand-thumbsdown-filled",font_class:"hand-down-filled",unicode:"e63c",unicode_decimal:58940},{icon_id:"24841492",name:"hand-thumbsdown",font_class:"hand-down",unicode:"e63d",unicode_decimal:58941},{icon_id:"24841493",name:"hand-thumbsup-filled",font_class:"hand-up-filled",unicode:"e63e",unicode_decimal:58942},{icon_id:"24841494",name:"hand-thumbsup",font_class:"hand-up",unicode:"e63f",unicode_decimal:58943},{icon_id:"24841496",name:"heart-filled",font_class:"heart-filled",unicode:"e641",unicode_decimal:58945},{icon_id:"24841498",name:"mail-open",font_class:"mail-open",unicode:"e643",unicode_decimal:58947},{icon_id:"24841488",name:"heart",font_class:"heart",unicode:"e639",unicode_decimal:58937},{icon_id:"24839963",name:"loop",font_class:"loop",unicode:"e633",unicode_decimal:58931},{icon_id:"24839866",name:"pulldown",font_class:"pulldown",unicode:"e632",unicode_decimal:58930},{icon_id:"24813798",name:"scan",font_class:"scan",unicode:"e62a",unicode_decimal:58922},{icon_id:"24813786",name:"bars",font_class:"bars",unicode:"e627",unicode_decimal:58919},{icon_id:"24813788",name:"cart-filled",font_class:"cart-filled",unicode:"e629",unicode_decimal:58921},{icon_id:"24813790",name:"checkbox",font_class:"checkbox",unicode:"e62b",unicode_decimal:58923},{icon_id:"24813791",name:"checkbox-filled",font_class:"checkbox-filled",unicode:"e62c",unicode_decimal:58924},{icon_id:"24813794",name:"shop",font_class:"shop",unicode:"e62f",unicode_decimal:58927},{icon_id:"24813795",name:"headphones",font_class:"headphones",unicode:"e630",unicode_decimal:58928},{icon_id:"24813796",name:"cart",font_class:"cart",unicode:"e631",unicode_decimal:58929}]},Ho="/static/uniicons.ttf",Wo={"uni-icons":{"":{fontFamily:"uniicons",textDecoration:"none",textAlign:"center"}}},jo=weex.requireModule("dom");jo.addRule("fontFace",{fontFamily:"uniicons",src:"url('"+Ho+"')"});var Vo={name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""}},data(){return{icons:Go.glyphs}},computed:{unicode(){let e=this.icons.find(t=>t.font_class===this.type);return e?unescape(`%u${e.unicode}`):""}},methods:{_onClick(e){this.$emit("click",e)}}};function zo(e,t,i,n,a,s){return(0,Ie.openBlock)(),(0,Ie.createElementBlock)("u-text",{style:(0,Ie.normalizeStyle)({color:i.color,"font-size":i.size}),class:"uni-icons",onClick:t[0]||(t[0]=(...r)=>s._onClick&&s._onClick(...r))},(0,Ie.toDisplayString)(s.unicode),5)}var Je=R(Vo,[["render",zo],["styles",[Wo]]]);var F=K(q()),$o={"uni-popup":{"":{position:"fixed"},".top":{top:0},".left":{top:0},".right":{top:0}},"uni-popup__wrapper":{".uni-popup ":{position:"relative"},".uni-popup .left":{paddingTop:0,flex:1},".uni-popup .right":{paddingTop:0,flex:1}},"fixforpc-top":{"":{top:0}}},Yo={name:"uniPopup",components:{},emits:["change","maskClick"],props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},maskClick:{type:Boolean,default:!0},backgroundColor:{type:String,default:"none"},safeArea:{type:Boolean,default:!0},maskBgColor:{type:String,default:"rgba(0, 0, 0, 0.4)"}},watch:{type:{handler:function(e){this.config[e]&&this[this.config[e]](!0)},immediate:!0},isDesktop:{handler:function(e){this.config[e]&&this[this.config[this.type]](!0)},immediate:!0},maskClick:{handler:function(e){this.mkclick=e},immediate:!0}},data(){return{duration:300,ani:[],showPopup:!1,showTrans:!1,popupWidth:0,popupHeight:0,config:{top:"top",bottom:"bottom",center:"center",left:"left",right:"right",message:"top",dialog:"center",share:"bottom"},transClass:{position:"fixed",left:0,right:0},maskShow:!0,mkclick:!0,popupstyle:this.isDesktop?"fixforpc-top":"top"}},computed:{maskClass(){return{position:"fixed",bottom:0,top:0,left:0,right:0,backgroundColor:this.maskBgColor}},isDesktop(){return this.popupWidth>=500&&this.popupHeight>=500},bg(){return this.backgroundColor===""||this.backgroundColor==="none"?"transparent":this.backgroundColor}},mounted(){(()=>{let{windowWidth:t,windowHeight:i,windowTop:n,safeAreaInsets:a}=uni.getSystemInfoSync();this.popupWidth=t,this.popupHeight=i+n,this.safeArea?this.safeAreaInsets=a:this.safeAreaInsets=0})()},created(){this.mkclick=this.maskClick,this.animation?this.duration=300:this.duration=0,this.messageChild=null,this.clearPropagation=!1},methods:{closeMask(){this.maskShow=!1},disableMask(){this.mkclick=!1},clear(e){this.clearPropagation=!0},open(e,t=!0){if(e&&["top","center","bottom","left","right","message","dialog","share"].indexOf(e)!==-1||(e=this.type),this.maskShow=t,!this.config[e]){V("error","at uni_modules/uni-popup/components/uni-popup/uni-popup.vue:218","\u7F3A\u5C11\u7C7B\u578B\uFF1A",e);return}this[this.config[e]](),this.$emit("change",{show:!0,type:e})},close(e){this.showTrans=!1,this.$emit("change",{show:!1,type:this.type}),clearTimeout(this.timer),this.timer=setTimeout(()=>{this.showPopup=!1},300)},touchstart(){this.clearPropagation=!1},onTap(){if(this.clearPropagation){this.clearPropagation=!1;return}this.$emit("maskClick"),this.mkclick&&this.close()},top(e){this.popupstyle=this.isDesktop?"fixforpc-top":"top",this.ani=["slide-top"],this.transClass={position:"fixed",left:0,right:0,backgroundColor:this.bg},!e&&(this.showPopup=!0,this.showTrans=!0,this.$nextTick(()=>{this.messageChild&&this.type==="message"&&this.messageChild.timerClose()}))},bottom(e){this.popupstyle="bottom",this.ani=["slide-bottom"],this.transClass={position:"fixed",left:0,right:0,bottom:0,paddingBottom:this.safeAreaInsets&&this.safeAreaInsets.bottom||0,backgroundColor:this.bg},!e&&(this.showPopup=!0,this.showTrans=!0)},center(e){this.popupstyle="center",this.ani=["zoom-out","fade"],this.transClass={position:"fixed",bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center"},!e&&(this.showPopup=!0,this.showTrans=!0)},left(e){this.popupstyle="left",this.ani=["slide-left"],this.transClass={position:"fixed",left:0,bottom:0,top:0,backgroundColor:this.bg},!e&&(this.showPopup=!0,this.showTrans=!0)},right(e){this.popupstyle="right",this.ani=["slide-right"],this.transClass={position:"fixed",bottom:0,right:0,top:0,backgroundColor:this.bg},!e&&(this.showPopup=!0,this.showTrans=!0)}}};function Ko(e,t,i,n,a,s){let r=U((0,F.resolveDynamicComponent)("uni-transition"),ve);return a.showPopup?((0,F.openBlock)(),(0,F.createElementBlock)("view",{key:0,class:(0,F.normalizeClass)(["uni-popup",[a.popupstyle,s.isDesktop?"fixforpc-z-index":""]]),onTouchmove:t[2]||(t[2]=(0,F.withModifiers)((...l)=>s.clear&&s.clear(...l),["stop","prevent"])),renderWhole:!0},[(0,F.createElementVNode)("view",{onTouchstart:t[1]||(t[1]=(...l)=>s.touchstart&&s.touchstart(...l))},[a.maskShow?((0,F.openBlock)(),(0,F.createBlock)(r,{key:"1",name:"mask","mode-class":"fade",styles:s.maskClass,duration:a.duration,show:a.showTrans,onClick:s.onTap},null,8,["styles","duration","show","onClick"])):(0,F.createCommentVNode)("",!0),(0,F.createVNode)(r,{key:"2","mode-class":a.ani,name:"content",styles:a.transClass,duration:a.duration,show:a.showTrans,onClick:s.onTap},{default:(0,F.withCtx)(()=>[(0,F.createElementVNode)("view",{class:(0,F.normalizeClass)(["uni-popup__wrapper",[a.popupstyle]]),style:(0,F.normalizeStyle)({backgroundColor:s.bg}),onClick:t[0]||(t[0]=(...l)=>s.clear&&s.clear(...l))},[(0,F.renderSlot)(e.$slots,"default")],6)]),_:3},8,["mode-class","styles","duration","show","onClick"])],32)],34)):(0,F.createCommentVNode)("",!0)}var ui=R(Yo,[["render",Ko],["styles",[$o]]]);var G=K(q()),Jo={wrap:{"":{position:"fixed",alignItems:"center",flexDirection:"row",paddingTop:0,paddingRight:"4rpx",paddingBottom:0,paddingLeft:"4rpx"}},cover:{"":{zIndex:111,position:"fixed",backgroundColor:"rgba(0,0,0,0)"}},popover:{"":{borderRadius:"8rpx",textAlign:"center",zIndex:111,position:"relative"}},triangle:{"":{width:"28rpx",height:"28rpx",transform:"rotate(45deg)",position:"absolute",zIndex:11}}},qo=we("dom"),Zo={emits:["onClickOther"],props:{size:{type:Object,default(){return{}}},minMargin:{type:[String,Number],default:15},bgColor:{type:String,default:"#FFFFFF"},direction:{type:String,default:"above"},boxShadow:{type:String,default:"0 4rpx 8rpx 0 rgba(0, 0, 0, 0.09)"},triBoxShadow:{type:String,default:"0 4rpx 4rpx 0 rgba(0, 0, 0, 0.09)"},triangleIsTop:{type:Boolean,default:!0}},computed:{getStyle(){return{top:this.getTop()[0]+"px",height:this.popFatherHeight+"px",opacity:this.opacity,left:this.getSide()[0]+"px"}},getTriangleStyle(){return{top:this.getTop()[1]+"px",left:this.getSide()[1]+"px","background-color":this.bgColor}},triangleBoxShadow(){return A(this.boxShadow)?"":this.triangleBoxShadow}},data(){return{opacity:0,popWidth:0,popHeight:0,show:!1,showPop:!1,popFatherHeight:0,coverWidth:getApp().globalData.window.width,coverHeight:getApp().globalData.window.height}},methods:{getTop(){let e,t,i=this.size.top,n=this.size.height,a=this.size.bottom;if(this.direction=="above")i<this.popFatherHeight+10?(e=i+n+6,t=2):(e=i-this.popFatherHeight-6,t=this.popHeight);else if(this.direction=="below"){let s=getApp().globalData.window;this.coverHeight-s.statusBarHeight-s.safeBottom-44-50-a<this.popFatherHeight+10?(e=i-this.popFatherHeight-6,t=this.popHeight):(e=i+n+6,t=2)}return[e,t]},getSide(){let e=this.coverWidth,t=this.size,i=this.popWidth/2,n=t.left+(t.width-12)/2,a,s;return i>=n?(a=this.minMargin,s=n-this.minMargin):this.size.left+this.popWidth>=e?(a=e-this.popWidth-this.minMargin,s=t.left-a+t.width/2-7):(a=n-i+5,s=i-6),[a,s]},clickOther(){this.show=!1,this.$emit("onClickOther")},getPopHeight(){var e=this;qo.getComponentRect(e.$refs.popContent,t=>{if(t&&t.size){let i=t.size;e.popWidth=i.width,e.popHeight=i.height,e.popFatherHeight=i.height+18,e.opacity=1}})},open(){var e=this;e.show=!0,e.opacity=0;let t=setTimeout(function(){e.getPopHeight(),clearTimeout(t)},100)},close(){this.show&&(this.show=!1)}}};function Xo(e,t,i,n,a,s){return a.show?((0,G.openBlock)(),(0,G.createElementBlock)("view",{key:0,onClick:t[0]||(t[0]=(...r)=>s.clickOther&&s.clickOther(...r)),class:"cover",style:(0,G.normalizeStyle)({width:a.coverWidth+"px",height:a.coverHeight+"px"}),renderWhole:!0},[(0,G.createElementVNode)("view",{style:(0,G.normalizeStyle)(s.getStyle),class:"wrap"},[(0,G.createElementVNode)("view",{class:"triangle",style:(0,G.normalizeStyle)([s.getTriangleStyle,{boxShadow:s.triangleBoxShadow}])},null,4),i.triangleIsTop?((0,G.openBlock)(),(0,G.createElementBlock)("view",{key:0,class:"triangle",style:(0,G.normalizeStyle)([s.getTriangleStyle])},null,4)):(0,G.createCommentVNode)("",!0),(0,G.createElementVNode)("view",{ref:"popContent",class:"popover",style:(0,G.normalizeStyle)({"background-color":i.bgColor,boxShadow:i.boxShadow})},[(0,G.renderSlot)(e.$slots,"default")],4),i.triangleIsTop?(0,G.createCommentVNode)("",!0):((0,G.openBlock)(),(0,G.createElementBlock)("view",{key:1,class:"triangle",style:(0,G.normalizeStyle)([s.getTriangleStyle])},null,4))],4)],4)):(0,G.createCommentVNode)("",!0)}var st=R(Zo,[["render",Xo],["styles",[Jo]]]);var Ne={MSG:1,CALL:2,HOME:3,GAME:4,CLUB:5,GRAB:6,MOMENT:8},Y={GIFT:1,BAG:2},Qo={};function ea(){return new Promise(e=>{let t=N("g_gift_1");A(t)||getApp().globalData.giftVersion>parseInt(t.version)?M.request("/chat/gift/res",{}).then(i=>{let n={version:i.data.version,content:i.data.res};z("g_gift_1",n),Lt(i.data.res),e(n.content)}):(Lt(t.content),e(t.content))})}function ta(){return new Promise(e=>{let t=N("gift_bag_"+getApp().globalData.uid);A(t)?di().then(i=>{e(i)}):(Lt(t),e(t))})}function di(){return new Promise(e=>{M.request("/chat/gift/bag",{}).then(t=>{let i=t.data.list||[],n=tl(i),a={list:i,count:n};z("gift_bag_"+getApp().globalData.uid,a),Lt(i),el(i),e(a)})})}function el(e){let t="gift_bag_swipe_current_"+getApp().globalData.uid,i="gift_bag_current_info_"+getApp().globalData.uid,n=N(t),a=N(i);if(A(e))n&&Ce(t),a&&Ce(i);else if(!a)z(i,e[0]);else{let s="";for(let r=0,l=e.length;r<l;r++){let c=e[r];c.gift_id==a.gift_id&&(s=c)}A(s)?z(i,e[0]):z(i,s)}}function tl(e){let t=0;for(let i=0,n=e.length;i<n;i++)t+=e[i].num;return t}function Lt(e){for(let t=0,i=e.length;t<i;t++){let n=e[t];Qo[n.gift_id]=n}}var ia={};function pi(e,t="",i={}){if(il()&&typeof ia.fbEvent!="undefined")try{ia.fbEvent({event:e,valueToSum:t,params:i},function(){V("info","at comEvent/event.js:17",`fbEvent ${e} success`)},function(){V("error","at comEvent/event.js:19",`fbEvent ${e} error`)})}catch(n){}}function il(){return!(!H.isAndroid&&H.appV<133)}function fi(e,t){t==1?pi("gift_total_click"):t==2&&pi("gift_total_success"),pi(`gift_${e}`)}var ie=K(q());var nl=e=>e!==null&&typeof e=="object",al=["{","}"],hi=class{constructor(){this._caches=Object.create(null)}interpolate(t,i,n=al){if(!i)return[t];let a=this._caches[t];return a||(a=ol(t,n),this._caches[t]=a),ll(a,i)}},sl=/^(?:\d)+/,rl=/^(?:\w)+/;function ol(e,[t,i]){let n=[],a=0,s="";for(;a<e.length;){let r=e[a++];if(r===t){s&&n.push({type:"text",value:s}),s="";let l="";for(r=e[a++];r!==void 0&&r!==i;)l+=r,r=e[a++];let c=r===i,u=sl.test(l)?"list":c&&rl.test(l)?"named":"unknown";n.push({value:l,type:u})}else s+=r}return s&&n.push({type:"text",value:s}),n}function ll(e,t){let i=[],n=0,a=Array.isArray(t)?"list":nl(t)?"named":"unknown";if(a==="unknown")return i;for(;n<e.length;){let s=e[n];switch(s.type){case"text":i.push(s.value);break;case"list":i.push(t[parseInt(s.value,10)]);break;case"named":a==="named"&&i.push(t[s.value]);break}n++}return i}var mi="zh-Hans",na="zh-Hant",qe="en",cl="fr",ul="es",dl=Object.prototype.hasOwnProperty,aa=(e,t)=>dl.call(e,t),pl=new hi;function fl(e,t){return!!t.find(i=>e.indexOf(i)!==-1)}function ml(e,t){return t.find(i=>e.indexOf(i)===0)}function sa(e,t){if(!e)return;if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if(e=e.toLowerCase(),e==="chinese")return mi;if(e.indexOf("zh")===0)return e.indexOf("-hans")>-1?mi:e.indexOf("-hant")>-1||fl(e,["-tw","-hk","-mo","-cht"])?na:mi;let i=[qe,cl,ul];t&&Object.keys(t).length>0&&(i=Object.keys(t));let n=ml(e,i);if(n)return n}var _i=class{constructor({locale:t,fallbackLocale:i,messages:n,watcher:a,formater:s}){this.locale=qe,this.fallbackLocale=qe,this.message={},this.messages={},this.watchers=[],i&&(this.fallbackLocale=i),this.formater=s||pl,this.messages=n||{},this.setLocale(t||qe),a&&this.watchLocale(a)}setLocale(t){let i=this.locale;this.locale=sa(t,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],i!==this.locale&&this.watchers.forEach(n=>{n(this.locale,i)})}getLocale(){return this.locale}watchLocale(t){let i=this.watchers.push(t)-1;return()=>{this.watchers.splice(i,1)}}add(t,i,n=!0){let a=this.messages[t];a?n?Object.assign(a,i):Object.keys(i).forEach(s=>{aa(a,s)||(a[s]=i[s])}):this.messages[t]=i}f(t,i,n){return this.formater.interpolate(t,i,n).join("")}t(t,i,n){let a=this.message;return typeof i=="string"?(i=sa(i,this.messages),i&&(a=this.messages[i])):n=i,aa(a,t)?this.formater.interpolate(a[t],n).join(""):(console.warn(`Cannot translate the value of keypath ${t}. Use the value of keypath as default.`),t)}};function gl(e,t){e.$watchLocale?e.$watchLocale(i=>{t.setLocale(i)}):e.$watch(()=>e.$locale,i=>{t.setLocale(i)})}function hl(){return typeof uni!="undefined"&&uni.getLocale?uni.getLocale():typeof global!="undefined"&&global.getLocale?global.getLocale():qe}function _l(e,t={},i,n){typeof e!="string"&&([e,t]=[t,e]),typeof e!="string"&&(e=hl()),typeof i!="string"&&(i=typeof __uniConfig!="undefined"&&__uniConfig.fallbackLocale||qe);let a=new _i({locale:e,fallbackLocale:i,messages:t,watcher:n}),s=(r,l)=>{if(typeof getApp!="function")s=function(c,u){return a.t(c,u)};else{let c=!1;s=function(u,p){let _=getApp().$vm;return _&&(_.$locale,c||(c=!0,gl(_,a))),a.t(u,p)}}return s(r,l)};return{i18n:a,f(r,l,c){return a.f(r,l,c)},t(r,l){return s(r,l)},add(r,l,c=!0){return a.add(r,l,c)},watch(r){return a.watchLocale(r)},getLocale(){return a.getLocale()},setLocale(r){return a.setLocale(r)}}}var bl={"uni-load-more.contentdown":"Pull up to show more","uni-load-more.contentrefresh":"loading...","uni-load-more.contentnomore":"No more data"},yl={"uni-load-more.contentdown":"Pull up to show more","uni-load-more.contentrefresh":"Loading...","uni-load-more.contentnomore":"No more data"},Al={"uni-load-more.contentdown":"\u4E0A\u62C9\u986F\u793A\u66F4\u591A","uni-load-more.contentrefresh":"\u6B63\u5728\u52A0\u8F09...","uni-load-more.contentnomore":"\u6C92\u6709\u66F4\u591A\u6578\u64DA\u4E86"},wl={"uni-load-more.contentdown":"Tire hacia arriba para mostrar m\xE1s","uni-load-more.contentrefresh":"cargando...","uni-load-more.contentnomore":"No m\xE1s datos"},Cl={"uni-load-more.contentdown":"\u0627\u0633\u062D\u0628 \u0644\u0623\u0639\u0644\u0649 \u0644\u0625\u0638\u0647\u0627\u0631 \u0627\u0644\u0645\u0632\u064A\u062F","uni-load-more.contentrefresh":"\u062C\u0627\u0631 \u0627\u0644\u062A\u062D\u0645\u064A\u0644...","uni-load-more.contentnomore":"\u0644\u0627 \u0645\u0632\u064A\u062F \u0645\u0646 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"},Sl={"uni-load-more.contentdown":"K\xE9o l\xEAn \u0111\u1EC3 hi\u1EC3n th\u1ECB th\xEAm","uni-load-more.contentrefresh":"\u0111ang t\u1EA3i...","uni-load-more.contentnomore":"Kh\xF4ng c\xF2n d\u1EEF li\u1EC7u"},Dl={en:bl,"zh-Hans":yl,"zh-Hant":Al,es:wl,ar:Cl,vi:Sl},Tl={"uni-load-more":{"":{flexDirection:"row",height:40,alignItems:"center",justifyContent:"center"}},"uni-load-more__text":{"":{fontSize:14,marginLeft:8}},"uni-load-more__img":{"":{width:24,height:24}},"uni-load-more__img--nvue":{"":{color:"#666666"}},"uni-load-more__img--android":{"":{width:24,height:24,transform:"rotate(0deg)"}},"uni-load-more__img--ios":{"":{width:24,height:24,transform:"rotate(0deg)"}}},ra;setTimeout(()=>{ra=uni.getSystemInfoSync().platform},16);var{t:gi}=_l(Dl),El={name:"UniLoadMore",emits:["clickLoadMore"],props:{status:{type:String,default:"more"},showIcon:{type:Boolean,default:!0},iconType:{type:String,default:"auto"},iconSize:{type:Number,default:24},color:{type:String,default:"#777777"},contentText:{type:Object,default(){return{contentdown:"",contentrefresh:"",contentnomore:""}}},showText:{type:Boolean,default:!1}},data(){return{webviewHide:!1,platform:ra,imgBase64:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzlBMzU3OTlEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzlBMzU3OUFEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDOUEzNTc5N0Q5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDOUEzNTc5OEQ5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pt+ALSwAAA6CSURBVHja1FsLkFZVHb98LM+F5bHL8khA1iSeiyQBCRM+YGqKUnnJTDLGI0BGZlKDIU2MMglUiDApEZvSsZnQtBRJtKwQNKQMFYeRDR10WOLd8ljYXdh+v8v5fR3Od+797t1dnOnO/Ofce77z+J//+b/P+ZqtXbs2sJ9MJhNUV1cHJ06cCJo3bx7EPc2aNcvpy7pWrVoF+/fvDyoqKoI2bdoE9fX1F7TjN8a+EXBn/fkfvw942Tf+wYMHg9mzZwfjxo0LDhw4EPa1x2MbFw/fOGfPng1qa2tzcCkILsLDydq2bRsunpOTMM7TD/W/tZDZhPdeKD+yGxHhdu3aBV27dg3OnDlzMVANMheLAO3btw8KCwuDmpoaX5OxbgUIMEq7K8IcPnw4KCsrC/r37x8cP378/4cAXAB3vqSkJMuiDhTkw+XcuXNhOWbMmKBly5YhUT8xArhyFvP0BfwRsAuwxJZJsm/nzp2DTp06he/OU+cZ64K6o0ePBkOHDg2GDx8e6gEbJ5Q/NHNuAJQ1hgBeHUDlR7nVTkY8rQAvAi4z34vR/mPs1FoRsaCgIJThI0eOBC1atEiFGGV+5MiRoS45efJkqFjJFXV1dQuA012m2WcwTw98fy6CqBdsaiIO4CScrGPHjvk4odhavPquRtFWXEC25VgkREKOCh/qDSq+vn37htzD/mZTOmOc5U7zKzBPEedygWshcDyWvs30igAbU+6oyMgJBCFhwQE0fccxN60Ay9iebbjoDh06hMowjQxT4fXq1SskArmHZpkArvixp/kWzHdMeArExSJEaiXIjjRjRJ4DaAGWpibLzXN3Fm1vA5teBgh3j1Rv3bp1YgKwPdmf2p9zcyNYYgPKMfY0T5f5nNYdw158nJ8QawW4CLKwiOBSEgO/hok2eBydR+3dYH+PLxA5J8Vv0KBBwenTp0P2JWAx6+yFEBfs8lMY+y0SWMBNI9E4ThKi58VKTg3FQZS1RQF1cz27eC0QHMu+3E0SkUowjhVt5VdaWhp07949ZHv2Qd1EjDXM2cla1M0nl3GxAs3J9yREzyTdFVKVFOaE9qRA8GM0WebRuo9JGZKA7Mv2SeS/Z8+eoQ9BArMfFrLGo6jvxbhHbJZnKX2Rzz1O7QhJJ9Cs2ZMaWIyq/zhdeqPNfIoHd58clIQD+JSXl4dKlyIAuBdVXZwFVWKspSSoxE++h8x4k3uCnEhE4I5KwRiFWGOU0QWKiCYLbdoRMRKAu2kQ9vkfLU6dOhX06NEjlH+yMRZSinnuyWnYosVcji8CEA/6Cg2JF+IIUBqnGKUTCNwtwBN4f89RiK1R96DEgO2o0NDmtEdvVFdVVYV+P3UAPUEs6GFwV3PHmXkD4vh74iDFJysVI/MlaQhwKeBNTLYX5VuA8T4/gZxA4MRGFxDB6R7OmYPfyykGRJbyie+XnGYnQIC/coH9+vULiYrxrkL9ZA9+0ykaHIfEpM7ge8TiJ2CsHYwyMfafAF1yCGBHYIbCVDjDjKt7BeB51D+LgQa6OkG7IDYEEtvQ7lnXLKLtLdLuJBpE4gPUXcW2+PkZwOex+4cGDhwYDBkyRL7/HFcEwUGPo/8uWRUpYnfxGHco8HkewLHLyYmAawAPuIFZxhOpDfJQ8gbUv41yORAptMWBNr6oqMhWird5+u+iHmBb2nhjDV7HWBNQTgK8y11l5NetWzc5ULscAtSj7nbNI0skhWeUZCc0W4nyH/jO4Vz0u1IeYhbk4AiwM6tjxIWByHsoZ9qcIBPJd/y+DwPfBESOmCa/QF3WiZHucLlEDpNxcNhmheEOPgdQNx6/VZFQzFZ5TN08AHXQt2Ii3EdyFuUsPtTcGPhW5iMiCNELvz+Gdn9huG4HUJaW/w3g0wxV0XaG7arG2WeKiUWYM4Y7GO5ezshTARbbWGw/DvXkpp/ivVvE0JVoMxN4rpGzJMhE5Pl+xlATsDIqikP9F9D2z3h9nOksEUFhK+qO4rcPkoalMQ/HqJLIyb3F3JdjrCcw1yZ8joyJLR5gCo54etlag7qIoeNh1N1BRYj3DTFJ0elotxPlVzkGuYAmL0VSJVGAJA41c4Z6A3BzTLfn0HYwYKEI6CUAMzZEWvLsIcQOo1AmmyyM72nHJCfYsogflGV6jEk9vyQZXSuq6w4c16NsGcGZbwOPr+H1RkOk2LEzjNepxQkihHSCQ4ynAYNRx2zMKV92CQMWqj8J0BRE8EShxRFN6YrfCRhC0x3r/Zm4IbQCcmJoV0kMamllccR6FjHqUC5F2R/wS2dcymOlfAKOS4KmzQb5cpNC2MC7JhVn5wjXoJ44rYhLh8n0eXOCorJxa7POjbSlCGVczr34/RsAmrcvo9s+wGp3tzVhntxiXiJ4nvEYb4FJkf0O8HocAePmLvCxnL0AORraVekJk6TYjDabRVXfRE2lCN1h6ZQRN1+InUbsCpKwoBZHh0dODN9JBCUffItXxEavTQkUtnfTVAplCWL3JISz29h4NjotnuSsQKJCk8dF+kJR6RARjrqFVmfPnj3ZbK8cIJ0msd6jgHPGtfVTQ8VLmlvh4mct9sobRmPic0DyDQQnx/NlfYUgyz59+oScsH379pAwXABD32nTpoUHIToESeI5mnbE/UqDdyLcafEBf2MCqgC7NwxIbMREJQ0g4D4sfJwnD+AmRrII05cfMWJE+L1169bQr+fip06dGp4oJ83lmYd5wj/EmMa4TaHivo4EeCguYZBnkB5g2aWA69OIEnUHOaGysjIYMGBAMGnSpODYsWPZwCpFmm4lNq+4gSLQA7jcX8DwtjEyRC8wjabnXEx9kfWnTJkSJkAo90xpJVV+FmcVNeYAF5zWngS4C4O91MBxmAv8blLEpbjI5sz9MTdAhcgkCT1RO8mZkAjfiYpTEvStAS53Uw1vAiUGgZ3GpuQEYvoiBqlIan7kSDHnTwJQFNiPu0+5VxCVYhcZIjNrdXUDdp+Eq5AZ3Gkg8QAyVZRZIk4Tl4QAbF9cXJxNYZMAtAokgs4BrNxEpCtteXg7DDTMDKYNSuQdKsnJBek7HxewvxaosWxLYXtw+cJp18217wql4aKCfBNoEu0O5VU+PhctJ0YeXD4C6JQpyrlpSLTojpGGGN5YwNziChdIZLk4lvLcFJ9jMX3QdiImY9bmGQU+TRUL5CHITTRlgF8D9ouD1MfmLoEPl5xokIumZ2cfgMpHt47IW9N64Hsh7wQYYjyIugWuF5fCqYncXRd5vPMWyizzvhi/32+nvG0dZc9vR6fZOu0md5e+uC408FvKSIOZwXlGvxPv95izA2Vtvg1xKFWARI+vMX66HUhpQQb643uW1bSjuTWyw2SBvDrBvjFic1eGGlz5esq3ko9uSIlBRqPuFcCv8F4WIcN12nVaBd0SaYwI6PDDImR11JkqgHcPmQssjxIn6bUshygDFJUTxPMpHk+jfjPgupgdnYV2R/g7xSjtpah8RJBewhwf0gGK6XI92u4wXFEU40afJ4DN4h5LcAd+40HI3JgJecuT0c062W0i2hQJUTcxan3/CMW1PF2K6bbA+Daz4xRs1D3Br1Cm0OihKCqizW78/nXAF/G5TXrEcVzaNMH6CyMswqsAHqDyDLEyou8lwOXnKF8DjI6KjV3KzMBiXkDH8ij/H214J5A596ekrZ3F0zXlWeL7+P5eUrNo3/QwC15uxthuzidy7DzKRwEDaAViiDgKbTbz7CJnzo0bN7pIfIiid8SuPwn25o3QCmpnyjlZkyxPP8EomCJzrGb7GJMx7tNsq4MT2xMUYaiErZOluTzKsnz3gwCeCZyVRZJfYplNEokEjwrPtxlxjeYAk+F1F74VAzPxQRNYYdtpOUvWs8J1sGhBJMNsb7igN8plJs1eSmLIhLKE4rvaCX27gOhLpLOsIzJ7qn/i+wZzcvSOZ23/du8TZjwV8zHIXoP4R3ifBxiFz1dcVpa3aPntPE+c6TmIWE9EtcMmAcPdWAhYhAXxcLOQi9L1WhD1Sc8p1d2oL7XGiRKp8F4A2i8K/nfI+y/gsTDJ/YC/8+AD5Uh04KHiGl+cIFPnBDDrPMjwRGkLXyxO4VGbfQWnDH2v0bVWE3C9QOXlepbgjEfIJQI6XDG3z5ahD9cw2pS78ipB85wyScNTvsVzlzzhL8/jRrnmVjfFJK/m3m4nj9vbgQTguT8XZTjsm672R5uJKEaQmBI/c58gyus8ZDagLpEVSJBIyHp4jn++xqPV71OgQgJYEWOtZ/haxRtKmWOBu8xdBLftWltsY84zE6WIEy/eIOWL+BaayMx+KHtL7EAkqdNDLiEXmEMUHniedtJqg9HmZtfvt26vNi0BdG3Ft3g8ZOf7PAu59TxtzivLNIekyi+wD1i8CuUiD9FXAa8C+/xS3JPmZnomyc7H+fb4/Se0bk41Fel621r4cgVxbq91V4jVqwB7HTe2M7jgB+QWHavZkDRPmZcASoZEmBx6i75bGjPcMdL4/VKGFAGWZkGzPG0XAbdL9A81G5LOmUnC9hHKJeO7dcUMjblSl12867ElFTtaGl20xvvLGPdVz/8TVuU7y0x1PG7vtNg24oz9Uo/Z412++VFWI7Fcog9tu9Lm6gvRmIPv9x1xmQAu6RDkXtbOtlGEmpgD5Nvnyc0dcv0EE6cfdi1HmhMf9wDF3k3gtRvEedhxjpgfqPb9PU9iEJHnyOUA7bQUXh6kq/D7l2iTjWv7XOD530BDr8jIrus+srXjt4MzumJMHuTsBa63YKE1+RR5lBjEikCCnWKWiHdzOgKO+nRIBAF88za/IFmJ3eMZov4CYxGBabcpGL8EYx+SeMXJeRwHNsV/h+vdxeuhEpN3ZyNY78Gm2fknJxVGhyjixPiQvVkNzT1elD9Py/aTAL64Hb9vcYmC9zfdXdT/C1LeGbg4rnBaAihDFJH12W5ulfNCNe/xTsP3bp8ikzJs5BF+5PNfAQYAPaseTdsEcaYAAAAASUVORK5CYII="}},computed:{iconSnowWidth(){return(Math.floor(this.iconSize/24)||1)*2},contentdownText(){return this.contentText.contentdown||gi("uni-load-more.contentdown")},contentrefreshText(){return this.contentText.contentrefresh||gi("uni-load-more.contentrefresh")},contentnomoreText(){return this.contentText.contentnomore||gi("uni-load-more.contentnomore")}},mounted(){var e=getCurrentPages(),t=e[e.length-1],i=t.$getAppWebview();i.addEventListener("hide",()=>{this.webviewHide=!0}),i.addEventListener("show",()=>{this.webviewHide=!1})},methods:{onClick(){this.$emit("clickLoadMore",{detail:{status:this.status}})}}};function Ll(e,t,i,n,a,s){return(0,ie.openBlock)(),(0,ie.createElementBlock)("view",{class:"uni-load-more",onClick:t[0]||(t[0]=(...r)=>s.onClick&&s.onClick(...r)),renderWhole:!0},[!a.webviewHide&&i.status==="loading"&&i.showIcon?((0,ie.openBlock)(),(0,ie.createElementBlock)("loading-indicator",{key:0,style:(0,ie.normalizeStyle)({color:i.color,width:i.iconSize+"px",height:i.iconSize+"px"}),animating:!0,class:"uni-load-more__img uni-load-more__img--nvue"},null,4)):(0,ie.createCommentVNode)("",!0),i.showText?((0,ie.openBlock)(),(0,ie.createElementBlock)("u-text",{key:1,class:"uni-load-more__text",style:(0,ie.normalizeStyle)({color:i.color})},(0,ie.toDisplayString)(i.status==="more"?s.contentdownText:i.status==="loading"?s.contentrefreshText:s.contentnomoreText),5)):(0,ie.createCommentVNode)("",!0)])}var bi=R(El,[["render",Ll],["styles",[Tl]]]);var Mc=K(q());function yi(e,t){let i=la();return new Promise(n=>{let a=0;ke(`SELECT * FROM ${i} WHERE uid = ${e.uid} LIMIT 1`).then(s=>{if(s.length>0)if(t&&Dn(s[0],e)){a=1;let r=`UPDATE ${i} SET nickname = '${Be(e.nickname)}', avatar = '${e.avatar}', sex = ${k(e.sex)}, birthday = '${Se(e.birthday)}', is_vip = ${k(e.is_vip)}, is_auth = ${k(e.is_auth)}, level = ${k(e.level)}, country_code = '${Se(e.country_code)}', country_flag = '${Se(e.country_flag)}', language = '${Se(e.language)}', hide_vip = ${k(e.hide_vip)}, hide_level = ${k(e.hide_level)}, hide_profile = ${k(e.hide_profile)}, auth_status = ${k(e.auth_status)} WHERE uid = ${e.uid}`;xe(r).then(()=>{n(a)},()=>{n(a)})}else n(a);else{a=2;let r=`INSERT INTO ${i} (uid, nickname, avatar, sex, birthday, is_vip, is_auth, level, country_code, country_flag, language, hide_vip, hide_level, hide_profile, auth_status) VALUES (${e.uid}, '${Be(e.nickname)}', '${e.avatar}', ${k(e.sex)}, '${Se(e.birthday)}', ${k(e.is_vip)}, ${k(e.is_auth)}, ${k(e.level)}, '${Se(e.country_code)}', '${Se(e.country_flag)}', '${Se(e.language)}', ${k(e.hide_vip)}, ${k(e.hide_level)}, ${k(e.hide_profile)}, ${k(e.auth_status)})`;xe(r).then(()=>{n(a)},()=>{n(a)})}},()=>{n(a)})})}function oa(e,t=!0){let i=la();return new Promise(n=>{if(t&&(e=e.filter(r=>!A(r))),e.length<=0){n({});return}let a={},s=`SELECT * FROM ${i} WHERE uid IN (${e.join(",")}) LIMIT ${e.length}`;ke(s).then(r=>{for(let l=0,c=r.length;l<c;l++){let u=r[l];u&&(u.nickname=wn(u.nickname),a[u.uid]=u)}n(a)})})}function la(){return getApp().globalData.uid==2256587?"tb_user_1":"tb_user"}var Re=K(q());var xl={props:{text:{type:[String,Number],default:""},type:{type:String,default:"title"},useText:{type:[Number,Boolean],default:!1},colorVal:{type:String,default:""}},computed:{color(){return this.colorVal?this.colorVal:getApp().globalData.themeObj.color[this.type]}}};function kl(e,t,i,n,a,s){return(0,Re.openBlock)(),(0,Re.createElementBlock)("u-text",{style:(0,Re.normalizeStyle)({color:s.color})},(0,Re.toDisplayString)(i.text),5)}var ca=R(xl,[["render",kl]]);var Oe=K(q());var vl={props:{type:{type:String,default:"bg2"}},computed:{bgColor(){return getApp().globalData.themeObj.color[this.type]}}};function Il(e,t,i,n,a,s){return(0,Oe.openBlock)(),(0,Oe.createElementBlock)("view",{style:(0,Oe.normalizeStyle)({background:s.bgColor}),renderWhole:!0},[(0,Oe.renderSlot)(e.$slots,"default")],4)}var ua=R(vl,[["render",Il]]);function Nl(e,t){return new Promise(i=>{yi(t,!0).then(()=>{let n=`SELECT * FROM tb_club_member WHERE club_id = ${e} AND uid = ${t.uid}`;ke(n).then(a=>{if(a[0]){let r=`UPDATE tb_club_member SET sex = ${k(t.sex)}, is_auth = ${k(t.is_auth)}, member_type = ${k(t.member_type)}, is_mute = ${k(t.is_mute)}, join_type = ${k(t.join_type)}, join_time = ${k(t.join_time)}, active_time = ${k(t.active_time)} WHERE club_id = ${e} AND uid = ${t.uid}`;xe(r).then(()=>{i()})}else Rl(e,t).then(()=>{i()})},()=>{i()})})})}function Ai(e,t){return new Promise(i=>{let n=t.length,a=0;for(let s=0,r=t.length;s<r;s++){let l=t[s];l.uid&&Nl(e,l).then(()=>{a+=1,a==n&&i()})}})}function Rl(e,t){let i=`INSERT INTO tb_club_member (club_id, uid, sex, is_auth, member_type, is_mute, join_type, join_time, active_time, remark) VALUES (${e}, ${k(t.uid)}, ${k(t.sex)}, ${k(t.is_auth)}, ${k(t.member_type)}, ${k(t.is_mute)}, ${k(t.join_type)}, ${k(t.join_time)}, ${k(t.active_time)}, '')`;return xe(i)}function Ol(e,t,i){let n=[],a=[],s=[],r=[],l,c;return new Promise(u=>{let p;i==1?p=Fl:p=function(){return new Promise(b=>{b()})},p(e,t).then(_=>{_&&(r=_.uidList,a=_.founderList,s=_.managerList);let b;return t==-1?b=`SELECT * FROM tb_club_member WHERE club_id = ${e} AND member_type = 1 ORDER BY active_time DESC`:b=`SELECT * FROM tb_club_member WHERE club_id = ${e} AND member_type = 1 AND is_auth = ${k(t)} ORDER BY active_time DESC`,ke(b)}).then(_=>{l=_,c=_.length;for(let b=0,S=c;b<S;b++){let g=_[b];r.push(g.uid)}return oa(r,!1)}).then(_=>{for(let b=0,S=c;b<S;b++){let g=l[b],L=_[g.uid];if(L){let w=Object.assign(g,L);n.push(w)}}if(i==1){for(let b=0,S=s.length;b<S;b++){let g=s[b],L=_[g.uid];if(L){let w=Object.assign(g,L);n.unshift(w)}}for(let b=0,S=a.length;b<S;b++){let g=a[b],L=_[g.uid];if(L){let w=Object.assign(g,L);n.unshift(w)}}}u({list:n})})})}function Fl(e,t){let i=[],n=[],a=[];return new Promise(s=>{let r;t==-1?r="":r=` AND is_auth = ${k(t)} `,ke(`SELECT * FROM tb_club_member WHERE club_id = ${e} AND member_type > 1 ${r}`).then(l=>{for(let c=0,u=l.length;c<u;c++){let p=l[c];i.push(p.uid),p.member_type==2?n.push(p):a.push(p)}s({uidList:i,founderList:n,managerList:a})})})}function da(e){return new Promise(t=>{let i=`DELETE FROM tb_club_member WHERE club_id = ${e}`;xe(i).then(()=>{t()},()=>{t()})})}var Ml={wrap:{"":{boxShadow:"none"}}},Pl={center:{"":{flexDirection:"row",alignItems:"center"}},"center-between":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},"center-align":{"":{alignItems:"center",justifyContent:"center",flexDirection:"row"}},ellipsis:{"":{lines:1,overflow:"hidden",textOverflow:"ellipsis"}},"receivers-pop":{"":{width:"450rpx",borderRadius:"8rpx",backgroundColor:"rgba(0,0,0,0)"}},"choose-bar":{".receivers-pop ":{paddingTop:"18rpx",paddingRight:"10rpx",paddingBottom:"18rpx",paddingLeft:"10rpx"}},"choose-str":{".receivers-pop .choose-bar ":{fontSize:"22rpx",color:"#FF4477",lineHeight:"32rpx"}},"btn-wrap":{".receivers-pop .choose-bar ":{height:"40rpx",backgroundColor:"#000102",borderRadius:"4rpx",paddingTop:"2rpx",paddingRight:"2rpx",paddingBottom:"2rpx",paddingLeft:"2rpx",position:"relative"}},btn:{".receivers-pop .choose-bar .btn-wrap ":{fontSize:"18rpx",color:"#FFFFFF",height:"36rpx",lineHeight:"36rpx",textAlign:"center",width:"90rpx"}},"btn-active":{".receivers-pop .choose-bar .btn-wrap ":{backgroundColor:"#5A5A59",borderRadius:"4rpx"}},"btn-line":{".receivers-pop .choose-bar .btn-wrap ":{width:"2rpx",height:"20rpx",backgroundColor:"#666666",position:"absolute",top:"10rpx"}},"split-line":{".receivers-pop ":{height:"2rpx",opacity:.1,backgroundColor:"#FFFFFF"}},"member-list":{".receivers-pop ":{flex:1,paddingTop:0,paddingRight:"10rpx",paddingBottom:0,paddingLeft:"10rpx"}},"avatar-bg":{".receivers-pop .member-list ":{width:"32rpx",height:"32rpx",backgroundColor:"#716F6F",borderRadius:"4rpx"}},"member-item":{".receivers-pop .member-list ":{paddingTop:"10rpx",paddingRight:0,paddingBottom:"10rpx",paddingLeft:0}},nickname:{".receivers-pop .member-list .member-item ":{fontSize:"22rpx",color:"#FFFFFF",lineHeight:"32rpx"}},"loading-view":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center",marginTop:"10rpx",minHeight:"50rpx"}}},Bl={emits:["onReceiversClose","onChangeSelectStr"],components:{UniLoadMore:bi,LImg:le,CustomPopover:st},props:{size:{type:Object,default(){return{}}},clubId:{type:[Number,String],default:0}},data(){return{chooseIdx:-1,memberList:{},allList:{},boysList:{},girlsList:{},allPageTime:1,boysPageTime:1,girlsPageTime:1,selectUidList:[],selectNameList:[],selectStr:"",isSelectAll:!1,selectUserList:[],loadMore:"nomore",loadContent:{contentrefresh:" ",contentnomore:" "},showLoading:!1,openCount:0}},computed:{selectCount(){return this.selectUidList.length}},methods:{$str:x,clickReceivePop(e){e&&e.stopPropagation()},clickMember(e){if(e==-1)this.isSelectAll=!0,this.selectStr=x("allMembers"),this.selectUidList.length>0&&(this.parseList("all",!0),this.parseList("boys",!0),this.parseList("girls",!0)),this.selectUidList=[],this.selectNameList=[],this.selectUserList=[],this.$refs.receiversPop.close(),this.onClickOther();else{this.isSelectAll=!1;let t=this.getMemberKey(),i=this.memberList["u_"+e],n=this.selectUidList.indexOf(i.uid);n!=-1?(this.selectUidList.splice(n,1),this.selectNameList.splice(n,1),this.selectUserList.splice(n,1)):(this.selectUidList.push(i.uid),this.selectNameList.push(i.nickname),this.selectUserList.push(i)),this.selectNameList.length>0?this.selectStr=this.selectNameList.join("\u3001"):this.selectStr="",this.memberList=JSON.parse(JSON.stringify(this[t+"List"]))}this.$emit("onChangeSelectStr",this.selectStr)},clickChooseBtn(e,t,i){t&&this.chooseIdx==e||(this.memberList=JSON.parse(JSON.stringify({})),this.chooseIdx=e,this.$nextTick(()=>{let n=this.getMemberKey(),a=this.getIsAuth(),s=this[n+"List"];Object.keys(s).length>0?(this.showLoading=!0,this.parseList(n,!1,()=>{let r={club_id:this.clubId,page_time:0};a!=-1&&(r.is_auth=a),this.reqSyncMembers(r,n,!0),typeof i=="function"&&i()})):this.loadMembers(!0,a,()=>{typeof i=="function"&&i()})}))},chooseUserSet(e){let t=this.selectUidList.indexOf(e.uid);t!=-1&&this.selectUidList.splice(t,1),this.clickMember(e.uid)},getIsAuth(){return this.chooseIdx==0?-1:this.chooseIdx==1?0:1},getMemberKey(){return this.chooseIdx==0?"all":this.chooseIdx==1?"boys":"girls"},onClickOther(){let e={isSelectAll:this.isSelectAll,uidList:this.selectUidList,userList:this.selectUserList};this.$emit("onReceiversClose",e)},onLoadMore(){if(this.loadMore=="nomore")return;this.loadMore="loading";let e=this.getMemberKey(),t=this.getIsAuth(),i={club_id:this.clubId,page_time:this[e+"PageTime"]};t!=-1&&(i.is_auth=t),this.reqSyncMembers(i,e,!1)},handleMember(e){if(e.chat_id!=this.clubId||!e.send_uid||e.send_uid==H.SYSTEM_ID)return;let t=e.user_infos[e.send_uid];if(this.memberList["u_"+t.uid])return;let n=this.getIsAuth();n!=-1&&n!=t.is_auth||(this.memberList["u"+t.uid]=t)},handleSaveMember(){let e=Object.values(this.allList);Ai(this.clubId,e)},parseList(e,t=!1,i){let n=this[e+"List"];for(let a=0,s=this.selectUidList.length;a<s;a++){let r=this.selectUidList[a],l=n["u_"+r];l&&(l.selected=!t)}t||(this[e+"List"]=JSON.parse(JSON.stringify(n)),this.memberList=this[e+"List"]),typeof i=="function"&&i()},parseListNew(e,t,i,n=!1){i&&(this[e+"List"]={});for(let a=0,s=t.length;a<s;a++){let r=t[a];r.uid&&r.uid!=getApp().pubUser.uid&&(r.member_type==2?r.identityStr=x("owner"):r.member_type==3&&(r.identityStr=x("admin")),this.memberList["u_"+r.uid]=r,i&&(this[e+"List"]["u_"+r.uid]=r),n&&yi(r,!0))}},reqSyncMembers(e,t,i){M.request("/chat/club/sync-members",e,!1,!0).then(n=>{this.showLoading=!1,i&&(this.memberList=JSON.parse(JSON.stringify({})),this[t+"List"]=JSON.parse(JSON.stringify({}))),this[t+"PageTime"]=n.data.page_time,this.parseListNew(t,n.data.list,i,!0),this.loadMore=n.data.has_more?"loadmore":"nomore",this.getIsAuth()==-1&&i&&da(this.clubId).then(()=>{Ai(this.clubId,n.data.list)})},()=>{this.showLoading=!1})},loadMembers(e,t,i){let n=this.getMemberKey();e?this[n+"Page"]=1:this[n+"Page"]++;let a=this[n+"Page"];this.showLoading=!0,Ol(this.clubId,t,a).then(s=>{this.parseListNew(n,s.list,!0,!1);let r={club_id:this.clubId,page_time:0};return t!=-1&&(r.is_auth=t),M.request("/chat/club/sync-members",r,!1,!0)}).then(s=>{this.showLoading=!1,this.memberList=JSON.parse(JSON.stringify({})),this[n+"PageTime"]=s.data.page_time,this.parseListNew(n,s.data.list,!0,!0),this.loadMore=s.data.has_more?"loadmore":"nomore",typeof i=="function"&&i(),t==-1&&e&&da(this.clubId).then(()=>{Ai(this.clubId,s.data.list)})},()=>{this.showLoading=!1})},clear(){this.selectUidList=[],this.selectNameList=[],this.selectUserList=[],this.isSelectAll=!1,this.selectStr=""},open(e){this.openCount+=1,e&&this.clear(),this.$refs.receiversPop.open();let t=this.chooseIdx==-1?0:this.chooseIdx;this.clickChooseBtn(t,!1,()=>{e&&this.chooseUserSet(e)})}},created(){uni.$on("event_message_update_member",this.handleMember)},unmounted(){uni.$off("event_message_update_member",this.handleMember),this.openCount>1&&this.handleSaveMember()}};function Ul(e,t,i,n,a,s){let r=U((0,o.resolveDynamicComponent)("l-img"),le),l=U((0,o.resolveDynamicComponent)("uni-load-more"),bi),c=U((0,o.resolveDynamicComponent)("custom-popover"),st);return(0,o.openBlock)(),(0,o.createBlock)(c,{ref:"receiversPop",size:i.size,"bg-color":"#424344","box-shadow":"",onOnClickOther:s.onClickOther,style:{"z-index":"1000"}},{default:(0,o.withCtx)(()=>[(0,o.createElementVNode)("view",{onClick:t[5]||(t[5]=(...u)=>s.clickReceivePop&&s.clickReceivePop(...u)),class:"receivers-pop",style:{height:"480rpx"}},[(0,o.createElementVNode)("view",{class:"choose-bar center-between"},[(0,o.createElementVNode)("u-text",{class:"choose-str"},(0,o.toDisplayString)(s.$str("selected"))+"("+(0,o.toDisplayString)(s.selectCount)+")",1),(0,o.createElementVNode)("view",{class:"center btn-wrap"},[(0,o.createElementVNode)("u-text",{onClick:t[0]||(t[0]=u=>s.clickChooseBtn(0,!0)),class:(0,o.normalizeClass)(["btn",[a.chooseIdx==0?"btn-active":""]])},(0,o.toDisplayString)(s.$str("all")),3),a.chooseIdx==2?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,class:"btn-line",style:{left:"90rpx"}})):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("u-text",{onClick:t[1]||(t[1]=u=>s.clickChooseBtn(1,!0)),class:(0,o.normalizeClass)(["btn",[a.chooseIdx==1?"btn-active":""]])},(0,o.toDisplayString)(s.$str("boys")),3),a.chooseIdx==0?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:1,class:"btn-line",style:{right:"90rpx"}})):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("u-text",{onClick:t[2]||(t[2]=u=>s.clickChooseBtn(2,!0)),class:(0,o.normalizeClass)(["btn",[a.chooseIdx==2?"btn-active":""]])},(0,o.toDisplayString)(s.$str("girls")),3)])]),(0,o.createElementVNode)("view",{class:"split-line"}),a.showLoading?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,class:"loading-view"},[(0,o.createElementVNode)("loading-indicator",{animating:!0,style:{color:"#FFFFFF",width:"30rpx",height:"30rpx"}})])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("list",{ref:"memberList",showScrollbar:!1,onLoadmore:t[4]||(t[4]=(...u)=>s.onLoadMore&&s.onLoadMore(...u)),class:"member-list"},[(0,o.createElementVNode)("cell",{style:{height:"10rpx",width:"10rpx"}}),a.chooseIdx==0?((0,o.openBlock)(),(0,o.createElementBlock)("cell",{key:0},[(0,o.createElementVNode)("view",{onClick:t[3]||(t[3]=u=>s.clickMember(-1)),class:"center-between member-item"},[(0,o.createElementVNode)("view",{class:"center"},[(0,o.createElementVNode)("view",{class:"center-align avatar-bg"},[(0,o.createVNode)(r,{src:"s/club/person_many_yellow.png",w:"16rpx",h:"18rpx"})]),(0,o.createElementVNode)("u-text",{class:"nickname",style:{"margin-left":"12rpx"}},(0,o.toDisplayString)(s.$str("allMembers")),1)]),(0,o.createVNode)(r,{src:a.isSelectAll?"s/msg/select_square_s.png":"s/msg/select_square_n.png",w:"20rpx",h:"20rpx"},null,8,["src"])])])):(0,o.createCommentVNode)("",!0),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(a.memberList,(u,p,_)=>((0,o.openBlock)(),(0,o.createElementBlock)("cell",{key:a.chooseIdx+"_"+u.uid},[(0,o.createElementVNode)("view",{onClick:b=>s.clickMember(u.uid),class:"center-between member-item"},[(0,o.createElementVNode)("view",{class:"center",style:{"padding-right":"20rpx"}},[(0,o.createVNode)(r,{src:u.avatar,w:"32rpx",h:"32rpx",radius:"4rpx"},null,8,["src"]),(0,o.createElementVNode)("view",{class:"center",style:{"margin-left":"12rpx"}},[(0,o.createElementVNode)("u-text",{class:"nickname ellipsis",style:{"max-width":"250rpx"}},(0,o.toDisplayString)(u.nickname),1),(0,o.createElementVNode)("u-text",{class:"nickname",style:{"margin-left":"6rpx","min-width":"max-content"}},(0,o.toDisplayString)(u.identityStr?"("+u.identityStr+")":""),1)])]),(0,o.createVNode)(r,{src:a.selectUidList.indexOf(u.uid)==-1?"s/msg/select_square_n.png":"s/msg/select_square_s.png",w:"20rpx",h:"20rpx"},null,8,["src"])],8,["onClick"])]))),128)),(0,o.createElementVNode)("cell",null,[a.loadMore!="nomore"?((0,o.openBlock)(),(0,o.createBlock)(l,{key:0,status:a.loadMore,contentText:a.loadContent,color:"#FFFFFF"},null,8,["status","contentText"])):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("cell",{style:{height:"10rpx",width:"10rpx"}})],544)])]),_:1},8,["size","onOnClickOther"])}var Gl=R(Bl,[["render",Ul],["styles",[Ml,Pl]]]),Hl={center:{"":{display:"flex",alignItems:"center",flexDirection:"row"}},"center-between":{"":{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"space-between"}},"center-align":{"":{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"center"}},"column-center":{"":{flexDirection:"column",alignItems:"center",justifyContent:"center"}},ellipsis:{"":{lines:1,overflow:"hidden",textOverflow:"ellipsis"}},"split-line":{"":{height:"2rpx",backgroundColor:"#EDEDED",transform:"scaleY(0.5)",transformOrigin:"50% 100%"}},"gift-sheet":{"":{borderTopLeftRadius:"20rpx",borderTopRightRadius:"20rpx",borderBottomRightRadius:0,borderBottomLeftRadius:0,backgroundColor:"#FFFFFF"}},"top-bar":{"":{position:"relative",borderTopLeftRadius:"20rpx",borderTopRightRadius:"20rpx",borderBottomRightRadius:0,borderBottomLeftRadius:0,backgroundImage:"linear-gradient(to right, #FF008B, #FF5954)"}},"new-packet":{".top-bar ":{height:"90rpx",paddingTop:0,paddingRight:"28rpx",paddingBottom:0,paddingLeft:"28rpx",zIndex:111}},tip:{".top-bar .new-packet ":{fontSize:"24rpx",color:"#FFDC0D",marginLeft:"10rpx"}},"look-over":{".top-bar .new-packet ":{backgroundColor:"#FFFFFF",height:"48rpx",borderRadius:"8rpx",paddingTop:0,paddingRight:"20rpx",paddingBottom:0,paddingLeft:"20rpx",color:"#FF4477",lineHeight:"48rpx",fontSize:"28rpx"}},"new-recharge-bg":{".top-bar ":{position:"absolute",top:0,left:0}},"gift-item":{"":{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"26rpx",zIndex:111,position:"relative",borderRadius:"24rpx",paddingBottom:"8rpx",boxSizing:"border-box"}},title:{".gift-item ":{fontSize:"24rpx",lineHeight:"34rpx",maxHeight:"34rpx",lines:1,overflow:"hidden",textOverflow:"ellipsis",textAlign:"center"}},price:{".gift-item ":{fontSize:"20rpx",color:"#FFAA0D",marginRight:"4rpx",marginTop:"2rpx",textAlign:"center",lineHeight:"28rpx"}},"gift-num":{".gift-item ":{backgroundColor:"#FF4477",fontSize:"20rpx",color:"#FFFFFF",paddingTop:0,paddingRight:"8rpx",paddingBottom:0,paddingLeft:"8rpx",borderRadius:"18rpx",position:"absolute",right:0,bottom:0}},"balance-wrap":{"":{marginBottom:"-10rpx",paddingRight:"28rpx",height:"60rpx"}},"type-text":{".balance-wrap ":{fontSize:"24rpx",color:"#999999",lineHeight:"34rpx",marginLeft:"6rpx"}},"type-active":{".balance-wrap ":{fontWeight:"600",color:"#FF4477"}},balance:{".balance-wrap ":{fontSize:"24rpx",color:"#FFB000",fontWeight:"500",lineHeight:"34rpx",marginRight:"4rpx",marginTop:"2rpx"}},"recharge-text":{".balance-wrap ":{fontSize:"24rpx",lineHeight:"34rpx",color:"#FF743F",marginRight:"4rpx"}},"recharge-bottom":{"":{paddingTop:0,paddingRight:"28rpx",paddingBottom:0,paddingLeft:"28rpx"}},"choose-user":{".recharge-bottom ":{fontSize:"24rpx",color:"#FF4477",lineHeight:"34rpx"}},"send-wrap":{".recharge-bottom ":{borderRadius:"8rpx",borderWidth:"2rpx",borderStyle:"solid",borderColor:"#FF4477"}},"choose-count":{".recharge-bottom .send-wrap ":{paddingTop:0,paddingRight:"24rpx",paddingBottom:0,paddingLeft:"24rpx",lineHeight:"52rpx",height:"52rpx"}},count:{".recharge-bottom .send-wrap .choose-count ":{fontSize:"24rpx",marginRight:"6rpx"}},button:{".recharge-bottom .send-wrap ":{height:"56rpx",borderRadius:"4rpx",lineHeight:"56rpx",paddingTop:0,paddingRight:"32rpx",paddingBottom:0,paddingLeft:"32rpx",fontSize:"28rpx",color:"#FFFFFF",backgroundImage:"linear-gradient(to right, #FF00BD, #FF5954)"}},"count-pop":{"":{width:"100rpx",borderRadius:"8rpx",backgroundColor:"#000000",marginTop:"-10rpx"}},"count-text":{".count-pop ":{fontSize:"24rpx",color:"#FFFFFF",textAlign:"center",paddingTop:"16rpx",paddingRight:0,paddingBottom:"16rpx",paddingLeft:0}},"go-btn":{"":{marginTop:"20rpx",backgroundImage:"linear-gradient(to right, #FF00BD, #FF5954)",borderRadius:"8rpx",color:"#FFFFFF",lineHeight:"40rpx",paddingTop:"6rpx",paddingRight:"40rpx",paddingBottom:"6rpx",paddingLeft:"40rpx",fontSize:"28rpx"}},"view-title-action":{"":{height:"60rpx",paddingTop:0,paddingRight:"30rpx",paddingBottom:0,paddingLeft:"30rpx"}}},pa=we("dom"),Wl={components:{MView:ua,MText:ca,ChooseReceiversPop:Gl,UniPopup:ui,CustomPopover:st,LImg:le,UniIcons:Je},emits:["onSendAskGift","onSendGift","onChange"],props:{fromType:{type:[String,Number],default:1},isAsk:{type:Boolean,default:!1},isGreeting:{type:Boolean,default:!1},roomId:{type:[String,Number],default:""},showSend:{type:Boolean,default:!0}},data(){return{prizeWheelShow:getApp().globalData.prizeWheelShow,actionId:0,accountInfo:getApp().pubAccount,giftList:{},giftBagList:{slide:[]},popShow:!1,paddingBottom:getApp().globalData.window.safeBottom+10,giftInfo:{},giftWidth:parseInt(getApp().globalData.window.width/4),screenW:getApp().globalData.window.width,myUser:getApp().pubUser,giftId:"",chooseCount:1,giftCountPopSize:{},countArr:[999,699,198,99,38,12,5,1],swipeCurrent:0,sheetHeight:0,openTimer:!1,receiverSize:{},uidList:[],selectStr:"",selectUserList:[],isSelectAll:!1,chooseUser:"",giftListType:1,bagCount:0,typeGift:Y.GIFT,typeBag:Y.BAG,isAuth:de()}},computed:{giftSwiperItemStyle(){let e={"flex-wrap":"wrap"};return e["flex-direction"]="row",e},showList(){return this.giftListType==Y.GIFT?this.giftList:this.giftBagList},showIndicatorDots(){return this.giftListType==Y.GIFT||this.showList.slide.length>1}},methods:{$str:x,clickThis(e){e&&e.stopPropagation()},clickGoBtn(){ge("/pagesPub/luck-draw/index"),this.$refs.giftPopup.close()},clickType(e,t){e&&e.stopPropagation(),this.giftListType=t,t==1&&this.parseGiftList(),this.parseDefChoose(),this.$nextTick(()=>{this.setSheetHeight()})},clickCount(e){this.chooseCount=e},clickGiftReceivers(){pa.getComponentRect(this.$refs.giftReceivers,e=>{e&&e.size&&(this.receiverSize=e.size,this.$refs.receiversPop.open(this.chooseUser),this.chooseUser&&(this.chooseUser=""))})},clickChooseCount(){var e=this;pa.getComponentRect(this.$refs.giftCount,t=>{t&&t.size&&(e.giftCountPopSize=t.size,e.$refs.giftCountPop.open())})},clickGift(e,t,i){e&&e.stopPropagation();let n=this.showList.slide;if(this.giftInfo=n[t].list[i],this.isAsk){this.$emit("onSendAskGift",this.giftInfo),this.$refs.giftPopup.close();return}this.giftId=this.giftInfo.gift_id;let a=this.getStorageKey();this.giftListType==Y.GIFT?(z(a[0],this.swipeCurrent),z(a[1],this.giftInfo)):(z(a[2],this.swipeCurrent),z(a[3],this.giftInfo))},clickSend(){if(A(this.giftId)){Ke(this.$str("msg.giftPleaseChoose"));return}this.isAsk||(this.fromType==Ne.CALL||this.fromType==Ne.GAME?fi("call_click",1):fi("chat_click",1));let e=this.giftInfo;e.count=this.chooseCount;let t={gift_id:this.giftInfo.gift_id,to_uid:this.actionId,from_type:this.fromType,number:this.chooseCount};if(this.giftListType==Y.BAG?(e.gift_source=1,t.gift_source=1):delete e.gift_source,this.fromType==Ne.CLUB){if(this.uidList.length>0){if(this.giftListType==Y.GIFT){let i=this.uidList.length*this.chooseCount*this.giftInfo.price;if(!Un(i))return}else if(!this.checkGiftCount())return}else if(!this.checkGiftCount())return;e.club_id=this.actionId,!this.isSelectAll&&this.uidList.length<=0?(e.to_uid=-1,e.from_type=6):e.to_uid=this.isSelectAll?0:this.uidList,this.selectUserList.length>0&&(e.user_list=this.selectUserList),this.clearMemberPopData()}else if(!this.checkGiftCount())return;if(z("gift_list_type_"+getApp().globalData.uid,this.giftListType+""),[Ne.MSG,Ne.CALL,Ne.GAME,Ne.CLUB].indexOf(parseInt(this.fromType))!=-1){this.$emit("onSendGift",e),this.$refs.giftPopup.close();return}M.request("/chat/gift/send",t,!0).then(i=>{this.$emit("onSendGift",e),Bn(i.data.balance),i.data.from_bag&&di()})},clickRecharge(){ai(0,1)},checkGiftCount(){if(this.giftListType!=Y.BAG)return!0;let e=this.giftInfo.num;if((this.uidList.length>0?this.uidList.length:1)*this.chooseCount-e>0){let n=e>1?"gift.notEnoughGiftsTips":"gift.notEnoughGiftTips";return Dt(x("tips"),x(n,{num:e}),"",x("gotIt")),!1}return!0},clearMemberPopData(){this.selectStr="",this.uidList=[],this.selectUserList=[],this.isSelectAll=!1,this.$refs.receiversPop.clear(),this.chooseUser&&(this.chooseUser="")},onSheetChange(e){e.height=this.sheetHeight,e.show?this.openTimer=setTimeout(()=>{clearTimeout(this.openTimer),this.$emit("onChange",e)},500):(clearTimeout(this.openTimer),this.$emit("onChange",e))},onSwipeChange(e){this.swipeCurrent=e.detail.current},onReceiversClose(e){this.uidList=e.uidList,this.isSelectAll=e.isSelectAll,this.selectUserList=e.userList},onChangeSelectStr(e){this.selectStr=e},setChooseUser(e){this.isSelectAll=!1,this.uidList=[e.uid],this.selectUserList=[e],this.selectStr=e.nickname,this.chooseUser=e},setSheetHeight(){let e=this.giftWidth*2;e+=uni.upx2px(20),e+=this.isAsk?0:uni.upx2px(100),e+=uni.upx2px(100),e+=this.paddingBottom,this.sheetHeight=e},getStorageKey(){let e=getApp().globalData.uid;return["gift_swipe_current_"+e,"gift_current_info_"+e,"gift_bag_swipe_current_"+e,"gift_bag_current_info_"+e]},parseGifts(e){let t=[],i=[];if(this.isGreeting){let n=getApp().globalData.config.max_ask_gift_price;for(let a=0,s=e.length;a<s;a++){let r=e[a];r.price>=n||i.push(r)}}else{let n=[];for(let a=0,s=e.length;a<s;a++){let r=e[a];A(r.title)||A(r.icon)||n.push(r)}i=n}for(let n=0,a=i.length;n<a;n+=8)t.push({list:i.slice(n,n+8)});return{slide:t}},parseDefInfo(){let e=N("gift_swipe_current");if(e){let i="gift_swipe_current_"+getApp().globalData.uid;z(i,e),Ce("gift_swipe_current")}let t=N("gift_current_info");if(t){let i="gift_current_info_"+getApp().globalData.uid;z(i,t),Ce("gift_current_info")}},parseGiftList(){Object.keys(this.giftList).length<=0&&ea().then(e=>{this.giftList=this.parseGifts(e)})},parseDefChoose(){this.giftListType==Y.GIFT&&this.parseDefInfo();let e=this.getStorageKey(),t=this.giftListType==Y.GIFT?e[0]:e[2],i=N(t);this.swipeCurrent=i?Number(i):0;let n=this.giftListType==Y.GIFT?e[1]:e[3],a=N(n);a&&(this.giftInfo=a,this.giftId=a.gift_id)},open(e,t){uni.hideKeyboard(),this.actionId=e,this.isAsk||this.isAuth?(this.giftId=0,this.giftListType=Y.GIFT,this.parseGiftList(),this.setSheetHeight(),this.$nextTick(()=>{this.$refs.giftPopup.open()})):ta().then(i=>{if(typeof t!="undefined")this.giftListType=t;else{let n=N("gift_list_type_"+getApp().globalData.uid);n?this.giftListType=Number(n):this.giftListType=i.count<=0?Y.GIFT:Y.BAG}this.bagCount=i.count,this.giftBagList=this.parseGifts(i.list),this.giftListType==Y.GIFT&&this.parseGiftList(),this.parseDefChoose(),this.setSheetHeight(),this.$nextTick(()=>{this.$refs.giftPopup.open()})})}}};function jl(e,t,i,n,a,s){let r=U((0,o.resolveDynamicComponent)("l-img"),le),l=U((0,o.resolveDynamicComponent)("uni-icons"),Je),c=(0,o.resolveComponent)("swiper-item"),u=(0,o.resolveComponent)("m-text"),p=(0,o.resolveComponent)("swiper"),_=U((0,o.resolveDynamicComponent)("uni-popup"),ui),b=U((0,o.resolveDynamicComponent)("custom-popover"),st),S=(0,o.resolveComponent)("choose-receivers-pop");return(0,o.openBlock)(),(0,o.createElementBlock)("view",{onClick:t[10]||(t[10]=(...g)=>s.clickThis&&s.clickThis(...g)),renderWhole:!0},[(0,o.createVNode)(_,{"safe-area":!1,onChange:s.onSheetChange,"border-radius":"20rpx",ref:"giftPopup",style:{"z-index":"999"},type:"bottom"},{default:(0,o.withCtx)(()=>[(0,o.createElementVNode)("view",{class:"gift-sheet",style:(0,o.normalizeStyle)({paddingBottom:a.paddingBottom+"px"})},[i.isAsk?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,class:"top-bar"},[(0,o.createVNode)(r,{src:"s/gift/icon/gift_new_recharge_bg_1.png",w:`${a.screenW}px`,h:"88rpx",radius:"20rpx 20rpx 0 0",style:{position:"absolute",left:"0",top:"0"}},null,8,["w"]),(0,o.createElementVNode)("view",{class:"new-packet center-between"},[(0,o.createElementVNode)("view",{class:"center"},[(0,o.createVNode)(r,{src:"s/pub/more_coins.png",w:"56rpx",h:"56rpx"}),(0,o.createElementVNode)("u-text",{class:"tip"},(0,o.toDisplayString)(s.$str("gift.sheetReceiveNewPacket")),1)]),(0,o.createElementVNode)("u-text",{onClick:t[0]||(t[0]=(...g)=>s.clickRecharge&&s.clickRecharge(...g)),class:"look-over"},(0,o.toDisplayString)(s.$str("check")),1)])])),(0,o.createElementVNode)("view",{class:"balance-wrap center-between"},[(0,o.createElementVNode)("view",{class:"center"},[(0,o.createElementVNode)("view",{onClick:t[2]||(t[2]=g=>s.clickType(g,1)),class:"center view-title-action"},[(0,o.createVNode)(r,{onClick:t[1]||(t[1]=g=>s.clickType(g,1)),src:`s/pub/gift_home_${a.giftListType==a.typeGift?"s":"n"}.png`,w:"32rpx",h:"32rpx"},null,8,["src"]),(0,o.createElementVNode)("u-text",{class:(0,o.normalizeClass)(["type-text",[a.giftListType==a.typeGift?"type-active":""]])},(0,o.toDisplayString)(s.$str("gift")),3)]),!i.isAsk&&!a.isAuth?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,onClick:t[4]||(t[4]=g=>s.clickType(g,2)),class:"center view-title-action"},[(0,o.createVNode)(r,{onClick:t[3]||(t[3]=g=>s.clickType(g,2)),src:`s/pub/gift_bag_${a.giftListType==a.typeBag?"s":"n"}.png`,w:"32rpx",h:"32rpx"},null,8,["src"]),(0,o.createElementVNode)("u-text",{class:(0,o.normalizeClass)(["type-text",[a.giftListType==a.typeBag?"type-active":""]])},(0,o.toDisplayString)(a.bagCount>0?s.$str("bagNum",{num:a.bagCount}):s.$str("bag")),3)])):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("view",{class:"center"},[(0,o.createElementVNode)("view",{class:"center",style:{"margin-right":"44rpx"}},[(0,o.createElementVNode)("u-text",{class:"balance"},(0,o.toDisplayString)(Number(a.accountInfo.money)),1),(0,o.createVNode)(r,{src:"s/my/i_coins.png",w:"24rpx",h:"24rpx"})]),(0,o.createElementVNode)("view",{onClick:t[5]||(t[5]=(...g)=>s.clickRecharge&&s.clickRecharge(...g)),class:"center"},[(0,o.createElementVNode)("u-text",{class:"recharge-text"},(0,o.toDisplayString)(s.$str("topUp")),1),(0,o.createVNode)(l,{type:"right",size:"12px",color:"#FF743F"})])])]),(0,o.createVNode)(p,{"indicator-dots":s.showIndicatorDots,"indicator-active-color":"#F70AB8","indicator-color":"rgba(255, 3, 187, .3)",onChange:s.onSwipeChange,current:a.swipeCurrent,style:{height:"480rpx"}},{default:(0,o.withCtx)(()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(s.showList.slide,(g,L)=>((0,o.openBlock)(),(0,o.createBlock)(c,{key:L,style:(0,o.normalizeStyle)(s.giftSwiperItemStyle)},{default:(0,o.withCtx)(()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(g.list,(w,v)=>((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:v,style:(0,o.normalizeStyle)([{position:"relative"},{height:`${a.giftWidth+12}px`}])},[(0,o.createElementVNode)("view",{onClick:W=>s.clickGift(W,L,v),class:"gift-item",style:(0,o.normalizeStyle)({width:`${a.giftWidth}px`,border:`1px solid ${a.giftId==w.gift_id?"#FF4477":"#FFFFFF"}`})},[(0,o.createElementVNode)("view",{style:{"margin-top":"4px",position:"relative",padding:"0 20rpx"}},[(0,o.createVNode)(r,{onClick:W=>s.clickGift(W,L,v),src:w.icon,"use-cache":!0,w:"100rpx",h:"100rpx"},null,8,["onClick","src"]),a.giftListType==a.typeBag?((0,o.openBlock)(),(0,o.createElementBlock)("u-text",{key:0,class:"gift-num"},"x"+(0,o.toDisplayString)(w.num),1)):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("u-text",{class:"title",style:(0,o.normalizeStyle)({width:`${a.giftWidth-16}px`})},(0,o.toDisplayString)(w.title),5),(0,o.createElementVNode)("view",{class:"center"},[(0,o.createElementVNode)("u-text",{class:"price"},(0,o.toDisplayString)(w.price),1),(0,o.createVNode)(r,{src:"s/my/i_coins.png",w:"18rpx",h:"18rpx",style:{"margin-top":"2rpx"}})])],12,["onClick"])],4))),128))]),_:2},1032,["style"]))),128)),a.giftListType==a.typeBag&&a.bagCount<=0?((0,o.openBlock)(),(0,o.createBlock)(c,{key:0,style:(0,o.normalizeStyle)(s.giftSwiperItemStyle)},{default:(0,o.withCtx)(()=>[(0,o.createElementVNode)("view",{class:"column-center",style:{flex:"1"}},[(0,o.createVNode)(r,{src:"s/pub/empty_gift_1.png",w:"192rpx",h:"168rpx"}),a.prizeWheelShow?((0,o.openBlock)(),(0,o.createBlock)(u,{key:0,type:"desc",text:s.$str("gift.getByPrizeWheelTips"),style:{"margin-top":"20rpx","font-size":"24rpx"}},null,8,["text"])):(0,o.createCommentVNode)("",!0),a.prizeWheelShow?((0,o.openBlock)(),(0,o.createElementBlock)("u-text",{key:1,onClick:t[6]||(t[6]=(...g)=>s.clickGoBtn&&s.clickGoBtn(...g)),class:"go-btn"},(0,o.toDisplayString)(s.$str("go")),1)):(0,o.createCommentVNode)("",!0)])]),_:1},8,["style"])):(0,o.createCommentVNode)("",!0)]),_:1},8,["indicator-dots","onChange","current"]),i.showSend?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:1,class:"recharge-bottom center-between"},[i.fromType==5?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,ref:"giftReceivers",onClick:t[7]||(t[7]=(...g)=>s.clickGiftReceivers&&s.clickGiftReceivers(...g)),class:"center"},[a.selectStr?((0,o.openBlock)(),(0,o.createElementBlock)("u-text",{key:0,class:"choose-user ellipsis",style:{"max-width":"400rpx"}},(0,o.toDisplayString)(s.$str("sendTo"))+":\xA0"+(0,o.toDisplayString)(a.selectStr),1)):((0,o.openBlock)(),(0,o.createElementBlock)("u-text",{key:1,class:"choose-user"},(0,o.toDisplayString)(s.$str("gift.sheetChooseReceivers")),1)),(0,o.createVNode)(l,{type:"right",size:"20rpx",color:"#FF4477",style:{"margin-top":"-2rpx"}})],512)):((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:1})),i.isAsk?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:2,class:"send-wrap center"},[(0,o.createElementVNode)("view",{onClick:t[8]||(t[8]=(...g)=>s.clickChooseCount&&s.clickChooseCount(...g)),ref:"giftCount",class:"choose-count center-align"},[(0,o.createElementVNode)("u-text",{class:"count"},(0,o.toDisplayString)(a.chooseCount),1),(0,o.createVNode)(l,{color:"#000000",size:"12px",style:{"margin-top":"-2rpx"},type:"top"})],512),(0,o.createElementVNode)("u-text",{onClick:t[9]||(t[9]=(...g)=>s.clickSend&&s.clickSend(...g)),class:"button"},(0,o.toDisplayString)(s.$str("give")),1)]))])):(0,o.createCommentVNode)("",!0)],4)]),_:1},8,["onChange"]),(0,o.createVNode)(b,{ref:"giftCountPop",size:a.giftCountPopSize,"bg-color":"black",style:{"z-index":"1000"}},{default:(0,o.withCtx)(()=>[(0,o.createElementVNode)("view",{class:"count-pop"},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(a.countArr,(g,L)=>((0,o.openBlock)(),(0,o.createElementBlock)("u-text",{onClick:w=>s.clickCount(g),key:"c"+L,class:"count-text"},(0,o.toDisplayString)(g),9,["onClick"]))),128))])]),_:1},8,["size"]),i.fromType==5?((0,o.openBlock)(),(0,o.createBlock)(S,{key:0,ref:"receiversPop","club-id":a.actionId,size:a.receiverSize,onOnChangeSelectStr:s.onChangeSelectStr,onOnReceiversClose:s.onReceiversClose},null,8,["club-id","size","onOnChangeSelectStr","onOnReceiversClose"])):(0,o.createCommentVNode)("",!0)])}var wi=R(Wl,[["render",jl],["styles",[Hl]]]);var m=K(q());var Ze=K(q()),Vl={emits:["onEvent"],props:{src:{type:String,default:""},autoPlay:{type:Boolean,default:!1},loops:{type:Number,default:0},repeatMode:{type:Number,default:1},frame:{type:Number,default:0},progress:{type:Number,default:0},speed:{type:Number,default:1},eventStep:{type:Boolean,default:!1}},data(){return{refView:null}},computed:{params(){return{src:En(_e(this.src),!1),autoPlay:this.autoPlay,loops:this.loops,repeatMode:this.repeatMode,initFrame:this.frame,progress:this.progress,speed:this.speed,eventStep:this.eventStep}}},methods:{event(e){A(e)||typeof e.detail=="undefined"||this.$emit("onEvent",e.detail)},play(){this.$refs.lottie&&this.$refs.lottie.play()},pause(){this.$refs.lottie&&this.$refs.lottie.pause()},resume(){this.$refs.lottie&&this.$refs.lottie.resume()},stop(){this.$refs.lottie&&this.$refs.lottie.stop()},setFrame(e){this.$refs.lottie&&this.$refs.lottie.setFrame(e)},setProgress(e){this.$refs.lottie&&this.$refs.lottie.setProgress(e)},setSpeed(e){this.$refs.lottie&&this.$refs.lottie.setSpeed(e)},setEventStep(e){this.$refs.lottie&&this.$refs.lottie.setEventStep(e)}},created(){}};function zl(e,t,i,n,a,s){let r=(0,Ze.resolveComponent)("nav-anim-lottie");return(0,Ze.openBlock)(),(0,Ze.createBlock)(r,{ref:"lottie",params:s.params,onEvent:s.event},null,8,["params","onEvent"])}var xt=R(Vl,[["render",zl]]);var fa="call_evaluate_label_res";function ga(){return new Promise(e=>{let t=N(fa),i=it();if(A(t)||A(t.res[i])||getApp().globalData.callEvaluateVersion>parseInt(t.version))M.request("/chat/call/tap-reason",{}).then(n=>{let a=n.data.reason_list,s=ei(JSON.stringify(t));A(s)&&(s={}),A(s.res)&&(s.res={}),s.res[i]=a;let r={version:n.data.version,res:s.res};z(fa,r);let l=ma(a);e(l)});else{let n=ma(t.res[i]);e(n)}})}function ma(e){return de()?e.filter(t=>t.identity!=1):e.filter(t=>t.identity!=2)}var ha={},_a={props:{src:{type:String,default:""},w:{type:String,default:"0"},h:{type:String,default:"0"}},data(){return{svgaPath:"",isHide:!1}},created(){_e(this.src,e=>{this.svgaPath=e})}};function $l(e,t,i,n,a,s){return(0,m.openBlock)(),(0,m.createElementBlock)("div",{id:"renderScript",class:"view-anim",style:(0,m.normalizeStyle)({width:i.w,height:i.h}),svgaPath:a.svgaPath,"change:svgaPath":e.renderScript.animPathChange,isHide:a.isHide,"change:isHide":e.renderScript.isHideChange},null,12,["svgaPath","change:svgaPath","isHide","change:isHide"])}typeof ha=="function"&&ha(_a);var Yl=R(_a,[["render",$l]]),Kl={"view-container":{"":{color:"#333333",position:"fixed",zIndex:11111}},center:{"":{flexDirection:"row",alignItems:"center",justifyContent:"flex-start"}},"center-align":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"center-between":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},"view-evaluate":{"":{flex:1,backgroundColor:"#FFFFFF",boxShadow:"0 4rpx 20rpx 0 rgba(0, 0, 0, 0.1), 0 0 12rpx 0 rgba(0, 0, 0, 0.1)",borderRadius:"16rpx",borderWidth:"2rpx",borderStyle:"solid",borderColor:"rgba(0,0,0,0.15)",paddingTop:"24rpx",paddingRight:"20rpx",paddingBottom:"24rpx",paddingLeft:"20rpx",boxSizing:"border-box"}},"view-header":{"":{flexDirection:"row",flex:1,alignItems:"center",justifyContent:"space-between"}},"like-wrap":{"":{height:"60rpx",backgroundColor:"#F1F3F6",borderRadius:"30rpx",paddingTop:0,paddingRight:"16rpx",paddingBottom:0,paddingLeft:"16rpx",marginLeft:"20rpx"}},"split-line":{"":{height:"2rpx",backgroundColor:"rgba(0,0,0,0.1)",transform:"scaleY(0.5)",transformOrigin:"50% 100%",marginTop:"12rpx"}},"split-line-ver":{"":{width:"2rpx",height:"28rpx",backgroundColor:"rgba(0,0,0,0.1)",marginTop:0,marginRight:"12rpx",marginBottom:0,marginLeft:"12rpx"}},"enjoy-text":{"":{lineHeight:"22rpx",marginTop:"10rpx",fontSize:"20rpx",color:"#666666",lines:1,overflow:"hidden",textOverflow:"ellipsis"}},"close-icon":{"":{position:"absolute",top:0,right:0,paddingLeft:"20rpx",paddingBottom:"20rpx"}},"close-bg":{".close-icon ":{minWidth:"16px",minHeight:"16px",width:16,height:16,borderRadius:8,backgroundColor:"#FFFFFF",borderWidth:"2rpx",borderStyle:"solid",borderColor:"rgba(0,0,0,0.1)"}},"report-label":{"":{backgroundColor:"#F1F3F6",borderRadius:"8rpx",paddingTop:0,paddingRight:"28rpx",paddingBottom:0,paddingLeft:"28rpx",minWidth:"max-content",borderWidth:"2rpx",borderStyle:"solid",borderColor:"#F1F3F6",marginTop:"12rpx",marginRight:"12rpx"}},"report-text":{".report-label ":{height:"44rpx",lineHeight:"44rpx",minWidth:"max-content",fontSize:"20rpx"}},active:{"":{"!borderWidth":"2rpx","!borderStyle":"solid","!borderColor":"#FF4477","!backgroundColor":"rgba(255,68,119,0.1)"}},"input-wrap":{"":{height:"56rpx",borderRadius:"4rpx",borderWidth:"2rpx",borderStyle:"solid",borderColor:"rgba(0,0,0,0.1)",paddingTop:0,paddingRight:"12rpx",paddingBottom:0,paddingLeft:"12rpx",marginTop:"12rpx"}},"reason-tips":{"":{marginTop:"10rpx",fontSize:"20rpx",color:"#999999"}},"reason-input":{"":{marginLeft:"16rpx",fontSize:"20rpx",flex:1}},"submit-btn":{"":{backgroundImage:"linear-gradient(to right, #FF00BD, #FF5954)",borderRadius:"12rpx",marginTop:"20rpx",height:"56rpx"}},"submit-text":{".submit-btn ":{textAlign:"center",color:"#FFFFFF",lineHeight:"56rpx",fontSize:"22rpx"}},"nickname-text":{"":{lineHeight:"28rpx",fontSize:"24rpx",fontWeight:"600",lines:1,overflow:"hidden",textOverflow:"ellipsis"}}},Jl={components:{Lottie:xt,LSvga:Yl,UniIcons:Je,LImg:le,UniTransition:ve},props:{id:{type:String,default:""},isTab:{type:Boolean,default:!1},noNavbar:{type:Boolean,default:!1}},data(){return{show:!1,userInfo:{},closeTimer:!1,roomId:0,evaluateId:"",isUnlike:!1,reasonList:[],pageShow:!1,inputReason:"",chooseIds:[],hasClick:!1,scrollViewW:getApp().globalData.window.width-88,windowInfo:getApp().globalData.window,cursorSpacing:uni.upx2px(126),hasLike:!1,hasUnlike:!1,showPath:!1,isFocus:!1,keyboardH:0,eventPathKey:""}},computed:{viewStyle(){let e={};return this.isUnlike?(e.width=this.windowInfo.width+"px",this.isTab||this.noNavbar?e.height=this.windowInfo.height+"px":e.height=this.windowInfo.height-this.windowInfo.statusBarHeight-this.windowInfo.navBarHeight+"px",e.left=0,e.top=0):(e.width=this.windowInfo.width-72+"px",e.bottom=this.contentBottom+"px",e.left="36px"),e},contentStyle(){let e={},t=this.isTab?50:0,i=this.isTab?20:34;if(this.isUnlike){let n=this.windowInfo.safeBottom+t+i;e.position="absolute",e.left="36px",this.isFocus&&(n=this.keyboardH+2),e.bottom=n+"px"}return e.width=this.windowInfo.width-72+"px",e},contentBottom(){if(this.isTab)return 20;let e=this.windowInfo.safeBottom;return e+=34},nicknameWidth(){let t=this.windowInfo.width-88-uni.upx2px(324);return this.ageText&&(t-=uni.upx2px(50)),t},ageText(){let e="";return this.userInfo.birthday&&(e=", "+Cn(this.userInfo.birthday)),e},enjoyText(){let e=yn(this.userInfo.sex);return x("enjoyCallWithOther",{her:e})},enjoyTextWidth(){return this.windowInfo.width-88-uni.upx2px(324)}},methods:{$str:x,clickView(e){e&&e.stopPropagation();let t=this.$refs.inputReason;t&&t.blur&&t.blur()},clickClose(){this.pageShow&&(uni.hideKeyboard(),uni.offKeyboardHeightChange(this.onKeyboardChange),this.show=!1,this.pageShow=!1,this.$nextTick(()=>{this.inputReason="",this.chooseIds=[],this.hasClick=!1,this.hasLike=!1,this.hasUnlike=!1,this.isUnlike=!1,this.evaluateId="",this.roomId=0,this.userInfo={},this.isFocus=!1}))},clickSubmit(e){if(e&&e.stopPropagation(),A(this.chooseIds)&&A(this.inputReason))Ke(x("callEvaluateFeedbackTips")),this.clickClose();else{let t={evaluate_id:this.evaluateId};A(this.chooseIds)||(t.reason=this.chooseIds.join(",")),A(this.inputReason)||(t.content=this.inputReason),M.request("/chat/call/tap-record",t,!0,!0).then(()=>{this.clickClose(!1),Ke(x("callEvaluateFeedbackTips"))})}},clickReportItem(e,t){e&&e.stopPropagation();let i=this.chooseIds.indexOf(t);i==-1?this.chooseIds.push(t):this.chooseIds.splice(i,1)},clickLike(e){e&&e.stopPropagation(),!this.hasClick&&(this.hasClick=!0,this.hasLike=!0,this.reqEvaluate(1))},clickUnlike(e){e&&e.stopPropagation(),!this.hasClick&&(this.hasClick=!0,this.hasUnlike=!0,this.$nextTick(()=>{this.reqEvaluate(2).then(()=>ga()).then(t=>{this.parseReason(t),this.$nextTick(()=>{this.isUnlike=!0})})}))},startTimer(e){this.clearTimer(),this.closeTimer=setTimeout(()=>{this.clearTimer(),this.show=!1},e*1e3)},clearTimer(){this.closeTimer&&clearTimeout(this.closeTimer)},preventHandler(){},onKeyboardChange(e){this.keyboardH=e.height,this.isFocus=e.height>0},reqEvaluate(e){return this.clearTimer(),new Promise(t=>{let i={uid:getApp().globalData.uid,target_uid:this.userInfo.uid,room_id:this.roomId,type:e};M.request("/chat/call/evaluate",i,!1,!0).then(n=>{this.evaluateId=n.data.evaluate_id,e==1?this.startTimer(2):(this.clearTimer(),t())},()=>{this.hasClick=!1,this.startTimer(2)})})},parseReason(e){let t=e.length,i=parseInt(t/2),n=[];for(let a=0;a<t;a+=i)n.push({list:e.slice(a,a+i)});this.reasonList=n},init(e,t){this.userInfo=e,this.roomId=t,this.hasClick=!1,this.pageShow=!0,this.$nextTick(()=>{this.show=!0,this.startTimer(5),uni.onKeyboardHeightChange(this.onKeyboardChange)})}},created(){this.eventPathKey=St("fullPath"),uni.$on(`event_${this.eventPathKey}_show_call_evaluate`,this.init),uni.$on(`event_${this.eventPathKey}_close_call_evaluate`,this.clickClose),_e("s/call/evaluate_like.svga"),_e("s/call/evaluate_unlike.svga"),_e("s/call/evaluate_like.json"),_e("s/call/evaluate_unlike.json")},unmounted(){this.clearTimer(),uni.offKeyboardHeightChange(this.onKeyboardChange),uni.$off(`event_${this.eventPathKey}_show_call_evaluate`,this.init),uni.$off(`event_${this.eventPathKey}_close_call_evaluate`,this.clickClose)}};function ql(e,t,i,n,a,s){let r=U((0,m.resolveDynamicComponent)("l-img"),le),l=(0,m.resolveComponent)("lottie"),c=U((0,m.resolveDynamicComponent)("uni-icons"),Je),u=U((0,m.resolveDynamicComponent)("uni-transition"),ve);return a.pageShow?((0,m.openBlock)(),(0,m.createElementBlock)("view",{key:0,class:"view-container",onClick:t[5]||(t[5]=(...p)=>s.clickView&&s.clickView(...p)),onTouchmove:t[6]||(t[6]=(0,m.withModifiers)((...p)=>s.preventHandler&&s.preventHandler(...p),["stop","prevent"])),style:(0,m.normalizeStyle)(s.viewStyle),renderWhole:!0},[(0,m.createVNode)(u,{"mode-class":"fade",show:a.show,duration:300,style:(0,m.normalizeStyle)(s.contentStyle)},{default:(0,m.withCtx)(()=>[(0,m.createElementVNode)("view",{style:{padding:"8px",position:"relative"}},[(0,m.createElementVNode)("view",{class:"view-evaluate"},[(0,m.createElementVNode)("view",{class:"view-header"},[(0,m.createElementVNode)("view",{class:"center"},[(0,m.createVNode)(r,{src:a.userInfo.small_avatar,w:"62rpx",h:"62rpx",radius:"31rpx",border:"2rpx solid #EEEEEE"},null,8,["src"]),(0,m.createElementVNode)("view",{style:{"margin-left":"16rpx"}},[(0,m.createElementVNode)("view",{class:"center"},[(0,m.createElementVNode)("u-text",{style:(0,m.normalizeStyle)({maxWidth:`${s.nicknameWidth}px`}),class:"nickname-text"},(0,m.toDisplayString)(a.userInfo.nickname),5),s.ageText?((0,m.openBlock)(),(0,m.createElementBlock)("u-text",{key:0,style:{"line-height":"28rpx","font-size":"24rpx","font-weight":"600"}},(0,m.toDisplayString)(s.ageText),1)):(0,m.createCommentVNode)("",!0)]),(0,m.createElementVNode)("u-text",{class:"enjoy-text",style:(0,m.normalizeStyle)({maxWidth:`${s.enjoyTextWidth}px`})},(0,m.toDisplayString)(s.enjoyText),5)])]),(0,m.createElementVNode)("view",{class:"like-wrap center"},[(0,m.createElementVNode)("view",{onClick:t[0]||(t[0]=(...p)=>s.clickLike&&s.clickLike(...p))},[a.hasLike?((0,m.openBlock)(),(0,m.createBlock)(l,{key:1,src:"s/call/evaluate_like.json","auto-play":!0,style:{width:"60rpx",height:"60rpx"}})):((0,m.openBlock)(),(0,m.createBlock)(r,{key:0,onClick:s.clickLike,src:"s/pub/evaluate_like_n.png",w:"60rpx",h:"60rpx"},null,8,["onClick"]))]),(0,m.createElementVNode)("view",{class:"split-line-ver"}),(0,m.createElementVNode)("view",{onClick:t[1]||(t[1]=(...p)=>s.clickUnlike&&s.clickUnlike(...p))},[a.hasUnlike?((0,m.openBlock)(),(0,m.createBlock)(l,{key:1,src:"s/call/evaluate_unlike.json","auto-play":!0,style:{width:"60rpx",height:"60rpx"}})):((0,m.openBlock)(),(0,m.createBlock)(r,{key:0,onClick:s.clickUnlike,src:"s/pub/evaluate_unlike_n.png",w:"60rpx",h:"60rpx"},null,8,["onClick"]))])])]),a.isUnlike?((0,m.openBlock)(),(0,m.createElementBlock)("view",{key:0,class:"m-t-8"},[(0,m.createElementVNode)("view",{class:"split-line"}),(0,m.createElementVNode)("u-text",{class:"reason-tips"},(0,m.toDisplayString)(s.$str("callEvaluateTips")),1),(0,m.createElementVNode)("scroll-view",{scrollX:!0,showScrollbar:!1,style:{"flex-direction":"row",flex:"1"}},[(0,m.createElementVNode)("view",null,[((0,m.openBlock)(!0),(0,m.createElementBlock)(m.Fragment,null,(0,m.renderList)(a.reasonList,(p,_)=>((0,m.openBlock)(),(0,m.createElementBlock)("view",{key:_,class:"center"},[((0,m.openBlock)(!0),(0,m.createElementBlock)(m.Fragment,null,(0,m.renderList)(p.list,(b,S)=>((0,m.openBlock)(),(0,m.createElementBlock)("view",{key:_+"_"+S,onClick:(0,m.withModifiers)(g=>s.clickReportItem(g,b.id),["stop"]),class:(0,m.normalizeClass)(["report-label",[a.chooseIds.indexOf(b.id)!=-1?"active":""]])},[(0,m.createElementVNode)("u-text",{class:"report-text"},(0,m.toDisplayString)(b.title),1)],10,["onClick"]))),128))]))),128))])]),(0,m.createElementVNode)("view",{class:"input-wrap center"},[(0,m.createVNode)(r,{src:"s/pub/evaluate_edit.png",w:"24rpx",h:"24rpx"}),(0,m.createElementVNode)("u-input",{ref:"inputReason",modelValue:a.inputReason,onInput:t[2]||(t[2]=p=>a.inputReason=p.detail.value),type:"text",placeholder:s.$str("callEvaluateInputTips"),cursorSpacing:a.cursorSpacing,adjustPosition:!1,class:"reason-input"},null,40,["modelValue","placeholder","cursorSpacing"])]),(0,m.createElementVNode)("view",{onClick:t[3]||(t[3]=(...p)=>s.clickSubmit&&s.clickSubmit(...p)),class:"submit-btn center-align"},[(0,m.createElementVNode)("u-text",{class:"submit-text"},(0,m.toDisplayString)(s.$str("submit")),1)])])):(0,m.createCommentVNode)("",!0)]),a.isUnlike?((0,m.openBlock)(),(0,m.createElementBlock)("view",{key:0,onClick:t[4]||(t[4]=p=>s.clickClose(!1)),class:"close-icon"},[(0,m.createElementVNode)("view",{class:"close-bg center-align"},[(0,m.createVNode)(c,{type:"closeempty",size:"20rpx",color:"#333333",style:{"margin-top":"2rpx"}})])])):(0,m.createCommentVNode)("",!0)])]),_:1},8,["show","style"])],36)):(0,m.createCommentVNode)("",!0)}var Ci=R(Jl,[["render",ql],["styles",[Kl]]]);var Au=K(Ot());function ba(e,t){return e.type==he.COIN?t?An(e.bonus):x("coins"):e.type==he.GIFT&&e.num>1?`${e.title} x${e.num}`:e.title}var Zl=we("animation"),Xl={data(){return{sW:getApp().globalData.window.width,sH:getApp().globalData.window.height,bgColor:H.isAndroid?"rgba(0,0,0,0.9)":"rgba(0,0,0,0,0)",prizeObj:!1,prizeList:[],showType:0,showBoxAnim:!1,resultTipType:0,showLottie:!1,animFinishFirst:!0,hasCheckBox:!1}},computed:{topH(){return parseInt(this.sH*.24)},showResultTip(){return this.showType==3||this.showType==2?!this.showBoxAnim:!0},resultTipTitle(){return this.resultTipType==1?x("isPutGiftBag"):this.resultTipType==2?x("isPutAccount"):this.resultTipType==3?x("isPutGiftBugAndAccount"):""}},methods:{$str:x,clickClose(e){e&&e.stopPropagation(),ti()},clickCheckBag(){this.$refs.refGiftSheet.open(0,Y.BAG)},clickCheckAccount(){ge("/pagesPub/my/consumer-detail")},onLottieEvent(e){if(e&&e.status==dn.FINISH){if(H.isAndroid&&this.animFinishFirst){this.animFinishFirst=!1;return}this.showLottie=!1}},playAudio(){Mn(_e("s/christmas/lucky.mp3"))},animBoxResult(){this.showLottie=!0,Zl.transition(this.$refs.refBoxResult,{styles:{transform:"scale(1)",opacity:1},duration:300,timingFunction:"linear",needLayout:!0,delay:0},()=>{}),this.playAudio()},animBox(){let e=this.$refs.animBox;typeof e=="object"&&setTimeout(()=>{e.step({rotate:20},{duration:200}),e.step({rotate:-20},{duration:200}),e.step({rotate:18},{duration:200}),e.step({rotate:-18},{duration:200}),e.step({rotate:15},{duration:200}),e.step({rotate:-15},{duration:200}),e.step({rotate:12},{duration:100}),e.step({rotate:-12},{duration:100}),e.step({rotate:10},{duration:100}),e.step({rotate:-10},{duration:100}),e.step({rotate:0},{duration:100}),e.run(()=>{e.step({scale:1.5,opacity:0},{duration:300}),e.run(()=>{this.showBoxAnim=!1})}),setTimeout(()=>{this.animBoxResult()},H.isAndroid?2300:2e3)},500)},initView(e){let t,i;for(let n=0,a=e.bonus_list.length;n<a;n++){let s=e.bonus_list[n];s.titleStr=ba(s,!1),s.type==he.COIN?t=!0:s.type==he.GIFT?i=!0:s.type==he.BOX&&(s.result.titleStr=ba(s.result,!1),this.hasCheckBox||(this.hasCheckBox=!0),s.result.type==he.GIFT?i=!0:s.result.type==he.COIN&&(t=!0))}e.bonus_list.length>1?(this.prizeList=e.bonus_list,this.showType=2,this.resultTipType=de()?2:t&&i?3:i?1:2):(this.prizeObj=e.bonus_list[0],this.prizeObj.type==he.BOX?(this.showType=3,this.resultTipType=de()?2:this.prizeObj.result.type==he.GIFT?1:2):(this.showType=1,this.resultTipType=de()?2:this.prizeObj.type==he.GIFT?1:2)),this.showType==3?(this.showBoxAnim=!0,this.$nextTick(()=>{this.animBox()})):this.showType==2?(this.hasCheckBox&&(this.showBoxAnim=!0,setTimeout(()=>{this.showBoxAnim=!1,this.playAudio()},2500)),this.playAudio()):this.playAudio()}},onBackPress(e){if(e.from=="backbutton")return!0},onReady(){},onShow(){uni.$emit("event_page_prize_show","show")},onHide(){uni.$emit("event_page_prize_show","hide")},onLoad(){this.getOpenerEventChannel().on("prizeShowData",e=>{this.initView(e)})},onUnload(){this.getOpenerEventChannel().emit("onFinishListener")}},Ql={"center-align":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"text-name-small":{"":{fontSize:"16rpx",fontWeight:"bold",color:"#FFFFFF",lines:1,textOverflow:"ellipsis"}},"text-name":{"":{width:"100rpx",textAlign:"center"}}},ec={components:{LImg:le},props:{info:{type:Object,default(){return{}}}},data(){return{showBoxAnim:!0}},computed:{showInfo(){return this.info.type==he.BOX?this.info.result:this.info}},methods:{animBoxResult(){we("animation").transition(this.$refs.refBoxResult,{styles:{transform:"scale(1)",opacity:1},duration:300,timingFunction:"linear",needLayout:!0,delay:0},()=>{})},animBox(){let e=this.$refs.animBox;if(typeof e=="undefined"){this.showBoxAnim=!1,setTimeout(()=>{this.animBoxResult()},1e3);return}e.step({rotate:20},{duration:200}),e.step({rotate:-20},{duration:200}),e.step({rotate:18},{duration:200}),e.step({rotate:-18},{duration:200}),e.step({rotate:15},{duration:200}),e.step({rotate:-15},{duration:200}),e.step({rotate:12},{duration:100}),e.step({rotate:-12},{duration:100}),e.step({rotate:10},{duration:100}),e.step({rotate:-10},{duration:100}),e.step({rotate:0},{duration:100}),e.run(()=>{e.step({scale:1.5,opacity:0},{duration:300}),e.run(()=>{this.showBoxAnim=!1})}),setTimeout(()=>{this.animBoxResult()},H.isAndroid?2300:2e3)}},created(){setTimeout(()=>{this.animBox()},500)}};function tc(e,t,i,n,a,s){let r=U((0,d.resolveDynamicComponent)("l-img"),le),l=U((0,d.resolveDynamicComponent)("uni-transition"),ve),c=U((0,d.resolveDynamicComponent)("coin"),ci);return(0,d.openBlock)(),(0,d.createElementBlock)("view",{style:{width:"100rpx","align-items":"center"},renderWhole:!0},[i.info.type==3?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:0,style:{"align-items":"center","justify-content":"center",width:"100rpx"}},[(0,d.createVNode)(l,{ref:"animBox",show:a.showBoxAnim,style:{position:"absolute"}},{default:(0,d.withCtx)(()=>[(0,d.createVNode)(r,{src:i.info.icon,w:"80rpx",h:"80rpx"},null,8,["src"])]),_:1},8,["show"]),(0,d.createElementVNode)("view",{ref:"refBoxResult",style:{"align-items":"center",transform:"scale(0)",opacity:"0"}},[(0,d.createElementVNode)("view",{style:{"align-items":"center",width:"60rpx",height:"100rpx"}},[(0,d.createVNode)(r,{src:"s/christmas/box_base.png",w:"60rpx",h:"54rpx",style:{position:"absolute",bottom:"0"}}),(0,d.createVNode)(r,{src:s.showInfo.icon,w:"60rpx",h:"60rpx",style:{position:"absolute",top:"0"}},null,8,["src"])]),(0,d.createElementVNode)("u-text",{class:"text-name-small text-name"},(0,d.toDisplayString)(s.showInfo.titleStr),1),(0,d.createVNode)(c,{coin:s.showInfo.bonus,w:20,size:20,fw:500,color:"#FFFA1E",style:{"margin-top":"4rpx"}},null,8,["coin"])],512)])):((0,d.openBlock)(),(0,d.createBlock)(r,{key:1,src:s.showInfo.icon,w:"100rpx",h:"100rpx"},null,8,["src"])),i.info.type!=3?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:2},[s.showInfo.type==2||s.showInfo.num<=1?((0,d.openBlock)(),(0,d.createElementBlock)("u-text",{key:0,class:"text-name-small text-name"},(0,d.toDisplayString)(s.showInfo.titleStr),1)):((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:1,class:"center-align",style:{width:"100rpx"}},[(0,d.createElementVNode)("u-text",{class:"text-name-small",style:{"max-width":"80rpx"}},(0,d.toDisplayString)(s.showInfo.title),1),(0,d.createElementVNode)("u-text",{class:"text-name-small",style:{"margin-left":"4rpx"}},"x"+(0,d.toDisplayString)(s.showInfo.num),1)]))])):(0,d.createCommentVNode)("",!0),i.info.type!=3?((0,d.openBlock)(),(0,d.createBlock)(c,{key:3,coin:s.showInfo.bonus,w:20,size:20,fw:500,color:"#FFFA1E",style:{"margin-top":"4rpx"}},null,8,["coin"])):(0,d.createCommentVNode)("",!0)])}var ic=R(ec,[["render",tc],["styles",[Ql]]]),nc={"view-page":{"":{backgroundColor:"rgba(0,0,0,0.6)"}},center:{"":{flexDirection:"row",alignItems:"center"}},"center-align":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"text-title":{"":{fontSize:"60rpx",fontWeight:"900",color:"#FFFFFF",marginLeft:"12rpx",marginRight:"12rpx"}},"text-name-big":{"":{fontSize:"40rpx",fontWeight:"bold",color:"#FFFFFF"}},"text-name-small":{"":{fontSize:"16rpx",fontWeight:"bold",color:"#FFFFFF",lines:1,textOverflow:"ellipsis"}},"view-show":{"":{height:"396rpx",marginTop:"-40rpx"}},"text-check-bag":{"":{fontSize:"28rpx",color:"#67D4FF",textDecoration:"underline",paddingTop:"16rpx",paddingBottom:"10rpx"}},"text-ok":{"":{position:"absolute",bottom:0,width:"300rpx",height:"96rpx",backgroundColor:"#FFFFFF",borderRadius:"48rpx",borderWidth:"8rpx",borderStyle:"solid",borderColor:"#387D3B",textAlign:"center",lineHeight:"96rpx",fontSize:"32rpx",color:"#DF1837"}}},ac={mixins:[Xl],components:{CallEvaluate:Ci,Lottie:xt,GiftSheet:wi,CellPrizeShow:ic}};function sc(e,t,i,n,a,s){let r=U((0,d.resolveDynamicComponent)("l-img"),le),l=U((0,d.resolveDynamicComponent)("coin"),ci),c=(0,d.resolveComponent)("cell-prize-show"),u=U((0,d.resolveDynamicComponent)("uni-transition"),ve),p=(0,d.resolveComponent)("Lottie"),_=U((0,d.resolveDynamicComponent)("gift-sheet"),wi),b=U((0,d.resolveDynamicComponent)("call-evaluate"),Ci);return(0,d.openBlock)(),(0,d.createElementBlock)("view",{class:"view-page"},[(0,d.createElementVNode)("scroll-view",{scrollY:!0,style:(0,d.normalizeStyle)({width:`${e.sW}px`,height:`${e.sH}px`})},[(0,d.createElementVNode)("view",{style:(0,d.normalizeStyle)({height:`${e.topH}px`})},null,4),(0,d.createElementVNode)("view",{class:"center-align"},[(0,d.createVNode)(r,{src:"s/christmas/snow_yellow.png",w:"50rpx",h:"50rpx"}),(0,d.createElementVNode)("u-text",{class:"text-title"},(0,d.toDisplayString)(e.$str("congratulations")),1),(0,d.createVNode)(r,{src:"s/christmas/snow_yellow.png",w:"50rpx",h:"50rpx"})]),(0,d.createElementVNode)("view",{class:"center-align view-show",style:(0,d.normalizeStyle)([{width:`${e.sW}px`},{"margin-top":"40rpx"}])},[(0,d.createVNode)(r,{src:"s/christmas/prize_guang_3.png",w:"710rpx",h:"378rpx",style:{position:"absolute",bottom:"0"}}),(0,d.createVNode)(r,{src:"s/christmas/prize_kuang_2.png",w:"710rpx",h:"396rpx",style:{position:"absolute",top:"0"}}),e.showType==1?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:0,style:{"align-items":"center"}},[(0,d.createVNode)(r,{src:e.prizeObj.icon,w:"200rpx",h:"200rpx",style:{"margin-top":"20rpx"}},null,8,["src"]),(0,d.createElementVNode)("u-text",{class:"text-name-big"},(0,d.toDisplayString)(e.prizeObj.titleStr),1),(0,d.createVNode)(l,{coin:e.prizeObj.bonus,w:32,size:36,fw:500,color:"#FFFA1E",style:{"margin-top":"8rpx"}},null,8,["coin"])])):e.showType==2?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:1,style:{width:"590rpx","flex-direction":"row","flex-wrap":"wrap"}},[((0,d.openBlock)(!0),(0,d.createElementBlock)(d.Fragment,null,(0,d.renderList)(e.prizeList,(S,g)=>((0,d.openBlock)(),(0,d.createBlock)(c,{key:`a_${g}`,info:S,style:(0,d.normalizeStyle)({marginRight:(g+1)%5==0?"0rpx":"20rpx",marginTop:g<5?"10rpx":"16rpx"})},null,8,["info","style"]))),128))])):e.showType==3?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:2,style:{"align-items":"center","justify-content":"center",width:"400rpx",height:"396rpx"}},[(0,d.createVNode)(u,{ref:"animBox",show:e.showBoxAnim},{default:(0,d.withCtx)(()=>[(0,d.createVNode)(r,{src:e.prizeObj.icon,w:"200rpx",h:"200rpx"},null,8,["src"])]),_:1},8,["show"]),(0,d.createElementVNode)("view",{ref:"refBoxResult",style:{"align-items":"center",position:"absolute",transform:"scale(0)",opacity:"0"}},[(0,d.createElementVNode)("view",{style:{"align-items":"center",width:"140rpx",height:"208rpx","margin-top":"20rpx"}},[(0,d.createVNode)(r,{src:"s/christmas/box_base.png",w:"128rpx",h:"112rpx",style:{position:"absolute",bottom:"0"}}),(0,d.createVNode)(r,{src:e.prizeObj.result.icon,w:"140rpx",h:"140rpx",style:{position:"absolute",top:"0"}},null,8,["src"])]),(0,d.createElementVNode)("u-text",{class:"text-name-big"},(0,d.toDisplayString)(e.prizeObj.result.titleStr),1),(0,d.createVNode)(l,{coin:e.prizeObj.result.bonus,w:32,size:36,fw:500,color:"#FFFA1E",style:{"margin-top":"8rpx"}},null,8,["coin"])],512)])):(0,d.createCommentVNode)("",!0)],4),e.showResultTip?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:0,style:(0,d.normalizeStyle)([{width:`${e.sW}px`,height:`${e.resultTipType==3?200:150}rpx`},{"align-items":"center","justify-content":"center"}])},[(0,d.createElementVNode)("u-text",{style:{"font-size":"28rpx",color:"#FFFFFF","text-align":"center"}},(0,d.toDisplayString)(e.resultTipTitle),1),(0,d.createElementVNode)("view",{class:"center"},[e.resultTipType==1||e.resultTipType==3?((0,d.openBlock)(),(0,d.createElementBlock)("u-text",{key:0,onClick:t[0]||(t[0]=(...S)=>e.clickCheckBag&&e.clickCheckBag(...S)),class:"text-check-bag"},(0,d.toDisplayString)(e.$str("checkGiftBag")),1)):(0,d.createCommentVNode)("",!0),e.resultTipType==2||e.resultTipType==3?((0,d.openBlock)(),(0,d.createElementBlock)("u-text",{key:1,onClick:t[1]||(t[1]=(...S)=>e.clickCheckAccount&&e.clickCheckAccount(...S)),class:"text-check-bag",style:(0,d.normalizeStyle)({marginLeft:`${e.resultTipType==3?60:0}rpx`})},(0,d.toDisplayString)(e.$str("checkCoinDetail")),5)):(0,d.createCommentVNode)("",!0)])],4)):((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:1,style:{height:"150rpx"}})),(0,d.createElementVNode)("view",{onClick:t[2]||(t[2]=(...S)=>e.clickClose&&e.clickClose(...S)),style:(0,d.normalizeStyle)([{width:`${e.sW}px`},{height:"120rpx","align-items":"center"}])},[(0,d.createElementVNode)("u-text",{class:"text-ok"},(0,d.toDisplayString)(e.$str("ok")),1),(0,d.createVNode)(r,{onClick:e.clickClose,src:"s/christmas/prize_layer.png",w:"300rpx",h:"56rpx",style:{position:"absolute",top:"0"}},null,8,["onClick"])],4)],4),e.showLottie?((0,d.openBlock)(),(0,d.createBlock)(p,{key:0,src:"s/christmas/open_box.json","auto-play":!0,loops:0,style:(0,d.normalizeStyle)([{position:"absolute",top:"0",left:"0"},{width:`${e.sW}px`,height:`${e.sH}px`}]),onOnEvent:e.onLottieEvent},null,8,["style","onOnEvent"])):(0,d.createCommentVNode)("",!0),(0,d.createVNode)(_,{ref:"refGiftSheet",showSend:!1},null,512),(0,d.createVNode)(b,{id:"/pagesPub/luck-draw/prize-show"})])}var kt=R(ac,[["render",sc],["styles",[nc]]]);var Si=plus.webview.currentWebview();if(Si){let e=parseInt(Si.id),t="pagesPub/luck-draw/prize-show",i={};try{i=JSON.parse(Si.__query__)}catch(a){}kt.mpType="page";let n=Vue.createPageApp(kt,{$store:getApp({allowDefault:!0}).$store,__pageId:e,__pagePath:t,__pageQuery:i});n.provide("__globalStyles",Vue.useCssStyles([...__uniConfig.styles,...kt.styles||[]])),n.mount("#root")}})();
/*!
  * @intlify/shared v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/message-resolver v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/runtime v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/message-compiler v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/core-base v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * vue-i18n v9.1.9
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */
