"use weex:vue";

if (typeof Promise !== 'undefined' && !Promise.prototype.finally) {
  Promise.prototype.finally = function(callback) {
    const promise = this.constructor
    return this.then(
      value => promise.resolve(callback()).then(() => value),
      reason => promise.resolve(callback()).then(() => {
        throw reason
      })
    )
  }
};

if (typeof uni !== 'undefined' && uni && uni.requireGlobal) {
  const global = uni.requireGlobal()
  ArrayBuffer = global.ArrayBuffer
  Int8Array = global.Int8Array
  Uint8Array = global.Uint8Array
  Uint8ClampedArray = global.Uint8ClampedArray
  Int16Array = global.Int16Array
  Uint16Array = global.Uint16Array
  Int32Array = global.Int32Array
  Uint32Array = global.Uint32Array
  Float32Array = global.Float32Array
  Float64Array = global.Float64Array
  BigInt64Array = global.BigInt64Array
  BigUint64Array = global.BigUint64Array
};


(()=>{var Nn=Object.create;var Lt=Object.defineProperty,On=Object.defineProperties,Rn=Object.getOwnPropertyDescriptor,Mn=Object.getOwnPropertyDescriptors,Pn=Object.getOwnPropertyNames,gi=Object.getOwnPropertySymbols,Fn=Object.getPrototypeOf,hi=Object.prototype.hasOwnProperty,Bn=Object.prototype.propertyIsEnumerable;var _i=(e,t,i)=>t in e?Lt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,It=(e,t)=>{for(var i in t||(t={}))hi.call(t,i)&&_i(e,i,t[i]);if(gi)for(var i of gi(t))Bn.call(t,i)&&_i(e,i,t[i]);return e},yi=(e,t)=>On(e,Mn(t));var bi=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Un=(e,t,i,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Pn(t))!hi.call(e,n)&&n!==i&&Lt(e,n,{get:()=>t[n],enumerable:!(a=Rn(t,n))||a.enumerable});return e};var H=(e,t,i)=>(i=e!=null?Nn(Fn(e)):{},Un(t||!e||!e.__esModule?Lt(i,"default",{value:e,enumerable:!0}):i,e));var Ai=(e,t,i)=>new Promise((a,n)=>{var r=l=>{try{s(i.next(l))}catch(c){n(c)}},o=l=>{try{s(i.throw(l))}catch(c){n(c)}},s=l=>l.done?a(l.value):Promise.resolve(l.value).then(r,o);s((i=i.apply(e,t)).next())});var $=bi((Yl,Ci)=>{Ci.exports=Vue});var xt=bi((ql,Si)=>{Si.exports=uni.Vuex});var Y=H($());var T=H($()),Yi=H(xt());var Hn=e=>typeof e=="string",Wn="onResize";function qi(e){return weex.requireModule(e)}function z(e,t,...i){uni.__log__?uni.__log__(e,t,...i):console[e].apply(console,[...i,t])}function P(e,t){return Hn(e)?t:e}var Gn=e=>(t,i=(0,T.getCurrentInstance)())=>{!T.isInSSRComponentSetup&&(0,T.injectHook)(e,t,i)},Ji=Gn(Wn),Vn="dev",Xi,Zi,Qi,ea,ta;Xi="https://ztest1.candychat.link",ea="https://mtest2.candychat.link",ta="https://atest3.267girl.com",Zi="https://pic2.candychat.link/",Qi="https://pic3.candychat.link/";var jn={wv:"13.2.0",ENV:Vn,apiHost:Xi,ossPath:Zi,pApiHost:ea,oApiHost:ta,ossPicPath:Qi,zT:3,appId:plus.runtime.appid,appV:parseInt(plus.runtime.version.split(".").join("")),OSS_PATH_V:1,OSS_PIC_PATH_V:1,API_HOST_V:1,isAndroid:plus.os.name=="Android",PHOTO:1,VIDEO:2,VOICE:3,TXT:4,SYSTEM_ID:1e7,M_TEXT:1,M_VOICE:2,M_IMG:3,M_GIFT:5,M_NOTICE:6,M_CALL:8,M_RECOMMEND_USER:11,M_RECOMMEND_CLUB:12,M_VIDEO:18,M_GIFT_ASK:21,M_NOTICE_SYS:22,M_EXPRESSION:23,M_LETTER:24,M_PAID_PHOTO:25,M_PAID_VIDEO:26,M_MATCH_SUCCESS:27,M_N_DEF:100,M_N_AUDIT:103,M_N_VIP:104,M_N_RECHARGE:105,M_N_CLUB_AUDIT_REJECT:106,M_N_CLUB_AUDIT:107,M_N_GREETING_AUDIT:115,M_N_SYS_NOTICE:116,M_N_CALL:117,M_N_COOPERATE:118,M_N_WITHDRAW:119,M_N_REPORT_AUDIT:120,M_N_IMG:121,M_N_PRIVACY_CALL:122,M_N_WITHDRAW_NOTICE:123,M_N_WITH_MEDIA:124,M_N_MONITOR:202,M_C_RECHARGE:1001,M_C_CALL_TEXT_AUDIO:1002,M_CHAT_PRI:1,M_CHAT_CLUB:2,M_CHAT_ASS:3,M_CHAT_NOTICE:4,M_CHAT_NOTIFY:5,M_CHAT_CLUB_NOTICE:6,PAY_TYPE_SUCCESS:0,PAY_TYPE_FAIL:1,PAY_TYPE_CANCEL:2,PAY_TYPE_NOT_EXIST:3,PAY_TYPE_NOT_ALLOW:4,PAY_TYPE_ERROR:5,MATCH_PRICE:10},te=jn;var Be={FIND:0,USER:1,MSG:2,MY:3},Ke={FIND:"/pages/user/index",MSG:"/pages/msg/index",CALL:"/pages/call-history/index",USER:"/pages/user/index",MY:"/pages/my/index"};var $n={en:{title:"English",language:"en",code:"en-US"},es:{title:"espa\xF1ol",language:"es",code:"es-ES"},ar:{title:"\u0639\u0631\u0628\u064A",language:"ar",code:"ar-SA"},vi:{title:"Ti\u1EBFng Vi\u1EC7t",language:"vi",code:"vi-VN"},tr:{title:"T\xFCrk\xE7e",language:"tr",code:"tr-TR"},pt:{title:"Portugu\xEAs",language:"pt",code:"pt-PT"}};var Kn={DISBAND:1,CHECK_RESULT:2};var zn=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",we=e=>zn?Symbol(e):e,Yn=(e,t,i)=>qn({l:e,k:t,s:i}),qn=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),ne=e=>typeof e=="number"&&isFinite(e),Jn=e=>Kt(e)==="[object Date]",dt=e=>Kt(e)==="[object RegExp]",gt=e=>x(e)&&Object.keys(e).length===0;function Xn(e,t){typeof console!="undefined"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}var se=Object.assign;function wi(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}var Zn=Object.prototype.hasOwnProperty;function ia(e,t){return Zn.call(e,t)}var ee=Array.isArray,re=e=>typeof e=="function",w=e=>typeof e=="string",K=e=>typeof e=="boolean",oe=e=>e!==null&&typeof e=="object",aa=Object.prototype.toString,Kt=e=>aa.call(e),x=e=>Kt(e)==="[object Object]",Qn=e=>e==null?"":ee(e)||x(e)&&e.toString===aa?JSON.stringify(e,null,2):String(e);var er=Object.prototype.hasOwnProperty;function tr(e,t){return er.call(e,t)}var ct=e=>e!==null&&typeof e=="object",De=[];De[0]={w:[0],i:[3,0],["["]:[4],o:[7]};De[1]={w:[1],["."]:[2],["["]:[4],o:[7]};De[2]={w:[2],i:[3,0],[0]:[3,0]};De[3]={i:[3,0],[0]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};De[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};De[5]={["'"]:[4,0],o:8,l:[5,0]};De[6]={['"']:[4,0],o:8,l:[6,0]};var ir=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function ar(e){return ir.test(e)}function nr(e){let t=e.charCodeAt(0),i=e.charCodeAt(e.length-1);return t===i&&(t===34||t===39)?e.slice(1,-1):e}function rr(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function or(e){let t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:ar(t)?nr(t):"*"+t}function sr(e){let t=[],i=-1,a=0,n=0,r,o,s,l,c,m,y,C=[];C[0]=()=>{o===void 0?o=s:o+=s},C[1]=()=>{o!==void 0&&(t.push(o),o=void 0)},C[2]=()=>{C[0](),n++},C[3]=()=>{if(n>0)n--,a=4,C[0]();else{if(n=0,o===void 0||(o=or(o),o===!1))return!1;C[1]()}};function v(){let A=e[i+1];if(a===5&&A==="'"||a===6&&A==='"')return i++,s="\\"+A,C[0](),!0}for(;a!==null;)if(i++,r=e[i],!(r==="\\"&&v())){if(l=rr(r),y=De[a],c=y[l]||y.l||8,c===8||(a=c[0],c[1]!==void 0&&(m=C[c[1]],m&&(s=r,m()===!1))))return;if(a===7)return t}}var Di=new Map;function ft(e,t){if(!ct(e))return null;let i=Di.get(t);if(i||(i=sr(t),i&&Di.set(t,i)),!i)return null;let a=i.length,n=e,r=0;for(;r<a;){let o=n[i[r]];if(o===void 0)return null;n=o,r++}return n}function Mt(e){if(!ct(e))return e;for(let t in e)if(tr(e,t))if(!t.includes("."))ct(e[t])&&Mt(e[t]);else{let i=t.split("."),a=i.length-1,n=e;for(let r=0;r<a;r++)i[r]in n||(n[i[r]]={}),n=n[i[r]];n[i[a]]=e[t],delete e[t],ct(n[i[a]])&&Mt(n[i[a]])}return e}var lr=e=>e,cr=e=>"",ur="text",dr=e=>e.length===0?"":e.join(""),fr=Qn;function Ei(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function mr(e){let t=ne(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(ne(e.named.count)||ne(e.named.n))?ne(e.named.count)?e.named.count:ne(e.named.n)?e.named.n:t:t}function pr(e,t){t.count||(t.count=e),t.n||(t.n=e)}function gr(e={}){let t=e.locale,i=mr(e),a=oe(e.pluralRules)&&w(t)&&re(e.pluralRules[t])?e.pluralRules[t]:Ei,n=oe(e.pluralRules)&&w(t)&&re(e.pluralRules[t])?Ei:void 0,r=D=>D[a(i,D.length,n)],o=e.list||[],s=D=>o[D],l=e.named||{};ne(e.pluralIndex)&&pr(i,l);let c=D=>l[D];function m(D){let O=re(e.messages)?e.messages(D):oe(e.messages)?e.messages[D]:!1;return O||(e.parent?e.parent.message(D):cr)}let y=D=>e.modifiers?e.modifiers[D]:lr,C=x(e.processor)&&re(e.processor.normalize)?e.processor.normalize:dr,v=x(e.processor)&&re(e.processor.interpolate)?e.processor.interpolate:fr,A=x(e.processor)&&w(e.processor.type)?e.processor.type:ur,N={list:s,named:c,plural:r,linked:(D,O)=>{let j=m(D)(N);return w(O)?y(O)(j):j},message:m,type:A,interpolate:v,normalize:C};return N}function na(e,t,i={}){let{domain:a,messages:n,args:r}=i,o=e,s=new SyntaxError(String(o));return s.code=e,t&&(s.location=t),s.domain=a,s}var _r="9.1.9",_t=-1,Ti="";function hr(){return{upper:e=>w(e)?e.toUpperCase():e,lower:e=>w(e)?e.toLowerCase():e,capitalize:e=>w(e)?`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`:e}}var yr,vi=0;function br(e={}){let t=w(e.version)?e.version:_r,i=w(e.locale)?e.locale:"en-US",a=ee(e.fallbackLocale)||x(e.fallbackLocale)||w(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:i,n=x(e.messages)?e.messages:{[i]:{}},r=x(e.datetimeFormats)?e.datetimeFormats:{[i]:{}},o=x(e.numberFormats)?e.numberFormats:{[i]:{}},s=se({},e.modifiers||{},hr()),l=e.pluralRules||{},c=re(e.missing)?e.missing:null,m=K(e.missingWarn)||dt(e.missingWarn)?e.missingWarn:!0,y=K(e.fallbackWarn)||dt(e.fallbackWarn)?e.fallbackWarn:!0,C=!!e.fallbackFormat,v=!!e.unresolving,A=re(e.postTranslation)?e.postTranslation:null,N=x(e.processor)?e.processor:null,D=K(e.warnHtmlMessage)?e.warnHtmlMessage:!0,O=!!e.escapeParameter,j=re(e.messageCompiler)?e.messageCompiler:yr,B=re(e.onWarn)?e.onWarn:Xn,b=e,R=oe(b.__datetimeFormatters)?b.__datetimeFormatters:new Map,ce=oe(b.__numberFormatters)?b.__numberFormatters:new Map,ve=oe(b.__meta)?b.__meta:{};return vi++,{version:t,cid:vi,locale:i,fallbackLocale:a,messages:n,datetimeFormats:r,numberFormats:o,modifiers:s,pluralRules:l,missing:c,missingWarn:m,fallbackWarn:y,fallbackFormat:C,unresolving:v,postTranslation:A,processor:N,warnHtmlMessage:D,escapeParameter:O,messageCompiler:j,onWarn:B,__datetimeFormatters:R,__numberFormatters:ce,__meta:ve}}function zt(e,t,i,a,n){let{missing:r,onWarn:o}=e;if(r!==null){let s=r(e,i,t,n);return w(s)?s:t}else return t}function Ze(e,t,i){let a=e;a.__localeChainCache||(a.__localeChainCache=new Map);let n=a.__localeChainCache.get(i);if(!n){n=[];let r=[i];for(;ee(r);)r=ki(n,r,t);let o=ee(t)?t:x(t)?t.default?t.default:null:t;r=w(o)?[o]:o,ee(r)&&ki(n,r,!1),a.__localeChainCache.set(i,n)}return n}function ki(e,t,i){let a=!0;for(let n=0;n<t.length&&K(a);n++){let r=t[n];w(r)&&(a=Ar(e,t[n],i))}return a}function Ar(e,t,i){let a,n=t.split("-");do{let r=n.join("-");a=Cr(e,r,i),n.splice(-1,1)}while(n.length&&a===!0);return a}function Cr(e,t,i){let a=!1;if(!e.includes(t)&&(a=!0,t)){a=t[t.length-1]!=="!";let n=t.replace(/!/g,"");e.push(n),(ee(i)||x(i))&&i[n]&&(a=i[n])}return a}function $e(e,t,i){let a=e;a.__localeChainCache=new Map,Ze(e,i,t)}function Pe(e){return na(e,null,void 0)}var Li=()=>"",Ie=e=>re(e);function Ii(e,...t){let{fallbackFormat:i,postTranslation:a,unresolving:n,fallbackLocale:r,messages:o}=e,[s,l]=Pt(...t),c=K(l.missingWarn)?l.missingWarn:e.missingWarn,m=K(l.fallbackWarn)?l.fallbackWarn:e.fallbackWarn,y=K(l.escapeParameter)?l.escapeParameter:e.escapeParameter,C=!!l.resolvedMessage,v=w(l.default)||K(l.default)?K(l.default)?s:l.default:i?s:"",A=i||v!=="",N=w(l.locale)?l.locale:e.locale;y&&Sr(l);let[D,O,j]=C?[s,N,o[N]||{}]:wr(e,s,N,r,m,c),B=s;if(!C&&!(w(D)||Ie(D))&&A&&(D=v,B=D),!C&&(!(w(D)||Ie(D))||!w(O)))return n?_t:s;let b=!1,R=()=>{b=!0},ce=Ie(D)?D:ra(e,s,O,D,B,R);if(b)return D;let ve=Tr(e,O,j,l),le=gr(ve),ue=Dr(e,ce,le);return a?a(ue):ue}function Sr(e){ee(e.list)?e.list=e.list.map(t=>w(t)?wi(t):t):oe(e.named)&&Object.keys(e.named).forEach(t=>{w(e.named[t])&&(e.named[t]=wi(e.named[t]))})}function wr(e,t,i,a,n,r){let{messages:o,onWarn:s}=e,l=Ze(e,a,i),c={},m,y=null,C="translate";for(let v=0;v<l.length&&(m=l[v],c=o[m]||{},(y=ft(c,t))===null&&(y=c[t]),!(w(y)||re(y)));v++){let A=zt(e,t,m,r,C);A!==t&&(y=A)}return[y,m,c]}function ra(e,t,i,a,n,r){let{messageCompiler:o,warnHtmlMessage:s}=e;if(Ie(a)){let c=a;return c.locale=c.locale||i,c.key=c.key||t,c}let l=o(a,Er(e,i,n,a,s,r));return l.locale=i,l.key=t,l.source=a,l}function Dr(e,t,i){return t(i)}function Pt(...e){let[t,i,a]=e,n={};if(!w(t)&&!ne(t)&&!Ie(t))throw Pe(14);let r=ne(t)?String(t):(Ie(t),t);return ne(i)?n.plural=i:w(i)?n.default=i:x(i)&&!gt(i)?n.named=i:ee(i)&&(n.list=i),ne(a)?n.plural=a:w(a)?n.default=a:x(a)&&se(n,a),[r,n]}function Er(e,t,i,a,n,r){return{warnHtmlMessage:n,onError:o=>{throw r&&r(o),o},onCacheKey:o=>Yn(t,i,o)}}function Tr(e,t,i,a){let{modifiers:n,pluralRules:r}=e,s={locale:t,modifiers:n,pluralRules:r,messages:l=>{let c=ft(i,l);if(w(c)){let m=!1,C=ra(e,l,t,c,l,()=>{m=!0});return m?Li:C}else return Ie(c)?c:Li}};return e.processor&&(s.processor=e.processor),a.list&&(s.list=a.list),a.named&&(s.named=a.named),ne(a.plural)&&(s.pluralIndex=a.plural),s}function xi(e,...t){let{datetimeFormats:i,unresolving:a,fallbackLocale:n,onWarn:r}=e,{__datetimeFormatters:o}=e,[s,l,c,m]=Ft(...t),y=K(c.missingWarn)?c.missingWarn:e.missingWarn;K(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;let C=!!c.part,v=w(c.locale)?c.locale:e.locale,A=Ze(e,n,v);if(!w(s)||s==="")return new Intl.DateTimeFormat(v).format(l);let N={},D,O=null,j="datetime format";for(let R=0;R<A.length&&(D=A[R],N=i[D]||{},O=N[s],!x(O));R++)zt(e,s,D,y,j);if(!x(O)||!w(D))return a?_t:s;let B=`${D}__${s}`;gt(m)||(B=`${B}__${JSON.stringify(m)}`);let b=o.get(B);return b||(b=new Intl.DateTimeFormat(D,se({},O,m)),o.set(B,b)),C?b.formatToParts(l):b.format(l)}function Ft(...e){let[t,i,a,n]=e,r={},o={},s;if(w(t)){if(!/\d{4}-\d{2}-\d{2}(T.*)?/.test(t))throw Pe(16);s=new Date(t);try{s.toISOString()}catch(l){throw Pe(16)}}else if(Jn(t)){if(isNaN(t.getTime()))throw Pe(15);s=t}else if(ne(t))s=t;else throw Pe(14);return w(i)?r.key=i:x(i)&&(r=i),w(a)?r.locale=a:x(a)&&(o=a),x(n)&&(o=n),[r.key||"",s,r,o]}function Ni(e,t,i){let a=e;for(let n in i){let r=`${t}__${n}`;a.__datetimeFormatters.has(r)&&a.__datetimeFormatters.delete(r)}}function Oi(e,...t){let{numberFormats:i,unresolving:a,fallbackLocale:n,onWarn:r}=e,{__numberFormatters:o}=e,[s,l,c,m]=Bt(...t),y=K(c.missingWarn)?c.missingWarn:e.missingWarn;K(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;let C=!!c.part,v=w(c.locale)?c.locale:e.locale,A=Ze(e,n,v);if(!w(s)||s==="")return new Intl.NumberFormat(v).format(l);let N={},D,O=null,j="number format";for(let R=0;R<A.length&&(D=A[R],N=i[D]||{},O=N[s],!x(O));R++)zt(e,s,D,y,j);if(!x(O)||!w(D))return a?_t:s;let B=`${D}__${s}`;gt(m)||(B=`${B}__${JSON.stringify(m)}`);let b=o.get(B);return b||(b=new Intl.NumberFormat(D,se({},O,m)),o.set(B,b)),C?b.formatToParts(l):b.format(l)}function Bt(...e){let[t,i,a,n]=e,r={},o={};if(!ne(t))throw Pe(14);let s=t;return w(i)?r.key=i:x(i)&&(r=i),w(a)?r.locale=a:x(a)&&(o=a),x(n)&&(o=n),[r.key||"",s,r,o]}function Ri(e,t,i){let a=e;for(let n in i){let r=`${t}__${n}`;a.__numberFormatters.has(r)&&a.__numberFormatters.delete(r)}}var vr="9.1.9";function Le(e,...t){return na(e,null,void 0)}var Ut=we("__transrateVNode"),Ht=we("__datetimeParts"),Wt=we("__numberParts");we("__enableEmitter");we("__disableEmitter");var kr=we("__setPluralRules");we("__intlifyMeta");var oa=we("__injectWithOption"),Mi=0;function Pi(e){return(t,i,a,n)=>e(i,a,(0,T.getCurrentInstance)()||void 0,n)}function sa(e,t){let{messages:i,__i18n:a}=t,n=x(i)?i:ee(a)?{}:{[e]:{}};if(ee(a)&&a.forEach(({locale:r,resource:o})=>{r?(n[r]=n[r]||{},mt(o,n[r])):mt(o,n)}),t.flatJson)for(let r in n)ia(n,r)&&Mt(n[r]);return n}var nt=e=>!oe(e)||ee(e);function mt(e,t){if(nt(e)||nt(t))throw Le(20);for(let i in e)ia(e,i)&&(nt(e[i])||nt(t[i])?t[i]=e[i]:mt(e[i],t[i]))}function Lr(e={}){let{__root:t}=e,i=t===void 0,a=K(e.inheritLocale)?e.inheritLocale:!0,n=(0,T.ref)(t&&a?t.locale.value:w(e.locale)?e.locale:"en-US"),r=(0,T.ref)(t&&a?t.fallbackLocale.value:w(e.fallbackLocale)||ee(e.fallbackLocale)||x(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:n.value),o=(0,T.ref)(sa(n.value,e)),s=(0,T.ref)(x(e.datetimeFormats)?e.datetimeFormats:{[n.value]:{}}),l=(0,T.ref)(x(e.numberFormats)?e.numberFormats:{[n.value]:{}}),c=t?t.missingWarn:K(e.missingWarn)||dt(e.missingWarn)?e.missingWarn:!0,m=t?t.fallbackWarn:K(e.fallbackWarn)||dt(e.fallbackWarn)?e.fallbackWarn:!0,y=t?t.fallbackRoot:K(e.fallbackRoot)?e.fallbackRoot:!0,C=!!e.fallbackFormat,v=re(e.missing)?e.missing:null,A=re(e.missing)?Pi(e.missing):null,N=re(e.postTranslation)?e.postTranslation:null,D=K(e.warnHtmlMessage)?e.warnHtmlMessage:!0,O=!!e.escapeParameter,j=t?t.modifiers:x(e.modifiers)?e.modifiers:{},B=e.pluralRules||t&&t.pluralRules,b;function R(){return br({version:vr,locale:n.value,fallbackLocale:r.value,messages:o.value,messageCompiler:function(h){return de=>de.normalize([h])},datetimeFormats:s.value,numberFormats:l.value,modifiers:j,pluralRules:B,missing:A===null?void 0:A,missingWarn:c,fallbackWarn:m,fallbackFormat:C,unresolving:!0,postTranslation:N===null?void 0:N,warnHtmlMessage:D,escapeParameter:O,__datetimeFormatters:x(b)?b.__datetimeFormatters:void 0,__numberFormatters:x(b)?b.__numberFormatters:void 0,__v_emitter:x(b)?b.__v_emitter:void 0,__meta:{framework:"vue"}})}b=R(),$e(b,n.value,r.value);function ce(){return[n.value,r.value,o.value,s.value,l.value]}let ve=(0,T.computed)({get:()=>n.value,set:f=>{n.value=f,b.locale=n.value}}),le=(0,T.computed)({get:()=>r.value,set:f=>{r.value=f,b.fallbackLocale=r.value,$e(b,n.value,f)}}),ue=(0,T.computed)(()=>o.value),_e=(0,T.computed)(()=>s.value),et=(0,T.computed)(()=>l.value);function tt(){return re(N)?N:null}function it(f){N=f,b.postTranslation=f}function vt(){return v}function un(f){f!==null&&(A=Pi(f)),v=f,b.missing=A}function Oe(f,h,de,ae,kt,at){ce();let je;if(je=f(b),ne(je)&&je===_t){let[xn,Kl]=h();return t&&y?ae(t):kt(xn)}else{if(at(je))return je;throw Le(14)}}function mi(...f){return Oe(h=>Ii(h,...f),()=>Pt(...f),"translate",h=>h.t(...f),h=>h,h=>w(h))}function dn(...f){let[h,de,ae]=f;if(ae&&!oe(ae))throw Le(15);return mi(h,de,se({resolvedMessage:!0},ae||{}))}function fn(...f){return Oe(h=>xi(h,...f),()=>Ft(...f),"datetime format",h=>h.d(...f),()=>Ti,h=>w(h))}function mn(...f){return Oe(h=>Oi(h,...f),()=>Bt(...f),"number format",h=>h.n(...f),()=>Ti,h=>w(h))}function pn(f){return f.map(h=>w(h)?(0,T.createVNode)(T.Text,null,h,0):h)}let gn={normalize:pn,interpolate:f=>f,type:"vnode"};function _n(...f){return Oe(h=>{let de,ae=h;try{ae.processor=gn,de=Ii(ae,...f)}finally{ae.processor=null}return de},()=>Pt(...f),"translate",h=>h[Ut](...f),h=>[(0,T.createVNode)(T.Text,null,h,0)],h=>ee(h))}function hn(...f){return Oe(h=>Oi(h,...f),()=>Bt(...f),"number format",h=>h[Wt](...f),()=>[],h=>w(h)||ee(h))}function yn(...f){return Oe(h=>xi(h,...f),()=>Ft(...f),"datetime format",h=>h[Ht](...f),()=>[],h=>w(h)||ee(h))}function bn(f){B=f,b.pluralRules=B}function An(f,h){let de=w(h)?h:n.value,ae=pi(de);return ft(ae,f)!==null}function Cn(f){let h=null,de=Ze(b,r.value,n.value);for(let ae=0;ae<de.length;ae++){let kt=o.value[de[ae]]||{},at=ft(kt,f);if(at!=null){h=at;break}}return h}function Sn(f){let h=Cn(f);return h!=null?h:t?t.tm(f)||{}:{}}function pi(f){return o.value[f]||{}}function wn(f,h){o.value[f]=h,b.messages=o.value}function Dn(f,h){o.value[f]=o.value[f]||{},mt(h,o.value[f]),b.messages=o.value}function En(f){return s.value[f]||{}}function Tn(f,h){s.value[f]=h,b.datetimeFormats=s.value,Ni(b,f,h)}function vn(f,h){s.value[f]=se(s.value[f]||{},h),b.datetimeFormats=s.value,Ni(b,f,h)}function kn(f){return l.value[f]||{}}function Ln(f,h){l.value[f]=h,b.numberFormats=l.value,Ri(b,f,h)}function In(f,h){l.value[f]=se(l.value[f]||{},h),b.numberFormats=l.value,Ri(b,f,h)}return Mi++,t&&((0,T.watch)(t.locale,f=>{a&&(n.value=f,b.locale=f,$e(b,n.value,r.value))}),(0,T.watch)(t.fallbackLocale,f=>{a&&(r.value=f,b.fallbackLocale=f,$e(b,n.value,r.value))})),{id:Mi,locale:ve,fallbackLocale:le,get inheritLocale(){return a},set inheritLocale(f){a=f,f&&t&&(n.value=t.locale.value,r.value=t.fallbackLocale.value,$e(b,n.value,r.value))},get availableLocales(){return Object.keys(o.value).sort()},messages:ue,datetimeFormats:_e,numberFormats:et,get modifiers(){return j},get pluralRules(){return B||{}},get isGlobal(){return i},get missingWarn(){return c},set missingWarn(f){c=f,b.missingWarn=c},get fallbackWarn(){return m},set fallbackWarn(f){m=f,b.fallbackWarn=m},get fallbackRoot(){return y},set fallbackRoot(f){y=f},get fallbackFormat(){return C},set fallbackFormat(f){C=f,b.fallbackFormat=C},get warnHtmlMessage(){return D},set warnHtmlMessage(f){D=f,b.warnHtmlMessage=f},get escapeParameter(){return O},set escapeParameter(f){O=f,b.escapeParameter=f},t:mi,rt:dn,d:fn,n:mn,te:An,tm:Sn,getLocaleMessage:pi,setLocaleMessage:wn,mergeLocaleMessage:Dn,getDateTimeFormat:En,setDateTimeFormat:Tn,mergeDateTimeFormat:vn,getNumberFormat:kn,setNumberFormat:Ln,mergeNumberFormat:In,getPostTranslationHandler:tt,setPostTranslationHandler:it,getMissingHandler:vt,setMissingHandler:un,[Ut]:_n,[Wt]:hn,[Ht]:yn,[kr]:bn,[oa]:e.__injectWithOption}}var Yt={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};se({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>ne(e)||!isNaN(e)}},Yt);function Ir({slots:e},t){return t.length===1&&t[0]==="default"?e.default?e.default():[]:t.reduce((i,a)=>{let n=e[a];return n&&(i[a]=n()),i},{})}function la(e,t,i,a){let{slots:n,attrs:r}=t;return()=>{let o={part:!0},s={};e.locale&&(o.locale=e.locale),w(e.format)?o.key=e.format:oe(e.format)&&(w(e.format.key)&&(o.key=e.format.key),s=Object.keys(e.format).reduce((y,C)=>i.includes(C)?se({},y,{[C]:e.format[C]}):y,{}));let l=a(e.value,o,s),c=[o.key];ee(l)?c=l.map((y,C)=>{let v=n[y.type];return v?v({[y.type]:y.value,index:C,parts:l}):[y.value]}):w(l)&&(c=[l]);let m=se({},r);return w(e.tag)?(0,T.h)(e.tag,m,c):oe(e.tag)?(0,T.h)(e.tag,m,c):(0,T.h)(T.Fragment,m,c)}}var xr=["localeMatcher","style","unit","unitDisplay","currency","currencyDisplay","useGrouping","numberingSystem","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","notation","formatMatcher"];se({value:{type:Number,required:!0},format:{type:[String,Object]}},Yt);var Nr=["dateStyle","timeStyle","fractionalSecondDigits","calendar","dayPeriod","numberingSystem","localeMatcher","timeZone","hour12","hourCycle","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"];se({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Yt);function qt(e={}){let t=(0,T.getCurrentInstance)();if(t==null)throw Le(16);if(!t.appContext.app.__VUE_I18N_SYMBOL__)throw Le(17);let i=(0,T.inject)(t.appContext.app.__VUE_I18N_SYMBOL__);if(!i)throw Le(22);let a=i.mode==="composition"?i.global:i.global.__composer,n=gt(e)?"__i18n"in t.type?"local":"global":e.useScope?e.useScope:"local";if(n==="global"){let s=oe(e.messages)?e.messages:{};"__i18nGlobal"in t.type&&(s=sa(a.locale.value,{messages:s,__i18n:t.type.__i18nGlobal}));let l=Object.keys(s);if(l.length&&l.forEach(c=>{a.mergeLocaleMessage(c,s[c])}),oe(e.datetimeFormats)){let c=Object.keys(e.datetimeFormats);c.length&&c.forEach(m=>{a.mergeDateTimeFormat(m,e.datetimeFormats[m])})}if(oe(e.numberFormats)){let c=Object.keys(e.numberFormats);c.length&&c.forEach(m=>{a.mergeNumberFormat(m,e.numberFormats[m])})}return a}if(n==="parent"){let s=Or(i,t,e.__useComponent);return s==null&&(s=a),s}if(i.mode==="legacy")throw Le(18);let r=i,o=r.__getInstance(t);if(o==null){let s=t.type,l=se({},e);s.__i18n&&(l.__i18n=s.__i18n),a&&(l.__root=a),o=Lr(l),Rr(r,t),r.__setInstance(t,o)}return o}function Or(e,t,i=!1){let a=null,n=t.root,r=t.parent;for(;r!=null;){let o=e;if(e.mode==="composition")a=o.__getInstance(r);else{let s=o.__getInstance(r);s!=null&&(a=s.__composer),i&&a&&!a[oa]&&(a=null)}if(a!=null||n===r)break;r=r.parent}return a}function Rr(e,t,i){(0,T.onMounted)(()=>{},t),(0,T.onUnmounted)(()=>{e.__deleteInstance(t)},t)}function xe(e,t,i=!1,a=null){let n=Jt(e,i);a?uni.setStorage({key:n,data:t,success:a}):uni.setStorageSync(n,t)}function G(e,t=!1,i=null){let a=Jt(e,t);if(i)uni.getStorage({key:a,success:i});else return uni.getStorageSync(a)}function ht(e,t=!1){uni.removeStorage({key:Jt(e,t)})}function Jt(e,t){return t?`_a_${e}`:`m_${e}`}function Mr(e,t){let i=t;return typeof t=="undefined"&&(i=getApp().globalData.uid),G(e+"_"+i)}var qe={NONE:0,WAITING:1,GAME:2,WEEK_UP:3,JUDGE_ROOM:100};var ca={VIDEO:1,VOICE:2},Xt={CALL:1,ANSWER:2,MATCH_ACCEPT:3,MATCH_CONNECT:4},ua={CALL:1,MATCH:2},da={DEF:0,NOTIFY:1,CONNECT:2},fa={HOME:0,MSG:1,MATCH:2,RECOMMEND:3,MATCH_NOTIFY:4,QUALITY:5,NO_COINS_DIALOG:6,CALL_LOG:7,GAME_MATCH:8,GAME_MATCH_NOTIFY:9,RANKING_LIST:10,PRIVACY_SET_MSG:11,MOMENT:12,CALlING:98,FREE_MIN_POP:99,ANSWER_ERROR:100,END_PAGE:101,APP_NOTIFY:102};function ma(e){return e==1?S("himLower"):S("herLower")}function Pr(e){return e>1?S("time.hoursAgo",{number:e}):S("time.hourAgo",{number:e})}function Fi(e){return e>1?S("time.daysAgo",{number:e}):S("time.dayAgo",{number:e})}function Bi(e){return e>1?S("time.minutesAgo",{number:e}):S("time.minuteAgo",{number:e})}function g(e){return typeof e=="undefined"||e==null||e==""}function Fr(e){return e===""||e===null}var rt=new Promise(()=>{});function Br(e,t,i=""){if(g(e))return"";let a=[];for(let n in e)a.push(n+"="+e[n]);return i+a.join(t)}function ot(e){return typeof e=="number"?e+"":typeof e=="boolean"?e?"true":"false":g(e)?"null":typeof e=="object"?JSON.stringify(e):e}function st(e){return e.replace(new RegExp("'","gm"),"\uFF07")}function yt(e,t=18){if(g(e))return"";let i=new Date(Date.parse(e.replace(/-/g,"/"))),a=Math.ceil((new Date().getTime()-i)/31536e6),n=a>1?a-1:a;return n<t?t:n}function ke(e){return e<10?"0"+e:e}function pa(e,t=!1,i=!1,a=!0){e<1e10&&(e=e*1e3);var n=new Date(e),r=n.getFullYear(),o=n.getMonth()+1,s=n.getDate(),l=n.getHours(),c=n.getMinutes(),m=n.getSeconds();let y=t?`${r}-`:"";if(i)return y+ke(o)+"-"+ke(s);{let C=a?":"+ke(m):"";return y+ke(o)+"-"+ke(s)+" "+ke(l)+":"+ke(c)+C}}function Zt(e){try{let t=JSON.parse(e);if(typeof t=="object")return t}catch(t){}return!1}function ga(e,t=3,i=0){let a=60,n=a*60,r=n*24,l=Date.parse(new Date).toString().substr(0,10)-e;if(l<0)return Bi(1);let c=l/r,m=l/n,y=l/a;if(c>t)return Fi(t);if(c>=1&&c<t)return Fi(parseInt(c));if(m>=1&&m<24)return Pr(parseInt(m));if(y>=0&&y<60){if(i!=0&&y<=i)return S("online");let C=parseInt(y);return Bi(C==0?1:C)}}function Qt(e,t=!1){let i=60,a=i*60,n=a*24,s=Date.parse(new Date).toString().substr(0,10)-e;if(s<0)return`1${t?"m":"M"}`;let l=s/n;if(l>=1)return`${parseInt(l)}${t?"d":"D"}`;let c=s/a;if(c>=24)return`1${t?"d":"D"}`;if(c>=1&&c<24)return`${parseInt(c)}${t?"h":"H"}`;let m=s/i;if(m>=60)return`1${t?"h":"H"}`;if(m>=0&&m<60){let y=parseInt(m);return`${y==0?1:y}${t?"m":"M"}`}return`1${t?"m":"M"}`}function Ur(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var ze={adminAgencyList:"/pagesAdmin/agency/list",adminAgencyDetail:"/pagesAdmin/agency/agency-detail",adminAgencyEdit:"/pagesAdmin/agency/agency-edit",adminAgencyEditPrice:"/pagesAdmin/agency/agency-edit-price",adminAgencyEditWithdrawInfo:"/pagesAdmin/agency/withdraw-info",adminAgencyEditName:"/pagesAdmin/agency/agency-edit-nickname",adminAgencyEditCountry:"/pagesAdmin/agency/agency-edit-country",adminAgencyEditEmail:"/pagesAdmin/agency/agency-edit-email",adminAgencyEditWhatsApp:"/pagesAdmin/agency/agency-edit-whatsapp",adminAgencyInvited:"/pagesAdmin/agency/invited",adminAgencyListSub:"/pagesAdmin/agency/list-sub",adminAgencyGirlsList:"/pagesAdmin/agency/girls-list",adminAgencyGirlsListSub:"/pagesAdmin/agency/girls-list-sub",adminAgencyDataPanel:"/pagesAdmin/agency/data-panel",adminAgencyDataHistory:"/pagesAdmin/agency/data-history",adminAgencyDataDetail:"/pagesAdmin/agency/data-detail",adminAgencyDataDetailTask:"/pagesAdmin/agency/data-detail-task",adminAgencyWithdrawRecords:"/pagesAdmin/agency/withdraw-records",adminAgencyWalletDetail:"/pagesAdmin/agency/wallet-detail",adminAgencyHandleBan:"/pagesAdmin/agency/handle-ban",adminAgencyHandleDelete:"/pagesAdmin/agency/handle-delete",adminAgencySelected:"/pagesAdmin/agency/selected-agency",adminAgencyStatus:"/pagesAdmin/agency/agency-status",adminAgencySubAgencyList:"/pagesAdmin/agency/sub-agency-list",adminAgencyWithdrawGirlList:"/pagesAdmin/agency/withdraw/girl-list",adminAgencyWithdrawSubAgentList:"/pagesAdmin/agency/withdraw/sub-agent-list",adminAgencyWithdrawSettlementDetail:"/pagesAdmin/agency/withdraw/settlement-detail",adminAgencyWithdrawEntiretyDetail:"/pagesAdmin/agency/withdraw/entirety-detail",adminAgencyWithdrawEntiretyDetailReject:"/pagesAdmin/agency/withdraw/entirety-detail-reject",adminAgencyHistoricalMemberList:"/pagesAdmin/agency/historical-list",adminAgencyWithdrawSubAgentDetail:"/pagesAdmin/agency/withdraw/sub-agent-detail",adminAuditSettlement:"/pagesAdmin/auditNew/settlement",adminAuditSettlementSub:"/pagesAdmin/auditNew/settlement-sub",adminAuditWithdraw:"/pagesAdmin/auditNew/withdraw",adminAuditWithdrawCashList:"/pagesAdmin/audit/withdraw-cash-list",adminWallet:"/pagesAdmin/wallet/wallet",adminWalletCoinStat:"/pagesAdmin/wallet/coin-stat",adminAgencyAnchorDetail:"/pagesAdmin/agencyManager/anchor-detail",adminChannelBackend:"/pagesAdmin/channel/channel-backend",adminAuditAgencyAvatar:"/pagesAdmin/auditNew/agency-avatar",adminAuditAgencyName:"/pagesAdmin/auditNew/agency-name",adminAuditCheckAllUnderReview:"/pagesAdmin/audit/check-all-under-review",adminPermissionWebManage:"/pagesAdmin/more/permission-web-manage",adminPermissionList:"/pagesAdmin/more/permission-list",adminPermissionEdit:"/pagesAdmin/more/permission-edit",adminPermissionNewAccount:"/pagesAdmin/more/permission-new-account",adminPermissionChooseRole:"/pagesAdmin/more/permission-choose-role",adminPermissionNewRole:"/pagesAdmin/more/permission-new-role",adminWhiteList:"/pagesAdmin/more/white-list",adminCallEvaluationList:"/pagesAdmin/user/call-evaluation-list",adminWarnDeviceUser:"/pagesAdmin/user/ban-device-user",adminWarnList:"/pagesAdmin/audit/warn-list",adminVersionUseList:"/pagesAdmin/more/version-use-list",adminAuditSettlementReview:"/pagesAdmin/auditNew/settlement-review",adminAuditWithdrawReview:"/pagesAdmin/auditNew/withdraw-review",adminClubApplication:"/pagesAdmin/auditNew/club-application",adminClubModification:"/pagesAdmin/auditNew/club-modification",adminClubManagement:"/pagesAdmin/club/management",warningDialog:"/pagesDialog/warning",homeFilterSexGuide:"/pagesDialog/home-filter-sex-guide",club:"/pagesClub/club",clubReachLevel:"/pagesDialog/club-reach-level",clubStatusRemind:"/pagesDialog/club-status-remind",clubApplyCreate:"/pagesClub/apply-create",clubCreateSuccess:"/pagesClub/create-success",clubRules:"/pagesDialog/club-rules",clubApplicationList:"/pagesClub/application-list",clubWarning:"/pagesDialog/club-warning",clubDisband:"/pagesDialog/club-disband",adminClubManagementSub:"/pagesAdmin/club/management-sub",adminClubTodayNew:"/pagesAdmin/club/club-today-new",adminClubNormal:"/pagesAdmin/club/club-normal",adminClubManageGirls:"/pagesAdmin/club/club-manage-girls",adminClubOperator:"/pagesAdmin/club/club-operator",adminClubDisbanded:"/pagesAdmin/club/club-disbanded",adminClubMemberList:"/pagesAdmin/club/member-new",adminClubInfo:"/pagesAdmin/club/detail-new",adminCLubWarning:"/pagesAdmin/club/warning",adminClubOperatorLog:"/pagesAdmin/club/operation-log",adminClubPersonalApplication:"/pagesAdmin/auditNew/club-application-personal",adminOutsourcingIndex:"/pagesAdmin/more/outsourcing/index",adminOutsourcingPermissionList:"/pagesAdmin/more/outsourcing/permission-list",adminOutsourcingNewRole:"/pagesAdmin/more/outsourcing/new-role",adminOutsourcingEditRole:"/pagesAdmin/more/outsourcing/edit-role",adminRefundDetail:"/pagesAdmin/refund/detail"};function _a(e,t){let i=ze[e];return i||(i=e),i+Br(t,"&","?")}function ge(e,t=null,i=null,a=!1){let n=_a(e,t),r={url:n,fail:o=>{z("error","at common/route.js:107",`\u6253\u5F00\u9875\u9762\u5931\u8D25${n} ${JSON.stringify(o)}`),getApp().globalData.appCRE&&n.startsWith("/pagesAdmin")&&te.zT!=3&&M.request("/sign/reload-route",{},!0)}};a&&(r=Object.assign(r,a)),i!=null&&(r.events=i),uni.navigateTo(r)}function W(e,t,i,a,n=null){let o={url:_a(e,t),success(s){s.eventChannel.emit(i,a)}};n!=null&&(o.events=n),uni.navigateTo(o)}function Hr(e=1,t="",i=""){let a={delta:e};t&&(a.animationType=t),i&&(a.animationDuration=i),uni.navigateBack(a)}function Wr(e){g(e)||uni.switchTab({url:e})}function bt(){let e=[],t=getCurrentPages();for(let i=0,a=t.length;i<a;i++){let n=t[i].$page;e.push(n.path)}return e}function At(e="path"){let t=getCurrentPages(),i=t[t.length-1];if(!i)return"";let a=i.$page;return a?a[e]:""}function Ct(e,t){e==getApp().globalData.uid?t&&Wr(Ke.MY):ge("/pages/main/user-home",{uid:e})}function ei(e,t=null,i=null){let n={uid:typeof e=="object"?e.uid:e};i&&(n=Object.assign(n,i)),W("/pagesMsg/pri/chat",n,"priData",{user:e,extra:t})}function ha(e,t=!0){return e.startsWith("http")?e:e.startsWith("file://")?t?e:e.replace("file://",""):e.startsWith("/storage/")||e.startsWith("/var/mobile/")?t?`file://${e}`:e:e.startsWith("_doc/uniapp")?t?e:plus.io.convertLocalFileSystemURL(e):e.indexOf("apps/__UNI")!=-1?e:!1}var Gr=[{key:"tr",title:"T\xFCrk"},{key:"pt",title:"Portugu\xEAs"}];function Je(e=!0){let t=G("language_app_key");if(!e||!Fr(t))return t;let i=ti(!1),a=$n[i];return g(a)?"en":i}function ti(e){let t=uni.getAppBaseInfo().language;return g(t)?e?"en-US":"en":e?t:t.split("-")[0]}function Vr(){return G("call_automatic_source_language")||Je()}function jr(){return!!G("call_automatic_open")}function S(...e){return getApp().globalData.s.state.pubI18n(...e)}function ya(e){function t(o,s,l){for(;0<l--;)o.push(s)}function i(o,s){return o<<s|o>>>32-s}function a(o,s,l){return o^s^l}function n(o,s){var l=(s&65535)+(o&65535),c=(s>>>16)+(o>>>16)+(l>>>16);return(c&65535)<<16|l&65535}var r="0123456789abcdef";return function(o){for(var s=[],l=o.length*4,c,m=0;m<l;m++)c=o[m>>2]>>(3-m%4)*8,s.push(r.charAt(c>>4&15)+r.charAt(c&15));return s.join("")}(function(o,s){var l,c,m,y,C,v=o.length,A=1732584193,N=4023233417,D=2562383102,O=271733878,j=3285377520,B=[];t(B,1518500249,20),t(B,1859775393,20),t(B,2400959708,20),t(B,3395469782,20),o[s>>5]|=128<<24-s%32,o[(s+65>>9<<4)+15]=s;for(var b=0;b<v;b+=16){l=A,c=N,m=D,y=O,C=j;for(var R=0,ce=[];R<80;R++){ce[R]=R<16?o[R+b]:i(ce[R-3]^ce[R-8]^ce[R-14]^ce[R-16],1);var ve=function(le,ue,_e,et,tt){var it=(tt&65535)+(le&65535)+(ue&65535)+(_e&65535)+(et&65535),vt=(tt>>>16)+(le>>>16)+(ue>>>16)+(_e>>>16)+(et>>>16)+(it>>>16);return(vt&65535)<<16|it&65535}(R<20?function(le,ue,_e){return le&ue^~le&_e}(c,m,y):R<40?a(c,m,y):R<60?function(le,ue,_e){return le&ue^le&_e^ue&_e}(c,m,y):a(c,m,y),C,B[R],ce[R],i(l,5));C=y,y=m,m=i(c,30),c=l,l=ve}A=n(A,l),N=n(N,c),D=n(D,m),O=n(O,y),j=n(j,C)}return[A,N,D,O,j]}(function(o){for(var s=[],l=255,c=o.length*8,m=0;m<c;m+=8)s[m>>5]|=(o.charCodeAt(m/8)&l)<<24-m%32;return s}(e).slice(),e.length*8))}function ba(e,t,i=!0){return Ca(getApp().globalData.ossPicPath,e,t,i)}function he(e,t,i=!0){return Ca(getApp().globalData.ossPath,e,t,i)}function Aa(e){if(g(e)||e.startsWith("http"))return;let i=`img_${ya(e)}`,a=G(i);ht(i),a&&uni.removeSavedFile({filePath:a})}function Ca(e,t,i,a=!0){if(g(t))return"";if(t.startsWith("http")||t.startsWith("file://"))return t;if(t.startsWith("/var/mobile/"))return"file://"+t;if(t.startsWith("/storage/"))return t;let r=`img_${ya(t)}`,o=G(r);if(o){let l={filePath:o,fail(c){$r(`\u7F13\u5B58\u68C0\u6D4B\u5931\u8D25${t}`,c),ht(r),typeof i=="function"&&i(e+t)},success(c){}};return typeof i=="function"&&(l.success=function(){i(o)}),uni.getFileInfo(l),o}let s=e+t;return getApp().globalData.picCacheObj[r]||(getApp().globalData.picCacheObj[r]=1,typeof i=="function"&&!a&&i(s),io(s).then(l=>{xe(r,l),typeof i=="function"&&a&&i(l),delete getApp().globalData.picCacheObj[r]}).catch(()=>{})),s}function $r(e,t){z("error","at common/cache.js:118",`cache ${e}`,t)}var Kr={CANDY_CHAT_I:"__UNI__CB903B1",CANDY_CHAT_A:"__UNI__564E31A",CHAT_NOW_A:"__UNI__DB0D401",CHAT_NOW_DEV:"__UNI__DEED62E",HOT_FACE_A:"__UNI__0D44E11",HOT_FACE_DEV:"__UNI__58DBD61",LOVE_SKY:"__UNI__0EE5E5E",DEV:"__UNI__3932C1F",DEV2:"__UNI__9C66D76"};function zr(){return getApp().globalData.pluginTool.vpnConnected()}function Yr(e){return getApp().globalData.pluginTool.permissionStatusSync({permission:e})}function qr(){return getApp().globalData.pluginTool.permissionCheckAll()}function Jr(){return getApp().globalData.pluginTool.locationAuthorizationStatusSync()}var U={ALBUM:1,CAMERA:2,VIDEO:3,MICROPHONE:4,NOTIFY:5,LOCATION:6,DRAW_OVERLAYS:7,ALBUM_AND_CAMERA:101};function Xr(e,t,i){if(getApp().globalData.uid!=0)return new Promise(a=>{let n;if(i==null?n=Sa():n=i,n==null){a();return}let r={fromType:e,showClose:t,resList:n[0]};W("/pagesDialog/check-permission",null,"permissionData",r,{onCloseListener:()=>{a()}})})}function Sa(){let e=[],t=!0;if(te.isAndroid){let r=qr();e.push({key:"notice",value:r.notice,permission:U.NOTIFY}),e.push({key:"camera",value:r.camera,permission:U.CAMERA}),e.push({key:"voice",value:r.voice,permission:U.MICROPHONE}),e.push({key:"album",value:r.storage,permission:U.ALBUM})}else e.push({key:"notice",value:Ea(),permission:U.NOTIFY}),e.push({key:"camera",value:Qr(),permission:U.CAMERA}),e.push({key:"voice",value:Da(),permission:U.MICROPHONE}),e.push({key:"album",value:eo(),permission:U.ALBUM});for(let r=0,o=e.length;r<o;r++)if(!e[r].value){t=!1;break}let i={};for(let r=0,o=e.length;r<o;r++){let s=e[r];i[s.key]=s.value?1:0}i.auto_translate=getApp().globalData.translateAuto?1:0;let a=jr()?1:0,n=Vr();return i.audio_translate=a,i.audio_language=n,M.request("/user/sync-permission",i),[e,t]}function wa(e){if(e==U.NOTIFY)return te.isAndroid?Nt(e):Ea();if(e==U.MICROPHONE)return te.isAndroid?Nt(e):Da();if(e==U.ALBUM_AND_CAMERA){let i=Sa()[0];return i?i[1].value&&i[3].value:!0}else if(e==U.LOCATION)return te.isAndroid?Nt(e):Jr();return!0}function Nt(e){let t=Zr(e);return Yr(t)}function Zr(e){switch(e){case U.LOCATION:return["android.permission.ACCESS_FINE_LOCATION","android.permission.ACCESS_COARSE_LOCATION"];case U.ALBUM:case U.VIDEO:return["android.permission.READ_MEDIA_IMAGES","android.permission.READ_MEDIA_VIDEO"];case U.MICROPHONE:return["android.permission.RECORD_AUDIO"];case U.CAMERA:return["android.permission.CAMERA"];case U.NOTIFY:return["android.permission.POST_NOTIFICATIONS"]}}function Da(){let e=plus.ios.importClass("AVCaptureDevice"),t=e.authorizationStatusForMediaType("soun");return plus.ios.deleteObject(e),t==3}function Qr(){let e=plus.ios.importClass("AVCaptureDevice"),t=e.authorizationStatusForMediaType("vide");return plus.ios.deleteObject(e),t==3}function eo(){var e=!1,t=plus.ios.import("PHPhotoLibrary"),i=t.authorizationStatus();return(i==3||i==4)&&(e=!0),plus.ios.deleteObject(t),e}function Ea(){var e=!1,t=plus.ios.import("UIApplication"),i=t.sharedApplication(),a=0;if(i.currentUserNotificationSettings){var n=i.currentUserNotificationSettings();a=n.plusGetAttribute("types"),e=a!=0,plus.ios.deleteObject(n)}else a=i.enabledRemoteNotificationTypes(),e=a!=0;return plus.ios.deleteObject(i),plus.ios.deleteObject(t),e}function Ta(e,t){getApp().globalData.s.commit("setPubValue",{name:e,value:t})}function E(e,t){getApp().globalData.s.commit(e,t)}function pt(e,t){e==Be.MSG&&getApp().setNumberBadge(),t>0?uni.setTabBarBadge({index:e,text:t+""}):uni.removeTabBarBadge({index:e})}function to(e,t=!0){t?uni.showTabBarRedDot({index:e}):uni.hideTabBarRedDot({index:e})}function io(e){return new Promise((t,i)=>{uni.downloadFile({url:e}).then(a=>!a||a.statusCode!=200||!a.tempFilePath?(i(),new Promise(()=>{})):uni.saveFile({tempFilePath:a.tempFilePath})).then(a=>{!a||!a.savedFilePath?i():t(a.savedFilePath)}).catch(a=>{z("error","at common/common.js:65","downloadFile error "+JSON.stringify(a))})})}function Ui(e,t){t?plus.runtime.openWeb(e):plus.runtime.openURL(e)}function St(e,t,i,a=S("confirm")){Qe(e,t,i,"",a,!1)}function ao(e){return["Si, desbloquear","Reenviar Completar"].indexOf(e)!=-1}function Qe(e,t,i,a,n=S("confirm"),r=!0,o=S("cancel"),s=!1){let l=!1;if(!te.isAndroid&&(l=ao(n),l)){let c=n;n=o,o=c}uni.showModal({title:e,content:t,showCancel:r,cancelText:o,confirmText:n,editable:s,success(c){c.confirm?l?typeof a=="function"&&a():typeof i=="function"&&i(c):c.cancel&&(l?typeof i=="function"&&i(c):typeof a=="function"&&a())}})}function wt(e,t="none",i="center"){uni.showToast({title:e,duration:2e3,icon:t,position:i})}var V={LIGHT:1,DARK:2};function va(e,t=1,i=!0){if(e=Number(e),isNaN(e))return!0;let a=getApp().pubAccount.money-e*t;return a>=0?!0:(i&&no(Math.abs(a),0),!1)}function no(e,t=0,i,a){let r=G("coin_callback"),o={};o.order_source=typeof i=="undefined"?0:i,o.click_type=typeof a=="undefined"?0:a,r?(o.fromType=t,o.diffCoin=e,W("/pages/coin/coin-dialog",o,"coinDialogData",r)):(o.from_type=t,o.diff_coin=e,M.request("/pay/coin/callback",o,!0))}function ka(e,t){Qe(S("tips"),S("user.hideFormTheListTips"),()=>{let i={target_uid:e};M.request("/admin/user/hide",i),typeof t=="function"&&t()},"",S("hide"))}function ro(e){let t=getApp().pubUser.seeking_sex;return e?t:t==0?getApp().pubUser.sex==1?2:1:t}function be(){return getApp().globalData.s.state.pubUser.is_auth}function oo(){return!be()&&getApp().pubUser.recharge_money>0}function so(){let e=getApp().globalData.admin;return e&&e.permission&&e.permission.kefu}function lo(){let e=getApp().globalData.admin;return e&&e.permission&&e.permission.check_all}function co(){let e=getApp().globalData.admin;return!g(e)&&e.type==1}var Gt={DEFAULT:1e4,FAIL:0,SUCCESS:1,DISCONNECT:6,RECONNECT:7},uo={INIT:"init",APP_SHOW:"app_show",TAB_SHOW:"tab_show",MSG_INDEX_REFRESH:"msg_index_refresh",STOP_TAKING_RECOVERY:"stop_taking_recovery",CATCH_MSG_SYNC:"sync_catch",API_CALL_BACK:"api_call_back",RECONNECT_LISTENER:"reconnect_listener",RECONNECT_LOCAL:"reconnect_local"};function fo(e){return new Promise((t,i)=>{getApp().globalData.pluginDB.selectSql({sql:e},a=>{a.status==1?t(a.rows):(z("error","at comExtend/plugin-DB.js:44","db \u63D2\u4EF6 select \u6267\u884C \u9519\u8BEF "+a.message),i(a.message))})})}function mo(e){return new Promise((t,i)=>{getApp().globalData.pluginDB.executeSql({sql:e},a=>{a.status==1?t(a.rows):(z("error","at comExtend/plugin-DB.js:57","db \u63D2\u4EF6 execute \u6267\u884C \u9519\u8BEF "+a.message),i(a.message))})})}function po(e,t){return new Promise((i,a)=>{mo(e).then(n=>{i(n)},n=>{a(),t||xa("execute",n,e)})})}function go(e,t){return new Promise((i,a)=>{fo(e).then(n=>{i(n)},n=>{a(),t||xa("select",n,e)})})}function ut(e){return g(e)?0:parseInt(e)}function _o(){return getApp().globalData.pluginMqtt.checkStatusSync()?Gt.SUCCESS:Gt.FAIL}function ho(){return _o()}function yo(){return ho()==Gt.SUCCESS}var Ue={getUserDesc(){let e=getApp().pubUser;return Object.keys(e).length<=3?"\u672A\u767B\u5F55":[e.uid,e.is_auth?"\u4E3B\u64AD":"\u7528\u6237",`\u7B49\u7EA7-${e.level}`,`vip${e.is_vip?"\u662F":"\u5426"}`,`\u5145\u503C${e.recharge_money}`,`\u4F59\u989D${getApp().pubAccount.money}`,`\u540E\u53F0\u8EAB\u4EFD${bo()}`].join("|")},getActionDesc(){let e=bt(),t=e.length;return[`\u9875\u9762: ${(t>5?e.slice(t-5):e).join(",")}`,`${getApp().globalData.catchApiUrlList.join(",")}`].join("|")},getEnvironsDesc(){let e=getApp().globalData.ua.split("|"),t=[`${e[1]}`,`app\u7248\u672C${e[2]}`,`zip\u7248\u672C${e[3]}-${e[13]}`,`${e[6]}`,`\u54C1\u724C${e[11]}`,`\u578B\u53F7${e[12]}`,`\u7F51\u7EDC${getApp().globalData.network.type}`,`MQTT${yo()?"\u662F":"\u5426"}`],i=zr();return typeof i!="undefined"&&t.push(`VPN${i?"\u662F":"\u5426"}`),t.join("|")}};function bo(){if(co())return"\u8D85\u7BA1";let e=[];return so()&&e.push("\u5BA2\u670D"),lo()&&e.push("\u5BA1\u6838"),e.length<=0?"\u65E0":e.join("\u548C")}var Ot=0;function Ao(e){return So(Co(wo(e)))}function Co(e){return Eo(To(Do(e),e.length*8))}function So(e){try{}catch(r){Ot=0}for(var t=Ot?"0123456789ABCDEF":"0123456789abcdef",i="",a,n=0;n<e.length;n++)a=e.charCodeAt(n),i+=t.charAt(a>>>4&15)+t.charAt(a&15);return i}function wo(e){for(var t="",i=-1,a,n;++i<e.length;)a=e.charCodeAt(i),n=i+1<e.length?e.charCodeAt(i+1):0,55296<=a&&a<=56319&&56320<=n&&n<=57343&&(a=65536+((a&1023)<<10)+(n&1023),i++),a<=127?t+=String.fromCharCode(a):a<=2047?t+=String.fromCharCode(192|a>>>6&31,128|a&63):a<=65535?t+=String.fromCharCode(224|a>>>12&15,128|a>>>6&63,128|a&63):a<=2097151&&(t+=String.fromCharCode(240|a>>>18&7,128|a>>>12&63,128|a>>>6&63,128|a&63));return t}function Do(e){for(var t=Array(e.length>>2),i=0;i<t.length;i++)t[i]=0;for(var i=0;i<e.length*8;i+=8)t[i>>5]|=(e.charCodeAt(i/8)&255)<<i%32;return t}function Eo(e){for(var t="",i=0;i<e.length*32;i+=8)t+=String.fromCharCode(e[i>>5]>>>i%32&255);return t}function To(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var i=1732584193,a=-271733879,n=-1732584194,r=271733878,o=0;o<e.length;o+=16){var s=i,l=a,c=n,m=r;i=J(i,a,n,r,e[o+0],7,-680876936),r=J(r,i,a,n,e[o+1],12,-389564586),n=J(n,r,i,a,e[o+2],17,606105819),a=J(a,n,r,i,e[o+3],22,-1044525330),i=J(i,a,n,r,e[o+4],7,-176418897),r=J(r,i,a,n,e[o+5],12,1200080426),n=J(n,r,i,a,e[o+6],17,-1473231341),a=J(a,n,r,i,e[o+7],22,-45705983),i=J(i,a,n,r,e[o+8],7,1770035416),r=J(r,i,a,n,e[o+9],12,-1958414417),n=J(n,r,i,a,e[o+10],17,-42063),a=J(a,n,r,i,e[o+11],22,-1990404162),i=J(i,a,n,r,e[o+12],7,1804603682),r=J(r,i,a,n,e[o+13],12,-40341101),n=J(n,r,i,a,e[o+14],17,-1502002290),a=J(a,n,r,i,e[o+15],22,1236535329),i=X(i,a,n,r,e[o+1],5,-165796510),r=X(r,i,a,n,e[o+6],9,-1069501632),n=X(n,r,i,a,e[o+11],14,643717713),a=X(a,n,r,i,e[o+0],20,-373897302),i=X(i,a,n,r,e[o+5],5,-701558691),r=X(r,i,a,n,e[o+10],9,38016083),n=X(n,r,i,a,e[o+15],14,-660478335),a=X(a,n,r,i,e[o+4],20,-405537848),i=X(i,a,n,r,e[o+9],5,568446438),r=X(r,i,a,n,e[o+14],9,-1019803690),n=X(n,r,i,a,e[o+3],14,-187363961),a=X(a,n,r,i,e[o+8],20,1163531501),i=X(i,a,n,r,e[o+13],5,-1444681467),r=X(r,i,a,n,e[o+2],9,-51403784),n=X(n,r,i,a,e[o+7],14,1735328473),a=X(a,n,r,i,e[o+12],20,-1926607734),i=Z(i,a,n,r,e[o+5],4,-378558),r=Z(r,i,a,n,e[o+8],11,-2022574463),n=Z(n,r,i,a,e[o+11],16,1839030562),a=Z(a,n,r,i,e[o+14],23,-35309556),i=Z(i,a,n,r,e[o+1],4,-1530992060),r=Z(r,i,a,n,e[o+4],11,1272893353),n=Z(n,r,i,a,e[o+7],16,-155497632),a=Z(a,n,r,i,e[o+10],23,-1094730640),i=Z(i,a,n,r,e[o+13],4,681279174),r=Z(r,i,a,n,e[o+0],11,-358537222),n=Z(n,r,i,a,e[o+3],16,-722521979),a=Z(a,n,r,i,e[o+6],23,76029189),i=Z(i,a,n,r,e[o+9],4,-640364487),r=Z(r,i,a,n,e[o+12],11,-421815835),n=Z(n,r,i,a,e[o+15],16,530742520),a=Z(a,n,r,i,e[o+2],23,-995338651),i=Q(i,a,n,r,e[o+0],6,-198630844),r=Q(r,i,a,n,e[o+7],10,1126891415),n=Q(n,r,i,a,e[o+14],15,-1416354905),a=Q(a,n,r,i,e[o+5],21,-57434055),i=Q(i,a,n,r,e[o+12],6,1700485571),r=Q(r,i,a,n,e[o+3],10,-1894986606),n=Q(n,r,i,a,e[o+10],15,-1051523),a=Q(a,n,r,i,e[o+1],21,-2054922799),i=Q(i,a,n,r,e[o+8],6,1873313359),r=Q(r,i,a,n,e[o+15],10,-30611744),n=Q(n,r,i,a,e[o+6],15,-1560198380),a=Q(a,n,r,i,e[o+13],21,1309151649),i=Q(i,a,n,r,e[o+4],6,-145523070),r=Q(r,i,a,n,e[o+11],10,-1120210379),n=Q(n,r,i,a,e[o+2],15,718787259),a=Q(a,n,r,i,e[o+9],21,-343485551),i=Se(i,s),a=Se(a,l),n=Se(n,c),r=Se(r,m)}return Array(i,a,n,r)}function Dt(e,t,i,a,n,r){return Se(vo(Se(Se(t,e),Se(a,r)),n),i)}function J(e,t,i,a,n,r,o){return Dt(t&i|~t&a,e,t,n,r,o)}function X(e,t,i,a,n,r,o){return Dt(t&a|i&~a,e,t,n,r,o)}function Z(e,t,i,a,n,r,o){return Dt(t^i^a,e,t,n,r,o)}function Q(e,t,i,a,n,r,o){return Dt(i^(t|~a),e,t,n,r,o)}function Se(e,t){var i=(e&65535)+(t&65535),a=(e>>16)+(t>>16)+(i>>16);return a<<16|i&65535}function vo(e,t){return e<<t|e>>>32-t}var Vt={md5:function(e){return Ao(e)}};function La(){return"tb_error_log"}function ko(e,t){return new Promise(i=>{let a=`SELECT * FROM ${La()} WHERE status = ${ut(e)} AND identify = '${t}' ORDER BY id DESC LIMIT 1`;go(a,!0).then(n=>{i(n[0])})})}function Lo(e,t,i,a,n,r,o,s,l,c){return ko(e,t).then(m=>{if(m)return Promise.resolve(!0);let y=`INSERT INTO ${La()} (status, identify, grade, flag, user_desc, action_desc, environs_desc, error_desc, create_time, exp_time) values (${ut(e)}, '${t}', ${i}, '${a}', '${st(n)}', '${st(r)}', '${st(o)}', '${st(s)}', ${ut(l)}, ${ut(c)})`;return po(y,!0)})}var ii={CRASH:1,USER:11,API_FAIL:12,API_ERROR:13,MSG_SYNC:14,DB_PLUGIN:15,FRAME:21,LISTENER:31,BUG_DB_GET_NONE:201,BUG_MSG_SYNC_PLUGIN_LOSS:202,BUG_MSG_SYNC_JS_LOSS:203},ai={CRASH:"crash",MEMORY:"memory",LISTENER:"listener",FRAME_API:"frame_api",API:"api",DB:"db",PAYMENT:"payment",AUTH_FACE:"auth_face",CHAT_CALL:"chat_call",HOT_UPDATE:"hot_update",MESSAGE_PARSE:"message_parse",BUG:"bug"};function Ia(){return getApp().globalData.uid==0?!1:te.zT==3?!0:te.appId==Kr.CHAT_NOW_A||te.ENV=="dev"}var Io=1e3;function xo(e,t){try{if(!Ia())return;let i=jt(t),a=`api-${e} ${i}`;z("error","at comCatch/catch-save.js:15","catch api fail "+a);let n=Na(a);Ro().then(r=>{let o;typeof r=="boolean"?o="\u6D4B\u8BD5\u8C37\u6B4C\u6210\u529F":o=`\u6D4B\u8BD5\u8C37\u6B4C\u5931\u8D25-${jt(r)}`,n.errorDesc=`${n.errorDesc} - ${o}`,Oa(ii.API_FAIL,ai.API,n)})}catch(i){}}function No(e,t,i){try{if(!Ia())return;let a=jt(i);a=a.substring(0,120);let n=`statusCode-${i.statusCode}-${a}-api-${e}-${JSON.stringify(t)}`;z("error","at comCatch/catch-save.js:37","catch api error "+n);let r=Na(n);Oa(ii.API_ERROR,ai.API,r)}catch(a){}}function xa(e,t,i){try{if(i.indexOf("tb_error_log")!=-1)return;let a=`${e} - ${t}`;i&&(a+=` - ${i}`),z("error","at comCatch/catch-save.js:74","catch db "+a),Oo(ii.DB_PLUGIN,ai.DB,a)}catch(a){}}function jt(e){if(!e)return"";let t=JSON.stringify(e);return(typeof t!="string"||t=="{}")&&(t=e.toString()),t}function Na(e){return{identify:Vt.md5(e),errorDesc:e,userDesc:Ue.getUserDesc(),actionDesc:Ue.getActionDesc(),environsDesc:Ue.getEnvironsDesc(),expTime:0}}function Oa(e,t,i){Lo(0,i.identify,e,t,i.userDesc,i.actionDesc,i.environsDesc,i.errorDesc,new Date().getTime(),i.expTime)}function Oo(e,t,i){let a=[],n=new Date().getTime();if(n-getApp().globalData.catchApiLastReqTime<=Io)return;getApp().globalData.catchApiLastReqTime=n,a.push({grade:e,flag:t,user_desc:Ue.getUserDesc(),action_desc:Ue.getActionDesc(),environs_desc:Ue.getEnvironsDesc(),error_desc:i,create_time:n,createTimeStr:pa(n)});let r={log_list:a};M.request("/monitor/record-exception-log",r)}function Ro(){return new Promise(e=>{uni.request({url:"https://google.com",method:"GET",timeout:5e3,success(t){e(!0)},fail(t){e(t)}})})}var Mo=["/monitor/index","/chat/call/log","/chat/msg/mq-log","/user/sync-permission","/monitor/record-exception-log"],Hi=["/monitor/record-exception-log"],Wi=5,lt={invoke(e,t){if(Mo.indexOf(e)!=-1)return;let i="";i+=`\u63A5\u53E3=${e};`,i+=`\u53C2\u6570=${JSON.stringify(t)}`,i+=`\u65F6\u95F4=${pa(new Date().getTime())}`,getApp().globalData.catchApiUrlList.push(`\u3010${i}\u3011`);let a=getApp().globalData.catchApiUrlList.length;a>Wi&&(getApp().globalData.catchApiUrlList=getApp().globalData.catchApiUrlList.slice(a-Wi))},error(e,t,i){Hi.indexOf(e)==-1&&getApp().globalData.network.isConnected&&(!i||typeof i.statusCode=="undefined"||No(e,t,i))},fail(e,t){Hi.indexOf(e)==-1&&getApp().globalData.network.isConnected&&xo(e,t)}},Po={INIT:1,OPEN:2,CALLBACK:3,SOCKET:4,LOGIN:5};function Ra(e,t=!0,i=!0,a=!0){if(!e)return 0;let n=0;return!e.hide_level&&e.level>0&&(n+=56),!e.hide_vip&&e.is_vip&&(n+=64),g(e.birthday)||(n+=50),t&&e.auth_status==1&&(n+=32),i&&!g(e.country_code)&&!e.hide_profile&&(a?n+=88:n+=44),n}function Ma(e,t=!1){if(!t&&e.hide_profile){let i=e.uid%9999;return i<1e3&&(i="0"+i),S("mysteryer")+i}else return e.nickname||""}function Pa(e,t="small_avatar",i=!1,a=1){if(!i&&e.hide_profile)return Fo(a);{if(e[t])return e[t];let n=t=="small_avatar"?"avatar":"small_avatar";return e[n]}}function Fo(e){return e==2?"s/privacy/masker_list_card.png":e==3?"s/privacy/masker_card.png":"s/privacy/masker_avatar.png"}function Gi(){if(getApp().pubUnreadMy.moment>0){pt(Be.MY,getApp().pubUnreadMy.moment);return}pt(Be.MY,0),to(Be.MY,getApp().pubUnreadMy.fans>0)}var _={PERMISSION:"permission",PERFECT_DATA:"perfect_data",REST:"rest",HOME_FILTER:"home_filter",GRID_GUIDE:"grid_guide",NOTIFY:"notify",HELLO:"hello",SHARE:"share",LANGUAGE_UP:"language_up",RAMADAN:"ramadan",MSG_DISTURB:"msg_disturb",CALL_DISTURB:"call_disturb",BAN:"ban",WARNING:"warning",HOME_SEX_FILTER:"home_sex_filter",CLUB_RESULT:"club_result",CLUB_DISBAND:"club_disband"},Bo={[_.HOME_FILTER]:"seeking_sex_open_time",[_.GRID_GUIDE]:"dialog_show_time_grid_guide",[_.NOTIFY]:"dialog_show_time_notify",[_.HELLO]:"dialog_show_time_hello"},$t=-99,Xe=-100,Uo={[_.HOME_FILTER]:1,[_.HOME_SEX_FILTER]:1,[_.GRID_GUIDE]:1,[_.NOTIFY]:2,[_.SHARE]:3,[_.HELLO]:4,[_.LANGUAGE_UP]:5,[_.RAMADAN]:6},ni={[_.PERMISSION]:1,[_.PERFECT_DATA]:2,[_.REST]:3,[_.HOME_FILTER]:4,[_.HOME_SEX_FILTER]:4,[_.GRID_GUIDE]:4,[_.NOTIFY]:5,[_.SHARE]:7,[_.LANGUAGE_UP]:8};function Ho(e){return Vo(_.HOME_FILTER,21600)?!1:ro(!1)!=e}function Wo(e){return te.isAndroid||e||G(ri(_.GRID_GUIDE))?!1:!G("user_list_sort_"+getApp().globalData.uid)}function Fa(){return wa(U.NOTIFY)?!1:!Go()}function Go(){let e=Mr(`${_.NOTIFY}_show_status`);if(!g(e))return!0;let t=G(ri(_.NOTIFY));return!g(t)}function ri(e){return`${Bo[e]}_${getApp().globalData.uid}`}function Vo(e,t){let i=G(ri(e));if(!i)return!1;let a=new Date().getTime();return a<=i?!1:parseInt((a-i)/1e3)<=t}var Vi=!1,Re=!1,Ce=0,Ye={appDialogList:[],appDialogStop:!1,appDialogCurKey:"",appDialogHelloData:!1,appBanDialogList:[],appClubResultList:[],appDialogIsShowBan:!1,appBanDialogCurKey:"",appWarningDialogCurKey:"",appClubResultCurKey:""},jo={setDialogHelloData(e,t){e.appDialogHelloData=t},setDialogCurKey(e,t){e.appDialogCurKey=t},setDialogList(e,t){e.appDialogList=t,e.appDialogList.sort((i,a)=>i.sort-a.sort)},sortDialogList(e){e.appDialogList.sort((t,i)=>t.sort-i.sort)},resetDialogItem(e,t){let i=e.appDialogList.findIndex(a=>a.key==t.key);i!=-1&&(e.appDialogList[i].hasExec=!1,e.appDialogList[i].delay=t.delay)},resetClubResultDialogItem(e,t){let i=e.appClubResultList.findIndex(a=>a.key==t.key);i!=-1&&(e.appClubResultList[i].hasExec=!1)},delDialogItem(e,t){g(e.appDialogList)||e.appDialogList.splice(t,1)},delDialogItemByKey(e,t){if(g(e.appDialogList))return;let i=e.appDialogList.findIndex(a=>a.key==t);i!=-1&&e.appDialogList.splice(i,1)},clearDialog(e){e.appDialogStop=!0,e.appDialogList=[]},executeDialog(e,t){if(e.appBanDialogCurKey||e.appWarningDialogCurKey||e.appClubResultCurKey||g(e.appDialogList)||e.appDialogStop)return;let i=e.appDialogList[0];g(i)||i.hasExec||i.isCanExecute&&(e.appDialogList[0].hasExec=!0,Rt[i.funcName](i).then(()=>{e.appDialogCurKey="";let a=e.appDialogList.indexOf(i);a!=-1&&E("appDialog/delDialogItem",a),E("appDialog/executeDialog","execute then")}))},addDialog(e,t){let i=t.key;e.appDialogStop=!0;let a=e.appDialogList.findIndex(n=>n.key==i);if(a!=-1){if(e.appDialogList[a].isAdd){e.appDialogStop=!1,e.appDialogCurKey||E("appDialog/executeDialog");return}e.appDialogList[a].isAdd=!0,e.appDialogList[a].addTime=new Date().getTime(),e.appDialogList[a].isCanExecute=!0}else{let n=be()?1:2,r;switch(i){case _.HOME_FILTER:r=Xo(n,!0);break;case _.HELLO:r=ji(t.delay);break;case _.MSG_DISTURB:r=Qo(t.delay);break;case _.CALL_DISTURB:r=es(t.delay);break;default:e.appDialogStop=!1,e.appDialogCurKey||E("appDialog/executeDialog");return}r.isAdd=!0,r.addTime=new Date().getTime(),e.appDialogList.push(r)}e.appDialogList.sort((n,r)=>n.sort==r.sort?r.addTime-n.addTime||(n.isCanExecute?Xe:0):n.sort-r.sort),!e.appDialogCurKey&&(e.appDialogCurKey=i,e.appDialogStop=!1,E("appDialog/executeDialog"))},addDialogHomeFilter(e,t){getApp().globalData.appCRE==0||!Ho(t)||E("appDialog/addDialog",{key:_.HOME_FILTER})},addDialogHomeSexFilter(e,t){getApp().globalData.appCRE!=0&&(E("appDialog/addDialog",{key:_.HOME_SEX_FILTER,value:t}),E("appDialog/sortDialogList"))},addDialogGridGuide(e,t){let i=e.appDialogList.findIndex(n=>n.key==_.GRID_GUIDE);if(Wo(t)){if(i==-1)return;E("appDialog/addDialog",{key:_.GRID_GUIDE})}else i!=-1&&E("appDialog/delDialogItem",i)},addDialogNotify(e,t){t&&!Fa()||ge("/pagesDialog/open-sys-notice")},addDialogHello(e,t){if(getApp().globalData.appCRE==0||Vi)return;Vi=!0;let i=e.appDialogList[0];if(i&&i.key==_.SHARE){Ce=30;let a=ji(Ce);a.sort=Ne(be()?1:2,_.SHARE+1),a.isAdd=!0,a.addTime=new Date().getTime(),e.appDialogList.push(a),e.appDialogList.sort((n,r)=>n.sort==r.sort?r.addTime-n.addTime||(n.isCanExecute?Xe:0):n.sort-r.sort);return}Ce=t,E("appDialog/addDialog",{key:_.HELLO,delay:t})},addDialogMsgDisturb(e,t){E("appDialog/addDialog",{key:_.MSG_DISTURB,delay:t})},addDialogCallDisturb(e,t){E("appDialog/addDialog",{key:_.CALL_DISTURB,delay:t})},delBanDialogItem(e){g(Ye.appBanDialogList)||Ye.appBanDialogList.splice(e,1)},delClubResultDialogItem(e){g(Ye.appClubResultList)||Ye.appClubResultList.splice(e,1)},addDialogBan(e,t){let i=ts(t);e.appDialogIsShowBan?uni.$emit("event_refresh_banned_data",t):(e.appBanDialogList.push(i),E("appDialog/sortBanWarningDialog"))},addDialogWarning(e,t){if(e.appBanDialogList.map(n=>n.sort).indexOf(Number(t.id))!=-1)return;let a;t.from_type==2?a=as(t):a=is(t),e.appBanDialogList.push(a),!(e.appBanDialogCurKey||e.appWarningDialogCurKey)&&E("appDialog/executeBanWarningDialog")},addDialogClubNoticeDialog(e,t){let i,a,n=e.appClubResultList.map(r=>r.key);t.type==Kn.CHECK_RESULT?(a=_.CLUB_RESULT+"_"+t.club_id,n.indexOf(a)==-1&&(i=rs(t))):(a=_.CLUB_DISBAND+"_"+t.club_id,n.indexOf(a)==-1&&(i=ns(t))),i&&e.appClubResultList.push(i),!(e.appBanDialogCurKey||e.appWarningDialogCurKey)&&(e.appClubResultCurKey||E("appDialog/executeClubNoticeDialog"))},executeBanWarningDialog(e){if(g(e.appBanDialogList)){E("appDialog/executeClubNoticeDialog");return}let t=e.appBanDialogList[0];if(g(t)||t.hasExec)return;let i=getApp().globalData.curCallId>qe.WAITING;if(i){t.isBan&&uni.$emit("event_banned_close_chat");return}e.appBanDialogList[0].hasExec=!i||!t.isBan,e.appDialogIsShowBan=t.isBan,t.isBan?e.appBanDialogCurKey="ban":e.appWarningDialogCurKey="warning",Rt[t.funcName](t).then(a=>{if(t.isBan){if(e.appBanDialogCurKey="",e.appDialogIsShowBan=!1,a==1){let n=e.appBanDialogList.indexOf(t);n!=-1&&E("appDialog/delBanDialogItem",n)}}else{e.appWarningDialogCurKey="";let n=e.appBanDialogList.indexOf(t);n!=-1&&E("appDialog/delBanDialogItem",n)}E("appDialog/executeBanWarningDialog","execute then")})},executeClubNoticeDialog(e,t){if(e.appBanDialogCurKey||e.appWarningDialogCurKey)return;if(g(e.appClubResultList)){E("appDialog/executeDialog");return}let i=e.appClubResultList[0];g(i)||i.hasExec||getApp().globalData.curCallId>qe.WAITING||(e.appClubResultCurKey="club_result",e.appClubResultList[0].hasExec=!0,t&&t.delay&&(i.delay=t.delay),Rt[i.funcName](i).then(()=>{e.appClubResultCurKey="";let n=e.appClubResultList.indexOf(i);n!=-1&&E("appDialog/delClubResultDialogItem",n),E("appDialog/executeClubNoticeDialog","execute then")}))},sortBanWarningDialog(e){let t=e.appBanDialogList.filter(a=>a.sort==$t),i=e.appBanDialogList.filter(a=>a.sort!=$t);i=i.sort((a,n)=>a.sort-n.sort),e.appBanDialogList=[...t,...i]}},$o={init(i,a){return Ai(this,arguments,function*({state:e},t){z("error","at store/modules/app-dialog.js:326","------> init dialog list, data ",t);let n=[];be()?n=Yo(t.data,t.homeViewSizeObj):n=zo(t.data,t.homeViewSizeObj),E("appDialog/setDialogList",n),E("appDialog/executeDialog")})}},Ko={namespaced:!0,state:Ye,mutations:jo,actions:$o};function zo(e,t){permissionGetAllStatus();let i=[],a=Ba(2,t,e.homeFilterSex);a&&i.push(a);let n=Ua(2,t);n&&i.push(n);let r=Ha(2,e.share);r&&i.push(r);let o=Wa(2);o&&i.push(o);let s=Zo(2,e.notifyTips);return s&&i.push(s),i}function Yo(e,t){let i=[],a=qo(e.authList);a&&i.push(a);let n=Jo();n&&i.push(n);let r=Ba(2,t,e.homeFilterSex);r&&i.push(r);let o=Ua(1,t);o&&i.push(o);let s=5,l=Ha(1,e.share,s);l&&i.push(l);let c=Wa(1);return c&&i.push(c),i}function qo(e){return typeof e=="undefined"?null:{key:_.PERFECT_DATA,sort:ni[_.PERFECT_DATA],delay:0,data:e,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecutePerfectData"}}function Jo(){return Ga()||!getApp().pubUser.is_rest?null:{key:_.REST,sort:ni[_.REST],delay:0,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteRest"}}function Xo(e,t){return{key:_.HOME_FILTER,sort:Ne(e,_.HOME_FILTER),delay:0,data:{},hasExec:!1,isCanExecute:t,addTime:new Date().getTime(),funcName:"_dialogExecuteHomeFilter"}}function Ba(e,t,i){return getApp().globalData.appCRE==0||!t||!t.filter?null:{key:_.HOME_SEX_FILTER,sort:Ne(e,_.HOME_SEX_FILTER),delay:0,data:{value:i,size:t.filter},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteHomeSexFilter"}}function Ua(e,t){if(getApp().globalData.appCRE==0)return null;let i="grid";if(!t||!t[i])return null;let a={sizeList:[{key:i,size:t[i]}],from_type:1};return{key:_.GRID_GUIDE,sort:Ne(e,_.GRID_GUIDE),delay:0,data:a,hasExec:!1,isCanExecute:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteGridGuide"}}function Ha(e,t,i=5){return getApp().globalData.appCRE==0||g(t)||getApp().globalData.launchCount<3||oo()?null:{key:_.SHARE,sort:Ne(e,_.SHARE),delay:i,data:t,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteShare"}}function ji(e){return{key:_.HELLO,sort:Xe,delay:e,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteHello"}}function Wa(e){let t=G("user_switch_language_status");if(t)return null;let i=Je(!1);if(t||g(i))return null;let a=Gr.map(o=>o.key),n=Je();if(a.indexOf(n)!=-1)return null;let r=ti(!1);return a.indexOf(r)==-1?null:{key:_.LANGUAGE_UP,sort:Ne(e,_.LANGUAGE_UP),delay:5,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteLanguageUp"}}function Zo(e,t){return g(t)||G(`stop_notify_${getApp().globalData.uid}_${t.time}`)||!wa(U.NOTIFY)?null:{key:_.RAMADAN,sort:Ne(e,_.RAMADAN),delay:5,data:t,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteRamadan"}}function Qo(e){return{key:_.MSG_DISTURB,sort:Xe,delay:e,data:{from_type:1},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteMsgDisturb"}}function es(e){return{key:_.CALL_DISTURB,sort:Xe,delay:e,data:{from_type:2},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteCallDisturb"}}function ts(e){return{key:_.BAN,sort:$t,data:e,delay:e.delay||0,hasExec:!1,isBan:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteBan"}}function is(e){return{key:_.WARNING,sort:Number(e.id),data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteWarning"}}function as(e){return{key:_.WARNING,sort:Number(e.id),data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubWarning"}}function ns(e){return{key:_.CLUB_DISBAND+"_"+e.club_id,data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubDisband"}}function rs(e){return{key:_.CLUB_RESULT+"_"+e.club_id,data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubResult"}}var Rt={_dialogExecutePermission(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),pe(e.key,e.delay,0)&&(E("appDialog/setDialogCurKey",_.PERMISSION),Xr(1,!1,e.permissionRes).then(()=>{t()}))},e.delay*1e3)})},_dialogExecutePerfectData(e){return new Promise(t=>{E("appDialog/setDialogCurKey",_.PERFECT_DATA),W("/pagesDialog/complete-content-first",{},"DataCompleteContentFirst",e.data,{onCloseListener(){t()}})})},_dialogExecuteRest(){return new Promise(e=>{E("appDialog/setDialogCurKey",_.REST),Qe(S("tips"),S("anchor.rest.openedTip"),()=>{let t={user_info:{is_rest:0}};M.request("/user/update-info",t,!0,!0).then(i=>{Ta("pubUser.is_rest",0),St(S("tips"),S("anchor.rest.turnOff"),()=>{e()},S("gotIt"))},()=>{e()})},()=>{e()},S("startWorking"))})},_dialogExecuteHomeFilter(e){return new Promise(t=>{pe(e.key,e.delay,Ke.USER)&&(E("appDialog/setDialogCurKey",_.HOME_FILTER),ge("/pagesDialog/seeking-sex-guide",{},{onCloseChooseSeekingSex:i=>{uni.$emit("event_app_dialog_seeking_sex_after",i),t()}}))})},_dialogExecuteHomeSexFilter(e){return new Promise(t=>{pe(e.key,e.delay,Ke.USER)&&(E("appDialog/setDialogCurKey",_.HOME_SEX_FILTER),ge(ze.homeFilterSexGuide,{params:JSON.stringify(e.data)},{onCloseListener:()=>{uni.$emit("event_handle_filter_seeking_sex"),t()}}))})},_dialogExecuteGridGuide(e){return new Promise(t=>{if(!pe(e.key,e.delay,Ke.USER))return;E("appDialog/setDialogCurKey",_.GRID_GUIDE);let i=e.data.sizeList;ge("/pagesDialog/guide-cover",{list:encodeURIComponent(JSON.stringify(i))},{onCloseGuideCover:()=>{uni.$emit("event_app_dialog_close_guide",{from_type:e.data.from_type}),t()}})})},_dialogExecuteShare(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),pe(e.key,e.delay,0)&&(E("appDialog/setDialogCurKey",_.SHARE),W("/pagesDialog/share",{},"shareData",e.data.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteLanguageUp(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),pe(e.key,e.delay,0)&&(E("appDialog/setDialogCurKey",_.LANGUAGE_UP),xe("user_switch_language_status","1"),ge("/pagesDialog/switch-language-remind",{},{onCloseListener(){t()}}))},e.delay*1e3)})},_dialogExecuteRamadan(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),pe(e.key,e.delay,0)&&(E("appDialog/setDialogCurKey",_.RAMADAN),W("/pagesDialog/stop-notify",{},"dataStopNotify",e.data,{onCloseListener(){t()}}))},e.delay*1e3)})},_dialogExecuteHello(e){return new Promise(t=>{ls().then(i=>{if(!i){t();return}if(Re&&clearInterval(Re),e.delay<=0||Ce<=0){if(!pe(e.key,Ce,0))return;E("appDialog/setDialogCurKey",_.HELLO),$i(i,()=>{t()});return}Re=setInterval(()=>{if(!pe(e.key,Ce,0)){Re&&clearInterval(Re);return}Ce-=1,Ce<=0&&(clearInterval(Re),E("appDialog/setDialogCurKey",_.HELLO),$i(i,()=>{t()}))},1e3)})})},_dialogExecuteMsgDisturb(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),pe(e.key,e.delay,Ke.MSG)&&(E("appDialog/setDialogCurKey",_.MSG_DISTURB),ge("/pagesDialog/disturb-def",e.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteCallDisturb(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),pe(e.key,e.delay,0)&&(E("appDialog/setDialogCurKey",_.CALL_DISTURB),ge("/pagesDialog/disturb-def",e.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteBan(e){return new Promise(t=>{let i=e.exp_time;if(parseInt(new Date().getTime()/1e3)>i){t();return}let a=setTimeout(()=>{clearTimeout(a);let n=e.data.from_cache?1:0;W("/pagesDialog/banned",{from_cache:n},"bannedDialogData",e.data,{onCloseListener:r=>{t(r)}})},e.delay*1e3)})},_dialogExecuteWarning(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),W("/pagesDialog/warning",{},"warningDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubWarning(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),W(ze.clubWarning,{},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubDisband(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),W(ze.clubDisband,{},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubResult(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),W(ze.clubStatusRemind,{from_type:2},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})}};function pe(e,t,i){let a;return i==0?a=os():a=ss(i),getApp().globalData.isGestureBacking||getApp().globalData.s.state.appDialog.appDialogStop||Ga()||!a?(E("appDialog/resetDialogItem",{key:e,delay:t}),!1):!0}function Ga(){return getApp().globalData.uid==0}function os(){return getCurrentPages().length==1}function ss(e){let t=bt();return t.length==1&&t[0]==e}function Ne(e,t){return e==1?ni[t]:Uo[t]}function ls(){return new Promise(e=>{let t=getApp().globalData.s.state.appDialog.appDialogHelloData;t?e(t):M.request("/user/greet-coach-list",{},!1,!0).then(i=>{g(i.data)||g(i.data.list)?e(null):(E("appDialog/setDialogHelloData",i.data),e(i.data))},i=>{e(null)})})}function $i(e,t){W("/pagesDialog/quality-user",{},"qualityUserData",e,{onCloseListener:i=>{i&&Fa()?setTimeout(()=>{E("appDialog/addDialogNotify")},2300):t()}})}var cs={curSendCont:0,msgMtimeList:[]},us=60,Ki=6,ds={addSendCount(e){e.curSendCont+=1},clearSendCount(e){e.curSendCont=0},addMsgDisturbSaveCount(e,t){let i=e.msgMtimeList.length;if(e.msgMtimeList.length<Ki&&(e.msgMtimeList.push(t/1e6),i=e.msgMtimeList.length),i>=Ki){let a=e.msgMtimeList[0];e.msgMtimeList[i-1]-a<=us&&E("appDialog/addDialogMsgDisturb",2),e.msgMtimeList.splice(0,1)}}},fs={namespaced:!0,state:cs,mutations:ds},ms={callMtimeList:[]},ps=60,zi=3,gs={addCallDisturbReceiveCount(e,t){let i=e.callMtimeList.length;if(e.callMtimeList.length<zi&&(e.callMtimeList.push(t/1e3),i=e.callMtimeList.length),i>=zi){let a=e.callMtimeList[0];e.callMtimeList[i-1]-a<=ps&&E("appDialog/addDialogCallDisturb",2),e.callMtimeList.splice(0,1)}},clearCallDisturbReceiveMtime(e){e.callMtimeList=[]}},_s={namespaced:!0,state:ms,mutations:gs},Fe=G("pubData");Fe||(Fe={});var hs=["pubToken","pubUser","pubAccount","pubPrivacy"],ys=function(e,t){if(hs.indexOf(e)==-1)return;let i=G("pubData");i=i||{},i[e]=t,xe("pubData",i),["pubUser","pubAccount"].indexOf(e)!=-1?uni.$emit("event_vuex_watch",e):uni.$emit(`event_vuex_watch_${e}`)},bs=(0,Yi.createStore)({state:{pubToken:Fe.pubToken||"",pubUser:Fe.pubUser||{nickname:"",uid:0,avatar:""},pubAccount:Fe.pubAccount||{money:0},pubPrivacy:Fe.pubPrivacy||{},pubUnread:0,pubUnreadMy:{fans:0,moment:0,moment_type:1},pubI18n:"",pubAI18n:""},mutations:{setPubValue(e,t){let i=t.name.split("."),a="",n=i.length;if(n>=2){let r=e[i[0]];for(let o=1;o<n-1;o++)r=r[i[o]];r[i[n-1]]=t.value,a=i[0]}else e[t.name]=t.value,a=t.name;ys(a,e[a])},initUnread(e,t){let i=parseInt(t);i<0&&(i=0),e.pubUnread=i,pt(Be.MSG,e.pubUnread),uni.$emit("event_vuex_watch_pub_unread",i)},setUnread(e,t){let i=parseInt(t);if(isNaN(i)||i==0)return;let a=e.pubUnread+i;a<0&&(a=0),e.pubUnread=a,pt(Be.MSG,e.pubUnread),uni.$emit("event_vuex_watch_pub_unread",a)},initUnreadMy(e,t){let i=e.pubUnreadMy;typeof t.fans!="undefined"&&(i.fans=Number(t.fans)),typeof t.moment!="undefined"&&(i.moment=Number(t.moment)),typeof t.moment_type!="undefined"&&(i.moment_type=Number(t.moment_type)),e.pubUnreadMy=i,Gi(),uni.$emit("event_vuex_watch_pubUnreadMy",i)},setUnreadMy(e,t){let i=e.pubUnreadMy;for(let a in t)i[a]=t[a];e.pubUnreadMy=i,Gi(),uni.$emit("event_vuex_watch_pubUnreadMy",i)}},modules:{appDialog:Ko,message:fs,call:_s}}),Me={handleCache(){let e=Me.getCache();g(e)||(e=Zt(e),!Me.checkIsShow()&&(e.from_cache=1,E("appDialog/addDialogBan",e),E("appDialog/executeBanWarningDialog")))},checkIsShow(){return At()=="/pagesDialog/banned"},setCache(e){let t=JSON.stringify(e);xe(Me.getCacheKey(),t)},getCache(){return G(Me.getCacheKey())},getCacheKey(){return`banned_data_${bs.state.pubUser.uid}`},removeCache(){ht(Me.getCacheKey())}},M={setToken(e){g(e)||Ta("pubToken",e)},isLogin(){let e=getApp().globalData.s.state;return!g(e.pubToken)&&e.pubUser.uid},requestOutsourcing(e,t,i,a,n=!1){return M.requestBase(e,t,i,a,n,3)},requestManager(e,t,i,a,n=!1){return M.requestBase(e,t,i,a,n,2)},request(e,t,i,a,n=!1){return M.requestBase(e,t,i,a,n,1)},requestBase(e,t,i,a,n=!1,r){return new Promise((o,s)=>{let l=!1;try{l=getApp().globalData.s.state.pubToken}catch(v){z("error","at common/api.js:35","request token catch "+JSON.stringify(v))}let c={"content-type":"application/json",ua:getApp().globalData.ua},m;r==1?(m=getApp().globalData.apiHost,l&&(c.auth=`Bearer ${l}`)):r==2?(m=getApp().globalData.pApiHost,l&&(c.Authorization=`Bearer ${l}`)):r==3&&(m=getApp().globalData.oApiHost,l&&(c.Authorization=`Bearer ${l}`));let y=!1;if(i)if(i=="refresh")y=!0;else{let v={mask:!0};typeof i=="string"&&(v.title=i),uni.showLoading(v)}lt.invoke(e,t);let C=Ts(t);uni.request({url:m+e,method:"POST",header:c,data:C,dataType:"json",timeout:1e4,complete(v){if(i&&uni.hideLoading(),z("log","at common/api.js:74",`request ${e} obj ${JSON.stringify(t)}`),v.statusCode==200){let A=v.data;if(A.data&&typeof A.data.callback=="object"&&(M.handleCallback(A.data.callback),n))return rt;if(A.ok===99)return getApp().loginOut(),rt;if(A.ok==-98)return Es(A.data),a&&s(A),rt;if(g(A.msg)||wt(A.msg),A.ok>0){o(A);return}a&&s(A)}else if(y&&uni.stopPullDownRefresh(),a)s(v),lt.error(e,t,v);else return lt.error(e,t,v),rt},fail(v){lt.fail(e,v)}})})},handleCallback(e){switch(e.func_name){case"alert":As(e.func_data);break;case"open":Cs(e.func_data);break;case"vip_alert":W("/pages/vip/vip-dialog",null,"vipDialogData",e.func_data);break;case"recharge_alert":let t={fromType:e.func_data.from_type,diffCoin:e.func_data.diff_coin||0};t.order_source=typeof e.func_data.order_source=="undefined"?0:e.func_data.order_source,t.click_type=typeof e.func_data.click_type=="undefined"?0:e.func_data.click_type,W("/pages/coin/coin-dialog",t,"coinDialogData",e.func_data);break;case"close":Hr();break;case"banned_alert":let i=e.func_data.exp_time;if(parseInt(new Date().getTime()/1e3)>i||(E("appDialog/addDialogBan",e.func_data),Me.setCache(e.func_data),At()=="/pagesDialog/banned"))return;let n=setTimeout(()=>{clearTimeout(n),E("appDialog/executeBanWarningDialog")},e.delay*1e3);break;case"reconnect_mqtt":getApp().socketReconnect(uo.API_CALL_BACK,e.func_data);break;case"reload_route":getApp().handleSecret(e.func_data,Po.CALLBACK,{});break;case"event":Ss(e.func_data);break;case"api":ws(e.func_data);break;case"sensitive_alert":W("/pagesDialog/sensitive-check",null,"sensitiveData",e.func_data),uni.hideKeyboard();break;case"free_coins":W("/pagesDialog/coins-free",{coin:e.func_data.free_coins},"coinsFree",{},{});break}},accessLog(e,t){this.request("/other/access-log",{api_name:e,content:ot(t)})},accessLogExtra(e,t,i){let a=`${ot(t)} ${ot(i)}`;this.request("/other/access-log",{api_name:e,content:a})},accessLogApi(e,t,i,a){let n=`url:${t} p:${JSON.stringify(i)} res ${ot(a)}`;M.accessLog(e,n)}};function As(e){let t=e.enter_func,i=e.cancel_title,a=e.enter_title,n=e.cancel_func,r=!g(i);uni.hideKeyboard(),uni.showModal({title:e.title,content:e.msg,showCancel:r,cancelText:r?i:S("cancel"),confirmText:a||S("ok"),complete(o){o.confirm?g(t)||M.handleCallback(t):o.cancel&&(g(n)||M.handleCallback(n))}})}function Cs(e){let t=e.page_name,i=e.data;t=="inside_web"?Ui(i.route,!0):t=="safari"?Ui(i.route,!1):t=="web"?ge(i.route):t=="native"?Ds(i.route):t=="chat"&&(bt().indexOf("/pages/call/chat-view")==-1?ei(i.user_info):uni.$emit("event_no_connect_close_listener",{action:"chat_pri",user:i.user_info}))}function Ss(e){let t=e.event_key;if(g(t))return;let i=e.data;g(i)?uni.$emit(t):uni.$emit(t,i)}function ws(e){if(e.type==1){let i={user_info:{is_rest:0}};M.request("/user/update-info",i,!0).then(()=>{getApp().pubUser.is_rest=0,St(S("tips"),S("anchorTurnedOffRest"),"",S("gotIt"))})}}function Ds(e){return new Function("return "+e)()}function Es(e){bt().indexOf("/pagesDialog/stop_taking")==-1&&(getApp().globalData.appStopTaking=!0,getApp().socketDisconnect(),W("/pagesDialog/stop_taking",{},"stopTakingData",e))}function Ts(e){try{g(e)&&(e={}),e.times=new Date().getTime();let t=Object.keys(e).sort(),i={};for(let n=0,r=t.length;n<r;n++)i[t[n]]=e[t[n]];let a=Va(i).substr(1);return i.sign=Vt.md5(`${Vt.md5(a)}fMHjgD94yoc6TbB7sGoA`),i}catch(t){return e}}function Va(e,t){if(e==null)return"";try{let i="",a=typeof e;if(a=="string"||a=="number")i+="&"+t+"="+Ur(e);else if(a=="boolean")i+="&"+t+"="+(e?1:0);else for(let n in e){let r=t==null?n:t+vs(n);i+=Va(e[n],r)}return i}catch(i){return""}}function vs(e){return`${encodeURIComponent("[")}${e}${encodeURIComponent("]")}`}var L=(e,t)=>{let i=e.__vccOpts||e;for(let[a,n]of t)i[a]=n;return i};var ks=["titleIcon","titleIconRadius","subtitleText","subtitleSize","subtitleColor","subtitleOverflow","titleAlign","backgroundImage","backgroundRepeat","blurEffect"],Ls={props:{title:{type:String,default:""},titleIcon:{type:String,default:""},titleIconRadius:{type:String,default:""},subtitleText:{type:String,default:""},subtitleSize:{type:String,default:""},subtitleColor:{type:String,default:""},subtitleOverflow:{type:String,default:""},titleAlign:{type:String,default:""},backgroundImage:{type:String,default:""},backgroundRepeat:{type:String,default:""},blurEffect:{type:String,default:""},loading:{type:Boolean,default:!1},frontColor:{type:String,default:"#ffffff"},backgroundColor:{type:String,default:"#000000"},colorAnimationDuration:{type:Number,default:0},colorAnimationTimingFunc:{type:String,default:"linear"}},created(){let e=getCurrentPages(),t=e[e.length-1];this.__$page=t,this.$watch("title",()=>{this.setNavigationBarTitle()}),this.$watch("loading",()=>{this.setNavigationBarLoading()}),this.$watch(()=>[this.frontColor,this.backgroundColor,this.colorAnimationDuration,this.colorAnimationTimingFunc],()=>{this.setNavigationBarColor()}),this.__$webview=t.$getAppWebview(),ks.forEach(i=>{let a={};(this[i]||this[i].length>0)&&(a[i]=this[i]),this.setTitleNView(a),this.$watch(i,n=>{let r={};r[i]=n,this.setTitleNView(r)})})},beforeMount(){this.title&&this.setNavigationBarTitle(),this.setNavigationBarLoading(),this.setNavigationBarColor()},methods:{setNavigationBarTitle(){uni.setNavigationBarTitle({__page__:this.__$page,title:this.title})},setNavigationBarLoading(){uni[(this.loading?"show":"hide")+"NavigationBarLoading"]({__page__:this.__$page})},setNavigationBarColor(){uni.setNavigationBarColor({__page__:this.__$page,frontColor:this.frontColor,backgroundColor:this.backgroundColor,animation:{duration:this.colorAnimationDuration,timingFunc:this.colorAnimationTimingFunc}})},setTitleNView(e){let t=this.__$webview,i=t.getStyle();i&&i.titleNView&&t.setStyle({titleNView:e})}}};function Is(e,t,i,a,n,r){return(0,Y.openBlock)(),(0,Y.createElementBlock)("view",{style:{display:"none"},renderWhole:!0})}var xs=L(Ls,[["render",Is]]),Ns={name:"PageMeta",setup(e,{emit:t}){Ji(i=>{t("resize",i)})},props:{backgroundTextStyle:{type:String,default:"dark",validator(e){return["dark","light"].indexOf(e)!==-1}},backgroundColor:{type:String,default:"#ffffff"},backgroundColorTop:{type:String,default:"#ffffff"},backgroundColorBottom:{type:String,default:"#ffffff"},scrollTop:{type:String,default:""},scrollDuration:{type:Number,default:300},pageStyle:{type:String,default:""},enablePullDownRefresh:{type:[Boolean,String],default:!1},rootFontSize:{type:String,default:""}},created(){let e=getCurrentPages()[0];this.$pageVm=e.$vm||e,this._currentWebview=e.$getAppWebview(),this.enablePullDownRefresh&&this.setPullDownRefresh(this._currentWebview,!0),this.$watch("enablePullDownRefresh",t=>{this.setPullDownRefresh(this._currentWebview,t)}),this.$watch("backgroundTextStyle",()=>{this.setBackgroundTextStyle()}),this.$watch(()=>[this.rootFontSize,this.pageStyle],()=>{this.setPageMeta()}),this.$watch(()=>[this.backgroundColor,this.backgroundColorTop,this.backgroundColorBottom],()=>{this.setBackgroundColor()}),this.$watch(()=>[this.scrollTop,this.scrollDuration],()=>{this.pageScrollTo()})},beforeMount(){this.setBackgroundColor(),(this.rootFontSize||this.pageStyle)&&this.setPageMeta(),this.backgroundTextStyle&&this.setBackgroundTextStyle()},mounted(){this.scrollTop&&this.pageScrollTo()},methods:{setPullDownRefresh(e,t){e.setStyle({pullToRefresh:{support:t,style:plus.os.name==="Android"?"circle":"default"}})},setPageMeta(){uni.setPageMeta({pageStyle:this.pageStyle,rootFontSize:this.rootFontSize})},setBackgroundTextStyle(){},setBackgroundColor(){},pageScrollTo(){let e=String(this.scrollTop);e.indexOf("rpx")!==-1&&(e=uni.upx2px(e.replace("rpx",""))),e=parseFloat(e),!isNaN(e)&&uni.pageScrollTo({scrollTop:e,duration:this.scrollDuration,success:()=>{}})}}};function Os(e,t,i,a,n,r){return(0,Y.openBlock)(),(0,Y.createElementBlock)("view",{style:{display:"none"},renderWhole:!0},[(0,Y.renderSlot)(e.$slots,"default")])}var Rs=L(Ns,[["render",Os]]),Ms={props:{useBg1_1:{type:Boolean,default:!1},otherStyle:{type:String,default:""},enableRefresh:{type:Boolean,default:!1},title:{type:String,default:""}},data(){return{themeObj:getApp().globalData.themeObj}},computed:{style(){let e=`background:${this.useBg1_1?this.themeObj.color.bg1_1:this.themeObj.color.bg1};`;return g(this.otherStyle)||(e=e+this.otherStyle),e},navBarFontColor(){return this.themeObj.style==V.LIGHT?"#000000":"#FFFFFF"},navBarBgColor(){return this.themeObj.color.bg2}}};function Ps(e,t,i,a,n,r){let o=P((0,Y.resolveDynamicComponent)("navigation-bar"),xs),s=P((0,Y.resolveDynamicComponent)("page-meta"),Rs);return(0,Y.openBlock)(),(0,Y.createBlock)(s,{"page-style":r.style,"enable-pull-down-refresh":i.enableRefresh},{default:(0,Y.withCtx)(()=>[(0,Y.createVNode)(o,{title:i.title,"background-color":r.navBarBgColor,"front-color":r.navBarFontColor},null,8,["title","background-color","front-color"])]),_:1},8,["page-style","enable-pull-down-refresh"])}var oi=L(Ms,[["render",Ps]]),ja={data(){return{themeObj:getApp().globalData.themeObj,webStyle:!1,currentWebview:!1,loadTitleViewCount:0}},computed:{pageBgColor(){return this.useBg1_1?this.themeObj.color.bg1_1:this.themeObj.color.bg1},pageBg(){return{background:this.pageBgColor}},navBarFontColor(){return this.themeObj.style==V.LIGHT?"#000000":"#FFFFFF"}},methods:{initNavBarRBtn(e,t,i,a=""){this._setNavBar(e,t,i?this.themeObj.color.barBtn:this.themeObj.color.barBtnN,"14px",a)},initNavBarRBtnText(e,t,i="",a="14px"){let n=i||this.navBarFontColor;this._setNavBar(e,t,n,a)},initNavBarRBtnType(e,t,i){let a=i||(this.themeObj.style==V.LIGHT?"#000000":"#FFFFFF");this._setNavBarType(e,t,a)},initNavBarRBtnTextIcon(e,t,i="22px"){let a=this.themeObj.style==V.LIGHT?"#000000":"#FFFFFF";this._setNavBar(e,t,a,i)},initNavBarRImg(e,t){this._setNavBarImg(e,t)},initNavBarImgStyle(e,t){this._setNavBarImgStyle(e,t)},setNavBarRBtnStatus(e,t){this._setNavBarColor(e,t?this.themeObj.color.barBtn:this.themeObj.color.barBtnN)},setNavBarTitle(e){this._setNavBarTitle(e)},_setNavBarImgStyle(e,t){let i=this.webStyle.titleNView;if(i&&i.tags&&i.tags[t]){let a=i.tags[t].position,n=Object.assign(a,e);i.tags[t].position=n,this.currentWebview.setStyle({titleNView:i})}},_setNavBar(e,t,i,a,n){let r=this.webStyle.titleNView;n&&(r.titleText=n),r&&r.buttons&&r.buttons[t]&&(r.buttons[t].text=e,r.buttons[t].color=i,r.buttons[t].fontSize=a,this.currentWebview.setStyle({titleNView:r}))},_setNavBarType(e,t,i){let a=this.webStyle.titleNView;a&&a.buttons&&a.buttons[t]&&(a.buttons[t].type=e,a.buttons[t].color=i,this.currentWebview.setStyle({titleNView:a}))},_setNavBarImg(e,t){let i=this.webStyle.titleNView;i&&i.tags&&i.tags[t]&&(i.tags[t].src=e,this.currentWebview.setStyle({titleNView:i}))},_setNavBarColor(e,t){let i=this.webStyle.titleNView;i&&i.buttons&&i.buttons[e]&&(i.buttons[e].color=t,this.currentWebview.setStyle({titleNView:i}))},_setNavBarTitle(e=""){let t=this.webStyle.titleNView;t&&e&&(t.titleText=e,this.currentWebview.setStyle({titleNView:t}))},_setViewBg(e,t,i){try{if(this.webStyle=this.currentWebview.getStyle(),i&&typeof this.webStyle.titleNView=="undefined"&&this.loadTitleViewCount<10){this.loadTitleViewCount+=1,setTimeout(()=>{this._setViewBg(e,t)},100);return}this.webStyle.titleNView?(this.webStyle.titleNView.splitLine&&(this.webStyle.titleNView.splitLine.color=e),this.webStyle.titleNView.titleColor&&(this.webStyle.titleNView.titleColor=this.navBarFontColor),this.webStyle.titleNView.backgroundColor&&(this.webStyle.titleNView.backgroundColor=this.themeObj.color.bg2),this.currentWebview.setStyle({titleNView:this.webStyle.titleNView})):uni.setNavigationBarColor({frontColor:this.navBarFontColor}),this.webStyle.background=t,this.currentWebview.setStyle({background:t})}catch(a){z("error","at coms/theme.mixin.js:133","error theme.mixin.js catch ...",a)}}},onReady(){let e,t;this.themeObj.style==V.LIGHT?e="rgba(230,230,230,0.5)":e=this.themeObj.color.bg2,t=this.useBg1_1?this.themeObj.color.bg1_1:this.themeObj.color.bg1;let i=getCurrentPages(),a=i[i.length-1];if(!a)return;this.currentWebview=a.$getAppWebview();let n,r=this.currentWebview.getNavigationbar();g(r)||Object.keys(r).length<=0?n=!0:n=!1,this._setViewBg(e,t,n)}};var I=H($());var F=H($()),Fs={"l-img":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"place-img":{"":{position:"absolute",top:0,left:0}},"text-place":{"":{color:"#999999",position:"absolute",bottom:0,textAlign:"center"}}},Bs={name:"LImg",emits:["click","onError","onLoad"],props:{src:{type:String,default:""},mode:{type:String,default:"aspectFill"},w:{type:String,default:"0"},h:{type:String,default:"0"},radius:{type:String,default:"0"},lazyLoad:{type:Boolean,default:!1},fade:{type:Boolean,default:!0},placeType:{type:Number,default:0},placeW:{type:String,default:""},placeFontSize:{type:[String,Boolean],default:""},placeBottom:{type:String,default:""},border:{type:String,default:""},otherStyle:{type:Object,default(){return{}}},click:{type:Boolean,default:!0},isGif:{type:Boolean,default:!1},needStyle:{type:[String,Number],default:0},useCache:{type:Boolean,default:!1},fitWH:{type:String,default:""}},data(){return{errorCount:1,path:"",refresh:!0,darkDir:"",isLoad:!1,fitStr:""}},watch:{src(){this.isLoad=!1,this.path=this.parse()}},computed:{placeSrc(){return this.placeType==1?"/static/img_load_s.png":this.placeType==2?"/static/img_load_b.png":""},placeViewStyle(){let e={width:this.placeW,height:this.placeW,position:"relative"};return this.placeBottom&&(e.marginBottom=this.placeBottom),e},placeFontSizeVal(){return this.placeFontSize===!1?"":this.placeFontSize?this.placeFontSize:this.placeType==2?"24rpx":"16rpx"},borderStyle(){if(this.border=="")return{};let e={},t=this.border.split(" ");return e.borderWidth=t[0],e.borderStyle=t[1],e.borderColor=t[2],e},viewStyle(){let e={width:this.w,minWidth:this.w,height:this.h,minHeight:this.h};return this.setRadius(e)},imgStyle(){let e={width:this.w,height:this.h};return e=Object.assign(e,this.otherStyle),this.setRadius(e)},ossPathOriginal(){return this.isGif?getApp().globalData.ossPath:getApp().globalData.ossPicPath}},methods:{$str:S,clickImg(e){this.click&&this.$emit("click",e)},setRadius(e){let t=this.radius.split(" ");return t.length<=1?e.borderRadius=this.radius:(e.borderTopLeftRadius=t[0],e.borderTopRightRadius=t[1],e.borderBottomRightRadius=t[2],e.borderBottomLeftRadius=t[3]),e},onLoadError(){if(this.path){if(this.path.startsWith("http")){if(this.errorCount>2){this.isError=!0,this.$emit("onError");return}this.errorCount+=1,this.refresh=!1,setTimeout(()=>{this.refresh=!0},500);return}this.path=this.ossPathOriginal+this.darkDir+this.src,Aa(this.darkDir+this.src)}},onLoad(){this.isLoad=!0,this.$emit("onLoad")},parse(){let e;if(e=0,this.src.startsWith("/static"))return this.src;if(this.src.startsWith("s/")){let t=getApp().getAppFilePath(this.darkDir+this.src,e);if(!g(t))return t}return this.useCache||e&&te.isAndroid?this.isGif?he(this.fitStr+this.darkDir+this.src):ba(this.fitStr+this.darkDir+this.src):this.src.startsWith("file://")?this.src:this.src.startsWith("/var/mobile/")?"file://"+this.src:this.src.startsWith("/storage/")?this.src:this.ossPathOriginal+this.fitStr+this.darkDir+this.src}},created(){this.needStyle==1&&getApp().globalData.themeObj.style==V.DARK?this.darkDir="dark/":this.darkDir="",this.fitWH&&this.src.indexOf("fit-in")==-1&&(this.fitStr="fit-in/"+this.fitWH+"/"),this.path=this.parse()}};function Us(e,t,i,a,n,r){return(0,F.openBlock)(),(0,F.createElementBlock)("view",{class:"l-img",onClick:t[2]||(t[2]=(...o)=>r.clickImg&&r.clickImg(...o)),style:(0,F.normalizeStyle)([r.viewStyle,r.borderStyle]),renderWhole:!0},[(0,F.createElementVNode)("view",{class:"l-img",style:(0,F.normalizeStyle)([{position:"relative"},r.viewStyle])},[i.placeType&&!n.isLoad?((0,F.openBlock)(),(0,F.createElementBlock)("view",{key:0,style:(0,F.normalizeStyle)(r.placeViewStyle)},[(0,F.createElementVNode)("u-image",{src:r.placeSrc,style:(0,F.normalizeStyle)({width:i.placeW,height:i.placeW})},null,12,["src"]),r.placeFontSizeVal?((0,F.openBlock)(),(0,F.createElementBlock)("u-text",{key:0,class:"text-place",style:(0,F.normalizeStyle)({fontSize:r.placeFontSizeVal,width:i.placeW})},(0,F.toDisplayString)(r.$str("loading"))+"...",5)):(0,F.createCommentVNode)("",!0)],4)):(0,F.createCommentVNode)("",!0),n.refresh?((0,F.openBlock)(),(0,F.createElementBlock)("u-image",{key:1,onError:t[0]||(t[0]=(...o)=>r.onLoadError&&r.onLoadError(...o)),onLoad:t[1]||(t[1]=(...o)=>r.onLoad&&r.onLoad(...o)),src:n.path,mode:i.mode,lazyLoad:i.lazyLoad,fadeShow:i.fade,style:(0,F.normalizeStyle)([r.imgStyle,r.borderStyle]),class:"place-img"},null,44,["src","mode","lazyLoad","fadeShow"])):(0,F.createCommentVNode)("",!0)],4)],4)}var ie=L(Bs,[["render",Us],["styles",[Fs]]]);var p=H($());var Ee=H($());var Hs={id:"2852637",name:"uniui\u56FE\u6807\u5E93",font_family:"uniicons",css_prefix_text:"uniui-",description:"",glyphs:[{icon_id:"25027049",name:"yanse",font_class:"color",unicode:"e6cf",unicode_decimal:59087},{icon_id:"25027048",name:"wallet",font_class:"wallet",unicode:"e6b1",unicode_decimal:59057},{icon_id:"25015720",name:"settings-filled",font_class:"settings-filled",unicode:"e6ce",unicode_decimal:59086},{icon_id:"25015434",name:"shimingrenzheng-filled",font_class:"auth-filled",unicode:"e6cc",unicode_decimal:59084},{icon_id:"24934246",name:"shop-filled",font_class:"shop-filled",unicode:"e6cd",unicode_decimal:59085},{icon_id:"24934159",name:"staff-filled-01",font_class:"staff-filled",unicode:"e6cb",unicode_decimal:59083},{icon_id:"24932461",name:"VIP-filled",font_class:"vip-filled",unicode:"e6c6",unicode_decimal:59078},{icon_id:"24932462",name:"plus_circle_fill",font_class:"plus-filled",unicode:"e6c7",unicode_decimal:59079},{icon_id:"24932463",name:"folder_add-filled",font_class:"folder-add-filled",unicode:"e6c8",unicode_decimal:59080},{icon_id:"24932464",name:"yanse-filled",font_class:"color-filled",unicode:"e6c9",unicode_decimal:59081},{icon_id:"24932465",name:"tune-filled",font_class:"tune-filled",unicode:"e6ca",unicode_decimal:59082},{icon_id:"24932455",name:"a-rilidaka-filled",font_class:"calendar-filled",unicode:"e6c0",unicode_decimal:59072},{icon_id:"24932456",name:"notification-filled",font_class:"notification-filled",unicode:"e6c1",unicode_decimal:59073},{icon_id:"24932457",name:"wallet-filled",font_class:"wallet-filled",unicode:"e6c2",unicode_decimal:59074},{icon_id:"24932458",name:"paihangbang-filled",font_class:"medal-filled",unicode:"e6c3",unicode_decimal:59075},{icon_id:"24932459",name:"gift-filled",font_class:"gift-filled",unicode:"e6c4",unicode_decimal:59076},{icon_id:"24932460",name:"fire-filled",font_class:"fire-filled",unicode:"e6c5",unicode_decimal:59077},{icon_id:"24928001",name:"refreshempty",font_class:"refreshempty",unicode:"e6bf",unicode_decimal:59071},{icon_id:"24926853",name:"location-ellipse",font_class:"location-filled",unicode:"e6af",unicode_decimal:59055},{icon_id:"24926735",name:"person-filled",font_class:"person-filled",unicode:"e69d",unicode_decimal:59037},{icon_id:"24926703",name:"personadd-filled",font_class:"personadd-filled",unicode:"e698",unicode_decimal:59032},{icon_id:"24923351",name:"back",font_class:"back",unicode:"e6b9",unicode_decimal:59065},{icon_id:"24923352",name:"forward",font_class:"forward",unicode:"e6ba",unicode_decimal:59066},{icon_id:"24923353",name:"arrowthinright",font_class:"arrow-right",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923353",name:"arrowthinright",font_class:"arrowthinright",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrow-left",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrowthinleft",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923355",name:"arrowthinup",font_class:"arrow-up",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923355",name:"arrowthinup",font_class:"arrowthinup",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923356",name:"arrowthindown",font_class:"arrow-down",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923356",name:"arrowthindown",font_class:"arrowthindown",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923349",name:"arrowdown",font_class:"bottom",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923349",name:"arrowdown",font_class:"arrowdown",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923346",name:"arrowright",font_class:"right",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923346",name:"arrowright",font_class:"arrowright",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923347",name:"arrowup",font_class:"top",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923347",name:"arrowup",font_class:"arrowup",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923348",name:"arrowleft",font_class:"left",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923348",name:"arrowleft",font_class:"arrowleft",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923334",name:"eye",font_class:"eye",unicode:"e651",unicode_decimal:58961},{icon_id:"24923335",name:"eye-filled",font_class:"eye-filled",unicode:"e66a",unicode_decimal:58986},{icon_id:"24923336",name:"eye-slash",font_class:"eye-slash",unicode:"e6b3",unicode_decimal:59059},{icon_id:"24923337",name:"eye-slash-filled",font_class:"eye-slash-filled",unicode:"e6b4",unicode_decimal:59060},{icon_id:"24923305",name:"info-filled",font_class:"info-filled",unicode:"e649",unicode_decimal:58953},{icon_id:"24923299",name:"reload-01",font_class:"reload",unicode:"e6b2",unicode_decimal:59058},{icon_id:"24923195",name:"mic_slash_fill",font_class:"micoff-filled",unicode:"e6b0",unicode_decimal:59056},{icon_id:"24923165",name:"map-pin-ellipse",font_class:"map-pin-ellipse",unicode:"e6ac",unicode_decimal:59052},{icon_id:"24923166",name:"map-pin",font_class:"map-pin",unicode:"e6ad",unicode_decimal:59053},{icon_id:"24923167",name:"location",font_class:"location",unicode:"e6ae",unicode_decimal:59054},{icon_id:"24923064",name:"starhalf",font_class:"starhalf",unicode:"e683",unicode_decimal:59011},{icon_id:"24923065",name:"star",font_class:"star",unicode:"e688",unicode_decimal:59016},{icon_id:"24923066",name:"star-filled",font_class:"star-filled",unicode:"e68f",unicode_decimal:59023},{icon_id:"24899646",name:"a-rilidaka",font_class:"calendar",unicode:"e6a0",unicode_decimal:59040},{icon_id:"24899647",name:"fire",font_class:"fire",unicode:"e6a1",unicode_decimal:59041},{icon_id:"24899648",name:"paihangbang",font_class:"medal",unicode:"e6a2",unicode_decimal:59042},{icon_id:"24899649",name:"font",font_class:"font",unicode:"e6a3",unicode_decimal:59043},{icon_id:"24899650",name:"gift",font_class:"gift",unicode:"e6a4",unicode_decimal:59044},{icon_id:"24899651",name:"link",font_class:"link",unicode:"e6a5",unicode_decimal:59045},{icon_id:"24899652",name:"notification",font_class:"notification",unicode:"e6a6",unicode_decimal:59046},{icon_id:"24899653",name:"staff",font_class:"staff",unicode:"e6a7",unicode_decimal:59047},{icon_id:"24899654",name:"VIP",font_class:"vip",unicode:"e6a8",unicode_decimal:59048},{icon_id:"24899655",name:"folder_add",font_class:"folder-add",unicode:"e6a9",unicode_decimal:59049},{icon_id:"24899656",name:"tune",font_class:"tune",unicode:"e6aa",unicode_decimal:59050},{icon_id:"24899657",name:"shimingrenzheng",font_class:"auth",unicode:"e6ab",unicode_decimal:59051},{icon_id:"24899565",name:"person",font_class:"person",unicode:"e699",unicode_decimal:59033},{icon_id:"24899566",name:"email-filled",font_class:"email-filled",unicode:"e69a",unicode_decimal:59034},{icon_id:"24899567",name:"phone-filled",font_class:"phone-filled",unicode:"e69b",unicode_decimal:59035},{icon_id:"24899568",name:"phone",font_class:"phone",unicode:"e69c",unicode_decimal:59036},{icon_id:"24899570",name:"email",font_class:"email",unicode:"e69e",unicode_decimal:59038},{icon_id:"24899571",name:"personadd",font_class:"personadd",unicode:"e69f",unicode_decimal:59039},{icon_id:"24899558",name:"chatboxes-filled",font_class:"chatboxes-filled",unicode:"e692",unicode_decimal:59026},{icon_id:"24899559",name:"contact",font_class:"contact",unicode:"e693",unicode_decimal:59027},{icon_id:"24899560",name:"chatbubble-filled",font_class:"chatbubble-filled",unicode:"e694",unicode_decimal:59028},{icon_id:"24899561",name:"contact-filled",font_class:"contact-filled",unicode:"e695",unicode_decimal:59029},{icon_id:"24899562",name:"chatboxes",font_class:"chatboxes",unicode:"e696",unicode_decimal:59030},{icon_id:"24899563",name:"chatbubble",font_class:"chatbubble",unicode:"e697",unicode_decimal:59031},{icon_id:"24881290",name:"upload-filled",font_class:"upload-filled",unicode:"e68e",unicode_decimal:59022},{icon_id:"24881292",name:"upload",font_class:"upload",unicode:"e690",unicode_decimal:59024},{icon_id:"24881293",name:"weixin",font_class:"weixin",unicode:"e691",unicode_decimal:59025},{icon_id:"24881274",name:"compose",font_class:"compose",unicode:"e67f",unicode_decimal:59007},{icon_id:"24881275",name:"qq",font_class:"qq",unicode:"e680",unicode_decimal:59008},{icon_id:"24881276",name:"download-filled",font_class:"download-filled",unicode:"e681",unicode_decimal:59009},{icon_id:"24881277",name:"pengyouquan",font_class:"pyq",unicode:"e682",unicode_decimal:59010},{icon_id:"24881279",name:"sound",font_class:"sound",unicode:"e684",unicode_decimal:59012},{icon_id:"24881280",name:"trash-filled",font_class:"trash-filled",unicode:"e685",unicode_decimal:59013},{icon_id:"24881281",name:"sound-filled",font_class:"sound-filled",unicode:"e686",unicode_decimal:59014},{icon_id:"24881282",name:"trash",font_class:"trash",unicode:"e687",unicode_decimal:59015},{icon_id:"24881284",name:"videocam-filled",font_class:"videocam-filled",unicode:"e689",unicode_decimal:59017},{icon_id:"24881285",name:"spinner-cycle",font_class:"spinner-cycle",unicode:"e68a",unicode_decimal:59018},{icon_id:"24881286",name:"weibo",font_class:"weibo",unicode:"e68b",unicode_decimal:59019},{icon_id:"24881288",name:"videocam",font_class:"videocam",unicode:"e68c",unicode_decimal:59020},{icon_id:"24881289",name:"download",font_class:"download",unicode:"e68d",unicode_decimal:59021},{icon_id:"24879601",name:"help",font_class:"help",unicode:"e679",unicode_decimal:59001},{icon_id:"24879602",name:"navigate-filled",font_class:"navigate-filled",unicode:"e67a",unicode_decimal:59002},{icon_id:"24879603",name:"plusempty",font_class:"plusempty",unicode:"e67b",unicode_decimal:59003},{icon_id:"24879604",name:"smallcircle",font_class:"smallcircle",unicode:"e67c",unicode_decimal:59004},{icon_id:"24879605",name:"minus-filled",font_class:"minus-filled",unicode:"e67d",unicode_decimal:59005},{icon_id:"24879606",name:"micoff",font_class:"micoff",unicode:"e67e",unicode_decimal:59006},{icon_id:"24879588",name:"closeempty",font_class:"closeempty",unicode:"e66c",unicode_decimal:58988},{icon_id:"24879589",name:"clear",font_class:"clear",unicode:"e66d",unicode_decimal:58989},{icon_id:"24879590",name:"navigate",font_class:"navigate",unicode:"e66e",unicode_decimal:58990},{icon_id:"24879591",name:"minus",font_class:"minus",unicode:"e66f",unicode_decimal:58991},{icon_id:"24879592",name:"image",font_class:"image",unicode:"e670",unicode_decimal:58992},{icon_id:"24879593",name:"mic",font_class:"mic",unicode:"e671",unicode_decimal:58993},{icon_id:"24879594",name:"paperplane",font_class:"paperplane",unicode:"e672",unicode_decimal:58994},{icon_id:"24879595",name:"close",font_class:"close",unicode:"e673",unicode_decimal:58995},{icon_id:"24879596",name:"help-filled",font_class:"help-filled",unicode:"e674",unicode_decimal:58996},{icon_id:"24879597",name:"plus-filled",font_class:"paperplane-filled",unicode:"e675",unicode_decimal:58997},{icon_id:"24879598",name:"plus",font_class:"plus",unicode:"e676",unicode_decimal:58998},{icon_id:"24879599",name:"mic-filled",font_class:"mic-filled",unicode:"e677",unicode_decimal:58999},{icon_id:"24879600",name:"image-filled",font_class:"image-filled",unicode:"e678",unicode_decimal:59e3},{icon_id:"24855900",name:"locked-filled",font_class:"locked-filled",unicode:"e668",unicode_decimal:58984},{icon_id:"24855901",name:"info",font_class:"info",unicode:"e669",unicode_decimal:58985},{icon_id:"24855903",name:"locked",font_class:"locked",unicode:"e66b",unicode_decimal:58987},{icon_id:"24855884",name:"camera-filled",font_class:"camera-filled",unicode:"e658",unicode_decimal:58968},{icon_id:"24855885",name:"chat-filled",font_class:"chat-filled",unicode:"e659",unicode_decimal:58969},{icon_id:"24855886",name:"camera",font_class:"camera",unicode:"e65a",unicode_decimal:58970},{icon_id:"24855887",name:"circle",font_class:"circle",unicode:"e65b",unicode_decimal:58971},{icon_id:"24855888",name:"checkmarkempty",font_class:"checkmarkempty",unicode:"e65c",unicode_decimal:58972},{icon_id:"24855889",name:"chat",font_class:"chat",unicode:"e65d",unicode_decimal:58973},{icon_id:"24855890",name:"circle-filled",font_class:"circle-filled",unicode:"e65e",unicode_decimal:58974},{icon_id:"24855891",name:"flag",font_class:"flag",unicode:"e65f",unicode_decimal:58975},{icon_id:"24855892",name:"flag-filled",font_class:"flag-filled",unicode:"e660",unicode_decimal:58976},{icon_id:"24855893",name:"gear-filled",font_class:"gear-filled",unicode:"e661",unicode_decimal:58977},{icon_id:"24855894",name:"home",font_class:"home",unicode:"e662",unicode_decimal:58978},{icon_id:"24855895",name:"home-filled",font_class:"home-filled",unicode:"e663",unicode_decimal:58979},{icon_id:"24855896",name:"gear",font_class:"gear",unicode:"e664",unicode_decimal:58980},{icon_id:"24855897",name:"smallcircle-filled",font_class:"smallcircle-filled",unicode:"e665",unicode_decimal:58981},{icon_id:"24855898",name:"map-filled",font_class:"map-filled",unicode:"e666",unicode_decimal:58982},{icon_id:"24855899",name:"map",font_class:"map",unicode:"e667",unicode_decimal:58983},{icon_id:"24855825",name:"refresh-filled",font_class:"refresh-filled",unicode:"e656",unicode_decimal:58966},{icon_id:"24855826",name:"refresh",font_class:"refresh",unicode:"e657",unicode_decimal:58967},{icon_id:"24855808",name:"cloud-upload",font_class:"cloud-upload",unicode:"e645",unicode_decimal:58949},{icon_id:"24855809",name:"cloud-download-filled",font_class:"cloud-download-filled",unicode:"e646",unicode_decimal:58950},{icon_id:"24855810",name:"cloud-download",font_class:"cloud-download",unicode:"e647",unicode_decimal:58951},{icon_id:"24855811",name:"cloud-upload-filled",font_class:"cloud-upload-filled",unicode:"e648",unicode_decimal:58952},{icon_id:"24855813",name:"redo",font_class:"redo",unicode:"e64a",unicode_decimal:58954},{icon_id:"24855814",name:"images-filled",font_class:"images-filled",unicode:"e64b",unicode_decimal:58955},{icon_id:"24855815",name:"undo-filled",font_class:"undo-filled",unicode:"e64c",unicode_decimal:58956},{icon_id:"24855816",name:"more",font_class:"more",unicode:"e64d",unicode_decimal:58957},{icon_id:"24855817",name:"more-filled",font_class:"more-filled",unicode:"e64e",unicode_decimal:58958},{icon_id:"24855818",name:"undo",font_class:"undo",unicode:"e64f",unicode_decimal:58959},{icon_id:"24855819",name:"images",font_class:"images",unicode:"e650",unicode_decimal:58960},{icon_id:"24855821",name:"paperclip",font_class:"paperclip",unicode:"e652",unicode_decimal:58962},{icon_id:"24855822",name:"settings",font_class:"settings",unicode:"e653",unicode_decimal:58963},{icon_id:"24855823",name:"search",font_class:"search",unicode:"e654",unicode_decimal:58964},{icon_id:"24855824",name:"redo-filled",font_class:"redo-filled",unicode:"e655",unicode_decimal:58965},{icon_id:"24841702",name:"list",font_class:"list",unicode:"e644",unicode_decimal:58948},{icon_id:"24841489",name:"mail-open-filled",font_class:"mail-open-filled",unicode:"e63a",unicode_decimal:58938},{icon_id:"24841491",name:"hand-thumbsdown-filled",font_class:"hand-down-filled",unicode:"e63c",unicode_decimal:58940},{icon_id:"24841492",name:"hand-thumbsdown",font_class:"hand-down",unicode:"e63d",unicode_decimal:58941},{icon_id:"24841493",name:"hand-thumbsup-filled",font_class:"hand-up-filled",unicode:"e63e",unicode_decimal:58942},{icon_id:"24841494",name:"hand-thumbsup",font_class:"hand-up",unicode:"e63f",unicode_decimal:58943},{icon_id:"24841496",name:"heart-filled",font_class:"heart-filled",unicode:"e641",unicode_decimal:58945},{icon_id:"24841498",name:"mail-open",font_class:"mail-open",unicode:"e643",unicode_decimal:58947},{icon_id:"24841488",name:"heart",font_class:"heart",unicode:"e639",unicode_decimal:58937},{icon_id:"24839963",name:"loop",font_class:"loop",unicode:"e633",unicode_decimal:58931},{icon_id:"24839866",name:"pulldown",font_class:"pulldown",unicode:"e632",unicode_decimal:58930},{icon_id:"24813798",name:"scan",font_class:"scan",unicode:"e62a",unicode_decimal:58922},{icon_id:"24813786",name:"bars",font_class:"bars",unicode:"e627",unicode_decimal:58919},{icon_id:"24813788",name:"cart-filled",font_class:"cart-filled",unicode:"e629",unicode_decimal:58921},{icon_id:"24813790",name:"checkbox",font_class:"checkbox",unicode:"e62b",unicode_decimal:58923},{icon_id:"24813791",name:"checkbox-filled",font_class:"checkbox-filled",unicode:"e62c",unicode_decimal:58924},{icon_id:"24813794",name:"shop",font_class:"shop",unicode:"e62f",unicode_decimal:58927},{icon_id:"24813795",name:"headphones",font_class:"headphones",unicode:"e630",unicode_decimal:58928},{icon_id:"24813796",name:"cart",font_class:"cart",unicode:"e631",unicode_decimal:58929}]},Ws="/static/uniicons.ttf",Gs={"uni-icons":{"":{fontFamily:"uniicons",textDecoration:"none",textAlign:"center"}}},Vs=weex.requireModule("dom");Vs.addRule("fontFace",{fontFamily:"uniicons",src:"url('"+Ws+"')"});var js={name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""}},data(){return{icons:Hs.glyphs}},computed:{unicode(){let e=this.icons.find(t=>t.font_class===this.type);return e?unescape(`%u${e.unicode}`):""}},methods:{_onClick(e){this.$emit("click",e)}}};function $s(e,t,i,a,n,r){return(0,Ee.openBlock)(),(0,Ee.createElementBlock)("u-text",{style:(0,Ee.normalizeStyle)({color:i.color,"font-size":i.size}),class:"uni-icons",onClick:t[0]||(t[0]=(...o)=>r._onClick&&r._onClick(...o))},(0,Ee.toDisplayString)(r.unicode),5)}var Ae=L(js,[["render",$s],["styles",[Gs]]]);var fe=H($());var Ks=qi("animation"),Et=class{constructor(t,i){this.options=t,this.animation=uni.createAnimation(t),this.currentStepAnimates={},this.next=0,this.$=i}_nvuePushAnimates(t,i){let a=this.currentStepAnimates[this.next],n={};if(a?n=a:n={styles:{},config:{}},Ka.includes(t)){n.styles.transform||(n.styles.transform="");let r="";t==="rotate"&&(r="deg"),n.styles.transform+=`${t}(${i+r}) `}else n.styles[t]=`${i}`;this.currentStepAnimates[this.next]=n}_animateRun(t={},i={}){let a=this.$.$refs.ani.ref;if(a)return new Promise((n,r)=>{Ks.transition(a,It({styles:t},i),o=>{n()})})}_nvueNextAnimate(t,i=0,a){let n=t[i];if(n){let{styles:r,config:o}=n;this._animateRun(r,o).then(()=>{i+=1,this._nvueNextAnimate(t,i,a)})}else this.currentStepAnimates={},typeof a=="function"&&a(),this.isEnd=!0}step(t={}){return this.currentStepAnimates[this.next].config=Object.assign({},this.options,t),this.currentStepAnimates[this.next].styles.transformOrigin=this.currentStepAnimates[this.next].config.transformOrigin,this.next++,this}run(t){this.isEnd=!1,this.$.$refs.ani&&this.$.$refs.ani.ref&&(this._nvueNextAnimate(this.currentStepAnimates,0,t),this.next=0)}},Ka=["matrix","matrix3d","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","translate","translate3d","translateX","translateY","translateZ"],zs=["opacity","backgroundColor"],Ys=["width","height","left","right","top","bottom"];Ka.concat(zs,Ys).forEach(e=>{Et.prototype[e]=function(...t){return this._nvuePushAnimates(e,t),this}});function $a(e,t){if(t)return clearTimeout(t.timer),new Et(e,t)}var qs={name:"uniTransition",emits:["click","change"],props:{show:{type:Boolean,default:!1},modeClass:{type:[Array,String],default(){return"fade"}},duration:{type:Number,default:300},styles:{type:Object,default(){return{}}},customClass:{type:String,default:""}},data(){return{isShow:!1,transform:"",opacity:1,animationData:{},durationTime:300,config:{}}},watch:{show:{handler(e){e?this.open():this.isShow&&this.close()},immediate:!0}},computed:{stylesObject(){let e=yi(It({},this.styles),{"transition-duration":this.duration/1e3+"s"}),t="";for(let i in e){let a=this.toLine(i);t+=a+":"+e[i]+";"}return t},transformStyles(){return"transform:"+this.transform+";opacity:"+this.opacity+";"+this.stylesObject}},created(){this.config={duration:this.duration,timingFunction:"ease",transformOrigin:"50% 50%",delay:0},this.durationTime=this.duration},methods:{init(e={}){e.duration&&(this.durationTime=e.duration),this.animation=$a(Object.assign(this.config,e),this)},onClick(){this.$emit("click",{detail:this.isShow})},step(e,t={}){if(this.animation){for(let i in e)try{typeof e[i]=="object"?this.animation[i](...e[i]):this.animation[i](e[i])}catch(a){z("error","at uni_modules/uni-transition/components/uni-transition/uni-transition.vue:139",`\u65B9\u6CD5 ${i} \u4E0D\u5B58\u5728`)}return this.animation.step(t),this}},run(e){this.animation&&this.animation.run(e)},open(){clearTimeout(this.timer),this.transform="",this.isShow=!0;let{opacity:e,transform:t}=this.styleInit(!1);typeof e!="undefined"&&(this.opacity=e),this.transform=t,this.$nextTick(()=>{this.timer=setTimeout(()=>{this.animation=$a(this.config,this),this.tranfromInit(!1).step(),this.animation.run(),this.$emit("change",{detail:this.isShow})},20)})},close(e){this.animation&&this.tranfromInit(!0).step().run(()=>{this.isShow=!1,this.animationData=null,this.animation=null;let{opacity:t,transform:i}=this.styleInit(!1);this.opacity=t||1,this.transform=i,this.$emit("change",{detail:this.isShow})})},styleInit(e){let t={transform:""},i=(a,n)=>{n==="fade"?t.opacity=this.animationType(a)[n]:t.transform+=this.animationType(a)[n]+" "};return typeof this.modeClass=="string"?i(e,this.modeClass):this.modeClass.forEach(a=>{i(e,a)}),t},tranfromInit(e){let t=(i,a)=>{let n=null;a==="fade"?n=i?0:1:(n=i?"-100%":"0",a==="zoom-in"&&(n=i?.8:1),a==="zoom-out"&&(n=i?1.2:1),a==="slide-right"&&(n=i?"100%":"0"),a==="slide-bottom"&&(n=i?"100%":"0")),this.animation[this.animationMode()[a]](n)};return typeof this.modeClass=="string"?t(e,this.modeClass):this.modeClass.forEach(i=>{t(e,i)}),this.animation},animationType(e){return{fade:e?1:0,"slide-top":`translateY(${e?"0":"-100%"})`,"slide-right":`translateX(${e?"0":"100%"})`,"slide-bottom":`translateY(${e?"0":"100%"})`,"slide-left":`translateX(${e?"0":"-100%"})`,"zoom-in":`scaleX(${e?1:.8}) scaleY(${e?1:.8})`,"zoom-out":`scaleX(${e?1:1.2}) scaleY(${e?1:1.2})`}},animationMode(){return{fade:"opacity","slide-top":"translateY","slide-right":"translateX","slide-bottom":"translateY","slide-left":"translateX","zoom-in":"scale","zoom-out":"scale"}},toLine(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}}};function Js(e,t,i,a,n,r){return n.isShow?((0,fe.openBlock)(),(0,fe.createElementBlock)("view",{key:0,ref:"ani",animation:n.animationData,class:(0,fe.normalizeClass)(i.customClass),style:(0,fe.normalizeStyle)(r.transformStyles),onClick:t[0]||(t[0]=(...o)=>r.onClick&&r.onClick(...o)),renderWhole:!0},[(0,fe.renderSlot)(e.$slots,"default")],14,["animation"])):(0,fe.createCommentVNode)("",!0)}var si=L(qs,[["render",Js]]);var He=H($()),Xs={emits:["onEvent"],props:{src:{type:String,default:""},autoPlay:{type:Boolean,default:!1},loops:{type:Number,default:0},repeatMode:{type:Number,default:1},frame:{type:Number,default:0},progress:{type:Number,default:0},speed:{type:Number,default:1},eventStep:{type:Boolean,default:!1}},data(){return{refView:null}},computed:{params(){return{src:ha(he(this.src),!1),autoPlay:this.autoPlay,loops:this.loops,repeatMode:this.repeatMode,initFrame:this.frame,progress:this.progress,speed:this.speed,eventStep:this.eventStep}}},methods:{event(e){g(e)||typeof e.detail=="undefined"||this.$emit("onEvent",e.detail)},play(){this.$refs.lottie&&this.$refs.lottie.play()},pause(){this.$refs.lottie&&this.$refs.lottie.pause()},resume(){this.$refs.lottie&&this.$refs.lottie.resume()},stop(){this.$refs.lottie&&this.$refs.lottie.stop()},setFrame(e){this.$refs.lottie&&this.$refs.lottie.setFrame(e)},setProgress(e){this.$refs.lottie&&this.$refs.lottie.setProgress(e)},setSpeed(e){this.$refs.lottie&&this.$refs.lottie.setSpeed(e)},setEventStep(e){this.$refs.lottie&&this.$refs.lottie.setEventStep(e)}},created(){}};function Zs(e,t,i,a,n,r){let o=(0,He.resolveComponent)("nav-anim-lottie");return(0,He.openBlock)(),(0,He.createBlock)(o,{ref:"lottie",params:r.params,onEvent:r.event},null,8,["params","onEvent"])}var za=L(Xs,[["render",Zs]]);var Ya="call_evaluate_label_res";function Ja(){return new Promise(e=>{let t=G(Ya),i=Je();if(g(t)||g(t.res[i])||getApp().globalData.callEvaluateVersion>parseInt(t.version))M.request("/chat/call/tap-reason",{}).then(a=>{let n=a.data.reason_list,r=Zt(JSON.stringify(t));g(r)&&(r={}),g(r.res)&&(r.res={}),r.res[i]=n;let o={version:a.data.version,res:r.res};xe(Ya,o);let s=qa(n);e(s)});else{let a=qa(t.res[i]);e(a)}})}function qa(e){return be()?e.filter(t=>t.identity!=1):e.filter(t=>t.identity!=2)}var Xa={},Za={props:{src:{type:String,default:""},w:{type:String,default:"0"},h:{type:String,default:"0"}},data(){return{svgaPath:"",isHide:!1}},created(){he(this.src,e=>{this.svgaPath=e})}};function Qs(e,t,i,a,n,r){return(0,p.openBlock)(),(0,p.createElementBlock)("div",{id:"renderScript",class:"view-anim",style:(0,p.normalizeStyle)({width:i.w,height:i.h}),svgaPath:n.svgaPath,"change:svgaPath":e.renderScript.animPathChange,isHide:n.isHide,"change:isHide":e.renderScript.isHideChange},null,12,["svgaPath","change:svgaPath","isHide","change:isHide"])}typeof Xa=="function"&&Xa(Za);var el=L(Za,[["render",Qs]]),tl={"view-container":{"":{color:"#333333",position:"fixed",zIndex:11111}},center:{"":{flexDirection:"row",alignItems:"center",justifyContent:"flex-start"}},"center-align":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"center-between":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},"view-evaluate":{"":{flex:1,backgroundColor:"#FFFFFF",boxShadow:"0 4rpx 20rpx 0 rgba(0, 0, 0, 0.1), 0 0 12rpx 0 rgba(0, 0, 0, 0.1)",borderRadius:"16rpx",borderWidth:"2rpx",borderStyle:"solid",borderColor:"rgba(0,0,0,0.15)",paddingTop:"24rpx",paddingRight:"20rpx",paddingBottom:"24rpx",paddingLeft:"20rpx",boxSizing:"border-box"}},"view-header":{"":{flexDirection:"row",flex:1,alignItems:"center",justifyContent:"space-between"}},"like-wrap":{"":{height:"60rpx",backgroundColor:"#F1F3F6",borderRadius:"30rpx",paddingTop:0,paddingRight:"16rpx",paddingBottom:0,paddingLeft:"16rpx",marginLeft:"20rpx"}},"split-line":{"":{height:"2rpx",backgroundColor:"rgba(0,0,0,0.1)",transform:"scaleY(0.5)",transformOrigin:"50% 100%",marginTop:"12rpx"}},"split-line-ver":{"":{width:"2rpx",height:"28rpx",backgroundColor:"rgba(0,0,0,0.1)",marginTop:0,marginRight:"12rpx",marginBottom:0,marginLeft:"12rpx"}},"enjoy-text":{"":{lineHeight:"22rpx",marginTop:"10rpx",fontSize:"20rpx",color:"#666666",lines:1,overflow:"hidden",textOverflow:"ellipsis"}},"close-icon":{"":{position:"absolute",top:0,right:0,paddingLeft:"20rpx",paddingBottom:"20rpx"}},"close-bg":{".close-icon ":{minWidth:"16px",minHeight:"16px",width:16,height:16,borderRadius:8,backgroundColor:"#FFFFFF",borderWidth:"2rpx",borderStyle:"solid",borderColor:"rgba(0,0,0,0.1)"}},"report-label":{"":{backgroundColor:"#F1F3F6",borderRadius:"8rpx",paddingTop:0,paddingRight:"28rpx",paddingBottom:0,paddingLeft:"28rpx",minWidth:"max-content",borderWidth:"2rpx",borderStyle:"solid",borderColor:"#F1F3F6",marginTop:"12rpx",marginRight:"12rpx"}},"report-text":{".report-label ":{height:"44rpx",lineHeight:"44rpx",minWidth:"max-content",fontSize:"20rpx"}},active:{"":{"!borderWidth":"2rpx","!borderStyle":"solid","!borderColor":"#FF4477","!backgroundColor":"rgba(255,68,119,0.1)"}},"input-wrap":{"":{height:"56rpx",borderRadius:"4rpx",borderWidth:"2rpx",borderStyle:"solid",borderColor:"rgba(0,0,0,0.1)",paddingTop:0,paddingRight:"12rpx",paddingBottom:0,paddingLeft:"12rpx",marginTop:"12rpx"}},"reason-tips":{"":{marginTop:"10rpx",fontSize:"20rpx",color:"#999999"}},"reason-input":{"":{marginLeft:"16rpx",fontSize:"20rpx",flex:1}},"submit-btn":{"":{backgroundImage:"linear-gradient(to right, #FF00BD, #FF5954)",borderRadius:"12rpx",marginTop:"20rpx",height:"56rpx"}},"submit-text":{".submit-btn ":{textAlign:"center",color:"#FFFFFF",lineHeight:"56rpx",fontSize:"22rpx"}},"nickname-text":{"":{lineHeight:"28rpx",fontSize:"24rpx",fontWeight:"600",lines:1,overflow:"hidden",textOverflow:"ellipsis"}}},il={components:{Lottie:za,LSvga:el,UniIcons:Ae,LImg:ie,UniTransition:si},props:{id:{type:String,default:""},isTab:{type:Boolean,default:!1},noNavbar:{type:Boolean,default:!1}},data(){return{show:!1,userInfo:{},closeTimer:!1,roomId:0,evaluateId:"",isUnlike:!1,reasonList:[],pageShow:!1,inputReason:"",chooseIds:[],hasClick:!1,scrollViewW:getApp().globalData.window.width-88,windowInfo:getApp().globalData.window,cursorSpacing:uni.upx2px(126),hasLike:!1,hasUnlike:!1,showPath:!1,isFocus:!1,keyboardH:0,eventPathKey:""}},computed:{viewStyle(){let e={};return this.isUnlike?(e.width=this.windowInfo.width+"px",this.isTab||this.noNavbar?e.height=this.windowInfo.height+"px":e.height=this.windowInfo.height-this.windowInfo.statusBarHeight-this.windowInfo.navBarHeight+"px",e.left=0,e.top=0):(e.width=this.windowInfo.width-72+"px",e.bottom=this.contentBottom+"px",e.left="36px"),e},contentStyle(){let e={},t=this.isTab?50:0,i=this.isTab?20:34;if(this.isUnlike){let a=this.windowInfo.safeBottom+t+i;e.position="absolute",e.left="36px",this.isFocus&&(a=this.keyboardH+2),e.bottom=a+"px"}return e.width=this.windowInfo.width-72+"px",e},contentBottom(){if(this.isTab)return 20;let e=this.windowInfo.safeBottom;return e+=34},nicknameWidth(){let t=this.windowInfo.width-88-uni.upx2px(324);return this.ageText&&(t-=uni.upx2px(50)),t},ageText(){let e="";return this.userInfo.birthday&&(e=", "+yt(this.userInfo.birthday)),e},enjoyText(){let e=ma(this.userInfo.sex);return S("enjoyCallWithOther",{her:e})},enjoyTextWidth(){return this.windowInfo.width-88-uni.upx2px(324)}},methods:{$str:S,clickView(e){e&&e.stopPropagation();let t=this.$refs.inputReason;t&&t.blur&&t.blur()},clickClose(){this.pageShow&&(uni.hideKeyboard(),uni.offKeyboardHeightChange(this.onKeyboardChange),this.show=!1,this.pageShow=!1,this.$nextTick(()=>{this.inputReason="",this.chooseIds=[],this.hasClick=!1,this.hasLike=!1,this.hasUnlike=!1,this.isUnlike=!1,this.evaluateId="",this.roomId=0,this.userInfo={},this.isFocus=!1}))},clickSubmit(e){if(e&&e.stopPropagation(),g(this.chooseIds)&&g(this.inputReason))wt(S("callEvaluateFeedbackTips")),this.clickClose();else{let t={evaluate_id:this.evaluateId};g(this.chooseIds)||(t.reason=this.chooseIds.join(",")),g(this.inputReason)||(t.content=this.inputReason),M.request("/chat/call/tap-record",t,!0,!0).then(()=>{this.clickClose(!1),wt(S("callEvaluateFeedbackTips"))})}},clickReportItem(e,t){e&&e.stopPropagation();let i=this.chooseIds.indexOf(t);i==-1?this.chooseIds.push(t):this.chooseIds.splice(i,1)},clickLike(e){e&&e.stopPropagation(),!this.hasClick&&(this.hasClick=!0,this.hasLike=!0,this.reqEvaluate(1))},clickUnlike(e){e&&e.stopPropagation(),!this.hasClick&&(this.hasClick=!0,this.hasUnlike=!0,this.$nextTick(()=>{this.reqEvaluate(2).then(()=>Ja()).then(t=>{this.parseReason(t),this.$nextTick(()=>{this.isUnlike=!0})})}))},startTimer(e){this.clearTimer(),this.closeTimer=setTimeout(()=>{this.clearTimer(),this.show=!1},e*1e3)},clearTimer(){this.closeTimer&&clearTimeout(this.closeTimer)},preventHandler(){},onKeyboardChange(e){this.keyboardH=e.height,this.isFocus=e.height>0},reqEvaluate(e){return this.clearTimer(),new Promise(t=>{let i={uid:getApp().globalData.uid,target_uid:this.userInfo.uid,room_id:this.roomId,type:e};M.request("/chat/call/evaluate",i,!1,!0).then(a=>{this.evaluateId=a.data.evaluate_id,e==1?this.startTimer(2):(this.clearTimer(),t())},()=>{this.hasClick=!1,this.startTimer(2)})})},parseReason(e){let t=e.length,i=parseInt(t/2),a=[];for(let n=0;n<t;n+=i)a.push({list:e.slice(n,n+i)});this.reasonList=a},init(e,t){this.userInfo=e,this.roomId=t,this.hasClick=!1,this.pageShow=!0,this.$nextTick(()=>{this.show=!0,this.startTimer(5),uni.onKeyboardHeightChange(this.onKeyboardChange)})}},created(){this.eventPathKey=At("fullPath"),uni.$on(`event_${this.eventPathKey}_show_call_evaluate`,this.init),uni.$on(`event_${this.eventPathKey}_close_call_evaluate`,this.clickClose),he("s/call/evaluate_like.svga"),he("s/call/evaluate_unlike.svga"),he("s/call/evaluate_like.json"),he("s/call/evaluate_unlike.json")},unmounted(){this.clearTimer(),uni.offKeyboardHeightChange(this.onKeyboardChange),uni.$off(`event_${this.eventPathKey}_show_call_evaluate`,this.init),uni.$off(`event_${this.eventPathKey}_close_call_evaluate`,this.clickClose)}};function al(e,t,i,a,n,r){let o=P((0,p.resolveDynamicComponent)("l-img"),ie),s=(0,p.resolveComponent)("lottie"),l=P((0,p.resolveDynamicComponent)("uni-icons"),Ae),c=P((0,p.resolveDynamicComponent)("uni-transition"),si);return n.pageShow?((0,p.openBlock)(),(0,p.createElementBlock)("view",{key:0,class:"view-container",onClick:t[5]||(t[5]=(...m)=>r.clickView&&r.clickView(...m)),onTouchmove:t[6]||(t[6]=(0,p.withModifiers)((...m)=>r.preventHandler&&r.preventHandler(...m),["stop","prevent"])),style:(0,p.normalizeStyle)(r.viewStyle),renderWhole:!0},[(0,p.createVNode)(c,{"mode-class":"fade",show:n.show,duration:300,style:(0,p.normalizeStyle)(r.contentStyle)},{default:(0,p.withCtx)(()=>[(0,p.createElementVNode)("view",{style:{padding:"8px",position:"relative"}},[(0,p.createElementVNode)("view",{class:"view-evaluate"},[(0,p.createElementVNode)("view",{class:"view-header"},[(0,p.createElementVNode)("view",{class:"center"},[(0,p.createVNode)(o,{src:n.userInfo.small_avatar,w:"62rpx",h:"62rpx",radius:"31rpx",border:"2rpx solid #EEEEEE"},null,8,["src"]),(0,p.createElementVNode)("view",{style:{"margin-left":"16rpx"}},[(0,p.createElementVNode)("view",{class:"center"},[(0,p.createElementVNode)("u-text",{style:(0,p.normalizeStyle)({maxWidth:`${r.nicknameWidth}px`}),class:"nickname-text"},(0,p.toDisplayString)(n.userInfo.nickname),5),r.ageText?((0,p.openBlock)(),(0,p.createElementBlock)("u-text",{key:0,style:{"line-height":"28rpx","font-size":"24rpx","font-weight":"600"}},(0,p.toDisplayString)(r.ageText),1)):(0,p.createCommentVNode)("",!0)]),(0,p.createElementVNode)("u-text",{class:"enjoy-text",style:(0,p.normalizeStyle)({maxWidth:`${r.enjoyTextWidth}px`})},(0,p.toDisplayString)(r.enjoyText),5)])]),(0,p.createElementVNode)("view",{class:"like-wrap center"},[(0,p.createElementVNode)("view",{onClick:t[0]||(t[0]=(...m)=>r.clickLike&&r.clickLike(...m))},[n.hasLike?((0,p.openBlock)(),(0,p.createBlock)(s,{key:1,src:"s/call/evaluate_like.json","auto-play":!0,style:{width:"60rpx",height:"60rpx"}})):((0,p.openBlock)(),(0,p.createBlock)(o,{key:0,onClick:r.clickLike,src:"s/pub/evaluate_like_n.png",w:"60rpx",h:"60rpx"},null,8,["onClick"]))]),(0,p.createElementVNode)("view",{class:"split-line-ver"}),(0,p.createElementVNode)("view",{onClick:t[1]||(t[1]=(...m)=>r.clickUnlike&&r.clickUnlike(...m))},[n.hasUnlike?((0,p.openBlock)(),(0,p.createBlock)(s,{key:1,src:"s/call/evaluate_unlike.json","auto-play":!0,style:{width:"60rpx",height:"60rpx"}})):((0,p.openBlock)(),(0,p.createBlock)(o,{key:0,onClick:r.clickUnlike,src:"s/pub/evaluate_unlike_n.png",w:"60rpx",h:"60rpx"},null,8,["onClick"]))])])]),n.isUnlike?((0,p.openBlock)(),(0,p.createElementBlock)("view",{key:0,class:"m-t-8"},[(0,p.createElementVNode)("view",{class:"split-line"}),(0,p.createElementVNode)("u-text",{class:"reason-tips"},(0,p.toDisplayString)(r.$str("callEvaluateTips")),1),(0,p.createElementVNode)("scroll-view",{scrollX:!0,showScrollbar:!1,style:{"flex-direction":"row",flex:"1"}},[(0,p.createElementVNode)("view",null,[((0,p.openBlock)(!0),(0,p.createElementBlock)(p.Fragment,null,(0,p.renderList)(n.reasonList,(m,y)=>((0,p.openBlock)(),(0,p.createElementBlock)("view",{key:y,class:"center"},[((0,p.openBlock)(!0),(0,p.createElementBlock)(p.Fragment,null,(0,p.renderList)(m.list,(C,v)=>((0,p.openBlock)(),(0,p.createElementBlock)("view",{key:y+"_"+v,onClick:(0,p.withModifiers)(A=>r.clickReportItem(A,C.id),["stop"]),class:(0,p.normalizeClass)(["report-label",[n.chooseIds.indexOf(C.id)!=-1?"active":""]])},[(0,p.createElementVNode)("u-text",{class:"report-text"},(0,p.toDisplayString)(C.title),1)],10,["onClick"]))),128))]))),128))])]),(0,p.createElementVNode)("view",{class:"input-wrap center"},[(0,p.createVNode)(o,{src:"s/pub/evaluate_edit.png",w:"24rpx",h:"24rpx"}),(0,p.createElementVNode)("u-input",{ref:"inputReason",modelValue:n.inputReason,onInput:t[2]||(t[2]=m=>n.inputReason=m.detail.value),type:"text",placeholder:r.$str("callEvaluateInputTips"),cursorSpacing:n.cursorSpacing,adjustPosition:!1,class:"reason-input"},null,40,["modelValue","placeholder","cursorSpacing"])]),(0,p.createElementVNode)("view",{onClick:t[3]||(t[3]=(...m)=>r.clickSubmit&&r.clickSubmit(...m)),class:"submit-btn center-align"},[(0,p.createElementVNode)("u-text",{class:"submit-text"},(0,p.toDisplayString)(r.$str("submit")),1)])])):(0,p.createCommentVNode)("",!0)]),n.isUnlike?((0,p.openBlock)(),(0,p.createElementBlock)("view",{key:0,onClick:t[4]||(t[4]=m=>r.clickClose(!1)),class:"close-icon"},[(0,p.createElementVNode)("view",{class:"close-bg center-align"},[(0,p.createVNode)(l,{type:"closeempty",size:"20rpx",color:"#333333",style:{"margin-top":"2rpx"}})])])):(0,p.createCommentVNode)("",!0)])]),_:1},8,["show","style"])],36)):(0,p.createCommentVNode)("",!0)}var li=L(il,[["render",al],["styles",[tl]]]);var Qa={data(){return{__isPopGestureBack:!1}},methods:{__getWebview(){return plus.webview.currentWebview()},__webviewPopGestureListener(e){let t=e.progress>=50;getApp().globalData.isGestureBacking=t,this.__isPopGestureBack=t}},onReady(){te.isAndroid||this.__getWebview().addEventListener("popGesture",this.__webviewPopGestureListener)},onUnload(){if(te.isAndroid)return;getApp().globalData.isGestureBacking=!1,this.__isPopGestureBack=!1;let e=this.__getWebview();typeof e!="undefined"&&e.removeEventListener("popGesture",this.__webviewPopGestureListener)}};var k=H($());var We=H($());var nl={components:{UniIcons:Ae},props:{type:{type:String,default:"right"},size:{type:String,default:"28rpx"},modeType:{type:String,default:"desc"},color:{type:String,default:""}},computed:{iconColor(){return g(this.color)?getApp().globalData.themeObj.color[this.modeType]:this.color}}};function rl(e,t,i,a,n,r){let o=P((0,We.resolveDynamicComponent)("uni-icons"),Ae);return(0,We.openBlock)(),(0,We.createBlock)(o,{type:i.type,size:i.size,color:r.iconColor},null,8,["type","size","color"])}var en=L(nl,[["render",rl]]);var Te=H($());var ol={props:{text:{type:[String,Number],default:""},type:{type:String,default:"title"},useText:{type:[Number,Boolean],default:!1},colorVal:{type:String,default:""}},computed:{color(){return this.colorVal?this.colorVal:getApp().globalData.themeObj.color[this.type]}}};function sl(e,t,i,a,n,r){return(0,Te.openBlock)(),(0,Te.createElementBlock)("u-text",{style:(0,Te.normalizeStyle)({color:r.color})},(0,Te.toDisplayString)(i.text),5)}var ye=L(ol,[["render",sl]]);var ll={"center-align":{"":{alignItems:"center",flexDirection:"row",justifyContent:"center"}},"search-wrap":{"":{paddingTop:"20rpx",paddingRight:"20rpx",paddingBottom:"20rpx",paddingLeft:"20rpx"}},search:{".search-wrap ":{position:"relative",alignItems:"center",flexDirection:"row",height:"68rpx",borderRadius:"16rpx",paddingTop:0,paddingRight:"30rpx",paddingBottom:0,paddingLeft:"26rpx",justifyContent:"space-between"}},input:{".search-wrap .search ":{flex:1}},"view-search-top":{"":{position:"absolute",right:"10rpx",top:"10rpx",paddingTop:"10rpx",paddingRight:"10rpx",paddingBottom:"10rpx",paddingLeft:"10rpx",width:"32rpx",height:"32rpx"}},"search-btn":{"":{height:"60rpx",paddingTop:0,paddingRight:"20rpx",paddingBottom:0,paddingLeft:"20rpx",borderRadius:"8rpx",marginLeft:"20rpx",borderWidth:"2rpx",borderStyle:"solid",borderColor:"#0091FF"}},"search-text":{".search-btn ":{lineHeight:"60rpx",fontSize:"24rpx",color:"#0091FF"}},"view-empty":{"":{marginTop:"60rpx",marginRight:"60rpx",marginBottom:"60rpx",marginLeft:"60rpx",alignItems:"center",flexDirection:"row",justifyContent:"center"}}},cl={components:{MText:ye,MIcon:en},emits:["onSearch","onClear","onInput"],props:{placeholder:{type:String,default:""},focus:{type:Boolean,default:!1},inputType:{type:String,default:"text"},type:{type:[String,Number],default:1},inputSize:{type:[String,Number],default:26},bgColor:{type:String,default(){return getApp().globalData.themeObj.style==V.LIGHT?getApp().globalData.themeObj.color.bg1:getApp().globalData.themeObj.color.bg2}}},data(){return{searchVal:"",inputFocus:!1,emptyInfo:"",themeObj:getApp().globalData.themeObj}},computed:{getHeight(){return this.type==1?68:88},btnOpacity(){return this.searchVal?1:.4},placeholderStr(){return this.placeholder||S("search")},placeholderStyle(){return"color: "+this.themeObj.color.placeholder}},methods:{clickClear(e){e&&e.stopPropagation(),this.searchVal="",this.sendClearFunc(),this.$emit("onInput","")},clickSearch(e){e&&e.stopPropagation(),this.searchVal&&(this.emptyInfo||(this.emptyInfo=""),this.$emit("onSearch",this.searchVal))},clickConfirm(){this.clickSearch()},onInput(e){g(e.detail.value)&&this.sendClearFunc(),this.$emit("onInput",e.detail.value)},sendClearFunc(){this.emptyInfo&&(this.emptyInfo=!1),this.$emit("onClear")},setEmptyInfo(e){this.emptyInfo=e}},created(){if(this.focus){let e=setTimeout(()=>{this.inputFocus=!0,clearTimeout(e)},300)}}};function ul(e,t,i,a,n,r){let o=P((0,k.resolveDynamicComponent)("l-img"),ie),s=(0,k.resolveComponent)("m-icon"),l=(0,k.resolveComponent)("m-text");return(0,k.openBlock)(),(0,k.createElementBlock)("view",{class:"search-wrap",renderWhole:!0},[(0,k.createElementVNode)("view",{class:"search",style:(0,k.normalizeStyle)({height:`${r.getHeight}rpx`,background:i.bgColor})},[i.type==2?((0,k.openBlock)(),(0,k.createBlock)(o,{key:0,src:"s/pub/search_black.png",w:"32rpx",h:"32rpx",style:{"margin-right":"20rpx"}})):((0,k.openBlock)(),(0,k.createElementBlock)("u-input",{key:1,modelValue:n.searchVal,onInput:[t[0]||(t[0]=c=>n.searchVal=c.detail.value),t[1]||(t[1]=(...c)=>r.onInput&&r.onInput(...c))],type:i.inputType,focus:n.inputFocus,placeholder:r.placeholderStr,class:"input",placeholderStyle:r.placeholderStyle,cursorSpacing:10,onConfirm:t[2]||(t[2]=(...c)=>r.clickConfirm&&r.clickConfirm(...c)),style:(0,k.normalizeStyle)({fontSize:`${i.inputSize}rpx`,color:n.themeObj.color.title})},null,44,["modelValue","type","focus","placeholder","placeholderStyle"])),n.searchVal?((0,k.openBlock)(),(0,k.createBlock)(s,{key:2,onClick:r.clickClear,type:"clear","mode-type":"title",size:"32rpx",style:{padding:"10rpx"}},null,8,["onClick"])):(0,k.createCommentVNode)("",!0),i.type==1?((0,k.openBlock)(),(0,k.createElementBlock)("view",{key:3,onClick:t[3]||(t[3]=(...c)=>r.clickSearch&&r.clickSearch(...c)),class:"center"},[(0,k.createVNode)(o,{src:"s/pub/search_black.png",needStyle:1,w:"32rpx",h:"32rpx"}),(0,k.createElementVNode)("view",{class:"view-search-top"})])):i.type==2?((0,k.openBlock)(),(0,k.createElementBlock)("view",{key:4,onClick:t[4]||(t[4]=(...c)=>r.clickSearch&&r.clickSearch(...c)),class:"search-btn",style:(0,k.normalizeStyle)({opacity:r.btnOpacity})},[(0,k.createElementVNode)("u-text",{class:"search-text"},(0,k.toDisplayString)(e.$str("search")),1)],4)):(0,k.createCommentVNode)("",!0)],4),n.emptyInfo?((0,k.openBlock)(),(0,k.createElementBlock)("view",{key:0,class:"center-align view-empty"},[(0,k.createVNode)(o,{src:n.emptyInfo.img_url,w:"68rpx",h:"60rpx"},null,8,["src"]),(0,k.createVNode)(l,{text:n.emptyInfo.tip,type:"desc",style:{"font-size":"28rpx","margin-left":"10rpx"}},null,8,["text"])])):(0,k.createCommentVNode)("",!0)])}var tn=L(cl,[["render",ul],["styles",[ll]]]);var Ge=H($());var dl={emits:["click"],components:{LImg:ie},props:{user:{type:Object,default(){return{}}},w:{type:String,default:"0"},h:{type:String,default:"0"},radius:{type:String,default:"0"},setKey:{type:String,default:"small_avatar"},border:{type:String,default:""},placeType:{type:Number,default:1},placeW:{type:String,default:""},placeFontSize:{type:[String,Boolean],default:""},placeBottom:{type:String,default:""},click:{type:Boolean,default:!0},fromAdmin:{type:[Boolean,Number],default:!1},fromType:{type:Number,default:1},fade:{type:Boolean,default:!0}},computed:{avatarUrl(){return Pa(this.user,this.setKey,this.fromAdmin,this.fromType)}},methods:{clickAvatar(e){this.click&&this.$emit("click",e)}}};function fl(e,t,i,a,n,r){let o=P((0,Ge.resolveDynamicComponent)("l-img"),ie);return(0,Ge.openBlock)(),(0,Ge.createBlock)(o,{onClick:r.clickAvatar,src:r.avatarUrl,w:i.w,h:i.h,radius:i.radius,border:i.border,"place-type":i.placeType,"place-w":i.placeW,"place-font-size":i.placeFontSize,"place-bottom":i.placeBottom,fade:i.fade},null,8,["onClick","src","w","h","radius","border","place-type","place-w","place-font-size","place-bottom","fade"])}var ci=L(dl,[["render",fl]]);function ml(){return getApp().globalData.appCRE||va(40,1,!1)?!0:(Qe(S("tips"),S("call40CoinsTip"),()=>{ge("/pages/coin/coins")},"","Purchase"),!1)}function an(e,t,i){ml()&&pl(ua.CALL,ca.VIDEO,Xt.CALL,e,t,null,i,da.DEF)}function pl(e,t,i,a,n,r,o,s){if(z("error","at comCall/call.js:48","_openCall "+getApp().globalData.curCallId),g(a))return;if(a.uid==getApp().globalData.uid){if(i!=Xt.CALL)return;St(S("tips"),S("noCallSelf"),"",S("gotIt"));return}if(getApp().globalData.curCallId!=qe.NONE)return;getApp().globalData.curCallId=qe.WEEK_UP;let l=gl(e,t,i,a,n,r,o,s);W("/pages/call/chat-view",{},"callViewData",l)}function gl(e,t,i,a,n,r,o,s){let l={user:a,roomType:e,callType:t,actionType:i,fromType:o,videoInfo:n,openType:s};return n&&(l.videoInfo=n),r&&(l.roomInfo=r,r.isGame&&(l.isGame=r.isGame)),l}var u=H($());var d=H($());var _l={"view-this":{"":{flexDirection:"row",alignItems:"center",position:"relative",marginRight:"8rpx"}},"text-level":{"":{width:"50rpx",lineHeight:"50rpx",textAlign:"center",color:"#FFFFFF",position:"absolute",top:0}}},hl={props:{info:{type:Object,default(){return{}}},vipAlways:{type:Boolean,default:!1},levelAlways:{type:Boolean,default:!1},hideVip:{type:Boolean,default:!1}},computed:{show(){return this.info.is_auth||this.info.level>0||this.showVip||this.levelAlways},showVip(){return this.hideVip?!1:this.info.is_vip?this.info.hide_vip?this.vipAlways:!0:!1},showLevel(){return!this.info.hide_level&&(this.info.level>0||this.info.is_auth)?!0:this.levelAlways},levelStr(){let e=this.info.is_auth?1:0;return this.info.level<=0?e:this.info.level},levelSrc(){return this.info.sex==2?"s/pub/level_a.png":"s/pub/level_c.png"},levelSize(){return this.info.level>99?"10rpx":this.info.level>9?"14rpx":"16rpx"},levelWeight(){return this.info.level>99?"bold":"normal"}}};function yl(e,t,i,a,n,r){let o=P((0,d.resolveDynamicComponent)("l-img"),ie);return r.show?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:0,class:"view-this",renderWhole:!0},[r.showLevel?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:0},[(0,d.createVNode)(o,{src:r.levelSrc,w:"50rpx",h:"50rpx"},null,8,["src"]),(0,d.createElementVNode)("u-text",{class:"text-level",style:(0,d.normalizeStyle)({fontSize:r.levelSize,fontWeight:r.levelWeight})},(0,d.toDisplayString)(r.levelStr),5)])):(0,d.createCommentVNode)("",!0),r.showVip?((0,d.openBlock)(),(0,d.createBlock)(o,{key:1,src:"s/pub/vip_3.png",w:"56rpx",h:"24rpx",style:{"margin-left":"8rpx"}})):(0,d.createCommentVNode)("",!0)])):(0,d.createCommentVNode)("",!0)}var nn=L(hl,[["render",yl],["styles",[_l]]]),bl={center:{"":{alignItems:"center",flexDirection:"row"}},"m-l-4":{"":{marginLeft:"8rpx"}},"m-r-4":{"":{marginRight:"8rpx"}}},Al={props:{user:{type:Object,default(){return{}}},imgW:{type:Number,default:40},imgH:{type:Number,default:26},fontSize:{type:Number,default:24},color:{type:String,default:""},showName:{type:Boolean,default:!1},showCode:{type:Boolean,default:!0},desc:{type:Boolean,default:!1}},computed:{defClass(){let e={fontSize:`${this.fontSize}rpx`};return g(this.color)?e.color=getApp().globalData.themeObj.color.title:e.color=this.color,e}}};function Cl(e,t,i,a,n,r){let o=P((0,d.resolveDynamicComponent)("l-img"),ie);return i.user.country_code&&!i.desc?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:0,class:"center"},[(0,d.createVNode)(o,{src:i.user.country_flag,w:`${i.imgW}rpx`,h:`${i.imgH}rpx`},null,8,["src","w","h"]),i.showCode&&i.user.country_code?((0,d.openBlock)(),(0,d.createElementBlock)("u-text",{key:0,class:"m-l-4",style:(0,d.normalizeStyle)(r.defClass)},(0,d.toDisplayString)(i.user.country_code.toUpperCase()),5)):(0,d.createCommentVNode)("",!0),i.showName&&i.user.country_name?((0,d.openBlock)(),(0,d.createElementBlock)("u-text",{key:1,class:"m-l-4",style:(0,d.normalizeStyle)(r.defClass)},(0,d.toDisplayString)(i.user.country_name),5)):(0,d.createCommentVNode)("",!0)])):i.user.country_code?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:1,class:"center m-r-4"},[i.showName&&i.user.country_name?((0,d.openBlock)(),(0,d.createElementBlock)("u-text",{key:0,class:"m-r-4",style:(0,d.normalizeStyle)(r.defClass)},(0,d.toDisplayString)(i.user.country_name),5)):(0,d.createCommentVNode)("",!0),i.showCode&&i.user.country_code?((0,d.openBlock)(),(0,d.createElementBlock)("u-text",{key:1,class:"m-r-4",style:(0,d.normalizeStyle)(r.defClass)},(0,d.toDisplayString)(i.user.country_code.toUpperCase()),5)):(0,d.createCommentVNode)("",!0),(0,d.createVNode)(o,{src:i.user.country_flag,w:`${i.imgW}rpx`,h:`${i.imgH}rpx`},null,8,["src","w","h"])])):(0,d.createCommentVNode)("",!0)}var rn=L(Al,[["render",Cl],["styles",[bl]]]),Sl={"user-info":{"":{flexDirection:"row",alignItems:"center"}},"nickname-nvue":{"":{lines:1,textOverflow:"ellipsis",wordWrap:"anywhere"}},"m-r-4":{"":{marginRight:"8rpx"}},"text-official":{"":{lineHeight:"28rpx",backgroundColor:"#34C759",borderRadius:"4rpx",paddingTop:0,paddingRight:"8rpx",paddingBottom:0,paddingLeft:"8rpx",color:"#FFFFFF",fontSize:"20rpx",fontStyle:"italic",fontWeight:"700",marginRight:"8rpx"}}},wl={components:{LImg:ie,CountryCode:rn,LevelVip:nn},props:{info:{type:Object,default(){return{}}},noName:{type:Number,default:0},nameColor:{type:String,default:""},nameSize:{type:String,default:"26rpx"},nameWidth:{type:String,default:"300rpx"},fw:{type:[String,Number],default:"400"},desc:{type:Boolean,default:!1},isAdmin:{type:Number,default:0},showAge:{type:Boolean,default:!0},showAuth:{type:Boolean,default:!0},showCountry:{type:Boolean,default:!1},showCountryCode:{type:Boolean,default:!0},levelAlways:{type:Boolean,default:!1}},computed:{officialStr(){return this.info.auth_status==9?S("official"):""},age(){if(!this.showAge||g(this.info.birthday)||this.info.hide_profile)return"";let e=yt(this.info.birthday);return g(e)||isNaN(e)?"":`${this.noName?"":", "}${e}`},nicknameText(){return Ma(this.info,this.isAdmin)},showCountryInfo(){return this.showCountry&&this.info.hide_profile!=1},nicknameColor(){return g(this.nameColor)?getApp().globalData.themeObj.color.title:this.nameColor}}};function Dl(e,t,i,a,n,r){let o=P((0,d.resolveDynamicComponent)("level-vip"),nn),s=P((0,d.resolveDynamicComponent)("country-code"),rn),l=P((0,d.resolveDynamicComponent)("l-img"),ie);return(0,d.openBlock)(),(0,d.createElementBlock)("view",{renderWhole:!0},[i.desc?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:1,class:"user-info",style:{"justify-content":"flex-end"}},[r.officialStr?((0,d.openBlock)(),(0,d.createElementBlock)("u-text",{key:0,class:"text-official"},(0,d.toDisplayString)(r.officialStr),1)):((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:1,class:"user-info"},[i.showAuth&&i.info.auth_status==1?((0,d.openBlock)(),(0,d.createBlock)(l,{key:0,src:"s/pub/verified_1.png",w:"24rpx",h:"24rpx",style:{"margin-right":"8rpx"}})):(0,d.createCommentVNode)("",!0),r.showCountryInfo?((0,d.openBlock)(),(0,d.createBlock)(s,{key:1,user:i.info,color:r.nicknameColor,desc:i.desc,"show-code":i.showCountryCode},null,8,["user","color","desc","show-code"])):(0,d.createCommentVNode)("",!0),(0,d.createVNode)(o,{info:i.info,"vip-always":i.isAdmin==1,"level-always":i.levelAlways,style:{"margin-right":"8rpx"}},null,8,["info","vip-always","level-always"])])),i.noName?(0,d.createCommentVNode)("",!0):((0,d.openBlock)(),(0,d.createElementBlock)("u-text",{key:2,class:(0,d.normalizeClass)(["nickname-nvue",[r.age?"":"m-r-4"]]),style:(0,d.normalizeStyle)({color:r.nicknameColor,fontSize:i.nameSize,maxWidth:i.nameWidth,fontWeight:i.fw})},(0,d.toDisplayString)(r.nicknameText),7)),r.age?((0,d.openBlock)(),(0,d.createElementBlock)("u-text",{key:3,class:"nickname-nvue",style:(0,d.normalizeStyle)({color:r.nicknameColor,fontSize:i.nameSize,fontWeight:i.fw})},(0,d.toDisplayString)(r.age),5)):(0,d.createCommentVNode)("",!0)])):((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:0,class:"user-info"},[i.noName?(0,d.createCommentVNode)("",!0):((0,d.openBlock)(),(0,d.createElementBlock)("u-text",{key:0,class:(0,d.normalizeClass)(["nickname-nvue",[r.age?"":"m-r-4"]]),style:(0,d.normalizeStyle)({color:r.nicknameColor,fontSize:i.nameSize,maxWidth:i.nameWidth,fontWeight:i.fw})},(0,d.toDisplayString)(r.nicknameText),7)),r.age?((0,d.openBlock)(),(0,d.createElementBlock)("u-text",{key:1,class:"nickname-nvue m-r-4",style:(0,d.normalizeStyle)({color:r.nicknameColor,fontSize:i.nameSize,fontWeight:i.fw})},(0,d.toDisplayString)(r.age),5)):(0,d.createCommentVNode)("",!0),r.officialStr?((0,d.openBlock)(),(0,d.createElementBlock)("u-text",{key:2,class:"text-official"},(0,d.toDisplayString)(r.officialStr),1)):((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:3,class:"user-info"},[(0,d.createVNode)(o,{info:i.info,"vip-always":i.isAdmin==1,"level-always":i.levelAlways,style:{"margin-right":"8rpx"}},null,8,["info","vip-always","level-always"]),r.showCountryInfo?((0,d.openBlock)(),(0,d.createBlock)(s,{key:0,user:i.info,color:r.nicknameColor,"show-code":i.showCountryCode,style:{"margin-right":"8rpx"}},null,8,["user","color","show-code"])):(0,d.createCommentVNode)("",!0),i.showAuth&&i.info.auth_status==1?((0,d.openBlock)(),(0,d.createBlock)(l,{key:1,src:"s/pub/verified_1.png",w:"24rpx",h:"24rpx",style:{"margin-right":"8rpx"}})):(0,d.createCommentVNode)("",!0)]))]))])}var ui=L(wl,[["render",Dl],["styles",[Sl]]]);var me=H($()),El={"view-info":{"":{height:"40rpx",flexDirection:"row",alignItems:"center",borderRadius:"4rpx"}},point:{"":{width:"14rpx",height:"14rpx",borderRadius:"8rpx",marginRight:"4rpx"}},text:{"":{fontSize:"22rpx",lineHeight:"40rpx",fontWeight:"600"}}},Tl={components:{MText:ye},props:{status:{type:Number,default:0},upTime:{type:[Number,String],default:0}},data(){return{}},computed:{colorVal(){return getApp().globalData.themeObj.style==V.LIGHT?this.status==1?"#34C759":this.status==2?"#FF9537":"#999999":this.status==1?"#2A9F47":this.status==2?"#CC7732":"#666666"},onlineStr(){return this.status==1?S("available"):this.status==2?S("chatting"):this.status==3?S("anchorSet.rest"):this.upTime==0?S("time.daysAgo",{number:"3"}):ga(this.upTime)}},methods:{}};function vl(e,t,i,a,n,r){let o=(0,me.resolveComponent)("m-text");return(0,me.openBlock)(),(0,me.createElementBlock)("view",{class:"view-info",renderWhole:!0},[(0,me.createElementVNode)("view",{class:"point",style:(0,me.normalizeStyle)({background:r.colorVal})},null,4),(0,me.createVNode)(o,{type:"tip",text:r.onlineStr,style:{"font-size":"24rpx"}},null,8,["text"])])}var di=L(Tl,[["render",vl],["styles",[El]]]);var Ve=H($());var kl={line:{"":{height:"2rpx",transform:"scaleY(0.5)",transformOrigin:"50% 100%"}}},Ll={computed:{bgColor(){return getApp().globalData.themeObj.color.line}}};function Il(e,t,i,a,n,r){return(0,Ve.openBlock)(),(0,Ve.createElementBlock)("view",{style:(0,Ve.normalizeStyle)({background:r.bgColor}),class:"line",renderWhole:!0},null,4)}var on=L(Ll,[["render",Il],["styles",[kl]]]);function sn(...e){return getApp().globalData.s.state.pubAI18n(...e)}var q=H($()),xl={"text-act-time":{"":{fontSize:"22rpx"}}},Nl={components:{MText:ye},props:{user:{type:Object,default:{}},color:{type:String,default:""},fontSize:{type:String,default:"22rpx"}},computed:{parseStr(){let e=[],t=this.user.rel_online_status==1?"\u{1F7E2}":"\u{1F534}";e.push(t);let i=this.user.uptime<=0?"":Qt(parseInt(this.user.uptime),!1);i&&e.push(i);let a=typeof this.user.sort=="undefined"?void 0:Number(this.user.sort);typeof a!="undefined"&&e.push(a);let n=this.user.is_auth?this.user.add_time:this.user.regtime,r=Qt(parseInt(n),!1);r&&e.push(r);let o=`${this.user.account_money}\u{1F4B0}`;return e.push(o),e.join("-")}},methods:{clickThis(e){e&&e.stopPropagation(),typeof this.user.sort!="undefined"&&M.request("/admin/user/max-sort",{target_uid:this.user.uid},!0).then(t=>{let i=this.user.is_auth?"currentMaxWeightOfStreamer":"currentMaxWeightOfUser",a=Number(t.data.max_sort);uni.showModal({title:`Weight of ${this.user.nickname}`,content:`${sn(i,{weight:a})}
Current weight: ${Number(this.user.sort)}`,editable:!0,success:n=>{if(n.confirm&&n.content){let r={key:"sort",value:n.content,target_uid:this.user.uid};M.request("/admin/user/update-info",r,!0).then(o=>{this.user.sort=n.content})}}})})}}};function Ol(e,t,i,a,n,r){let o=(0,q.resolveComponent)("m-text");return i.color?((0,q.openBlock)(),(0,q.createElementBlock)("u-text",{key:0,onClick:t[0]||(t[0]=(0,q.withModifiers)((...s)=>r.clickThis&&r.clickThis(...s),["stop"])),style:(0,q.normalizeStyle)({color:i.color,fontSize:i.fontSize})},(0,q.toDisplayString)(r.parseStr),5)):((0,q.openBlock)(),(0,q.createBlock)(o,{key:1,text:r.parseStr,"use-text":!0,onClick:(0,q.withModifiers)(r.clickThis,["stop"]),style:(0,q.normalizeStyle)({fontSize:i.fontSize})},null,8,["text","onClick","style"]))}var ln=L(Nl,[["render",Ol],["styles",[xl]]]);var Rl={center:{"":{flexDirection:"row",alignItems:"center"}},"view-base":{"":{paddingTop:"30rpx",paddingRight:0,paddingBottom:"30rpx",paddingLeft:0,justifyContent:"space-between"}},"view-left":{"":{marginLeft:"30rpx",flexDirection:"row"}},"view-action":{"":{justifyContent:"center",width:"82rpx",height:"82rpx",borderRadius:"41rpx",marginRight:"20rpx"}},"view-eye":{"":{position:"absolute",bottom:0,right:"36rpx"}},"view-label":{"":{paddingTop:0,paddingRight:"10rpx",paddingBottom:0,paddingLeft:"10rpx",height:"40rpx",borderRadius:"4rpx",marginRight:"12rpx"}},text:{".view-label ":{fontSize:"22rpx",fontWeight:"600",lineHeight:"40rpx"}},"view-country":{"":{borderWidth:"2rpx",borderStyle:"solid",borderColor:"#0091FF"}},"text-country":{".view-country ":{color:"#0091FF"}},"view-boost":{"":{position:"absolute",top:0,right:0,height:"40rpx",paddingTop:0,paddingRight:"10rpx",paddingBottom:0,paddingLeft:"8rpx",backgroundImage:"linear-gradient(to bottom right, #4F4C64, #272534)",borderBottomLeftRadius:"16rpx"}},"text-boost":{".view-boost ":{fontSize:"20rpx",color:"#EBD5A3",marginLeft:"4rpx",lineHeight:"40rpx"}},"status-point":{"":{width:"14rpx",height:"14rpx",borderRadius:"7rpx",marginRight:"4rpx"}},"status-line":{"":{marginTop:0,marginRight:"16rpx",marginBottom:0,marginLeft:"16rpx",height:"20rpx",width:"2rpx"}},"media-cover":{"":{width:20,height:28,borderRadius:"2rpx",position:"absolute",zIndex:111,top:1,left:1}},"hide-mask":{"":{position:"absolute",top:0,left:0,borderRadius:"4rpx"}},"shield-view":{"":{position:"absolute",top:1,right:1,paddingLeft:"16rpx",paddingBottom:"16rpx"}}},Ml={components:{MText:ye,MLine:on,UniIcons:Ae,OnlineBlock:di,LImg:ie,UBaseInfo:ui,AvatarImg:ci,AUpStr:ln},emits:["onClickShield","onClickAdminEye"],props:{item:{type:Object,default(){return{}}},type:{type:Number,default:1},hideShield:{type:Boolean,default:!1},isAdmin:{type:[Boolean,Number],default:!1},showAdminExtra:{type:Boolean,default:!1}},data(){return{sW:getApp().globalData.window.width,themeColor:getApp().globalData.themeObj.color,fromType:2}},computed:{actionSrc(){return getApp().globalData.appCRE?this.type==1?"s/pub/chat_msg.png":"s/pub/chat_video.png":""},actionBg(){return getApp().globalData.themeObj.style==V.LIGHT?"rgba(255, 68, 119, 0.08)":"rgba(255, 68, 119, 0.2)"},nameWidth(){let e=Ra(this.item,!0,!1,!1);return this.sW-uni.upx2px(30+128+20+e+72+40)},borderColor(){let e=this.item.label;return getApp().globalData.themeObj.style==V.DARK&&!g(e.color_dark)?e.color_dark:e.color},albumMomentInfo(){return this.item.album_moment_info||""},albumInfo(){return g(this.albumMomentInfo)?"":this.albumMomentInfo.album_infos||""},momentInfo(){if(g(this.albumMomentInfo))return"";let e=this.albumMomentInfo.moment_info,t=getApp().globalData.themeObj.style==V.LIGHT?"s/privacy/masker_list.png":"dark/s/privacy/masker_list.png";return this.item.hide_profile==1&&!g(e.medias)&&(e.medias[0].small_url=t),e||""},momentTextW(){let e=this.momentInfo.medias.length*54;return getApp().globalData.window.width-uni.upx2px(320+e)},statusLineBg(){return getApp().globalData.themeObj.style==V.LIGHT?"#AAAAAA":"#555555"},showStatusLineOne(){return this.item.hide_online?!1:!g(this.item.country_code)||!g(this.item.country_flag)||!g(this.item.label)},showStatusLineTwo(){return this.showCountry&&!g(this.item.label)},mediaCoverBg(){return getApp().globalData.themeObj.style==V.LIGHT?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)"},mediaBorder(){return getApp().globalData.themeObj.style==V.LIGHT?"1px solid #EEEEEE":"1px solid #333333"},showCountry(){return!this.item.hide_profile&&(this.item.country_code||this.item.country_flag)}},methods:{$str:S,clickThis(){Ct(this.item.uid,!0)},clickEye(){ka(this.item.uid,()=>{this.$emit("onClickAdminEye")})},clickAction(e){e&&e.stopPropagation(),this.type==1?ei(this.item):an(this.item,this.item.video,fa.QUALITY)},clickShield(e){e&&e.stopPropagation(),this.$emit("onClickShield")}}};function Pl(e,t,i,a,n,r){let o=P((0,u.resolveDynamicComponent)("avatar-img"),ci),s=P((0,u.resolveDynamicComponent)("l-img"),ie),l=P((0,u.resolveDynamicComponent)("u-base-info"),ui),c=P((0,u.resolveDynamicComponent)("online-block"),di),m=(0,u.resolveComponent)("m-text"),y=(0,u.resolveComponent)("a-up-str"),C=P((0,u.resolveDynamicComponent)("uni-icons"),Ae),v=(0,u.resolveComponent)("m-line");return(0,u.openBlock)(),(0,u.createElementBlock)("view",{onClick:t[3]||(t[3]=(...A)=>r.clickThis&&r.clickThis(...A)),class:"view-base center",style:(0,u.normalizeStyle)({width:`${n.sW}px`}),renderWhole:!0},[(0,u.createElementVNode)("view",{class:"view-left"},[(0,u.createElementVNode)("view",null,[(0,u.createVNode)(o,{user:i.item,w:"128rpx",h:"186rpx","place-w":"128rpx",radius:"12rpx",border:r.mediaBorder,fromType:n.fromType},null,8,["user","border","fromType"]),i.hideShield?(0,u.createCommentVNode)("",!0):((0,u.openBlock)(),(0,u.createElementBlock)("view",{key:0,onClick:t[0]||(t[0]=(...A)=>r.clickShield&&r.clickShield(...A)),class:"shield-view"},[(0,u.createVNode)(s,{onClick:r.clickShield,src:"s/pub/close_black_80.png",w:"24rpx",h:"24rpx"},null,8,["onClick"])]))]),(0,u.createElementVNode)("view",{style:{"margin-left":"20rpx"}},[(0,u.createElementVNode)("view",{class:"center",style:{height:"50rpx","margin-top":"-6rpx"}},[(0,u.createVNode)(l,{info:i.item,fw:500,"name-size":"32rpx","name-width":`${r.nameWidth}px`},null,8,["info","name-width"])]),(0,u.createElementVNode)("view",{class:"center",style:{"margin-top":"14rpx"}},[i.item.hide_online?(0,u.createCommentVNode)("",!0):((0,u.openBlock)(),(0,u.createBlock)(c,{key:0,status:i.item.online_status,"up-time":i.item.uptime},null,8,["status","up-time"])),r.showStatusLineOne?((0,u.openBlock)(),(0,u.createElementBlock)("view",{key:1,class:"status-line",style:(0,u.normalizeStyle)({background:r.statusLineBg})},null,4)):(0,u.createCommentVNode)("",!0),r.showCountry?((0,u.openBlock)(),(0,u.createElementBlock)("view",{key:2,class:"center"},[i.item.country_flag?((0,u.openBlock)(),(0,u.createBlock)(s,{key:0,src:i.item.country_flag,w:"20rpx",h:"20rpx",radius:"10rpx",style:{"margin-right":"4rpx","box-shadow":"0 0 1px 0 rgba(0, 145, 255, 0.8)"}},null,8,["src"])):(0,u.createCommentVNode)("",!0),i.item.country_code?((0,u.openBlock)(),(0,u.createBlock)(m,{key:1,type:"tip",text:i.item.country_code,style:{"font-size":"24rpx"}},null,8,["text"])):(0,u.createCommentVNode)("",!0)])):(0,u.createCommentVNode)("",!0),r.showStatusLineTwo?((0,u.openBlock)(),(0,u.createElementBlock)("view",{key:3,class:"status-line",style:(0,u.normalizeStyle)({background:r.statusLineBg})},null,4)):(0,u.createCommentVNode)("",!0),i.item.label?((0,u.openBlock)(),(0,u.createElementBlock)("view",{key:4,class:"center"},[(0,u.createVNode)(s,{src:i.item.label.icon,"need-style":1,w:"24rpx",h:"24rpx",style:{"margin-right":"4rpx"}},null,8,["src"]),(0,u.createVNode)(m,{type:"tip",text:i.item.label.title,style:{"font-size":"24rpx"}},null,8,["text"])])):(0,u.createCommentVNode)("",!0)]),r.albumMomentInfo?((0,u.openBlock)(),(0,u.createElementBlock)("view",{key:0,style:{"margin-top":"20rpx"}},[r.albumInfo?((0,u.openBlock)(),(0,u.createElementBlock)("view",{key:0,class:"center"},[((0,u.openBlock)(!0),(0,u.createElementBlock)(u.Fragment,null,(0,u.renderList)(r.albumInfo,(A,N)=>((0,u.openBlock)(),(0,u.createElementBlock)("view",{key:N,style:{"margin-right":"10rpx",position:"relative"}},[(0,u.createVNode)(s,{src:A.small_url,w:"22px",h:"30px",radius:"4rpx","place-type":1,border:r.mediaBorder,"place-font-size":!1,"place-w":"44rpx"},null,8,["src","border"]),i.item.hide_profile&&N<5?((0,u.openBlock)(),(0,u.createElementBlock)("view",{key:0,class:"hide-mask"},[(0,u.createVNode)(s,{src:"s/privacy/masker_list.png","need-style":1,w:"44rpx",h:"60rpx",radius:"4rpx"})])):r.albumMomentInfo.album_count>6&&N==5?((0,u.openBlock)(),(0,u.createElementBlock)("view",{key:1,class:"media-cover center-align",style:{background:"rgba(0, 0, 0, 0.7)"}},[(0,u.createElementVNode)("u-text",{style:{"font-size":"16rpx",color:"#999999"}},(0,u.toDisplayString)(r.albumMomentInfo.album_count),1)])):((0,u.openBlock)(),(0,u.createElementBlock)("view",{key:2,class:"media-cover",style:(0,u.normalizeStyle)({background:r.mediaCoverBg})},null,4))]))),128))])):r.momentInfo?((0,u.openBlock)(),(0,u.createElementBlock)("view",{key:1,class:"center"},[r.momentInfo.medias&&r.momentInfo.medias.length>0?((0,u.openBlock)(),(0,u.createElementBlock)("view",{key:0,class:"center"},[((0,u.openBlock)(!0),(0,u.createElementBlock)(u.Fragment,null,(0,u.renderList)(r.momentInfo.medias,(A,N)=>((0,u.openBlock)(),(0,u.createBlock)(s,{key:N,src:A.small_url,w:"44rpx",h:"60rpx",radius:"4rpx",border:r.mediaBorder,"place-type":1,"place-font-size":!1,"place-w":"44rpx",style:{"margin-right":"10rpx"}},null,8,["src","border"]))),128))])):(0,u.createCommentVNode)("",!0),r.momentInfo.content?((0,u.openBlock)(),(0,u.createBlock)(m,{key:1,text:r.momentInfo.content,type:"desc",style:(0,u.normalizeStyle)([{"font-size":"24rpx","line-height":"30rpx",lines:"1",overflow:"hidden","text-overflow":"ellipsis"},{maxWidth:`${r.momentTextW}px`}])},null,8,["text","style"])):(0,u.createCommentVNode)("",!0)])):(0,u.createCommentVNode)("",!0)])):(0,u.createCommentVNode)("",!0)])]),(0,u.createElementVNode)("view",{style:{position:"absolute",bottom:"0rpx","margin-left":"173rpx"}},[i.isAdmin&&i.showAdminExtra?((0,u.openBlock)(),(0,u.createBlock)(y,{key:0,user:i.item},null,8,["user"])):(0,u.createCommentVNode)("",!0)]),r.actionSrc?((0,u.openBlock)(),(0,u.createElementBlock)("view",{key:0,onClick:t[1]||(t[1]=(...A)=>r.clickAction&&r.clickAction(...A)),class:"view-action center",style:(0,u.normalizeStyle)({background:r.actionBg})},[(0,u.createVNode)(s,{src:r.actionSrc,w:"48rpx",h:"46rpx"},null,8,["src"])],4)):(0,u.createCommentVNode)("",!0),i.isAdmin?((0,u.openBlock)(),(0,u.createElementBlock)("view",{key:1,onClick:t[2]||(t[2]=(0,u.withModifiers)(A=>r.clickEye(A,e.index),["stop"])),class:"view-eye"},[(0,u.createVNode)(C,{type:"eye-slash-filled",size:"20px",color:"#C5C5C5"})])):(0,u.createCommentVNode)("",!0),(0,u.createVNode)(v,{style:{position:"absolute",bottom:"0",right:"0",width:"570rpx"}}),i.item.is_top==1?((0,u.openBlock)(),(0,u.createElementBlock)("view",{key:2,class:"center view-boost"},[(0,u.createVNode)(s,{src:"s/user/rocket_i_yellow.png",w:"24rpx",h:"24rpx"}),(0,u.createElementVNode)("u-text",{class:"text-boost"},(0,u.toDisplayString)(r.$str("boosting")),1)])):(0,u.createCommentVNode)("",!0)],4)}var cn=L(Ml,[["render",Pl],["styles",[Rl]]]);var Au=H(xt());var Fl={data(){return{list:[],type:1,useBg1_1:!0}},methods:{$str:S,onClickAdminEye(e){this.list.splice(e,1)},onSearch(e){let t={search_uid:e};M.request("/user/search",t,!0,!0).then(i=>{Ct(i.data.user_info.uid)},i=>{i.ok==0&&i.data&&typeof i.data.callback=="object"&&(this.$refs.refSearch.emptyInfo=i.data.callback.func_data)})},init(){M.request("/home/new-recommend",{}).then(e=>{this.list=e.data.list,this.type=e.data.type})}},onHide(){uni.hideKeyboard()},onLoad(){this.init()}},Bl={"text-recommend":{"":{fontSize:"28rpx",color:"#333333",marginLeft:"16rpx",marginTop:"28rpx"}}},Ul={emits:["onClickAdminEye"],components:{MText:ye,UserCell:cn},props:{list:{type:Array,default(){return{}}}},data(){return{userType:be()?1:2}},methods:{$str:S,onClickAdminEye(e){this.$emit("onClickAdminEye",e)}}};function Hl(e,t,i,a,n,r){let o=(0,I.resolveComponent)("m-text"),s=(0,I.resolveComponent)("user-cell");return(0,I.openBlock)(),(0,I.createElementBlock)("view",{style:{flex:"1"},renderWhole:!0},[(0,I.createVNode)(o,{text:r.$str("recommend"),"use-text":!0,style:{"font-size":"28rpx",margin:"28rpx 16rpx 0"}},null,8,["text"]),i.list.length>0?((0,I.openBlock)(),(0,I.createElementBlock)("list",{key:0,scrollable:!0,showScrollbar:!1,style:{flex:"1"}},[(0,I.createElementVNode)("cell",null,[((0,I.openBlock)(!0),(0,I.createElementBlock)(I.Fragment,null,(0,I.renderList)(i.list,(l,c)=>((0,I.openBlock)(),(0,I.createBlock)(s,{key:c,item:l,type:n.userType,hideShield:!0,onOnClickAdminEye:m=>r.onClickAdminEye(c)},null,8,["item","type","onOnClickAdminEye"]))),128))])])):(0,I.createCommentVNode)("",!0)])}var Wl=L(Ul,[["render",Hl],["styles",[Bl]]]),Gl={mixins:[Qa,ja,Fl],components:{CallEvaluate:li,SearchDef:tn,RecommendUserList:Wl,GPageMeta:oi}};function Vl(e,t,i,a,n,r){let o=P((0,I.resolveDynamicComponent)("g-page-meta"),oi),s=(0,I.resolveComponent)("search-def"),l=(0,I.resolveComponent)("recommend-user-list"),c=P((0,I.resolveDynamicComponent)("call-evaluate"),li);return(0,I.openBlock)(),(0,I.createElementBlock)("scroll-view",{scrollY:!0,showScrollbar:!0,enableBackToTop:!0,bubble:"true",style:{flexDirection:"column"}},[(0,I.createVNode)(o,{useBg1_1:e.useBg1_1},null,8,["useBg1_1"]),(0,I.createElementVNode)("view",{style:{flex:"1"}},[(0,I.createVNode)(s,{ref:"refSearch",inputType:"number",focus:!0,placeholder:`${e.$str("enter.id")}`,onOnSearch:e.onSearch},null,8,["placeholder","onOnSearch"]),(0,I.createVNode)(l,{list:e.list,onOnClickAdminEye:e.onClickAdminEye},null,8,["list","onOnClickAdminEye"]),(0,I.createVNode)(c,{id:"/pagesPub/user/search"})])])}var Tt=L(Gl,[["render",Vl]]);var fi=plus.webview.currentWebview();if(fi){let e=parseInt(fi.id),t="pagesPub/user/search",i={};try{i=JSON.parse(fi.__query__)}catch(n){}Tt.mpType="page";let a=Vue.createPageApp(Tt,{$store:getApp({allowDefault:!0}).$store,__pageId:e,__pagePath:t,__pageQuery:i});a.provide("__globalStyles",Vue.useCssStyles([...__uniConfig.styles,...Tt.styles||[]])),a.mount("#root")}})();
/*!
  * @intlify/shared v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/message-resolver v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/runtime v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/message-compiler v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/core-base v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * vue-i18n v9.1.9
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */
