"use weex:vue";

if (typeof Promise !== 'undefined' && !Promise.prototype.finally) {
  Promise.prototype.finally = function(callback) {
    const promise = this.constructor
    return this.then(
      value => promise.resolve(callback()).then(() => value),
      reason => promise.resolve(callback()).then(() => {
        throw reason
      })
    )
  }
};

if (typeof uni !== 'undefined' && uni && uni.requireGlobal) {
  const global = uni.requireGlobal()
  ArrayBuffer = global.ArrayBuffer
  Int8Array = global.Int8Array
  Uint8Array = global.Uint8Array
  Uint8ClampedArray = global.Uint8ClampedArray
  Int16Array = global.Int16Array
  Uint16Array = global.Uint16Array
  Int32Array = global.Int32Array
  Uint32Array = global.Uint32Array
  Float32Array = global.Float32Array
  Float64Array = global.Float64Array
  BigInt64Array = global.BigInt64Array
  BigUint64Array = global.BigUint64Array
};


(()=>{var wr=Object.create;var li=Object.defineProperty,Ar=Object.defineProperties,Sr=Object.getOwnPropertyDescriptor,Tr=Object.getOwnPropertyDescriptors,Dr=Object.getOwnPropertyNames,Ji=Object.getOwnPropertySymbols,Cr=Object.getPrototypeOf,Zi=Object.prototype.hasOwnProperty,vr=Object.prototype.propertyIsEnumerable;var Xi=(e,t,i)=>t in e?li(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,oi=(e,t)=>{for(var i in t||(t={}))Zi.call(t,i)&&Xi(e,i,t[i]);if(Ji)for(var i of Ji(t))vr.call(t,i)&&Xi(e,i,t[i]);return e},Qi=(e,t)=>Ar(e,Tr(t));var ea=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var kr=(e,t,i,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Dr(t))!Zi.call(e,n)&&n!==i&&li(e,n,{get:()=>t[n],enumerable:!(a=Sr(t,n))||a.enumerable});return e};var J=(e,t,i)=>(i=e!=null?wr(Cr(e)):{},kr(t||!e||!e.__esModule?li(i,"default",{value:e,enumerable:!0}):i,e));var ta=(e,t,i)=>new Promise((a,n)=>{var r=o=>{try{c(i.next(o))}catch(u){n(u)}},s=o=>{try{c(i.throw(o))}catch(u){n(u)}},c=o=>o.done?a(o.value):Promise.resolve(o.value).then(r,s);c((i=i.apply(e,t)).next())});var X=ea((fu,ia)=>{ia.exports=Vue});var ci=ea((mu,aa)=>{aa.exports=uni.Vuex});var te=J(X());var R=J(X()),ka=J(ci());var Er=e=>typeof e=="string",xr="onResize";function Ge(e){return weex.requireModule(e)}function q(e,t,...i){uni.__log__?uni.__log__(e,t,...i):console[e].apply(console,[...i,t])}function F(e,t){return Er(e)?t:e}var Lr=e=>(t,i=(0,R.getCurrentInstance)())=>{!R.isInSSRComponentSetup&&(0,R.injectHook)(e,t,i)},Ea=Lr(xr),Ir="dev",xa,La,Ia,Na,Ra;xa="https://ztest1.candychat.link",Na="https://mtest2.candychat.link",Ra="https://atest3.267girl.com",La="https://pic2.candychat.link/",Ia="https://pic3.candychat.link/";var Nr={wv:"13.2.0",ENV:Ir,apiHost:xa,ossPath:La,pApiHost:Na,oApiHost:Ra,ossPicPath:Ia,zT:3,appId:plus.runtime.appid,appV:parseInt(plus.runtime.version.split(".").join("")),OSS_PATH_V:1,OSS_PIC_PATH_V:1,API_HOST_V:1,isAndroid:plus.os.name=="Android",PHOTO:1,VIDEO:2,VOICE:3,TXT:4,SYSTEM_ID:1e7,M_TEXT:1,M_VOICE:2,M_IMG:3,M_GIFT:5,M_NOTICE:6,M_CALL:8,M_RECOMMEND_USER:11,M_RECOMMEND_CLUB:12,M_VIDEO:18,M_GIFT_ASK:21,M_NOTICE_SYS:22,M_EXPRESSION:23,M_LETTER:24,M_PAID_PHOTO:25,M_PAID_VIDEO:26,M_MATCH_SUCCESS:27,M_N_DEF:100,M_N_AUDIT:103,M_N_VIP:104,M_N_RECHARGE:105,M_N_CLUB_AUDIT_REJECT:106,M_N_CLUB_AUDIT:107,M_N_GREETING_AUDIT:115,M_N_SYS_NOTICE:116,M_N_CALL:117,M_N_COOPERATE:118,M_N_WITHDRAW:119,M_N_REPORT_AUDIT:120,M_N_IMG:121,M_N_PRIVACY_CALL:122,M_N_WITHDRAW_NOTICE:123,M_N_WITH_MEDIA:124,M_N_MONITOR:202,M_C_RECHARGE:1001,M_C_CALL_TEXT_AUDIO:1002,M_CHAT_PRI:1,M_CHAT_CLUB:2,M_CHAT_ASS:3,M_CHAT_NOTICE:4,M_CHAT_NOTIFY:5,M_CHAT_CLUB_NOTICE:6,PAY_TYPE_SUCCESS:0,PAY_TYPE_FAIL:1,PAY_TYPE_CANCEL:2,PAY_TYPE_NOT_EXIST:3,PAY_TYPE_NOT_ALLOW:4,PAY_TYPE_ERROR:5,MATCH_PRICE:10},v=Nr;var Ze={FIND:0,USER:1,MSG:2,MY:3},lt={FIND:"/pages/user/index",MSG:"/pages/msg/index",CALL:"/pages/call-history/index",USER:"/pages/user/index",MY:"/pages/my/index"};var V={CREATE:1,JOIN:2,EDIT_NAME:3,MUTE_ALL_MEMBER:4,REMOVE:5,QUIT:6,DISSOLUTION:7,MUTE_MEMBER:8,MUTE_SEND_FAIL:9,INVITE_JOIN:10,SET_FOUNDER:11,SET_MANAGER:12,YOUR_GIFT_RETURN:13,GIFT_HAS_SIGNED:14,SIGN_GIFT:15,SIGN_GIFT_FAIL:16,YOUR_GIFT_SIGNED:17,ACTION_GIFT:18,GIFT_NO_REPLY_RETURN:19,GIFT_NO_ROB_RETURN:20,YOU_GIFT_ROB_OVER:21,GIFT_NO_SIGN_RETURN:22,FIRST_MSG_FEE:23,INVITE_FAILED:24,SIGNED_FOR:25},Di={NOT_REPLY:1,NOT_CHEAT_USER:2},Rr={en:{title:"English",language:"en",code:"en-US"},es:{title:"espa\xF1ol",language:"es",code:"es-ES"},ar:{title:"\u0639\u0631\u0628\u064A",language:"ar",code:"ar-SA"},vi:{title:"Ti\u1EBFng Vi\u1EC7t",language:"vi",code:"vi-VN"},tr:{title:"T\xFCrk\xE7e",language:"tr",code:"tr-TR"},pt:{title:"Portugu\xEAs",language:"pt",code:"pt-PT"}};var Oa={ACCOUNT:0,LOGIN:1,MESSAGE:2,RECHARGE:6,MSG_SYSTEM:7,DEVICE:8,IP:9,CALL:10,WITHDRAW:11,JOIN_CLUB:14,CREATE_CLUB:15,COACH_LIST:16,SAY_HELLO_MSG:17,GIFT:18,MATCH:19,MOMENT:20,TASK:21,GAME:22,INVITE:23,CERTIFICATION:24,CONSUME:25,NOTIFICATION:26,RANKING_LIST:27};var Ut={GIFT:1,COIN:2,BOX:3};var Ma={MOMENT:1,SIGN:2,CHECK_SIGN:3,MESSAGE:4,CHECK_NICKNAME:5,CALL:6,CLUB_INTRO:7,CHECK_CLUB_NAME:8,CHECK_CLUB_INTRO:9,REPORT:10,FEEDBACK:11,FEE_ALBUM:12,GREET:13,SENSITIVE:14,MSG_PRI:15,MSG_CLUB:16,MSG_SYS:17,MSG_KEFU:18,GAME_MSG:19,CHECK_CLUB_NAME_V1:20,CHECK_CLUB_INTRO_V1:21,CHECK_CLUB_REASON:22,CLUB_NAME:23,CLUB_APPLICATION_REASON:24,BANNED_REASON:25,WARNING_REASON:26};var Fa={USER:1,STREAMER:3,AGENT:5};var Or={DISBAND:1,CHECK_RESULT:2};var Mr=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Ee=e=>Mr?Symbol(e):e,Fr=(e,t,i)=>Pr({l:e,k:t,s:i}),Pr=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),ue=e=>typeof e=="number"&&isFinite(e),Br=e=>Ci(e)==="[object Date]",Ot=e=>Ci(e)==="[object RegExp]",Wt=e=>$(e)&&Object.keys(e).length===0;function Ur(e,t){typeof console!="undefined"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}var me=Object.assign;function na(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}var Wr=Object.prototype.hasOwnProperty;function Pa(e,t){return Wr.call(e,t)}var le=Array.isArray,de=e=>typeof e=="function",x=e=>typeof e=="string",ee=e=>typeof e=="boolean",fe=e=>e!==null&&typeof e=="object",Ba=Object.prototype.toString,Ci=e=>Ba.call(e),$=e=>Ci(e)==="[object Object]",Gr=e=>e==null?"":le(e)||$(e)&&e.toString===Ba?JSON.stringify(e,null,2):String(e);var $r=Object.prototype.hasOwnProperty;function Hr(e,t){return $r.call(e,t)}var Nt=e=>e!==null&&typeof e=="object",xe=[];xe[0]={w:[0],i:[3,0],["["]:[4],o:[7]};xe[1]={w:[1],["."]:[2],["["]:[4],o:[7]};xe[2]={w:[2],i:[3,0],[0]:[3,0]};xe[3]={i:[3,0],[0]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};xe[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};xe[5]={["'"]:[4,0],o:8,l:[5,0]};xe[6]={['"']:[4,0],o:8,l:[6,0]};var Vr=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function jr(e){return Vr.test(e)}function Yr(e){let t=e.charCodeAt(0),i=e.charCodeAt(e.length-1);return t===i&&(t===34||t===39)?e.slice(1,-1):e}function Kr(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function zr(e){let t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:jr(t)?Yr(t):"*"+t}function qr(e){let t=[],i=-1,a=0,n=0,r,s,c,o,u,f,h,_=[];_[0]=()=>{s===void 0?s=c:s+=c},_[1]=()=>{s!==void 0&&(t.push(s),s=void 0)},_[2]=()=>{_[0](),n++},_[3]=()=>{if(n>0)n--,a=4,_[0]();else{if(n=0,s===void 0||(s=zr(s),s===!1))return!1;_[1]()}};function E(){let k=e[i+1];if(a===5&&k==="'"||a===6&&k==='"')return i++,c="\\"+k,_[0](),!0}for(;a!==null;)if(i++,r=e[i],!(r==="\\"&&E())){if(o=Kr(r),h=xe[a],u=h[o]||h.l||8,u===8||(a=u[0],u[1]!==void 0&&(f=_[u[1]],f&&(c=r,f()===!1))))return;if(a===7)return t}}var ra=new Map;function Mt(e,t){if(!Nt(e))return null;let i=ra.get(t);if(i||(i=qr(t),i&&ra.set(t,i)),!i)return null;let a=i.length,n=e,r=0;for(;r<a;){let s=n[i[r]];if(s===void 0)return null;n=s,r++}return n}function pi(e){if(!Nt(e))return e;for(let t in e)if(Hr(e,t))if(!t.includes("."))Nt(e[t])&&pi(e[t]);else{let i=t.split("."),a=i.length-1,n=e;for(let r=0;r<a;r++)i[r]in n||(n[i[r]]={}),n=n[i[r]];n[i[a]]=e[t],delete e[t],Nt(n[i[a]])&&pi(n[i[a]])}return e}var Jr=e=>e,Xr=e=>"",Zr="text",Qr=e=>e.length===0?"":e.join(""),es=Gr;function sa(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function ts(e){let t=ue(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(ue(e.named.count)||ue(e.named.n))?ue(e.named.count)?e.named.count:ue(e.named.n)?e.named.n:t:t}function is(e,t){t.count||(t.count=e),t.n||(t.n=e)}function as(e={}){let t=e.locale,i=ts(e),a=fe(e.pluralRules)&&x(t)&&de(e.pluralRules[t])?e.pluralRules[t]:sa,n=fe(e.pluralRules)&&x(t)&&de(e.pluralRules[t])?sa:void 0,r=T=>T[a(i,T.length,n)],s=e.list||[],c=T=>s[T],o=e.named||{};ue(e.pluralIndex)&&is(i,o);let u=T=>o[T];function f(T){let C=de(e.messages)?e.messages(T):fe(e.messages)?e.messages[T]:!1;return C||(e.parent?e.parent.message(T):Xr)}let h=T=>e.modifiers?e.modifiers[T]:Jr,_=$(e.processor)&&de(e.processor.normalize)?e.processor.normalize:Qr,E=$(e.processor)&&de(e.processor.interpolate)?e.processor.interpolate:es,k=$(e.processor)&&x(e.processor.type)?e.processor.type:Zr,B={list:c,named:u,plural:r,linked:(T,C)=>{let P=f(T)(B);return x(C)?h(C)(P):P},message:f,type:k,interpolate:E,normalize:_};return B}function Ua(e,t,i={}){let{domain:a,messages:n,args:r}=i,s=e,c=new SyntaxError(String(s));return c.code=e,t&&(c.location=t),c.domain=a,c}var ns="9.1.9",Gt=-1,la="";function rs(){return{upper:e=>x(e)?e.toUpperCase():e,lower:e=>x(e)?e.toLowerCase():e,capitalize:e=>x(e)?`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`:e}}var ss,oa=0;function ls(e={}){let t=x(e.version)?e.version:ns,i=x(e.locale)?e.locale:"en-US",a=le(e.fallbackLocale)||$(e.fallbackLocale)||x(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:i,n=$(e.messages)?e.messages:{[i]:{}},r=$(e.datetimeFormats)?e.datetimeFormats:{[i]:{}},s=$(e.numberFormats)?e.numberFormats:{[i]:{}},c=me({},e.modifiers||{},rs()),o=e.pluralRules||{},u=de(e.missing)?e.missing:null,f=ee(e.missingWarn)||Ot(e.missingWarn)?e.missingWarn:!0,h=ee(e.fallbackWarn)||Ot(e.fallbackWarn)?e.fallbackWarn:!0,_=!!e.fallbackFormat,E=!!e.unresolving,k=de(e.postTranslation)?e.postTranslation:null,B=$(e.processor)?e.processor:null,T=ee(e.warnHtmlMessage)?e.warnHtmlMessage:!0,C=!!e.escapeParameter,P=de(e.messageCompiler)?e.messageCompiler:ss,U=de(e.onWarn)?e.onWarn:Ur,b=e,W=fe(b.__datetimeFormatters)?b.__datetimeFormatters:new Map,he=fe(b.__numberFormatters)?b.__numberFormatters:new Map,Pe=fe(b.__meta)?b.__meta:{};return oa++,{version:t,cid:oa,locale:i,fallbackLocale:a,messages:n,datetimeFormats:r,numberFormats:s,modifiers:c,pluralRules:o,missing:u,missingWarn:f,fallbackWarn:h,fallbackFormat:_,unresolving:E,postTranslation:k,processor:B,warnHtmlMessage:T,escapeParameter:C,messageCompiler:P,onWarn:U,__datetimeFormatters:W,__numberFormatters:he,__meta:Pe}}function vi(e,t,i,a,n){let{missing:r,onWarn:s}=e;if(r!==null){let c=r(e,i,t,n);return x(c)?c:t}else return t}function pt(e,t,i){let a=e;a.__localeChainCache||(a.__localeChainCache=new Map);let n=a.__localeChainCache.get(i);if(!n){n=[];let r=[i];for(;le(r);)r=ca(n,r,t);let s=le(t)?t:$(t)?t.default?t.default:null:t;r=x(s)?[s]:s,le(r)&&ca(n,r,!1),a.__localeChainCache.set(i,n)}return n}function ca(e,t,i){let a=!0;for(let n=0;n<t.length&&ee(a);n++){let r=t[n];x(r)&&(a=os(e,t[n],i))}return a}function os(e,t,i){let a,n=t.split("-");do{let r=n.join("-");a=cs(e,r,i),n.splice(-1,1)}while(n.length&&a===!0);return a}function cs(e,t,i){let a=!1;if(!e.includes(t)&&(a=!0,t)){a=t[t.length-1]!=="!";let n=t.replace(/!/g,"");e.push(n),(le(i)||$(i))&&i[n]&&(a=i[n])}return a}function st(e,t,i){let a=e;a.__localeChainCache=new Map,pt(e,i,t)}function Je(e){return Ua(e,null,void 0)}var ua=()=>"",We=e=>de(e);function da(e,...t){let{fallbackFormat:i,postTranslation:a,unresolving:n,fallbackLocale:r,messages:s}=e,[c,o]=gi(...t),u=ee(o.missingWarn)?o.missingWarn:e.missingWarn,f=ee(o.fallbackWarn)?o.fallbackWarn:e.fallbackWarn,h=ee(o.escapeParameter)?o.escapeParameter:e.escapeParameter,_=!!o.resolvedMessage,E=x(o.default)||ee(o.default)?ee(o.default)?c:o.default:i?c:"",k=i||E!=="",B=x(o.locale)?o.locale:e.locale;h&&us(o);let[T,C,P]=_?[c,B,s[B]||{}]:ds(e,c,B,r,f,u),U=c;if(!_&&!(x(T)||We(T))&&k&&(T=E,U=T),!_&&(!(x(T)||We(T))||!x(C)))return n?Gt:c;let b=!1,W=()=>{b=!0},he=We(T)?T:Wa(e,c,C,T,U,W);if(b)return T;let Pe=ps(e,C,P,o),pe=as(Pe),_e=fs(e,he,pe);return a?a(_e):_e}function us(e){le(e.list)?e.list=e.list.map(t=>x(t)?na(t):t):fe(e.named)&&Object.keys(e.named).forEach(t=>{x(e.named[t])&&(e.named[t]=na(e.named[t]))})}function ds(e,t,i,a,n,r){let{messages:s,onWarn:c}=e,o=pt(e,a,i),u={},f,h=null,_="translate";for(let E=0;E<o.length&&(f=o[E],u=s[f]||{},(h=Mt(u,t))===null&&(h=u[t]),!(x(h)||de(h)));E++){let k=vi(e,t,f,r,_);k!==t&&(h=k)}return[h,f,u]}function Wa(e,t,i,a,n,r){let{messageCompiler:s,warnHtmlMessage:c}=e;if(We(a)){let u=a;return u.locale=u.locale||i,u.key=u.key||t,u}let o=s(a,ms(e,i,n,a,c,r));return o.locale=i,o.key=t,o.source=a,o}function fs(e,t,i){return t(i)}function gi(...e){let[t,i,a]=e,n={};if(!x(t)&&!ue(t)&&!We(t))throw Je(14);let r=ue(t)?String(t):(We(t),t);return ue(i)?n.plural=i:x(i)?n.default=i:$(i)&&!Wt(i)?n.named=i:le(i)&&(n.list=i),ue(a)?n.plural=a:x(a)?n.default=a:$(a)&&me(n,a),[r,n]}function ms(e,t,i,a,n,r){return{warnHtmlMessage:n,onError:s=>{throw r&&r(s),s},onCacheKey:s=>Fr(t,i,s)}}function ps(e,t,i,a){let{modifiers:n,pluralRules:r}=e,c={locale:t,modifiers:n,pluralRules:r,messages:o=>{let u=Mt(i,o);if(x(u)){let f=!1,_=Wa(e,o,t,u,o,()=>{f=!0});return f?ua:_}else return We(u)?u:ua}};return e.processor&&(c.processor=e.processor),a.list&&(c.list=a.list),a.named&&(c.named=a.named),ue(a.plural)&&(c.pluralIndex=a.plural),c}function fa(e,...t){let{datetimeFormats:i,unresolving:a,fallbackLocale:n,onWarn:r}=e,{__datetimeFormatters:s}=e,[c,o,u,f]=hi(...t),h=ee(u.missingWarn)?u.missingWarn:e.missingWarn;ee(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;let _=!!u.part,E=x(u.locale)?u.locale:e.locale,k=pt(e,n,E);if(!x(c)||c==="")return new Intl.DateTimeFormat(E).format(o);let B={},T,C=null,P="datetime format";for(let W=0;W<k.length&&(T=k[W],B=i[T]||{},C=B[c],!$(C));W++)vi(e,c,T,h,P);if(!$(C)||!x(T))return a?Gt:c;let U=`${T}__${c}`;Wt(f)||(U=`${U}__${JSON.stringify(f)}`);let b=s.get(U);return b||(b=new Intl.DateTimeFormat(T,me({},C,f)),s.set(U,b)),_?b.formatToParts(o):b.format(o)}function hi(...e){let[t,i,a,n]=e,r={},s={},c;if(x(t)){if(!/\d{4}-\d{2}-\d{2}(T.*)?/.test(t))throw Je(16);c=new Date(t);try{c.toISOString()}catch(o){throw Je(16)}}else if(Br(t)){if(isNaN(t.getTime()))throw Je(15);c=t}else if(ue(t))c=t;else throw Je(14);return x(i)?r.key=i:$(i)&&(r=i),x(a)?r.locale=a:$(a)&&(s=a),$(n)&&(s=n),[r.key||"",c,r,s]}function ma(e,t,i){let a=e;for(let n in i){let r=`${t}__${n}`;a.__datetimeFormatters.has(r)&&a.__datetimeFormatters.delete(r)}}function pa(e,...t){let{numberFormats:i,unresolving:a,fallbackLocale:n,onWarn:r}=e,{__numberFormatters:s}=e,[c,o,u,f]=_i(...t),h=ee(u.missingWarn)?u.missingWarn:e.missingWarn;ee(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;let _=!!u.part,E=x(u.locale)?u.locale:e.locale,k=pt(e,n,E);if(!x(c)||c==="")return new Intl.NumberFormat(E).format(o);let B={},T,C=null,P="number format";for(let W=0;W<k.length&&(T=k[W],B=i[T]||{},C=B[c],!$(C));W++)vi(e,c,T,h,P);if(!$(C)||!x(T))return a?Gt:c;let U=`${T}__${c}`;Wt(f)||(U=`${U}__${JSON.stringify(f)}`);let b=s.get(U);return b||(b=new Intl.NumberFormat(T,me({},C,f)),s.set(U,b)),_?b.formatToParts(o):b.format(o)}function _i(...e){let[t,i,a,n]=e,r={},s={};if(!ue(t))throw Je(14);let c=t;return x(i)?r.key=i:$(i)&&(r=i),x(a)?r.locale=a:$(a)&&(s=a),$(n)&&(s=n),[r.key||"",c,r,s]}function ga(e,t,i){let a=e;for(let n in i){let r=`${t}__${n}`;a.__numberFormatters.has(r)&&a.__numberFormatters.delete(r)}}var gs="9.1.9";function Ue(e,...t){return Ua(e,null,void 0)}var yi=Ee("__transrateVNode"),bi=Ee("__datetimeParts"),wi=Ee("__numberParts");Ee("__enableEmitter");Ee("__disableEmitter");var hs=Ee("__setPluralRules");Ee("__intlifyMeta");var Ga=Ee("__injectWithOption"),ha=0;function _a(e){return(t,i,a,n)=>e(i,a,(0,R.getCurrentInstance)()||void 0,n)}function $a(e,t){let{messages:i,__i18n:a}=t,n=$(i)?i:le(a)?{}:{[e]:{}};if(le(a)&&a.forEach(({locale:r,resource:s})=>{r?(n[r]=n[r]||{},Ft(s,n[r])):Ft(s,n)}),t.flatJson)for(let r in n)Pa(n,r)&&pi(n[r]);return n}var vt=e=>!fe(e)||le(e);function Ft(e,t){if(vt(e)||vt(t))throw Ue(20);for(let i in e)Pa(e,i)&&(vt(e[i])||vt(t[i])?t[i]=e[i]:Ft(e[i],t[i]))}function _s(e={}){let{__root:t}=e,i=t===void 0,a=ee(e.inheritLocale)?e.inheritLocale:!0,n=(0,R.ref)(t&&a?t.locale.value:x(e.locale)?e.locale:"en-US"),r=(0,R.ref)(t&&a?t.fallbackLocale.value:x(e.fallbackLocale)||le(e.fallbackLocale)||$(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:n.value),s=(0,R.ref)($a(n.value,e)),c=(0,R.ref)($(e.datetimeFormats)?e.datetimeFormats:{[n.value]:{}}),o=(0,R.ref)($(e.numberFormats)?e.numberFormats:{[n.value]:{}}),u=t?t.missingWarn:ee(e.missingWarn)||Ot(e.missingWarn)?e.missingWarn:!0,f=t?t.fallbackWarn:ee(e.fallbackWarn)||Ot(e.fallbackWarn)?e.fallbackWarn:!0,h=t?t.fallbackRoot:ee(e.fallbackRoot)?e.fallbackRoot:!0,_=!!e.fallbackFormat,E=de(e.missing)?e.missing:null,k=de(e.missing)?_a(e.missing):null,B=de(e.postTranslation)?e.postTranslation:null,T=ee(e.warnHtmlMessage)?e.warnHtmlMessage:!0,C=!!e.escapeParameter,P=t?t.modifiers:$(e.modifiers)?e.modifiers:{},U=e.pluralRules||t&&t.pluralRules,b;function W(){return ls({version:gs,locale:n.value,fallbackLocale:r.value,messages:s.value,messageCompiler:function(A){return ye=>ye.normalize([A])},datetimeFormats:c.value,numberFormats:o.value,modifiers:P,pluralRules:U,missing:k===null?void 0:k,missingWarn:u,fallbackWarn:f,fallbackFormat:_,unresolving:!0,postTranslation:B===null?void 0:B,warnHtmlMessage:T,escapeParameter:C,__datetimeFormatters:$(b)?b.__datetimeFormatters:void 0,__numberFormatters:$(b)?b.__numberFormatters:void 0,__v_emitter:$(b)?b.__v_emitter:void 0,__meta:{framework:"vue"}})}b=W(),st(b,n.value,r.value);function he(){return[n.value,r.value,s.value,c.value,o.value]}let Pe=(0,R.computed)({get:()=>n.value,set:p=>{n.value=p,b.locale=n.value}}),pe=(0,R.computed)({get:()=>r.value,set:p=>{r.value=p,b.fallbackLocale=r.value,st(b,n.value,p)}}),_e=(0,R.computed)(()=>s.value),Te=(0,R.computed)(()=>c.value),St=(0,R.computed)(()=>o.value);function Tt(){return de(B)?B:null}function Dt(p){B=p,b.postTranslation=p}function ri(){return E}function Zn(p){p!==null&&(k=_a(p)),E=p,b.missing=k}function Ke(p,A,ye,ce,si,Ct){he();let rt;if(rt=p(b),ue(rt)&&rt===Gt){let[br,uu]=A();return t&&h?ce(t):si(br)}else{if(Ct(rt))return rt;throw Ue(14)}}function zi(...p){return Ke(A=>da(A,...p),()=>gi(...p),"translate",A=>A.t(...p),A=>A,A=>x(A))}function Qn(...p){let[A,ye,ce]=p;if(ce&&!fe(ce))throw Ue(15);return zi(A,ye,me({resolvedMessage:!0},ce||{}))}function er(...p){return Ke(A=>fa(A,...p),()=>hi(...p),"datetime format",A=>A.d(...p),()=>la,A=>x(A))}function tr(...p){return Ke(A=>pa(A,...p),()=>_i(...p),"number format",A=>A.n(...p),()=>la,A=>x(A))}function ir(p){return p.map(A=>x(A)?(0,R.createVNode)(R.Text,null,A,0):A)}let ar={normalize:ir,interpolate:p=>p,type:"vnode"};function nr(...p){return Ke(A=>{let ye,ce=A;try{ce.processor=ar,ye=da(ce,...p)}finally{ce.processor=null}return ye},()=>gi(...p),"translate",A=>A[yi](...p),A=>[(0,R.createVNode)(R.Text,null,A,0)],A=>le(A))}function rr(...p){return Ke(A=>pa(A,...p),()=>_i(...p),"number format",A=>A[wi](...p),()=>[],A=>x(A)||le(A))}function sr(...p){return Ke(A=>fa(A,...p),()=>hi(...p),"datetime format",A=>A[bi](...p),()=>[],A=>x(A)||le(A))}function lr(p){U=p,b.pluralRules=U}function or(p,A){let ye=x(A)?A:n.value,ce=qi(ye);return Mt(ce,p)!==null}function cr(p){let A=null,ye=pt(b,r.value,n.value);for(let ce=0;ce<ye.length;ce++){let si=s.value[ye[ce]]||{},Ct=Mt(si,p);if(Ct!=null){A=Ct;break}}return A}function ur(p){let A=cr(p);return A!=null?A:t?t.tm(p)||{}:{}}function qi(p){return s.value[p]||{}}function dr(p,A){s.value[p]=A,b.messages=s.value}function fr(p,A){s.value[p]=s.value[p]||{},Ft(A,s.value[p]),b.messages=s.value}function mr(p){return c.value[p]||{}}function pr(p,A){c.value[p]=A,b.datetimeFormats=c.value,ma(b,p,A)}function gr(p,A){c.value[p]=me(c.value[p]||{},A),b.datetimeFormats=c.value,ma(b,p,A)}function hr(p){return o.value[p]||{}}function _r(p,A){o.value[p]=A,b.numberFormats=o.value,ga(b,p,A)}function yr(p,A){o.value[p]=me(o.value[p]||{},A),b.numberFormats=o.value,ga(b,p,A)}return ha++,t&&((0,R.watch)(t.locale,p=>{a&&(n.value=p,b.locale=p,st(b,n.value,r.value))}),(0,R.watch)(t.fallbackLocale,p=>{a&&(r.value=p,b.fallbackLocale=p,st(b,n.value,r.value))})),{id:ha,locale:Pe,fallbackLocale:pe,get inheritLocale(){return a},set inheritLocale(p){a=p,p&&t&&(n.value=t.locale.value,r.value=t.fallbackLocale.value,st(b,n.value,r.value))},get availableLocales(){return Object.keys(s.value).sort()},messages:_e,datetimeFormats:Te,numberFormats:St,get modifiers(){return P},get pluralRules(){return U||{}},get isGlobal(){return i},get missingWarn(){return u},set missingWarn(p){u=p,b.missingWarn=u},get fallbackWarn(){return f},set fallbackWarn(p){f=p,b.fallbackWarn=f},get fallbackRoot(){return h},set fallbackRoot(p){h=p},get fallbackFormat(){return _},set fallbackFormat(p){_=p,b.fallbackFormat=_},get warnHtmlMessage(){return T},set warnHtmlMessage(p){T=p,b.warnHtmlMessage=p},get escapeParameter(){return C},set escapeParameter(p){C=p,b.escapeParameter=p},t:zi,rt:Qn,d:er,n:tr,te:or,tm:ur,getLocaleMessage:qi,setLocaleMessage:dr,mergeLocaleMessage:fr,getDateTimeFormat:mr,setDateTimeFormat:pr,mergeDateTimeFormat:gr,getNumberFormat:hr,setNumberFormat:_r,mergeNumberFormat:yr,getPostTranslationHandler:Tt,setPostTranslationHandler:Dt,getMissingHandler:ri,setMissingHandler:Zn,[yi]:nr,[wi]:rr,[bi]:sr,[hs]:lr,[Ga]:e.__injectWithOption}}var ki={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};me({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>ue(e)||!isNaN(e)}},ki);function ys({slots:e},t){return t.length===1&&t[0]==="default"?e.default?e.default():[]:t.reduce((i,a)=>{let n=e[a];return n&&(i[a]=n()),i},{})}function Ha(e,t,i,a){let{slots:n,attrs:r}=t;return()=>{let s={part:!0},c={};e.locale&&(s.locale=e.locale),x(e.format)?s.key=e.format:fe(e.format)&&(x(e.format.key)&&(s.key=e.format.key),c=Object.keys(e.format).reduce((h,_)=>i.includes(_)?me({},h,{[_]:e.format[_]}):h,{}));let o=a(e.value,s,c),u=[s.key];le(o)?u=o.map((h,_)=>{let E=n[h.type];return E?E({[h.type]:h.value,index:_,parts:o}):[h.value]}):x(o)&&(u=[o]);let f=me({},r);return x(e.tag)?(0,R.h)(e.tag,f,u):fe(e.tag)?(0,R.h)(e.tag,f,u):(0,R.h)(R.Fragment,f,u)}}var bs=["localeMatcher","style","unit","unitDisplay","currency","currencyDisplay","useGrouping","numberingSystem","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","notation","formatMatcher"];me({value:{type:Number,required:!0},format:{type:[String,Object]}},ki);var ws=["dateStyle","timeStyle","fractionalSecondDigits","calendar","dayPeriod","numberingSystem","localeMatcher","timeZone","hour12","hourCycle","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"];me({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},ki);function Ei(e={}){let t=(0,R.getCurrentInstance)();if(t==null)throw Ue(16);if(!t.appContext.app.__VUE_I18N_SYMBOL__)throw Ue(17);let i=(0,R.inject)(t.appContext.app.__VUE_I18N_SYMBOL__);if(!i)throw Ue(22);let a=i.mode==="composition"?i.global:i.global.__composer,n=Wt(e)?"__i18n"in t.type?"local":"global":e.useScope?e.useScope:"local";if(n==="global"){let c=fe(e.messages)?e.messages:{};"__i18nGlobal"in t.type&&(c=$a(a.locale.value,{messages:c,__i18n:t.type.__i18nGlobal}));let o=Object.keys(c);if(o.length&&o.forEach(u=>{a.mergeLocaleMessage(u,c[u])}),fe(e.datetimeFormats)){let u=Object.keys(e.datetimeFormats);u.length&&u.forEach(f=>{a.mergeDateTimeFormat(f,e.datetimeFormats[f])})}if(fe(e.numberFormats)){let u=Object.keys(e.numberFormats);u.length&&u.forEach(f=>{a.mergeNumberFormat(f,e.numberFormats[f])})}return a}if(n==="parent"){let c=As(i,t,e.__useComponent);return c==null&&(c=a),c}if(i.mode==="legacy")throw Ue(18);let r=i,s=r.__getInstance(t);if(s==null){let c=t.type,o=me({},e);c.__i18n&&(o.__i18n=c.__i18n),a&&(o.__root=a),s=_s(o),Ss(r,t),r.__setInstance(t,s)}return s}function As(e,t,i=!1){let a=null,n=t.root,r=t.parent;for(;r!=null;){let s=e;if(e.mode==="composition")a=s.__getInstance(r);else{let c=s.__getInstance(r);c!=null&&(a=c.__composer),i&&a&&!a[Ga]&&(a=null)}if(a!=null||n===r)break;r=r.parent}return a}function Ss(e,t,i){(0,R.onMounted)(()=>{},t),(0,R.onUnmounted)(()=>{e.__deleteInstance(t)},t)}function Ce(e,t,i=!1,a=null){let n=xi(e,i);a?uni.setStorage({key:n,data:t,success:a}):uni.setStorageSync(n,t)}function K(e,t=!1,i=null){let a=xi(e,t);if(i)uni.getStorage({key:a,success:i});else return uni.getStorageSync(a)}function $t(e,t=!1){uni.removeStorage({key:xi(e,t)})}function xi(e,t){return t?`_a_${e}`:`m_${e}`}function Ts(e,t){let i=t;return typeof t=="undefined"&&(i=getApp().globalData.uid),K(e+"_"+i)}var dt={NONE:0,WAITING:1,GAME:2,WEEK_UP:3,JUDGE_ROOM:100};var $e={VIDEO:1,VOICE:2},Li={CALL:1,ANSWER:2,MATCH_ACCEPT:3,MATCH_CONNECT:4},Va={CALL:1,MATCH:2},ja={DEF:0,NOTIFY:1,CONNECT:2},Ht={HOME:0,MSG:1,MATCH:2,RECOMMEND:3,MATCH_NOTIFY:4,QUALITY:5,NO_COINS_DIALOG:6,CALL_LOG:7,GAME_MATCH:8,GAME_MATCH_NOTIFY:9,RANKING_LIST:10,PRIVACY_SET_MSG:11,MOMENT:12,CALlING:98,FREE_MIN_POP:99,ANSWER_ERROR:100,END_PAGE:101,APP_NOTIFY:102};function Le(e){return e==1?l("himLower"):l("herLower")}function Ya(e){return e>=12?`1 ${l("yearLower")}`:`${e} ${Ds(e)}`}function Ds(e){return e>1?l("monthsLower"):l("monthLower")}function Ka(e){return e>1?l("weeksLower"):l("weekLower")}function za(e){return e>1?l("daysLower"):l("dayLower")}function Cs(e){return e>1?l("hoursLower"):l("hourLower")}function qa(e){return e>1?l("minsLower"):l("minLower")}function Ja(e){return e==$e.VIDEO?l("videoChat"):l("audioChat")}function Vt(e){return e==1?l("videoChatLower"):l("audioChatLower")}function jt(e){return`${e} ${e>1?l("coinsLower"):l("coinLower")}`}function Xa(e){return e==1?l("himselfLower"):l("herselfLower")}function gt(e){return e+" "+Cs(e)}function y(e){return typeof e=="undefined"||e==null||e==""}function vs(e){return e===""||e===null}var kt=new Promise(()=>{});function ks(e,t,i=""){if(y(e))return"";let a=[];for(let n in e)a.push(n+"="+e[n]);return i+a.join(t)}function Et(e){return typeof e=="number"?e+"":typeof e=="boolean"?e?"true":"false":y(e)?"null":typeof e=="object"?JSON.stringify(e):e}function xt(e){return e.replace(new RegExp("'","gm"),"\uFF07")}function Lt(e,t){let i={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in i)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,RegExp.$1.length==1?i[a]:("00"+i[a]).substr((""+i[a]).length)));return t}function Yt(e,t=18){if(y(e))return"";let i=new Date(Date.parse(e.replace(/-/g,"/"))),a=Math.ceil((new Date().getTime()-i)/31536e6),n=a>1?a-1:a;return n<t?t:n}function Es(e){return e=parseInt(e),e.toString().length==16?e=Math.round(e/1e3):e<1e10&&(e=e*1e3),e}function Be(e){return e<10?"0"+e:e}function Za(e,t=!1,i=!1,a=!0){e<1e10&&(e=e*1e3);var n=new Date(e),r=n.getFullYear(),s=n.getMonth()+1,c=n.getDate(),o=n.getHours(),u=n.getMinutes(),f=n.getSeconds();let h=t?`${r}-`:"";if(i)return h+Be(s)+"-"+Be(c);{let _=a?":"+Be(f):"";return h+Be(s)+"-"+Be(c)+" "+Be(o)+":"+Be(u)+_}}function Qa(e,t=!0,i=!1,a=""){if(y(e))return"";e=Es(e);let n;a==""?n=new Date:n=xs(a);let r=new Date(e),s=n.getFullYear(),c=n.getMonth()+1,o=n.getDate(),u=r.getFullYear(),f=r.getMonth()+1,h=r.getDate(),_="",E=t?" "+Lt(r,"hh:mm"):"";if(s==u){let C=n.getTime()-e;if(c==f&&o==h)C<60*1e3&&!t?_=l("just"):_=`${l("today")} ${Lt(r,"hh:mm")}`;else{let P=new Date;P.setDate(P.getDate()-1);let U=new Date;if(U.setDate(U.getDate()-2),f==P.getMonth()+1&&h==P.getDate())_=`${l("yesterday")} ${E}`;else{var k=C/36e5;if(k<=7*24){let b=new Array(7),W=i?"Short":"";b[0]=l("week.sun"+W),b[1]=l("week.mon"+W),b[2]=l("week.tues"+W),b[3]=l("week.wed"+W),b[4]=l("week.thur"+W),b[5]=l("week.fri"+W),b[6]=l("week.sat"+W);var B=b[r.getDay()];_=B+" "+E}else _=Lt(r,"M/d")+E}}}else _=Lt(r,"M/d")+E;return _}function xs(e){let t=new Date,i=t.getTime(),r=t.getTimezoneOffset()*6e4+i+36e5*e;return new Date(r)}function ht(e,t=!1){if(y(e)||e<0||isNaN(e))return t?"00:00:00":"00:00";var i=0,a=0;e>0&&e<10?e="0"+parseInt(e):e<=0?e="00":e>60&&(i=parseInt(e/60)<10?"0"+parseInt(e/60):parseInt(e/60),e=parseInt(e%60)<10?"0"+parseInt(e%60):parseInt(e%60),i>60&&(a=parseInt(i/60)<10?"0"+parseInt(i/60):parseInt(i/60),i=parseInt(i%60)<10?"0"+parseInt(i%60):parseInt(i%60)));var n;return a>0?n=a+":"+i+":"+e:i>0?(n=i+":"+e,t&&(n="00:"+n)):(n="00:"+e,t&&(n="00:"+n)),n}function _t(e){try{let t=JSON.parse(e);if(typeof t=="object")return t}catch(t){}return!1}var ui={};function Ls(e,t=500,i="throttle"){let a=e.name;y(a)&&(a=i),!ui[a]&&(ui[a]=!0,e(),setTimeout(function(){ui[a]=""},t))}function en(e,t,i=1e4){return e<=0||t<=0?[108,192]:(t>e?(t=t*108/e,t>i&&(t=i),e=108):(t=t*148/e,e=148),[e,t])}function Is(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var ot={adminAgencyList:"/pagesAdmin/agency/list",adminAgencyDetail:"/pagesAdmin/agency/agency-detail",adminAgencyEdit:"/pagesAdmin/agency/agency-edit",adminAgencyEditPrice:"/pagesAdmin/agency/agency-edit-price",adminAgencyEditWithdrawInfo:"/pagesAdmin/agency/withdraw-info",adminAgencyEditName:"/pagesAdmin/agency/agency-edit-nickname",adminAgencyEditCountry:"/pagesAdmin/agency/agency-edit-country",adminAgencyEditEmail:"/pagesAdmin/agency/agency-edit-email",adminAgencyEditWhatsApp:"/pagesAdmin/agency/agency-edit-whatsapp",adminAgencyInvited:"/pagesAdmin/agency/invited",adminAgencyListSub:"/pagesAdmin/agency/list-sub",adminAgencyGirlsList:"/pagesAdmin/agency/girls-list",adminAgencyGirlsListSub:"/pagesAdmin/agency/girls-list-sub",adminAgencyDataPanel:"/pagesAdmin/agency/data-panel",adminAgencyDataHistory:"/pagesAdmin/agency/data-history",adminAgencyDataDetail:"/pagesAdmin/agency/data-detail",adminAgencyDataDetailTask:"/pagesAdmin/agency/data-detail-task",adminAgencyWithdrawRecords:"/pagesAdmin/agency/withdraw-records",adminAgencyWalletDetail:"/pagesAdmin/agency/wallet-detail",adminAgencyHandleBan:"/pagesAdmin/agency/handle-ban",adminAgencyHandleDelete:"/pagesAdmin/agency/handle-delete",adminAgencySelected:"/pagesAdmin/agency/selected-agency",adminAgencyStatus:"/pagesAdmin/agency/agency-status",adminAgencySubAgencyList:"/pagesAdmin/agency/sub-agency-list",adminAgencyWithdrawGirlList:"/pagesAdmin/agency/withdraw/girl-list",adminAgencyWithdrawSubAgentList:"/pagesAdmin/agency/withdraw/sub-agent-list",adminAgencyWithdrawSettlementDetail:"/pagesAdmin/agency/withdraw/settlement-detail",adminAgencyWithdrawEntiretyDetail:"/pagesAdmin/agency/withdraw/entirety-detail",adminAgencyWithdrawEntiretyDetailReject:"/pagesAdmin/agency/withdraw/entirety-detail-reject",adminAgencyHistoricalMemberList:"/pagesAdmin/agency/historical-list",adminAgencyWithdrawSubAgentDetail:"/pagesAdmin/agency/withdraw/sub-agent-detail",adminAuditSettlement:"/pagesAdmin/auditNew/settlement",adminAuditSettlementSub:"/pagesAdmin/auditNew/settlement-sub",adminAuditWithdraw:"/pagesAdmin/auditNew/withdraw",adminAuditWithdrawCashList:"/pagesAdmin/audit/withdraw-cash-list",adminWallet:"/pagesAdmin/wallet/wallet",adminWalletCoinStat:"/pagesAdmin/wallet/coin-stat",adminAgencyAnchorDetail:"/pagesAdmin/agencyManager/anchor-detail",adminChannelBackend:"/pagesAdmin/channel/channel-backend",adminAuditAgencyAvatar:"/pagesAdmin/auditNew/agency-avatar",adminAuditAgencyName:"/pagesAdmin/auditNew/agency-name",adminAuditCheckAllUnderReview:"/pagesAdmin/audit/check-all-under-review",adminPermissionWebManage:"/pagesAdmin/more/permission-web-manage",adminPermissionList:"/pagesAdmin/more/permission-list",adminPermissionEdit:"/pagesAdmin/more/permission-edit",adminPermissionNewAccount:"/pagesAdmin/more/permission-new-account",adminPermissionChooseRole:"/pagesAdmin/more/permission-choose-role",adminPermissionNewRole:"/pagesAdmin/more/permission-new-role",adminWhiteList:"/pagesAdmin/more/white-list",adminCallEvaluationList:"/pagesAdmin/user/call-evaluation-list",adminWarnDeviceUser:"/pagesAdmin/user/ban-device-user",adminWarnList:"/pagesAdmin/audit/warn-list",adminVersionUseList:"/pagesAdmin/more/version-use-list",adminAuditSettlementReview:"/pagesAdmin/auditNew/settlement-review",adminAuditWithdrawReview:"/pagesAdmin/auditNew/withdraw-review",adminClubApplication:"/pagesAdmin/auditNew/club-application",adminClubModification:"/pagesAdmin/auditNew/club-modification",adminClubManagement:"/pagesAdmin/club/management",warningDialog:"/pagesDialog/warning",homeFilterSexGuide:"/pagesDialog/home-filter-sex-guide",club:"/pagesClub/club",clubReachLevel:"/pagesDialog/club-reach-level",clubStatusRemind:"/pagesDialog/club-status-remind",clubApplyCreate:"/pagesClub/apply-create",clubCreateSuccess:"/pagesClub/create-success",clubRules:"/pagesDialog/club-rules",clubApplicationList:"/pagesClub/application-list",clubWarning:"/pagesDialog/club-warning",clubDisband:"/pagesDialog/club-disband",adminClubManagementSub:"/pagesAdmin/club/management-sub",adminClubTodayNew:"/pagesAdmin/club/club-today-new",adminClubNormal:"/pagesAdmin/club/club-normal",adminClubManageGirls:"/pagesAdmin/club/club-manage-girls",adminClubOperator:"/pagesAdmin/club/club-operator",adminClubDisbanded:"/pagesAdmin/club/club-disbanded",adminClubMemberList:"/pagesAdmin/club/member-new",adminClubInfo:"/pagesAdmin/club/detail-new",adminCLubWarning:"/pagesAdmin/club/warning",adminClubOperatorLog:"/pagesAdmin/club/operation-log",adminClubPersonalApplication:"/pagesAdmin/auditNew/club-application-personal",adminOutsourcingIndex:"/pagesAdmin/more/outsourcing/index",adminOutsourcingPermissionList:"/pagesAdmin/more/outsourcing/permission-list",adminOutsourcingNewRole:"/pagesAdmin/more/outsourcing/new-role",adminOutsourcingEditRole:"/pagesAdmin/more/outsourcing/edit-role",adminRefundDetail:"/pagesAdmin/refund/detail"};function tn(e,t){let i=ot[e];return i||(i=e),i+ks(t,"&","?")}function Y(e,t=null,i=null,a=!1){let n=tn(e,t),r={url:n,fail:s=>{q("error","at common/route.js:107",`\u6253\u5F00\u9875\u9762\u5931\u8D25${n} ${JSON.stringify(s)}`),getApp().globalData.appCRE&&n.startsWith("/pagesAdmin")&&v.zT!=3&&G.request("/sign/reload-route",{},!0)}};a&&(r=Object.assign(r,a)),i!=null&&(r.events=i),uni.navigateTo(r)}function z(e,t,i,a,n=null){let s={url:tn(e,t),success(c){c.eventChannel.emit(i,a)}};n!=null&&(s.events=n),uni.navigateTo(s)}function Ii(e=1,t="",i=""){let a={delta:e};t&&(a.animationType=t),i&&(a.animationDuration=i),uni.navigateBack(a)}function Ns(e){y(e)||uni.switchTab({url:e})}function Kt(){let e=[],t=getCurrentPages();for(let i=0,a=t.length;i<a;i++){let n=t[i].$page;e.push(n.path)}return e}function Ie(e="path"){let t=getCurrentPages(),i=t[t.length-1];if(!i)return"";let a=i.$page;return a?a[e]:""}function zt(e,t){e==getApp().globalData.uid?t&&Ns(lt.MY):Y("/pages/main/user-home",{uid:e})}function Ni(e,t=null,i=null){let n={uid:typeof e=="object"?e.uid:e};i&&(n=Object.assign(n,i)),z("/pagesMsg/pri/chat",n,"priData",{user:e,extra:t})}function Rs(e,t=null){let a={id:typeof e=="object"?e.club_id:e};t&&(a=Object.assign(a,t)),z("/pagesMsg/club/chat",a,"clubData",{club:e})}function an(){pn(Oa.GAME,!0)||z("/pages/call/chat-view",{},"callViewData",{isGame:!0})}function nn(e,t=0,i=0){if(y(e))return;if(t&&i){Rs(e);return}Y("/pagesClub/info",{id:e,isMember:t})}function ut(e,t=!0){return e.startsWith("http")?e:e.startsWith("file://")?t?e:e.replace("file://",""):e.startsWith("/storage/")||e.startsWith("/var/mobile/")?t?`file://${e}`:e:e.startsWith("_doc/uniapp")?t?e:plus.io.convertLocalFileSystemURL(e):e.indexOf("apps/__UNI")!=-1?e:!1}var Os=[{key:"tr",title:"T\xFCrk"},{key:"pt",title:"Portugu\xEAs"}];function ft(e=!0){let t=K("language_app_key");if(!e||!vs(t))return t;let i=Ri(!1),a=Rr[i];return y(a)?"en":i}function Ri(e){let t=uni.getAppBaseInfo().language;return y(t)?e?"en-US":"en":e?t:t.split("-")[0]}function Oi(e){getApp().globalData.translateAuto!=e&&(e&&!K("translate_auto_open_first")&&(uni.showModal({title:l("tips"),content:l("msg.translateAutoOpenMsgTips"),showCancel:!1,confirmText:l("gotIt")}),Ce("translate_auto_open_first",1)),Ce("translate_auto_close",e?0:1),getApp().globalData.translateAuto=e,uni.$emit("event_translate_auto_change",e),G.request("/user/sync-permission",{auto_translate:e?1:0}))}function rn(e){return getApp().globalData.translateAuto?getApp().globalData.translateKey!=e:!1}function sn(){uni.showModal({title:l("tips"),content:l("msg.translateAutoCloseTips"),showCancel:!0,cancelText:l("cancel"),confirmText:l("turnOff"),success(e){e.confirm&&Oi(!1)}})}function Ms(){return K("call_automatic_source_language")||ft()}function Fs(){return!!K("call_automatic_open")}function l(...e){return getApp().globalData.s.state.pubI18n(...e)}function ln(e){function t(s,c,o){for(;0<o--;)s.push(c)}function i(s,c){return s<<c|s>>>32-c}function a(s,c,o){return s^c^o}function n(s,c){var o=(c&65535)+(s&65535),u=(c>>>16)+(s>>>16)+(o>>>16);return(u&65535)<<16|o&65535}var r="0123456789abcdef";return function(s){for(var c=[],o=s.length*4,u,f=0;f<o;f++)u=s[f>>2]>>(3-f%4)*8,c.push(r.charAt(u>>4&15)+r.charAt(u&15));return c.join("")}(function(s,c){var o,u,f,h,_,E=s.length,k=1732584193,B=4023233417,T=2562383102,C=271733878,P=3285377520,U=[];t(U,1518500249,20),t(U,1859775393,20),t(U,2400959708,20),t(U,3395469782,20),s[c>>5]|=128<<24-c%32,s[(c+65>>9<<4)+15]=c;for(var b=0;b<E;b+=16){o=k,u=B,f=T,h=C,_=P;for(var W=0,he=[];W<80;W++){he[W]=W<16?s[W+b]:i(he[W-3]^he[W-8]^he[W-14]^he[W-16],1);var Pe=function(pe,_e,Te,St,Tt){var Dt=(Tt&65535)+(pe&65535)+(_e&65535)+(Te&65535)+(St&65535),ri=(Tt>>>16)+(pe>>>16)+(_e>>>16)+(Te>>>16)+(St>>>16)+(Dt>>>16);return(ri&65535)<<16|Dt&65535}(W<20?function(pe,_e,Te){return pe&_e^~pe&Te}(u,f,h):W<40?a(u,f,h):W<60?function(pe,_e,Te){return pe&_e^pe&Te^_e&Te}(u,f,h):a(u,f,h),_,U[W],he[W],i(o,5));_=h,h=f,f=i(u,30),u=o,o=Pe}k=n(k,o),B=n(B,u),T=n(T,f),C=n(C,h),P=n(P,_)}return[k,B,T,C,P]}(function(s){for(var c=[],o=255,u=s.length*8,f=0;f<u;f+=8)c[f>>5]|=(s.charCodeAt(f/8)&o)<<24-f%32;return c}(e).slice(),e.length*8))}function Mi(e,t,i=!0){return cn(getApp().globalData.ossPicPath,e,t,i)}function De(e,t,i=!0){return cn(getApp().globalData.ossPath,e,t,i)}function on(e){if(y(e)||e.startsWith("http"))return;let i=`img_${ln(e)}`,a=K(i);$t(i),a&&uni.removeSavedFile({filePath:a})}function cn(e,t,i,a=!0){if(y(t))return"";if(t.startsWith("http")||t.startsWith("file://"))return t;if(t.startsWith("/var/mobile/"))return"file://"+t;if(t.startsWith("/storage/"))return t;let r=`img_${ln(t)}`,s=K(r);if(s){let o={filePath:s,fail(u){Ps(`\u7F13\u5B58\u68C0\u6D4B\u5931\u8D25${t}`,u),$t(r),typeof i=="function"&&i(e+t)},success(u){}};return typeof i=="function"&&(o.success=function(){i(s)}),uni.getFileInfo(o),s}let c=e+t;return getApp().globalData.picCacheObj[r]||(getApp().globalData.picCacheObj[r]=1,typeof i=="function"&&!a&&i(c),zs(c).then(o=>{Ce(r,o),typeof i=="function"&&a&&i(o),delete getApp().globalData.picCacheObj[r]}).catch(()=>{})),c}function Ps(e,t){q("error","at common/cache.js:118",`cache ${e}`,t)}function Fi(e,t,i,a="1",n=0,r=0){let s,c=ut(t,!1);if(c)s=c;else{let f;if(v.isAndroid,f=!1,f){let h=Mi(t);s=h.startsWith("http")?h:plus.io.convertLocalFileSystemURL(h)}else s=v.ossPicPath+t}let o=ut(i,!1)||`${getApp().globalData.ossPath}${i}`,u=e?ut(a,!1)||`${getApp().globalData.ossPicPath}${a}`:a;return{isVideo:e,thumbnailUrl:s||"",url:o,coverUrl:u,width:n,height:r}}function Pi(e,t,i=1){getApp().globalData.filterAppHide=!0,Ls(function(){let a=JSON.parse(JSON.stringify(e));getApp().globalData.pluginImageBrowser.openBrowser({info:a,index:t,showIndicator:i},n=>{q("info","at comExtend/plugin-image-browser.js:80","Preview.preview "+JSON.stringify(n))})},500,"previewImage")}var Bs={CANDY_CHAT_I:"__UNI__CB903B1",CANDY_CHAT_A:"__UNI__564E31A",CHAT_NOW_A:"__UNI__DB0D401",CHAT_NOW_DEV:"__UNI__DEED62E",HOT_FACE_A:"__UNI__0D44E11",HOT_FACE_DEV:"__UNI__58DBD61",LOVE_SKY:"__UNI__0EE5E5E",DEV:"__UNI__3932C1F",DEV2:"__UNI__9C66D76"};function Us(){return getApp().globalData.pluginTool.vpnConnected()}function Ws(e){return getApp().globalData.pluginTool.permissionStatusSync({permission:e})}function Gs(){return getApp().globalData.pluginTool.permissionCheckAll()}function $s(){return getApp().globalData.pluginTool.locationAuthorizationStatusSync()}var Z={ALBUM:1,CAMERA:2,VIDEO:3,MICROPHONE:4,NOTIFY:5,LOCATION:6,DRAW_OVERLAYS:7,ALBUM_AND_CAMERA:101};function Hs(e,t,i){if(getApp().globalData.uid!=0)return new Promise(a=>{let n;if(i==null?n=un():n=i,n==null){a();return}let r={fromType:e,showClose:t,resList:n[0]};z("/pagesDialog/check-permission",null,"permissionData",r,{onCloseListener:()=>{a()}})})}function un(){let e=[],t=!0;if(v.isAndroid){let r=Gs();e.push({key:"notice",value:r.notice,permission:Z.NOTIFY}),e.push({key:"camera",value:r.camera,permission:Z.CAMERA}),e.push({key:"voice",value:r.voice,permission:Z.MICROPHONE}),e.push({key:"album",value:r.storage,permission:Z.ALBUM})}else e.push({key:"notice",value:mn(),permission:Z.NOTIFY}),e.push({key:"camera",value:js(),permission:Z.CAMERA}),e.push({key:"voice",value:fn(),permission:Z.MICROPHONE}),e.push({key:"album",value:Ys(),permission:Z.ALBUM});for(let r=0,s=e.length;r<s;r++)if(!e[r].value){t=!1;break}let i={};for(let r=0,s=e.length;r<s;r++){let c=e[r];i[c.key]=c.value?1:0}i.auto_translate=getApp().globalData.translateAuto?1:0;let a=Fs()?1:0,n=Ms();return i.audio_translate=a,i.audio_language=n,G.request("/user/sync-permission",i),[e,t]}function dn(e){if(e==Z.NOTIFY)return v.isAndroid?di(e):mn();if(e==Z.MICROPHONE)return v.isAndroid?di(e):fn();if(e==Z.ALBUM_AND_CAMERA){let i=un()[0];return i?i[1].value&&i[3].value:!0}else if(e==Z.LOCATION)return v.isAndroid?di(e):$s();return!0}function di(e){let t=Vs(e);return Ws(t)}function Vs(e){switch(e){case Z.LOCATION:return["android.permission.ACCESS_FINE_LOCATION","android.permission.ACCESS_COARSE_LOCATION"];case Z.ALBUM:case Z.VIDEO:return["android.permission.READ_MEDIA_IMAGES","android.permission.READ_MEDIA_VIDEO"];case Z.MICROPHONE:return["android.permission.RECORD_AUDIO"];case Z.CAMERA:return["android.permission.CAMERA"];case Z.NOTIFY:return["android.permission.POST_NOTIFICATIONS"]}}function fn(){let e=plus.ios.importClass("AVCaptureDevice"),t=e.authorizationStatusForMediaType("soun");return plus.ios.deleteObject(e),t==3}function js(){let e=plus.ios.importClass("AVCaptureDevice"),t=e.authorizationStatusForMediaType("vide");return plus.ios.deleteObject(e),t==3}function Ys(){var e=!1,t=plus.ios.import("PHPhotoLibrary"),i=t.authorizationStatus();return(i==3||i==4)&&(e=!0),plus.ios.deleteObject(t),e}function mn(){var e=!1,t=plus.ios.import("UIApplication"),i=t.sharedApplication(),a=0;if(i.currentUserNotificationSettings){var n=i.currentUserNotificationSettings();a=n.plusGetAttribute("types"),e=a!=0,plus.ios.deleteObject(n)}else a=i.enabledRemoteNotificationTypes(),e=a!=0;return plus.ios.deleteObject(i),plus.ios.deleteObject(t),e}function yt(e,t){getApp().globalData.s.commit("setPubValue",{name:e,value:t})}function L(e,t){getApp().globalData.s.commit(e,t)}function Pt(e,t){e==Ze.MSG&&getApp().setNumberBadge(),t>0?uni.setTabBarBadge({index:e,text:t+""}):uni.removeTabBarBadge({index:e})}function Ks(e,t=!0){t?uni.showTabBarRedDot({index:e}):uni.hideTabBarRedDot({index:e})}function zs(e){return new Promise((t,i)=>{uni.downloadFile({url:e}).then(a=>!a||a.statusCode!=200||!a.tempFilePath?(i(),new Promise(()=>{})):uni.saveFile({tempFilePath:a.tempFilePath})).then(a=>{!a||!a.savedFilePath?i():t(a.savedFilePath)}).catch(a=>{q("error","at common/common.js:65","downloadFile error "+JSON.stringify(a))})})}function ya(e,t){t?plus.runtime.openWeb(e):plus.runtime.openURL(e)}function Ne(e,t,i,a=l("confirm")){be(e,t,i,"",a,!1)}function qs(e){return["Si, desbloquear","Reenviar Completar"].indexOf(e)!=-1}function be(e,t,i,a,n=l("confirm"),r=!0,s=l("cancel"),c=!1){let o=!1;if(!v.isAndroid&&(o=qs(n),o)){let u=n;n=s,s=u}uni.showModal({title:e,content:t,showCancel:r,cancelText:s,confirmText:n,editable:c,success(u){u.confirm?o?typeof a=="function"&&a():typeof i=="function"&&i(u):u.cancel&&(o?typeof i=="function"&&i(u):typeof a=="function"&&a())}})}function qt(e,t="none",i="center"){uni.showToast({title:e,duration:2e3,icon:t,position:i})}var ie={LIGHT:1,DARK:2};function bt(e,t=1,i=!0){if(e=Number(e),isNaN(e))return!0;let a=getApp().pubAccount.money-e*t;return a>=0?!0:(i&&Js(Math.abs(a),0),!1)}function Js(e,t=0,i,a){let r=K("coin_callback"),s={};s.order_source=typeof i=="undefined"?0:i,s.click_type=typeof a=="undefined"?0:a,r?(s.fromType=t,s.diffCoin=e,z("/pages/coin/coin-dialog",s,"coinDialogData",r)):(s.from_type=t,s.diff_coin=e,G.request("/pay/coin/callback",s,!0))}function Xs(e){let t=getApp().pubUser.seeking_sex;return e?t:t==0?getApp().pubUser.sex==1?2:1:t}function oe(){return getApp().globalData.s.state.pubUser.is_auth}function Zs(){return!oe()&&getApp().pubUser.recharge_money>0}function Qs(){let e=getApp().globalData.admin;return e&&e.permission&&e.permission.kefu}function el(){let e=getApp().globalData.admin;return e&&e.permission&&e.permission.check_all}function wt(){let e=getApp().globalData.admin;return!y(e)&&e.type==1}function pn(e,t){let i=getApp().globalData.bannedInfos[e];if(y(i))return!1;if(t){if(L("appDialog/addDialogBan",i),Ie()=="/pagesDialog/banned")return;L("appDialog/executeBanWarningDialog")}return!0}var Ai={DEFAULT:1e4,FAIL:0,SUCCESS:1,DISCONNECT:6,RECONNECT:7},tl={INIT:"init",APP_SHOW:"app_show",TAB_SHOW:"tab_show",MSG_INDEX_REFRESH:"msg_index_refresh",STOP_TAKING_RECOVERY:"stop_taking_recovery",CATCH_MSG_SYNC:"sync_catch",API_CALL_BACK:"api_call_back",RECONNECT_LISTENER:"reconnect_listener",RECONNECT_LOCAL:"reconnect_local"};function il(e){return new Promise((t,i)=>{getApp().globalData.pluginDB.selectSql({sql:e},a=>{a.status==1?t(a.rows):(q("error","at comExtend/plugin-DB.js:44","db \u63D2\u4EF6 select \u6267\u884C \u9519\u8BEF "+a.message),i(a.message))})})}function al(e){return new Promise((t,i)=>{getApp().globalData.pluginDB.executeSql({sql:e},a=>{a.status==1?t(a.rows):(q("error","at comExtend/plugin-DB.js:57","db \u63D2\u4EF6 execute \u6267\u884C \u9519\u8BEF "+a.message),i(a.message))})})}function nl(e,t){return new Promise((i,a)=>{al(e).then(n=>{i(n)},n=>{a(),t||_n("execute",n,e)})})}function rl(e,t){return new Promise((i,a)=>{il(e).then(n=>{i(n)},n=>{a(),t||_n("select",n,e)})})}function Rt(e){return y(e)?0:parseInt(e)}function sl(){return getApp().globalData.pluginMqtt.checkStatusSync()?Ai.SUCCESS:Ai.FAIL}function ll(){return sl()}function ol(){return ll()==Ai.SUCCESS}var Qe={getUserDesc(){let e=getApp().pubUser;return Object.keys(e).length<=3?"\u672A\u767B\u5F55":[e.uid,e.is_auth?"\u4E3B\u64AD":"\u7528\u6237",`\u7B49\u7EA7-${e.level}`,`vip${e.is_vip?"\u662F":"\u5426"}`,`\u5145\u503C${e.recharge_money}`,`\u4F59\u989D${getApp().pubAccount.money}`,`\u540E\u53F0\u8EAB\u4EFD${cl()}`].join("|")},getActionDesc(){let e=Kt(),t=e.length;return[`\u9875\u9762: ${(t>5?e.slice(t-5):e).join(",")}`,`${getApp().globalData.catchApiUrlList.join(",")}`].join("|")},getEnvironsDesc(){let e=getApp().globalData.ua.split("|"),t=[`${e[1]}`,`app\u7248\u672C${e[2]}`,`zip\u7248\u672C${e[3]}-${e[13]}`,`${e[6]}`,`\u54C1\u724C${e[11]}`,`\u578B\u53F7${e[12]}`,`\u7F51\u7EDC${getApp().globalData.network.type}`,`MQTT${ol()?"\u662F":"\u5426"}`],i=Us();return typeof i!="undefined"&&t.push(`VPN${i?"\u662F":"\u5426"}`),t.join("|")}};function cl(){if(wt())return"\u8D85\u7BA1";let e=[];return Qs()&&e.push("\u5BA2\u670D"),el()&&e.push("\u5BA1\u6838"),e.length<=0?"\u65E0":e.join("\u548C")}var fi=0;function ul(e){return fl(dl(ml(e)))}function dl(e){return gl(hl(pl(e),e.length*8))}function fl(e){try{}catch(r){fi=0}for(var t=fi?"0123456789ABCDEF":"0123456789abcdef",i="",a,n=0;n<e.length;n++)a=e.charCodeAt(n),i+=t.charAt(a>>>4&15)+t.charAt(a&15);return i}function ml(e){for(var t="",i=-1,a,n;++i<e.length;)a=e.charCodeAt(i),n=i+1<e.length?e.charCodeAt(i+1):0,55296<=a&&a<=56319&&56320<=n&&n<=57343&&(a=65536+((a&1023)<<10)+(n&1023),i++),a<=127?t+=String.fromCharCode(a):a<=2047?t+=String.fromCharCode(192|a>>>6&31,128|a&63):a<=65535?t+=String.fromCharCode(224|a>>>12&15,128|a>>>6&63,128|a&63):a<=2097151&&(t+=String.fromCharCode(240|a>>>18&7,128|a>>>12&63,128|a>>>6&63,128|a&63));return t}function pl(e){for(var t=Array(e.length>>2),i=0;i<t.length;i++)t[i]=0;for(var i=0;i<e.length*8;i+=8)t[i>>5]|=(e.charCodeAt(i/8)&255)<<i%32;return t}function gl(e){for(var t="",i=0;i<e.length*32;i+=8)t+=String.fromCharCode(e[i>>5]>>>i%32&255);return t}function hl(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var i=1732584193,a=-271733879,n=-1732584194,r=271733878,s=0;s<e.length;s+=16){var c=i,o=a,u=n,f=r;i=ae(i,a,n,r,e[s+0],7,-680876936),r=ae(r,i,a,n,e[s+1],12,-389564586),n=ae(n,r,i,a,e[s+2],17,606105819),a=ae(a,n,r,i,e[s+3],22,-1044525330),i=ae(i,a,n,r,e[s+4],7,-176418897),r=ae(r,i,a,n,e[s+5],12,1200080426),n=ae(n,r,i,a,e[s+6],17,-1473231341),a=ae(a,n,r,i,e[s+7],22,-45705983),i=ae(i,a,n,r,e[s+8],7,1770035416),r=ae(r,i,a,n,e[s+9],12,-1958414417),n=ae(n,r,i,a,e[s+10],17,-42063),a=ae(a,n,r,i,e[s+11],22,-1990404162),i=ae(i,a,n,r,e[s+12],7,1804603682),r=ae(r,i,a,n,e[s+13],12,-40341101),n=ae(n,r,i,a,e[s+14],17,-1502002290),a=ae(a,n,r,i,e[s+15],22,1236535329),i=ne(i,a,n,r,e[s+1],5,-165796510),r=ne(r,i,a,n,e[s+6],9,-1069501632),n=ne(n,r,i,a,e[s+11],14,643717713),a=ne(a,n,r,i,e[s+0],20,-373897302),i=ne(i,a,n,r,e[s+5],5,-701558691),r=ne(r,i,a,n,e[s+10],9,38016083),n=ne(n,r,i,a,e[s+15],14,-660478335),a=ne(a,n,r,i,e[s+4],20,-405537848),i=ne(i,a,n,r,e[s+9],5,568446438),r=ne(r,i,a,n,e[s+14],9,-1019803690),n=ne(n,r,i,a,e[s+3],14,-187363961),a=ne(a,n,r,i,e[s+8],20,1163531501),i=ne(i,a,n,r,e[s+13],5,-1444681467),r=ne(r,i,a,n,e[s+2],9,-51403784),n=ne(n,r,i,a,e[s+7],14,1735328473),a=ne(a,n,r,i,e[s+12],20,-1926607734),i=re(i,a,n,r,e[s+5],4,-378558),r=re(r,i,a,n,e[s+8],11,-2022574463),n=re(n,r,i,a,e[s+11],16,1839030562),a=re(a,n,r,i,e[s+14],23,-35309556),i=re(i,a,n,r,e[s+1],4,-1530992060),r=re(r,i,a,n,e[s+4],11,1272893353),n=re(n,r,i,a,e[s+7],16,-155497632),a=re(a,n,r,i,e[s+10],23,-1094730640),i=re(i,a,n,r,e[s+13],4,681279174),r=re(r,i,a,n,e[s+0],11,-358537222),n=re(n,r,i,a,e[s+3],16,-722521979),a=re(a,n,r,i,e[s+6],23,76029189),i=re(i,a,n,r,e[s+9],4,-640364487),r=re(r,i,a,n,e[s+12],11,-421815835),n=re(n,r,i,a,e[s+15],16,530742520),a=re(a,n,r,i,e[s+2],23,-995338651),i=se(i,a,n,r,e[s+0],6,-198630844),r=se(r,i,a,n,e[s+7],10,1126891415),n=se(n,r,i,a,e[s+14],15,-1416354905),a=se(a,n,r,i,e[s+5],21,-57434055),i=se(i,a,n,r,e[s+12],6,1700485571),r=se(r,i,a,n,e[s+3],10,-1894986606),n=se(n,r,i,a,e[s+10],15,-1051523),a=se(a,n,r,i,e[s+1],21,-2054922799),i=se(i,a,n,r,e[s+8],6,1873313359),r=se(r,i,a,n,e[s+15],10,-30611744),n=se(n,r,i,a,e[s+6],15,-1560198380),a=se(a,n,r,i,e[s+13],21,1309151649),i=se(i,a,n,r,e[s+4],6,-145523070),r=se(r,i,a,n,e[s+11],10,-1120210379),n=se(n,r,i,a,e[s+2],15,718787259),a=se(a,n,r,i,e[s+9],21,-343485551),i=ke(i,c),a=ke(a,o),n=ke(n,u),r=ke(r,f)}return Array(i,a,n,r)}function Jt(e,t,i,a,n,r){return ke(_l(ke(ke(t,e),ke(a,r)),n),i)}function ae(e,t,i,a,n,r,s){return Jt(t&i|~t&a,e,t,n,r,s)}function ne(e,t,i,a,n,r,s){return Jt(t&a|i&~a,e,t,n,r,s)}function re(e,t,i,a,n,r,s){return Jt(t^i^a,e,t,n,r,s)}function se(e,t,i,a,n,r,s){return Jt(i^(t|~a),e,t,n,r,s)}function ke(e,t){var i=(e&65535)+(t&65535),a=(e>>16)+(t>>16)+(i>>16);return a<<16|i&65535}function _l(e,t){return e<<t|e>>>32-t}var Si={md5:function(e){return ul(e)}};function gn(){return"tb_error_log"}function yl(e,t){return new Promise(i=>{let a=`SELECT * FROM ${gn()} WHERE status = ${Rt(e)} AND identify = '${t}' ORDER BY id DESC LIMIT 1`;rl(a,!0).then(n=>{i(n[0])})})}function bl(e,t,i,a,n,r,s,c,o,u){return yl(e,t).then(f=>{if(f)return Promise.resolve(!0);let h=`INSERT INTO ${gn()} (status, identify, grade, flag, user_desc, action_desc, environs_desc, error_desc, create_time, exp_time) values (${Rt(e)}, '${t}', ${i}, '${a}', '${xt(n)}', '${xt(r)}', '${xt(s)}', '${xt(c)}', ${Rt(o)}, ${Rt(u)})`;return nl(h,!0)})}var Xt={CRASH:1,USER:11,API_FAIL:12,API_ERROR:13,MSG_SYNC:14,DB_PLUGIN:15,FRAME:21,LISTENER:31,BUG_DB_GET_NONE:201,BUG_MSG_SYNC_PLUGIN_LOSS:202,BUG_MSG_SYNC_JS_LOSS:203},Zt={CRASH:"crash",MEMORY:"memory",LISTENER:"listener",FRAME_API:"frame_api",API:"api",DB:"db",PAYMENT:"payment",AUTH_FACE:"auth_face",CHAT_CALL:"chat_call",HOT_UPDATE:"hot_update",MESSAGE_PARSE:"message_parse",BUG:"bug"};function hn(){return getApp().globalData.uid==0?!1:v.zT==3?!0:v.appId==Bs.CHAT_NOW_A||v.ENV=="dev"}var wl=1e3;function Al(e,t){try{if(!hn())return;let i=Bt(t),a=`api-${e} ${i}`;q("error","at comCatch/catch-save.js:15","catch api fail "+a);let n=Ui(a);Dl().then(r=>{let s;typeof r=="boolean"?s="\u6D4B\u8BD5\u8C37\u6B4C\u6210\u529F":s=`\u6D4B\u8BD5\u8C37\u6B4C\u5931\u8D25-${Bt(r)}`,n.errorDesc=`${n.errorDesc} - ${s}`,Wi(Xt.API_FAIL,Zt.API,n)})}catch(i){}}function Sl(e,t,i){try{if(!hn())return;let a=Bt(i);a=a.substring(0,120);let n=`statusCode-${i.statusCode}-${a}-api-${e}-${JSON.stringify(t)}`;q("error","at comCatch/catch-save.js:37","catch api error "+n);let r=Ui(n);Wi(Xt.API_ERROR,Zt.API,r)}catch(a){}}function _n(e,t,i){try{if(i.indexOf("tb_error_log")!=-1)return;let a=`${e} - ${t}`;i&&(a+=` - ${i}`),q("error","at comCatch/catch-save.js:74","catch db "+a),Tl(Xt.DB_PLUGIN,Zt.DB,a)}catch(a){}}function Bi(e,t,i,a){try{let n=Bt(e),r=JSON.stringify(t),s=JSON.stringify(i),c=JSON.stringify(a);n=`${n} | ${r} | ${s} | ${c}`,q("error","at comCatch/catch-save.js:118","catch message parse "+n);let o=Ui(n);Wi(Xt.USER,Zt.MESSAGE_PARSE,o)}catch(n){}}function Bt(e){if(!e)return"";let t=JSON.stringify(e);return(typeof t!="string"||t=="{}")&&(t=e.toString()),t}function Ui(e){return{identify:Si.md5(e),errorDesc:e,userDesc:Qe.getUserDesc(),actionDesc:Qe.getActionDesc(),environsDesc:Qe.getEnvironsDesc(),expTime:0}}function Wi(e,t,i){bl(0,i.identify,e,t,i.userDesc,i.actionDesc,i.environsDesc,i.errorDesc,new Date().getTime(),i.expTime)}function Tl(e,t,i){let a=[],n=new Date().getTime();if(n-getApp().globalData.catchApiLastReqTime<=wl)return;getApp().globalData.catchApiLastReqTime=n,a.push({grade:e,flag:t,user_desc:Qe.getUserDesc(),action_desc:Qe.getActionDesc(),environs_desc:Qe.getEnvironsDesc(),error_desc:i,create_time:n,createTimeStr:Za(n)});let r={log_list:a};G.request("/monitor/record-exception-log",r)}function Dl(){return new Promise(e=>{uni.request({url:"https://google.com",method:"GET",timeout:5e3,success(t){e(!0)},fail(t){e(t)}})})}var Cl=["/monitor/index","/chat/call/log","/chat/msg/mq-log","/user/sync-permission","/monitor/record-exception-log"],ba=["/monitor/record-exception-log"],wa=5,It={invoke(e,t){if(Cl.indexOf(e)!=-1)return;let i="";i+=`\u63A5\u53E3=${e};`,i+=`\u53C2\u6570=${JSON.stringify(t)}`,i+=`\u65F6\u95F4=${Za(new Date().getTime())}`,getApp().globalData.catchApiUrlList.push(`\u3010${i}\u3011`);let a=getApp().globalData.catchApiUrlList.length;a>wa&&(getApp().globalData.catchApiUrlList=getApp().globalData.catchApiUrlList.slice(a-wa))},error(e,t,i){ba.indexOf(e)==-1&&getApp().globalData.network.isConnected&&(!i||typeof i.statusCode=="undefined"||Sl(e,t,i))},fail(e,t){ba.indexOf(e)==-1&&getApp().globalData.network.isConnected&&Al(e,t)}},vl={INIT:1,OPEN:2,CALLBACK:3,SOCKET:4,LOGIN:5};function Qt(e,t=!1){if(!t&&e.hide_profile){let i=e.uid%9999;return i<1e3&&(i="0"+i),l("mysteryer")+i}else return e.nickname||""}function ei(e,t="small_avatar",i=!1,a=1){if(!i&&e.hide_profile)return kl(a);{if(e[t])return e[t];let n=t=="small_avatar"?"avatar":"small_avatar";return e[n]}}function kl(e){return e==2?"s/privacy/masker_list_card.png":e==3?"s/privacy/masker_card.png":"s/privacy/masker_avatar.png"}function Aa(){if(getApp().pubUnreadMy.moment>0){Pt(Ze.MY,getApp().pubUnreadMy.moment);return}Pt(Ze.MY,0),Ks(Ze.MY,getApp().pubUnreadMy.fans>0)}var w={PERMISSION:"permission",PERFECT_DATA:"perfect_data",REST:"rest",HOME_FILTER:"home_filter",GRID_GUIDE:"grid_guide",NOTIFY:"notify",HELLO:"hello",SHARE:"share",LANGUAGE_UP:"language_up",RAMADAN:"ramadan",MSG_DISTURB:"msg_disturb",CALL_DISTURB:"call_disturb",BAN:"ban",WARNING:"warning",HOME_SEX_FILTER:"home_sex_filter",CLUB_RESULT:"club_result",CLUB_DISBAND:"club_disband"},El={[w.HOME_FILTER]:"seeking_sex_open_time",[w.GRID_GUIDE]:"dialog_show_time_grid_guide",[w.NOTIFY]:"dialog_show_time_notify",[w.HELLO]:"dialog_show_time_hello"},Ti=-99,mt=-100,xl={[w.HOME_FILTER]:1,[w.HOME_SEX_FILTER]:1,[w.GRID_GUIDE]:1,[w.NOTIFY]:2,[w.SHARE]:3,[w.HELLO]:4,[w.LANGUAGE_UP]:5,[w.RAMADAN]:6},Gi={[w.PERMISSION]:1,[w.PERFECT_DATA]:2,[w.REST]:3,[w.HOME_FILTER]:4,[w.HOME_SEX_FILTER]:4,[w.GRID_GUIDE]:4,[w.NOTIFY]:5,[w.SHARE]:7,[w.LANGUAGE_UP]:8};function Ll(e){return Rl(w.HOME_FILTER,21600)?!1:Xs(!1)!=e}function Il(e){return v.isAndroid||e||K($i(w.GRID_GUIDE))?!1:!K("user_list_sort_"+getApp().globalData.uid)}function yn(){return dn(Z.NOTIFY)?!1:!Nl()}function Nl(){let e=Ts(`${w.NOTIFY}_show_status`);if(!y(e))return!0;let t=K($i(w.NOTIFY));return!y(t)}function $i(e){return`${El[e]}_${getApp().globalData.uid}`}function Rl(e,t){let i=K($i(e));if(!i)return!1;let a=new Date().getTime();return a<=i?!1:parseInt((a-i)/1e3)<=t}var Sa=!1,ze=!1,ve=0,ct={appDialogList:[],appDialogStop:!1,appDialogCurKey:"",appDialogHelloData:!1,appBanDialogList:[],appClubResultList:[],appDialogIsShowBan:!1,appBanDialogCurKey:"",appWarningDialogCurKey:"",appClubResultCurKey:""},Ol={setDialogHelloData(e,t){e.appDialogHelloData=t},setDialogCurKey(e,t){e.appDialogCurKey=t},setDialogList(e,t){e.appDialogList=t,e.appDialogList.sort((i,a)=>i.sort-a.sort)},sortDialogList(e){e.appDialogList.sort((t,i)=>t.sort-i.sort)},resetDialogItem(e,t){let i=e.appDialogList.findIndex(a=>a.key==t.key);i!=-1&&(e.appDialogList[i].hasExec=!1,e.appDialogList[i].delay=t.delay)},resetClubResultDialogItem(e,t){let i=e.appClubResultList.findIndex(a=>a.key==t.key);i!=-1&&(e.appClubResultList[i].hasExec=!1)},delDialogItem(e,t){y(e.appDialogList)||e.appDialogList.splice(t,1)},delDialogItemByKey(e,t){if(y(e.appDialogList))return;let i=e.appDialogList.findIndex(a=>a.key==t);i!=-1&&e.appDialogList.splice(i,1)},clearDialog(e){e.appDialogStop=!0,e.appDialogList=[]},executeDialog(e,t){if(e.appBanDialogCurKey||e.appWarningDialogCurKey||e.appClubResultCurKey||y(e.appDialogList)||e.appDialogStop)return;let i=e.appDialogList[0];y(i)||i.hasExec||i.isCanExecute&&(e.appDialogList[0].hasExec=!0,mi[i.funcName](i).then(()=>{e.appDialogCurKey="";let a=e.appDialogList.indexOf(i);a!=-1&&L("appDialog/delDialogItem",a),L("appDialog/executeDialog","execute then")}))},addDialog(e,t){let i=t.key;e.appDialogStop=!0;let a=e.appDialogList.findIndex(n=>n.key==i);if(a!=-1){if(e.appDialogList[a].isAdd){e.appDialogStop=!1,e.appDialogCurKey||L("appDialog/executeDialog");return}e.appDialogList[a].isAdd=!0,e.appDialogList[a].addTime=new Date().getTime(),e.appDialogList[a].isCanExecute=!0}else{let n=oe()?1:2,r;switch(i){case w.HOME_FILTER:r=Gl(n,!0);break;case w.HELLO:r=Ta(t.delay);break;case w.MSG_DISTURB:r=Hl(t.delay);break;case w.CALL_DISTURB:r=Vl(t.delay);break;default:e.appDialogStop=!1,e.appDialogCurKey||L("appDialog/executeDialog");return}r.isAdd=!0,r.addTime=new Date().getTime(),e.appDialogList.push(r)}e.appDialogList.sort((n,r)=>n.sort==r.sort?r.addTime-n.addTime||(n.isCanExecute?mt:0):n.sort-r.sort),!e.appDialogCurKey&&(e.appDialogCurKey=i,e.appDialogStop=!1,L("appDialog/executeDialog"))},addDialogHomeFilter(e,t){getApp().globalData.appCRE==0||!Ll(t)||L("appDialog/addDialog",{key:w.HOME_FILTER})},addDialogHomeSexFilter(e,t){getApp().globalData.appCRE!=0&&(L("appDialog/addDialog",{key:w.HOME_SEX_FILTER,value:t}),L("appDialog/sortDialogList"))},addDialogGridGuide(e,t){let i=e.appDialogList.findIndex(n=>n.key==w.GRID_GUIDE);if(Il(t)){if(i==-1)return;L("appDialog/addDialog",{key:w.GRID_GUIDE})}else i!=-1&&L("appDialog/delDialogItem",i)},addDialogNotify(e,t){t&&!yn()||Y("/pagesDialog/open-sys-notice")},addDialogHello(e,t){if(getApp().globalData.appCRE==0||Sa)return;Sa=!0;let i=e.appDialogList[0];if(i&&i.key==w.SHARE){ve=30;let a=Ta(ve);a.sort=He(oe()?1:2,w.SHARE+1),a.isAdd=!0,a.addTime=new Date().getTime(),e.appDialogList.push(a),e.appDialogList.sort((n,r)=>n.sort==r.sort?r.addTime-n.addTime||(n.isCanExecute?mt:0):n.sort-r.sort);return}ve=t,L("appDialog/addDialog",{key:w.HELLO,delay:t})},addDialogMsgDisturb(e,t){L("appDialog/addDialog",{key:w.MSG_DISTURB,delay:t})},addDialogCallDisturb(e,t){L("appDialog/addDialog",{key:w.CALL_DISTURB,delay:t})},delBanDialogItem(e){y(ct.appBanDialogList)||ct.appBanDialogList.splice(e,1)},delClubResultDialogItem(e){y(ct.appClubResultList)||ct.appClubResultList.splice(e,1)},addDialogBan(e,t){let i=jl(t);e.appDialogIsShowBan?uni.$emit("event_refresh_banned_data",t):(e.appBanDialogList.push(i),L("appDialog/sortBanWarningDialog"))},addDialogWarning(e,t){if(e.appBanDialogList.map(n=>n.sort).indexOf(Number(t.id))!=-1)return;let a;t.from_type==2?a=Kl(t):a=Yl(t),e.appBanDialogList.push(a),!(e.appBanDialogCurKey||e.appWarningDialogCurKey)&&L("appDialog/executeBanWarningDialog")},addDialogClubNoticeDialog(e,t){let i,a,n=e.appClubResultList.map(r=>r.key);t.type==Or.CHECK_RESULT?(a=w.CLUB_RESULT+"_"+t.club_id,n.indexOf(a)==-1&&(i=ql(t))):(a=w.CLUB_DISBAND+"_"+t.club_id,n.indexOf(a)==-1&&(i=zl(t))),i&&e.appClubResultList.push(i),!(e.appBanDialogCurKey||e.appWarningDialogCurKey)&&(e.appClubResultCurKey||L("appDialog/executeClubNoticeDialog"))},executeBanWarningDialog(e){if(y(e.appBanDialogList)){L("appDialog/executeClubNoticeDialog");return}let t=e.appBanDialogList[0];if(y(t)||t.hasExec)return;let i=getApp().globalData.curCallId>dt.WAITING;if(i){t.isBan&&uni.$emit("event_banned_close_chat");return}e.appBanDialogList[0].hasExec=!i||!t.isBan,e.appDialogIsShowBan=t.isBan,t.isBan?e.appBanDialogCurKey="ban":e.appWarningDialogCurKey="warning",mi[t.funcName](t).then(a=>{if(t.isBan){if(e.appBanDialogCurKey="",e.appDialogIsShowBan=!1,a==1){let n=e.appBanDialogList.indexOf(t);n!=-1&&L("appDialog/delBanDialogItem",n)}}else{e.appWarningDialogCurKey="";let n=e.appBanDialogList.indexOf(t);n!=-1&&L("appDialog/delBanDialogItem",n)}L("appDialog/executeBanWarningDialog","execute then")})},executeClubNoticeDialog(e,t){if(e.appBanDialogCurKey||e.appWarningDialogCurKey)return;if(y(e.appClubResultList)){L("appDialog/executeDialog");return}let i=e.appClubResultList[0];y(i)||i.hasExec||getApp().globalData.curCallId>dt.WAITING||(e.appClubResultCurKey="club_result",e.appClubResultList[0].hasExec=!0,t&&t.delay&&(i.delay=t.delay),mi[i.funcName](i).then(()=>{e.appClubResultCurKey="";let n=e.appClubResultList.indexOf(i);n!=-1&&L("appDialog/delClubResultDialogItem",n),L("appDialog/executeClubNoticeDialog","execute then")}))},sortBanWarningDialog(e){let t=e.appBanDialogList.filter(a=>a.sort==Ti),i=e.appBanDialogList.filter(a=>a.sort!=Ti);i=i.sort((a,n)=>a.sort-n.sort),e.appBanDialogList=[...t,...i]}},Ml={init(i,a){return ta(this,arguments,function*({state:e},t){q("error","at store/modules/app-dialog.js:326","------> init dialog list, data ",t);let n=[];oe()?n=Bl(t.data,t.homeViewSizeObj):n=Pl(t.data,t.homeViewSizeObj),L("appDialog/setDialogList",n),L("appDialog/executeDialog")})}},Fl={namespaced:!0,state:ct,mutations:Ol,actions:Ml};function Pl(e,t){permissionGetAllStatus();let i=[],a=bn(2,t,e.homeFilterSex);a&&i.push(a);let n=wn(2,t);n&&i.push(n);let r=An(2,e.share);r&&i.push(r);let s=Sn(2);s&&i.push(s);let c=$l(2,e.notifyTips);return c&&i.push(c),i}function Bl(e,t){let i=[],a=Ul(e.authList);a&&i.push(a);let n=Wl();n&&i.push(n);let r=bn(2,t,e.homeFilterSex);r&&i.push(r);let s=wn(1,t);s&&i.push(s);let c=5,o=An(1,e.share,c);o&&i.push(o);let u=Sn(1);return u&&i.push(u),i}function Ul(e){return typeof e=="undefined"?null:{key:w.PERFECT_DATA,sort:Gi[w.PERFECT_DATA],delay:0,data:e,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecutePerfectData"}}function Wl(){return Tn()||!getApp().pubUser.is_rest?null:{key:w.REST,sort:Gi[w.REST],delay:0,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteRest"}}function Gl(e,t){return{key:w.HOME_FILTER,sort:He(e,w.HOME_FILTER),delay:0,data:{},hasExec:!1,isCanExecute:t,addTime:new Date().getTime(),funcName:"_dialogExecuteHomeFilter"}}function bn(e,t,i){return getApp().globalData.appCRE==0||!t||!t.filter?null:{key:w.HOME_SEX_FILTER,sort:He(e,w.HOME_SEX_FILTER),delay:0,data:{value:i,size:t.filter},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteHomeSexFilter"}}function wn(e,t){if(getApp().globalData.appCRE==0)return null;let i="grid";if(!t||!t[i])return null;let a={sizeList:[{key:i,size:t[i]}],from_type:1};return{key:w.GRID_GUIDE,sort:He(e,w.GRID_GUIDE),delay:0,data:a,hasExec:!1,isCanExecute:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteGridGuide"}}function An(e,t,i=5){return getApp().globalData.appCRE==0||y(t)||getApp().globalData.launchCount<3||Zs()?null:{key:w.SHARE,sort:He(e,w.SHARE),delay:i,data:t,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteShare"}}function Ta(e){return{key:w.HELLO,sort:mt,delay:e,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteHello"}}function Sn(e){let t=K("user_switch_language_status");if(t)return null;let i=ft(!1);if(t||y(i))return null;let a=Os.map(s=>s.key),n=ft();if(a.indexOf(n)!=-1)return null;let r=Ri(!1);return a.indexOf(r)==-1?null:{key:w.LANGUAGE_UP,sort:He(e,w.LANGUAGE_UP),delay:5,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteLanguageUp"}}function $l(e,t){return y(t)||K(`stop_notify_${getApp().globalData.uid}_${t.time}`)||!dn(Z.NOTIFY)?null:{key:w.RAMADAN,sort:He(e,w.RAMADAN),delay:5,data:t,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteRamadan"}}function Hl(e){return{key:w.MSG_DISTURB,sort:mt,delay:e,data:{from_type:1},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteMsgDisturb"}}function Vl(e){return{key:w.CALL_DISTURB,sort:mt,delay:e,data:{from_type:2},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteCallDisturb"}}function jl(e){return{key:w.BAN,sort:Ti,data:e,delay:e.delay||0,hasExec:!1,isBan:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteBan"}}function Yl(e){return{key:w.WARNING,sort:Number(e.id),data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteWarning"}}function Kl(e){return{key:w.WARNING,sort:Number(e.id),data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubWarning"}}function zl(e){return{key:w.CLUB_DISBAND+"_"+e.club_id,data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubDisband"}}function ql(e){return{key:w.CLUB_RESULT+"_"+e.club_id,data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubResult"}}var mi={_dialogExecutePermission(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),Se(e.key,e.delay,0)&&(L("appDialog/setDialogCurKey",w.PERMISSION),Hs(1,!1,e.permissionRes).then(()=>{t()}))},e.delay*1e3)})},_dialogExecutePerfectData(e){return new Promise(t=>{L("appDialog/setDialogCurKey",w.PERFECT_DATA),z("/pagesDialog/complete-content-first",{},"DataCompleteContentFirst",e.data,{onCloseListener(){t()}})})},_dialogExecuteRest(){return new Promise(e=>{L("appDialog/setDialogCurKey",w.REST),be(l("tips"),l("anchor.rest.openedTip"),()=>{let t={user_info:{is_rest:0}};G.request("/user/update-info",t,!0,!0).then(i=>{yt("pubUser.is_rest",0),Ne(l("tips"),l("anchor.rest.turnOff"),()=>{e()},l("gotIt"))},()=>{e()})},()=>{e()},l("startWorking"))})},_dialogExecuteHomeFilter(e){return new Promise(t=>{Se(e.key,e.delay,lt.USER)&&(L("appDialog/setDialogCurKey",w.HOME_FILTER),Y("/pagesDialog/seeking-sex-guide",{},{onCloseChooseSeekingSex:i=>{uni.$emit("event_app_dialog_seeking_sex_after",i),t()}}))})},_dialogExecuteHomeSexFilter(e){return new Promise(t=>{Se(e.key,e.delay,lt.USER)&&(L("appDialog/setDialogCurKey",w.HOME_SEX_FILTER),Y(ot.homeFilterSexGuide,{params:JSON.stringify(e.data)},{onCloseListener:()=>{uni.$emit("event_handle_filter_seeking_sex"),t()}}))})},_dialogExecuteGridGuide(e){return new Promise(t=>{if(!Se(e.key,e.delay,lt.USER))return;L("appDialog/setDialogCurKey",w.GRID_GUIDE);let i=e.data.sizeList;Y("/pagesDialog/guide-cover",{list:encodeURIComponent(JSON.stringify(i))},{onCloseGuideCover:()=>{uni.$emit("event_app_dialog_close_guide",{from_type:e.data.from_type}),t()}})})},_dialogExecuteShare(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),Se(e.key,e.delay,0)&&(L("appDialog/setDialogCurKey",w.SHARE),z("/pagesDialog/share",{},"shareData",e.data.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteLanguageUp(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),Se(e.key,e.delay,0)&&(L("appDialog/setDialogCurKey",w.LANGUAGE_UP),Ce("user_switch_language_status","1"),Y("/pagesDialog/switch-language-remind",{},{onCloseListener(){t()}}))},e.delay*1e3)})},_dialogExecuteRamadan(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),Se(e.key,e.delay,0)&&(L("appDialog/setDialogCurKey",w.RAMADAN),z("/pagesDialog/stop-notify",{},"dataStopNotify",e.data,{onCloseListener(){t()}}))},e.delay*1e3)})},_dialogExecuteHello(e){return new Promise(t=>{Zl().then(i=>{if(!i){t();return}if(ze&&clearInterval(ze),e.delay<=0||ve<=0){if(!Se(e.key,ve,0))return;L("appDialog/setDialogCurKey",w.HELLO),Da(i,()=>{t()});return}ze=setInterval(()=>{if(!Se(e.key,ve,0)){ze&&clearInterval(ze);return}ve-=1,ve<=0&&(clearInterval(ze),L("appDialog/setDialogCurKey",w.HELLO),Da(i,()=>{t()}))},1e3)})})},_dialogExecuteMsgDisturb(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),Se(e.key,e.delay,lt.MSG)&&(L("appDialog/setDialogCurKey",w.MSG_DISTURB),Y("/pagesDialog/disturb-def",e.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteCallDisturb(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),Se(e.key,e.delay,0)&&(L("appDialog/setDialogCurKey",w.CALL_DISTURB),Y("/pagesDialog/disturb-def",e.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteBan(e){return new Promise(t=>{let i=e.exp_time;if(parseInt(new Date().getTime()/1e3)>i){t();return}let a=setTimeout(()=>{clearTimeout(a);let n=e.data.from_cache?1:0;z("/pagesDialog/banned",{from_cache:n},"bannedDialogData",e.data,{onCloseListener:r=>{t(r)}})},e.delay*1e3)})},_dialogExecuteWarning(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),z("/pagesDialog/warning",{},"warningDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubWarning(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),z(ot.clubWarning,{},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubDisband(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),z(ot.clubDisband,{},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubResult(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),z(ot.clubStatusRemind,{from_type:2},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})}};function Se(e,t,i){let a;return i==0?a=Jl():a=Xl(i),getApp().globalData.isGestureBacking||getApp().globalData.s.state.appDialog.appDialogStop||Tn()||!a?(L("appDialog/resetDialogItem",{key:e,delay:t}),!1):!0}function Tn(){return getApp().globalData.uid==0}function Jl(){return getCurrentPages().length==1}function Xl(e){let t=Kt();return t.length==1&&t[0]==e}function He(e,t){return e==1?Gi[t]:xl[t]}function Zl(){return new Promise(e=>{let t=getApp().globalData.s.state.appDialog.appDialogHelloData;t?e(t):G.request("/user/greet-coach-list",{},!1,!0).then(i=>{y(i.data)||y(i.data.list)?e(null):(L("appDialog/setDialogHelloData",i.data),e(i.data))},i=>{e(null)})})}function Da(e,t){z("/pagesDialog/quality-user",{},"qualityUserData",e,{onCloseListener:i=>{i&&yn()?setTimeout(()=>{L("appDialog/addDialogNotify")},2300):t()}})}var Ql={curSendCont:0,msgMtimeList:[]},eo=60,Ca=6,to={addSendCount(e){e.curSendCont+=1},clearSendCount(e){e.curSendCont=0},addMsgDisturbSaveCount(e,t){let i=e.msgMtimeList.length;if(e.msgMtimeList.length<Ca&&(e.msgMtimeList.push(t/1e6),i=e.msgMtimeList.length),i>=Ca){let a=e.msgMtimeList[0];e.msgMtimeList[i-1]-a<=eo&&L("appDialog/addDialogMsgDisturb",2),e.msgMtimeList.splice(0,1)}}},io={namespaced:!0,state:Ql,mutations:to},ao={callMtimeList:[]},no=60,va=3,ro={addCallDisturbReceiveCount(e,t){let i=e.callMtimeList.length;if(e.callMtimeList.length<va&&(e.callMtimeList.push(t/1e3),i=e.callMtimeList.length),i>=va){let a=e.callMtimeList[0];e.callMtimeList[i-1]-a<=no&&L("appDialog/addDialogCallDisturb",2),e.callMtimeList.splice(0,1)}},clearCallDisturbReceiveMtime(e){e.callMtimeList=[]}},so={namespaced:!0,state:ao,mutations:ro},Xe=K("pubData");Xe||(Xe={});var lo=["pubToken","pubUser","pubAccount","pubPrivacy"],oo=function(e,t){if(lo.indexOf(e)==-1)return;let i=K("pubData");i=i||{},i[e]=t,Ce("pubData",i),["pubUser","pubAccount"].indexOf(e)!=-1?uni.$emit("event_vuex_watch",e):uni.$emit(`event_vuex_watch_${e}`)},co=(0,ka.createStore)({state:{pubToken:Xe.pubToken||"",pubUser:Xe.pubUser||{nickname:"",uid:0,avatar:""},pubAccount:Xe.pubAccount||{money:0},pubPrivacy:Xe.pubPrivacy||{},pubUnread:0,pubUnreadMy:{fans:0,moment:0,moment_type:1},pubI18n:"",pubAI18n:""},mutations:{setPubValue(e,t){let i=t.name.split("."),a="",n=i.length;if(n>=2){let r=e[i[0]];for(let s=1;s<n-1;s++)r=r[i[s]];r[i[n-1]]=t.value,a=i[0]}else e[t.name]=t.value,a=t.name;oo(a,e[a])},initUnread(e,t){let i=parseInt(t);i<0&&(i=0),e.pubUnread=i,Pt(Ze.MSG,e.pubUnread),uni.$emit("event_vuex_watch_pub_unread",i)},setUnread(e,t){let i=parseInt(t);if(isNaN(i)||i==0)return;let a=e.pubUnread+i;a<0&&(a=0),e.pubUnread=a,Pt(Ze.MSG,e.pubUnread),uni.$emit("event_vuex_watch_pub_unread",a)},initUnreadMy(e,t){let i=e.pubUnreadMy;typeof t.fans!="undefined"&&(i.fans=Number(t.fans)),typeof t.moment!="undefined"&&(i.moment=Number(t.moment)),typeof t.moment_type!="undefined"&&(i.moment_type=Number(t.moment_type)),e.pubUnreadMy=i,Aa(),uni.$emit("event_vuex_watch_pubUnreadMy",i)},setUnreadMy(e,t){let i=e.pubUnreadMy;for(let a in t)i[a]=t[a];e.pubUnreadMy=i,Aa(),uni.$emit("event_vuex_watch_pubUnreadMy",i)}},modules:{appDialog:Fl,message:io,call:so}}),qe={handleCache(){let e=qe.getCache();y(e)||(e=_t(e),!qe.checkIsShow()&&(e.from_cache=1,L("appDialog/addDialogBan",e),L("appDialog/executeBanWarningDialog")))},checkIsShow(){return Ie()=="/pagesDialog/banned"},setCache(e){let t=JSON.stringify(e);Ce(qe.getCacheKey(),t)},getCache(){return K(qe.getCacheKey())},getCacheKey(){return`banned_data_${co.state.pubUser.uid}`},removeCache(){$t(qe.getCacheKey())}},G={setToken(e){y(e)||yt("pubToken",e)},isLogin(){let e=getApp().globalData.s.state;return!y(e.pubToken)&&e.pubUser.uid},requestOutsourcing(e,t,i,a,n=!1){return G.requestBase(e,t,i,a,n,3)},requestManager(e,t,i,a,n=!1){return G.requestBase(e,t,i,a,n,2)},request(e,t,i,a,n=!1){return G.requestBase(e,t,i,a,n,1)},requestBase(e,t,i,a,n=!1,r){return new Promise((s,c)=>{let o=!1;try{o=getApp().globalData.s.state.pubToken}catch(E){q("error","at common/api.js:35","request token catch "+JSON.stringify(E))}let u={"content-type":"application/json",ua:getApp().globalData.ua},f;r==1?(f=getApp().globalData.apiHost,o&&(u.auth=`Bearer ${o}`)):r==2?(f=getApp().globalData.pApiHost,o&&(u.Authorization=`Bearer ${o}`)):r==3&&(f=getApp().globalData.oApiHost,o&&(u.Authorization=`Bearer ${o}`));let h=!1;if(i)if(i=="refresh")h=!0;else{let E={mask:!0};typeof i=="string"&&(E.title=i),uni.showLoading(E)}It.invoke(e,t);let _=_o(t);uni.request({url:f+e,method:"POST",header:u,data:_,dataType:"json",timeout:1e4,complete(E){if(i&&uni.hideLoading(),q("log","at common/api.js:74",`request ${e} obj ${JSON.stringify(t)}`),E.statusCode==200){let k=E.data;if(k.data&&typeof k.data.callback=="object"&&(G.handleCallback(k.data.callback),n))return kt;if(k.ok===99)return getApp().loginOut(),kt;if(k.ok==-98)return ho(k.data),a&&c(k),kt;if(y(k.msg)||qt(k.msg),k.ok>0){s(k);return}a&&c(k)}else if(h&&uni.stopPullDownRefresh(),a)c(E),It.error(e,t,E);else return It.error(e,t,E),kt},fail(E){It.fail(e,E)}})})},handleCallback(e){switch(e.func_name){case"alert":uo(e.func_data);break;case"open":fo(e.func_data);break;case"vip_alert":z("/pages/vip/vip-dialog",null,"vipDialogData",e.func_data);break;case"recharge_alert":let t={fromType:e.func_data.from_type,diffCoin:e.func_data.diff_coin||0};t.order_source=typeof e.func_data.order_source=="undefined"?0:e.func_data.order_source,t.click_type=typeof e.func_data.click_type=="undefined"?0:e.func_data.click_type,z("/pages/coin/coin-dialog",t,"coinDialogData",e.func_data);break;case"close":Ii();break;case"banned_alert":let i=e.func_data.exp_time;if(parseInt(new Date().getTime()/1e3)>i||(L("appDialog/addDialogBan",e.func_data),qe.setCache(e.func_data),Ie()=="/pagesDialog/banned"))return;let n=setTimeout(()=>{clearTimeout(n),L("appDialog/executeBanWarningDialog")},e.delay*1e3);break;case"reconnect_mqtt":getApp().socketReconnect(tl.API_CALL_BACK,e.func_data);break;case"reload_route":getApp().handleSecret(e.func_data,vl.CALLBACK,{});break;case"event":mo(e.func_data);break;case"api":po(e.func_data);break;case"sensitive_alert":z("/pagesDialog/sensitive-check",null,"sensitiveData",e.func_data),uni.hideKeyboard();break;case"free_coins":z("/pagesDialog/coins-free",{coin:e.func_data.free_coins},"coinsFree",{},{});break}},accessLog(e,t){this.request("/other/access-log",{api_name:e,content:Et(t)})},accessLogExtra(e,t,i){let a=`${Et(t)} ${Et(i)}`;this.request("/other/access-log",{api_name:e,content:a})},accessLogApi(e,t,i,a){let n=`url:${t} p:${JSON.stringify(i)} res ${Et(a)}`;G.accessLog(e,n)}};function uo(e){let t=e.enter_func,i=e.cancel_title,a=e.enter_title,n=e.cancel_func,r=!y(i);uni.hideKeyboard(),uni.showModal({title:e.title,content:e.msg,showCancel:r,cancelText:r?i:l("cancel"),confirmText:a||l("ok"),complete(s){s.confirm?y(t)||G.handleCallback(t):s.cancel&&(y(n)||G.handleCallback(n))}})}function fo(e){let t=e.page_name,i=e.data;t=="inside_web"?ya(i.route,!0):t=="safari"?ya(i.route,!1):t=="web"?Y(i.route):t=="native"?go(i.route):t=="chat"&&(Kt().indexOf("/pages/call/chat-view")==-1?Ni(i.user_info):uni.$emit("event_no_connect_close_listener",{action:"chat_pri",user:i.user_info}))}function mo(e){let t=e.event_key;if(y(t))return;let i=e.data;y(i)?uni.$emit(t):uni.$emit(t,i)}function po(e){if(e.type==1){let i={user_info:{is_rest:0}};G.request("/user/update-info",i,!0).then(()=>{getApp().pubUser.is_rest=0,Ne(l("tips"),l("anchorTurnedOffRest"),"",l("gotIt"))})}}function go(e){return new Function("return "+e)()}function ho(e){Kt().indexOf("/pagesDialog/stop_taking")==-1&&(getApp().globalData.appStopTaking=!0,getApp().socketDisconnect(),z("/pagesDialog/stop_taking",{},"stopTakingData",e))}function _o(e){try{y(e)&&(e={}),e.times=new Date().getTime();let t=Object.keys(e).sort(),i={};for(let n=0,r=t.length;n<r;n++)i[t[n]]=e[t[n]];let a=Dn(i).substr(1);return i.sign=Si.md5(`${Si.md5(a)}fMHjgD94yoc6TbB7sGoA`),i}catch(t){return e}}function Dn(e,t){if(e==null)return"";try{let i="",a=typeof e;if(a=="string"||a=="number")i+="&"+t+"="+Is(e);else if(a=="boolean")i+="&"+t+"="+(e?1:0);else for(let n in e){let r=t==null?n:t+yo(n);i+=Dn(e[n],r)}return i}catch(i){return""}}function yo(e){return`${encodeURIComponent("[")}${e}${encodeURIComponent("]")}`}var M=(e,t)=>{let i=e.__vccOpts||e;for(let[a,n]of t)i[a]=n;return i};var bo=["titleIcon","titleIconRadius","subtitleText","subtitleSize","subtitleColor","subtitleOverflow","titleAlign","backgroundImage","backgroundRepeat","blurEffect"],wo={props:{title:{type:String,default:""},titleIcon:{type:String,default:""},titleIconRadius:{type:String,default:""},subtitleText:{type:String,default:""},subtitleSize:{type:String,default:""},subtitleColor:{type:String,default:""},subtitleOverflow:{type:String,default:""},titleAlign:{type:String,default:""},backgroundImage:{type:String,default:""},backgroundRepeat:{type:String,default:""},blurEffect:{type:String,default:""},loading:{type:Boolean,default:!1},frontColor:{type:String,default:"#ffffff"},backgroundColor:{type:String,default:"#000000"},colorAnimationDuration:{type:Number,default:0},colorAnimationTimingFunc:{type:String,default:"linear"}},created(){let e=getCurrentPages(),t=e[e.length-1];this.__$page=t,this.$watch("title",()=>{this.setNavigationBarTitle()}),this.$watch("loading",()=>{this.setNavigationBarLoading()}),this.$watch(()=>[this.frontColor,this.backgroundColor,this.colorAnimationDuration,this.colorAnimationTimingFunc],()=>{this.setNavigationBarColor()}),this.__$webview=t.$getAppWebview(),bo.forEach(i=>{let a={};(this[i]||this[i].length>0)&&(a[i]=this[i]),this.setTitleNView(a),this.$watch(i,n=>{let r={};r[i]=n,this.setTitleNView(r)})})},beforeMount(){this.title&&this.setNavigationBarTitle(),this.setNavigationBarLoading(),this.setNavigationBarColor()},methods:{setNavigationBarTitle(){uni.setNavigationBarTitle({__page__:this.__$page,title:this.title})},setNavigationBarLoading(){uni[(this.loading?"show":"hide")+"NavigationBarLoading"]({__page__:this.__$page})},setNavigationBarColor(){uni.setNavigationBarColor({__page__:this.__$page,frontColor:this.frontColor,backgroundColor:this.backgroundColor,animation:{duration:this.colorAnimationDuration,timingFunc:this.colorAnimationTimingFunc}})},setTitleNView(e){let t=this.__$webview,i=t.getStyle();i&&i.titleNView&&t.setStyle({titleNView:e})}}};function Ao(e,t,i,a,n,r){return(0,te.openBlock)(),(0,te.createElementBlock)("view",{style:{display:"none"},renderWhole:!0})}var So=M(wo,[["render",Ao]]),To={name:"PageMeta",setup(e,{emit:t}){Ea(i=>{t("resize",i)})},props:{backgroundTextStyle:{type:String,default:"dark",validator(e){return["dark","light"].indexOf(e)!==-1}},backgroundColor:{type:String,default:"#ffffff"},backgroundColorTop:{type:String,default:"#ffffff"},backgroundColorBottom:{type:String,default:"#ffffff"},scrollTop:{type:String,default:""},scrollDuration:{type:Number,default:300},pageStyle:{type:String,default:""},enablePullDownRefresh:{type:[Boolean,String],default:!1},rootFontSize:{type:String,default:""}},created(){let e=getCurrentPages()[0];this.$pageVm=e.$vm||e,this._currentWebview=e.$getAppWebview(),this.enablePullDownRefresh&&this.setPullDownRefresh(this._currentWebview,!0),this.$watch("enablePullDownRefresh",t=>{this.setPullDownRefresh(this._currentWebview,t)}),this.$watch("backgroundTextStyle",()=>{this.setBackgroundTextStyle()}),this.$watch(()=>[this.rootFontSize,this.pageStyle],()=>{this.setPageMeta()}),this.$watch(()=>[this.backgroundColor,this.backgroundColorTop,this.backgroundColorBottom],()=>{this.setBackgroundColor()}),this.$watch(()=>[this.scrollTop,this.scrollDuration],()=>{this.pageScrollTo()})},beforeMount(){this.setBackgroundColor(),(this.rootFontSize||this.pageStyle)&&this.setPageMeta(),this.backgroundTextStyle&&this.setBackgroundTextStyle()},mounted(){this.scrollTop&&this.pageScrollTo()},methods:{setPullDownRefresh(e,t){e.setStyle({pullToRefresh:{support:t,style:plus.os.name==="Android"?"circle":"default"}})},setPageMeta(){uni.setPageMeta({pageStyle:this.pageStyle,rootFontSize:this.rootFontSize})},setBackgroundTextStyle(){},setBackgroundColor(){},pageScrollTo(){let e=String(this.scrollTop);e.indexOf("rpx")!==-1&&(e=uni.upx2px(e.replace("rpx",""))),e=parseFloat(e),!isNaN(e)&&uni.pageScrollTo({scrollTop:e,duration:this.scrollDuration,success:()=>{}})}}};function Do(e,t,i,a,n,r){return(0,te.openBlock)(),(0,te.createElementBlock)("view",{style:{display:"none"},renderWhole:!0},[(0,te.renderSlot)(e.$slots,"default")])}var Co=M(To,[["render",Do]]),vo={props:{useBg1_1:{type:Boolean,default:!1},otherStyle:{type:String,default:""},enableRefresh:{type:Boolean,default:!1},title:{type:String,default:""}},data(){return{themeObj:getApp().globalData.themeObj}},computed:{style(){let e=`background:${this.useBg1_1?this.themeObj.color.bg1_1:this.themeObj.color.bg1};`;return y(this.otherStyle)||(e=e+this.otherStyle),e},navBarFontColor(){return this.themeObj.style==ie.LIGHT?"#000000":"#FFFFFF"},navBarBgColor(){return this.themeObj.color.bg2}}};function ko(e,t,i,a,n,r){let s=F((0,te.resolveDynamicComponent)("navigation-bar"),So),c=F((0,te.resolveDynamicComponent)("page-meta"),Co);return(0,te.openBlock)(),(0,te.createBlock)(c,{"page-style":r.style,"enable-pull-down-refresh":i.enableRefresh},{default:(0,te.withCtx)(()=>[(0,te.createVNode)(s,{title:i.title,"background-color":r.navBarBgColor,"front-color":r.navBarFontColor},null,8,["title","background-color","front-color"])]),_:1},8,["page-style","enable-pull-down-refresh"])}var Cn=M(vo,[["render",ko]]),vn={data(){return{themeObj:getApp().globalData.themeObj,webStyle:!1,currentWebview:!1,loadTitleViewCount:0}},computed:{pageBgColor(){return this.useBg1_1?this.themeObj.color.bg1_1:this.themeObj.color.bg1},pageBg(){return{background:this.pageBgColor}},navBarFontColor(){return this.themeObj.style==ie.LIGHT?"#000000":"#FFFFFF"}},methods:{initNavBarRBtn(e,t,i,a=""){this._setNavBar(e,t,i?this.themeObj.color.barBtn:this.themeObj.color.barBtnN,"14px",a)},initNavBarRBtnText(e,t,i="",a="14px"){let n=i||this.navBarFontColor;this._setNavBar(e,t,n,a)},initNavBarRBtnType(e,t,i){let a=i||(this.themeObj.style==ie.LIGHT?"#000000":"#FFFFFF");this._setNavBarType(e,t,a)},initNavBarRBtnTextIcon(e,t,i="22px"){let a=this.themeObj.style==ie.LIGHT?"#000000":"#FFFFFF";this._setNavBar(e,t,a,i)},initNavBarRImg(e,t){this._setNavBarImg(e,t)},initNavBarImgStyle(e,t){this._setNavBarImgStyle(e,t)},setNavBarRBtnStatus(e,t){this._setNavBarColor(e,t?this.themeObj.color.barBtn:this.themeObj.color.barBtnN)},setNavBarTitle(e){this._setNavBarTitle(e)},_setNavBarImgStyle(e,t){let i=this.webStyle.titleNView;if(i&&i.tags&&i.tags[t]){let a=i.tags[t].position,n=Object.assign(a,e);i.tags[t].position=n,this.currentWebview.setStyle({titleNView:i})}},_setNavBar(e,t,i,a,n){let r=this.webStyle.titleNView;n&&(r.titleText=n),r&&r.buttons&&r.buttons[t]&&(r.buttons[t].text=e,r.buttons[t].color=i,r.buttons[t].fontSize=a,this.currentWebview.setStyle({titleNView:r}))},_setNavBarType(e,t,i){let a=this.webStyle.titleNView;a&&a.buttons&&a.buttons[t]&&(a.buttons[t].type=e,a.buttons[t].color=i,this.currentWebview.setStyle({titleNView:a}))},_setNavBarImg(e,t){let i=this.webStyle.titleNView;i&&i.tags&&i.tags[t]&&(i.tags[t].src=e,this.currentWebview.setStyle({titleNView:i}))},_setNavBarColor(e,t){let i=this.webStyle.titleNView;i&&i.buttons&&i.buttons[e]&&(i.buttons[e].color=t,this.currentWebview.setStyle({titleNView:i}))},_setNavBarTitle(e=""){let t=this.webStyle.titleNView;t&&e&&(t.titleText=e,this.currentWebview.setStyle({titleNView:t}))},_setViewBg(e,t,i){try{if(this.webStyle=this.currentWebview.getStyle(),i&&typeof this.webStyle.titleNView=="undefined"&&this.loadTitleViewCount<10){this.loadTitleViewCount+=1,setTimeout(()=>{this._setViewBg(e,t)},100);return}this.webStyle.titleNView?(this.webStyle.titleNView.splitLine&&(this.webStyle.titleNView.splitLine.color=e),this.webStyle.titleNView.titleColor&&(this.webStyle.titleNView.titleColor=this.navBarFontColor),this.webStyle.titleNView.backgroundColor&&(this.webStyle.titleNView.backgroundColor=this.themeObj.color.bg2),this.currentWebview.setStyle({titleNView:this.webStyle.titleNView})):uni.setNavigationBarColor({frontColor:this.navBarFontColor}),this.webStyle.background=t,this.currentWebview.setStyle({background:t})}catch(a){q("error","at coms/theme.mixin.js:133","error theme.mixin.js catch ...",a)}}},onReady(){let e,t;this.themeObj.style==ie.LIGHT?e="rgba(230,230,230,0.5)":e=this.themeObj.color.bg2,t=this.useBg1_1?this.themeObj.color.bg1_1:this.themeObj.color.bg1;let i=getCurrentPages(),a=i[i.length-1];if(!a)return;this.currentWebview=a.$getAppWebview();let n,r=this.currentWebview.getNavigationbar();y(r)||Object.keys(r).length<=0?n=!0:n=!1,this._setViewBg(e,t,n)}};var D=J(X());var j=J(X()),Eo={"l-img":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"place-img":{"":{position:"absolute",top:0,left:0}},"text-place":{"":{color:"#999999",position:"absolute",bottom:0,textAlign:"center"}}},xo={name:"LImg",emits:["click","onError","onLoad"],props:{src:{type:String,default:""},mode:{type:String,default:"aspectFill"},w:{type:String,default:"0"},h:{type:String,default:"0"},radius:{type:String,default:"0"},lazyLoad:{type:Boolean,default:!1},fade:{type:Boolean,default:!0},placeType:{type:Number,default:0},placeW:{type:String,default:""},placeFontSize:{type:[String,Boolean],default:""},placeBottom:{type:String,default:""},border:{type:String,default:""},otherStyle:{type:Object,default(){return{}}},click:{type:Boolean,default:!0},isGif:{type:Boolean,default:!1},needStyle:{type:[String,Number],default:0},useCache:{type:Boolean,default:!1},fitWH:{type:String,default:""}},data(){return{errorCount:1,path:"",refresh:!0,darkDir:"",isLoad:!1,fitStr:""}},watch:{src(){this.isLoad=!1,this.path=this.parse()}},computed:{placeSrc(){return this.placeType==1?"/static/img_load_s.png":this.placeType==2?"/static/img_load_b.png":""},placeViewStyle(){let e={width:this.placeW,height:this.placeW,position:"relative"};return this.placeBottom&&(e.marginBottom=this.placeBottom),e},placeFontSizeVal(){return this.placeFontSize===!1?"":this.placeFontSize?this.placeFontSize:this.placeType==2?"24rpx":"16rpx"},borderStyle(){if(this.border=="")return{};let e={},t=this.border.split(" ");return e.borderWidth=t[0],e.borderStyle=t[1],e.borderColor=t[2],e},viewStyle(){let e={width:this.w,minWidth:this.w,height:this.h,minHeight:this.h};return this.setRadius(e)},imgStyle(){let e={width:this.w,height:this.h};return e=Object.assign(e,this.otherStyle),this.setRadius(e)},ossPathOriginal(){return this.isGif?getApp().globalData.ossPath:getApp().globalData.ossPicPath}},methods:{$str:l,clickImg(e){this.click&&this.$emit("click",e)},setRadius(e){let t=this.radius.split(" ");return t.length<=1?e.borderRadius=this.radius:(e.borderTopLeftRadius=t[0],e.borderTopRightRadius=t[1],e.borderBottomRightRadius=t[2],e.borderBottomLeftRadius=t[3]),e},onLoadError(){if(this.path){if(this.path.startsWith("http")){if(this.errorCount>2){this.isError=!0,this.$emit("onError");return}this.errorCount+=1,this.refresh=!1,setTimeout(()=>{this.refresh=!0},500);return}this.path=this.ossPathOriginal+this.darkDir+this.src,on(this.darkDir+this.src)}},onLoad(){this.isLoad=!0,this.$emit("onLoad")},parse(){let e;if(e=0,this.src.startsWith("/static"))return this.src;if(this.src.startsWith("s/")){let t=getApp().getAppFilePath(this.darkDir+this.src,e);if(!y(t))return t}return this.useCache||e&&v.isAndroid?this.isGif?De(this.fitStr+this.darkDir+this.src):Mi(this.fitStr+this.darkDir+this.src):this.src.startsWith("file://")?this.src:this.src.startsWith("/var/mobile/")?"file://"+this.src:this.src.startsWith("/storage/")?this.src:this.ossPathOriginal+this.fitStr+this.darkDir+this.src}},created(){this.needStyle==1&&getApp().globalData.themeObj.style==ie.DARK?this.darkDir="dark/":this.darkDir="",this.fitWH&&this.src.indexOf("fit-in")==-1&&(this.fitStr="fit-in/"+this.fitWH+"/"),this.path=this.parse()}};function Lo(e,t,i,a,n,r){return(0,j.openBlock)(),(0,j.createElementBlock)("view",{class:"l-img",onClick:t[2]||(t[2]=(...s)=>r.clickImg&&r.clickImg(...s)),style:(0,j.normalizeStyle)([r.viewStyle,r.borderStyle]),renderWhole:!0},[(0,j.createElementVNode)("view",{class:"l-img",style:(0,j.normalizeStyle)([{position:"relative"},r.viewStyle])},[i.placeType&&!n.isLoad?((0,j.openBlock)(),(0,j.createElementBlock)("view",{key:0,style:(0,j.normalizeStyle)(r.placeViewStyle)},[(0,j.createElementVNode)("u-image",{src:r.placeSrc,style:(0,j.normalizeStyle)({width:i.placeW,height:i.placeW})},null,12,["src"]),r.placeFontSizeVal?((0,j.openBlock)(),(0,j.createElementBlock)("u-text",{key:0,class:"text-place",style:(0,j.normalizeStyle)({fontSize:r.placeFontSizeVal,width:i.placeW})},(0,j.toDisplayString)(r.$str("loading"))+"...",5)):(0,j.createCommentVNode)("",!0)],4)):(0,j.createCommentVNode)("",!0),n.refresh?((0,j.openBlock)(),(0,j.createElementBlock)("u-image",{key:1,onError:t[0]||(t[0]=(...s)=>r.onLoadError&&r.onLoadError(...s)),onLoad:t[1]||(t[1]=(...s)=>r.onLoad&&r.onLoad(...s)),src:n.path,mode:i.mode,lazyLoad:i.lazyLoad,fadeShow:i.fade,style:(0,j.normalizeStyle)([r.imgStyle,r.borderStyle]),class:"place-img"},null,44,["src","mode","lazyLoad","fadeShow"])):(0,j.createCommentVNode)("",!0)],4)],4)}var H=M(xo,[["render",Lo],["styles",[Eo]]]);var m=J(X());var Io={"view-this":{"":{flexDirection:"row",alignItems:"center",position:"relative",marginRight:"8rpx"}},"text-level":{"":{width:"50rpx",lineHeight:"50rpx",textAlign:"center",color:"#FFFFFF",position:"absolute",top:0}}},No={props:{info:{type:Object,default(){return{}}},vipAlways:{type:Boolean,default:!1},levelAlways:{type:Boolean,default:!1},hideVip:{type:Boolean,default:!1}},computed:{show(){return this.info.is_auth||this.info.level>0||this.showVip||this.levelAlways},showVip(){return this.hideVip?!1:this.info.is_vip?this.info.hide_vip?this.vipAlways:!0:!1},showLevel(){return!this.info.hide_level&&(this.info.level>0||this.info.is_auth)?!0:this.levelAlways},levelStr(){let e=this.info.is_auth?1:0;return this.info.level<=0?e:this.info.level},levelSrc(){return this.info.sex==2?"s/pub/level_a.png":"s/pub/level_c.png"},levelSize(){return this.info.level>99?"10rpx":this.info.level>9?"14rpx":"16rpx"},levelWeight(){return this.info.level>99?"bold":"normal"}}};function Ro(e,t,i,a,n,r){let s=F((0,m.resolveDynamicComponent)("l-img"),H);return r.show?((0,m.openBlock)(),(0,m.createElementBlock)("view",{key:0,class:"view-this",renderWhole:!0},[r.showLevel?((0,m.openBlock)(),(0,m.createElementBlock)("view",{key:0},[(0,m.createVNode)(s,{src:r.levelSrc,w:"50rpx",h:"50rpx"},null,8,["src"]),(0,m.createElementVNode)("u-text",{class:"text-level",style:(0,m.normalizeStyle)({fontSize:r.levelSize,fontWeight:r.levelWeight})},(0,m.toDisplayString)(r.levelStr),5)])):(0,m.createCommentVNode)("",!0),r.showVip?((0,m.openBlock)(),(0,m.createBlock)(s,{key:1,src:"s/pub/vip_3.png",w:"56rpx",h:"24rpx",style:{"margin-left":"8rpx"}})):(0,m.createCommentVNode)("",!0)])):(0,m.createCommentVNode)("",!0)}var kn=M(No,[["render",Ro],["styles",[Io]]]),Oo={center:{"":{alignItems:"center",flexDirection:"row"}},"m-l-4":{"":{marginLeft:"8rpx"}},"m-r-4":{"":{marginRight:"8rpx"}}},Mo={props:{user:{type:Object,default(){return{}}},imgW:{type:Number,default:40},imgH:{type:Number,default:26},fontSize:{type:Number,default:24},color:{type:String,default:""},showName:{type:Boolean,default:!1},showCode:{type:Boolean,default:!0},desc:{type:Boolean,default:!1}},computed:{defClass(){let e={fontSize:`${this.fontSize}rpx`};return y(this.color)?e.color=getApp().globalData.themeObj.color.title:e.color=this.color,e}}};function Fo(e,t,i,a,n,r){let s=F((0,m.resolveDynamicComponent)("l-img"),H);return i.user.country_code&&!i.desc?((0,m.openBlock)(),(0,m.createElementBlock)("view",{key:0,class:"center"},[(0,m.createVNode)(s,{src:i.user.country_flag,w:`${i.imgW}rpx`,h:`${i.imgH}rpx`},null,8,["src","w","h"]),i.showCode&&i.user.country_code?((0,m.openBlock)(),(0,m.createElementBlock)("u-text",{key:0,class:"m-l-4",style:(0,m.normalizeStyle)(r.defClass)},(0,m.toDisplayString)(i.user.country_code.toUpperCase()),5)):(0,m.createCommentVNode)("",!0),i.showName&&i.user.country_name?((0,m.openBlock)(),(0,m.createElementBlock)("u-text",{key:1,class:"m-l-4",style:(0,m.normalizeStyle)(r.defClass)},(0,m.toDisplayString)(i.user.country_name),5)):(0,m.createCommentVNode)("",!0)])):i.user.country_code?((0,m.openBlock)(),(0,m.createElementBlock)("view",{key:1,class:"center m-r-4"},[i.showName&&i.user.country_name?((0,m.openBlock)(),(0,m.createElementBlock)("u-text",{key:0,class:"m-r-4",style:(0,m.normalizeStyle)(r.defClass)},(0,m.toDisplayString)(i.user.country_name),5)):(0,m.createCommentVNode)("",!0),i.showCode&&i.user.country_code?((0,m.openBlock)(),(0,m.createElementBlock)("u-text",{key:1,class:"m-r-4",style:(0,m.normalizeStyle)(r.defClass)},(0,m.toDisplayString)(i.user.country_code.toUpperCase()),5)):(0,m.createCommentVNode)("",!0),(0,m.createVNode)(s,{src:i.user.country_flag,w:`${i.imgW}rpx`,h:`${i.imgH}rpx`},null,8,["src","w","h"])])):(0,m.createCommentVNode)("",!0)}var En=M(Mo,[["render",Fo],["styles",[Oo]]]),Po={"user-info":{"":{flexDirection:"row",alignItems:"center"}},"nickname-nvue":{"":{lines:1,textOverflow:"ellipsis",wordWrap:"anywhere"}},"m-r-4":{"":{marginRight:"8rpx"}},"text-official":{"":{lineHeight:"28rpx",backgroundColor:"#34C759",borderRadius:"4rpx",paddingTop:0,paddingRight:"8rpx",paddingBottom:0,paddingLeft:"8rpx",color:"#FFFFFF",fontSize:"20rpx",fontStyle:"italic",fontWeight:"700",marginRight:"8rpx"}}},Bo={components:{LImg:H,CountryCode:En,LevelVip:kn},props:{info:{type:Object,default(){return{}}},noName:{type:Number,default:0},nameColor:{type:String,default:""},nameSize:{type:String,default:"26rpx"},nameWidth:{type:String,default:"300rpx"},fw:{type:[String,Number],default:"400"},desc:{type:Boolean,default:!1},isAdmin:{type:Number,default:0},showAge:{type:Boolean,default:!0},showAuth:{type:Boolean,default:!0},showCountry:{type:Boolean,default:!1},showCountryCode:{type:Boolean,default:!0},levelAlways:{type:Boolean,default:!1}},computed:{officialStr(){return this.info.auth_status==9?l("official"):""},age(){if(!this.showAge||y(this.info.birthday)||this.info.hide_profile)return"";let e=Yt(this.info.birthday);return y(e)||isNaN(e)?"":`${this.noName?"":", "}${e}`},nicknameText(){return Qt(this.info,this.isAdmin)},showCountryInfo(){return this.showCountry&&this.info.hide_profile!=1},nicknameColor(){return y(this.nameColor)?getApp().globalData.themeObj.color.title:this.nameColor}}};function Uo(e,t,i,a,n,r){let s=F((0,m.resolveDynamicComponent)("level-vip"),kn),c=F((0,m.resolveDynamicComponent)("country-code"),En),o=F((0,m.resolveDynamicComponent)("l-img"),H);return(0,m.openBlock)(),(0,m.createElementBlock)("view",{renderWhole:!0},[i.desc?((0,m.openBlock)(),(0,m.createElementBlock)("view",{key:1,class:"user-info",style:{"justify-content":"flex-end"}},[r.officialStr?((0,m.openBlock)(),(0,m.createElementBlock)("u-text",{key:0,class:"text-official"},(0,m.toDisplayString)(r.officialStr),1)):((0,m.openBlock)(),(0,m.createElementBlock)("view",{key:1,class:"user-info"},[i.showAuth&&i.info.auth_status==1?((0,m.openBlock)(),(0,m.createBlock)(o,{key:0,src:"s/pub/verified_1.png",w:"24rpx",h:"24rpx",style:{"margin-right":"8rpx"}})):(0,m.createCommentVNode)("",!0),r.showCountryInfo?((0,m.openBlock)(),(0,m.createBlock)(c,{key:1,user:i.info,color:r.nicknameColor,desc:i.desc,"show-code":i.showCountryCode},null,8,["user","color","desc","show-code"])):(0,m.createCommentVNode)("",!0),(0,m.createVNode)(s,{info:i.info,"vip-always":i.isAdmin==1,"level-always":i.levelAlways,style:{"margin-right":"8rpx"}},null,8,["info","vip-always","level-always"])])),i.noName?(0,m.createCommentVNode)("",!0):((0,m.openBlock)(),(0,m.createElementBlock)("u-text",{key:2,class:(0,m.normalizeClass)(["nickname-nvue",[r.age?"":"m-r-4"]]),style:(0,m.normalizeStyle)({color:r.nicknameColor,fontSize:i.nameSize,maxWidth:i.nameWidth,fontWeight:i.fw})},(0,m.toDisplayString)(r.nicknameText),7)),r.age?((0,m.openBlock)(),(0,m.createElementBlock)("u-text",{key:3,class:"nickname-nvue",style:(0,m.normalizeStyle)({color:r.nicknameColor,fontSize:i.nameSize,fontWeight:i.fw})},(0,m.toDisplayString)(r.age),5)):(0,m.createCommentVNode)("",!0)])):((0,m.openBlock)(),(0,m.createElementBlock)("view",{key:0,class:"user-info"},[i.noName?(0,m.createCommentVNode)("",!0):((0,m.openBlock)(),(0,m.createElementBlock)("u-text",{key:0,class:(0,m.normalizeClass)(["nickname-nvue",[r.age?"":"m-r-4"]]),style:(0,m.normalizeStyle)({color:r.nicknameColor,fontSize:i.nameSize,maxWidth:i.nameWidth,fontWeight:i.fw})},(0,m.toDisplayString)(r.nicknameText),7)),r.age?((0,m.openBlock)(),(0,m.createElementBlock)("u-text",{key:1,class:"nickname-nvue m-r-4",style:(0,m.normalizeStyle)({color:r.nicknameColor,fontSize:i.nameSize,fontWeight:i.fw})},(0,m.toDisplayString)(r.age),5)):(0,m.createCommentVNode)("",!0),r.officialStr?((0,m.openBlock)(),(0,m.createElementBlock)("u-text",{key:2,class:"text-official"},(0,m.toDisplayString)(r.officialStr),1)):((0,m.openBlock)(),(0,m.createElementBlock)("view",{key:3,class:"user-info"},[(0,m.createVNode)(s,{info:i.info,"vip-always":i.isAdmin==1,"level-always":i.levelAlways,style:{"margin-right":"8rpx"}},null,8,["info","vip-always","level-always"]),r.showCountryInfo?((0,m.openBlock)(),(0,m.createBlock)(c,{key:0,user:i.info,color:r.nicknameColor,"show-code":i.showCountryCode,style:{"margin-right":"8rpx"}},null,8,["user","color","show-code"])):(0,m.createCommentVNode)("",!0),i.showAuth&&i.info.auth_status==1?((0,m.openBlock)(),(0,m.createBlock)(o,{key:1,src:"s/pub/verified_1.png",w:"24rpx",h:"24rpx",style:{"margin-right":"8rpx"}})):(0,m.createCommentVNode)("",!0)]))]))])}var Ve=M(Bo,[["render",Uo],["styles",[Po]]]);var S=J(X());var Re=J(X());var Wo={id:"2852637",name:"uniui\u56FE\u6807\u5E93",font_family:"uniicons",css_prefix_text:"uniui-",description:"",glyphs:[{icon_id:"25027049",name:"yanse",font_class:"color",unicode:"e6cf",unicode_decimal:59087},{icon_id:"25027048",name:"wallet",font_class:"wallet",unicode:"e6b1",unicode_decimal:59057},{icon_id:"25015720",name:"settings-filled",font_class:"settings-filled",unicode:"e6ce",unicode_decimal:59086},{icon_id:"25015434",name:"shimingrenzheng-filled",font_class:"auth-filled",unicode:"e6cc",unicode_decimal:59084},{icon_id:"24934246",name:"shop-filled",font_class:"shop-filled",unicode:"e6cd",unicode_decimal:59085},{icon_id:"24934159",name:"staff-filled-01",font_class:"staff-filled",unicode:"e6cb",unicode_decimal:59083},{icon_id:"24932461",name:"VIP-filled",font_class:"vip-filled",unicode:"e6c6",unicode_decimal:59078},{icon_id:"24932462",name:"plus_circle_fill",font_class:"plus-filled",unicode:"e6c7",unicode_decimal:59079},{icon_id:"24932463",name:"folder_add-filled",font_class:"folder-add-filled",unicode:"e6c8",unicode_decimal:59080},{icon_id:"24932464",name:"yanse-filled",font_class:"color-filled",unicode:"e6c9",unicode_decimal:59081},{icon_id:"24932465",name:"tune-filled",font_class:"tune-filled",unicode:"e6ca",unicode_decimal:59082},{icon_id:"24932455",name:"a-rilidaka-filled",font_class:"calendar-filled",unicode:"e6c0",unicode_decimal:59072},{icon_id:"24932456",name:"notification-filled",font_class:"notification-filled",unicode:"e6c1",unicode_decimal:59073},{icon_id:"24932457",name:"wallet-filled",font_class:"wallet-filled",unicode:"e6c2",unicode_decimal:59074},{icon_id:"24932458",name:"paihangbang-filled",font_class:"medal-filled",unicode:"e6c3",unicode_decimal:59075},{icon_id:"24932459",name:"gift-filled",font_class:"gift-filled",unicode:"e6c4",unicode_decimal:59076},{icon_id:"24932460",name:"fire-filled",font_class:"fire-filled",unicode:"e6c5",unicode_decimal:59077},{icon_id:"24928001",name:"refreshempty",font_class:"refreshempty",unicode:"e6bf",unicode_decimal:59071},{icon_id:"24926853",name:"location-ellipse",font_class:"location-filled",unicode:"e6af",unicode_decimal:59055},{icon_id:"24926735",name:"person-filled",font_class:"person-filled",unicode:"e69d",unicode_decimal:59037},{icon_id:"24926703",name:"personadd-filled",font_class:"personadd-filled",unicode:"e698",unicode_decimal:59032},{icon_id:"24923351",name:"back",font_class:"back",unicode:"e6b9",unicode_decimal:59065},{icon_id:"24923352",name:"forward",font_class:"forward",unicode:"e6ba",unicode_decimal:59066},{icon_id:"24923353",name:"arrowthinright",font_class:"arrow-right",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923353",name:"arrowthinright",font_class:"arrowthinright",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrow-left",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrowthinleft",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923355",name:"arrowthinup",font_class:"arrow-up",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923355",name:"arrowthinup",font_class:"arrowthinup",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923356",name:"arrowthindown",font_class:"arrow-down",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923356",name:"arrowthindown",font_class:"arrowthindown",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923349",name:"arrowdown",font_class:"bottom",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923349",name:"arrowdown",font_class:"arrowdown",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923346",name:"arrowright",font_class:"right",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923346",name:"arrowright",font_class:"arrowright",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923347",name:"arrowup",font_class:"top",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923347",name:"arrowup",font_class:"arrowup",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923348",name:"arrowleft",font_class:"left",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923348",name:"arrowleft",font_class:"arrowleft",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923334",name:"eye",font_class:"eye",unicode:"e651",unicode_decimal:58961},{icon_id:"24923335",name:"eye-filled",font_class:"eye-filled",unicode:"e66a",unicode_decimal:58986},{icon_id:"24923336",name:"eye-slash",font_class:"eye-slash",unicode:"e6b3",unicode_decimal:59059},{icon_id:"24923337",name:"eye-slash-filled",font_class:"eye-slash-filled",unicode:"e6b4",unicode_decimal:59060},{icon_id:"24923305",name:"info-filled",font_class:"info-filled",unicode:"e649",unicode_decimal:58953},{icon_id:"24923299",name:"reload-01",font_class:"reload",unicode:"e6b2",unicode_decimal:59058},{icon_id:"24923195",name:"mic_slash_fill",font_class:"micoff-filled",unicode:"e6b0",unicode_decimal:59056},{icon_id:"24923165",name:"map-pin-ellipse",font_class:"map-pin-ellipse",unicode:"e6ac",unicode_decimal:59052},{icon_id:"24923166",name:"map-pin",font_class:"map-pin",unicode:"e6ad",unicode_decimal:59053},{icon_id:"24923167",name:"location",font_class:"location",unicode:"e6ae",unicode_decimal:59054},{icon_id:"24923064",name:"starhalf",font_class:"starhalf",unicode:"e683",unicode_decimal:59011},{icon_id:"24923065",name:"star",font_class:"star",unicode:"e688",unicode_decimal:59016},{icon_id:"24923066",name:"star-filled",font_class:"star-filled",unicode:"e68f",unicode_decimal:59023},{icon_id:"24899646",name:"a-rilidaka",font_class:"calendar",unicode:"e6a0",unicode_decimal:59040},{icon_id:"24899647",name:"fire",font_class:"fire",unicode:"e6a1",unicode_decimal:59041},{icon_id:"24899648",name:"paihangbang",font_class:"medal",unicode:"e6a2",unicode_decimal:59042},{icon_id:"24899649",name:"font",font_class:"font",unicode:"e6a3",unicode_decimal:59043},{icon_id:"24899650",name:"gift",font_class:"gift",unicode:"e6a4",unicode_decimal:59044},{icon_id:"24899651",name:"link",font_class:"link",unicode:"e6a5",unicode_decimal:59045},{icon_id:"24899652",name:"notification",font_class:"notification",unicode:"e6a6",unicode_decimal:59046},{icon_id:"24899653",name:"staff",font_class:"staff",unicode:"e6a7",unicode_decimal:59047},{icon_id:"24899654",name:"VIP",font_class:"vip",unicode:"e6a8",unicode_decimal:59048},{icon_id:"24899655",name:"folder_add",font_class:"folder-add",unicode:"e6a9",unicode_decimal:59049},{icon_id:"24899656",name:"tune",font_class:"tune",unicode:"e6aa",unicode_decimal:59050},{icon_id:"24899657",name:"shimingrenzheng",font_class:"auth",unicode:"e6ab",unicode_decimal:59051},{icon_id:"24899565",name:"person",font_class:"person",unicode:"e699",unicode_decimal:59033},{icon_id:"24899566",name:"email-filled",font_class:"email-filled",unicode:"e69a",unicode_decimal:59034},{icon_id:"24899567",name:"phone-filled",font_class:"phone-filled",unicode:"e69b",unicode_decimal:59035},{icon_id:"24899568",name:"phone",font_class:"phone",unicode:"e69c",unicode_decimal:59036},{icon_id:"24899570",name:"email",font_class:"email",unicode:"e69e",unicode_decimal:59038},{icon_id:"24899571",name:"personadd",font_class:"personadd",unicode:"e69f",unicode_decimal:59039},{icon_id:"24899558",name:"chatboxes-filled",font_class:"chatboxes-filled",unicode:"e692",unicode_decimal:59026},{icon_id:"24899559",name:"contact",font_class:"contact",unicode:"e693",unicode_decimal:59027},{icon_id:"24899560",name:"chatbubble-filled",font_class:"chatbubble-filled",unicode:"e694",unicode_decimal:59028},{icon_id:"24899561",name:"contact-filled",font_class:"contact-filled",unicode:"e695",unicode_decimal:59029},{icon_id:"24899562",name:"chatboxes",font_class:"chatboxes",unicode:"e696",unicode_decimal:59030},{icon_id:"24899563",name:"chatbubble",font_class:"chatbubble",unicode:"e697",unicode_decimal:59031},{icon_id:"24881290",name:"upload-filled",font_class:"upload-filled",unicode:"e68e",unicode_decimal:59022},{icon_id:"24881292",name:"upload",font_class:"upload",unicode:"e690",unicode_decimal:59024},{icon_id:"24881293",name:"weixin",font_class:"weixin",unicode:"e691",unicode_decimal:59025},{icon_id:"24881274",name:"compose",font_class:"compose",unicode:"e67f",unicode_decimal:59007},{icon_id:"24881275",name:"qq",font_class:"qq",unicode:"e680",unicode_decimal:59008},{icon_id:"24881276",name:"download-filled",font_class:"download-filled",unicode:"e681",unicode_decimal:59009},{icon_id:"24881277",name:"pengyouquan",font_class:"pyq",unicode:"e682",unicode_decimal:59010},{icon_id:"24881279",name:"sound",font_class:"sound",unicode:"e684",unicode_decimal:59012},{icon_id:"24881280",name:"trash-filled",font_class:"trash-filled",unicode:"e685",unicode_decimal:59013},{icon_id:"24881281",name:"sound-filled",font_class:"sound-filled",unicode:"e686",unicode_decimal:59014},{icon_id:"24881282",name:"trash",font_class:"trash",unicode:"e687",unicode_decimal:59015},{icon_id:"24881284",name:"videocam-filled",font_class:"videocam-filled",unicode:"e689",unicode_decimal:59017},{icon_id:"24881285",name:"spinner-cycle",font_class:"spinner-cycle",unicode:"e68a",unicode_decimal:59018},{icon_id:"24881286",name:"weibo",font_class:"weibo",unicode:"e68b",unicode_decimal:59019},{icon_id:"24881288",name:"videocam",font_class:"videocam",unicode:"e68c",unicode_decimal:59020},{icon_id:"24881289",name:"download",font_class:"download",unicode:"e68d",unicode_decimal:59021},{icon_id:"24879601",name:"help",font_class:"help",unicode:"e679",unicode_decimal:59001},{icon_id:"24879602",name:"navigate-filled",font_class:"navigate-filled",unicode:"e67a",unicode_decimal:59002},{icon_id:"24879603",name:"plusempty",font_class:"plusempty",unicode:"e67b",unicode_decimal:59003},{icon_id:"24879604",name:"smallcircle",font_class:"smallcircle",unicode:"e67c",unicode_decimal:59004},{icon_id:"24879605",name:"minus-filled",font_class:"minus-filled",unicode:"e67d",unicode_decimal:59005},{icon_id:"24879606",name:"micoff",font_class:"micoff",unicode:"e67e",unicode_decimal:59006},{icon_id:"24879588",name:"closeempty",font_class:"closeempty",unicode:"e66c",unicode_decimal:58988},{icon_id:"24879589",name:"clear",font_class:"clear",unicode:"e66d",unicode_decimal:58989},{icon_id:"24879590",name:"navigate",font_class:"navigate",unicode:"e66e",unicode_decimal:58990},{icon_id:"24879591",name:"minus",font_class:"minus",unicode:"e66f",unicode_decimal:58991},{icon_id:"24879592",name:"image",font_class:"image",unicode:"e670",unicode_decimal:58992},{icon_id:"24879593",name:"mic",font_class:"mic",unicode:"e671",unicode_decimal:58993},{icon_id:"24879594",name:"paperplane",font_class:"paperplane",unicode:"e672",unicode_decimal:58994},{icon_id:"24879595",name:"close",font_class:"close",unicode:"e673",unicode_decimal:58995},{icon_id:"24879596",name:"help-filled",font_class:"help-filled",unicode:"e674",unicode_decimal:58996},{icon_id:"24879597",name:"plus-filled",font_class:"paperplane-filled",unicode:"e675",unicode_decimal:58997},{icon_id:"24879598",name:"plus",font_class:"plus",unicode:"e676",unicode_decimal:58998},{icon_id:"24879599",name:"mic-filled",font_class:"mic-filled",unicode:"e677",unicode_decimal:58999},{icon_id:"24879600",name:"image-filled",font_class:"image-filled",unicode:"e678",unicode_decimal:59e3},{icon_id:"24855900",name:"locked-filled",font_class:"locked-filled",unicode:"e668",unicode_decimal:58984},{icon_id:"24855901",name:"info",font_class:"info",unicode:"e669",unicode_decimal:58985},{icon_id:"24855903",name:"locked",font_class:"locked",unicode:"e66b",unicode_decimal:58987},{icon_id:"24855884",name:"camera-filled",font_class:"camera-filled",unicode:"e658",unicode_decimal:58968},{icon_id:"24855885",name:"chat-filled",font_class:"chat-filled",unicode:"e659",unicode_decimal:58969},{icon_id:"24855886",name:"camera",font_class:"camera",unicode:"e65a",unicode_decimal:58970},{icon_id:"24855887",name:"circle",font_class:"circle",unicode:"e65b",unicode_decimal:58971},{icon_id:"24855888",name:"checkmarkempty",font_class:"checkmarkempty",unicode:"e65c",unicode_decimal:58972},{icon_id:"24855889",name:"chat",font_class:"chat",unicode:"e65d",unicode_decimal:58973},{icon_id:"24855890",name:"circle-filled",font_class:"circle-filled",unicode:"e65e",unicode_decimal:58974},{icon_id:"24855891",name:"flag",font_class:"flag",unicode:"e65f",unicode_decimal:58975},{icon_id:"24855892",name:"flag-filled",font_class:"flag-filled",unicode:"e660",unicode_decimal:58976},{icon_id:"24855893",name:"gear-filled",font_class:"gear-filled",unicode:"e661",unicode_decimal:58977},{icon_id:"24855894",name:"home",font_class:"home",unicode:"e662",unicode_decimal:58978},{icon_id:"24855895",name:"home-filled",font_class:"home-filled",unicode:"e663",unicode_decimal:58979},{icon_id:"24855896",name:"gear",font_class:"gear",unicode:"e664",unicode_decimal:58980},{icon_id:"24855897",name:"smallcircle-filled",font_class:"smallcircle-filled",unicode:"e665",unicode_decimal:58981},{icon_id:"24855898",name:"map-filled",font_class:"map-filled",unicode:"e666",unicode_decimal:58982},{icon_id:"24855899",name:"map",font_class:"map",unicode:"e667",unicode_decimal:58983},{icon_id:"24855825",name:"refresh-filled",font_class:"refresh-filled",unicode:"e656",unicode_decimal:58966},{icon_id:"24855826",name:"refresh",font_class:"refresh",unicode:"e657",unicode_decimal:58967},{icon_id:"24855808",name:"cloud-upload",font_class:"cloud-upload",unicode:"e645",unicode_decimal:58949},{icon_id:"24855809",name:"cloud-download-filled",font_class:"cloud-download-filled",unicode:"e646",unicode_decimal:58950},{icon_id:"24855810",name:"cloud-download",font_class:"cloud-download",unicode:"e647",unicode_decimal:58951},{icon_id:"24855811",name:"cloud-upload-filled",font_class:"cloud-upload-filled",unicode:"e648",unicode_decimal:58952},{icon_id:"24855813",name:"redo",font_class:"redo",unicode:"e64a",unicode_decimal:58954},{icon_id:"24855814",name:"images-filled",font_class:"images-filled",unicode:"e64b",unicode_decimal:58955},{icon_id:"24855815",name:"undo-filled",font_class:"undo-filled",unicode:"e64c",unicode_decimal:58956},{icon_id:"24855816",name:"more",font_class:"more",unicode:"e64d",unicode_decimal:58957},{icon_id:"24855817",name:"more-filled",font_class:"more-filled",unicode:"e64e",unicode_decimal:58958},{icon_id:"24855818",name:"undo",font_class:"undo",unicode:"e64f",unicode_decimal:58959},{icon_id:"24855819",name:"images",font_class:"images",unicode:"e650",unicode_decimal:58960},{icon_id:"24855821",name:"paperclip",font_class:"paperclip",unicode:"e652",unicode_decimal:58962},{icon_id:"24855822",name:"settings",font_class:"settings",unicode:"e653",unicode_decimal:58963},{icon_id:"24855823",name:"search",font_class:"search",unicode:"e654",unicode_decimal:58964},{icon_id:"24855824",name:"redo-filled",font_class:"redo-filled",unicode:"e655",unicode_decimal:58965},{icon_id:"24841702",name:"list",font_class:"list",unicode:"e644",unicode_decimal:58948},{icon_id:"24841489",name:"mail-open-filled",font_class:"mail-open-filled",unicode:"e63a",unicode_decimal:58938},{icon_id:"24841491",name:"hand-thumbsdown-filled",font_class:"hand-down-filled",unicode:"e63c",unicode_decimal:58940},{icon_id:"24841492",name:"hand-thumbsdown",font_class:"hand-down",unicode:"e63d",unicode_decimal:58941},{icon_id:"24841493",name:"hand-thumbsup-filled",font_class:"hand-up-filled",unicode:"e63e",unicode_decimal:58942},{icon_id:"24841494",name:"hand-thumbsup",font_class:"hand-up",unicode:"e63f",unicode_decimal:58943},{icon_id:"24841496",name:"heart-filled",font_class:"heart-filled",unicode:"e641",unicode_decimal:58945},{icon_id:"24841498",name:"mail-open",font_class:"mail-open",unicode:"e643",unicode_decimal:58947},{icon_id:"24841488",name:"heart",font_class:"heart",unicode:"e639",unicode_decimal:58937},{icon_id:"24839963",name:"loop",font_class:"loop",unicode:"e633",unicode_decimal:58931},{icon_id:"24839866",name:"pulldown",font_class:"pulldown",unicode:"e632",unicode_decimal:58930},{icon_id:"24813798",name:"scan",font_class:"scan",unicode:"e62a",unicode_decimal:58922},{icon_id:"24813786",name:"bars",font_class:"bars",unicode:"e627",unicode_decimal:58919},{icon_id:"24813788",name:"cart-filled",font_class:"cart-filled",unicode:"e629",unicode_decimal:58921},{icon_id:"24813790",name:"checkbox",font_class:"checkbox",unicode:"e62b",unicode_decimal:58923},{icon_id:"24813791",name:"checkbox-filled",font_class:"checkbox-filled",unicode:"e62c",unicode_decimal:58924},{icon_id:"24813794",name:"shop",font_class:"shop",unicode:"e62f",unicode_decimal:58927},{icon_id:"24813795",name:"headphones",font_class:"headphones",unicode:"e630",unicode_decimal:58928},{icon_id:"24813796",name:"cart",font_class:"cart",unicode:"e631",unicode_decimal:58929}]},Go="/static/uniicons.ttf",$o={"uni-icons":{"":{fontFamily:"uniicons",textDecoration:"none",textAlign:"center"}}},Ho=weex.requireModule("dom");Ho.addRule("fontFace",{fontFamily:"uniicons",src:"url('"+Go+"')"});var Vo={name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""}},data(){return{icons:Wo.glyphs}},computed:{unicode(){let e=this.icons.find(t=>t.font_class===this.type);return e?unescape(`%u${e.unicode}`):""}},methods:{_onClick(e){this.$emit("click",e)}}};function jo(e,t,i,a,n,r){return(0,Re.openBlock)(),(0,Re.createElementBlock)("u-text",{style:(0,Re.normalizeStyle)({color:i.color,"font-size":i.size}),class:"uni-icons",onClick:t[0]||(t[0]=(...s)=>r._onClick&&r._onClick(...s))},(0,Re.toDisplayString)(r.unicode),5)}var At=M(Vo,[["render",jo],["styles",[$o]]]);var et=J(X());var xn={};function Hi(e,t="",i={}){if(Yo()&&typeof xn.fbEvent!="undefined")try{xn.fbEvent({event:e,valueToSum:t,params:i},function(){q("info","at comEvent/event.js:17",`fbEvent ${e} success`)},function(){q("error","at comEvent/event.js:19",`fbEvent ${e} error`)})}catch(a){}}function Yo(){return!(!v.isAndroid&&v.appV<133)}function In(e,t,i=!1,a=0){t&&(Hi("videochat_click_total"),Hi(`videochat_click_${Ln()}_total`));let n=`videochat_${e}`;i&&(n=`${n}_${Ln(a)}`),Hi(n)}function Ln(e){return oe()?e?"anchor".substr(0,6-e):"anchor":"user"}var Ko={emits:["click"],components:{LImg:H},props:{user:{type:Object,default(){return{}}},w:{type:String,default:"0"},h:{type:String,default:"0"},radius:{type:String,default:"0"},setKey:{type:String,default:"small_avatar"},border:{type:String,default:""},placeType:{type:Number,default:1},placeW:{type:String,default:""},placeFontSize:{type:[String,Boolean],default:""},placeBottom:{type:String,default:""},click:{type:Boolean,default:!0},fromAdmin:{type:[Boolean,Number],default:!1},fromType:{type:Number,default:1},fade:{type:Boolean,default:!0}},computed:{avatarUrl(){return ei(this.user,this.setKey,this.fromAdmin,this.fromType)}},methods:{clickAvatar(e){this.click&&this.$emit("click",e)}}};function zo(e,t,i,a,n,r){let s=F((0,et.resolveDynamicComponent)("l-img"),H);return(0,et.openBlock)(),(0,et.createBlock)(s,{onClick:r.clickAvatar,src:r.avatarUrl,w:i.w,h:i.h,radius:i.radius,border:i.border,"place-type":i.placeType,"place-w":i.placeW,"place-font-size":i.placeFontSize,"place-bottom":i.placeBottom,fade:i.fade},null,8,["onClick","src","w","h","radius","border","place-type","place-w","place-font-size","place-bottom","fade"])}var tt=M(Ko,[["render",zo]]);function qo(){return getApp().globalData.appCRE||bt(40,1,!1)?!0:(be(l("tips"),l("call40CoinsTip"),()=>{Y("/pages/coin/coins")},"","Purchase"),!1)}function ti(e,t,i){qo()&&Jo(Va.CALL,$e.VIDEO,Li.CALL,e,t,null,i,ja.DEF)}function Jo(e,t,i,a,n,r,s,c){if(q("error","at comCall/call.js:48","_openCall "+getApp().globalData.curCallId),y(a))return;if(a.uid==getApp().globalData.uid){if(i!=Li.CALL)return;Ne(l("tips"),l("noCallSelf"),"",l("gotIt"));return}if(getApp().globalData.curCallId!=dt.NONE)return;getApp().globalData.curCallId=dt.WEEK_UP;let o=Xo(e,t,i,a,n,r,s,c);z("/pages/call/chat-view",{},"callViewData",o)}function Xo(e,t,i,a,n,r,s,c){let o={user:a,roomType:e,callType:t,actionType:i,fromType:s,videoInfo:n,openType:c};return n&&(o.videoInfo=n),r&&(o.roomInfo=r,r.isGame&&(o.isGame=r.isGame)),o}var Zo=Ge("animation"),Qo={props:{id:{type:String,default:""},isTab:{type:Boolean,default:!1}},data(){return{sW:getApp().globalData.window.width,left:-getApp().globalData.window.width,show:!1,data:{},userInfo:{},club:{},animDoing:!1,animationData:{},list:[],listTwo:[]}},computed:{bottom(){let e=getApp().globalData.window.height*.2;return this.isTab?e-getApp().globalData.window.tabBarHeight-getApp().globalData.window.safeBottom:e},viewBg(){return getApp().globalData.themeObj.style==ie.LIGHT?"#000000":"#444444"}},methods:{clickThis(e){if(e&&e.stopPropagation(),this.data.type==6||this.data.type==8){let t=oe()?this.userInfo.uid:this.data.to_user.uid;this.openUserHome(t)}else if(this.data.type==9)an();else if(this.data.type==13)Y("/pagesMsg/notice/chat");else if(this.data.type==11||this.data.type==14)this.openClub();else if(this.data.type==15)ti(this.userInfo,null,Ht.RECOMMEND);else if(this.data.type==17){if(Ie()=="/pagesPub/luck-draw/index")return;Y("/pagesPub/luck-draw/index")}else this.openUserHome(this.userInfo.uid)},clickItem(e,t){if(e&&e.stopPropagation(),t.uid){if(this.data.type==17){if(Ie()=="/pagesPub/luck-draw/index")return;Y("/pagesPub/luck-draw/index");return}this.openUserHome(t.uid)}else t.clubId&&this.openClub()},openUserHome(e){zt(e)},openClub(){nn(this.club.club_id,parseInt(this.club.is_member)==1?1:0,1)},anim(e,t,i,a){return new Promise(n=>{Zo.transition(this.$refs.animView,{styles:e,duration:t,timingFunction:a,needLayout:!1,delay:i},()=>{n()})})},startAnimIn(){return this.anim({transform:`translateX(${this.sW}px)`},1e3,0,"ease-out")},startAnimOut(){return this.anim({opacity:"0"},1e3,4e3,"linear")},startAnimReset(){return this.anim({opacity:"1",transform:`translateX(-${this.sW}px)`},50,0,"linear")},startAnimH5(e){let t=uni.createAnimation({timingFunction:"linear"});t.translateX(this.sW).step({duration:500,timingFunction:"ease-out"}),v.isAndroid?t.translateX(-this.sW).opacity(0).step({duration:1e3,delay:4e3}):(t.opacity(0).step({duration:1e3,delay:4e3}),t.translateX(-this.sW).step({duration:50})),t.opacity(1).step({duration:50}),this.animationData=t.export(),setTimeout(()=>{e()},6e3)},getTextItem(e,t,i,a){let n={color:t||"#0091FF"};return i!=0&&(n.maxWidth=`${i}rpx`),{type:1,text:e,extra:a,style:n}},getImgItem(e,t,i,a,n){return{type:2,url:e,width:"48rpx",height:"48rpx",radius:t||"4rpx",extra:n,style:{marginLeft:`${a}rpx`,marginRight:`${i}rpx`}}},getRightItem(){return{type:3}},getUserList(e,t){return[this.getImgItem(e.small_avatar,"","8",0,{uid:e.uid}),this.getTextItem(e.nickname,"",t,{uid:e.uid})]},getClubList(e,t){return[this.getImgItem(e.club_logo,"","8",0,{clubId:e.club_id}),this.getTextItem(e.club_name,"",t,{clubId:e.club_id})]},parseList(e,t){let i=[],a=e.split(/(\[%\w+%\])/).filter(function(n){return n!==""});for(let n=0,r=a.length;n<r;n++){let s=a[n];if(s.startsWith("[%")){let o=s.replace(/[\s+,\[%,%\]]/g,""),u=t[o];u&&(i=[...i,...u])}else{let o={};i.push({type:0,content:s,style:o})}}return i},parseVip(){let e;return this.data.date_type==1?e=Ya(this.data.vip_time):this.data.date_type==2?e=Ka(this.data.vip_time):this.data.date_type==3&&(e=za(this.data.vip_time)),this.parseList(l("noticeS.vip"),{name:this.getUserList(this.userInfo,"140"),time:[{type:0,content:e}]})},parseRecharge(){return this.parseList(l("noticeS.recharge"),{name:this.getUserList(this.userInfo,"140"),coin:[{type:0,content:this.data.money}]})},parseChecked(){return this.parseList(l("noticeS.check"),{name:this.getUserList(this.userInfo,"140")})},parseFollow(){return this.parseList(l("noticeS.follow"),{name:this.getUserList(this.userInfo,"140")})},parseOnline(){return this.parseList(l("noticeS.online"),{name:this.getUserList(this.userInfo,"140")})},parseCall(){let e=parseInt(this.data.call_duration);e=isNaN(e)?1:Math.ceil(e/60);let t=`${e} ${qa(e)}`;return this.listTwo=this.parseList(l("noticeS.callTwo",{time:t}),{name:[this.getTextItem(this.data.to_user.nickname,"","140",{uid:this.data.to_user.uid})]}),this.parseList(l("noticeS.callOne",{chatType:Vt(this.data.call_type)}),{name:this.getUserList(this.userInfo,"140"),avatar:[this.getImgItem(this.data.to_user.small_avatar,"","8",0,{uid:this.data.to_user.uid})]})},parseGift(){return this.parseList(l("noticeS.gift"),{user:this.getUserList(this.userInfo,"140"),to_user:this.getUserList(this.data.to_user,"140"),gift:[this.getImgItem(this.data.gift_icon,0,0,0,null),{type:0,content:`x${this.data.gift_num}`}]})},parseGameLucky(){return this.listTwo=this.parseList(l("noticeS.gameLuckyTwo",{number:this.data.bonus}),{}),this.parseList(l("noticeS.gameLuckyOne"),{name:this.getUserList(this.userInfo,"140")})},parseRankingRecommend(){return this.listTwo=[this.getImgItem(this.userInfo.small_avatar,0,"8",0,{uid:this.userInfo.uid}),this.getTextItem(this.userInfo.nickname,"","240",{uid:this.userInfo.uid}),this.getRightItem()],this.parseList(l("noticeS.rankingRecommend",{number:this.data.rank}),{})},parseClubGift(){return this.listTwo=[{type:0,content:l("noticeS.clubGift2")},this.getRightItem()],this.parseList(l("noticeS.clubGift1"),{club:this.getClubList(this.club,"180")})},parseClubInvite(){let e=this.parseList(l("noticeS.clubInvite"),{user:this.getUserList(this.userInfo,"100"),club:this.getClubList(this.club,"120")});return e.push(this.getRightItem()),e},parseClubRecommend(){let e=this.parseList(l("noticeS.clubRecommend"),{club:this.getClubList(this.club,"140")});return e.push(this.getRightItem()),e},parseCallRecommend(){return this.listTwo=this.parseList(l("noticeS.callRecommend2",{whom:Le(this.userInfo.sex)}),{}),this.parseList(l("noticeS.callRecommend1"),{user:this.getUserList(this.userInfo,"120")})},parseBoostUser(){return this.listTwo=this.parseList(l("noticeS.boostUser2"),{}),this.parseList(l("noticeS.boostUser1",{himself:Xa(this.userInfo.sex)}),{user:this.getUserList(this.userInfo,"120")})},parsePrizeWheel(){let e,t;if(this.data.bonus_list.length>1)e=!1;else{let i=this.data.bonus_list[0];i.type==Ut.BOX?(e=i.result.type==Ut.GIFT,t=i.result):(e=i.type==Ut.GIFT,t=i)}return e?this.listTwo=this.parseList(l("noticeS.prizeWheelTwo"),{prize:[this.getImgItem(t.icon,0,0,0,null),{type:0,content:t.num>1?`x${t.num}`:""}]}):this.listTwo=this.parseList(l("noticeS.prizeWheelTwo"),{prize:[this.getTextItem(jt(this.data.total_bonus),"#FFFFFF",0,{})]}),this.parseList(l("noticeS.prizeWheelOne"),{user:this.getUserList(this.userInfo,"120")})},parseNodes(){switch(this.data.type){case 1:return this.listTwo=[],this.parseVip();case 2:return this.listTwo=[],this.parseRecharge();case 3:return this.listTwo=[],this.parseChecked();case 4:return this.listTwo=[],this.parseFollow();case 5:return this.listTwo=[],this.parseOnline();case 6:return this.parseCall();case 8:return this.listTwo=[],this.parseGift();case 9:return this.parseGameLucky();case 10:return this.parseRankingRecommend();case 11:return this.parseClubGift();case 13:return this.listTwo=[],this.parseClubInvite();case 14:return this.listTwo=[],this.parseClubRecommend();case 15:return getApp().globalData.appCRE?this.parseCallRecommend():null;case 16:return this.parseBoostUser();case 17:return this.parsePrizeWheel();default:return null}},parseData(e,t){this.list=[],this.data=e,this.userInfo=this.data.user_info,this.club=this.data.club_info;let i=this.parseNodes();if(i==null){typeof t=="function"&&t(!1);return}this.list=i,this.$nextTick(()=>{t(!0)})},open(e){e.type==17&&e.user_info.uid==getApp().globalData.uid||this.animDoing||(this.animDoing=!0,this.show=!0,this.parseData(e,t=>{if(!t){this.animDoing=!1;return}let i=setTimeout(()=>{this.animDoing&&(this.animDoing=!1)},1e4);this.startAnimIn().then(()=>this.startAnimOut()).then(()=>this.startAnimReset()).then(()=>{clearTimeout(i),this.show=!1,this.animDoing=!1})}))}},created(){uni.$on(`event_${this.id}`,this.open)},unmounted(){uni.$off(`event_${this.id}`,this.open)}},ec={"view-notice":{"":{borderRadius:"8rpx",paddingTop:"10rpx",paddingRight:"10rpx",paddingBottom:"10rpx",paddingLeft:"10rpx"}},"view-content":{"":{alignItems:"center",flexWrap:"wrap",flexDirection:"row"}},text:{"":{fontSize:"24rpx"}},"text-def":{"":{color:"#FFFFFF"}},"text-s":{"":{lines:1,textOverflow:"ellipsis",wordWrap:"anywhere"}}},tc={mixins:[Qo]};function ic(e,t,i,a,n,r){let s=F((0,S.resolveDynamicComponent)("l-img"),H),c=F((0,S.resolveDynamicComponent)("uni-icons"),At);return(0,S.openBlock)(),(0,S.createElementBlock)("view",{style:(0,S.normalizeStyle)([{bottom:`${e.bottom}px`},{position:"fixed",left:"0","z-index":"9999"}]),renderWhole:!0},[e.show?((0,S.openBlock)(),(0,S.createElementBlock)("view",{key:0,ref:"animView",onClick:t[0]||(t[0]=(...o)=>e.clickThis&&e.clickThis(...o)),animation:e.animationData,class:"view-notice",style:(0,S.normalizeStyle)({left:`${e.left}px`,background:e.viewBg})},[(0,S.createElementVNode)("view",{style:{"align-items":"center","flex-direction":"row"}},[(0,S.createElementVNode)("view",null,[(0,S.createElementVNode)("view",{class:"view-content"},[((0,S.openBlock)(!0),(0,S.createElementBlock)(S.Fragment,null,(0,S.renderList)(e.list,(o,u)=>((0,S.openBlock)(),(0,S.createElementBlock)("view",{key:u},[o.type==0?((0,S.openBlock)(),(0,S.createElementBlock)("u-text",{key:0,class:"text text-def",style:(0,S.normalizeStyle)(o.style)},(0,S.toDisplayString)(o.content),5)):o.type==1?((0,S.openBlock)(),(0,S.createElementBlock)("u-text",{key:1,onClick:(0,S.withModifiers)(f=>e.clickItem(f,o.extra),["stop"]),class:"text text-s",style:(0,S.normalizeStyle)(o.style)},(0,S.toDisplayString)(o.text),13,["onClick"])):o.type==2?((0,S.openBlock)(),(0,S.createBlock)(s,{key:2,onClick:(0,S.withModifiers)(f=>e.clickItem(f,o.extra),["stop"]),src:o.url,w:o.width,h:o.height,radius:o.radius,style:(0,S.normalizeStyle)(o.style)},null,8,["onClick","src","w","h","radius","style"])):o.type==3?((0,S.openBlock)(),(0,S.createBlock)(c,{key:3,type:"right",size:"26rpx",color:"rgba(255,255,255,0.6)"})):(0,S.createCommentVNode)("",!0)]))),128))]),e.listTwo.length>0?((0,S.openBlock)(),(0,S.createElementBlock)("view",{key:0,class:"view-content",style:{"margin-top":"4rpx"}},[((0,S.openBlock)(!0),(0,S.createElementBlock)(S.Fragment,null,(0,S.renderList)(e.listTwo,(o,u)=>((0,S.openBlock)(),(0,S.createElementBlock)("view",{key:"a"+u},[o.type==0?((0,S.openBlock)(),(0,S.createElementBlock)("u-text",{key:0,class:"text text-def",style:(0,S.normalizeStyle)(o.style)},(0,S.toDisplayString)(o.content),5)):o.type==1?((0,S.openBlock)(),(0,S.createElementBlock)("u-text",{key:1,onClick:(0,S.withModifiers)(f=>e.clickItem(f,o.extra),["stop"]),class:"text text-s",style:(0,S.normalizeStyle)(o.style)},(0,S.toDisplayString)(o.text),13,["onClick"])):o.type==2?((0,S.openBlock)(),(0,S.createBlock)(s,{key:2,onClick:(0,S.withModifiers)(f=>e.clickItem(f,o.extra),["stop"]),src:o.url,w:o.width,h:o.height,radius:o.radius,style:(0,S.normalizeStyle)(o.style)},null,8,["onClick","src","w","h","radius","style"])):o.type==3?((0,S.openBlock)(),(0,S.createBlock)(c,{key:3,type:"right",size:"26rpx",color:"rgba(255,255,255,0.6)"})):(0,S.createCommentVNode)("",!0)]))),128))])):(0,S.createCommentVNode)("",!0)]),e.data.type==15?((0,S.openBlock)(),(0,S.createBlock)(s,{key:0,onClick:e.clickThis,src:"s/call/video_def.png",w:"48rpx",h:"48rpx",style:{"margin-left":"16rpx"}},null,8,["onClick"])):(0,S.createCommentVNode)("",!0)])],12,["animation"])):(0,S.createCommentVNode)("",!0)],4)}var Nn=M(tc,[["render",ic],["styles",[ec]]]);var N=J(X());var we=J(X());var ac=Ge("animation"),ii=class{constructor(t,i){this.options=t,this.animation=uni.createAnimation(t),this.currentStepAnimates={},this.next=0,this.$=i}_nvuePushAnimates(t,i){let a=this.currentStepAnimates[this.next],n={};if(a?n=a:n={styles:{},config:{}},On.includes(t)){n.styles.transform||(n.styles.transform="");let r="";t==="rotate"&&(r="deg"),n.styles.transform+=`${t}(${i+r}) `}else n.styles[t]=`${i}`;this.currentStepAnimates[this.next]=n}_animateRun(t={},i={}){let a=this.$.$refs.ani.ref;if(a)return new Promise((n,r)=>{ac.transition(a,oi({styles:t},i),s=>{n()})})}_nvueNextAnimate(t,i=0,a){let n=t[i];if(n){let{styles:r,config:s}=n;this._animateRun(r,s).then(()=>{i+=1,this._nvueNextAnimate(t,i,a)})}else this.currentStepAnimates={},typeof a=="function"&&a(),this.isEnd=!0}step(t={}){return this.currentStepAnimates[this.next].config=Object.assign({},this.options,t),this.currentStepAnimates[this.next].styles.transformOrigin=this.currentStepAnimates[this.next].config.transformOrigin,this.next++,this}run(t){this.isEnd=!1,this.$.$refs.ani&&this.$.$refs.ani.ref&&(this._nvueNextAnimate(this.currentStepAnimates,0,t),this.next=0)}},On=["matrix","matrix3d","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","translate","translate3d","translateX","translateY","translateZ"],nc=["opacity","backgroundColor"],rc=["width","height","left","right","top","bottom"];On.concat(nc,rc).forEach(e=>{ii.prototype[e]=function(...t){return this._nvuePushAnimates(e,t),this}});function Rn(e,t){if(t)return clearTimeout(t.timer),new ii(e,t)}var sc={name:"uniTransition",emits:["click","change"],props:{show:{type:Boolean,default:!1},modeClass:{type:[Array,String],default(){return"fade"}},duration:{type:Number,default:300},styles:{type:Object,default(){return{}}},customClass:{type:String,default:""}},data(){return{isShow:!1,transform:"",opacity:1,animationData:{},durationTime:300,config:{}}},watch:{show:{handler(e){e?this.open():this.isShow&&this.close()},immediate:!0}},computed:{stylesObject(){let e=Qi(oi({},this.styles),{"transition-duration":this.duration/1e3+"s"}),t="";for(let i in e){let a=this.toLine(i);t+=a+":"+e[i]+";"}return t},transformStyles(){return"transform:"+this.transform+";opacity:"+this.opacity+";"+this.stylesObject}},created(){this.config={duration:this.duration,timingFunction:"ease",transformOrigin:"50% 50%",delay:0},this.durationTime=this.duration},methods:{init(e={}){e.duration&&(this.durationTime=e.duration),this.animation=Rn(Object.assign(this.config,e),this)},onClick(){this.$emit("click",{detail:this.isShow})},step(e,t={}){if(this.animation){for(let i in e)try{typeof e[i]=="object"?this.animation[i](...e[i]):this.animation[i](e[i])}catch(a){q("error","at uni_modules/uni-transition/components/uni-transition/uni-transition.vue:139",`\u65B9\u6CD5 ${i} \u4E0D\u5B58\u5728`)}return this.animation.step(t),this}},run(e){this.animation&&this.animation.run(e)},open(){clearTimeout(this.timer),this.transform="",this.isShow=!0;let{opacity:e,transform:t}=this.styleInit(!1);typeof e!="undefined"&&(this.opacity=e),this.transform=t,this.$nextTick(()=>{this.timer=setTimeout(()=>{this.animation=Rn(this.config,this),this.tranfromInit(!1).step(),this.animation.run(),this.$emit("change",{detail:this.isShow})},20)})},close(e){this.animation&&this.tranfromInit(!0).step().run(()=>{this.isShow=!1,this.animationData=null,this.animation=null;let{opacity:t,transform:i}=this.styleInit(!1);this.opacity=t||1,this.transform=i,this.$emit("change",{detail:this.isShow})})},styleInit(e){let t={transform:""},i=(a,n)=>{n==="fade"?t.opacity=this.animationType(a)[n]:t.transform+=this.animationType(a)[n]+" "};return typeof this.modeClass=="string"?i(e,this.modeClass):this.modeClass.forEach(a=>{i(e,a)}),t},tranfromInit(e){let t=(i,a)=>{let n=null;a==="fade"?n=i?0:1:(n=i?"-100%":"0",a==="zoom-in"&&(n=i?.8:1),a==="zoom-out"&&(n=i?1.2:1),a==="slide-right"&&(n=i?"100%":"0"),a==="slide-bottom"&&(n=i?"100%":"0")),this.animation[this.animationMode()[a]](n)};return typeof this.modeClass=="string"?t(e,this.modeClass):this.modeClass.forEach(i=>{t(e,i)}),this.animation},animationType(e){return{fade:e?1:0,"slide-top":`translateY(${e?"0":"-100%"})`,"slide-right":`translateX(${e?"0":"100%"})`,"slide-bottom":`translateY(${e?"0":"100%"})`,"slide-left":`translateX(${e?"0":"-100%"})`,"zoom-in":`scaleX(${e?1:.8}) scaleY(${e?1:.8})`,"zoom-out":`scaleX(${e?1:1.2}) scaleY(${e?1:1.2})`}},animationMode(){return{fade:"opacity","slide-top":"translateY","slide-right":"translateX","slide-bottom":"translateY","slide-left":"translateX","zoom-in":"scale","zoom-out":"scale"}},toLine(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}}};function lc(e,t,i,a,n,r){return n.isShow?((0,we.openBlock)(),(0,we.createElementBlock)("view",{key:0,ref:"ani",animation:n.animationData,class:(0,we.normalizeClass)(i.customClass),style:(0,we.normalizeStyle)(r.transformStyles),onClick:t[0]||(t[0]=(...s)=>r.onClick&&r.onClick(...s)),renderWhole:!0},[(0,we.renderSlot)(e.$slots,"default")],14,["animation"])):(0,we.createCommentVNode)("",!0)}var je=M(sc,[["render",lc]]);var Q=J(X());var oc={"view-answer":{"":{alignItems:"center",justifyContent:"center"}},"view-answer-img":{"":{alignItems:"center",justifyContent:"center",backgroundColor:"#17BB07"}}},cc={emits:["click"],props:{callType:{type:Number,default:1},animW:{type:Number,default:144},bgW:{type:Number,default:110},iconW:{type:Number,default:68},iconVW:{type:Number,default:48}},data(){return{}},computed:{bgStyle(){return{width:`${this.bgW}rpx`,height:`${this.bgW}rpx`,borderRadius:`${this.bgW/2}rpx`}},answerIcon(){return this.callType==$e.VIDEO?"s/call/answer_white.png":"s/call/answer_voice_white.png"},answerIconH(){return this.callType==$e.VIDEO?`${this.iconVW}rpx`:`${this.iconW}rpx`}},methods:{clickAnswer(e){e&&e.stopPropagation(),this.$emit("click")},startAnswerBgAnim(){let e=this.$refs.animAnswerBg;e==null||typeof e=="undefined"||typeof e.step=="undefined"||(e.step({scale:1.3,opacity:0},{duration:1e3}),e.step({scale:1,opacity:1},{duration:1}),e.run(()=>{this.startAnswerBgAnim()}))},startAnswerIcon(){let e=this.$refs.animAnswerImg;e==null||typeof e=="undefined"||typeof e.step=="undefined"||(e.step({rotate:-10},{duration:500}),e.step({rotate:10},{duration:500}),e.run(()=>{this.startAnswerIcon()}))}},created(){setTimeout(()=>{this.startAnswerBgAnim(),this.startAnswerIcon()},1e3)}};function uc(e,t,i,a,n,r){let s=F((0,Q.resolveDynamicComponent)("uni-transition"),je),c=F((0,Q.resolveDynamicComponent)("l-img"),H);return(0,Q.openBlock)(),(0,Q.createElementBlock)("view",{onClick:t[1]||(t[1]=(...o)=>r.clickAnswer&&r.clickAnswer(...o)),class:"view-answer",style:(0,Q.normalizeStyle)({width:`${i.animW}rpx`,height:`${i.animW}rpx`}),renderWhole:!0},[(0,Q.createVNode)(s,{ref:"animAnswerBg",show:!0,style:(0,Q.normalizeStyle)([r.bgStyle,{position:"absolute",background:"#17BB07"}])},null,8,["style"]),(0,Q.createElementVNode)("view",{onClick:t[0]||(t[0]=(...o)=>r.clickAnswer&&r.clickAnswer(...o)),style:(0,Q.normalizeStyle)(r.bgStyle),class:"view-answer-img"},[(0,Q.createVNode)(s,{ref:"animAnswerImg",show:!0},{default:(0,Q.withCtx)(()=>[(0,Q.createVNode)(c,{onClick:r.clickAnswer,src:r.answerIcon,w:`${i.iconW}rpx`,h:r.answerIconH},null,8,["onClick","src","w","h"])]),_:1},512)],4)],4)}var Mn=M(cc,[["render",uc],["styles",[oc]]]);var Oe=J(X());var dc={props:{type:{type:String,default:"bg2"}},computed:{bgColor(){return getApp().globalData.themeObj.color[this.type]}}};function fc(e,t,i,a,n,r){return(0,Oe.openBlock)(),(0,Oe.createElementBlock)("view",{style:(0,Oe.normalizeStyle)({background:r.bgColor}),renderWhole:!0},[(0,Oe.renderSlot)(e.$slots,"default")],4)}var ai=M(dc,[["render",fc]]);var Me=J(X());var mc={props:{text:{type:[String,Number],default:""},type:{type:String,default:"title"},useText:{type:[Number,Boolean],default:!1},colorVal:{type:String,default:""}},computed:{color(){return this.colorVal?this.colorVal:getApp().globalData.themeObj.color[this.type]}}};function pc(e,t,i,a,n,r){return(0,Me.openBlock)(),(0,Me.createElementBlock)("u-text",{style:(0,Me.normalizeStyle)({color:r.color})},(0,Me.toDisplayString)(i.text),5)}var Ye=M(mc,[["render",pc]]);function Vi(e,t,i,a){let n=parseInt(e.msg_type),r=e.contentObj||_t(e.msg_content);switch(n){case v.M_TEXT:if(r.content)return r.content;let s=r.text;if(r.info)for(let h=0,_=r.info.length;h<_;h++)s=s.replace("[x]",r.info[h].text);return s;case v.M_VOICE:return`${ge(n)} ${ht(r.voice_duration)}`;case v.M_GIFT:if(r.from_type==5){let h=r.to_user_info?"@"+r.to_user_info.nickname:"@"+l("all"),_=r.to_user_info?l("msg.giftISentYou"):l("msg.giftISent");return`${ge(n)} ${h} ${_} ${r.number} ${r.title}`}return r.from_type==6?`${ge(n)} ${l("msg.giftISent")} ${r.number} ${r.title}`:`${ge(n)} ${l("msg.giftISentYou")} ${r.number} ${r.title}`;case v.M_NOTICE:if(!y(r.key)){let h="";return e.chat_type==v.M_CHAT_PRI?h=hc(r):h=gc(r,i,a),h?typeof h=="string"?`${ge(n)} ${h}`:`${ge(n)} ${Ae(h)}`:ge(n)}return`${ge(n)} ${r.content}`;case v.M_CALL:let c=e.send_uid==getApp().globalData.uid,o=yc(r.call_status,c,t,r.duration);return`[${Ja(r.call_type)}] ${o}`;case v.M_GIFT_ASK:let u;return e.send_uid==getApp().globalData.uid?u=`${l("msg.giftAskedOtherFor",{whom:Le(t.sex)})} ${r.title}`:u=l("msg.giftAskText"),`${ge(n)} ${u}`;case v.M_NOTICE_SYS:let f="";return r.content?f=r.content:r.text&&(f=Ae(r)),`${ge(n)} ${f}`;case v.M_PAID_PHOTO:case v.M_PAID_VIDEO:return`${ge(n)} ${r.content||""}`;case v.M_RECOMMEND_USER:return e.chat_type==v.M_CHAT_CLUB?l("msg.recommendUserToEvery"):l("msg.recommendUserToYou");case v.M_RECOMMEND_CLUB:return e.chat_type==v.M_CHAT_CLUB?l("msg.recommendClubToEvery"):l("msg.recommendClubToYou");default:return _c(n,r)}}function gc(e,t,i){let a,n,r,s,c=!1,o=e.uid_arr,u=getApp().globalData.uid;try{switch(e.key){case V.CREATE:if(e.uid==getApp().globalData.uid){let C=e.identity==Fa.USER;a=wc(C),r=[{action:2,id:i.club_id,member:1}],c=!0}else a=l("msg.clubCreate"),r=[{action:1,id:e.uid}];n={nickname:I(t[o[0]].nickname),club_name:I(i.club_name)};break;case V.JOIN:n={nickname:I(t[o[0]].nickname)},o[0]==getApp().globalData.uid?(a=Fn(),n.club_name=I(i.club_name),c=!0,r=[{action:2,id:i.club_id,member:i.is_member}]):(a=l("msg.clubJoin"),r=[{action:1,id:t[o[0]].uid}]);break;case V.EDIT_NAME:a=l("msg.clubEditName"),e.uid==getApp().globalData.uid?(n={nickname:{text:l("you")}},r=[{action:2,id:i.club_id,member:1}]):(n={nickname:I(t[o[0]].nickname)},r=[{action:1,id:t[o[0]].uid}]),n.club_name=I(e.club_name);break;case V.MUTE_ALL_MEMBER:e.uid==getApp().globalData.uid?s=e.is_mute?l("msg.clubMuteAllOnF"):l("msg.clubMuteAllOffF"):(a=e.is_mute?l("msg.clubMuteAllOn"):l("msg.clubMuteAllOff"),n={nickname:I(t[o[0]].nickname)},r=[{action:1,id:t[o[0]].uid}]);break;case V.REMOVE:let f;e.founder==getApp().globalData.uid?(f=t[e.uid],a=l("msg.clubRemoveMemberF")):(f=t[e.founder],a=l("msg.clubRemoveMember")),n={nickname:I(f.nickname)},r=[{action:1,id:f.uid}];break;case V.QUIT:a=l("msg.clubMemberQuit"),n={nickname:I(t[o[0]].nickname)},r=[{action:1,id:t[o[0]].uid}];break;case V.DISSOLUTION:e.from_admin==1?s=l("msg.clubDissolveAdmin"):(a=l("msg.clubDissolve"),n={nickname:I(t[o[0]].nickname)},r=[{action:1,id:t[o[0]].uid}]);break;case V.MUTE_MEMBER:let h;e.founder==getApp().globalData.uid?(h=t[e.uid],e.is_mute?a=l("msg.clubMuteOnF"):a=l("msg.clubMuteOffF")):(h=t[e.founder],e.is_mute?a=l("msg.clubMuteMemberTips"):a=l("msg.clubMuteOff")),n={nickname:I(h.nickname)},r=[{action:1,id:h.uid}];break;case V.MUTE_SEND_FAIL:a=e.is_mute==2?l("msg.clubMuteAllTips"):l("msg.clubMuteMemberTips"),n={nickname:I(t[o[0]].nickname)},r=[{action:1,id:t[o[0]].uid}];break;case V.INVITE_JOIN:let _=Array.isArray(e.uid);if(_?r=[{action:2,id:i.club_id,member:i.is_member}]:r=[{action:1,id:e.uid}],e.founder==getApp().globalData.uid){a=l("msg.clubInvite");let C;if(_){C="";for(let P=0,U=e.uid.length;P<U;P++){let b=t[e.uid[P]];b&&(C+=`${b.nickname}${P>=U-1?"":", "}`)}}else C=t[e.uid].nickname;n={nickname:{text:l("you")},invited_name:I(C)}}else{let C=_?e.uid.indexOf(getApp().globalData.uid)!=-1:e.uid==getApp().globalData.uid,P="";if(_)if(C)P=getApp().pubUser.nickname;else for(let U=0,b=e.uid.length;U<b;U++){let W=t[e.uid[U]];W&&(P+=`${W.nickname}${U>=b-1?"":", "}`)}else P=C?getApp().pubUser.nickname:t[e.uid].nickname;C?(a=Fn(),n={nickname:I(P),club_name:I(i.club_name)},c=!0):(a=l("msg.clubInvite"),n={nickname:I(t[e.founder].nickname),invited_name:I(P)})}break;case V.SET_FOUNDER:e.uid==getApp().globalData.uid?s=l("msg.clubSetFounderF"):(a=l("msg.clubSetFounder"),n={nickname:I(t[e.uid].nickname)},r=[{action:1,id:e.uid}]);break;case V.SET_MANAGER:let E=t[e.uid],k=t[e.founder];e.status==1?e.uid==getApp().globalData.uid?(a=l("msg.clubAdminSetF"),n={nickname:I(k.nickname)},r=[{action:1,id:k.uid}]):(a=l("msg.clubAdminSet"),n={nickname:I(E.nickname),founder_name:I(k.nickname,"#888196")},r=[{action:1,id:E.uid}]):e.uid==getApp().globalData.uid?(a=l("msg.clubAdminCancelF"),n={nickname:I(k.nickname)},r=[{action:1,id:k.uid}]):(a=l("msg.clubAdminCancel"),n={nickname:I(E.nickname),founder_name:I(k.nickname,"#888196")},r=[{action:1,id:E.uid}]);break;case V.YOUR_GIFT_RETURN:e.from_type==5?e.uid?(a=l("msg.clubGiftReturnPrivate"),n={nickname:I(t[e.uid].nickname)},r=[{action:1,id:e.uid}]):s=l("msg.clubGiftReturnAll"):e.from_type==6&&(s=l("msg.clubGiftReturnNone"));break;case V.GIFT_HAS_SIGNED:if(u==e.uid)a=l("msg.giftSignedFromYou"),n={nickname:I(t[e.to_uid].nickname)},r=[{action:1,id:e.to_uid}];else if(u==e.to_uid){a=l("msg.giftYouSignedFrom");let C=e.income>1?l("coinsLower"):l("coinLower");n={nickname:I(t[e.uid].nickname),income:I(e.income,"#888196"),coin_str:I(C,"#888196")},r=[{action:1,id:e.uid}]}break;case V.SIGN_GIFT:s=l("msg.giftYouSigned");break;case V.SIGN_GIFT_FAIL:s=l("msg.giftLateAndBeenSigned");break;case V.YOUR_GIFT_SIGNED:s=l("msg.giftBeenSignedFromYou");break;case V.ACTION_GIFT:let B=e.from_type==6?l("msg.giftRobbedLower"):l("receivedLower");e.uid==getApp().globalData.uid?(a=l("msg.clubGiftRobSend",{robOrReceive:B}),n={nickname:I(t[e.to_uid].nickname),gift_name:I(e.gift_name,"#FB4476")},r=[{action:1,id:e.to_uid}]):e.to_uid==getApp().globalData.uid?(a=l("msg.clubGiftRobReceive",{rob:B,income:e.income,min:parseInt(e.reply_time/60)}),n={gift_name:I(e.gift_name,"#FB4476"),nickname:I(t[e.uid].nickname)},r=[{action:1,id:e.uid}]):(a=l("msg.clubGiftRobPasserby",{robOrReceive:B}),n={nickname:I(t[e.to_uid].nickname),gift_name:I(e.gift_name,"#FB4476"),from_name:I(t[e.uid].nickname)},r=[{action:1,id:e.uid}]);break;case V.GIFT_NO_REPLY_RETURN:if(e.uid==getApp().globalData.uid)a=l("msg.clubGiftNoReplyS",{min:parseInt(e.reply_time/60),income:e.income}),n={nickname:I(t[e.to_uid].nickname),gift_name:I(e.gift_name,"#FB4476")},r=[{action:1,id:e.to_uid}];else{let C=t[e.uid],P=parseInt(e.reply_time/60);a=e.from_type==6?l("msg.clubGiftNoReplyRFRob",{number:P}):l("msg.clubGiftNoReplyRFReceive",{number:P}),n={nickname:I(C.nickname),gift_name:I(e.gift_name,"#FB4476"),from_name:I(C.nickname)},r=[{action:1,id:e.uid}]}break;case V.GIFT_NO_ROB_RETURN:a=l("msg.clubGiftNoRobReturn",{number:e.income}),n={gift_name:I(e.gift_name,"#FB4476")};break;case V.YOU_GIFT_ROB_OVER:a=l("msg.clubGiftRobOver"),n={gift_name:I(e.gift_name,"#FB4476")};break;case V.GIFT_NO_SIGN_RETURN:if(e.to_uid==0)a=l("msg.clubGiftNoSignReturnAll",{number:e.income}),n={gift_name:I(e.gift_name,"#FB4476")};else{let C=t[e.to_uid];a=l("msg.clubGiftNoSignReturn",{other_str:Le(C.sex),income:e.income}),n={nickname:I(C.nickname),gift_name:I(e.gift_name,"#FB4476")}}break;case V.FIRST_MSG_FEE:s=l("msg.clubSendConsumeCoinTips",{number:jt(e.msg_price||1)});break;case V.INVITE_FAILED:let T="";for(let C=0,P=e.uid.length;C<P;C++){let U=t[e.uid[C]];U&&(T+=`${U.nickname}${C>=P-1?"":", "}`)}a=e.uid.length>1?l("club.inviteUsersFailedTips"):l("club.inviteUserFailedTips"),n={invited_name:I(T)};break;case V.SIGNED_FOR:a=l("giftSignedTips"),n={gift_name:I(e.gift_name),nickname:I(e.receiver_name)},r=[{action:1,id:e.to_uid}];break;default:return""}}catch(f){return Bi(f,e,t,i),"New Message"}return s||{text:a,info:n,click:r,isLong:c}}function hc(e){let t;try{switch(e.key){case Di.NOT_REPLY:t=l("msg.notReplyCountTips",{count:e.count});break;case Di.NOT_CHEAT_USER:t=l("msg.notCheatUserTips");break;default:return""}}catch(i){return Bi(i,e,{},{}),"New Message"}return t||""}function I(e,t="#0091FF"){return{text:e,color:t}}function _c(e,t){switch(e){case v.M_N_DEF:return t.tips?`${ge(e)} ${t.tips}`:`[${t.title||l("notice")}] ${Ae(t)}`;case v.M_N_AUDIT:return`[${t.title}] ${t.tips}`;case v.M_N_VIP:case v.M_N_RECHARGE:return`[${t.title}] ${Ae(t)}`;case v.M_N_GREETING_AUDIT:return`[${t.title}] ${t.tips}`;case v.M_N_SYS_NOTICE:let i=t.title;return t.tips?`[${i}] ${t.tips}`:`[${i}] ${Ae(t)}`;case v.M_N_CALL:return`[${t.title}] ${l("msg.revenueCoins")}:${t.total_income}`;case v.M_N_COOPERATE:return`[${l("msg.cooperate")}] ${l("msg.cooperateTips")}`;case v.M_N_WITHDRAW:let a="";return t.tips?a=t.tips:t.text&&(a=Ae(t)),`[${t.title}] ${a}`;case v.M_N_MONITOR:let n=t.title||l("msg.secretaryNotice"),r=t.tips||Ae(t);return`[${n}] ${r}`;case v.M_N_REPORT_AUDIT:return`[${t.title}] ${t.content}`;case v.M_N_CLUB_AUDIT_REJECT:case v.M_N_CLUB_AUDIT:let s="";return t.text?s=Ae(t):t.content&&(s=t.content),`[${t.title||l("msg.secretaryNotice")}] ${s}`;case v.M_N_IMG:let o="";return t.content?o=t.content:t.text&&(o=Ae(t)),o;case v.M_N_PRIVACY_CALL:let u="";return t.tips?u=t.tips:t.text&&(u=Ae(t)),`[${t.title}] ${u}`;case v.M_N_WITHDRAW_NOTICE:let f="";return t.tips?f=t.tips:t.text&&(f=Ae(t)),`[${t.title}] ${f}`;case v.M_N_WITH_MEDIA:let h="";return t.tips?h=t.tips:t.text&&(h=Ae(t)),`[${t.title}] ${h}`;default:return ge(e)}}function Ae(e){if(y(e.info))return"";let t=Object.keys(e.info);for(let i=0,a=t.length;i<a;i++){let n=t[i];e.text=e.text.replace("[%"+n+"%]",` ${e.info[n].text} `)}return e.text}function yc(e,t,i,a){if(e==0)return l("cancelled");if(e==1)return t?l("msg.callDeclinedBy",{nickname:Le(i)}):l("declined");if(e==2)return`${l("duration")}: ${a}`;if(e==3)return t?l("msg.callNotAnswer"):l("cancelled")}function ge(e){return{2:`[${l("voice")}]`,3:`[${l("picture")}]`,5:`[${l("gift")}]`,6:`[${l("notice")}]`,18:`[${l("video")}]`,21:`[${l("msg.askForGift")}]`,22:`[${l("msg.systemNotice")}]`,23:`[${l("msg.sticker")}]`,25:`[${l("msg.feePhoto")}]`,26:`[${l("msg.feeVideo")}]`,27:`[${l("msg.matchSuccess")}]`,100:`[${l("msg.systemNotice")}]`}[e]||"["+l("msg.newNews")+"]"}function Pn(e){let t=[l("clubRules.prohibitionClause1"),l("clubRules.prohibitionClause2"),l("clubRules.prohibitionClause3"),l("clubRules.prohibitionClause4")];e||(t.push(l("clubRules.prohibitionClause5")),t.push(l("clubRules.prohibitionClause6"))),t.push(l("clubRules.prohibitionClause7")),t.push(l("clubRules.prohibitionClause8")),t.push(l("clubRules.prohibitionClause9"));let i="";for(let a=0,n=t.length;a<n;a++){let r=a+1+". "+t[a]+`
`;i+=r}return i}function bc(){let e=[l("clubRules.belowTips1",{hour_text:gt(24)}),l("clubRules.belowTips2",{ban_hour_text:gt(12),mute_hour_text:gt(24)}),l("clubRules.belowTips3",{hour_text:gt(24),disband_text:l("clubRules.beDisbanded"),ban_create_text:l("clubRules.nowAllowCreateClub")})],t="";for(let i=0,a=e.length;i<a;i++){let n=i<a-1?`
`:"",r="- "+e[i]+n;t+=r}return t}function wc(e){let t="";return t=`${l("msg.clubHaveCreatedFounder")}
`,t+=`${l("clubRules.readCarefully")}
`,t+=`${l("clubRules.notTalkBelowContent")}
`,t+=`${Pn(e)}`,t+=`${l("clubRules.punishedTips")}
`,t+=`${bc()}`,t}function Fn(){let e="";return e=`${l("msg.clubJoinSelf")}
`,e+=`${l("clubRules.readCarefully")}
`,e+=`${l("clubRules.notTalkBelowContent")}
`,e+=`${Pn(!oe())}`,e+=`${l("msg.chatManner")}
`,e+=`${l("msg.chatReportedWillBanned")}
`,e+=`${l("msg.chatClubReportTip")}`,e}var Ac={"view-n":{"":{position:"fixed",top:0,left:0}},"view-content":{"":{marginLeft:12,height:"144rpx",borderRadius:"16rpx",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},"view-user":{"":{flexDirection:"row",marginLeft:"24rpx",flex:1,marginRight:"20rpx"}},"view-msg":{"":{height:"90rpx",marginLeft:"20rpx",flexDirection:"column",justifyContent:"space-between"}},"text-content":{"":{fontSize:"24rpx",textOverflow:"ellipsis",lines:1}},"text-reply":{"":{width:"152rpx",height:"76rpx",lineHeight:"76rpx",borderWidth:"2rpx",borderStyle:"solid",borderColor:"#FF4477",borderRadius:"10rpx",textAlign:"center",fontSize:"32rpx",color:"#FF4477",marginRight:"24rpx"}},"view-action":{"":{flexDirection:"row",alignItems:"center",marginRight:"16rpx"}}},Sc={components:{AvatarImg:tt,MText:Ye,MView:ai,LImg:H,UBaseInfo:Ve,CallBtnAnswer:Mn},emits:["onCallAnswer"],props:{id:{type:String,default:""},gameInfo:{type:Object,default(){return{}}},isCallConnect:{type:[Boolean,Number],default:!1},fromType:{type:Number,default:0}},data(){return{isAndroid:v.isAndroid,sW:getApp().globalData.window.width,viewW:getApp().globalData.window.width-24,marginTop:0,show:!1,type:0,msgContentStr:"",user:{},closeTimer:!1,callData:{},startY:0,club:{},themeObj:getApp().globalData.themeObj}},computed:{avatarSrc(){return this.type==3?this.club.club_logo:this.user.small_avatar||this.user.avatar},nameWidthVal(){let e;return this.type==1?e=this.user.is_vip?175:220:e=200,this.user.level<=0&&(e+=56),`${e}rpx`},viewBg(){return this.themeObj.style==ie.LIGHT?this.themeObj.color.bg3:"#444444"},mysteryAvatar(){return this.type==3||!this.user.hide_profile?"":ei(this.user)},mysteryNickname(){return this.type==3||!this.user.hide_profile?"":Qt(this.user)}},methods:{$str:l,onViewTouchMove(){},onViewTouch(e){let t;t=e.changedTouches[0].screenY.toFixed(2),this.startY=t},onViewTouchEnd(e){let t;t=e.changedTouches[0].screenY.toFixed(2),this.startY-t>25&&this.close(),this.startY=0},clickReply(){this.show=!1,this.type==1&&Ni(this.user)},clickAnswer(e){e&&e.stopPropagation(),this.fromType==1&&this.$emit("onCallAnswer",this.callData),this.close()},clickHangUp(e){if(e&&e.stopPropagation(),!y(this.callData.hangup_tips)){be(l("tips"),this.callData.hangup_tips,()=>{this.reqHangUp()},"",l("hangUp"));return}this.reqHangUp()},reqHangUp(){let e={room_id:this.callData.room_id};G.request("/chat/call/end",e,!1),this.close()},change(e){e.detail?this.setTimer():clearTimeout(this.closeTimer)},setTimer(){if(this.closeTimer)return;let e=this.type==2?2e4:5500;this.closeTimer=setTimeout(()=>{this.show=!1},e)},cleatTimer(){clearTimeout(this.closeTimer),this.closeTimer=!1},initMsg(e){if(!this.isCallConnect){if(this.cleatTimer(),this.setTimer(),e.chat_type==v.M_CHAT_CLUB){this.type=3,this.club=e.club_info;let t="",i=e.user_infos[e.send_uid];i&&i.uid!=v.SYSTEM_ID&&(t=`${i.nickname}: `),this.msgContentStr=`${t}${Vi(e,i)}`}else this.type=1,this.user=e.user_info,this.msgContentStr=Vi(e,e.user_info);this.show=!0}},initCall(e){this.isCallConnect||(this.type=2,this.cleatTimer(),this.setTimer(),this.callData=e,this.user=e.user_info,this.msgContentStr=l("call.inviteYou",{chatType:Vt(e.type)}),this.show=!0)},showCall(e){if(this.fromType==1){if(this.show){this.close(),setTimeout(()=>{this.initCall(e)},500);return}this.initCall(e)}},close(){this.cleatTimer(),this.show=!1},init(e){(e.notifyType==1||e.notifyType==4)&&this.initMsg(e)}},created(){let e=getCurrentPages(),a=e[e.length-1].$getAppWebview().getNavigationbar();y(a)||Object.keys(a).length<=0?this.marginTop=getApp().globalData.window.statusBarHeight+12:this.marginTop=12,uni.$on(`event_${this.id}_n`,this.init)},unmounted(){uni.$off(`event_${this.id}_n`,this.init)}};function Tc(e,t,i,a,n,r){let s=F((0,N.resolveDynamicComponent)("avatar-img"),tt),c=F((0,N.resolveDynamicComponent)("l-img"),H),o=(0,N.resolveComponent)("m-text"),u=F((0,N.resolveDynamicComponent)("u-base-info"),Ve),f=(0,N.resolveComponent)("call-btn-answer"),h=F((0,N.resolveDynamicComponent)("uni-transition"),je);return(0,N.openBlock)(),(0,N.createElementBlock)("view",{class:"view-n",renderWhole:!0},[(0,N.createVNode)(h,{"mode-class":"slide-top",show:n.show,duration:400,onChange:r.change,style:(0,N.normalizeStyle)({width:`${n.sW}px`,padding:n.isAndroid?"6px 0":""})},{default:(0,N.withCtx)(()=>[(0,N.createElementVNode)("view",{onTouchstart:t[2]||(t[2]=(..._)=>r.onViewTouch&&r.onViewTouch(..._)),onTouchend:t[3]||(t[3]=(..._)=>r.onViewTouchEnd&&r.onViewTouchEnd(..._)),onTouchmove:t[4]||(t[4]=(0,N.withModifiers)((..._)=>r.onViewTouchMove&&r.onViewTouchMove(..._),["stop","prevent"])),elevation:"5px",class:"view-content",style:(0,N.normalizeStyle)({width:`${n.viewW}px`,marginTop:`${n.marginTop}px`,boxShadow:n.isAndroid?"":"0 2px 10px 0 rgba(0, 0, 0, 0.3)",background:r.viewBg})},[(0,N.createElementVNode)("view",{class:"view-user"},[r.mysteryAvatar?((0,N.openBlock)(),(0,N.createBlock)(s,{key:0,user:n.user,w:"92rpx",h:"92rpx",radius:"46rpx"},null,8,["user"])):((0,N.openBlock)(),(0,N.createBlock)(c,{key:1,onClick:r.clickReply,src:r.avatarSrc,w:"92rpx",h:"92rpx",radius:"46rpx"},null,8,["onClick","src"])),(0,N.createElementVNode)("view",{onClick:t[0]||(t[0]=(..._)=>r.clickReply&&r.clickReply(..._)),class:"view-msg"},[n.type==3?((0,N.openBlock)(),(0,N.createBlock)(o,{key:0,text:n.club.club_name},null,8,["text"])):((0,N.openBlock)(),(0,N.createElementBlock)("view",{key:1},[r.mysteryNickname?((0,N.openBlock)(),(0,N.createBlock)(o,{key:0,text:r.mysteryNickname},null,8,["text"])):((0,N.openBlock)(),(0,N.createBlock)(u,{key:1,info:n.user,nameSize:"32rpx",fw:"500",nameWidth:r.nameWidthVal},null,8,["info","nameWidth"]))])),(0,N.createElementVNode)("u-text",{class:"text-content",style:(0,N.normalizeStyle)({width:`${n.type==2?320:390}rpx`,color:n.themeObj.color.tip})},(0,N.toDisplayString)(n.msgContentStr),5)])]),n.type==1||n.type==3?((0,N.openBlock)(),(0,N.createElementBlock)("u-text",{key:0,onClick:t[1]||(t[1]=(..._)=>r.clickReply&&r.clickReply(..._)),class:"text-reply"},(0,N.toDisplayString)(r.$str("reply")),1)):((0,N.openBlock)(),(0,N.createElementBlock)("view",{key:1,class:"view-action"},[(0,N.createVNode)(c,{onClick:r.clickHangUp,src:"s/call/hang_up_1.png",w:"76rpx",h:"76rpx",style:{"margin-right":"40rpx"}},null,8,["onClick"]),(0,N.createVNode)(f,{onClick:r.clickAnswer,"call-type":n.callData.type,"anim-w":108,"bg-w":76,"icon-w":42,"icon-v-w":32},null,8,["onClick","call-type"])]))],36)]),_:1},8,["show","onChange","style"])])}var Bn=M(Sc,[["render",Tc],["styles",[Ac]]]);var g=J(X());var it=J(X()),Dc={emits:["onEvent"],props:{src:{type:String,default:""},autoPlay:{type:Boolean,default:!1},loops:{type:Number,default:0},repeatMode:{type:Number,default:1},frame:{type:Number,default:0},progress:{type:Number,default:0},speed:{type:Number,default:1},eventStep:{type:Boolean,default:!1}},data(){return{refView:null}},computed:{params(){return{src:ut(De(this.src),!1),autoPlay:this.autoPlay,loops:this.loops,repeatMode:this.repeatMode,initFrame:this.frame,progress:this.progress,speed:this.speed,eventStep:this.eventStep}}},methods:{event(e){y(e)||typeof e.detail=="undefined"||this.$emit("onEvent",e.detail)},play(){this.$refs.lottie&&this.$refs.lottie.play()},pause(){this.$refs.lottie&&this.$refs.lottie.pause()},resume(){this.$refs.lottie&&this.$refs.lottie.resume()},stop(){this.$refs.lottie&&this.$refs.lottie.stop()},setFrame(e){this.$refs.lottie&&this.$refs.lottie.setFrame(e)},setProgress(e){this.$refs.lottie&&this.$refs.lottie.setProgress(e)},setSpeed(e){this.$refs.lottie&&this.$refs.lottie.setSpeed(e)},setEventStep(e){this.$refs.lottie&&this.$refs.lottie.setEventStep(e)}},created(){}};function Cc(e,t,i,a,n,r){let s=(0,it.resolveComponent)("nav-anim-lottie");return(0,it.openBlock)(),(0,it.createBlock)(s,{ref:"lottie",params:r.params,onEvent:r.event},null,8,["params","onEvent"])}var Un=M(Dc,[["render",Cc]]);var Wn="call_evaluate_label_res";function $n(){return new Promise(e=>{let t=K(Wn),i=ft();if(y(t)||y(t.res[i])||getApp().globalData.callEvaluateVersion>parseInt(t.version))G.request("/chat/call/tap-reason",{}).then(a=>{let n=a.data.reason_list,r=_t(JSON.stringify(t));y(r)&&(r={}),y(r.res)&&(r.res={}),r.res[i]=n;let s={version:a.data.version,res:r.res};Ce(Wn,s);let c=Gn(n);e(c)});else{let a=Gn(t.res[i]);e(a)}})}function Gn(e){return oe()?e.filter(t=>t.identity!=1):e.filter(t=>t.identity!=2)}var Hn={},Vn={props:{src:{type:String,default:""},w:{type:String,default:"0"},h:{type:String,default:"0"}},data(){return{svgaPath:"",isHide:!1}},created(){De(this.src,e=>{this.svgaPath=e})}};function vc(e,t,i,a,n,r){return(0,g.openBlock)(),(0,g.createElementBlock)("div",{id:"renderScript",class:"view-anim",style:(0,g.normalizeStyle)({width:i.w,height:i.h}),svgaPath:n.svgaPath,"change:svgaPath":e.renderScript.animPathChange,isHide:n.isHide,"change:isHide":e.renderScript.isHideChange},null,12,["svgaPath","change:svgaPath","isHide","change:isHide"])}typeof Hn=="function"&&Hn(Vn);var kc=M(Vn,[["render",vc]]),Ec={"view-container":{"":{color:"#333333",position:"fixed",zIndex:11111}},center:{"":{flexDirection:"row",alignItems:"center",justifyContent:"flex-start"}},"center-align":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"center-between":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},"view-evaluate":{"":{flex:1,backgroundColor:"#FFFFFF",boxShadow:"0 4rpx 20rpx 0 rgba(0, 0, 0, 0.1), 0 0 12rpx 0 rgba(0, 0, 0, 0.1)",borderRadius:"16rpx",borderWidth:"2rpx",borderStyle:"solid",borderColor:"rgba(0,0,0,0.15)",paddingTop:"24rpx",paddingRight:"20rpx",paddingBottom:"24rpx",paddingLeft:"20rpx",boxSizing:"border-box"}},"view-header":{"":{flexDirection:"row",flex:1,alignItems:"center",justifyContent:"space-between"}},"like-wrap":{"":{height:"60rpx",backgroundColor:"#F1F3F6",borderRadius:"30rpx",paddingTop:0,paddingRight:"16rpx",paddingBottom:0,paddingLeft:"16rpx",marginLeft:"20rpx"}},"split-line":{"":{height:"2rpx",backgroundColor:"rgba(0,0,0,0.1)",transform:"scaleY(0.5)",transformOrigin:"50% 100%",marginTop:"12rpx"}},"split-line-ver":{"":{width:"2rpx",height:"28rpx",backgroundColor:"rgba(0,0,0,0.1)",marginTop:0,marginRight:"12rpx",marginBottom:0,marginLeft:"12rpx"}},"enjoy-text":{"":{lineHeight:"22rpx",marginTop:"10rpx",fontSize:"20rpx",color:"#666666",lines:1,overflow:"hidden",textOverflow:"ellipsis"}},"close-icon":{"":{position:"absolute",top:0,right:0,paddingLeft:"20rpx",paddingBottom:"20rpx"}},"close-bg":{".close-icon ":{minWidth:"16px",minHeight:"16px",width:16,height:16,borderRadius:8,backgroundColor:"#FFFFFF",borderWidth:"2rpx",borderStyle:"solid",borderColor:"rgba(0,0,0,0.1)"}},"report-label":{"":{backgroundColor:"#F1F3F6",borderRadius:"8rpx",paddingTop:0,paddingRight:"28rpx",paddingBottom:0,paddingLeft:"28rpx",minWidth:"max-content",borderWidth:"2rpx",borderStyle:"solid",borderColor:"#F1F3F6",marginTop:"12rpx",marginRight:"12rpx"}},"report-text":{".report-label ":{height:"44rpx",lineHeight:"44rpx",minWidth:"max-content",fontSize:"20rpx"}},active:{"":{"!borderWidth":"2rpx","!borderStyle":"solid","!borderColor":"#FF4477","!backgroundColor":"rgba(255,68,119,0.1)"}},"input-wrap":{"":{height:"56rpx",borderRadius:"4rpx",borderWidth:"2rpx",borderStyle:"solid",borderColor:"rgba(0,0,0,0.1)",paddingTop:0,paddingRight:"12rpx",paddingBottom:0,paddingLeft:"12rpx",marginTop:"12rpx"}},"reason-tips":{"":{marginTop:"10rpx",fontSize:"20rpx",color:"#999999"}},"reason-input":{"":{marginLeft:"16rpx",fontSize:"20rpx",flex:1}},"submit-btn":{"":{backgroundImage:"linear-gradient(to right, #FF00BD, #FF5954)",borderRadius:"12rpx",marginTop:"20rpx",height:"56rpx"}},"submit-text":{".submit-btn ":{textAlign:"center",color:"#FFFFFF",lineHeight:"56rpx",fontSize:"22rpx"}},"nickname-text":{"":{lineHeight:"28rpx",fontSize:"24rpx",fontWeight:"600",lines:1,overflow:"hidden",textOverflow:"ellipsis"}}},xc={components:{Lottie:Un,LSvga:kc,UniIcons:At,LImg:H,UniTransition:je},props:{id:{type:String,default:""},isTab:{type:Boolean,default:!1},noNavbar:{type:Boolean,default:!1}},data(){return{show:!1,userInfo:{},closeTimer:!1,roomId:0,evaluateId:"",isUnlike:!1,reasonList:[],pageShow:!1,inputReason:"",chooseIds:[],hasClick:!1,scrollViewW:getApp().globalData.window.width-88,windowInfo:getApp().globalData.window,cursorSpacing:uni.upx2px(126),hasLike:!1,hasUnlike:!1,showPath:!1,isFocus:!1,keyboardH:0,eventPathKey:""}},computed:{viewStyle(){let e={};return this.isUnlike?(e.width=this.windowInfo.width+"px",this.isTab||this.noNavbar?e.height=this.windowInfo.height+"px":e.height=this.windowInfo.height-this.windowInfo.statusBarHeight-this.windowInfo.navBarHeight+"px",e.left=0,e.top=0):(e.width=this.windowInfo.width-72+"px",e.bottom=this.contentBottom+"px",e.left="36px"),e},contentStyle(){let e={},t=this.isTab?50:0,i=this.isTab?20:34;if(this.isUnlike){let a=this.windowInfo.safeBottom+t+i;e.position="absolute",e.left="36px",this.isFocus&&(a=this.keyboardH+2),e.bottom=a+"px"}return e.width=this.windowInfo.width-72+"px",e},contentBottom(){if(this.isTab)return 20;let e=this.windowInfo.safeBottom;return e+=34},nicknameWidth(){let t=this.windowInfo.width-88-uni.upx2px(324);return this.ageText&&(t-=uni.upx2px(50)),t},ageText(){let e="";return this.userInfo.birthday&&(e=", "+Yt(this.userInfo.birthday)),e},enjoyText(){let e=Le(this.userInfo.sex);return l("enjoyCallWithOther",{her:e})},enjoyTextWidth(){return this.windowInfo.width-88-uni.upx2px(324)}},methods:{$str:l,clickView(e){e&&e.stopPropagation();let t=this.$refs.inputReason;t&&t.blur&&t.blur()},clickClose(){this.pageShow&&(uni.hideKeyboard(),uni.offKeyboardHeightChange(this.onKeyboardChange),this.show=!1,this.pageShow=!1,this.$nextTick(()=>{this.inputReason="",this.chooseIds=[],this.hasClick=!1,this.hasLike=!1,this.hasUnlike=!1,this.isUnlike=!1,this.evaluateId="",this.roomId=0,this.userInfo={},this.isFocus=!1}))},clickSubmit(e){if(e&&e.stopPropagation(),y(this.chooseIds)&&y(this.inputReason))qt(l("callEvaluateFeedbackTips")),this.clickClose();else{let t={evaluate_id:this.evaluateId};y(this.chooseIds)||(t.reason=this.chooseIds.join(",")),y(this.inputReason)||(t.content=this.inputReason),G.request("/chat/call/tap-record",t,!0,!0).then(()=>{this.clickClose(!1),qt(l("callEvaluateFeedbackTips"))})}},clickReportItem(e,t){e&&e.stopPropagation();let i=this.chooseIds.indexOf(t);i==-1?this.chooseIds.push(t):this.chooseIds.splice(i,1)},clickLike(e){e&&e.stopPropagation(),!this.hasClick&&(this.hasClick=!0,this.hasLike=!0,this.reqEvaluate(1))},clickUnlike(e){e&&e.stopPropagation(),!this.hasClick&&(this.hasClick=!0,this.hasUnlike=!0,this.$nextTick(()=>{this.reqEvaluate(2).then(()=>$n()).then(t=>{this.parseReason(t),this.$nextTick(()=>{this.isUnlike=!0})})}))},startTimer(e){this.clearTimer(),this.closeTimer=setTimeout(()=>{this.clearTimer(),this.show=!1},e*1e3)},clearTimer(){this.closeTimer&&clearTimeout(this.closeTimer)},preventHandler(){},onKeyboardChange(e){this.keyboardH=e.height,this.isFocus=e.height>0},reqEvaluate(e){return this.clearTimer(),new Promise(t=>{let i={uid:getApp().globalData.uid,target_uid:this.userInfo.uid,room_id:this.roomId,type:e};G.request("/chat/call/evaluate",i,!1,!0).then(a=>{this.evaluateId=a.data.evaluate_id,e==1?this.startTimer(2):(this.clearTimer(),t())},()=>{this.hasClick=!1,this.startTimer(2)})})},parseReason(e){let t=e.length,i=parseInt(t/2),a=[];for(let n=0;n<t;n+=i)a.push({list:e.slice(n,n+i)});this.reasonList=a},init(e,t){this.userInfo=e,this.roomId=t,this.hasClick=!1,this.pageShow=!0,this.$nextTick(()=>{this.show=!0,this.startTimer(5),uni.onKeyboardHeightChange(this.onKeyboardChange)})}},created(){this.eventPathKey=Ie("fullPath"),uni.$on(`event_${this.eventPathKey}_show_call_evaluate`,this.init),uni.$on(`event_${this.eventPathKey}_close_call_evaluate`,this.clickClose),De("s/call/evaluate_like.svga"),De("s/call/evaluate_unlike.svga"),De("s/call/evaluate_like.json"),De("s/call/evaluate_unlike.json")},unmounted(){this.clearTimer(),uni.offKeyboardHeightChange(this.onKeyboardChange),uni.$off(`event_${this.eventPathKey}_show_call_evaluate`,this.init),uni.$off(`event_${this.eventPathKey}_close_call_evaluate`,this.clickClose)}};function Lc(e,t,i,a,n,r){let s=F((0,g.resolveDynamicComponent)("l-img"),H),c=(0,g.resolveComponent)("lottie"),o=F((0,g.resolveDynamicComponent)("uni-icons"),At),u=F((0,g.resolveDynamicComponent)("uni-transition"),je);return n.pageShow?((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:0,class:"view-container",onClick:t[5]||(t[5]=(...f)=>r.clickView&&r.clickView(...f)),onTouchmove:t[6]||(t[6]=(0,g.withModifiers)((...f)=>r.preventHandler&&r.preventHandler(...f),["stop","prevent"])),style:(0,g.normalizeStyle)(r.viewStyle),renderWhole:!0},[(0,g.createVNode)(u,{"mode-class":"fade",show:n.show,duration:300,style:(0,g.normalizeStyle)(r.contentStyle)},{default:(0,g.withCtx)(()=>[(0,g.createElementVNode)("view",{style:{padding:"8px",position:"relative"}},[(0,g.createElementVNode)("view",{class:"view-evaluate"},[(0,g.createElementVNode)("view",{class:"view-header"},[(0,g.createElementVNode)("view",{class:"center"},[(0,g.createVNode)(s,{src:n.userInfo.small_avatar,w:"62rpx",h:"62rpx",radius:"31rpx",border:"2rpx solid #EEEEEE"},null,8,["src"]),(0,g.createElementVNode)("view",{style:{"margin-left":"16rpx"}},[(0,g.createElementVNode)("view",{class:"center"},[(0,g.createElementVNode)("u-text",{style:(0,g.normalizeStyle)({maxWidth:`${r.nicknameWidth}px`}),class:"nickname-text"},(0,g.toDisplayString)(n.userInfo.nickname),5),r.ageText?((0,g.openBlock)(),(0,g.createElementBlock)("u-text",{key:0,style:{"line-height":"28rpx","font-size":"24rpx","font-weight":"600"}},(0,g.toDisplayString)(r.ageText),1)):(0,g.createCommentVNode)("",!0)]),(0,g.createElementVNode)("u-text",{class:"enjoy-text",style:(0,g.normalizeStyle)({maxWidth:`${r.enjoyTextWidth}px`})},(0,g.toDisplayString)(r.enjoyText),5)])]),(0,g.createElementVNode)("view",{class:"like-wrap center"},[(0,g.createElementVNode)("view",{onClick:t[0]||(t[0]=(...f)=>r.clickLike&&r.clickLike(...f))},[n.hasLike?((0,g.openBlock)(),(0,g.createBlock)(c,{key:1,src:"s/call/evaluate_like.json","auto-play":!0,style:{width:"60rpx",height:"60rpx"}})):((0,g.openBlock)(),(0,g.createBlock)(s,{key:0,onClick:r.clickLike,src:"s/pub/evaluate_like_n.png",w:"60rpx",h:"60rpx"},null,8,["onClick"]))]),(0,g.createElementVNode)("view",{class:"split-line-ver"}),(0,g.createElementVNode)("view",{onClick:t[1]||(t[1]=(...f)=>r.clickUnlike&&r.clickUnlike(...f))},[n.hasUnlike?((0,g.openBlock)(),(0,g.createBlock)(c,{key:1,src:"s/call/evaluate_unlike.json","auto-play":!0,style:{width:"60rpx",height:"60rpx"}})):((0,g.openBlock)(),(0,g.createBlock)(s,{key:0,onClick:r.clickUnlike,src:"s/pub/evaluate_unlike_n.png",w:"60rpx",h:"60rpx"},null,8,["onClick"]))])])]),n.isUnlike?((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:0,class:"m-t-8"},[(0,g.createElementVNode)("view",{class:"split-line"}),(0,g.createElementVNode)("u-text",{class:"reason-tips"},(0,g.toDisplayString)(r.$str("callEvaluateTips")),1),(0,g.createElementVNode)("scroll-view",{scrollX:!0,showScrollbar:!1,style:{"flex-direction":"row",flex:"1"}},[(0,g.createElementVNode)("view",null,[((0,g.openBlock)(!0),(0,g.createElementBlock)(g.Fragment,null,(0,g.renderList)(n.reasonList,(f,h)=>((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:h,class:"center"},[((0,g.openBlock)(!0),(0,g.createElementBlock)(g.Fragment,null,(0,g.renderList)(f.list,(_,E)=>((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:h+"_"+E,onClick:(0,g.withModifiers)(k=>r.clickReportItem(k,_.id),["stop"]),class:(0,g.normalizeClass)(["report-label",[n.chooseIds.indexOf(_.id)!=-1?"active":""]])},[(0,g.createElementVNode)("u-text",{class:"report-text"},(0,g.toDisplayString)(_.title),1)],10,["onClick"]))),128))]))),128))])]),(0,g.createElementVNode)("view",{class:"input-wrap center"},[(0,g.createVNode)(s,{src:"s/pub/evaluate_edit.png",w:"24rpx",h:"24rpx"}),(0,g.createElementVNode)("u-input",{ref:"inputReason",modelValue:n.inputReason,onInput:t[2]||(t[2]=f=>n.inputReason=f.detail.value),type:"text",placeholder:r.$str("callEvaluateInputTips"),cursorSpacing:n.cursorSpacing,adjustPosition:!1,class:"reason-input"},null,40,["modelValue","placeholder","cursorSpacing"])]),(0,g.createElementVNode)("view",{onClick:t[3]||(t[3]=(...f)=>r.clickSubmit&&r.clickSubmit(...f)),class:"submit-btn center-align"},[(0,g.createElementVNode)("u-text",{class:"submit-text"},(0,g.toDisplayString)(r.$str("submit")),1)])])):(0,g.createCommentVNode)("",!0)]),n.isUnlike?((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:0,onClick:t[4]||(t[4]=f=>r.clickClose(!1)),class:"close-icon"},[(0,g.createElementVNode)("view",{class:"close-bg center-align"},[(0,g.createVNode)(o,{type:"closeempty",size:"20rpx",color:"#333333",style:{"margin-top":"2rpx"}})])])):(0,g.createCommentVNode)("",!0)])]),_:1},8,["show","style"])],36)):(0,g.createCommentVNode)("",!0)}var ji=M(xc,[["render",Lc],["styles",[Ec]]]);var jn={data(){return{__isPopGestureBack:!1}},methods:{__getWebview(){return plus.webview.currentWebview()},__webviewPopGestureListener(e){let t=e.progress>=50;getApp().globalData.isGestureBacking=t,this.__isPopGestureBack=t}},onReady(){v.isAndroid||this.__getWebview().addEventListener("popGesture",this.__webviewPopGestureListener)},onUnload(){if(v.isAndroid)return;getApp().globalData.isGestureBacking=!1,this.__isPopGestureBack=!1;let e=this.__getWebview();typeof e!="undefined"&&e.removeEventListener("popGesture",this.__webviewPopGestureListener)}};var d=J(X());var O=J(X());var at=J(X());var Ic={line:{"":{height:"2rpx",transform:"scaleY(0.5)",transformOrigin:"50% 100%"}}},Nc={computed:{bgColor(){return getApp().globalData.themeObj.color.line}}};function Rc(e,t,i,a,n,r){return(0,at.openBlock)(),(0,at.createElementBlock)("view",{style:(0,at.normalizeStyle)({background:r.bgColor}),class:"line",renderWhole:!0},null,4)}var nt=M(Nc,[["render",Rc],["styles",[Ic]]]);var Oc={"tran-flex":{"":{flexDirection:"row",alignItems:"center"}},"view-tran":{"":{flexDirection:"row",justifyContent:"center",alignItems:"center"}},"text-a":{"":{fontSize:"20rpx"}},"text-tran":{"":{fontSize:"26rpx",marginLeft:"8rpx"}},"text-end":{"":{color:"#999999",fontSize:"24rpx",marginLeft:"4rpx"}}},Mc={components:{MLine:nt},emits:["onTranslateFinish","onTranslateClick"],props:{text:{type:String,default:""},border:{type:Boolean,default:!1},showTran:{type:Boolean,default:!0},showTranContent:{type:Boolean,default:!0},contentTop:{type:Number,default:20},showTranEnd:{type:Boolean,default:!1},bg:{type:[Boolean,String],default:!1},textColor:{type:String,default(){return getApp().globalData.themeObj.color.barBtn}},aColor:{type:String,default:"#FFFFFF"},contentColor:{type:String,default(){return getApp().globalData.themeObj.color.title}},isAuto:{type:Boolean,default:!1},isAutoForce:{type:Boolean,default:!1},translateResult:{type:String,default:""},fromLanguage:{type:String,default:""},apiParams:{type:Object,default(){return{}}},translateSize:{type:String,default:"24rpx"},paddingTop:{type:String,default:"10rpx"},fw:{type:Number,default:0}},data(){return{transStatus:0,tranContent:""}},watch:{text(e){e&&(this.transStatus=0,this.tranContent="",this.executeTranAuto())},translateResult(e){this.transStatus=0,this.tranContent="",this.executeTranAuto()}},computed:{borderStyle(){return this.border?{"border-radius":"4px","padding-left":"10rpx","padding-right":"10rpx","padding-top":this.paddingTop}:{}},viewStyle(){if(this.border){let e=getApp().globalData.themeObj.style==ie.LIGHT?"#624A8E":"#7D8288";return{"border-radius":"4px",width:"32rpx",height:"32rpx",background:this.bg||e}}return{opacity:"0.89","border-radius":"2px",width:"26rpx",height:"26rpx",background:this.bg||"#FF4477"}},contentStyle(){let e={marginTop:`${this.contentTop}rpx`,color:this.contentColor,fontSize:this.translateSize};return this.fw>0&&(e["font-weight"]=this.fw),e},tranIconSrc(){return"s/pub/tran_end_1.png"},tranStr(){return this.isAuto?l("autoTranslation"):l("translation")},translateStr(){return l("translate")}},methods:{clickTranEndView(e){(this.isAuto||this.isAutoForce)&&(e&&e.stopPropagation(),sn())},clickThis(e){e&&e.stopPropagation(),this.reqTranslate()&&((this.isAuto||this.isAutoForce)&&this.$emit("onTranslateClick"),Oi(!0))},handleTranRes(e){this.transStatus=2,this.showTranContent&&(this.tranContent=e),this.$emit("onTranslateFinish",{text:e})},reqTranslate(){if(y(this.text)||this.transStatus!=0)return!1;if(this.translateResult)return this.handleTranRes(this.translateResult),!0;this.transStatus=1;let e=this.apiParams;return e.target=getApp().globalData.translateKey,e.content=this.text,G.request("/translate/index",e,!1,!0).then(t=>{t.ok==1&&t.data.text&&this.handleTranRes(t.data.text)},t=>{this.transStatus=0}),!0},executeTranAuto(){(this.isAutoForce||this.isAuto&&rn(this.fromLanguage))&&this.$nextTick(()=>{this.reqTranslate()})}},created(){if(!(!this.isAuto&&!this.isAutoForce)&&getApp().globalData.translateAuto){if(this.translateResult){this.transStatus=2,this.tranContent=this.translateResult;return}this.executeTranAuto()}}};function Fc(e,t,i,a,n,r){let s=F((0,O.resolveDynamicComponent)("l-img"),H),c=(0,O.resolveComponent)("m-line");return(0,O.openBlock)(),(0,O.createElementBlock)("view",{style:(0,O.normalizeStyle)([r.borderStyle,{background:"transparent"}]),renderWhole:!0},[n.transStatus!=2?((0,O.openBlock)(),(0,O.createElementBlock)("view",{key:0,onClick:t[0]||(t[0]=(0,O.withModifiers)((...o)=>r.clickThis&&r.clickThis(...o),["stop"])),class:"tran-flex"},[(0,O.createElementVNode)("view",{class:"view-tran",style:(0,O.normalizeStyle)(r.viewStyle)},[n.transStatus==1?((0,O.openBlock)(),(0,O.createBlock)(s,{key:0,src:"s/pub/tran_load_1.gif",w:"20rpx",h:"20rpx","is-gif":!0})):n.transStatus==0?((0,O.openBlock)(),(0,O.createElementBlock)("u-text",{key:1,class:"text-a",style:(0,O.normalizeStyle)({color:`${i.aColor}`})},"A",4)):(0,O.createCommentVNode)("",!0)],4),i.showTran?((0,O.openBlock)(),(0,O.createElementBlock)("u-text",{key:0,class:"text-tran",style:(0,O.normalizeStyle)({color:i.textColor})},(0,O.toDisplayString)(r.translateStr),5)):(0,O.createCommentVNode)("",!0)])):n.tranContent?((0,O.openBlock)(),(0,O.createElementBlock)("view",{key:1},[(0,O.createVNode)(c),(0,O.createElementVNode)("u-text",{style:(0,O.normalizeStyle)(r.contentStyle)},(0,O.toDisplayString)(n.tranContent),5),i.showTranEnd?((0,O.openBlock)(),(0,O.createElementBlock)("view",{key:0,onClick:t[1]||(t[1]=(...o)=>r.clickTranEndView&&r.clickTranEndView(...o)),class:"tran-flex",style:{"margin-top":"8rpx"}},[(0,O.createVNode)(s,{src:r.tranIconSrc,w:"30rpx",h:"30rpx"},null,8,["src"]),(0,O.createElementVNode)("u-text",{class:"text-end"},(0,O.toDisplayString)(r.tranStr),1)])):(0,O.createCommentVNode)("",!0)])):(0,O.createCommentVNode)("",!0)],4)}var Yi=M(Mc,[["render",Fc],["styles",[Oc]]]);var Fe=J(X());var Pc={"text-align":{"":{textAlign:"center"}}},Bc={props:{text:{type:String,default:""},type:{type:String,default:"main"}},computed:{style(){let e=getApp().globalData.themeObj.btn[this.type],t={};return e.bgNvue&&(t.background=e.bgNvue),e.border&&(t.border=e.border),e.color&&(t.color=e.color),t}}};function Uc(e,t,i,a,n,r){return(0,Fe.openBlock)(),(0,Fe.createElementBlock)("u-text",{style:(0,Fe.normalizeStyle)(r.style),class:"text-align"},(0,Fe.toDisplayString)(i.text),5)}var Yn=M(Bc,[["render",Uc],["styles",[Pc]]]);var Wc={center:{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"view-media":{"":{position:"relative"}},"view-fee":{"":{position:"absolute",top:0,left:0,backgroundColor:"rgba(50,29,106,0.96)",zIndex:100}},"view-duration":{"":{position:"absolute",bottom:0,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",zIndex:100}},text:{".view-duration ":{color:"#FFFFFF"}}},Gc={components:{},emits:["click","onMediaFeeCheck"],props:{info:{type:Object,default(){return{}}},uid:{type:[String,Number],default:0},index:{type:Number,default:0},wPx:{type:Number,default:0},hPx:{type:Number,default:0},wRpx:{type:Number,default:0},hRpx:{type:Number,default:0},radius:{type:String,default:""},onlyShow:{type:Boolean,default:!1},durationSize:{type:Number,default:1},showAnonymous:{type:Boolean,default:!1}},data(){return{isSelf:!1,playW:""}},computed:{wStyle(){return this.wPx?`${this.wPx}px`:`${this.wRpx}rpx`},hStyle(){return this.hPx?`${this.hPx}px`:`${this.hRpx}rpx`},feeIconSrc(){return this.info.media_type==1?"s/anchor/i_fee_photo2.png":"s/anchor/i_fee_video2.png"},durationViewStyle(){let e=this.durationSize==1?"48rpx":"20rpx",t={"border-bottom-left-radius":this.radius,"border-bottom-right-radius":this.radius,height:e};return this.feeBoolean||(t["background-image"]="linear-gradient(to bottom, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4))"),t},durationTextStyle(){let e,t;return this.durationSize==1?(e="20rpx",t="20rpx"):(e="12rpx",t="8rpx"),{"font-size":e,"margin-right":t}},durationStr(){return ht(this.info.duration)},feeBoolean(){if(this.info.check_price>0)return this.isSelf?!0:this.info.check_status==0},mediaBgSrc(){return this.feeBoolean?"s/user/media_fee_bg.png":this.showAnonymous?"s/privacy/anonymous_album.png":""}},methods:{clickMedia(e){if(!this.onlyShow&&this.checkFee()){if(e&&e.stopPropagation(),oe()){let i=this.info.media_type==1?l("photosLower"):l("videosLower");Ne(l("tips"),l("media.fee.noCheck",{media:i}),"",l("gotIt"));return}if(K("check_paid_photo_status_"+getApp().globalData.uid))G.request("/coach/media/check",{coach_uid:this.uid,media_id:this.info.media_id},!0).then(i=>{this.onFeeMediaDialogListener()});else{let i={onFeeMediaDialogListener:this.onFeeMediaDialogListener};z("/pagesDialog/paid-photo",{uid:this.uid,fromType:3},"paidAlbumsData",this.info,i)}return}this.$emit("click",e)},onFeeMediaDialogListener(){let e=this.info.media_type==2,t=Fi(e,this.info.small_url,this.info.url,this.info.cover_url);Pi([t],0,0),this.$emit("onMediaFeeCheck",this.index)},checkFee(){return this.isSelf?!1:this.info.check_price>0&&this.info.check_status==0}},created(){if(this.isSelf=this.uid==getApp().globalData.uid,this.wPx&&this.wPx==this.hPx||this.wRpx&&this.wRpx==this.hRpx){let e=this.hPx||this.hRpx,t=this.hPx?"px":"rpx";this.playW=`${parseInt(e*.224)}${t}`}else{let e=this.wPx||this.wRpx,t=this.hPx||this.hRpx,i=this.wPx?"px":"rpx";e>t?this.playW=`${parseInt(t*.3)}${i}`:this.playW=`${parseInt(e*.224)}${i}`}}};function $c(e,t,i,a,n,r){let s=F((0,d.resolveDynamicComponent)("l-img"),H);return(0,d.openBlock)(),(0,d.createElementBlock)("view",{class:"view-media center",style:(0,d.normalizeStyle)({width:r.wStyle,height:r.hStyle}),renderWhole:!0},[(0,d.createVNode)(s,{src:i.info.small_url,w:r.wStyle,h:r.hStyle,radius:i.radius,"place-w":r.wStyle,"place-type":2},null,8,["src","w","h","radius","place-w"]),r.mediaBgSrc?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:0,style:(0,d.normalizeStyle)({width:r.wStyle,height:r.hStyle,borderRadius:i.radius}),class:"view-fee"},[(0,d.createVNode)(s,{src:r.mediaBgSrc,w:r.wStyle,h:r.hStyle,radius:i.radius},null,8,["src","w","h","radius"])],4)):(0,d.createCommentVNode)("",!0),r.feeBoolean?((0,d.openBlock)(),(0,d.createBlock)(s,{key:1,src:r.feeIconSrc,w:n.playW,h:n.playW,style:{position:"absolute",top:"12rpx",left:"12rpx","z-index":"100"}},null,8,["src","w","h"])):i.info.media_type==2?((0,d.openBlock)(),(0,d.createBlock)(s,{key:2,src:"s/user/video_play.png",w:n.playW,h:n.playW,style:{position:"absolute"}},null,8,["w","h"])):(0,d.createCommentVNode)("",!0),i.info.media_type==2?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:3,style:(0,d.normalizeStyle)([{width:r.wStyle},r.durationViewStyle]),class:"view-duration"},[(0,d.createElementVNode)("u-text",{class:"text",style:(0,d.normalizeStyle)([r.durationTextStyle])},(0,d.toDisplayString)(r.durationStr),5)],4)):(0,d.createCommentVNode)("",!0),(0,d.createElementVNode)("view",{onClick:t[0]||(t[0]=(...c)=>r.clickMedia&&r.clickMedia(...c)),style:(0,d.normalizeStyle)([{position:"absolute",top:"0"},{width:r.wStyle,height:r.hStyle}])},null,4)],4)}var Hc=M(Gc,[["render",$c],["styles",[Wc]]]),Vc={"flex-warp":{"":{flexDirection:"row",flexWrap:"wrap"}}},jc={components:{MediaView:Hc},props:{momentId:{type:[Number,String],default:0},imgList:{type:Array,default:[]}},data(){return{imgW:0,imgH:0}},computed:{},methods:{getDistanceTime:ht,previewMedias(e,t,i){let a=[],n=0;for(let r=0,s=t.length;r<s;r++){let c=t[r];if(!e&&c.check_price>0&&c.check_status==0)r<i&&(n+=1);else{let o=c.media_type==2;a.push(Fi(o,c.small_url,c.url,c.cover_url))}}Pi(a,i-n)},clickImg(e,t){e&&e.stopPropagation();let i=this.imgList[0].uid==getApp().globalData.uid;this.previewMedias(i,this.imgList,t)},onMediaFeeCheck(e){uni.$emit("event_dynamic_action",{action:4,id:this.momentId,index:e})},parseImg(){if(this.imgList.length<=1)if(this.imgList[0].width>0&&this.imgList[0].height>0){let e=en(this.imgList[0].width,this.imgList[0].height);e[0]<140?(this.imgW=140,this.imgH=140*140/e[0]):(this.imgW=e[0],this.imgH=e[1])}else this.imgW=140,this.imgH=140;else{let e=parseInt((getApp().globalData.window.width-uni.upx2px(170))/3);this.imgList.length==4?this.imgW=e+20:this.imgW=e,this.imgH=this.imgW}}},created(){this.parseImg()}};function Yc(e,t,i,a,n,r){let s=(0,d.resolveComponent)("media-view");return(0,d.openBlock)(),(0,d.createElementBlock)("view",{class:"flex-warp",renderWhole:!0},[((0,d.openBlock)(!0),(0,d.createElementBlock)(d.Fragment,null,(0,d.renderList)(i.imgList,(c,o)=>((0,d.openBlock)(),(0,d.createBlock)(s,{key:`m${o}`,style:(0,d.normalizeStyle)([{"margin-bottom":"10rpx"},{marginRight:i.imgList.length==4||(o+1)%3!=0?"10rpx":0}]),onClick:u=>r.clickImg(u,o),onOnMediaFeeCheck:r.onMediaFeeCheck,info:c,index:o,uid:c.uid,"w-px":n.imgW,"h-px":n.imgH,radius:"16rpx"},null,8,["style","onClick","onOnMediaFeeCheck","info","index","uid","w-px","h-px"]))),128))])}var Kc=M(jc,[["render",Yc],["styles",[Vc]]]),zc={"publish-wrap":{"":{flexDirection:"row",alignItems:"center",height:"56rpx"}}},qc={components:{MText:Ye},data(){return{sW:getApp().globalData.window.width,uploadTimer:!1,uploadingIndex:0}},computed:{uploadingStr(){let e=this.uploadingIndex==0?".":this.uploadingIndex==1?"..":"...";return l("moment.uploading")+e},bg(){return getApp().globalData.themeObj.style==ie.LIGHT?"#F1F3F6":"#1A1A1A"}},created(){this.uploadTimer=setInterval(()=>{this.uploadingIndex+=1,this.uploadingIndex>2&&(this.uploadingIndex=0)},500)},unmounted(){this.uploadTimer&&clearInterval(this.uploadTimer)}};function Jc(e,t,i,a,n,r){let s=F((0,d.resolveDynamicComponent)("l-img"),H),c=(0,d.resolveComponent)("m-text");return(0,d.openBlock)(),(0,d.createElementBlock)("view",{class:"publish-wrap",style:(0,d.normalizeStyle)({width:`${n.sW}px`,background:r.bg}),renderWhole:!0},[(0,d.createVNode)(s,{src:"s/pub/uploading_black.png",needStyle:1,w:"26rpx",h:"26rpx",style:{"margin-left":"24rpx"}}),(0,d.createVNode)(c,{text:r.uploadingStr,style:{"font-size":"20rpx","margin-left":"8rpx"}},null,8,["text"])],4)}var Xc=M(qc,[["render",Jc],["styles",[zc]]]);function Jn(e,t,i=!1){let a=[];t==getApp().globalData.uid?a.push({title:l("delete"),color:"#FF4477"}):a.push({title:l("report"),color:"#FF4477"}),!i&&wt()&&a.push({title:l("admin.delete"),color:"#FF4477"}),plus.nativeUI.actionSheet({cancel:l("cancel"),buttons:a},n=>{n.index==1?t==getApp().globalData.uid?be(l("tips"),l("moment.delTip"),()=>{i?uni.$emit("event_dynamic_publish_finish",{status:!1,id:i}):(uni.$emit("event_dynamic_action",{action:1,id:e,uid:t}),G.request("/moment/delete",{moment_id:e}).then(()=>{uni.$emit("event_after_del_moment",{uid:t})}))}):Y("/pagesPub/my/report",{targetId:t}):n.index==2&&be(l("tips"),l("moment.delTip"),()=>{uni.$emit("event_dynamic_action",{action:1,id:e,uid:t}),G.request("/admin/moment/delete",{moment_id:e}).then(()=>{uni.$emit("event_after_del_moment",{uid:t})})})})}function Zc(e,t,i,a=!0){return a&&!bt(e)?!1:(G.request("/moment/gift",{moment_id:t,send_count:i}).then(n=>{yt("pubAccount.money",n.data.balance)}),!0)}function Qc(e,t,i=!1){if(wt())if(t==getApp().globalData.uid){let n=[];n.push({title:l("delete"),color:"#FF4477"}),n.push({title:l("admin.delete"),color:"#FF4477"}),plus.nativeUI.actionSheet({cancel:l("cancel"),buttons:n},r=>{r.index==1?Kn(e,i,t):r.index==2&&zn(e,i,t)})}else zn(e,i,t);else Kn(e,i,t)}function Kn(e,t=!1,i=""){be(l("tips"),l("moment.delTip"),()=>{t?uni.$emit("event_dynamic_publish_finish",{status:!1,id:t}):(uni.$emit("event_dynamic_action",{action:1,id:e,uid:i}),G.request("/moment/delete",{moment_id:e}).then(()=>{uni.$emit("event_after_del_moment",{uid:i})}))})}function zn(e,t=!1,i=""){be(l("tips"),l("moment.delTip"),()=>{uni.$emit("event_dynamic_action",{action:1,id:e,uid:i}),G.request("/admin/moment/delete",{moment_id:e}).then(()=>{uni.$emit("event_after_del_moment",{uid:i})})})}var eu={center:{"":{flexDirection:"row",alignItems:"center"}},"center-between":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},"dynamic-item":{"":{flexDirection:"row",paddingTop:"28rpx",paddingRight:"28rpx",paddingBottom:0,paddingLeft:"28rpx"}},"avatar-wrap":{".dynamic-item ":{marginTop:"6rpx",width:"78rpx",height:"78rpx"}},"online-point":{".dynamic-item .avatar-wrap ":{width:"16rpx",height:"16rpx",borderRadius:"8rpx",backgroundColor:"#34C759",borderWidth:"2rpx",borderStyle:"solid",borderColor:"#FFFFFF",position:"absolute",right:"8rpx",bottom:"2rpx"}},"content-text":{".dynamic-item ":{fontSize:"28rpx",lineHeight:"40rpx",marginBottom:"16rpx"}},"right-more":{".dynamic-item ":{position:"absolute",top:"10rpx",right:"-14rpx"}},"income-text":{".dynamic-item ":{fontSize:"24rpx",color:"#FFAA0D",lineHeight:"34rpx",marginRight:"4rpx"}},"m-l-def":{"":{marginLeft:"8rpx"}},"view-action":{"":{height:"72rpx"}},"view-like":{".view-action ":{width:"140rpx",height:"72rpx",paddingLeft:"8rpx",paddingRight:"10rpx"}},"view-flower":{".view-action ":{height:"72rpx",paddingLeft:"10rpx",paddingRight:"40rpx"}},"text-count":{".view-action ":{fontSize:"24rpx",color:"#999999",marginLeft:"8rpx"}},"get-text":{"":{fontSize:"24rpx",color:"#999999",lineHeight:"34rpx"}}},qn=Ge("animation"),tu=Ge("dom"),iu={emits:["onClickPost","onPostBtnSize"],components:{MBtn:Yn,MLine:nt,MText:Ye,MView:ai,LImg:H,Uploading:Xc,AvatarImg:tt,DynamicImg:Kc,TranslateIcon:Yi},props:{item:{type:Object,default(){return{}}},dyGift:{type:Object,default(){return{}}},isDetail:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},isPublish:{type:[Boolean,String],default:!1},isAvatar:{type:Boolean,default:!1}},data(){return{TRANSLATE_FROM:Ma,isScale:!1,isAuth:oe(),isAdmin:wt(),likeAniPlaying:!1,flowerList:[],isMy:this.item.userInfo.uid==getApp().globalData.uid,likeStatus:this.item.is_like,flowerWait:500,lastFlowerTime:new Date().getTime(),flowerCount:0,flowerTimer:"",clearFlowerTimer:!1,rightW:getApp().globalData.window.width-uni.upx2px(134),colorDesc:getApp().globalData.themeObj.color.desc}},computed:{tranAColor(){return getApp().globalData.themeObj.color.bg1_1},tranABg(){return getApp().globalData.themeObj.style==ie.LIGHT?"rgba(198, 205, 214, 0.9)":"rgba(125, 130, 136, 0.9)"},contentStr(){return this.item.type==1?this.item.content:this.item.type==2?l("uploadAvatar"):this.item.type==3?l("uploadAlbum"):""},contentOp(){return this.item.type==1?1:.7},likeSrc(){return this.likeStatus||this.item.is_like?"s/dynamic/love_s.png":"s/dynamic/love_n_1.png"},videoCallShow(){return!(!getApp().globalData.appCRE||this.isMy||this.item.userInfo.is_auth==this.isAuth)},showOnline(){return this.item.userInfo.online_status?this.item.userInfo.is_auth?!this.item.userInfo.is_rest:!this.item.userInfo.hide_online:!1}},methods:{$str:l,clickEdit(){Y("/pagesDynamic/publish",{info:encodeURIComponent(JSON.stringify(this.item))})},clickPost(){this.$emit("onClickPost")},clickUser(e){e&&e.stopPropagation(),zt(this.item.userInfo.uid)},clickItem(){this.isPublish||this.isAvatar||this.isDetail||Y("/pagesDynamic/detail",{id:this.item.moment_id})},clickVideoChat(e){e&&e.stopPropagation();let t=this.item.userInfo,i=t.video?t.video:"";ti(t,i,Ht.MOMENT),In("moment_click",!0)},clickFlower(e){if(e&&e.stopPropagation(),this.isAvatar)return;if(this.isAuth){Ne(l("tips"),l("moment.anchorNoSendGift"),"",l("gotIt"));return}if(!K("dynamic_send_gift_tip")){Y("/pagesDialog/dynamic-send-gift",{moment_id:this.item.moment_id,icon:this.dyGift.icon,price:this.dyGift.price});return}if(!bt(this.dyGift.price))return;this.startFlowerAni(),uni.$emit("event_dynamic_action",{action:3,id:this.item.moment_id,user:getApp().pubUser});let i=new Date().getTime();this.flowerCount=i-this.lastFlowerTime<this.flowerWait?this.flowerCount+1:1,this.lastFlowerTime=new Date().getTime(),clearTimeout(this.flowerTimer),this.flowerTimer=setTimeout(()=>{this.reqSendFlower(),clearTimeout(this.flowerTimer)},this.flowerWait+50)},startFlowerAni(){let e=this.flowerList.length+1;this.clearFlowerTimer&&(clearTimeout(this.clearFlowerTimer),this.clearFlowerTimer=!1),this.flowerList.push(e),this.$nextTick(()=>{let t=this.$refs[`flower${e}`][0];if(!t)return;let i=setTimeout(()=>{qn.transition(t,{styles:{opacity:"0",transform:"translateY(-80px)"},duration:2e3,timingFunction:"ease",needLayout:!1,delay:0},()=>{clearTimeout(i)})},100)})},reqSendFlower(){Zc(this.dyGift.price,this.item.moment_id,this.flowerCount,!1),this.clearFlowerTimer=setTimeout(()=>{this.flowerList=[],clearTimeout(this.clearFlowerTimer),this.clearFlowerTimer=!1},2e3)},clickLike(e){if(e&&e.stopPropagation(),this.isAvatar||this.likeAniPlaying)return;let t=!1;this.likeStatus||(t=!0,this.likeStatus=1),this.likeAniPlaying=!0,this.$nextTick(()=>{let i=this.$refs.refLike;if(!i){this.likeAniPlaying=!1;return}let a=setTimeout(()=>{this.animDef(i,{transform:"scale(1.3)"},300).then(()=>(clearTimeout(a),this.animDef(i,{transform:"scale(1)"},300))).then(()=>{this.likeAniPlaying=!1})},100);t&&(uni.$emit("event_dynamic_action",{action:2,id:this.item.moment_id,user:getApp().pubUser}),G.request("/moment/like",{moment_id:this.item.moment_id}))})},clickDelete(e){e&&e.stopPropagation(),Qc(this.item.moment_id,this.item.userInfo.uid,this.isPublish)},clickReport(e){e&&e.stopPropagation(),Y("/pagesPub/my/report",{targetId:this.item.userInfo.uid})},animDef(e,t,i){return new Promise(a=>{qn.transition(e,{styles:t,duration:i,timingFunction:"ease",needLayout:!1},()=>{a()})})}},created(){let e=K("post_moment_status_"+getApp().globalData.uid);this.isMy&&this.isAvatar&&y(e)&&this.$nextTick(()=>{let t=setTimeout(()=>{tu.getComponentRect(this.$refs.postBtn,i=>{i&&i.size&&this.$emit("onPostBtnSize",i.size)}),clearTimeout(t)},300)})}};function au(e,t,i,a,n,r){let s=(0,d.resolveComponent)("uploading"),c=F((0,d.resolveDynamicComponent)("avatar-img"),tt),o=F((0,d.resolveDynamicComponent)("u-base-info"),Ve),u=(0,d.resolveComponent)("m-text"),f=F((0,d.resolveDynamicComponent)("l-img"),H),h=F((0,d.resolveDynamicComponent)("translate-icon"),Yi),_=(0,d.resolveComponent)("dynamic-img"),E=(0,d.resolveComponent)("m-btn"),k=(0,d.resolveComponent)("m-line"),B=(0,d.resolveComponent)("m-view");return(0,d.openBlock)(),(0,d.createBlock)(B,{type:"bg1_1",onClick:r.clickItem,style:{position:"relative"}},{default:(0,d.withCtx)(()=>[i.isPublish?((0,d.openBlock)(),(0,d.createBlock)(s,{key:0})):(0,d.createCommentVNode)("",!0),(0,d.createElementVNode)("view",{class:"dynamic-item"},[(0,d.createElementVNode)("view",{onClick:t[0]||(t[0]=(...T)=>r.clickUser&&r.clickUser(...T)),class:"avatar-wrap"},[(0,d.createVNode)(c,{onClick:r.clickUser,user:i.item.userInfo,w:"72rpx",h:"72rpx",radius:"36rpx","place-w":"60rpx","place-font-size":!1},null,8,["onClick","user"]),r.showOnline?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:0,class:"online-point"})):(0,d.createCommentVNode)("",!0)]),(0,d.createElementVNode)("view",{style:(0,d.normalizeStyle)({width:`${n.rightW}px`})},[(0,d.createElementVNode)("view",{class:"m-l-def",style:{"align-items":"flex-start"}},[(0,d.createVNode)(o,{info:i.item.userInfo,nameSize:"28rpx",fw:500},null,8,["info"]),(0,d.createVNode)(u,{text:i.item.publishTime,style:{"margin-top":"2rpx","font-size":"20rpx",opacity:".7","line-height":"28rpx"}},null,8,["text"]),(0,d.createElementVNode)("view",{class:"right-more"},[n.isMy&&i.isAvatar?((0,d.openBlock)(),(0,d.createBlock)(u,{key:0,type:"action",text:r.$str("edit"),onClick:r.clickEdit,style:{"text-decoration":"underline","font-size":"24rpx",padding:"0 14rpx"}},null,8,["text","onClick"])):((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:1,class:"center"},[n.isAdmin||n.isMy?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:0,onClick:t[1]||(t[1]=(...T)=>r.clickDelete&&r.clickDelete(...T)),style:{padding:"0 14rpx"}},[(0,d.createVNode)(f,{onClick:r.clickDelete,src:"s/dynamic/dy_delete.png",w:"32rpx",h:"32rpx"},null,8,["onClick"])])):(0,d.createCommentVNode)("",!0),n.isMy?(0,d.createCommentVNode)("",!0):((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:1,onClick:t[2]||(t[2]=(...T)=>r.clickReport&&r.clickReport(...T)),style:{padding:"0 14rpx","margin-left":"20rpx"}},[(0,d.createVNode)(f,{onClick:r.clickReport,src:"s/dynamic/dy_report.png",w:"32rpx",h:"32rpx"},null,8,["onClick"])]))]))])]),r.contentStr?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:0,class:"m-l-def",style:{"margin-top":"20rpx"}},[(0,d.createVNode)(u,{text:r.contentStr,style:(0,d.normalizeStyle)([{"font-size":"28rpx","line-height":"40rpx","margin-bottom":"16rpx"},{opacity:r.contentOp}])},null,8,["text","style"]),i.item.type==1?((0,d.openBlock)(),(0,d.createBlock)(h,{key:0,text:r.contentStr,"show-tran-end":!0,"translate-result":i.item.translate_text,bg:r.tranABg,"api-params":{from_type:n.TRANSLATE_FROM.MOMENT,from_uid:i.item.userInfo.uid,key:i.item.moment_id},"text-color":n.colorDesc,"a-color":r.tranAColor,style:{"margin-bottom":"18rpx"}},null,8,["text","translate-result","bg","api-params","text-color","a-color"])):(0,d.createCommentVNode)("",!0)])):(0,d.createCommentVNode)("",!0),(0,d.createElementVNode)("view",null,[i.item.medias.length>0?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:0,class:"m-l-def",style:{"margin-top":"10rpx"}},[(0,d.createVNode)(_,{"img-list":i.item.medias,"moment-id":i.item.moment_id},null,8,["img-list","moment-id"])])):(0,d.createCommentVNode)("",!0),i.isPublish?(0,d.createCommentVNode)("",!0):((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:1,class:"center-between view-action"},[(0,d.createElementVNode)("view",{style:{"flex-direction":"row"}},[(0,d.createElementVNode)("view",{onClick:t[3]||(t[3]=(...T)=>r.clickLike&&r.clickLike(...T)),class:"center view-like"},[(0,d.createVNode)(f,{ref:"refLike",onClick:r.clickLike,src:r.likeSrc,w:"32rpx",h:"32rpx"},null,8,["onClick","src"]),(0,d.createElementVNode)("u-text",{class:"text-count"},(0,d.toDisplayString)(i.item.like_count||""),1)]),(0,d.createElementVNode)("view",{onClick:t[4]||(t[4]=(...T)=>r.clickFlower&&r.clickFlower(...T)),class:"center view-flower"},[(0,d.createVNode)(f,{onClick:r.clickFlower,src:i.dyGift.icon,w:"30rpx",h:"32rpx"},null,8,["onClick","src"]),(0,d.createElementVNode)("u-text",{class:"text-count"},(0,d.toDisplayString)(i.item.gift_count||""),1)])]),r.videoCallShow?((0,d.openBlock)(),(0,d.createBlock)(f,{key:0,onClick:r.clickVideoChat,src:"s/pub/chat_video.png",w:"52rpx",h:"52rpx"},null,8,["onClick"])):n.isMy&&i.isAvatar?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:1,ref:"postBtn"},[(0,d.createVNode)(E,{text:r.$str("post"),onClick:r.clickPost,type:"line",style:{height:"64rpx","line-height":"64rpx","border-radius":"8rpx","font-size":"24rpx",padding:"0 44rpx"}},null,8,["text","onClick"])],512)):(0,d.createCommentVNode)("",!0)])),((0,d.openBlock)(!0),(0,d.createElementBlock)(d.Fragment,null,(0,d.renderList)(n.flowerList,(T,C)=>((0,d.openBlock)(),(0,d.createBlock)(f,{key:`flower${C}`,ref_for:!0,ref:`flower${T}`,src:i.dyGift.icon,w:"30rpx",h:"32rpx",style:{position:"absolute",left:"150rpx",bottom:"60rpx"}},null,8,["src"]))),128))]),i.item.receive_coins>0&&!i.isPublish?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:1,class:"center m-l-def",style:{"margin-bottom":"18rpx"}},[(0,d.createElementVNode)("u-text",{class:"get-text"},(0,d.toDisplayString)(r.$str("get"))+": ",1),(0,d.createVNode)(u,{type:"coin",text:"+"+i.item.receive_coins,style:{"font-size":"24rpx","line-height":"34rpx","margin-right":"4rpx"}},null,8,["text"]),(0,d.createVNode)(f,{src:"s/my/i_coins.png",w:"22rpx",h:"22rpx"})])):(0,d.createCommentVNode)("",!0)],4)]),i.showLine?((0,d.openBlock)(),(0,d.createBlock)(k,{key:1,style:(0,d.normalizeStyle)([{marginLeft:`${i.isDetail?0:28}rpx`},{"margin-top":"12rpx"}])},null,8,["style"])):(0,d.createCommentVNode)("",!0)]),_:1},8,["onClick"])}var Xn=M(iu,[["render",au],["styles",[eu]]]);var sf=J(ci());var nu={data(){return{useBg1_1:!0,id:0,dyItem:!1,dyGift:{},likeAvatarW:parseInt((getApp().globalData.window.width-uni.upx2px(126+44))/9),likeList:[],flowerList:[],lineW:getApp().globalData.window.width-uni.upx2px(30),paddingBottom:getApp().globalData.window.safeBottom+10}},methods:{$str:l,clickLikeAvatar(e){Y("/pages/main/user-home",{uid:this.likeList[e].uid})},clickFlowerItem(e){Y("/pages/main/user-home",{uid:this.flowerList[e].userInfo.uid})},dynamicAction(e){if(e.id==this.id)if(e.action==1)Ii();else if(e.action==2)this.dyItem.like_count+=1,this.likeList.push(e.user);else if(e.action==3)if(this.dyItem.gift_count+=1,this.dyItem.receive_coins+=this.dyGift.price,this.flowerList.length<=0)this.flowerList.push({uid:e.user.uid,send_count:1,userInfo:getApp().pubUser});else{let t=function(a){return a.uid==e.user.uid},i=this.flowerList.findIndex(t);i!=-1&&(this.flowerList[i].send_count+=1)}else e.action==4&&(this.dyItem.medias[e.index].check_status=1)},initView(e){G.request("/moment/detail",{moment_id:this.id},!1,!0).then(t=>{this.dyGift=t.data.gift;let i=t.data.moment_info;i.userInfo=t.data.user_info,i.publishTime=Qa(i.add_time),this.dyItem=JSON.parse(JSON.stringify(i)),this.likeList=[];for(let a=0,n=t.data.like_list.length;a<n;a++)this.likeList.push(t.data.user_infos[t.data.like_list[a].uid]);this.flowerList=[];for(let a=0,n=t.data.gift_list.length;a<n;a++){let r=t.data.gift_list[a];r.userInfo=t.data.user_infos[r.uid],this.flowerList.push(r)}typeof e=="function"&&e()},()=>{typeof e=="function"&&e()})}},onNavigationBarButtonTap(){Jn(this.id,this.dyItem.userInfo.uid)},onPullDownRefresh(){this.initView(()=>{uni.stopPullDownRefresh()})},onReady(){this.initNavBarRBtnType("menu",0)},onLoad(e){this.id=e.id,this.initView(),uni.$on("event_dynamic_action",this.dynamicAction)},onUnload(){uni.$off("event_dynamic_action",this.dynamicAction)}},ru={center:{"":{flexDirection:"row",alignItems:"center"}},"text-def":{"":{fontSize:"28rpx",marginLeft:"8rpx"}},"view-like":{"":{paddingTop:"30rpx"}},"view-list":{".view-like ":{flexDirection:"row",flexWrap:"wrap",marginTop:"20rpx",marginLeft:"30rpx",marginBottom:"10rpx"}},img:{".view-like ":{marginRight:"14rpx",marginBottom:"20rpx"}},"view-flower":{"":{paddingTop:"30rpx"}},"view-item":{".view-flower ":{paddingTop:"20rpx",paddingRight:"30rpx",paddingBottom:"20rpx",paddingLeft:"30rpx",flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},"view-user":{".view-flower ":{flexDirection:"column",justifyContent:"space-between",height:"72rpx",marginLeft:"20rpx"}},text:{".view-flower ":{fontSize:"20rpx"}},"line-def":{".view-flower ":{position:"absolute",bottom:0}}},su={mixins:[jn,vn,nu],components:{CallEvaluate:ji,DynamicItem:Xn,MText:Ye,MLine:nt}};function lu(e,t,i,a,n,r){let s=F((0,D.resolveDynamicComponent)("g-page-meta"),Cn),c=(0,D.resolveComponent)("dynamic-item"),o=F((0,D.resolveDynamicComponent)("l-img"),H),u=(0,D.resolveComponent)("m-text"),f=(0,D.resolveComponent)("m-line"),h=F((0,D.resolveDynamicComponent)("u-base-info"),Ve),_=F((0,D.resolveDynamicComponent)("notice-view"),Nn),E=F((0,D.resolveDynamicComponent)("msg-notify"),Bn),k=F((0,D.resolveDynamicComponent)("call-evaluate"),ji);return(0,D.openBlock)(),(0,D.createElementBlock)("scroll-view",{scrollY:!0,showScrollbar:!0,enableBackToTop:!0,bubble:"true",style:{flexDirection:"column"}},[(0,D.createVNode)(s,{useBg1_1:e.useBg1_1},null,8,["useBg1_1"]),(0,D.createElementVNode)("view",{class:"view-dynamic",style:(0,D.normalizeStyle)({paddingBottom:`${e.paddingBottom}px`})},[e.dyItem?((0,D.openBlock)(),(0,D.createBlock)(c,{key:0,item:e.dyItem,dyGift:e.dyGift,isDetail:!0},null,8,["item","dyGift"])):(0,D.createCommentVNode)("",!0),e.likeList.length>0?((0,D.openBlock)(),(0,D.createElementBlock)("view",{key:1,class:"view-like"},[(0,D.createElementVNode)("view",{class:"center",style:{"margin-left":"30rpx"}},[(0,D.createVNode)(o,{src:"s/dynamic/love_s.png",w:"32rpx",h:"32rpx"}),(0,D.createVNode)(u,{type:"title",text:`${e.$str("liked")} (${e.likeList.length})`,class:"text-def"},null,8,["text"])]),(0,D.createElementVNode)("view",{class:"view-list"},[((0,D.openBlock)(!0),(0,D.createElementBlock)(D.Fragment,null,(0,D.renderList)(e.likeList,(B,T)=>((0,D.openBlock)(),(0,D.createBlock)(o,{key:`a${T}`,onClick:C=>e.clickLikeAvatar(T),class:"img",src:B.small_avatar,w:`${e.likeAvatarW}px`,h:`${e.likeAvatarW}px`,radius:`${e.likeAvatarW/2}px`},null,8,["onClick","src","w","h","radius"]))),128))]),(0,D.createVNode)(f)])):(0,D.createCommentVNode)("",!0),e.flowerList.length>0?((0,D.openBlock)(),(0,D.createElementBlock)("view",{key:2,class:"view-flower"},[(0,D.createElementVNode)("view",{class:"center",style:{"margin-left":"30rpx"}},[(0,D.createVNode)(o,{src:e.dyGift.icon,w:"28rpx",h:"30rpx"},null,8,["src"]),(0,D.createVNode)(u,{type:"title",text:`${e.$str("received")} (${e.dyItem.gift_count})`,class:"text-def"},null,8,["text"])]),((0,D.openBlock)(!0),(0,D.createElementBlock)(D.Fragment,null,(0,D.renderList)(e.flowerList,(B,T)=>((0,D.openBlock)(),(0,D.createElementBlock)("view",{key:`b${T}`,onClick:C=>e.clickFlowerItem(T),class:"view-item"},[(0,D.createElementVNode)("view",{style:{"flex-direction":"row"}},[(0,D.createVNode)(o,{src:B.userInfo.small_avatar,w:"72rpx",h:"72rpx",radius:"12rpx"},null,8,["src"]),(0,D.createElementVNode)("view",{class:"view-user"},[(0,D.createVNode)(h,{info:B.userInfo,fw:"600"},null,8,["info"]),(0,D.createVNode)(u,{type:"desc",text:"Sent you",class:"text"})])]),(0,D.createElementVNode)("view",{class:"center"},[(0,D.createVNode)(o,{src:e.dyGift.icon,w:"34rpx",h:"40rpx"},null,8,["src"]),(0,D.createVNode)(u,{type:"title",text:`x${B.send_count}`,class:"text-def"},null,8,["text"])]),(0,D.createVNode)(f,{class:"line-def",style:(0,D.normalizeStyle)({width:`${e.lineW}px`})},null,8,["style"])],8,["onClick"]))),128))])):(0,D.createCommentVNode)("",!0),(0,D.createVNode)(_,{id:"/pagesDynamic/detail"}),(0,D.createVNode)(E,{id:"/pagesDynamic/detail"}),(0,D.createVNode)(k,{id:"/pagesDynamic/detail"})],4)])}var ni=M(su,[["render",lu],["styles",[ru]]]);var Ki=plus.webview.currentWebview();if(Ki){let e=parseInt(Ki.id),t="pagesDynamic/detail",i={};try{i=JSON.parse(Ki.__query__)}catch(n){}ni.mpType="page";let a=Vue.createPageApp(ni,{$store:getApp({allowDefault:!0}).$store,__pageId:e,__pagePath:t,__pageQuery:i});a.provide("__globalStyles",Vue.useCssStyles([...__uniConfig.styles,...ni.styles||[]])),a.mount("#root")}})();
/*!
  * @intlify/shared v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/message-resolver v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/runtime v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/message-compiler v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/core-base v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * vue-i18n v9.1.9
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */
