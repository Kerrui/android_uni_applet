"use weex:vue";

if (typeof Promise !== 'undefined' && !Promise.prototype.finally) {
  Promise.prototype.finally = function(callback) {
    const promise = this.constructor
    return this.then(
      value => promise.resolve(callback()).then(() => value),
      reason => promise.resolve(callback()).then(() => {
        throw reason
      })
    )
  }
};

if (typeof uni !== 'undefined' && uni && uni.requireGlobal) {
  const global = uni.requireGlobal()
  ArrayBuffer = global.ArrayBuffer
  Int8Array = global.Int8Array
  Uint8Array = global.Uint8Array
  Uint8ClampedArray = global.Uint8ClampedArray
  Int16Array = global.Int16Array
  Uint16Array = global.Uint16Array
  Int32Array = global.Int32Array
  Uint32Array = global.Uint32Array
  Float32Array = global.Float32Array
  Float64Array = global.Float64Array
  BigInt64Array = global.BigInt64Array
  BigUint64Array = global.BigUint64Array
};


(()=>{var $s=Object.create;var Ki=Object.defineProperty,Js=Object.defineProperties,qs=Object.getOwnPropertyDescriptor,Zs=Object.getOwnPropertyDescriptors,Xs=Object.getOwnPropertyNames,Jn=Object.getOwnPropertySymbols,Qs=Object.getPrototypeOf,Zn=Object.prototype.hasOwnProperty,eo=Object.prototype.propertyIsEnumerable;var qn=(e,t,i)=>t in e?Ki(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,$i=(e,t)=>{for(var i in t||(t={}))Zn.call(t,i)&&qn(e,i,t[i]);if(Jn)for(var i of Jn(t))eo.call(t,i)&&qn(e,i,t[i]);return e},Xn=(e,t)=>Js(e,Zs(t));var Qn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var to=(e,t,i,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Xs(t))!Zn.call(e,r)&&r!==i&&Ki(e,r,{get:()=>t[r],enumerable:!(a=qs(t,r))||a.enumerable});return e};var q=(e,t,i)=>(i=e!=null?$s(Qs(e)):{},to(t||!e||!e.__esModule?Ki(i,"default",{value:e,enumerable:!0}):i,e));var di=(e,t,i)=>new Promise((a,r)=>{var n=u=>{try{c(i.next(u))}catch(p){r(p)}},s=u=>{try{c(i.throw(u))}catch(p){r(p)}},c=u=>u.done?a(u.value):Promise.resolve(u.value).then(n,s);c((i=i.apply(e,t)).next())});var Z=Qn((Vf,er)=>{er.exports=Vue});var Ji=Qn((zf,tr)=>{tr.exports=uni.Vuex});var he=q(Z());var G=q(Z()),Cr=q(Ji());var io=e=>typeof e=="string",no="onResize";function Ee(e){return weex.requireModule(e)}function J(e,t,...i){uni.__log__?uni.__log__(e,t,...i):console[e].apply(console,[...i,t])}function S(e,t){return io(e)?t:e}var ro=e=>(t,i=(0,G.getCurrentInstance)())=>{!G.isInSSRComponentSetup&&(0,G.injectHook)(e,t,i)},Tr=ro(no),ao="dev",Dr,Lr,Ir,Er,Fr;Dr="https://ztest1.candychat.link",Er="https://mtest2.candychat.link",Fr="https://atest3.267girl.com",Lr="https://pic2.candychat.link/",Ir="https://pic3.candychat.link/";var so={wv:"13.2.0",ENV:ao,apiHost:Dr,ossPath:Lr,pApiHost:Er,oApiHost:Fr,ossPicPath:Ir,zT:3,appId:plus.runtime.appid,appV:parseInt(plus.runtime.version.split(".").join("")),OSS_PATH_V:1,OSS_PIC_PATH_V:1,API_HOST_V:1,isAndroid:plus.os.name=="Android",PHOTO:1,VIDEO:2,VOICE:3,TXT:4,SYSTEM_ID:1e7,M_TEXT:1,M_VOICE:2,M_IMG:3,M_GIFT:5,M_NOTICE:6,M_CALL:8,M_RECOMMEND_USER:11,M_RECOMMEND_CLUB:12,M_VIDEO:18,M_GIFT_ASK:21,M_NOTICE_SYS:22,M_EXPRESSION:23,M_LETTER:24,M_PAID_PHOTO:25,M_PAID_VIDEO:26,M_MATCH_SUCCESS:27,M_N_DEF:100,M_N_AUDIT:103,M_N_VIP:104,M_N_RECHARGE:105,M_N_CLUB_AUDIT_REJECT:106,M_N_CLUB_AUDIT:107,M_N_GREETING_AUDIT:115,M_N_SYS_NOTICE:116,M_N_CALL:117,M_N_COOPERATE:118,M_N_WITHDRAW:119,M_N_REPORT_AUDIT:120,M_N_IMG:121,M_N_PRIVACY_CALL:122,M_N_WITHDRAW_NOTICE:123,M_N_WITH_MEDIA:124,M_N_MONITOR:202,M_C_RECHARGE:1001,M_C_CALL_TEXT_AUDIO:1002,M_CHAT_PRI:1,M_CHAT_CLUB:2,M_CHAT_ASS:3,M_CHAT_NOTICE:4,M_CHAT_NOTIFY:5,M_CHAT_CLUB_NOTICE:6,PAY_TYPE_SUCCESS:0,PAY_TYPE_FAIL:1,PAY_TYPE_CANCEL:2,PAY_TYPE_NOT_EXIST:3,PAY_TYPE_NOT_ALLOW:4,PAY_TYPE_ERROR:5,MATCH_PRICE:10},T=so;var Ft={FIND:0,USER:1,MSG:2,MY:3},$t={FIND:"/pages/user/index",MSG:"/pages/msg/index",CALL:"/pages/call-history/index",USER:"/pages/user/index",MY:"/pages/my/index"};var re={CREATE:1,JOIN:2,EDIT_NAME:3,MUTE_ALL_MEMBER:4,REMOVE:5,QUIT:6,DISSOLUTION:7,MUTE_MEMBER:8,MUTE_SEND_FAIL:9,INVITE_JOIN:10,SET_FOUNDER:11,SET_MANAGER:12,YOUR_GIFT_RETURN:13,GIFT_HAS_SIGNED:14,SIGN_GIFT:15,SIGN_GIFT_FAIL:16,YOUR_GIFT_SIGNED:17,ACTION_GIFT:18,GIFT_NO_REPLY_RETURN:19,GIFT_NO_ROB_RETURN:20,YOU_GIFT_ROB_OVER:21,GIFT_NO_SIGN_RETURN:22,FIRST_MSG_FEE:23,INVITE_FAILED:24,SIGNED_FOR:25},pn={NOT_REPLY:1,NOT_CHEAT_USER:2},oo={en:{title:"English",language:"en",code:"en-US"},es:{title:"espa\xF1ol",language:"es",code:"es-ES"},ar:{title:"\u0639\u0631\u0628\u064A",language:"ar",code:"ar-SA"},vi:{title:"Ti\u1EBFng Vi\u1EC7t",language:"vi",code:"vi-VN"},tr:{title:"T\xFCrk\xE7e",language:"tr",code:"tr-TR"},pt:{title:"Portugu\xEAs",language:"pt",code:"pt-PT"}},Or={MATCH:1,ENABLE_CAMERA:2,ENABLE_MICROPHONE:3,MATCH_GENDER:4,FREE_LAUNCH:5,FREE_EXPLORE:6,MOMENTS:7,PRIVACY_RANK:8,PRIVACY_GIFT:9,PRIVACY_BALANCE:10,PRIVACY_LEVEL:11,PRIVACY_VISIT:12,PRIVACY_PROFILE:13,PRIVACY_CONTACT:14,PRIVACY_HIDE_ONLINE:15,PRIVACY_ONLINE_NOTICE:16,BANNER_PRIVACY_POPULAR:17,BANNER_GIVE_COINS:19,BANNER_FILTER_LIST:20,BANNER_MEDIA_DESTRUCT:21,BANNER_CLUB_ADVANCED:22,BOOST_FREE:23,ENABLE_REMOTE_AUDIO:24},dn={ACCOUNT:0,LOGIN:1,MESSAGE:2,RECHARGE:6,MSG_SYSTEM:7,DEVICE:8,IP:9,CALL:10,WITHDRAW:11,JOIN_CLUB:14,CREATE_CLUB:15,COACH_LIST:16,SAY_HELLO_MSG:17,GIFT:18,MATCH:19,MOMENT:20,TASK:21,GAME:22,INVITE:23,CERTIFICATION:24,CONSUME:25,NOTIFICATION:26,RANKING_LIST:27};var ir={SUPER:1,KEFU:2},vi={GIFT:1,COIN:2,BOX:3};var Rr={MOMENT:1,SIGN:2,CHECK_SIGN:3,MESSAGE:4,CHECK_NICKNAME:5,CALL:6,CLUB_INTRO:7,CHECK_CLUB_NAME:8,CHECK_CLUB_INTRO:9,REPORT:10,FEEDBACK:11,FEE_ALBUM:12,GREET:13,SENSITIVE:14,MSG_PRI:15,MSG_CLUB:16,MSG_SYS:17,MSG_KEFU:18,GAME_MSG:19,CHECK_CLUB_NAME_V1:20,CHECK_CLUB_INTRO_V1:21,CHECK_CLUB_REASON:22,CLUB_NAME:23,CLUB_APPLICATION_REASON:24,BANNED_REASON:25,WARNING_REASON:26},fn={ADMIN_DELETE:-2,DELETE:-1,UNDER_REVIEW:0,PASSED:1,REJECTED:2};var Nr={USER:1,STREAMER:3,AGENT:5};var lo={DISBAND:1,CHECK_RESULT:2},fi={ONLINE:1,CHATTING:2,REST:3};var co=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",tt=e=>co?Symbol(e):e,uo=(e,t,i)=>po({l:e,k:t,s:i}),po=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Ce=e=>typeof e=="number"&&isFinite(e),fo=e=>mn(e)==="[object Date]",bi=e=>mn(e)==="[object RegExp]",Si=e=>X(e)&&Object.keys(e).length===0;function mo(e,t){typeof console!="undefined"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}var Ie=Object.assign;function nr(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}var ho=Object.prototype.hasOwnProperty;function Mr(e,t){return ho.call(e,t)}var ke=Array.isArray,Te=e=>typeof e=="function",B=e=>typeof e=="string",de=e=>typeof e=="boolean",De=e=>e!==null&&typeof e=="object",Pr=Object.prototype.toString,mn=e=>Pr.call(e),X=e=>mn(e)==="[object Object]",go=e=>e==null?"":ke(e)||X(e)&&e.toString===Pr?JSON.stringify(e,null,2):String(e);var _o=Object.prototype.hasOwnProperty;function yo(e,t){return _o.call(e,t)}var yi=e=>e!==null&&typeof e=="object",it=[];it[0]={w:[0],i:[3,0],["["]:[4],o:[7]};it[1]={w:[1],["."]:[2],["["]:[4],o:[7]};it[2]={w:[2],i:[3,0],[0]:[3,0]};it[3]={i:[3,0],[0]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};it[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};it[5]={["'"]:[4,0],o:8,l:[5,0]};it[6]={['"']:[4,0],o:8,l:[6,0]};var bo=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function wo(e){return bo.test(e)}function xo(e){let t=e.charCodeAt(0),i=e.charCodeAt(e.length-1);return t===i&&(t===34||t===39)?e.slice(1,-1):e}function ko(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Ao(e){let t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:wo(t)?xo(t):"*"+t}function vo(e){let t=[],i=-1,a=0,r=0,n,s,c,u,p,f,m,_=[];_[0]=()=>{s===void 0?s=c:s+=c},_[1]=()=>{s!==void 0&&(t.push(s),s=void 0)},_[2]=()=>{_[0](),r++},_[3]=()=>{if(r>0)r--,a=4,_[0]();else{if(r=0,s===void 0||(s=Ao(s),s===!1))return!1;_[1]()}};function F(){let x=e[i+1];if(a===5&&x==="'"||a===6&&x==='"')return i++,c="\\"+x,_[0](),!0}for(;a!==null;)if(i++,n=e[i],!(n==="\\"&&F())){if(u=ko(n),m=it[a],p=m[u]||m.l||8,p===8||(a=p[0],p[1]!==void 0&&(f=_[p[1]],f&&(c=n,f()===!1))))return;if(a===7)return t}}var rr=new Map;function wi(e,t){if(!yi(e))return null;let i=rr.get(t);if(i||(i=vo(t),i&&rr.set(t,i)),!i)return null;let a=i.length,r=e,n=0;for(;n<a;){let s=r[i[n]];if(s===void 0)return null;r=s,n++}return r}function en(e){if(!yi(e))return e;for(let t in e)if(yo(e,t))if(!t.includes("."))yi(e[t])&&en(e[t]);else{let i=t.split("."),a=i.length-1,r=e;for(let n=0;n<a;n++)i[n]in r||(r[i[n]]={}),r=r[i[n]];r[i[a]]=e[t],delete e[t],yi(r[i[a]])&&en(r[i[a]])}return e}var So=e=>e,Co=e=>"",To="text",Do=e=>e.length===0?"":e.join(""),Lo=go;function ar(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function Io(e){let t=Ce(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(Ce(e.named.count)||Ce(e.named.n))?Ce(e.named.count)?e.named.count:Ce(e.named.n)?e.named.n:t:t}function Eo(e,t){t.count||(t.count=e),t.n||(t.n=e)}function Fo(e={}){let t=e.locale,i=Io(e),a=De(e.pluralRules)&&B(t)&&Te(e.pluralRules[t])?e.pluralRules[t]:ar,r=De(e.pluralRules)&&B(t)&&Te(e.pluralRules[t])?ar:void 0,n=v=>v[a(i,v.length,r)],s=e.list||[],c=v=>s[v],u=e.named||{};Ce(e.pluralIndex)&&Eo(i,u);let p=v=>u[v];function f(v){let O=Te(e.messages)?e.messages(v):De(e.messages)?e.messages[v]:!1;return O||(e.parent?e.parent.message(v):Co)}let m=v=>e.modifiers?e.modifiers[v]:So,_=X(e.processor)&&Te(e.processor.normalize)?e.processor.normalize:Do,F=X(e.processor)&&Te(e.processor.interpolate)?e.processor.interpolate:Lo,x=X(e.processor)&&B(e.processor.type)?e.processor.type:To,M={list:c,named:p,plural:n,linked:(v,O)=>{let W=f(v)(M);return B(O)?m(O)(W):W},message:f,type:x,interpolate:F,normalize:_};return M}function Br(e,t,i={}){let{domain:a,messages:r,args:n}=i,s=e,c=new SyntaxError(String(s));return c.code=e,t&&(c.location=t),c.domain=a,c}var Oo="9.1.9",Ci=-1,sr="";function Ro(){return{upper:e=>B(e)?e.toUpperCase():e,lower:e=>B(e)?e.toLowerCase():e,capitalize:e=>B(e)?`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`:e}}var No,or=0;function Mo(e={}){let t=B(e.version)?e.version:Oo,i=B(e.locale)?e.locale:"en-US",a=ke(e.fallbackLocale)||X(e.fallbackLocale)||B(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:i,r=X(e.messages)?e.messages:{[i]:{}},n=X(e.datetimeFormats)?e.datetimeFormats:{[i]:{}},s=X(e.numberFormats)?e.numberFormats:{[i]:{}},c=Ie({},e.modifiers||{},Ro()),u=e.pluralRules||{},p=Te(e.missing)?e.missing:null,f=de(e.missingWarn)||bi(e.missingWarn)?e.missingWarn:!0,m=de(e.fallbackWarn)||bi(e.fallbackWarn)?e.fallbackWarn:!0,_=!!e.fallbackFormat,F=!!e.unresolving,x=Te(e.postTranslation)?e.postTranslation:null,M=X(e.processor)?e.processor:null,v=de(e.warnHtmlMessage)?e.warnHtmlMessage:!0,O=!!e.escapeParameter,W=Te(e.messageCompiler)?e.messageCompiler:No,z=Te(e.onWarn)?e.onWarn:mo,C=e,Y=De(C.__datetimeFormatters)?C.__datetimeFormatters:new Map,Le=De(C.__numberFormatters)?C.__numberFormatters:new Map,Ye=De(C.__meta)?C.__meta:{};return or++,{version:t,cid:or,locale:i,fallbackLocale:a,messages:r,datetimeFormats:n,numberFormats:s,modifiers:c,pluralRules:u,missing:p,missingWarn:f,fallbackWarn:m,fallbackFormat:_,unresolving:F,postTranslation:x,processor:M,warnHtmlMessage:v,escapeParameter:O,messageCompiler:W,onWarn:z,__datetimeFormatters:Y,__numberFormatters:Le,__meta:Ye}}function hn(e,t,i,a,r){let{missing:n,onWarn:s}=e;if(n!==null){let c=n(e,i,t,r);return B(c)?c:t}else return t}function ii(e,t,i){let a=e;a.__localeChainCache||(a.__localeChainCache=new Map);let r=a.__localeChainCache.get(i);if(!r){r=[];let n=[i];for(;ke(n);)n=lr(r,n,t);let s=ke(t)?t:X(t)?t.default?t.default:null:t;n=B(s)?[s]:s,ke(n)&&lr(r,n,!1),a.__localeChainCache.set(i,r)}return r}function lr(e,t,i){let a=!0;for(let r=0;r<t.length&&de(a);r++){let n=t[r];B(n)&&(a=Po(e,t[r],i))}return a}function Po(e,t,i){let a,r=t.split("-");do{let n=r.join("-");a=Bo(e,n,i),r.splice(-1,1)}while(r.length&&a===!0);return a}function Bo(e,t,i){let a=!1;if(!e.includes(t)&&(a=!0,t)){a=t[t.length-1]!=="!";let r=t.replace(/!/g,"");e.push(r),(ke(i)||X(i))&&i[r]&&(a=i[r])}return a}function Kt(e,t,i){let a=e;a.__localeChainCache=new Map,ii(e,i,t)}function It(e){return Br(e,null,void 0)}var cr=()=>"",bt=e=>Te(e);function ur(e,...t){let{fallbackFormat:i,postTranslation:a,unresolving:r,fallbackLocale:n,messages:s}=e,[c,u]=tn(...t),p=de(u.missingWarn)?u.missingWarn:e.missingWarn,f=de(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn,m=de(u.escapeParameter)?u.escapeParameter:e.escapeParameter,_=!!u.resolvedMessage,F=B(u.default)||de(u.default)?de(u.default)?c:u.default:i?c:"",x=i||F!=="",M=B(u.locale)?u.locale:e.locale;m&&Uo(u);let[v,O,W]=_?[c,M,s[M]||{}]:Ho(e,c,M,n,f,p),z=c;if(!_&&!(B(v)||bt(v))&&x&&(v=F,z=v),!_&&(!(B(v)||bt(v))||!B(O)))return r?Ci:c;let C=!1,Y=()=>{C=!0},Le=bt(v)?v:Ur(e,c,O,v,z,Y);if(C)return v;let Ye=jo(e,O,W,u),ue=Fo(Ye),Re=Wo(e,Le,ue);return a?a(Re):Re}function Uo(e){ke(e.list)?e.list=e.list.map(t=>B(t)?nr(t):t):De(e.named)&&Object.keys(e.named).forEach(t=>{B(e.named[t])&&(e.named[t]=nr(e.named[t]))})}function Ho(e,t,i,a,r,n){let{messages:s,onWarn:c}=e,u=ii(e,a,i),p={},f,m=null,_="translate";for(let F=0;F<u.length&&(f=u[F],p=s[f]||{},(m=wi(p,t))===null&&(m=p[t]),!(B(m)||Te(m)));F++){let x=hn(e,t,f,n,_);x!==t&&(m=x)}return[m,f,p]}function Ur(e,t,i,a,r,n){let{messageCompiler:s,warnHtmlMessage:c}=e;if(bt(a)){let p=a;return p.locale=p.locale||i,p.key=p.key||t,p}let u=s(a,Go(e,i,r,a,c,n));return u.locale=i,u.key=t,u.source=a,u}function Wo(e,t,i){return t(i)}function tn(...e){let[t,i,a]=e,r={};if(!B(t)&&!Ce(t)&&!bt(t))throw It(14);let n=Ce(t)?String(t):(bt(t),t);return Ce(i)?r.plural=i:B(i)?r.default=i:X(i)&&!Si(i)?r.named=i:ke(i)&&(r.list=i),Ce(a)?r.plural=a:B(a)?r.default=a:X(a)&&Ie(r,a),[n,r]}function Go(e,t,i,a,r,n){return{warnHtmlMessage:r,onError:s=>{throw n&&n(s),s},onCacheKey:s=>uo(t,i,s)}}function jo(e,t,i,a){let{modifiers:r,pluralRules:n}=e,c={locale:t,modifiers:r,pluralRules:n,messages:u=>{let p=wi(i,u);if(B(p)){let f=!1,_=Ur(e,u,t,p,u,()=>{f=!0});return f?cr:_}else return bt(p)?p:cr}};return e.processor&&(c.processor=e.processor),a.list&&(c.list=a.list),a.named&&(c.named=a.named),Ce(a.plural)&&(c.pluralIndex=a.plural),c}function pr(e,...t){let{datetimeFormats:i,unresolving:a,fallbackLocale:r,onWarn:n}=e,{__datetimeFormatters:s}=e,[c,u,p,f]=nn(...t),m=de(p.missingWarn)?p.missingWarn:e.missingWarn;de(p.fallbackWarn)?p.fallbackWarn:e.fallbackWarn;let _=!!p.part,F=B(p.locale)?p.locale:e.locale,x=ii(e,r,F);if(!B(c)||c==="")return new Intl.DateTimeFormat(F).format(u);let M={},v,O=null,W="datetime format";for(let Y=0;Y<x.length&&(v=x[Y],M=i[v]||{},O=M[c],!X(O));Y++)hn(e,c,v,m,W);if(!X(O)||!B(v))return a?Ci:c;let z=`${v}__${c}`;Si(f)||(z=`${z}__${JSON.stringify(f)}`);let C=s.get(z);return C||(C=new Intl.DateTimeFormat(v,Ie({},O,f)),s.set(z,C)),_?C.formatToParts(u):C.format(u)}function nn(...e){let[t,i,a,r]=e,n={},s={},c;if(B(t)){if(!/\d{4}-\d{2}-\d{2}(T.*)?/.test(t))throw It(16);c=new Date(t);try{c.toISOString()}catch(u){throw It(16)}}else if(fo(t)){if(isNaN(t.getTime()))throw It(15);c=t}else if(Ce(t))c=t;else throw It(14);return B(i)?n.key=i:X(i)&&(n=i),B(a)?n.locale=a:X(a)&&(s=a),X(r)&&(s=r),[n.key||"",c,n,s]}function dr(e,t,i){let a=e;for(let r in i){let n=`${t}__${r}`;a.__datetimeFormatters.has(n)&&a.__datetimeFormatters.delete(n)}}function fr(e,...t){let{numberFormats:i,unresolving:a,fallbackLocale:r,onWarn:n}=e,{__numberFormatters:s}=e,[c,u,p,f]=rn(...t),m=de(p.missingWarn)?p.missingWarn:e.missingWarn;de(p.fallbackWarn)?p.fallbackWarn:e.fallbackWarn;let _=!!p.part,F=B(p.locale)?p.locale:e.locale,x=ii(e,r,F);if(!B(c)||c==="")return new Intl.NumberFormat(F).format(u);let M={},v,O=null,W="number format";for(let Y=0;Y<x.length&&(v=x[Y],M=i[v]||{},O=M[c],!X(O));Y++)hn(e,c,v,m,W);if(!X(O)||!B(v))return a?Ci:c;let z=`${v}__${c}`;Si(f)||(z=`${z}__${JSON.stringify(f)}`);let C=s.get(z);return C||(C=new Intl.NumberFormat(v,Ie({},O,f)),s.set(z,C)),_?C.formatToParts(u):C.format(u)}function rn(...e){let[t,i,a,r]=e,n={},s={};if(!Ce(t))throw It(14);let c=t;return B(i)?n.key=i:X(i)&&(n=i),B(a)?n.locale=a:X(a)&&(s=a),X(r)&&(s=r),[n.key||"",c,n,s]}function mr(e,t,i){let a=e;for(let r in i){let n=`${t}__${r}`;a.__numberFormatters.has(n)&&a.__numberFormatters.delete(n)}}var Vo="9.1.9";function _t(e,...t){return Br(e,null,void 0)}var an=tt("__transrateVNode"),sn=tt("__datetimeParts"),on=tt("__numberParts");tt("__enableEmitter");tt("__disableEmitter");var zo=tt("__setPluralRules");tt("__intlifyMeta");var Hr=tt("__injectWithOption"),hr=0;function gr(e){return(t,i,a,r)=>e(i,a,(0,G.getCurrentInstance)()||void 0,r)}function Wr(e,t){let{messages:i,__i18n:a}=t,r=X(i)?i:ke(a)?{}:{[e]:{}};if(ke(a)&&a.forEach(({locale:n,resource:s})=>{n?(r[n]=r[n]||{},xi(s,r[n])):xi(s,r)}),t.flatJson)for(let n in r)Mr(r,n)&&en(r[n]);return r}var mi=e=>!De(e)||ke(e);function xi(e,t){if(mi(e)||mi(t))throw _t(20);for(let i in e)Mr(e,i)&&(mi(e[i])||mi(t[i])?t[i]=e[i]:xi(e[i],t[i]))}function Yo(e={}){let{__root:t}=e,i=t===void 0,a=de(e.inheritLocale)?e.inheritLocale:!0,r=(0,G.ref)(t&&a?t.locale.value:B(e.locale)?e.locale:"en-US"),n=(0,G.ref)(t&&a?t.fallbackLocale.value:B(e.fallbackLocale)||ke(e.fallbackLocale)||X(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:r.value),s=(0,G.ref)(Wr(r.value,e)),c=(0,G.ref)(X(e.datetimeFormats)?e.datetimeFormats:{[r.value]:{}}),u=(0,G.ref)(X(e.numberFormats)?e.numberFormats:{[r.value]:{}}),p=t?t.missingWarn:de(e.missingWarn)||bi(e.missingWarn)?e.missingWarn:!0,f=t?t.fallbackWarn:de(e.fallbackWarn)||bi(e.fallbackWarn)?e.fallbackWarn:!0,m=t?t.fallbackRoot:de(e.fallbackRoot)?e.fallbackRoot:!0,_=!!e.fallbackFormat,F=Te(e.missing)?e.missing:null,x=Te(e.missing)?gr(e.missing):null,M=Te(e.postTranslation)?e.postTranslation:null,v=de(e.warnHtmlMessage)?e.warnHtmlMessage:!0,O=!!e.escapeParameter,W=t?t.modifiers:X(e.modifiers)?e.modifiers:{},z=e.pluralRules||t&&t.pluralRules,C;function Y(){return Mo({version:Vo,locale:r.value,fallbackLocale:n.value,messages:s.value,messageCompiler:function(I){return Ne=>Ne.normalize([I])},datetimeFormats:c.value,numberFormats:u.value,modifiers:W,pluralRules:z,missing:x===null?void 0:x,missingWarn:p,fallbackWarn:f,fallbackFormat:_,unresolving:!0,postTranslation:M===null?void 0:M,warnHtmlMessage:v,escapeParameter:O,__datetimeFormatters:X(C)?C.__datetimeFormatters:void 0,__numberFormatters:X(C)?C.__numberFormatters:void 0,__v_emitter:X(C)?C.__v_emitter:void 0,__meta:{framework:"vue"}})}C=Y(),Kt(C,r.value,n.value);function Le(){return[r.value,n.value,s.value,c.value,u.value]}let Ye=(0,G.computed)({get:()=>r.value,set:w=>{r.value=w,C.locale=r.value}}),ue=(0,G.computed)({get:()=>n.value,set:w=>{n.value=w,C.fallbackLocale=n.value,Kt(C,r.value,w)}}),Re=(0,G.computed)(()=>s.value),je=(0,G.computed)(()=>c.value),li=(0,G.computed)(()=>u.value);function ci(){return Te(M)?M:null}function ui(w){M=w,C.postTranslation=w}function zi(){return F}function Cs(w){w!==null&&(x=gr(w)),F=w,C.missing=x}function Tt(w,I,Ne,Se,Yi,pi){Le();let Yt;if(Yt=w(C),Ce(Yt)&&Yt===Ci){let[Ks,Gf]=I();return t&&m?Se(t):Yi(Ks)}else{if(pi(Yt))return Yt;throw _t(14)}}function Kn(...w){return Tt(I=>ur(I,...w),()=>tn(...w),"translate",I=>I.t(...w),I=>I,I=>B(I))}function Ts(...w){let[I,Ne,Se]=w;if(Se&&!De(Se))throw _t(15);return Kn(I,Ne,Ie({resolvedMessage:!0},Se||{}))}function Ds(...w){return Tt(I=>pr(I,...w),()=>nn(...w),"datetime format",I=>I.d(...w),()=>sr,I=>B(I))}function Ls(...w){return Tt(I=>fr(I,...w),()=>rn(...w),"number format",I=>I.n(...w),()=>sr,I=>B(I))}function Is(w){return w.map(I=>B(I)?(0,G.createVNode)(G.Text,null,I,0):I)}let Es={normalize:Is,interpolate:w=>w,type:"vnode"};function Fs(...w){return Tt(I=>{let Ne,Se=I;try{Se.processor=Es,Ne=ur(Se,...w)}finally{Se.processor=null}return Ne},()=>tn(...w),"translate",I=>I[an](...w),I=>[(0,G.createVNode)(G.Text,null,I,0)],I=>ke(I))}function Os(...w){return Tt(I=>fr(I,...w),()=>rn(...w),"number format",I=>I[on](...w),()=>[],I=>B(I)||ke(I))}function Rs(...w){return Tt(I=>pr(I,...w),()=>nn(...w),"datetime format",I=>I[sn](...w),()=>[],I=>B(I)||ke(I))}function Ns(w){z=w,C.pluralRules=z}function Ms(w,I){let Ne=B(I)?I:r.value,Se=$n(Ne);return wi(Se,w)!==null}function Ps(w){let I=null,Ne=ii(C,n.value,r.value);for(let Se=0;Se<Ne.length;Se++){let Yi=s.value[Ne[Se]]||{},pi=wi(Yi,w);if(pi!=null){I=pi;break}}return I}function Bs(w){let I=Ps(w);return I!=null?I:t?t.tm(w)||{}:{}}function $n(w){return s.value[w]||{}}function Us(w,I){s.value[w]=I,C.messages=s.value}function Hs(w,I){s.value[w]=s.value[w]||{},xi(I,s.value[w]),C.messages=s.value}function Ws(w){return c.value[w]||{}}function Gs(w,I){c.value[w]=I,C.datetimeFormats=c.value,dr(C,w,I)}function js(w,I){c.value[w]=Ie(c.value[w]||{},I),C.datetimeFormats=c.value,dr(C,w,I)}function Vs(w){return u.value[w]||{}}function zs(w,I){u.value[w]=I,C.numberFormats=u.value,mr(C,w,I)}function Ys(w,I){u.value[w]=Ie(u.value[w]||{},I),C.numberFormats=u.value,mr(C,w,I)}return hr++,t&&((0,G.watch)(t.locale,w=>{a&&(r.value=w,C.locale=w,Kt(C,r.value,n.value))}),(0,G.watch)(t.fallbackLocale,w=>{a&&(n.value=w,C.fallbackLocale=w,Kt(C,r.value,n.value))})),{id:hr,locale:Ye,fallbackLocale:ue,get inheritLocale(){return a},set inheritLocale(w){a=w,w&&t&&(r.value=t.locale.value,n.value=t.fallbackLocale.value,Kt(C,r.value,n.value))},get availableLocales(){return Object.keys(s.value).sort()},messages:Re,datetimeFormats:je,numberFormats:li,get modifiers(){return W},get pluralRules(){return z||{}},get isGlobal(){return i},get missingWarn(){return p},set missingWarn(w){p=w,C.missingWarn=p},get fallbackWarn(){return f},set fallbackWarn(w){f=w,C.fallbackWarn=f},get fallbackRoot(){return m},set fallbackRoot(w){m=w},get fallbackFormat(){return _},set fallbackFormat(w){_=w,C.fallbackFormat=_},get warnHtmlMessage(){return v},set warnHtmlMessage(w){v=w,C.warnHtmlMessage=w},get escapeParameter(){return O},set escapeParameter(w){O=w,C.escapeParameter=w},t:Kn,rt:Ts,d:Ds,n:Ls,te:Ms,tm:Bs,getLocaleMessage:$n,setLocaleMessage:Us,mergeLocaleMessage:Hs,getDateTimeFormat:Ws,setDateTimeFormat:Gs,mergeDateTimeFormat:js,getNumberFormat:Vs,setNumberFormat:zs,mergeNumberFormat:Ys,getPostTranslationHandler:ci,setPostTranslationHandler:ui,getMissingHandler:zi,setMissingHandler:Cs,[an]:Fs,[on]:Os,[sn]:Rs,[zo]:Ns,[Hr]:e.__injectWithOption}}var gn={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};Ie({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>Ce(e)||!isNaN(e)}},gn);function Ko({slots:e},t){return t.length===1&&t[0]==="default"?e.default?e.default():[]:t.reduce((i,a)=>{let r=e[a];return r&&(i[a]=r()),i},{})}function Gr(e,t,i,a){let{slots:r,attrs:n}=t;return()=>{let s={part:!0},c={};e.locale&&(s.locale=e.locale),B(e.format)?s.key=e.format:De(e.format)&&(B(e.format.key)&&(s.key=e.format.key),c=Object.keys(e.format).reduce((m,_)=>i.includes(_)?Ie({},m,{[_]:e.format[_]}):m,{}));let u=a(e.value,s,c),p=[s.key];ke(u)?p=u.map((m,_)=>{let F=r[m.type];return F?F({[m.type]:m.value,index:_,parts:u}):[m.value]}):B(u)&&(p=[u]);let f=Ie({},n);return B(e.tag)?(0,G.h)(e.tag,f,p):De(e.tag)?(0,G.h)(e.tag,f,p):(0,G.h)(G.Fragment,f,p)}}var $o=["localeMatcher","style","unit","unitDisplay","currency","currencyDisplay","useGrouping","numberingSystem","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","notation","formatMatcher"];Ie({value:{type:Number,required:!0},format:{type:[String,Object]}},gn);var Jo=["dateStyle","timeStyle","fractionalSecondDigits","calendar","dayPeriod","numberingSystem","localeMatcher","timeZone","hour12","hourCycle","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"];Ie({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},gn);function _n(e={}){let t=(0,G.getCurrentInstance)();if(t==null)throw _t(16);if(!t.appContext.app.__VUE_I18N_SYMBOL__)throw _t(17);let i=(0,G.inject)(t.appContext.app.__VUE_I18N_SYMBOL__);if(!i)throw _t(22);let a=i.mode==="composition"?i.global:i.global.__composer,r=Si(e)?"__i18n"in t.type?"local":"global":e.useScope?e.useScope:"local";if(r==="global"){let c=De(e.messages)?e.messages:{};"__i18nGlobal"in t.type&&(c=Wr(a.locale.value,{messages:c,__i18n:t.type.__i18nGlobal}));let u=Object.keys(c);if(u.length&&u.forEach(p=>{a.mergeLocaleMessage(p,c[p])}),De(e.datetimeFormats)){let p=Object.keys(e.datetimeFormats);p.length&&p.forEach(f=>{a.mergeDateTimeFormat(f,e.datetimeFormats[f])})}if(De(e.numberFormats)){let p=Object.keys(e.numberFormats);p.length&&p.forEach(f=>{a.mergeNumberFormat(f,e.numberFormats[f])})}return a}if(r==="parent"){let c=qo(i,t,e.__useComponent);return c==null&&(c=a),c}if(i.mode==="legacy")throw _t(18);let n=i,s=n.__getInstance(t);if(s==null){let c=t.type,u=Ie({},e);c.__i18n&&(u.__i18n=c.__i18n),a&&(u.__root=a),s=Yo(u),Zo(n,t),n.__setInstance(t,s)}return s}function qo(e,t,i=!1){let a=null,r=t.root,n=t.parent;for(;n!=null;){let s=e;if(e.mode==="composition")a=s.__getInstance(n);else{let c=s.__getInstance(n);c!=null&&(a=c.__composer),i&&a&&!a[Hr]&&(a=null)}if(a!=null||r===n)break;n=n.parent}return a}function Zo(e,t,i){(0,G.onMounted)(()=>{},t),(0,G.onUnmounted)(()=>{e.__deleteInstance(t)},t)}function Q(e,t,i=!1,a=null){let r=yn(e,i);a?uni.setStorage({key:r,data:t,success:a}):uni.setStorageSync(r,t)}function K(e,t=!1,i=null){let a=yn(e,t);if(i)uni.getStorage({key:a,success:i});else return uni.getStorageSync(a)}function Ke(e,t=!1){uni.removeStorage({key:yn(e,t)})}function yn(e,t){return t?`_a_${e}`:`m_${e}`}function Xo(e,t){let i=t;return typeof t=="undefined"&&(i=getApp().globalData.uid),K(e+"_"+i)}var Qt={NONE:0,WAITING:1,GAME:2,WEEK_UP:3,JUDGE_ROOM:100};var wt={VIDEO:1,VOICE:2},bn={CALL:1,ANSWER:2,MATCH_ACCEPT:3,MATCH_CONNECT:4},jr={CALL:1,MATCH:2},Vr={DEF:0,NOTIFY:1,CONNECT:2},xt={HOME:0,MSG:1,MATCH:2,RECOMMEND:3,MATCH_NOTIFY:4,QUALITY:5,NO_COINS_DIALOG:6,CALL_LOG:7,GAME_MATCH:8,GAME_MATCH_NOTIFY:9,RANKING_LIST:10,PRIVACY_SET_MSG:11,MOMENT:12,CALlING:98,FREE_MIN_POP:99,ANSWER_ERROR:100,END_PAGE:101,APP_NOTIFY:102};function Fe(e){return e==1?l("himLower"):l("herLower")}function zr(e){return e>=12?`1 ${l("yearLower")}`:`${e} ${Qo(e)}`}function Qo(e){return e>1?l("monthsLower"):l("monthLower")}function Yr(e){return e>1?l("weeksLower"):l("weekLower")}function Kr(e){return e>1?l("daysLower"):l("dayLower")}function el(e){return e>1?l("hoursLower"):l("hourLower")}function $r(e){return e>1?l("minsLower"):l("minLower")}function Jr(e){return e==wt.VIDEO?l("videoChat"):l("audioChat")}function Ti(e){return e==1?l("videoChatLower"):l("audioChatLower")}function Di(e){return`${e} ${e>1?l("coinsLower"):l("coinLower")}`}function qr(e){return e==1?l("himselfLower"):l("herselfLower")}function ni(e){return e+" "+el(e)}function y(e){return typeof e=="undefined"||e==null||e==""}function tl(e){return e===""||e===null}var hi=new Promise(()=>{});function il(e,t,i=""){if(y(e))return"";let a=[];for(let r in e)a.push(r+"="+e[r]);return i+a.join(t)}function Jt(e){return typeof e=="number"?e+"":typeof e=="boolean"?e?"true":"false":y(e)?"null":typeof e=="object"?JSON.stringify(e):e}function yt(e){return e.replace(new RegExp("'","gm"),"\uFF07")}function Zr(e){return e.replace(new RegExp("\uFF07","gm"),"'")}function gi(e,t){let i={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in i)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,RegExp.$1.length==1?i[a]:("00"+i[a]).substr((""+i[a]).length)));return t}function Li(e,t=18){if(y(e))return"";let i=new Date(Date.parse(e.replace(/-/g,"/"))),a=Math.ceil((new Date().getTime()-i)/31536e6),r=a>1?a-1:a;return r<t?t:r}function nl(e){return e=parseInt(e),e.toString().length==16?e=Math.round(e/1e3):e<1e10&&(e=e*1e3),e}function gt(e){return e<10?"0"+e:e}function Xr(e,t=!1,i=!1,a=!0){e<1e10&&(e=e*1e3);var r=new Date(e),n=r.getFullYear(),s=r.getMonth()+1,c=r.getDate(),u=r.getHours(),p=r.getMinutes(),f=r.getSeconds();let m=t?`${n}-`:"";if(i)return m+gt(s)+"-"+gt(c);{let _=a?":"+gt(f):"";return m+gt(s)+"-"+gt(c)+" "+gt(u)+":"+gt(p)+_}}function Ii(e,t=!0,i=!1,a=""){if(y(e))return"";e=nl(e);let r;a==""?r=new Date:r=rl(a);let n=new Date(e),s=r.getFullYear(),c=r.getMonth()+1,u=r.getDate(),p=n.getFullYear(),f=n.getMonth()+1,m=n.getDate(),_="",F=t?" "+gi(n,"hh:mm"):"";if(s==p){let O=r.getTime()-e;if(c==f&&u==m)O<60*1e3&&!t?_=l("just"):_=`${l("today")} ${gi(n,"hh:mm")}`;else{let W=new Date;W.setDate(W.getDate()-1);let z=new Date;if(z.setDate(z.getDate()-2),f==W.getMonth()+1&&m==W.getDate())_=`${l("yesterday")} ${F}`;else{var x=O/36e5;if(x<=7*24){let C=new Array(7),Y=i?"Short":"";C[0]=l("week.sun"+Y),C[1]=l("week.mon"+Y),C[2]=l("week.tues"+Y),C[3]=l("week.wed"+Y),C[4]=l("week.thur"+Y),C[5]=l("week.fri"+Y),C[6]=l("week.sat"+Y);var M=C[n.getDay()];_=M+" "+F}else _=gi(n,"M/d")+F}}}else _=gi(n,"M/d")+F;return _}function rl(e){let t=new Date,i=t.getTime(),n=t.getTimezoneOffset()*6e4+i+36e5*e;return new Date(n)}function nt(e,t=!1){if(y(e)||e<0||isNaN(e))return t?"00:00:00":"00:00";var i=0,a=0;e>0&&e<10?e="0"+parseInt(e):e<=0?e="00":e>60&&(i=parseInt(e/60)<10?"0"+parseInt(e/60):parseInt(e/60),e=parseInt(e%60)<10?"0"+parseInt(e%60):parseInt(e%60),i>60&&(a=parseInt(i/60)<10?"0"+parseInt(i/60):parseInt(i/60),i=parseInt(i%60)<10?"0"+parseInt(i%60):parseInt(i%60)));var r;return a>0?r=a+":"+i+":"+e:i>0?(r=i+":"+e,t&&(r="00:"+r)):(r="00:"+e,t&&(r="00:"+r)),r}function ri(e){try{let t=JSON.parse(e);if(typeof t=="object")return t}catch(t){}return!1}function Qr(e,t){for(let i in e)if(t[i]!=null&&e[i]!=t[i])return!0;return!1}function wn(){return Math.random().toString(36).substr(2)}var qi={};function al(e,t=500,i="throttle"){let a=e.name;y(a)&&(a=i),!qi[a]&&(qi[a]=!0,e(),setTimeout(function(){qi[a]=""},t))}function ea(e,t,i=1e4){return e<=0||t<=0?[108,192]:(t>e?(t=t*108/e,t>i&&(t=i),e=108):(t=t*148/e,e=148),[e,t])}function ta(e,t){return new Promise(i=>{let a=new Date().getTime()-e;if(a<t){let r=setTimeout(()=>{clearTimeout(r),i()},t-a)}else i()})}function xn(e,t=!1){let i=60,a=i*60,r=a*24,c=Date.parse(new Date).toString().substr(0,10)-e;if(c<0)return`1${t?"m":"M"}`;let u=c/r;if(u>=1)return`${parseInt(u)}${t?"d":"D"}`;let p=c/a;if(p>=24)return`1${t?"d":"D"}`;if(p>=1&&p<24)return`${parseInt(p)}${t?"h":"H"}`;let f=c/i;if(f>=60)return`1${t?"h":"H"}`;if(f>=0&&f<60){let m=parseInt(f);return`${m==0?1:m}${t?"m":"M"}`}return`1${t?"m":"M"}`}function sl(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var qt={adminAgencyList:"/pagesAdmin/agency/list",adminAgencyDetail:"/pagesAdmin/agency/agency-detail",adminAgencyEdit:"/pagesAdmin/agency/agency-edit",adminAgencyEditPrice:"/pagesAdmin/agency/agency-edit-price",adminAgencyEditWithdrawInfo:"/pagesAdmin/agency/withdraw-info",adminAgencyEditName:"/pagesAdmin/agency/agency-edit-nickname",adminAgencyEditCountry:"/pagesAdmin/agency/agency-edit-country",adminAgencyEditEmail:"/pagesAdmin/agency/agency-edit-email",adminAgencyEditWhatsApp:"/pagesAdmin/agency/agency-edit-whatsapp",adminAgencyInvited:"/pagesAdmin/agency/invited",adminAgencyListSub:"/pagesAdmin/agency/list-sub",adminAgencyGirlsList:"/pagesAdmin/agency/girls-list",adminAgencyGirlsListSub:"/pagesAdmin/agency/girls-list-sub",adminAgencyDataPanel:"/pagesAdmin/agency/data-panel",adminAgencyDataHistory:"/pagesAdmin/agency/data-history",adminAgencyDataDetail:"/pagesAdmin/agency/data-detail",adminAgencyDataDetailTask:"/pagesAdmin/agency/data-detail-task",adminAgencyWithdrawRecords:"/pagesAdmin/agency/withdraw-records",adminAgencyWalletDetail:"/pagesAdmin/agency/wallet-detail",adminAgencyHandleBan:"/pagesAdmin/agency/handle-ban",adminAgencyHandleDelete:"/pagesAdmin/agency/handle-delete",adminAgencySelected:"/pagesAdmin/agency/selected-agency",adminAgencyStatus:"/pagesAdmin/agency/agency-status",adminAgencySubAgencyList:"/pagesAdmin/agency/sub-agency-list",adminAgencyWithdrawGirlList:"/pagesAdmin/agency/withdraw/girl-list",adminAgencyWithdrawSubAgentList:"/pagesAdmin/agency/withdraw/sub-agent-list",adminAgencyWithdrawSettlementDetail:"/pagesAdmin/agency/withdraw/settlement-detail",adminAgencyWithdrawEntiretyDetail:"/pagesAdmin/agency/withdraw/entirety-detail",adminAgencyWithdrawEntiretyDetailReject:"/pagesAdmin/agency/withdraw/entirety-detail-reject",adminAgencyHistoricalMemberList:"/pagesAdmin/agency/historical-list",adminAgencyWithdrawSubAgentDetail:"/pagesAdmin/agency/withdraw/sub-agent-detail",adminAuditSettlement:"/pagesAdmin/auditNew/settlement",adminAuditSettlementSub:"/pagesAdmin/auditNew/settlement-sub",adminAuditWithdraw:"/pagesAdmin/auditNew/withdraw",adminAuditWithdrawCashList:"/pagesAdmin/audit/withdraw-cash-list",adminWallet:"/pagesAdmin/wallet/wallet",adminWalletCoinStat:"/pagesAdmin/wallet/coin-stat",adminAgencyAnchorDetail:"/pagesAdmin/agencyManager/anchor-detail",adminChannelBackend:"/pagesAdmin/channel/channel-backend",adminAuditAgencyAvatar:"/pagesAdmin/auditNew/agency-avatar",adminAuditAgencyName:"/pagesAdmin/auditNew/agency-name",adminAuditCheckAllUnderReview:"/pagesAdmin/audit/check-all-under-review",adminPermissionWebManage:"/pagesAdmin/more/permission-web-manage",adminPermissionList:"/pagesAdmin/more/permission-list",adminPermissionEdit:"/pagesAdmin/more/permission-edit",adminPermissionNewAccount:"/pagesAdmin/more/permission-new-account",adminPermissionChooseRole:"/pagesAdmin/more/permission-choose-role",adminPermissionNewRole:"/pagesAdmin/more/permission-new-role",adminWhiteList:"/pagesAdmin/more/white-list",adminCallEvaluationList:"/pagesAdmin/user/call-evaluation-list",adminWarnDeviceUser:"/pagesAdmin/user/ban-device-user",adminWarnList:"/pagesAdmin/audit/warn-list",adminVersionUseList:"/pagesAdmin/more/version-use-list",adminAuditSettlementReview:"/pagesAdmin/auditNew/settlement-review",adminAuditWithdrawReview:"/pagesAdmin/auditNew/withdraw-review",adminClubApplication:"/pagesAdmin/auditNew/club-application",adminClubModification:"/pagesAdmin/auditNew/club-modification",adminClubManagement:"/pagesAdmin/club/management",warningDialog:"/pagesDialog/warning",homeFilterSexGuide:"/pagesDialog/home-filter-sex-guide",club:"/pagesClub/club",clubReachLevel:"/pagesDialog/club-reach-level",clubStatusRemind:"/pagesDialog/club-status-remind",clubApplyCreate:"/pagesClub/apply-create",clubCreateSuccess:"/pagesClub/create-success",clubRules:"/pagesDialog/club-rules",clubApplicationList:"/pagesClub/application-list",clubWarning:"/pagesDialog/club-warning",clubDisband:"/pagesDialog/club-disband",adminClubManagementSub:"/pagesAdmin/club/management-sub",adminClubTodayNew:"/pagesAdmin/club/club-today-new",adminClubNormal:"/pagesAdmin/club/club-normal",adminClubManageGirls:"/pagesAdmin/club/club-manage-girls",adminClubOperator:"/pagesAdmin/club/club-operator",adminClubDisbanded:"/pagesAdmin/club/club-disbanded",adminClubMemberList:"/pagesAdmin/club/member-new",adminClubInfo:"/pagesAdmin/club/detail-new",adminCLubWarning:"/pagesAdmin/club/warning",adminClubOperatorLog:"/pagesAdmin/club/operation-log",adminClubPersonalApplication:"/pagesAdmin/auditNew/club-application-personal",adminOutsourcingIndex:"/pagesAdmin/more/outsourcing/index",adminOutsourcingPermissionList:"/pagesAdmin/more/outsourcing/permission-list",adminOutsourcingNewRole:"/pagesAdmin/more/outsourcing/new-role",adminOutsourcingEditRole:"/pagesAdmin/more/outsourcing/edit-role",adminRefundDetail:"/pagesAdmin/refund/detail"};function ia(e,t){let i=qt[e];return i||(i=e),i+il(t,"&","?")}function V(e,t=null,i=null,a=!1){let r=ia(e,t),n={url:r,fail:s=>{J("error","at common/route.js:107",`\u6253\u5F00\u9875\u9762\u5931\u8D25${r} ${JSON.stringify(s)}`),getApp().globalData.appCRE&&r.startsWith("/pagesAdmin")&&T.zT!=3&&N.request("/sign/reload-route",{},!0)}};a&&(n=Object.assign(n,a)),i!=null&&(n.events=i),uni.navigateTo(n)}function ie(e,t,i,a,r=null){let s={url:ia(e,t),success(c){c.eventChannel.emit(i,a)}};r!=null&&(s.events=r),uni.navigateTo(s)}function Rt(e=1,t="",i=""){let a={delta:e};t&&(a.animationType=t),i&&(a.animationDuration=i),uni.navigateBack(a)}function ol(e){y(e)||uni.switchTab({url:e})}function Nt(){let e=[],t=getCurrentPages();for(let i=0,a=t.length;i<a;i++){let r=t[i].$page;e.push(r.path)}return e}function rt(e="path"){let t=getCurrentPages(),i=t[t.length-1];if(!i)return"";let a=i.$page;return a?a[e]:""}function na(e){let t=Ll();t&&(t==ir.SUPER?V("/pagesAdmin/user/info",{uid:e}):t==ir.KEFU&&V("/pagesAdmin/user/info-sub",{user_detail:t,uid:e}))}function Ei(e,t){e==getApp().globalData.uid?t&&ol($t.MY):V("/pages/main/user-home",{uid:e})}function Mt(e,t=null,i=null){let r={uid:typeof e=="object"?e.uid:e};i&&(r=Object.assign(r,i)),ie("/pagesMsg/pri/chat",r,"priData",{user:e,extra:t})}function ll(e,t=null){let a={id:typeof e=="object"?e.club_id:e};t&&(a=Object.assign(a,t)),ie("/pagesMsg/club/chat",a,"clubData",{club:e})}function ra(){Tn(dn.GAME,!0)||ie("/pages/call/chat-view",{},"callViewData",{isGame:!0})}function aa(e,t=0,i=0){if(y(e))return;if(t&&i){ll(e);return}V("/pagesClub/info",{id:e,isMember:t})}function Xt(e,t=!0){return e.startsWith("http")?e:e.startsWith("file://")?t?e:e.replace("file://",""):e.startsWith("/storage/")||e.startsWith("/var/mobile/")?t?`file://${e}`:e:e.startsWith("_doc/uniapp")?t?e:plus.io.convertLocalFileSystemURL(e):e.indexOf("apps/__UNI")!=-1?e:!1}var cl=[{key:"tr",title:"T\xFCrk"},{key:"pt",title:"Portugu\xEAs"}];function ei(e=!0){let t=K("language_app_key");if(!e||!tl(t))return t;let i=kn(!1),a=oo[i];return y(a)?"en":i}function kn(e){let t=uni.getAppBaseInfo().language;return y(t)?e?"en-US":"en":e?t:t.split("-")[0]}function An(e){getApp().globalData.translateAuto!=e&&(e&&!K("translate_auto_open_first")&&(uni.showModal({title:l("tips"),content:l("msg.translateAutoOpenMsgTips"),showCancel:!1,confirmText:l("gotIt")}),Q("translate_auto_open_first",1)),Q("translate_auto_close",e?0:1),getApp().globalData.translateAuto=e,uni.$emit("event_translate_auto_change",e),N.request("/user/sync-permission",{auto_translate:e?1:0}))}function sa(e){return getApp().globalData.translateAuto?getApp().globalData.translateKey!=e:!1}function oa(){uni.showModal({title:l("tips"),content:l("msg.translateAutoCloseTips"),showCancel:!0,cancelText:l("cancel"),confirmText:l("turnOff"),success(e){e.confirm&&An(!1)}})}function ul(){return K("call_automatic_source_language")||ei()}function pl(){return!!K("call_automatic_open")}function l(...e){return getApp().globalData.s.state.pubI18n(...e)}function la(e){function t(s,c,u){for(;0<u--;)s.push(c)}function i(s,c){return s<<c|s>>>32-c}function a(s,c,u){return s^c^u}function r(s,c){var u=(c&65535)+(s&65535),p=(c>>>16)+(s>>>16)+(u>>>16);return(p&65535)<<16|u&65535}var n="0123456789abcdef";return function(s){for(var c=[],u=s.length*4,p,f=0;f<u;f++)p=s[f>>2]>>(3-f%4)*8,c.push(n.charAt(p>>4&15)+n.charAt(p&15));return c.join("")}(function(s,c){var u,p,f,m,_,F=s.length,x=1732584193,M=4023233417,v=2562383102,O=271733878,W=3285377520,z=[];t(z,1518500249,20),t(z,1859775393,20),t(z,2400959708,20),t(z,3395469782,20),s[c>>5]|=128<<24-c%32,s[(c+65>>9<<4)+15]=c;for(var C=0;C<F;C+=16){u=x,p=M,f=v,m=O,_=W;for(var Y=0,Le=[];Y<80;Y++){Le[Y]=Y<16?s[Y+C]:i(Le[Y-3]^Le[Y-8]^Le[Y-14]^Le[Y-16],1);var Ye=function(ue,Re,je,li,ci){var ui=(ci&65535)+(ue&65535)+(Re&65535)+(je&65535)+(li&65535),zi=(ci>>>16)+(ue>>>16)+(Re>>>16)+(je>>>16)+(li>>>16)+(ui>>>16);return(zi&65535)<<16|ui&65535}(Y<20?function(ue,Re,je){return ue&Re^~ue&je}(p,f,m):Y<40?a(p,f,m):Y<60?function(ue,Re,je){return ue&Re^ue&je^Re&je}(p,f,m):a(p,f,m),_,z[Y],Le[Y],i(u,5));_=m,m=f,f=i(p,30),p=u,u=Ye}x=r(x,u),M=r(M,p),v=r(v,f),O=r(O,m),W=r(W,_)}return[x,M,v,O,W]}(function(s){for(var c=[],u=255,p=s.length*8,f=0;f<p;f+=8)c[f>>5]|=(s.charCodeAt(f/8)&u)<<24-f%32;return c}(e).slice(),e.length*8))}function vn(e,t,i=!0){return ua(getApp().globalData.ossPicPath,e,t,i)}function Me(e,t,i=!0){return ua(getApp().globalData.ossPath,e,t,i)}function ca(e){if(y(e)||e.startsWith("http"))return;let i=`img_${la(e)}`,a=K(i);Ke(i),a&&uni.removeSavedFile({filePath:a})}function ua(e,t,i,a=!0){if(y(t))return"";if(t.startsWith("http")||t.startsWith("file://"))return t;if(t.startsWith("/var/mobile/"))return"file://"+t;if(t.startsWith("/storage/"))return t;let n=`img_${la(t)}`,s=K(n);if(s){let u={filePath:s,fail(p){dl(`\u7F13\u5B58\u68C0\u6D4B\u5931\u8D25${t}`,p),Ke(n),typeof i=="function"&&i(e+t)},success(p){}};return typeof i=="function"&&(u.success=function(){i(s)}),uni.getFileInfo(u),s}let c=e+t;return getApp().globalData.picCacheObj[n]||(getApp().globalData.picCacheObj[n]=1,typeof i=="function"&&!a&&i(c),Al(c).then(u=>{Q(n,u),typeof i=="function"&&a&&i(u),delete getApp().globalData.picCacheObj[n]}).catch(()=>{})),c}function dl(e,t){J("error","at common/cache.js:118",`cache ${e}`,t)}function $e(e,t,i,a="1",r=0,n=0){let s,c=Xt(t,!1);if(c)s=c;else{let f;if(T.isAndroid,f=!1,f){let m=vn(t);s=m.startsWith("http")?m:plus.io.convertLocalFileSystemURL(m)}else s=T.ossPicPath+t}let u=Xt(i,!1)||`${getApp().globalData.ossPath}${i}`,p=e?Xt(a,!1)||`${getApp().globalData.ossPicPath}${a}`:a;return{isVideo:e,thumbnailUrl:s||"",url:u,coverUrl:p,width:r,height:n}}function kt(e,t,i=1){getApp().globalData.filterAppHide=!0,al(function(){let a=JSON.parse(JSON.stringify(e));getApp().globalData.pluginImageBrowser.openBrowser({info:a,index:t,showIndicator:i},r=>{J("info","at comExtend/plugin-image-browser.js:80","Preview.preview "+JSON.stringify(r))})},500,"previewImage")}var fl={CANDY_CHAT_I:"__UNI__CB903B1",CANDY_CHAT_A:"__UNI__564E31A",CHAT_NOW_A:"__UNI__DB0D401",CHAT_NOW_DEV:"__UNI__DEED62E",HOT_FACE_A:"__UNI__0D44E11",HOT_FACE_DEV:"__UNI__58DBD61",LOVE_SKY:"__UNI__0EE5E5E",DEV:"__UNI__3932C1F",DEV2:"__UNI__9C66D76"};function ml(){return getApp().globalData.pluginTool.vpnConnected()}function hl(e){return getApp().globalData.pluginTool.permissionStatusSync({permission:e})}function gl(){return getApp().globalData.pluginTool.permissionCheckAll()}function _l(){return getApp().globalData.pluginTool.locationAuthorizationStatusSync()}var ce={ALBUM:1,CAMERA:2,VIDEO:3,MICROPHONE:4,NOTIFY:5,LOCATION:6,DRAW_OVERLAYS:7,ALBUM_AND_CAMERA:101};function yl(e,t,i){if(getApp().globalData.uid!=0)return new Promise(a=>{let r;if(i==null?r=pa():r=i,r==null){a();return}let n={fromType:e,showClose:t,resList:r[0]};ie("/pagesDialog/check-permission",null,"permissionData",n,{onCloseListener:()=>{a()}})})}function pa(){let e=[],t=!0;if(T.isAndroid){let n=gl();e.push({key:"notice",value:n.notice,permission:ce.NOTIFY}),e.push({key:"camera",value:n.camera,permission:ce.CAMERA}),e.push({key:"voice",value:n.voice,permission:ce.MICROPHONE}),e.push({key:"album",value:n.storage,permission:ce.ALBUM})}else e.push({key:"notice",value:ma(),permission:ce.NOTIFY}),e.push({key:"camera",value:wl(),permission:ce.CAMERA}),e.push({key:"voice",value:fa(),permission:ce.MICROPHONE}),e.push({key:"album",value:xl(),permission:ce.ALBUM});for(let n=0,s=e.length;n<s;n++)if(!e[n].value){t=!1;break}let i={};for(let n=0,s=e.length;n<s;n++){let c=e[n];i[c.key]=c.value?1:0}i.auto_translate=getApp().globalData.translateAuto?1:0;let a=pl()?1:0,r=ul();return i.audio_translate=a,i.audio_language=r,N.request("/user/sync-permission",i),[e,t]}function da(e){if(e==ce.NOTIFY)return T.isAndroid?Zi(e):ma();if(e==ce.MICROPHONE)return T.isAndroid?Zi(e):fa();if(e==ce.ALBUM_AND_CAMERA){let i=pa()[0];return i?i[1].value&&i[3].value:!0}else if(e==ce.LOCATION)return T.isAndroid?Zi(e):_l();return!0}function Zi(e){let t=bl(e);return hl(t)}function bl(e){switch(e){case ce.LOCATION:return["android.permission.ACCESS_FINE_LOCATION","android.permission.ACCESS_COARSE_LOCATION"];case ce.ALBUM:case ce.VIDEO:return["android.permission.READ_MEDIA_IMAGES","android.permission.READ_MEDIA_VIDEO"];case ce.MICROPHONE:return["android.permission.RECORD_AUDIO"];case ce.CAMERA:return["android.permission.CAMERA"];case ce.NOTIFY:return["android.permission.POST_NOTIFICATIONS"]}}function fa(){let e=plus.ios.importClass("AVCaptureDevice"),t=e.authorizationStatusForMediaType("soun");return plus.ios.deleteObject(e),t==3}function wl(){let e=plus.ios.importClass("AVCaptureDevice"),t=e.authorizationStatusForMediaType("vide");return plus.ios.deleteObject(e),t==3}function xl(){var e=!1,t=plus.ios.import("PHPhotoLibrary"),i=t.authorizationStatus();return(i==3||i==4)&&(e=!0),plus.ios.deleteObject(t),e}function ma(){var e=!1,t=plus.ios.import("UIApplication"),i=t.sharedApplication(),a=0;if(i.currentUserNotificationSettings){var r=i.currentUserNotificationSettings();a=r.plusGetAttribute("types"),e=a!=0,plus.ios.deleteObject(r)}else a=i.enabledRemoteNotificationTypes(),e=a!=0;return plus.ios.deleteObject(i),plus.ios.deleteObject(t),e}function We(e,t){getApp().globalData.s.commit("setPubValue",{name:e,value:t})}function P(e,t){getApp().globalData.s.commit(e,t)}function ki(e,t){e==Ft.MSG&&getApp().setNumberBadge(),t>0?uni.setTabBarBadge({index:e,text:t+""}):uni.removeTabBarBadge({index:e})}function kl(e,t=!0){t?uni.showTabBarRedDot({index:e}):uni.hideTabBarRedDot({index:e})}function Al(e){return new Promise((t,i)=>{uni.downloadFile({url:e}).then(a=>!a||a.statusCode!=200||!a.tempFilePath?(i(),new Promise(()=>{})):uni.saveFile({tempFilePath:a.tempFilePath})).then(a=>{!a||!a.savedFilePath?i():t(a.savedFilePath)}).catch(a=>{J("error","at common/common.js:65","downloadFile error "+JSON.stringify(a))})})}function _r(e,t){t?plus.runtime.openWeb(e):plus.runtime.openURL(e)}function ha(e){e!=""&&uni.setClipboardData({data:e+"",success(){At(l("copied"))}})}function fe(e,t,i,a=l("confirm")){me(e,t,i,"",a,!1)}function vl(e){return["Si, desbloquear","Reenviar Completar"].indexOf(e)!=-1}function me(e,t,i,a,r=l("confirm"),n=!0,s=l("cancel"),c=!1){let u=!1;if(!T.isAndroid&&(u=vl(r),u)){let p=r;r=s,s=p}uni.showModal({title:e,content:t,showCancel:n,cancelText:s,confirmText:r,editable:c,success(p){p.confirm?u?typeof a=="function"&&a():typeof i=="function"&&i(p):p.cancel&&(u?typeof i=="function"&&i(p):typeof a=="function"&&a())}})}function At(e,t="none",i="center"){uni.showToast({title:e,duration:2e3,icon:t,position:i})}var ee={LIGHT:1,DARK:2};function ai(e,t,i){uni.$emit("event_follow",e,!t);let a=getApp().globalData.s.state.pubUser.focus_num;t?a-=1:a+=1,We("pubUser.focus_num",a);let r={flag:t?"del":"add",target_uid:e};i&&(r.room_id=i),N.request("/user/follow",r)}function at(e){let t=Number(e);if(isNaN(t)){J("error","at common/user.js:35","\u5237\u65B0\u4F59\u989D\u5931\u8D25");return}We("pubAccount.money",t),J("error","at common/user.js:39",`\u5237\u65B0\u4F59\u989D ${t}`)}function Je(e,t=1,i=!0){if(e=Number(e),isNaN(e))return!0;let a=getApp().pubAccount.money-e*t;return a>=0?!0:(i&&Sn(Math.abs(a),0),!1)}function ga(){return getApp().globalData.s.state.pubUser.is_vip}function Sn(e,t=0,i,a){let n=K("coin_callback"),s={};s.order_source=typeof i=="undefined"?0:i,s.click_type=typeof a=="undefined"?0:a,n?(s.fromType=t,s.diffCoin=e,ie("/pages/coin/coin-dialog",s,"coinDialogData",n)):(s.from_type=t,s.diff_coin=e,N.request("/pay/coin/callback",s,!0))}function _a(e,t,i){let a=l(t?"unBlockUserTip":"blockUserTip"),r=l(t?"cancelBlock":"confirmBlock");me(l("areYouSure"),a,()=>{Sl(t,e,()=>{typeof i=="function"&&i()})},"",r,!0,l("cancel"))}function Sl(e,t,i){let r={target_uid:t,flag:e?"del":"add"};N.request("/user/black",r).then(()=>{typeof i=="function"&&i()})}function Cl(e){let t=getApp().pubUser.seeking_sex;return e?t:t==0?getApp().pubUser.sex==1?2:1:t}function ne(){return getApp().globalData.s.state.pubUser.is_auth}function Tl(){return!ne()&&getApp().pubUser.recharge_money>0}function Cn(){let e=getApp().globalData.admin;return e&&e.permission&&e.permission.kefu}function Dl(){let e=getApp().globalData.admin;return e&&e.permission&&e.permission.check_all}function Ll(){let e=getApp().globalData.admin;return!e||!e.permission?0:e.permission.user_detail}function ya(){let e=getApp().globalData.admin;return!e||!e.permission?0:e.permission.enter_detail}function Pt(){let e=getApp().globalData.admin;return!y(e)&&e.type==1}function Tn(e,t){let i=getApp().globalData.bannedInfos[e];if(y(i))return!1;if(t){if(P("appDialog/addDialogBan",i),rt()=="/pagesDialog/banned")return;P("appDialog/executeBanWarningDialog")}return!0}function ba(e){return getApp().globalData.themeObj.style==ee.LIGHT?e==fi.ONLINE?"#34C759":e==fi.CHATTING?"#FF9537":"#999999":e==fi.ONLINE?"#2A9F47":e==fi.CHATTING?"#CC7732":"#666666"}var ln={DEFAULT:1e4,FAIL:0,SUCCESS:1,DISCONNECT:6,RECONNECT:7},Il={INIT:"init",APP_SHOW:"app_show",TAB_SHOW:"tab_show",MSG_INDEX_REFRESH:"msg_index_refresh",STOP_TAKING_RECOVERY:"stop_taking_recovery",CATCH_MSG_SYNC:"sync_catch",API_CALL_BACK:"api_call_back",RECONNECT_LISTENER:"reconnect_listener",RECONNECT_LOCAL:"reconnect_local"};function El(e){return new Promise((t,i)=>{getApp().globalData.pluginDB.selectSql({sql:e},a=>{a.status==1?t(a.rows):(J("error","at comExtend/plugin-DB.js:44","db \u63D2\u4EF6 select \u6267\u884C \u9519\u8BEF "+a.message),i(a.message))})})}function Fl(e){return new Promise((t,i)=>{getApp().globalData.pluginDB.executeSql({sql:e},a=>{a.status==1?t(a.rows):(J("error","at comExtend/plugin-DB.js:57","db \u63D2\u4EF6 execute \u6267\u884C \u9519\u8BEF "+a.message),i(a.message))})})}function st(e,t){return new Promise((i,a)=>{Fl(e).then(r=>{i(r)},r=>{a(),t||ka("execute",r,e)})})}function ot(e,t){return new Promise((i,a)=>{El(e).then(r=>{i(r)},r=>{a(),t||ka("select",r,e)})})}function $(e){return y(e)?0:parseInt(e)}function qe(e){return y(e)?"":e}function Ol(){return getApp().globalData.pluginMqtt.checkStatusSync()?ln.SUCCESS:ln.FAIL}function Rl(){return Ol()}function Nl(){return Rl()==ln.SUCCESS}var Ot={getUserDesc(){let e=getApp().pubUser;return Object.keys(e).length<=3?"\u672A\u767B\u5F55":[e.uid,e.is_auth?"\u4E3B\u64AD":"\u7528\u6237",`\u7B49\u7EA7-${e.level}`,`vip${e.is_vip?"\u662F":"\u5426"}`,`\u5145\u503C${e.recharge_money}`,`\u4F59\u989D${getApp().pubAccount.money}`,`\u540E\u53F0\u8EAB\u4EFD${Ml()}`].join("|")},getActionDesc(){let e=Nt(),t=e.length;return[`\u9875\u9762: ${(t>5?e.slice(t-5):e).join(",")}`,`${getApp().globalData.catchApiUrlList.join(",")}`].join("|")},getEnvironsDesc(){let e=getApp().globalData.ua.split("|"),t=[`${e[1]}`,`app\u7248\u672C${e[2]}`,`zip\u7248\u672C${e[3]}-${e[13]}`,`${e[6]}`,`\u54C1\u724C${e[11]}`,`\u578B\u53F7${e[12]}`,`\u7F51\u7EDC${getApp().globalData.network.type}`,`MQTT${Nl()?"\u662F":"\u5426"}`],i=ml();return typeof i!="undefined"&&t.push(`VPN${i?"\u662F":"\u5426"}`),t.join("|")}};function Ml(){if(Pt())return"\u8D85\u7BA1";let e=[];return Cn()&&e.push("\u5BA2\u670D"),Dl()&&e.push("\u5BA1\u6838"),e.length<=0?"\u65E0":e.join("\u548C")}var Xi=0;function Pl(e){return Ul(Bl(Hl(e)))}function Bl(e){return Gl(jl(Wl(e),e.length*8))}function Ul(e){try{}catch(n){Xi=0}for(var t=Xi?"0123456789ABCDEF":"0123456789abcdef",i="",a,r=0;r<e.length;r++)a=e.charCodeAt(r),i+=t.charAt(a>>>4&15)+t.charAt(a&15);return i}function Hl(e){for(var t="",i=-1,a,r;++i<e.length;)a=e.charCodeAt(i),r=i+1<e.length?e.charCodeAt(i+1):0,55296<=a&&a<=56319&&56320<=r&&r<=57343&&(a=65536+((a&1023)<<10)+(r&1023),i++),a<=127?t+=String.fromCharCode(a):a<=2047?t+=String.fromCharCode(192|a>>>6&31,128|a&63):a<=65535?t+=String.fromCharCode(224|a>>>12&15,128|a>>>6&63,128|a&63):a<=2097151&&(t+=String.fromCharCode(240|a>>>18&7,128|a>>>12&63,128|a>>>6&63,128|a&63));return t}function Wl(e){for(var t=Array(e.length>>2),i=0;i<t.length;i++)t[i]=0;for(var i=0;i<e.length*8;i+=8)t[i>>5]|=(e.charCodeAt(i/8)&255)<<i%32;return t}function Gl(e){for(var t="",i=0;i<e.length*32;i+=8)t+=String.fromCharCode(e[i>>5]>>>i%32&255);return t}function jl(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var i=1732584193,a=-271733879,r=-1732584194,n=271733878,s=0;s<e.length;s+=16){var c=i,u=a,p=r,f=n;i=ye(i,a,r,n,e[s+0],7,-680876936),n=ye(n,i,a,r,e[s+1],12,-389564586),r=ye(r,n,i,a,e[s+2],17,606105819),a=ye(a,r,n,i,e[s+3],22,-1044525330),i=ye(i,a,r,n,e[s+4],7,-176418897),n=ye(n,i,a,r,e[s+5],12,1200080426),r=ye(r,n,i,a,e[s+6],17,-1473231341),a=ye(a,r,n,i,e[s+7],22,-45705983),i=ye(i,a,r,n,e[s+8],7,1770035416),n=ye(n,i,a,r,e[s+9],12,-1958414417),r=ye(r,n,i,a,e[s+10],17,-42063),a=ye(a,r,n,i,e[s+11],22,-1990404162),i=ye(i,a,r,n,e[s+12],7,1804603682),n=ye(n,i,a,r,e[s+13],12,-40341101),r=ye(r,n,i,a,e[s+14],17,-1502002290),a=ye(a,r,n,i,e[s+15],22,1236535329),i=be(i,a,r,n,e[s+1],5,-165796510),n=be(n,i,a,r,e[s+6],9,-1069501632),r=be(r,n,i,a,e[s+11],14,643717713),a=be(a,r,n,i,e[s+0],20,-373897302),i=be(i,a,r,n,e[s+5],5,-701558691),n=be(n,i,a,r,e[s+10],9,38016083),r=be(r,n,i,a,e[s+15],14,-660478335),a=be(a,r,n,i,e[s+4],20,-405537848),i=be(i,a,r,n,e[s+9],5,568446438),n=be(n,i,a,r,e[s+14],9,-1019803690),r=be(r,n,i,a,e[s+3],14,-187363961),a=be(a,r,n,i,e[s+8],20,1163531501),i=be(i,a,r,n,e[s+13],5,-1444681467),n=be(n,i,a,r,e[s+2],9,-51403784),r=be(r,n,i,a,e[s+7],14,1735328473),a=be(a,r,n,i,e[s+12],20,-1926607734),i=we(i,a,r,n,e[s+5],4,-378558),n=we(n,i,a,r,e[s+8],11,-2022574463),r=we(r,n,i,a,e[s+11],16,1839030562),a=we(a,r,n,i,e[s+14],23,-35309556),i=we(i,a,r,n,e[s+1],4,-1530992060),n=we(n,i,a,r,e[s+4],11,1272893353),r=we(r,n,i,a,e[s+7],16,-155497632),a=we(a,r,n,i,e[s+10],23,-1094730640),i=we(i,a,r,n,e[s+13],4,681279174),n=we(n,i,a,r,e[s+0],11,-358537222),r=we(r,n,i,a,e[s+3],16,-722521979),a=we(a,r,n,i,e[s+6],23,76029189),i=we(i,a,r,n,e[s+9],4,-640364487),n=we(n,i,a,r,e[s+12],11,-421815835),r=we(r,n,i,a,e[s+15],16,530742520),a=we(a,r,n,i,e[s+2],23,-995338651),i=xe(i,a,r,n,e[s+0],6,-198630844),n=xe(n,i,a,r,e[s+7],10,1126891415),r=xe(r,n,i,a,e[s+14],15,-1416354905),a=xe(a,r,n,i,e[s+5],21,-57434055),i=xe(i,a,r,n,e[s+12],6,1700485571),n=xe(n,i,a,r,e[s+3],10,-1894986606),r=xe(r,n,i,a,e[s+10],15,-1051523),a=xe(a,r,n,i,e[s+1],21,-2054922799),i=xe(i,a,r,n,e[s+8],6,1873313359),n=xe(n,i,a,r,e[s+15],10,-30611744),r=xe(r,n,i,a,e[s+6],15,-1560198380),a=xe(a,r,n,i,e[s+13],21,1309151649),i=xe(i,a,r,n,e[s+4],6,-145523070),n=xe(n,i,a,r,e[s+11],10,-1120210379),r=xe(r,n,i,a,e[s+2],15,718787259),a=xe(a,r,n,i,e[s+9],21,-343485551),i=et(i,c),a=et(a,u),r=et(r,p),n=et(n,f)}return Array(i,a,r,n)}function Fi(e,t,i,a,r,n){return et(Vl(et(et(t,e),et(a,n)),r),i)}function ye(e,t,i,a,r,n,s){return Fi(t&i|~t&a,e,t,r,n,s)}function be(e,t,i,a,r,n,s){return Fi(t&a|i&~a,e,t,r,n,s)}function we(e,t,i,a,r,n,s){return Fi(t^i^a,e,t,r,n,s)}function xe(e,t,i,a,r,n,s){return Fi(i^(t|~a),e,t,r,n,s)}function et(e,t){var i=(e&65535)+(t&65535),a=(e>>16)+(t>>16)+(i>>16);return a<<16|i&65535}function Vl(e,t){return e<<t|e>>>32-t}var cn={md5:function(e){return Pl(e)}};function wa(){return"tb_error_log"}function zl(e,t){return new Promise(i=>{let a=`SELECT * FROM ${wa()} WHERE status = ${$(e)} AND identify = '${t}' ORDER BY id DESC LIMIT 1`;ot(a,!0).then(r=>{i(r[0])})})}function Yl(e,t,i,a,r,n,s,c,u,p){return zl(e,t).then(f=>{if(f)return Promise.resolve(!0);let m=`INSERT INTO ${wa()} (status, identify, grade, flag, user_desc, action_desc, environs_desc, error_desc, create_time, exp_time) values (${$(e)}, '${t}', ${i}, '${a}', '${yt(r)}', '${yt(n)}', '${yt(s)}', '${yt(c)}', ${$(u)}, ${$(p)})`;return st(m,!0)})}var Oi={CRASH:1,USER:11,API_FAIL:12,API_ERROR:13,MSG_SYNC:14,DB_PLUGIN:15,FRAME:21,LISTENER:31,BUG_DB_GET_NONE:201,BUG_MSG_SYNC_PLUGIN_LOSS:202,BUG_MSG_SYNC_JS_LOSS:203},Ri={CRASH:"crash",MEMORY:"memory",LISTENER:"listener",FRAME_API:"frame_api",API:"api",DB:"db",PAYMENT:"payment",AUTH_FACE:"auth_face",CHAT_CALL:"chat_call",HOT_UPDATE:"hot_update",MESSAGE_PARSE:"message_parse",BUG:"bug"};function xa(){return getApp().globalData.uid==0?!1:T.zT==3?!0:T.appId==fl.CHAT_NOW_A||T.ENV=="dev"}var Kl=1e3;function $l(e,t){try{if(!xa())return;let i=Ai(t),a=`api-${e} ${i}`;J("error","at comCatch/catch-save.js:15","catch api fail "+a);let r=Ln(a);Zl().then(n=>{let s;typeof n=="boolean"?s="\u6D4B\u8BD5\u8C37\u6B4C\u6210\u529F":s=`\u6D4B\u8BD5\u8C37\u6B4C\u5931\u8D25-${Ai(n)}`,r.errorDesc=`${r.errorDesc} - ${s}`,In(Oi.API_FAIL,Ri.API,r)})}catch(i){}}function Jl(e,t,i){try{if(!xa())return;let a=Ai(i);a=a.substring(0,120);let r=`statusCode-${i.statusCode}-${a}-api-${e}-${JSON.stringify(t)}`;J("error","at comCatch/catch-save.js:37","catch api error "+r);let n=Ln(r);In(Oi.API_ERROR,Ri.API,n)}catch(a){}}function ka(e,t,i){try{if(i.indexOf("tb_error_log")!=-1)return;let a=`${e} - ${t}`;i&&(a+=` - ${i}`),J("error","at comCatch/catch-save.js:74","catch db "+a),ql(Oi.DB_PLUGIN,Ri.DB,a)}catch(a){}}function Dn(e,t,i,a){try{let r=Ai(e),n=JSON.stringify(t),s=JSON.stringify(i),c=JSON.stringify(a);r=`${r} | ${n} | ${s} | ${c}`,J("error","at comCatch/catch-save.js:118","catch message parse "+r);let u=Ln(r);In(Oi.USER,Ri.MESSAGE_PARSE,u)}catch(r){}}function Ai(e){if(!e)return"";let t=JSON.stringify(e);return(typeof t!="string"||t=="{}")&&(t=e.toString()),t}function Ln(e){return{identify:cn.md5(e),errorDesc:e,userDesc:Ot.getUserDesc(),actionDesc:Ot.getActionDesc(),environsDesc:Ot.getEnvironsDesc(),expTime:0}}function In(e,t,i){Yl(0,i.identify,e,t,i.userDesc,i.actionDesc,i.environsDesc,i.errorDesc,new Date().getTime(),i.expTime)}function ql(e,t,i){let a=[],r=new Date().getTime();if(r-getApp().globalData.catchApiLastReqTime<=Kl)return;getApp().globalData.catchApiLastReqTime=r,a.push({grade:e,flag:t,user_desc:Ot.getUserDesc(),action_desc:Ot.getActionDesc(),environs_desc:Ot.getEnvironsDesc(),error_desc:i,create_time:r,createTimeStr:Xr(r)});let n={log_list:a};N.request("/monitor/record-exception-log",n)}function Zl(){return new Promise(e=>{uni.request({url:"https://google.com",method:"GET",timeout:5e3,success(t){e(!0)},fail(t){e(t)}})})}var Xl=["/monitor/index","/chat/call/log","/chat/msg/mq-log","/user/sync-permission","/monitor/record-exception-log"],yr=["/monitor/record-exception-log"],br=5,_i={invoke(e,t){if(Xl.indexOf(e)!=-1)return;let i="";i+=`\u63A5\u53E3=${e};`,i+=`\u53C2\u6570=${JSON.stringify(t)}`,i+=`\u65F6\u95F4=${Xr(new Date().getTime())}`,getApp().globalData.catchApiUrlList.push(`\u3010${i}\u3011`);let a=getApp().globalData.catchApiUrlList.length;a>br&&(getApp().globalData.catchApiUrlList=getApp().globalData.catchApiUrlList.slice(a-br))},error(e,t,i){yr.indexOf(e)==-1&&getApp().globalData.network.isConnected&&(!i||typeof i.statusCode=="undefined"||Jl(e,t,i))},fail(e,t){yr.indexOf(e)==-1&&getApp().globalData.network.isConnected&&$l(e,t)}},Ql={INIT:1,OPEN:2,CALLBACK:3,SOCKET:4,LOGIN:5};function Aa(e,t=!0,i=!0,a=!0){if(!e)return 0;let r=0;return!e.hide_level&&e.level>0&&(r+=56),!e.hide_vip&&e.is_vip&&(r+=64),y(e.birthday)||(r+=50),t&&e.auth_status==1&&(r+=32),i&&!y(e.country_code)&&!e.hide_profile&&(a?r+=88:r+=44),r}function Ni(e,t=!1){if(!t&&e.hide_profile){let i=e.uid%9999;return i<1e3&&(i="0"+i),l("mysteryer")+i}else return e.nickname||""}function Mi(e,t="small_avatar",i=!1,a=1){if(!i&&e.hide_profile)return ec(a);{if(e[t])return e[t];let r=t=="small_avatar"?"avatar":"small_avatar";return e[r]}}function ec(e){return e==2?"s/privacy/masker_list_card.png":e==3?"s/privacy/masker_card.png":"s/privacy/masker_avatar.png"}function wr(){if(getApp().pubUnreadMy.moment>0){ki(Ft.MY,getApp().pubUnreadMy.moment);return}ki(Ft.MY,0),kl(Ft.MY,getApp().pubUnreadMy.fans>0)}var D={PERMISSION:"permission",PERFECT_DATA:"perfect_data",REST:"rest",HOME_FILTER:"home_filter",GRID_GUIDE:"grid_guide",NOTIFY:"notify",HELLO:"hello",SHARE:"share",LANGUAGE_UP:"language_up",RAMADAN:"ramadan",MSG_DISTURB:"msg_disturb",CALL_DISTURB:"call_disturb",BAN:"ban",WARNING:"warning",HOME_SEX_FILTER:"home_sex_filter",CLUB_RESULT:"club_result",CLUB_DISBAND:"club_disband"},tc={[D.HOME_FILTER]:"seeking_sex_open_time",[D.GRID_GUIDE]:"dialog_show_time_grid_guide",[D.NOTIFY]:"dialog_show_time_notify",[D.HELLO]:"dialog_show_time_hello"},un=-99,ti=-100,ic={[D.HOME_FILTER]:1,[D.HOME_SEX_FILTER]:1,[D.GRID_GUIDE]:1,[D.NOTIFY]:2,[D.SHARE]:3,[D.HELLO]:4,[D.LANGUAGE_UP]:5,[D.RAMADAN]:6},En={[D.PERMISSION]:1,[D.PERFECT_DATA]:2,[D.REST]:3,[D.HOME_FILTER]:4,[D.HOME_SEX_FILTER]:4,[D.GRID_GUIDE]:4,[D.NOTIFY]:5,[D.SHARE]:7,[D.LANGUAGE_UP]:8};function nc(e){return sc(D.HOME_FILTER,21600)?!1:Cl(!1)!=e}function rc(e){return T.isAndroid||e||K(Fn(D.GRID_GUIDE))?!1:!K("user_list_sort_"+getApp().globalData.uid)}function Pi(){return da(ce.NOTIFY)?!1:!ac()}function ac(){let e=Xo(`${D.NOTIFY}_show_status`);if(!y(e))return!0;let t=K(Fn(D.NOTIFY));return!y(t)}function Fn(e){return`${tc[e]}_${getApp().globalData.uid}`}function sc(e,t){let i=K(Fn(e));if(!i)return!1;let a=new Date().getTime();return a<=i?!1:parseInt((a-i)/1e3)<=t}var xr=!1,Dt=!1,Qe=0,Zt={appDialogList:[],appDialogStop:!1,appDialogCurKey:"",appDialogHelloData:!1,appBanDialogList:[],appClubResultList:[],appDialogIsShowBan:!1,appBanDialogCurKey:"",appWarningDialogCurKey:"",appClubResultCurKey:""},oc={setDialogHelloData(e,t){e.appDialogHelloData=t},setDialogCurKey(e,t){e.appDialogCurKey=t},setDialogList(e,t){e.appDialogList=t,e.appDialogList.sort((i,a)=>i.sort-a.sort)},sortDialogList(e){e.appDialogList.sort((t,i)=>t.sort-i.sort)},resetDialogItem(e,t){let i=e.appDialogList.findIndex(a=>a.key==t.key);i!=-1&&(e.appDialogList[i].hasExec=!1,e.appDialogList[i].delay=t.delay)},resetClubResultDialogItem(e,t){let i=e.appClubResultList.findIndex(a=>a.key==t.key);i!=-1&&(e.appClubResultList[i].hasExec=!1)},delDialogItem(e,t){y(e.appDialogList)||e.appDialogList.splice(t,1)},delDialogItemByKey(e,t){if(y(e.appDialogList))return;let i=e.appDialogList.findIndex(a=>a.key==t);i!=-1&&e.appDialogList.splice(i,1)},clearDialog(e){e.appDialogStop=!0,e.appDialogList=[]},executeDialog(e,t){if(e.appBanDialogCurKey||e.appWarningDialogCurKey||e.appClubResultCurKey||y(e.appDialogList)||e.appDialogStop)return;let i=e.appDialogList[0];y(i)||i.hasExec||i.isCanExecute&&(e.appDialogList[0].hasExec=!0,Qi[i.funcName](i).then(()=>{e.appDialogCurKey="";let a=e.appDialogList.indexOf(i);a!=-1&&P("appDialog/delDialogItem",a),P("appDialog/executeDialog","execute then")}))},addDialog(e,t){let i=t.key;e.appDialogStop=!0;let a=e.appDialogList.findIndex(r=>r.key==i);if(a!=-1){if(e.appDialogList[a].isAdd){e.appDialogStop=!1,e.appDialogCurKey||P("appDialog/executeDialog");return}e.appDialogList[a].isAdd=!0,e.appDialogList[a].addTime=new Date().getTime(),e.appDialogList[a].isCanExecute=!0}else{let r=ne()?1:2,n;switch(i){case D.HOME_FILTER:n=mc(r,!0);break;case D.HELLO:n=kr(t.delay);break;case D.MSG_DISTURB:n=gc(t.delay);break;case D.CALL_DISTURB:n=_c(t.delay);break;default:e.appDialogStop=!1,e.appDialogCurKey||P("appDialog/executeDialog");return}n.isAdd=!0,n.addTime=new Date().getTime(),e.appDialogList.push(n)}e.appDialogList.sort((r,n)=>r.sort==n.sort?n.addTime-r.addTime||(r.isCanExecute?ti:0):r.sort-n.sort),!e.appDialogCurKey&&(e.appDialogCurKey=i,e.appDialogStop=!1,P("appDialog/executeDialog"))},addDialogHomeFilter(e,t){getApp().globalData.appCRE==0||!nc(t)||P("appDialog/addDialog",{key:D.HOME_FILTER})},addDialogHomeSexFilter(e,t){getApp().globalData.appCRE!=0&&(P("appDialog/addDialog",{key:D.HOME_SEX_FILTER,value:t}),P("appDialog/sortDialogList"))},addDialogGridGuide(e,t){let i=e.appDialogList.findIndex(r=>r.key==D.GRID_GUIDE);if(rc(t)){if(i==-1)return;P("appDialog/addDialog",{key:D.GRID_GUIDE})}else i!=-1&&P("appDialog/delDialogItem",i)},addDialogNotify(e,t){t&&!Pi()||V("/pagesDialog/open-sys-notice")},addDialogHello(e,t){if(getApp().globalData.appCRE==0||xr)return;xr=!0;let i=e.appDialogList[0];if(i&&i.key==D.SHARE){Qe=30;let a=kr(Qe);a.sort=vt(ne()?1:2,D.SHARE+1),a.isAdd=!0,a.addTime=new Date().getTime(),e.appDialogList.push(a),e.appDialogList.sort((r,n)=>r.sort==n.sort?n.addTime-r.addTime||(r.isCanExecute?ti:0):r.sort-n.sort);return}Qe=t,P("appDialog/addDialog",{key:D.HELLO,delay:t})},addDialogMsgDisturb(e,t){P("appDialog/addDialog",{key:D.MSG_DISTURB,delay:t})},addDialogCallDisturb(e,t){P("appDialog/addDialog",{key:D.CALL_DISTURB,delay:t})},delBanDialogItem(e){y(Zt.appBanDialogList)||Zt.appBanDialogList.splice(e,1)},delClubResultDialogItem(e){y(Zt.appClubResultList)||Zt.appClubResultList.splice(e,1)},addDialogBan(e,t){let i=yc(t);e.appDialogIsShowBan?uni.$emit("event_refresh_banned_data",t):(e.appBanDialogList.push(i),P("appDialog/sortBanWarningDialog"))},addDialogWarning(e,t){if(e.appBanDialogList.map(r=>r.sort).indexOf(Number(t.id))!=-1)return;let a;t.from_type==2?a=wc(t):a=bc(t),e.appBanDialogList.push(a),!(e.appBanDialogCurKey||e.appWarningDialogCurKey)&&P("appDialog/executeBanWarningDialog")},addDialogClubNoticeDialog(e,t){let i,a,r=e.appClubResultList.map(n=>n.key);t.type==lo.CHECK_RESULT?(a=D.CLUB_RESULT+"_"+t.club_id,r.indexOf(a)==-1&&(i=kc(t))):(a=D.CLUB_DISBAND+"_"+t.club_id,r.indexOf(a)==-1&&(i=xc(t))),i&&e.appClubResultList.push(i),!(e.appBanDialogCurKey||e.appWarningDialogCurKey)&&(e.appClubResultCurKey||P("appDialog/executeClubNoticeDialog"))},executeBanWarningDialog(e){if(y(e.appBanDialogList)){P("appDialog/executeClubNoticeDialog");return}let t=e.appBanDialogList[0];if(y(t)||t.hasExec)return;let i=getApp().globalData.curCallId>Qt.WAITING;if(i){t.isBan&&uni.$emit("event_banned_close_chat");return}e.appBanDialogList[0].hasExec=!i||!t.isBan,e.appDialogIsShowBan=t.isBan,t.isBan?e.appBanDialogCurKey="ban":e.appWarningDialogCurKey="warning",Qi[t.funcName](t).then(a=>{if(t.isBan){if(e.appBanDialogCurKey="",e.appDialogIsShowBan=!1,a==1){let r=e.appBanDialogList.indexOf(t);r!=-1&&P("appDialog/delBanDialogItem",r)}}else{e.appWarningDialogCurKey="";let r=e.appBanDialogList.indexOf(t);r!=-1&&P("appDialog/delBanDialogItem",r)}P("appDialog/executeBanWarningDialog","execute then")})},executeClubNoticeDialog(e,t){if(e.appBanDialogCurKey||e.appWarningDialogCurKey)return;if(y(e.appClubResultList)){P("appDialog/executeDialog");return}let i=e.appClubResultList[0];y(i)||i.hasExec||getApp().globalData.curCallId>Qt.WAITING||(e.appClubResultCurKey="club_result",e.appClubResultList[0].hasExec=!0,t&&t.delay&&(i.delay=t.delay),Qi[i.funcName](i).then(()=>{e.appClubResultCurKey="";let r=e.appClubResultList.indexOf(i);r!=-1&&P("appDialog/delClubResultDialogItem",r),P("appDialog/executeClubNoticeDialog","execute then")}))},sortBanWarningDialog(e){let t=e.appBanDialogList.filter(a=>a.sort==un),i=e.appBanDialogList.filter(a=>a.sort!=un);i=i.sort((a,r)=>a.sort-r.sort),e.appBanDialogList=[...t,...i]}},lc={init(i,a){return di(this,arguments,function*({state:e},t){J("error","at store/modules/app-dialog.js:326","------> init dialog list, data ",t);let r=[];ne()?r=pc(t.data,t.homeViewSizeObj):r=uc(t.data,t.homeViewSizeObj),P("appDialog/setDialogList",r),P("appDialog/executeDialog")})}},cc={namespaced:!0,state:Zt,mutations:oc,actions:lc};function uc(e,t){permissionGetAllStatus();let i=[],a=va(2,t,e.homeFilterSex);a&&i.push(a);let r=Sa(2,t);r&&i.push(r);let n=Ca(2,e.share);n&&i.push(n);let s=Ta(2);s&&i.push(s);let c=hc(2,e.notifyTips);return c&&i.push(c),i}function pc(e,t){let i=[],a=dc(e.authList);a&&i.push(a);let r=fc();r&&i.push(r);let n=va(2,t,e.homeFilterSex);n&&i.push(n);let s=Sa(1,t);s&&i.push(s);let c=5,u=Ca(1,e.share,c);u&&i.push(u);let p=Ta(1);return p&&i.push(p),i}function dc(e){return typeof e=="undefined"?null:{key:D.PERFECT_DATA,sort:En[D.PERFECT_DATA],delay:0,data:e,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecutePerfectData"}}function fc(){return Da()||!getApp().pubUser.is_rest?null:{key:D.REST,sort:En[D.REST],delay:0,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteRest"}}function mc(e,t){return{key:D.HOME_FILTER,sort:vt(e,D.HOME_FILTER),delay:0,data:{},hasExec:!1,isCanExecute:t,addTime:new Date().getTime(),funcName:"_dialogExecuteHomeFilter"}}function va(e,t,i){return getApp().globalData.appCRE==0||!t||!t.filter?null:{key:D.HOME_SEX_FILTER,sort:vt(e,D.HOME_SEX_FILTER),delay:0,data:{value:i,size:t.filter},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteHomeSexFilter"}}function Sa(e,t){if(getApp().globalData.appCRE==0)return null;let i="grid";if(!t||!t[i])return null;let a={sizeList:[{key:i,size:t[i]}],from_type:1};return{key:D.GRID_GUIDE,sort:vt(e,D.GRID_GUIDE),delay:0,data:a,hasExec:!1,isCanExecute:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteGridGuide"}}function Ca(e,t,i=5){return getApp().globalData.appCRE==0||y(t)||getApp().globalData.launchCount<3||Tl()?null:{key:D.SHARE,sort:vt(e,D.SHARE),delay:i,data:t,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteShare"}}function kr(e){return{key:D.HELLO,sort:ti,delay:e,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteHello"}}function Ta(e){let t=K("user_switch_language_status");if(t)return null;let i=ei(!1);if(t||y(i))return null;let a=cl.map(s=>s.key),r=ei();if(a.indexOf(r)!=-1)return null;let n=kn(!1);return a.indexOf(n)==-1?null:{key:D.LANGUAGE_UP,sort:vt(e,D.LANGUAGE_UP),delay:5,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteLanguageUp"}}function hc(e,t){return y(t)||K(`stop_notify_${getApp().globalData.uid}_${t.time}`)||!da(ce.NOTIFY)?null:{key:D.RAMADAN,sort:vt(e,D.RAMADAN),delay:5,data:t,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteRamadan"}}function gc(e){return{key:D.MSG_DISTURB,sort:ti,delay:e,data:{from_type:1},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteMsgDisturb"}}function _c(e){return{key:D.CALL_DISTURB,sort:ti,delay:e,data:{from_type:2},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteCallDisturb"}}function yc(e){return{key:D.BAN,sort:un,data:e,delay:e.delay||0,hasExec:!1,isBan:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteBan"}}function bc(e){return{key:D.WARNING,sort:Number(e.id),data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteWarning"}}function wc(e){return{key:D.WARNING,sort:Number(e.id),data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubWarning"}}function xc(e){return{key:D.CLUB_DISBAND+"_"+e.club_id,data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubDisband"}}function kc(e){return{key:D.CLUB_RESULT+"_"+e.club_id,data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubResult"}}var Qi={_dialogExecutePermission(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),He(e.key,e.delay,0)&&(P("appDialog/setDialogCurKey",D.PERMISSION),yl(1,!1,e.permissionRes).then(()=>{t()}))},e.delay*1e3)})},_dialogExecutePerfectData(e){return new Promise(t=>{P("appDialog/setDialogCurKey",D.PERFECT_DATA),ie("/pagesDialog/complete-content-first",{},"DataCompleteContentFirst",e.data,{onCloseListener(){t()}})})},_dialogExecuteRest(){return new Promise(e=>{P("appDialog/setDialogCurKey",D.REST),me(l("tips"),l("anchor.rest.openedTip"),()=>{let t={user_info:{is_rest:0}};N.request("/user/update-info",t,!0,!0).then(i=>{We("pubUser.is_rest",0),fe(l("tips"),l("anchor.rest.turnOff"),()=>{e()},l("gotIt"))},()=>{e()})},()=>{e()},l("startWorking"))})},_dialogExecuteHomeFilter(e){return new Promise(t=>{He(e.key,e.delay,$t.USER)&&(P("appDialog/setDialogCurKey",D.HOME_FILTER),V("/pagesDialog/seeking-sex-guide",{},{onCloseChooseSeekingSex:i=>{uni.$emit("event_app_dialog_seeking_sex_after",i),t()}}))})},_dialogExecuteHomeSexFilter(e){return new Promise(t=>{He(e.key,e.delay,$t.USER)&&(P("appDialog/setDialogCurKey",D.HOME_SEX_FILTER),V(qt.homeFilterSexGuide,{params:JSON.stringify(e.data)},{onCloseListener:()=>{uni.$emit("event_handle_filter_seeking_sex"),t()}}))})},_dialogExecuteGridGuide(e){return new Promise(t=>{if(!He(e.key,e.delay,$t.USER))return;P("appDialog/setDialogCurKey",D.GRID_GUIDE);let i=e.data.sizeList;V("/pagesDialog/guide-cover",{list:encodeURIComponent(JSON.stringify(i))},{onCloseGuideCover:()=>{uni.$emit("event_app_dialog_close_guide",{from_type:e.data.from_type}),t()}})})},_dialogExecuteShare(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),He(e.key,e.delay,0)&&(P("appDialog/setDialogCurKey",D.SHARE),ie("/pagesDialog/share",{},"shareData",e.data.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteLanguageUp(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),He(e.key,e.delay,0)&&(P("appDialog/setDialogCurKey",D.LANGUAGE_UP),Q("user_switch_language_status","1"),V("/pagesDialog/switch-language-remind",{},{onCloseListener(){t()}}))},e.delay*1e3)})},_dialogExecuteRamadan(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),He(e.key,e.delay,0)&&(P("appDialog/setDialogCurKey",D.RAMADAN),ie("/pagesDialog/stop-notify",{},"dataStopNotify",e.data,{onCloseListener(){t()}}))},e.delay*1e3)})},_dialogExecuteHello(e){return new Promise(t=>{Sc().then(i=>{if(!i){t();return}if(Dt&&clearInterval(Dt),e.delay<=0||Qe<=0){if(!He(e.key,Qe,0))return;P("appDialog/setDialogCurKey",D.HELLO),Ar(i,()=>{t()});return}Dt=setInterval(()=>{if(!He(e.key,Qe,0)){Dt&&clearInterval(Dt);return}Qe-=1,Qe<=0&&(clearInterval(Dt),P("appDialog/setDialogCurKey",D.HELLO),Ar(i,()=>{t()}))},1e3)})})},_dialogExecuteMsgDisturb(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),He(e.key,e.delay,$t.MSG)&&(P("appDialog/setDialogCurKey",D.MSG_DISTURB),V("/pagesDialog/disturb-def",e.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteCallDisturb(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),He(e.key,e.delay,0)&&(P("appDialog/setDialogCurKey",D.CALL_DISTURB),V("/pagesDialog/disturb-def",e.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteBan(e){return new Promise(t=>{let i=e.exp_time;if(parseInt(new Date().getTime()/1e3)>i){t();return}let a=setTimeout(()=>{clearTimeout(a);let r=e.data.from_cache?1:0;ie("/pagesDialog/banned",{from_cache:r},"bannedDialogData",e.data,{onCloseListener:n=>{t(n)}})},e.delay*1e3)})},_dialogExecuteWarning(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),ie("/pagesDialog/warning",{},"warningDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubWarning(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),ie(qt.clubWarning,{},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubDisband(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),ie(qt.clubDisband,{},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubResult(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),ie(qt.clubStatusRemind,{from_type:2},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})}};function He(e,t,i){let a;return i==0?a=Ac():a=vc(i),getApp().globalData.isGestureBacking||getApp().globalData.s.state.appDialog.appDialogStop||Da()||!a?(P("appDialog/resetDialogItem",{key:e,delay:t}),!1):!0}function Da(){return getApp().globalData.uid==0}function Ac(){return getCurrentPages().length==1}function vc(e){let t=Nt();return t.length==1&&t[0]==e}function vt(e,t){return e==1?En[t]:ic[t]}function Sc(){return new Promise(e=>{let t=getApp().globalData.s.state.appDialog.appDialogHelloData;t?e(t):N.request("/user/greet-coach-list",{},!1,!0).then(i=>{y(i.data)||y(i.data.list)?e(null):(P("appDialog/setDialogHelloData",i.data),e(i.data))},i=>{e(null)})})}function Ar(e,t){ie("/pagesDialog/quality-user",{},"qualityUserData",e,{onCloseListener:i=>{i&&Pi()?setTimeout(()=>{P("appDialog/addDialogNotify")},2300):t()}})}var Cc={curSendCont:0,msgMtimeList:[]},Tc=60,vr=6,Dc={addSendCount(e){e.curSendCont+=1},clearSendCount(e){e.curSendCont=0},addMsgDisturbSaveCount(e,t){let i=e.msgMtimeList.length;if(e.msgMtimeList.length<vr&&(e.msgMtimeList.push(t/1e6),i=e.msgMtimeList.length),i>=vr){let a=e.msgMtimeList[0];e.msgMtimeList[i-1]-a<=Tc&&P("appDialog/addDialogMsgDisturb",2),e.msgMtimeList.splice(0,1)}}},Lc={namespaced:!0,state:Cc,mutations:Dc},Ic={callMtimeList:[]},Ec=60,Sr=3,Fc={addCallDisturbReceiveCount(e,t){let i=e.callMtimeList.length;if(e.callMtimeList.length<Sr&&(e.callMtimeList.push(t/1e3),i=e.callMtimeList.length),i>=Sr){let a=e.callMtimeList[0];e.callMtimeList[i-1]-a<=Ec&&P("appDialog/addDialogCallDisturb",2),e.callMtimeList.splice(0,1)}},clearCallDisturbReceiveMtime(e){e.callMtimeList=[]}},Oc={namespaced:!0,state:Ic,mutations:Fc},Et=K("pubData");Et||(Et={});var Rc=["pubToken","pubUser","pubAccount","pubPrivacy"],Nc=function(e,t){if(Rc.indexOf(e)==-1)return;let i=K("pubData");i=i||{},i[e]=t,Q("pubData",i),["pubUser","pubAccount"].indexOf(e)!=-1?uni.$emit("event_vuex_watch",e):uni.$emit(`event_vuex_watch_${e}`)},Mc=(0,Cr.createStore)({state:{pubToken:Et.pubToken||"",pubUser:Et.pubUser||{nickname:"",uid:0,avatar:""},pubAccount:Et.pubAccount||{money:0},pubPrivacy:Et.pubPrivacy||{},pubUnread:0,pubUnreadMy:{fans:0,moment:0,moment_type:1},pubI18n:"",pubAI18n:""},mutations:{setPubValue(e,t){let i=t.name.split("."),a="",r=i.length;if(r>=2){let n=e[i[0]];for(let s=1;s<r-1;s++)n=n[i[s]];n[i[r-1]]=t.value,a=i[0]}else e[t.name]=t.value,a=t.name;Nc(a,e[a])},initUnread(e,t){let i=parseInt(t);i<0&&(i=0),e.pubUnread=i,ki(Ft.MSG,e.pubUnread),uni.$emit("event_vuex_watch_pub_unread",i)},setUnread(e,t){let i=parseInt(t);if(isNaN(i)||i==0)return;let a=e.pubUnread+i;a<0&&(a=0),e.pubUnread=a,ki(Ft.MSG,e.pubUnread),uni.$emit("event_vuex_watch_pub_unread",a)},initUnreadMy(e,t){let i=e.pubUnreadMy;typeof t.fans!="undefined"&&(i.fans=Number(t.fans)),typeof t.moment!="undefined"&&(i.moment=Number(t.moment)),typeof t.moment_type!="undefined"&&(i.moment_type=Number(t.moment_type)),e.pubUnreadMy=i,wr(),uni.$emit("event_vuex_watch_pubUnreadMy",i)},setUnreadMy(e,t){let i=e.pubUnreadMy;for(let a in t)i[a]=t[a];e.pubUnreadMy=i,wr(),uni.$emit("event_vuex_watch_pubUnreadMy",i)}},modules:{appDialog:cc,message:Lc,call:Oc}}),Lt={handleCache(){let e=Lt.getCache();y(e)||(e=ri(e),!Lt.checkIsShow()&&(e.from_cache=1,P("appDialog/addDialogBan",e),P("appDialog/executeBanWarningDialog")))},checkIsShow(){return rt()=="/pagesDialog/banned"},setCache(e){let t=JSON.stringify(e);Q(Lt.getCacheKey(),t)},getCache(){return K(Lt.getCacheKey())},getCacheKey(){return`banned_data_${Mc.state.pubUser.uid}`},removeCache(){Ke(Lt.getCacheKey())}},N={setToken(e){y(e)||We("pubToken",e)},isLogin(){let e=getApp().globalData.s.state;return!y(e.pubToken)&&e.pubUser.uid},requestOutsourcing(e,t,i,a,r=!1){return N.requestBase(e,t,i,a,r,3)},requestManager(e,t,i,a,r=!1){return N.requestBase(e,t,i,a,r,2)},request(e,t,i,a,r=!1){return N.requestBase(e,t,i,a,r,1)},requestBase(e,t,i,a,r=!1,n){return new Promise((s,c)=>{let u=!1;try{u=getApp().globalData.s.state.pubToken}catch(F){J("error","at common/api.js:35","request token catch "+JSON.stringify(F))}let p={"content-type":"application/json",ua:getApp().globalData.ua},f;n==1?(f=getApp().globalData.apiHost,u&&(p.auth=`Bearer ${u}`)):n==2?(f=getApp().globalData.pApiHost,u&&(p.Authorization=`Bearer ${u}`)):n==3&&(f=getApp().globalData.oApiHost,u&&(p.Authorization=`Bearer ${u}`));let m=!1;if(i)if(i=="refresh")m=!0;else{let F={mask:!0};typeof i=="string"&&(F.title=i),uni.showLoading(F)}_i.invoke(e,t);let _=jc(t);uni.request({url:f+e,method:"POST",header:p,data:_,dataType:"json",timeout:1e4,complete(F){if(i&&uni.hideLoading(),J("log","at common/api.js:74",`request ${e} obj ${JSON.stringify(t)}`),F.statusCode==200){let x=F.data;if(x.data&&typeof x.data.callback=="object"&&(N.handleCallback(x.data.callback),r))return hi;if(x.ok===99)return getApp().loginOut(),hi;if(x.ok==-98)return Gc(x.data),a&&c(x),hi;if(y(x.msg)||At(x.msg),x.ok>0){s(x);return}a&&c(x)}else if(m&&uni.stopPullDownRefresh(),a)c(F),_i.error(e,t,F);else return _i.error(e,t,F),hi},fail(F){_i.fail(e,F)}})})},handleCallback(e){switch(e.func_name){case"alert":Pc(e.func_data);break;case"open":Bc(e.func_data);break;case"vip_alert":ie("/pages/vip/vip-dialog",null,"vipDialogData",e.func_data);break;case"recharge_alert":let t={fromType:e.func_data.from_type,diffCoin:e.func_data.diff_coin||0};t.order_source=typeof e.func_data.order_source=="undefined"?0:e.func_data.order_source,t.click_type=typeof e.func_data.click_type=="undefined"?0:e.func_data.click_type,ie("/pages/coin/coin-dialog",t,"coinDialogData",e.func_data);break;case"close":Rt();break;case"banned_alert":let i=e.func_data.exp_time;if(parseInt(new Date().getTime()/1e3)>i||(P("appDialog/addDialogBan",e.func_data),Lt.setCache(e.func_data),rt()=="/pagesDialog/banned"))return;let r=setTimeout(()=>{clearTimeout(r),P("appDialog/executeBanWarningDialog")},e.delay*1e3);break;case"reconnect_mqtt":getApp().socketReconnect(Il.API_CALL_BACK,e.func_data);break;case"reload_route":getApp().handleSecret(e.func_data,Ql.CALLBACK,{});break;case"event":Uc(e.func_data);break;case"api":Hc(e.func_data);break;case"sensitive_alert":ie("/pagesDialog/sensitive-check",null,"sensitiveData",e.func_data),uni.hideKeyboard();break;case"free_coins":ie("/pagesDialog/coins-free",{coin:e.func_data.free_coins},"coinsFree",{},{});break}},accessLog(e,t){this.request("/other/access-log",{api_name:e,content:Jt(t)})},accessLogExtra(e,t,i){let a=`${Jt(t)} ${Jt(i)}`;this.request("/other/access-log",{api_name:e,content:a})},accessLogApi(e,t,i,a){let r=`url:${t} p:${JSON.stringify(i)} res ${Jt(a)}`;N.accessLog(e,r)}};function Pc(e){let t=e.enter_func,i=e.cancel_title,a=e.enter_title,r=e.cancel_func,n=!y(i);uni.hideKeyboard(),uni.showModal({title:e.title,content:e.msg,showCancel:n,cancelText:n?i:l("cancel"),confirmText:a||l("ok"),complete(s){s.confirm?y(t)||N.handleCallback(t):s.cancel&&(y(r)||N.handleCallback(r))}})}function Bc(e){let t=e.page_name,i=e.data;t=="inside_web"?_r(i.route,!0):t=="safari"?_r(i.route,!1):t=="web"?V(i.route):t=="native"?Wc(i.route):t=="chat"&&(Nt().indexOf("/pages/call/chat-view")==-1?Mt(i.user_info):uni.$emit("event_no_connect_close_listener",{action:"chat_pri",user:i.user_info}))}function Uc(e){let t=e.event_key;if(y(t))return;let i=e.data;y(i)?uni.$emit(t):uni.$emit(t,i)}function Hc(e){if(e.type==1){let i={user_info:{is_rest:0}};N.request("/user/update-info",i,!0).then(()=>{getApp().pubUser.is_rest=0,fe(l("tips"),l("anchorTurnedOffRest"),"",l("gotIt"))})}}function Wc(e){return new Function("return "+e)()}function Gc(e){Nt().indexOf("/pagesDialog/stop_taking")==-1&&(getApp().globalData.appStopTaking=!0,getApp().socketDisconnect(),ie("/pagesDialog/stop_taking",{},"stopTakingData",e))}function jc(e){try{y(e)&&(e={}),e.times=new Date().getTime();let t=Object.keys(e).sort(),i={};for(let r=0,n=t.length;r<n;r++)i[t[r]]=e[t[r]];let a=La(i).substr(1);return i.sign=cn.md5(`${cn.md5(a)}fMHjgD94yoc6TbB7sGoA`),i}catch(t){return e}}function La(e,t){if(e==null)return"";try{let i="",a=typeof e;if(a=="string"||a=="number")i+="&"+t+"="+sl(e);else if(a=="boolean")i+="&"+t+"="+(e?1:0);else for(let r in e){let n=t==null?r:t+Vc(r);i+=La(e[r],n)}return i}catch(i){return""}}function Vc(e){return`${encodeURIComponent("[")}${e}${encodeURIComponent("]")}`}var L=(e,t)=>{let i=e.__vccOpts||e;for(let[a,r]of t)i[a]=r;return i};var zc=["titleIcon","titleIconRadius","subtitleText","subtitleSize","subtitleColor","subtitleOverflow","titleAlign","backgroundImage","backgroundRepeat","blurEffect"],Yc={props:{title:{type:String,default:""},titleIcon:{type:String,default:""},titleIconRadius:{type:String,default:""},subtitleText:{type:String,default:""},subtitleSize:{type:String,default:""},subtitleColor:{type:String,default:""},subtitleOverflow:{type:String,default:""},titleAlign:{type:String,default:""},backgroundImage:{type:String,default:""},backgroundRepeat:{type:String,default:""},blurEffect:{type:String,default:""},loading:{type:Boolean,default:!1},frontColor:{type:String,default:"#ffffff"},backgroundColor:{type:String,default:"#000000"},colorAnimationDuration:{type:Number,default:0},colorAnimationTimingFunc:{type:String,default:"linear"}},created(){let e=getCurrentPages(),t=e[e.length-1];this.__$page=t,this.$watch("title",()=>{this.setNavigationBarTitle()}),this.$watch("loading",()=>{this.setNavigationBarLoading()}),this.$watch(()=>[this.frontColor,this.backgroundColor,this.colorAnimationDuration,this.colorAnimationTimingFunc],()=>{this.setNavigationBarColor()}),this.__$webview=t.$getAppWebview(),zc.forEach(i=>{let a={};(this[i]||this[i].length>0)&&(a[i]=this[i]),this.setTitleNView(a),this.$watch(i,r=>{let n={};n[i]=r,this.setTitleNView(n)})})},beforeMount(){this.title&&this.setNavigationBarTitle(),this.setNavigationBarLoading(),this.setNavigationBarColor()},methods:{setNavigationBarTitle(){uni.setNavigationBarTitle({__page__:this.__$page,title:this.title})},setNavigationBarLoading(){uni[(this.loading?"show":"hide")+"NavigationBarLoading"]({__page__:this.__$page})},setNavigationBarColor(){uni.setNavigationBarColor({__page__:this.__$page,frontColor:this.frontColor,backgroundColor:this.backgroundColor,animation:{duration:this.colorAnimationDuration,timingFunc:this.colorAnimationTimingFunc}})},setTitleNView(e){let t=this.__$webview,i=t.getStyle();i&&i.titleNView&&t.setStyle({titleNView:e})}}};function Kc(e,t,i,a,r,n){return(0,he.openBlock)(),(0,he.createElementBlock)("view",{style:{display:"none"},renderWhole:!0})}var $c=L(Yc,[["render",Kc]]),Jc={name:"PageMeta",setup(e,{emit:t}){Tr(i=>{t("resize",i)})},props:{backgroundTextStyle:{type:String,default:"dark",validator(e){return["dark","light"].indexOf(e)!==-1}},backgroundColor:{type:String,default:"#ffffff"},backgroundColorTop:{type:String,default:"#ffffff"},backgroundColorBottom:{type:String,default:"#ffffff"},scrollTop:{type:String,default:""},scrollDuration:{type:Number,default:300},pageStyle:{type:String,default:""},enablePullDownRefresh:{type:[Boolean,String],default:!1},rootFontSize:{type:String,default:""}},created(){let e=getCurrentPages()[0];this.$pageVm=e.$vm||e,this._currentWebview=e.$getAppWebview(),this.enablePullDownRefresh&&this.setPullDownRefresh(this._currentWebview,!0),this.$watch("enablePullDownRefresh",t=>{this.setPullDownRefresh(this._currentWebview,t)}),this.$watch("backgroundTextStyle",()=>{this.setBackgroundTextStyle()}),this.$watch(()=>[this.rootFontSize,this.pageStyle],()=>{this.setPageMeta()}),this.$watch(()=>[this.backgroundColor,this.backgroundColorTop,this.backgroundColorBottom],()=>{this.setBackgroundColor()}),this.$watch(()=>[this.scrollTop,this.scrollDuration],()=>{this.pageScrollTo()})},beforeMount(){this.setBackgroundColor(),(this.rootFontSize||this.pageStyle)&&this.setPageMeta(),this.backgroundTextStyle&&this.setBackgroundTextStyle()},mounted(){this.scrollTop&&this.pageScrollTo()},methods:{setPullDownRefresh(e,t){e.setStyle({pullToRefresh:{support:t,style:plus.os.name==="Android"?"circle":"default"}})},setPageMeta(){uni.setPageMeta({pageStyle:this.pageStyle,rootFontSize:this.rootFontSize})},setBackgroundTextStyle(){},setBackgroundColor(){},pageScrollTo(){let e=String(this.scrollTop);e.indexOf("rpx")!==-1&&(e=uni.upx2px(e.replace("rpx",""))),e=parseFloat(e),!isNaN(e)&&uni.pageScrollTo({scrollTop:e,duration:this.scrollDuration,success:()=>{}})}}};function qc(e,t,i,a,r,n){return(0,he.openBlock)(),(0,he.createElementBlock)("view",{style:{display:"none"},renderWhole:!0},[(0,he.renderSlot)(e.$slots,"default")])}var Zc=L(Jc,[["render",qc]]),Xc={props:{useBg1_1:{type:Boolean,default:!1},otherStyle:{type:String,default:""},enableRefresh:{type:Boolean,default:!1},title:{type:String,default:""}},data(){return{themeObj:getApp().globalData.themeObj}},computed:{style(){let e=`background:${this.useBg1_1?this.themeObj.color.bg1_1:this.themeObj.color.bg1};`;return y(this.otherStyle)||(e=e+this.otherStyle),e},navBarFontColor(){return this.themeObj.style==ee.LIGHT?"#000000":"#FFFFFF"},navBarBgColor(){return this.themeObj.color.bg2}}};function Qc(e,t,i,a,r,n){let s=S((0,he.resolveDynamicComponent)("navigation-bar"),$c),c=S((0,he.resolveDynamicComponent)("page-meta"),Zc);return(0,he.openBlock)(),(0,he.createBlock)(c,{"page-style":n.style,"enable-pull-down-refresh":i.enableRefresh},{default:(0,he.withCtx)(()=>[(0,he.createVNode)(s,{title:i.title,"background-color":n.navBarBgColor,"front-color":n.navBarFontColor},null,8,["title","background-color","front-color"])]),_:1},8,["page-style","enable-pull-down-refresh"])}var Ia=L(Xc,[["render",Qc]]),Ea={data(){return{themeObj:getApp().globalData.themeObj,webStyle:!1,currentWebview:!1,loadTitleViewCount:0}},computed:{pageBgColor(){return this.useBg1_1?this.themeObj.color.bg1_1:this.themeObj.color.bg1},pageBg(){return{background:this.pageBgColor}},navBarFontColor(){return this.themeObj.style==ee.LIGHT?"#000000":"#FFFFFF"}},methods:{initNavBarRBtn(e,t,i,a=""){this._setNavBar(e,t,i?this.themeObj.color.barBtn:this.themeObj.color.barBtnN,"14px",a)},initNavBarRBtnText(e,t,i="",a="14px"){let r=i||this.navBarFontColor;this._setNavBar(e,t,r,a)},initNavBarRBtnType(e,t,i){let a=i||(this.themeObj.style==ee.LIGHT?"#000000":"#FFFFFF");this._setNavBarType(e,t,a)},initNavBarRBtnTextIcon(e,t,i="22px"){let a=this.themeObj.style==ee.LIGHT?"#000000":"#FFFFFF";this._setNavBar(e,t,a,i)},initNavBarRImg(e,t){this._setNavBarImg(e,t)},initNavBarImgStyle(e,t){this._setNavBarImgStyle(e,t)},setNavBarRBtnStatus(e,t){this._setNavBarColor(e,t?this.themeObj.color.barBtn:this.themeObj.color.barBtnN)},setNavBarTitle(e){this._setNavBarTitle(e)},_setNavBarImgStyle(e,t){let i=this.webStyle.titleNView;if(i&&i.tags&&i.tags[t]){let a=i.tags[t].position,r=Object.assign(a,e);i.tags[t].position=r,this.currentWebview.setStyle({titleNView:i})}},_setNavBar(e,t,i,a,r){let n=this.webStyle.titleNView;r&&(n.titleText=r),n&&n.buttons&&n.buttons[t]&&(n.buttons[t].text=e,n.buttons[t].color=i,n.buttons[t].fontSize=a,this.currentWebview.setStyle({titleNView:n}))},_setNavBarType(e,t,i){let a=this.webStyle.titleNView;a&&a.buttons&&a.buttons[t]&&(a.buttons[t].type=e,a.buttons[t].color=i,this.currentWebview.setStyle({titleNView:a}))},_setNavBarImg(e,t){let i=this.webStyle.titleNView;i&&i.tags&&i.tags[t]&&(i.tags[t].src=e,this.currentWebview.setStyle({titleNView:i}))},_setNavBarColor(e,t){let i=this.webStyle.titleNView;i&&i.buttons&&i.buttons[e]&&(i.buttons[e].color=t,this.currentWebview.setStyle({titleNView:i}))},_setNavBarTitle(e=""){let t=this.webStyle.titleNView;t&&e&&(t.titleText=e,this.currentWebview.setStyle({titleNView:t}))},_setViewBg(e,t,i){try{if(this.webStyle=this.currentWebview.getStyle(),i&&typeof this.webStyle.titleNView=="undefined"&&this.loadTitleViewCount<10){this.loadTitleViewCount+=1,setTimeout(()=>{this._setViewBg(e,t)},100);return}this.webStyle.titleNView?(this.webStyle.titleNView.splitLine&&(this.webStyle.titleNView.splitLine.color=e),this.webStyle.titleNView.titleColor&&(this.webStyle.titleNView.titleColor=this.navBarFontColor),this.webStyle.titleNView.backgroundColor&&(this.webStyle.titleNView.backgroundColor=this.themeObj.color.bg2),this.currentWebview.setStyle({titleNView:this.webStyle.titleNView})):uni.setNavigationBarColor({frontColor:this.navBarFontColor}),this.webStyle.background=t,this.currentWebview.setStyle({background:t})}catch(a){J("error","at coms/theme.mixin.js:133","error theme.mixin.js catch ...",a)}}},onReady(){let e,t;this.themeObj.style==ee.LIGHT?e="rgba(230,230,230,0.5)":e=this.themeObj.color.bg2,t=this.useBg1_1?this.themeObj.color.bg1_1:this.themeObj.color.bg1;let i=getCurrentPages(),a=i[i.length-1];if(!a)return;this.currentWebview=a.$getAppWebview();let r,n=this.currentWebview.getNavigationbar();y(n)||Object.keys(n).length<=0?r=!0:r=!1,this._setViewBg(e,t,r)}};var g=q(Z());var ae=q(Z()),eu={"l-img":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"place-img":{"":{position:"absolute",top:0,left:0}},"text-place":{"":{color:"#999999",position:"absolute",bottom:0,textAlign:"center"}}},tu={name:"LImg",emits:["click","onError","onLoad"],props:{src:{type:String,default:""},mode:{type:String,default:"aspectFill"},w:{type:String,default:"0"},h:{type:String,default:"0"},radius:{type:String,default:"0"},lazyLoad:{type:Boolean,default:!1},fade:{type:Boolean,default:!0},placeType:{type:Number,default:0},placeW:{type:String,default:""},placeFontSize:{type:[String,Boolean],default:""},placeBottom:{type:String,default:""},border:{type:String,default:""},otherStyle:{type:Object,default(){return{}}},click:{type:Boolean,default:!0},isGif:{type:Boolean,default:!1},needStyle:{type:[String,Number],default:0},useCache:{type:Boolean,default:!1},fitWH:{type:String,default:""}},data(){return{errorCount:1,path:"",refresh:!0,darkDir:"",isLoad:!1,fitStr:""}},watch:{src(){this.isLoad=!1,this.path=this.parse()}},computed:{placeSrc(){return this.placeType==1?"/static/img_load_s.png":this.placeType==2?"/static/img_load_b.png":""},placeViewStyle(){let e={width:this.placeW,height:this.placeW,position:"relative"};return this.placeBottom&&(e.marginBottom=this.placeBottom),e},placeFontSizeVal(){return this.placeFontSize===!1?"":this.placeFontSize?this.placeFontSize:this.placeType==2?"24rpx":"16rpx"},borderStyle(){if(this.border=="")return{};let e={},t=this.border.split(" ");return e.borderWidth=t[0],e.borderStyle=t[1],e.borderColor=t[2],e},viewStyle(){let e={width:this.w,minWidth:this.w,height:this.h,minHeight:this.h};return this.setRadius(e)},imgStyle(){let e={width:this.w,height:this.h};return e=Object.assign(e,this.otherStyle),this.setRadius(e)},ossPathOriginal(){return this.isGif?getApp().globalData.ossPath:getApp().globalData.ossPicPath}},methods:{$str:l,clickImg(e){this.click&&this.$emit("click",e)},setRadius(e){let t=this.radius.split(" ");return t.length<=1?e.borderRadius=this.radius:(e.borderTopLeftRadius=t[0],e.borderTopRightRadius=t[1],e.borderBottomRightRadius=t[2],e.borderBottomLeftRadius=t[3]),e},onLoadError(){if(this.path){if(this.path.startsWith("http")){if(this.errorCount>2){this.isError=!0,this.$emit("onError");return}this.errorCount+=1,this.refresh=!1,setTimeout(()=>{this.refresh=!0},500);return}this.path=this.ossPathOriginal+this.darkDir+this.src,ca(this.darkDir+this.src)}},onLoad(){this.isLoad=!0,this.$emit("onLoad")},parse(){let e;if(e=0,this.src.startsWith("/static"))return this.src;if(this.src.startsWith("s/")){let t=getApp().getAppFilePath(this.darkDir+this.src,e);if(!y(t))return t}return this.useCache||e&&T.isAndroid?this.isGif?Me(this.fitStr+this.darkDir+this.src):vn(this.fitStr+this.darkDir+this.src):this.src.startsWith("file://")?this.src:this.src.startsWith("/var/mobile/")?"file://"+this.src:this.src.startsWith("/storage/")?this.src:this.ossPathOriginal+this.fitStr+this.darkDir+this.src}},created(){this.needStyle==1&&getApp().globalData.themeObj.style==ee.DARK?this.darkDir="dark/":this.darkDir="",this.fitWH&&this.src.indexOf("fit-in")==-1&&(this.fitStr="fit-in/"+this.fitWH+"/"),this.path=this.parse()}};function iu(e,t,i,a,r,n){return(0,ae.openBlock)(),(0,ae.createElementBlock)("view",{class:"l-img",onClick:t[2]||(t[2]=(...s)=>n.clickImg&&n.clickImg(...s)),style:(0,ae.normalizeStyle)([n.viewStyle,n.borderStyle]),renderWhole:!0},[(0,ae.createElementVNode)("view",{class:"l-img",style:(0,ae.normalizeStyle)([{position:"relative"},n.viewStyle])},[i.placeType&&!r.isLoad?((0,ae.openBlock)(),(0,ae.createElementBlock)("view",{key:0,style:(0,ae.normalizeStyle)(n.placeViewStyle)},[(0,ae.createElementVNode)("u-image",{src:n.placeSrc,style:(0,ae.normalizeStyle)({width:i.placeW,height:i.placeW})},null,12,["src"]),n.placeFontSizeVal?((0,ae.openBlock)(),(0,ae.createElementBlock)("u-text",{key:0,class:"text-place",style:(0,ae.normalizeStyle)({fontSize:n.placeFontSizeVal,width:i.placeW})},(0,ae.toDisplayString)(n.$str("loading"))+"...",5)):(0,ae.createCommentVNode)("",!0)],4)):(0,ae.createCommentVNode)("",!0),r.refresh?((0,ae.openBlock)(),(0,ae.createElementBlock)("u-image",{key:1,onError:t[0]||(t[0]=(...s)=>n.onLoadError&&n.onLoadError(...s)),onLoad:t[1]||(t[1]=(...s)=>n.onLoad&&n.onLoad(...s)),src:r.path,mode:i.mode,lazyLoad:i.lazyLoad,fadeShow:i.fade,style:(0,ae.normalizeStyle)([n.imgStyle,n.borderStyle]),class:"place-img"},null,44,["src","mode","lazyLoad","fadeShow"])):(0,ae.createCommentVNode)("",!0)],4)],4)}var R=L(tu,[["render",iu],["styles",[eu]]]);var E=q(Z());var lt=q(Z());var nu={id:"2852637",name:"uniui\u56FE\u6807\u5E93",font_family:"uniicons",css_prefix_text:"uniui-",description:"",glyphs:[{icon_id:"25027049",name:"yanse",font_class:"color",unicode:"e6cf",unicode_decimal:59087},{icon_id:"25027048",name:"wallet",font_class:"wallet",unicode:"e6b1",unicode_decimal:59057},{icon_id:"25015720",name:"settings-filled",font_class:"settings-filled",unicode:"e6ce",unicode_decimal:59086},{icon_id:"25015434",name:"shimingrenzheng-filled",font_class:"auth-filled",unicode:"e6cc",unicode_decimal:59084},{icon_id:"24934246",name:"shop-filled",font_class:"shop-filled",unicode:"e6cd",unicode_decimal:59085},{icon_id:"24934159",name:"staff-filled-01",font_class:"staff-filled",unicode:"e6cb",unicode_decimal:59083},{icon_id:"24932461",name:"VIP-filled",font_class:"vip-filled",unicode:"e6c6",unicode_decimal:59078},{icon_id:"24932462",name:"plus_circle_fill",font_class:"plus-filled",unicode:"e6c7",unicode_decimal:59079},{icon_id:"24932463",name:"folder_add-filled",font_class:"folder-add-filled",unicode:"e6c8",unicode_decimal:59080},{icon_id:"24932464",name:"yanse-filled",font_class:"color-filled",unicode:"e6c9",unicode_decimal:59081},{icon_id:"24932465",name:"tune-filled",font_class:"tune-filled",unicode:"e6ca",unicode_decimal:59082},{icon_id:"24932455",name:"a-rilidaka-filled",font_class:"calendar-filled",unicode:"e6c0",unicode_decimal:59072},{icon_id:"24932456",name:"notification-filled",font_class:"notification-filled",unicode:"e6c1",unicode_decimal:59073},{icon_id:"24932457",name:"wallet-filled",font_class:"wallet-filled",unicode:"e6c2",unicode_decimal:59074},{icon_id:"24932458",name:"paihangbang-filled",font_class:"medal-filled",unicode:"e6c3",unicode_decimal:59075},{icon_id:"24932459",name:"gift-filled",font_class:"gift-filled",unicode:"e6c4",unicode_decimal:59076},{icon_id:"24932460",name:"fire-filled",font_class:"fire-filled",unicode:"e6c5",unicode_decimal:59077},{icon_id:"24928001",name:"refreshempty",font_class:"refreshempty",unicode:"e6bf",unicode_decimal:59071},{icon_id:"24926853",name:"location-ellipse",font_class:"location-filled",unicode:"e6af",unicode_decimal:59055},{icon_id:"24926735",name:"person-filled",font_class:"person-filled",unicode:"e69d",unicode_decimal:59037},{icon_id:"24926703",name:"personadd-filled",font_class:"personadd-filled",unicode:"e698",unicode_decimal:59032},{icon_id:"24923351",name:"back",font_class:"back",unicode:"e6b9",unicode_decimal:59065},{icon_id:"24923352",name:"forward",font_class:"forward",unicode:"e6ba",unicode_decimal:59066},{icon_id:"24923353",name:"arrowthinright",font_class:"arrow-right",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923353",name:"arrowthinright",font_class:"arrowthinright",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrow-left",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrowthinleft",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923355",name:"arrowthinup",font_class:"arrow-up",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923355",name:"arrowthinup",font_class:"arrowthinup",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923356",name:"arrowthindown",font_class:"arrow-down",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923356",name:"arrowthindown",font_class:"arrowthindown",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923349",name:"arrowdown",font_class:"bottom",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923349",name:"arrowdown",font_class:"arrowdown",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923346",name:"arrowright",font_class:"right",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923346",name:"arrowright",font_class:"arrowright",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923347",name:"arrowup",font_class:"top",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923347",name:"arrowup",font_class:"arrowup",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923348",name:"arrowleft",font_class:"left",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923348",name:"arrowleft",font_class:"arrowleft",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923334",name:"eye",font_class:"eye",unicode:"e651",unicode_decimal:58961},{icon_id:"24923335",name:"eye-filled",font_class:"eye-filled",unicode:"e66a",unicode_decimal:58986},{icon_id:"24923336",name:"eye-slash",font_class:"eye-slash",unicode:"e6b3",unicode_decimal:59059},{icon_id:"24923337",name:"eye-slash-filled",font_class:"eye-slash-filled",unicode:"e6b4",unicode_decimal:59060},{icon_id:"24923305",name:"info-filled",font_class:"info-filled",unicode:"e649",unicode_decimal:58953},{icon_id:"24923299",name:"reload-01",font_class:"reload",unicode:"e6b2",unicode_decimal:59058},{icon_id:"24923195",name:"mic_slash_fill",font_class:"micoff-filled",unicode:"e6b0",unicode_decimal:59056},{icon_id:"24923165",name:"map-pin-ellipse",font_class:"map-pin-ellipse",unicode:"e6ac",unicode_decimal:59052},{icon_id:"24923166",name:"map-pin",font_class:"map-pin",unicode:"e6ad",unicode_decimal:59053},{icon_id:"24923167",name:"location",font_class:"location",unicode:"e6ae",unicode_decimal:59054},{icon_id:"24923064",name:"starhalf",font_class:"starhalf",unicode:"e683",unicode_decimal:59011},{icon_id:"24923065",name:"star",font_class:"star",unicode:"e688",unicode_decimal:59016},{icon_id:"24923066",name:"star-filled",font_class:"star-filled",unicode:"e68f",unicode_decimal:59023},{icon_id:"24899646",name:"a-rilidaka",font_class:"calendar",unicode:"e6a0",unicode_decimal:59040},{icon_id:"24899647",name:"fire",font_class:"fire",unicode:"e6a1",unicode_decimal:59041},{icon_id:"24899648",name:"paihangbang",font_class:"medal",unicode:"e6a2",unicode_decimal:59042},{icon_id:"24899649",name:"font",font_class:"font",unicode:"e6a3",unicode_decimal:59043},{icon_id:"24899650",name:"gift",font_class:"gift",unicode:"e6a4",unicode_decimal:59044},{icon_id:"24899651",name:"link",font_class:"link",unicode:"e6a5",unicode_decimal:59045},{icon_id:"24899652",name:"notification",font_class:"notification",unicode:"e6a6",unicode_decimal:59046},{icon_id:"24899653",name:"staff",font_class:"staff",unicode:"e6a7",unicode_decimal:59047},{icon_id:"24899654",name:"VIP",font_class:"vip",unicode:"e6a8",unicode_decimal:59048},{icon_id:"24899655",name:"folder_add",font_class:"folder-add",unicode:"e6a9",unicode_decimal:59049},{icon_id:"24899656",name:"tune",font_class:"tune",unicode:"e6aa",unicode_decimal:59050},{icon_id:"24899657",name:"shimingrenzheng",font_class:"auth",unicode:"e6ab",unicode_decimal:59051},{icon_id:"24899565",name:"person",font_class:"person",unicode:"e699",unicode_decimal:59033},{icon_id:"24899566",name:"email-filled",font_class:"email-filled",unicode:"e69a",unicode_decimal:59034},{icon_id:"24899567",name:"phone-filled",font_class:"phone-filled",unicode:"e69b",unicode_decimal:59035},{icon_id:"24899568",name:"phone",font_class:"phone",unicode:"e69c",unicode_decimal:59036},{icon_id:"24899570",name:"email",font_class:"email",unicode:"e69e",unicode_decimal:59038},{icon_id:"24899571",name:"personadd",font_class:"personadd",unicode:"e69f",unicode_decimal:59039},{icon_id:"24899558",name:"chatboxes-filled",font_class:"chatboxes-filled",unicode:"e692",unicode_decimal:59026},{icon_id:"24899559",name:"contact",font_class:"contact",unicode:"e693",unicode_decimal:59027},{icon_id:"24899560",name:"chatbubble-filled",font_class:"chatbubble-filled",unicode:"e694",unicode_decimal:59028},{icon_id:"24899561",name:"contact-filled",font_class:"contact-filled",unicode:"e695",unicode_decimal:59029},{icon_id:"24899562",name:"chatboxes",font_class:"chatboxes",unicode:"e696",unicode_decimal:59030},{icon_id:"24899563",name:"chatbubble",font_class:"chatbubble",unicode:"e697",unicode_decimal:59031},{icon_id:"24881290",name:"upload-filled",font_class:"upload-filled",unicode:"e68e",unicode_decimal:59022},{icon_id:"24881292",name:"upload",font_class:"upload",unicode:"e690",unicode_decimal:59024},{icon_id:"24881293",name:"weixin",font_class:"weixin",unicode:"e691",unicode_decimal:59025},{icon_id:"24881274",name:"compose",font_class:"compose",unicode:"e67f",unicode_decimal:59007},{icon_id:"24881275",name:"qq",font_class:"qq",unicode:"e680",unicode_decimal:59008},{icon_id:"24881276",name:"download-filled",font_class:"download-filled",unicode:"e681",unicode_decimal:59009},{icon_id:"24881277",name:"pengyouquan",font_class:"pyq",unicode:"e682",unicode_decimal:59010},{icon_id:"24881279",name:"sound",font_class:"sound",unicode:"e684",unicode_decimal:59012},{icon_id:"24881280",name:"trash-filled",font_class:"trash-filled",unicode:"e685",unicode_decimal:59013},{icon_id:"24881281",name:"sound-filled",font_class:"sound-filled",unicode:"e686",unicode_decimal:59014},{icon_id:"24881282",name:"trash",font_class:"trash",unicode:"e687",unicode_decimal:59015},{icon_id:"24881284",name:"videocam-filled",font_class:"videocam-filled",unicode:"e689",unicode_decimal:59017},{icon_id:"24881285",name:"spinner-cycle",font_class:"spinner-cycle",unicode:"e68a",unicode_decimal:59018},{icon_id:"24881286",name:"weibo",font_class:"weibo",unicode:"e68b",unicode_decimal:59019},{icon_id:"24881288",name:"videocam",font_class:"videocam",unicode:"e68c",unicode_decimal:59020},{icon_id:"24881289",name:"download",font_class:"download",unicode:"e68d",unicode_decimal:59021},{icon_id:"24879601",name:"help",font_class:"help",unicode:"e679",unicode_decimal:59001},{icon_id:"24879602",name:"navigate-filled",font_class:"navigate-filled",unicode:"e67a",unicode_decimal:59002},{icon_id:"24879603",name:"plusempty",font_class:"plusempty",unicode:"e67b",unicode_decimal:59003},{icon_id:"24879604",name:"smallcircle",font_class:"smallcircle",unicode:"e67c",unicode_decimal:59004},{icon_id:"24879605",name:"minus-filled",font_class:"minus-filled",unicode:"e67d",unicode_decimal:59005},{icon_id:"24879606",name:"micoff",font_class:"micoff",unicode:"e67e",unicode_decimal:59006},{icon_id:"24879588",name:"closeempty",font_class:"closeempty",unicode:"e66c",unicode_decimal:58988},{icon_id:"24879589",name:"clear",font_class:"clear",unicode:"e66d",unicode_decimal:58989},{icon_id:"24879590",name:"navigate",font_class:"navigate",unicode:"e66e",unicode_decimal:58990},{icon_id:"24879591",name:"minus",font_class:"minus",unicode:"e66f",unicode_decimal:58991},{icon_id:"24879592",name:"image",font_class:"image",unicode:"e670",unicode_decimal:58992},{icon_id:"24879593",name:"mic",font_class:"mic",unicode:"e671",unicode_decimal:58993},{icon_id:"24879594",name:"paperplane",font_class:"paperplane",unicode:"e672",unicode_decimal:58994},{icon_id:"24879595",name:"close",font_class:"close",unicode:"e673",unicode_decimal:58995},{icon_id:"24879596",name:"help-filled",font_class:"help-filled",unicode:"e674",unicode_decimal:58996},{icon_id:"24879597",name:"plus-filled",font_class:"paperplane-filled",unicode:"e675",unicode_decimal:58997},{icon_id:"24879598",name:"plus",font_class:"plus",unicode:"e676",unicode_decimal:58998},{icon_id:"24879599",name:"mic-filled",font_class:"mic-filled",unicode:"e677",unicode_decimal:58999},{icon_id:"24879600",name:"image-filled",font_class:"image-filled",unicode:"e678",unicode_decimal:59e3},{icon_id:"24855900",name:"locked-filled",font_class:"locked-filled",unicode:"e668",unicode_decimal:58984},{icon_id:"24855901",name:"info",font_class:"info",unicode:"e669",unicode_decimal:58985},{icon_id:"24855903",name:"locked",font_class:"locked",unicode:"e66b",unicode_decimal:58987},{icon_id:"24855884",name:"camera-filled",font_class:"camera-filled",unicode:"e658",unicode_decimal:58968},{icon_id:"24855885",name:"chat-filled",font_class:"chat-filled",unicode:"e659",unicode_decimal:58969},{icon_id:"24855886",name:"camera",font_class:"camera",unicode:"e65a",unicode_decimal:58970},{icon_id:"24855887",name:"circle",font_class:"circle",unicode:"e65b",unicode_decimal:58971},{icon_id:"24855888",name:"checkmarkempty",font_class:"checkmarkempty",unicode:"e65c",unicode_decimal:58972},{icon_id:"24855889",name:"chat",font_class:"chat",unicode:"e65d",unicode_decimal:58973},{icon_id:"24855890",name:"circle-filled",font_class:"circle-filled",unicode:"e65e",unicode_decimal:58974},{icon_id:"24855891",name:"flag",font_class:"flag",unicode:"e65f",unicode_decimal:58975},{icon_id:"24855892",name:"flag-filled",font_class:"flag-filled",unicode:"e660",unicode_decimal:58976},{icon_id:"24855893",name:"gear-filled",font_class:"gear-filled",unicode:"e661",unicode_decimal:58977},{icon_id:"24855894",name:"home",font_class:"home",unicode:"e662",unicode_decimal:58978},{icon_id:"24855895",name:"home-filled",font_class:"home-filled",unicode:"e663",unicode_decimal:58979},{icon_id:"24855896",name:"gear",font_class:"gear",unicode:"e664",unicode_decimal:58980},{icon_id:"24855897",name:"smallcircle-filled",font_class:"smallcircle-filled",unicode:"e665",unicode_decimal:58981},{icon_id:"24855898",name:"map-filled",font_class:"map-filled",unicode:"e666",unicode_decimal:58982},{icon_id:"24855899",name:"map",font_class:"map",unicode:"e667",unicode_decimal:58983},{icon_id:"24855825",name:"refresh-filled",font_class:"refresh-filled",unicode:"e656",unicode_decimal:58966},{icon_id:"24855826",name:"refresh",font_class:"refresh",unicode:"e657",unicode_decimal:58967},{icon_id:"24855808",name:"cloud-upload",font_class:"cloud-upload",unicode:"e645",unicode_decimal:58949},{icon_id:"24855809",name:"cloud-download-filled",font_class:"cloud-download-filled",unicode:"e646",unicode_decimal:58950},{icon_id:"24855810",name:"cloud-download",font_class:"cloud-download",unicode:"e647",unicode_decimal:58951},{icon_id:"24855811",name:"cloud-upload-filled",font_class:"cloud-upload-filled",unicode:"e648",unicode_decimal:58952},{icon_id:"24855813",name:"redo",font_class:"redo",unicode:"e64a",unicode_decimal:58954},{icon_id:"24855814",name:"images-filled",font_class:"images-filled",unicode:"e64b",unicode_decimal:58955},{icon_id:"24855815",name:"undo-filled",font_class:"undo-filled",unicode:"e64c",unicode_decimal:58956},{icon_id:"24855816",name:"more",font_class:"more",unicode:"e64d",unicode_decimal:58957},{icon_id:"24855817",name:"more-filled",font_class:"more-filled",unicode:"e64e",unicode_decimal:58958},{icon_id:"24855818",name:"undo",font_class:"undo",unicode:"e64f",unicode_decimal:58959},{icon_id:"24855819",name:"images",font_class:"images",unicode:"e650",unicode_decimal:58960},{icon_id:"24855821",name:"paperclip",font_class:"paperclip",unicode:"e652",unicode_decimal:58962},{icon_id:"24855822",name:"settings",font_class:"settings",unicode:"e653",unicode_decimal:58963},{icon_id:"24855823",name:"search",font_class:"search",unicode:"e654",unicode_decimal:58964},{icon_id:"24855824",name:"redo-filled",font_class:"redo-filled",unicode:"e655",unicode_decimal:58965},{icon_id:"24841702",name:"list",font_class:"list",unicode:"e644",unicode_decimal:58948},{icon_id:"24841489",name:"mail-open-filled",font_class:"mail-open-filled",unicode:"e63a",unicode_decimal:58938},{icon_id:"24841491",name:"hand-thumbsdown-filled",font_class:"hand-down-filled",unicode:"e63c",unicode_decimal:58940},{icon_id:"24841492",name:"hand-thumbsdown",font_class:"hand-down",unicode:"e63d",unicode_decimal:58941},{icon_id:"24841493",name:"hand-thumbsup-filled",font_class:"hand-up-filled",unicode:"e63e",unicode_decimal:58942},{icon_id:"24841494",name:"hand-thumbsup",font_class:"hand-up",unicode:"e63f",unicode_decimal:58943},{icon_id:"24841496",name:"heart-filled",font_class:"heart-filled",unicode:"e641",unicode_decimal:58945},{icon_id:"24841498",name:"mail-open",font_class:"mail-open",unicode:"e643",unicode_decimal:58947},{icon_id:"24841488",name:"heart",font_class:"heart",unicode:"e639",unicode_decimal:58937},{icon_id:"24839963",name:"loop",font_class:"loop",unicode:"e633",unicode_decimal:58931},{icon_id:"24839866",name:"pulldown",font_class:"pulldown",unicode:"e632",unicode_decimal:58930},{icon_id:"24813798",name:"scan",font_class:"scan",unicode:"e62a",unicode_decimal:58922},{icon_id:"24813786",name:"bars",font_class:"bars",unicode:"e627",unicode_decimal:58919},{icon_id:"24813788",name:"cart-filled",font_class:"cart-filled",unicode:"e629",unicode_decimal:58921},{icon_id:"24813790",name:"checkbox",font_class:"checkbox",unicode:"e62b",unicode_decimal:58923},{icon_id:"24813791",name:"checkbox-filled",font_class:"checkbox-filled",unicode:"e62c",unicode_decimal:58924},{icon_id:"24813794",name:"shop",font_class:"shop",unicode:"e62f",unicode_decimal:58927},{icon_id:"24813795",name:"headphones",font_class:"headphones",unicode:"e630",unicode_decimal:58928},{icon_id:"24813796",name:"cart",font_class:"cart",unicode:"e631",unicode_decimal:58929}]},ru="/static/uniicons.ttf",au={"uni-icons":{"":{fontFamily:"uniicons",textDecoration:"none",textAlign:"center"}}},su=weex.requireModule("dom");su.addRule("fontFace",{fontFamily:"uniicons",src:"url('"+ru+"')"});var ou={name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""}},data(){return{icons:nu.glyphs}},computed:{unicode(){let e=this.icons.find(t=>t.font_class===this.type);return e?unescape(`%u${e.unicode}`):""}},methods:{_onClick(e){this.$emit("click",e)}}};function lu(e,t,i,a,r,n){return(0,lt.openBlock)(),(0,lt.createElementBlock)("u-text",{style:(0,lt.normalizeStyle)({color:i.color,"font-size":i.size}),class:"uni-icons",onClick:t[0]||(t[0]=(...s)=>n._onClick&&n._onClick(...s))},(0,lt.toDisplayString)(n.unicode),5)}var le=L(ou,[["render",lu],["styles",[au]]]);var Ut=q(Z());var Fa={};function ct(e,t="",i={}){if(cu()&&typeof Fa.fbEvent!="undefined")try{Fa.fbEvent({event:e,valueToSum:t,params:i},function(){J("info","at comEvent/event.js:17",`fbEvent ${e} success`)},function(){J("error","at comEvent/event.js:19",`fbEvent ${e} error`)})}catch(a){}}function cu(){return!(!T.isAndroid&&T.appV<133)}function Oa(e,t,i=!1,a=0){t&&(ct("videochat_click_total"),ct(`videochat_click_${On()}_total`));let r=`videochat_${e}`;i&&(r=`${r}_${On(a)}`),ct(r)}function Bi(e,t){t==1?ct("gift_total_click"):t==2&&ct("gift_total_success"),ct(`gift_${e}`)}function Ra(e,t,i=!1){t&&ct("message_click_total");let a=`message_${e}`;i&&(a=`${a}_${On()}`),ct(a)}function On(e){return ne()?e?"anchor".substr(0,6-e):"anchor":"user"}var Ve={MSG:1,CALL:2,HOME:3,GAME:4,CLUB:5,GRAB:6,MOMENT:8},Ae={GIFT:1,BAG:2},uu={};function Na(){return new Promise(e=>{let t=K("g_gift_1");y(t)||getApp().globalData.giftVersion>parseInt(t.version)?N.request("/chat/gift/res",{}).then(i=>{let a={version:i.data.version,content:i.data.res};Q("g_gift_1",a),Ui(i.data.res),e(a.content)}):(Ui(t.content),e(t.content))})}function Ma(){return new Promise(e=>{let t=K("gift_bag_"+getApp().globalData.uid);y(t)?Bt().then(i=>{e(i)}):(Ui(t),e(t))})}function Bt(){return new Promise(e=>{N.request("/chat/gift/bag",{}).then(t=>{let i=t.data.list||[],a=du(i),r={list:i,count:a};Q("gift_bag_"+getApp().globalData.uid,r),Ui(i),pu(i),e(r)})})}function pu(e){let t="gift_bag_swipe_current_"+getApp().globalData.uid,i="gift_bag_current_info_"+getApp().globalData.uid,a=K(t),r=K(i);if(y(e))a&&Ke(t),r&&Ke(i);else if(!r)Q(i,e[0]);else{let n="";for(let s=0,c=e.length;s<c;s++){let u=e[s];u.gift_id==r.gift_id&&(n=u)}y(n)?Q(i,e[0]):Q(i,n)}}function du(e){let t=0;for(let i=0,a=e.length;i<a;i++)t+=e[i].num;return t}function Ui(e){for(let t=0,i=e.length;t<i;t++){let a=e[t];uu[a.gift_id]=a}}var fu={emits:["click"],components:{LImg:R},props:{user:{type:Object,default(){return{}}},w:{type:String,default:"0"},h:{type:String,default:"0"},radius:{type:String,default:"0"},setKey:{type:String,default:"small_avatar"},border:{type:String,default:""},placeType:{type:Number,default:1},placeW:{type:String,default:""},placeFontSize:{type:[String,Boolean],default:""},placeBottom:{type:String,default:""},click:{type:Boolean,default:!0},fromAdmin:{type:[Boolean,Number],default:!1},fromType:{type:Number,default:1},fade:{type:Boolean,default:!0}},computed:{avatarUrl(){return Mi(this.user,this.setKey,this.fromAdmin,this.fromType)}},methods:{clickAvatar(e){this.click&&this.$emit("click",e)}}};function mu(e,t,i,a,r,n){let s=S((0,Ut.resolveDynamicComponent)("l-img"),R);return(0,Ut.openBlock)(),(0,Ut.createBlock)(s,{onClick:n.clickAvatar,src:n.avatarUrl,w:i.w,h:i.h,radius:i.radius,border:i.border,"place-type":i.placeType,"place-w":i.placeW,"place-font-size":i.placeFontSize,"place-bottom":i.placeBottom,fade:i.fade},null,8,["onClick","src","w","h","radius","border","place-type","place-w","place-font-size","place-bottom","fade"])}var Ge=L(fu,[["render",mu]]);function hu(){return getApp().globalData.appCRE||Je(40,1,!1)?!0:(me(l("tips"),l("call40CoinsTip"),()=>{V("/pages/coin/coins")},"","Purchase"),!1)}function St(e,t,i){hu()&&gu(jr.CALL,wt.VIDEO,bn.CALL,e,t,null,i,Vr.DEF)}function gu(e,t,i,a,r,n,s,c){if(J("error","at comCall/call.js:48","_openCall "+getApp().globalData.curCallId),y(a))return;if(a.uid==getApp().globalData.uid){if(i!=bn.CALL)return;fe(l("tips"),l("noCallSelf"),"",l("gotIt"));return}if(getApp().globalData.curCallId!=Qt.NONE)return;getApp().globalData.curCallId=Qt.WEEK_UP;let u=_u(e,t,i,a,r,n,s,c);ie("/pages/call/chat-view",{},"callViewData",u)}function _u(e,t,i,a,r,n,s,c){let u={user:a,roomType:e,callType:t,actionType:i,fromType:s,videoInfo:r,openType:c};return r&&(u.videoInfo=r),n&&(u.roomInfo=n,n.isGame&&(u.isGame=n.isGame)),u}var yu=Ee("animation"),bu={props:{id:{type:String,default:""},isTab:{type:Boolean,default:!1}},data(){return{sW:getApp().globalData.window.width,left:-getApp().globalData.window.width,show:!1,data:{},userInfo:{},club:{},animDoing:!1,animationData:{},list:[],listTwo:[]}},computed:{bottom(){let e=getApp().globalData.window.height*.2;return this.isTab?e-getApp().globalData.window.tabBarHeight-getApp().globalData.window.safeBottom:e},viewBg(){return getApp().globalData.themeObj.style==ee.LIGHT?"#000000":"#444444"}},methods:{clickThis(e){if(e&&e.stopPropagation(),this.data.type==6||this.data.type==8){let t=ne()?this.userInfo.uid:this.data.to_user.uid;this.openUserHome(t)}else if(this.data.type==9)ra();else if(this.data.type==13)V("/pagesMsg/notice/chat");else if(this.data.type==11||this.data.type==14)this.openClub();else if(this.data.type==15)St(this.userInfo,null,xt.RECOMMEND);else if(this.data.type==17){if(rt()=="/pagesPub/luck-draw/index")return;V("/pagesPub/luck-draw/index")}else this.openUserHome(this.userInfo.uid)},clickItem(e,t){if(e&&e.stopPropagation(),t.uid){if(this.data.type==17){if(rt()=="/pagesPub/luck-draw/index")return;V("/pagesPub/luck-draw/index");return}this.openUserHome(t.uid)}else t.clubId&&this.openClub()},openUserHome(e){Ei(e)},openClub(){aa(this.club.club_id,parseInt(this.club.is_member)==1?1:0,1)},anim(e,t,i,a){return new Promise(r=>{yu.transition(this.$refs.animView,{styles:e,duration:t,timingFunction:a,needLayout:!1,delay:i},()=>{r()})})},startAnimIn(){return this.anim({transform:`translateX(${this.sW}px)`},1e3,0,"ease-out")},startAnimOut(){return this.anim({opacity:"0"},1e3,4e3,"linear")},startAnimReset(){return this.anim({opacity:"1",transform:`translateX(-${this.sW}px)`},50,0,"linear")},startAnimH5(e){let t=uni.createAnimation({timingFunction:"linear"});t.translateX(this.sW).step({duration:500,timingFunction:"ease-out"}),T.isAndroid?t.translateX(-this.sW).opacity(0).step({duration:1e3,delay:4e3}):(t.opacity(0).step({duration:1e3,delay:4e3}),t.translateX(-this.sW).step({duration:50})),t.opacity(1).step({duration:50}),this.animationData=t.export(),setTimeout(()=>{e()},6e3)},getTextItem(e,t,i,a){let r={color:t||"#0091FF"};return i!=0&&(r.maxWidth=`${i}rpx`),{type:1,text:e,extra:a,style:r}},getImgItem(e,t,i,a,r){return{type:2,url:e,width:"48rpx",height:"48rpx",radius:t||"4rpx",extra:r,style:{marginLeft:`${a}rpx`,marginRight:`${i}rpx`}}},getRightItem(){return{type:3}},getUserList(e,t){return[this.getImgItem(e.small_avatar,"","8",0,{uid:e.uid}),this.getTextItem(e.nickname,"",t,{uid:e.uid})]},getClubList(e,t){return[this.getImgItem(e.club_logo,"","8",0,{clubId:e.club_id}),this.getTextItem(e.club_name,"",t,{clubId:e.club_id})]},parseList(e,t){let i=[],a=e.split(/(\[%\w+%\])/).filter(function(r){return r!==""});for(let r=0,n=a.length;r<n;r++){let s=a[r];if(s.startsWith("[%")){let u=s.replace(/[\s+,\[%,%\]]/g,""),p=t[u];p&&(i=[...i,...p])}else{let u={};i.push({type:0,content:s,style:u})}}return i},parseVip(){let e;return this.data.date_type==1?e=zr(this.data.vip_time):this.data.date_type==2?e=Yr(this.data.vip_time):this.data.date_type==3&&(e=Kr(this.data.vip_time)),this.parseList(l("noticeS.vip"),{name:this.getUserList(this.userInfo,"140"),time:[{type:0,content:e}]})},parseRecharge(){return this.parseList(l("noticeS.recharge"),{name:this.getUserList(this.userInfo,"140"),coin:[{type:0,content:this.data.money}]})},parseChecked(){return this.parseList(l("noticeS.check"),{name:this.getUserList(this.userInfo,"140")})},parseFollow(){return this.parseList(l("noticeS.follow"),{name:this.getUserList(this.userInfo,"140")})},parseOnline(){return this.parseList(l("noticeS.online"),{name:this.getUserList(this.userInfo,"140")})},parseCall(){let e=parseInt(this.data.call_duration);e=isNaN(e)?1:Math.ceil(e/60);let t=`${e} ${$r(e)}`;return this.listTwo=this.parseList(l("noticeS.callTwo",{time:t}),{name:[this.getTextItem(this.data.to_user.nickname,"","140",{uid:this.data.to_user.uid})]}),this.parseList(l("noticeS.callOne",{chatType:Ti(this.data.call_type)}),{name:this.getUserList(this.userInfo,"140"),avatar:[this.getImgItem(this.data.to_user.small_avatar,"","8",0,{uid:this.data.to_user.uid})]})},parseGift(){return this.parseList(l("noticeS.gift"),{user:this.getUserList(this.userInfo,"140"),to_user:this.getUserList(this.data.to_user,"140"),gift:[this.getImgItem(this.data.gift_icon,0,0,0,null),{type:0,content:`x${this.data.gift_num}`}]})},parseGameLucky(){return this.listTwo=this.parseList(l("noticeS.gameLuckyTwo",{number:this.data.bonus}),{}),this.parseList(l("noticeS.gameLuckyOne"),{name:this.getUserList(this.userInfo,"140")})},parseRankingRecommend(){return this.listTwo=[this.getImgItem(this.userInfo.small_avatar,0,"8",0,{uid:this.userInfo.uid}),this.getTextItem(this.userInfo.nickname,"","240",{uid:this.userInfo.uid}),this.getRightItem()],this.parseList(l("noticeS.rankingRecommend",{number:this.data.rank}),{})},parseClubGift(){return this.listTwo=[{type:0,content:l("noticeS.clubGift2")},this.getRightItem()],this.parseList(l("noticeS.clubGift1"),{club:this.getClubList(this.club,"180")})},parseClubInvite(){let e=this.parseList(l("noticeS.clubInvite"),{user:this.getUserList(this.userInfo,"100"),club:this.getClubList(this.club,"120")});return e.push(this.getRightItem()),e},parseClubRecommend(){let e=this.parseList(l("noticeS.clubRecommend"),{club:this.getClubList(this.club,"140")});return e.push(this.getRightItem()),e},parseCallRecommend(){return this.listTwo=this.parseList(l("noticeS.callRecommend2",{whom:Fe(this.userInfo.sex)}),{}),this.parseList(l("noticeS.callRecommend1"),{user:this.getUserList(this.userInfo,"120")})},parseBoostUser(){return this.listTwo=this.parseList(l("noticeS.boostUser2"),{}),this.parseList(l("noticeS.boostUser1",{himself:qr(this.userInfo.sex)}),{user:this.getUserList(this.userInfo,"120")})},parsePrizeWheel(){let e,t;if(this.data.bonus_list.length>1)e=!1;else{let i=this.data.bonus_list[0];i.type==vi.BOX?(e=i.result.type==vi.GIFT,t=i.result):(e=i.type==vi.GIFT,t=i)}return e?this.listTwo=this.parseList(l("noticeS.prizeWheelTwo"),{prize:[this.getImgItem(t.icon,0,0,0,null),{type:0,content:t.num>1?`x${t.num}`:""}]}):this.listTwo=this.parseList(l("noticeS.prizeWheelTwo"),{prize:[this.getTextItem(Di(this.data.total_bonus),"#FFFFFF",0,{})]}),this.parseList(l("noticeS.prizeWheelOne"),{user:this.getUserList(this.userInfo,"120")})},parseNodes(){switch(this.data.type){case 1:return this.listTwo=[],this.parseVip();case 2:return this.listTwo=[],this.parseRecharge();case 3:return this.listTwo=[],this.parseChecked();case 4:return this.listTwo=[],this.parseFollow();case 5:return this.listTwo=[],this.parseOnline();case 6:return this.parseCall();case 8:return this.listTwo=[],this.parseGift();case 9:return this.parseGameLucky();case 10:return this.parseRankingRecommend();case 11:return this.parseClubGift();case 13:return this.listTwo=[],this.parseClubInvite();case 14:return this.listTwo=[],this.parseClubRecommend();case 15:return getApp().globalData.appCRE?this.parseCallRecommend():null;case 16:return this.parseBoostUser();case 17:return this.parsePrizeWheel();default:return null}},parseData(e,t){this.list=[],this.data=e,this.userInfo=this.data.user_info,this.club=this.data.club_info;let i=this.parseNodes();if(i==null){typeof t=="function"&&t(!1);return}this.list=i,this.$nextTick(()=>{t(!0)})},open(e){e.type==17&&e.user_info.uid==getApp().globalData.uid||this.animDoing||(this.animDoing=!0,this.show=!0,this.parseData(e,t=>{if(!t){this.animDoing=!1;return}let i=setTimeout(()=>{this.animDoing&&(this.animDoing=!1)},1e4);this.startAnimIn().then(()=>this.startAnimOut()).then(()=>this.startAnimReset()).then(()=>{clearTimeout(i),this.show=!1,this.animDoing=!1})}))}},created(){uni.$on(`event_${this.id}`,this.open)},unmounted(){uni.$off(`event_${this.id}`,this.open)}},wu={"view-notice":{"":{borderRadius:"8rpx",paddingTop:"10rpx",paddingRight:"10rpx",paddingBottom:"10rpx",paddingLeft:"10rpx"}},"view-content":{"":{alignItems:"center",flexWrap:"wrap",flexDirection:"row"}},text:{"":{fontSize:"24rpx"}},"text-def":{"":{color:"#FFFFFF"}},"text-s":{"":{lines:1,textOverflow:"ellipsis",wordWrap:"anywhere"}}},xu={mixins:[bu]};function ku(e,t,i,a,r,n){let s=S((0,E.resolveDynamicComponent)("l-img"),R),c=S((0,E.resolveDynamicComponent)("uni-icons"),le);return(0,E.openBlock)(),(0,E.createElementBlock)("view",{style:(0,E.normalizeStyle)([{bottom:`${e.bottom}px`},{position:"fixed",left:"0","z-index":"9999"}]),renderWhole:!0},[e.show?((0,E.openBlock)(),(0,E.createElementBlock)("view",{key:0,ref:"animView",onClick:t[0]||(t[0]=(...u)=>e.clickThis&&e.clickThis(...u)),animation:e.animationData,class:"view-notice",style:(0,E.normalizeStyle)({left:`${e.left}px`,background:e.viewBg})},[(0,E.createElementVNode)("view",{style:{"align-items":"center","flex-direction":"row"}},[(0,E.createElementVNode)("view",null,[(0,E.createElementVNode)("view",{class:"view-content"},[((0,E.openBlock)(!0),(0,E.createElementBlock)(E.Fragment,null,(0,E.renderList)(e.list,(u,p)=>((0,E.openBlock)(),(0,E.createElementBlock)("view",{key:p},[u.type==0?((0,E.openBlock)(),(0,E.createElementBlock)("u-text",{key:0,class:"text text-def",style:(0,E.normalizeStyle)(u.style)},(0,E.toDisplayString)(u.content),5)):u.type==1?((0,E.openBlock)(),(0,E.createElementBlock)("u-text",{key:1,onClick:(0,E.withModifiers)(f=>e.clickItem(f,u.extra),["stop"]),class:"text text-s",style:(0,E.normalizeStyle)(u.style)},(0,E.toDisplayString)(u.text),13,["onClick"])):u.type==2?((0,E.openBlock)(),(0,E.createBlock)(s,{key:2,onClick:(0,E.withModifiers)(f=>e.clickItem(f,u.extra),["stop"]),src:u.url,w:u.width,h:u.height,radius:u.radius,style:(0,E.normalizeStyle)(u.style)},null,8,["onClick","src","w","h","radius","style"])):u.type==3?((0,E.openBlock)(),(0,E.createBlock)(c,{key:3,type:"right",size:"26rpx",color:"rgba(255,255,255,0.6)"})):(0,E.createCommentVNode)("",!0)]))),128))]),e.listTwo.length>0?((0,E.openBlock)(),(0,E.createElementBlock)("view",{key:0,class:"view-content",style:{"margin-top":"4rpx"}},[((0,E.openBlock)(!0),(0,E.createElementBlock)(E.Fragment,null,(0,E.renderList)(e.listTwo,(u,p)=>((0,E.openBlock)(),(0,E.createElementBlock)("view",{key:"a"+p},[u.type==0?((0,E.openBlock)(),(0,E.createElementBlock)("u-text",{key:0,class:"text text-def",style:(0,E.normalizeStyle)(u.style)},(0,E.toDisplayString)(u.content),5)):u.type==1?((0,E.openBlock)(),(0,E.createElementBlock)("u-text",{key:1,onClick:(0,E.withModifiers)(f=>e.clickItem(f,u.extra),["stop"]),class:"text text-s",style:(0,E.normalizeStyle)(u.style)},(0,E.toDisplayString)(u.text),13,["onClick"])):u.type==2?((0,E.openBlock)(),(0,E.createBlock)(s,{key:2,onClick:(0,E.withModifiers)(f=>e.clickItem(f,u.extra),["stop"]),src:u.url,w:u.width,h:u.height,radius:u.radius,style:(0,E.normalizeStyle)(u.style)},null,8,["onClick","src","w","h","radius","style"])):u.type==3?((0,E.openBlock)(),(0,E.createBlock)(c,{key:3,type:"right",size:"26rpx",color:"rgba(255,255,255,0.6)"})):(0,E.createCommentVNode)("",!0)]))),128))])):(0,E.createCommentVNode)("",!0)]),e.data.type==15?((0,E.openBlock)(),(0,E.createBlock)(s,{key:0,onClick:e.clickThis,src:"s/call/video_def.png",w:"48rpx",h:"48rpx",style:{"margin-left":"16rpx"}},null,8,["onClick"])):(0,E.createCommentVNode)("",!0)])],12,["animation"])):(0,E.createCommentVNode)("",!0)],4)}var Pa=L(xu,[["render",ku],["styles",[wu]]]);var d=q(Z());var Pe=q(Z());var Au=Ee("animation"),Hi=class{constructor(t,i){this.options=t,this.animation=uni.createAnimation(t),this.currentStepAnimates={},this.next=0,this.$=i}_nvuePushAnimates(t,i){let a=this.currentStepAnimates[this.next],r={};if(a?r=a:r={styles:{},config:{}},Ua.includes(t)){r.styles.transform||(r.styles.transform="");let n="";t==="rotate"&&(n="deg"),r.styles.transform+=`${t}(${i+n}) `}else r.styles[t]=`${i}`;this.currentStepAnimates[this.next]=r}_animateRun(t={},i={}){let a=this.$.$refs.ani.ref;if(a)return new Promise((r,n)=>{Au.transition(a,$i({styles:t},i),s=>{r()})})}_nvueNextAnimate(t,i=0,a){let r=t[i];if(r){let{styles:n,config:s}=r;this._animateRun(n,s).then(()=>{i+=1,this._nvueNextAnimate(t,i,a)})}else this.currentStepAnimates={},typeof a=="function"&&a(),this.isEnd=!0}step(t={}){return this.currentStepAnimates[this.next].config=Object.assign({},this.options,t),this.currentStepAnimates[this.next].styles.transformOrigin=this.currentStepAnimates[this.next].config.transformOrigin,this.next++,this}run(t){this.isEnd=!1,this.$.$refs.ani&&this.$.$refs.ani.ref&&(this._nvueNextAnimate(this.currentStepAnimates,0,t),this.next=0)}},Ua=["matrix","matrix3d","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","translate","translate3d","translateX","translateY","translateZ"],vu=["opacity","backgroundColor"],Su=["width","height","left","right","top","bottom"];Ua.concat(vu,Su).forEach(e=>{Hi.prototype[e]=function(...t){return this._nvuePushAnimates(e,t),this}});function Ba(e,t){if(t)return clearTimeout(t.timer),new Hi(e,t)}var Cu={name:"uniTransition",emits:["click","change"],props:{show:{type:Boolean,default:!1},modeClass:{type:[Array,String],default(){return"fade"}},duration:{type:Number,default:300},styles:{type:Object,default(){return{}}},customClass:{type:String,default:""}},data(){return{isShow:!1,transform:"",opacity:1,animationData:{},durationTime:300,config:{}}},watch:{show:{handler(e){e?this.open():this.isShow&&this.close()},immediate:!0}},computed:{stylesObject(){let e=Xn($i({},this.styles),{"transition-duration":this.duration/1e3+"s"}),t="";for(let i in e){let a=this.toLine(i);t+=a+":"+e[i]+";"}return t},transformStyles(){return"transform:"+this.transform+";opacity:"+this.opacity+";"+this.stylesObject}},created(){this.config={duration:this.duration,timingFunction:"ease",transformOrigin:"50% 50%",delay:0},this.durationTime=this.duration},methods:{init(e={}){e.duration&&(this.durationTime=e.duration),this.animation=Ba(Object.assign(this.config,e),this)},onClick(){this.$emit("click",{detail:this.isShow})},step(e,t={}){if(this.animation){for(let i in e)try{typeof e[i]=="object"?this.animation[i](...e[i]):this.animation[i](e[i])}catch(a){J("error","at uni_modules/uni-transition/components/uni-transition/uni-transition.vue:139",`\u65B9\u6CD5 ${i} \u4E0D\u5B58\u5728`)}return this.animation.step(t),this}},run(e){this.animation&&this.animation.run(e)},open(){clearTimeout(this.timer),this.transform="",this.isShow=!0;let{opacity:e,transform:t}=this.styleInit(!1);typeof e!="undefined"&&(this.opacity=e),this.transform=t,this.$nextTick(()=>{this.timer=setTimeout(()=>{this.animation=Ba(this.config,this),this.tranfromInit(!1).step(),this.animation.run(),this.$emit("change",{detail:this.isShow})},20)})},close(e){this.animation&&this.tranfromInit(!0).step().run(()=>{this.isShow=!1,this.animationData=null,this.animation=null;let{opacity:t,transform:i}=this.styleInit(!1);this.opacity=t||1,this.transform=i,this.$emit("change",{detail:this.isShow})})},styleInit(e){let t={transform:""},i=(a,r)=>{r==="fade"?t.opacity=this.animationType(a)[r]:t.transform+=this.animationType(a)[r]+" "};return typeof this.modeClass=="string"?i(e,this.modeClass):this.modeClass.forEach(a=>{i(e,a)}),t},tranfromInit(e){let t=(i,a)=>{let r=null;a==="fade"?r=i?0:1:(r=i?"-100%":"0",a==="zoom-in"&&(r=i?.8:1),a==="zoom-out"&&(r=i?1.2:1),a==="slide-right"&&(r=i?"100%":"0"),a==="slide-bottom"&&(r=i?"100%":"0")),this.animation[this.animationMode()[a]](r)};return typeof this.modeClass=="string"?t(e,this.modeClass):this.modeClass.forEach(i=>{t(e,i)}),this.animation},animationType(e){return{fade:e?1:0,"slide-top":`translateY(${e?"0":"-100%"})`,"slide-right":`translateX(${e?"0":"100%"})`,"slide-bottom":`translateY(${e?"0":"100%"})`,"slide-left":`translateX(${e?"0":"-100%"})`,"zoom-in":`scaleX(${e?1:.8}) scaleY(${e?1:.8})`,"zoom-out":`scaleX(${e?1:1.2}) scaleY(${e?1:1.2})`}},animationMode(){return{fade:"opacity","slide-top":"translateY","slide-right":"translateX","slide-bottom":"translateY","slide-left":"translateX","zoom-in":"scale","zoom-out":"scale"}},toLine(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}}};function Tu(e,t,i,a,r,n){return r.isShow?((0,Pe.openBlock)(),(0,Pe.createElementBlock)("view",{key:0,ref:"ani",animation:r.animationData,class:(0,Pe.normalizeClass)(i.customClass),style:(0,Pe.normalizeStyle)(n.transformStyles),onClick:t[0]||(t[0]=(...s)=>n.onClick&&n.onClick(...s)),renderWhole:!0},[(0,Pe.renderSlot)(e.$slots,"default")],14,["animation"])):(0,Pe.createCommentVNode)("",!0)}var Ze=L(Cu,[["render",Tu]]);var te=q(Z()),Du={"uni-popup":{"":{position:"fixed"},".top":{top:0},".left":{top:0},".right":{top:0}},"uni-popup__wrapper":{".uni-popup ":{position:"relative"},".uni-popup .left":{paddingTop:0,flex:1},".uni-popup .right":{paddingTop:0,flex:1}},"fixforpc-top":{"":{top:0}}},Lu={name:"uniPopup",components:{},emits:["change","maskClick"],props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},maskClick:{type:Boolean,default:!0},backgroundColor:{type:String,default:"none"},safeArea:{type:Boolean,default:!0},maskBgColor:{type:String,default:"rgba(0, 0, 0, 0.4)"}},watch:{type:{handler:function(e){this.config[e]&&this[this.config[e]](!0)},immediate:!0},isDesktop:{handler:function(e){this.config[e]&&this[this.config[this.type]](!0)},immediate:!0},maskClick:{handler:function(e){this.mkclick=e},immediate:!0}},data(){return{duration:300,ani:[],showPopup:!1,showTrans:!1,popupWidth:0,popupHeight:0,config:{top:"top",bottom:"bottom",center:"center",left:"left",right:"right",message:"top",dialog:"center",share:"bottom"},transClass:{position:"fixed",left:0,right:0},maskShow:!0,mkclick:!0,popupstyle:this.isDesktop?"fixforpc-top":"top"}},computed:{maskClass(){return{position:"fixed",bottom:0,top:0,left:0,right:0,backgroundColor:this.maskBgColor}},isDesktop(){return this.popupWidth>=500&&this.popupHeight>=500},bg(){return this.backgroundColor===""||this.backgroundColor==="none"?"transparent":this.backgroundColor}},mounted(){(()=>{let{windowWidth:t,windowHeight:i,windowTop:a,safeAreaInsets:r}=uni.getSystemInfoSync();this.popupWidth=t,this.popupHeight=i+a,this.safeArea?this.safeAreaInsets=r:this.safeAreaInsets=0})()},created(){this.mkclick=this.maskClick,this.animation?this.duration=300:this.duration=0,this.messageChild=null,this.clearPropagation=!1},methods:{closeMask(){this.maskShow=!1},disableMask(){this.mkclick=!1},clear(e){this.clearPropagation=!0},open(e,t=!0){if(e&&["top","center","bottom","left","right","message","dialog","share"].indexOf(e)!==-1||(e=this.type),this.maskShow=t,!this.config[e]){J("error","at uni_modules/uni-popup/components/uni-popup/uni-popup.vue:218","\u7F3A\u5C11\u7C7B\u578B\uFF1A",e);return}this[this.config[e]](),this.$emit("change",{show:!0,type:e})},close(e){this.showTrans=!1,this.$emit("change",{show:!1,type:this.type}),clearTimeout(this.timer),this.timer=setTimeout(()=>{this.showPopup=!1},300)},touchstart(){this.clearPropagation=!1},onTap(){if(this.clearPropagation){this.clearPropagation=!1;return}this.$emit("maskClick"),this.mkclick&&this.close()},top(e){this.popupstyle=this.isDesktop?"fixforpc-top":"top",this.ani=["slide-top"],this.transClass={position:"fixed",left:0,right:0,backgroundColor:this.bg},!e&&(this.showPopup=!0,this.showTrans=!0,this.$nextTick(()=>{this.messageChild&&this.type==="message"&&this.messageChild.timerClose()}))},bottom(e){this.popupstyle="bottom",this.ani=["slide-bottom"],this.transClass={position:"fixed",left:0,right:0,bottom:0,paddingBottom:this.safeAreaInsets&&this.safeAreaInsets.bottom||0,backgroundColor:this.bg},!e&&(this.showPopup=!0,this.showTrans=!0)},center(e){this.popupstyle="center",this.ani=["zoom-out","fade"],this.transClass={position:"fixed",bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center"},!e&&(this.showPopup=!0,this.showTrans=!0)},left(e){this.popupstyle="left",this.ani=["slide-left"],this.transClass={position:"fixed",left:0,bottom:0,top:0,backgroundColor:this.bg},!e&&(this.showPopup=!0,this.showTrans=!0)},right(e){this.popupstyle="right",this.ani=["slide-right"],this.transClass={position:"fixed",bottom:0,right:0,top:0,backgroundColor:this.bg},!e&&(this.showPopup=!0,this.showTrans=!0)}}};function Iu(e,t,i,a,r,n){let s=S((0,te.resolveDynamicComponent)("uni-transition"),Ze);return r.showPopup?((0,te.openBlock)(),(0,te.createElementBlock)("view",{key:0,class:(0,te.normalizeClass)(["uni-popup",[r.popupstyle,n.isDesktop?"fixforpc-z-index":""]]),onTouchmove:t[2]||(t[2]=(0,te.withModifiers)((...c)=>n.clear&&n.clear(...c),["stop","prevent"])),renderWhole:!0},[(0,te.createElementVNode)("view",{onTouchstart:t[1]||(t[1]=(...c)=>n.touchstart&&n.touchstart(...c))},[r.maskShow?((0,te.openBlock)(),(0,te.createBlock)(s,{key:"1",name:"mask","mode-class":"fade",styles:n.maskClass,duration:r.duration,show:r.showTrans,onClick:n.onTap},null,8,["styles","duration","show","onClick"])):(0,te.createCommentVNode)("",!0),(0,te.createVNode)(s,{key:"2","mode-class":r.ani,name:"content",styles:r.transClass,duration:r.duration,show:r.showTrans,onClick:n.onTap},{default:(0,te.withCtx)(()=>[(0,te.createElementVNode)("view",{class:(0,te.normalizeClass)(["uni-popup__wrapper",[r.popupstyle]]),style:(0,te.normalizeStyle)({backgroundColor:n.bg}),onClick:t[0]||(t[0]=(...c)=>n.clear&&n.clear(...c))},[(0,te.renderSlot)(e.$slots,"default")],6)]),_:3},8,["mode-class","styles","duration","show","onClick"])],32)],34)):(0,te.createCommentVNode)("",!0)}var ut=L(Lu,[["render",Iu],["styles",[Du]]]);var se=q(Z()),Eu={wrap:{"":{position:"fixed",alignItems:"center",flexDirection:"row",paddingTop:0,paddingRight:"4rpx",paddingBottom:0,paddingLeft:"4rpx"}},cover:{"":{zIndex:111,position:"fixed",backgroundColor:"rgba(0,0,0,0)"}},popover:{"":{borderRadius:"8rpx",textAlign:"center",zIndex:111,position:"relative"}},triangle:{"":{width:"28rpx",height:"28rpx",transform:"rotate(45deg)",position:"absolute",zIndex:11}}},Fu=Ee("dom"),Ou={emits:["onClickOther"],props:{size:{type:Object,default(){return{}}},minMargin:{type:[String,Number],default:15},bgColor:{type:String,default:"#FFFFFF"},direction:{type:String,default:"above"},boxShadow:{type:String,default:"0 4rpx 8rpx 0 rgba(0, 0, 0, 0.09)"},triBoxShadow:{type:String,default:"0 4rpx 4rpx 0 rgba(0, 0, 0, 0.09)"},triangleIsTop:{type:Boolean,default:!0}},computed:{getStyle(){return{top:this.getTop()[0]+"px",height:this.popFatherHeight+"px",opacity:this.opacity,left:this.getSide()[0]+"px"}},getTriangleStyle(){return{top:this.getTop()[1]+"px",left:this.getSide()[1]+"px","background-color":this.bgColor}},triangleBoxShadow(){return y(this.boxShadow)?"":this.triangleBoxShadow}},data(){return{opacity:0,popWidth:0,popHeight:0,show:!1,showPop:!1,popFatherHeight:0,coverWidth:getApp().globalData.window.width,coverHeight:getApp().globalData.window.height}},methods:{getTop(){let e,t,i=this.size.top,a=this.size.height,r=this.size.bottom;if(this.direction=="above")i<this.popFatherHeight+10?(e=i+a+6,t=2):(e=i-this.popFatherHeight-6,t=this.popHeight);else if(this.direction=="below"){let n=getApp().globalData.window;this.coverHeight-n.statusBarHeight-n.safeBottom-44-50-r<this.popFatherHeight+10?(e=i-this.popFatherHeight-6,t=this.popHeight):(e=i+a+6,t=2)}return[e,t]},getSide(){let e=this.coverWidth,t=this.size,i=this.popWidth/2,a=t.left+(t.width-12)/2,r,n;return i>=a?(r=this.minMargin,n=a-this.minMargin):this.size.left+this.popWidth>=e?(r=e-this.popWidth-this.minMargin,n=t.left-r+t.width/2-7):(r=a-i+5,n=i-6),[r,n]},clickOther(){this.show=!1,this.$emit("onClickOther")},getPopHeight(){var e=this;Fu.getComponentRect(e.$refs.popContent,t=>{if(t&&t.size){let i=t.size;e.popWidth=i.width,e.popHeight=i.height,e.popFatherHeight=i.height+18,e.opacity=1}})},open(){var e=this;e.show=!0,e.opacity=0;let t=setTimeout(function(){e.getPopHeight(),clearTimeout(t)},100)},close(){this.show&&(this.show=!1)}}};function Ru(e,t,i,a,r,n){return r.show?((0,se.openBlock)(),(0,se.createElementBlock)("view",{key:0,onClick:t[0]||(t[0]=(...s)=>n.clickOther&&n.clickOther(...s)),class:"cover",style:(0,se.normalizeStyle)({width:r.coverWidth+"px",height:r.coverHeight+"px"}),renderWhole:!0},[(0,se.createElementVNode)("view",{style:(0,se.normalizeStyle)(n.getStyle),class:"wrap"},[(0,se.createElementVNode)("view",{class:"triangle",style:(0,se.normalizeStyle)([n.getTriangleStyle,{boxShadow:n.triangleBoxShadow}])},null,4),i.triangleIsTop?((0,se.openBlock)(),(0,se.createElementBlock)("view",{key:0,class:"triangle",style:(0,se.normalizeStyle)([n.getTriangleStyle])},null,4)):(0,se.createCommentVNode)("",!0),(0,se.createElementVNode)("view",{ref:"popContent",class:"popover",style:(0,se.normalizeStyle)({"background-color":i.bgColor,boxShadow:i.boxShadow})},[(0,se.renderSlot)(e.$slots,"default")],4),i.triangleIsTop?(0,se.createCommentVNode)("",!0):((0,se.openBlock)(),(0,se.createElementBlock)("view",{key:1,class:"triangle",style:(0,se.normalizeStyle)([n.getTriangleStyle])},null,4))],4)],4)):(0,se.createCommentVNode)("",!0)}var si=L(Ou,[["render",Ru],["styles",[Eu]]]);var ve=q(Z());var Nu=e=>e!==null&&typeof e=="object",Mu=["{","}"],Mn=class{constructor(){this._caches=Object.create(null)}interpolate(t,i,a=Mu){if(!i)return[t];let r=this._caches[t];return r||(r=Uu(t,a),this._caches[t]=r),Hu(r,i)}},Pu=/^(?:\d)+/,Bu=/^(?:\w)+/;function Uu(e,[t,i]){let a=[],r=0,n="";for(;r<e.length;){let s=e[r++];if(s===t){n&&a.push({type:"text",value:n}),n="";let c="";for(s=e[r++];s!==void 0&&s!==i;)c+=s,s=e[r++];let u=s===i,p=Pu.test(c)?"list":u&&Bu.test(c)?"named":"unknown";a.push({value:c,type:p})}else n+=s}return n&&a.push({type:"text",value:n}),a}function Hu(e,t){let i=[],a=0,r=Array.isArray(t)?"list":Nu(t)?"named":"unknown";if(r==="unknown")return i;for(;a<e.length;){let n=e[a];switch(n.type){case"text":i.push(n.value);break;case"list":i.push(t[parseInt(n.value,10)]);break;case"named":r==="named"&&i.push(t[n.value]);break}a++}return i}var Rn="zh-Hans",Ha="zh-Hant",Ht="en",Wu="fr",Gu="es",ju=Object.prototype.hasOwnProperty,Wa=(e,t)=>ju.call(e,t),Vu=new Mn;function zu(e,t){return!!t.find(i=>e.indexOf(i)!==-1)}function Yu(e,t){return t.find(i=>e.indexOf(i)===0)}function Ga(e,t){if(!e)return;if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if(e=e.toLowerCase(),e==="chinese")return Rn;if(e.indexOf("zh")===0)return e.indexOf("-hans")>-1?Rn:e.indexOf("-hant")>-1||zu(e,["-tw","-hk","-mo","-cht"])?Ha:Rn;let i=[Ht,Wu,Gu];t&&Object.keys(t).length>0&&(i=Object.keys(t));let a=Yu(e,i);if(a)return a}var Pn=class{constructor({locale:t,fallbackLocale:i,messages:a,watcher:r,formater:n}){this.locale=Ht,this.fallbackLocale=Ht,this.message={},this.messages={},this.watchers=[],i&&(this.fallbackLocale=i),this.formater=n||Vu,this.messages=a||{},this.setLocale(t||Ht),r&&this.watchLocale(r)}setLocale(t){let i=this.locale;this.locale=Ga(t,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],i!==this.locale&&this.watchers.forEach(a=>{a(this.locale,i)})}getLocale(){return this.locale}watchLocale(t){let i=this.watchers.push(t)-1;return()=>{this.watchers.splice(i,1)}}add(t,i,a=!0){let r=this.messages[t];r?a?Object.assign(r,i):Object.keys(i).forEach(n=>{Wa(r,n)||(r[n]=i[n])}):this.messages[t]=i}f(t,i,a){return this.formater.interpolate(t,i,a).join("")}t(t,i,a){let r=this.message;return typeof i=="string"?(i=Ga(i,this.messages),i&&(r=this.messages[i])):a=i,Wa(r,t)?this.formater.interpolate(r[t],a).join(""):(console.warn(`Cannot translate the value of keypath ${t}. Use the value of keypath as default.`),t)}};function Ku(e,t){e.$watchLocale?e.$watchLocale(i=>{t.setLocale(i)}):e.$watch(()=>e.$locale,i=>{t.setLocale(i)})}function $u(){return typeof uni!="undefined"&&uni.getLocale?uni.getLocale():typeof global!="undefined"&&global.getLocale?global.getLocale():Ht}function Ju(e,t={},i,a){typeof e!="string"&&([e,t]=[t,e]),typeof e!="string"&&(e=$u()),typeof i!="string"&&(i=typeof __uniConfig!="undefined"&&__uniConfig.fallbackLocale||Ht);let r=new Pn({locale:e,fallbackLocale:i,messages:t,watcher:a}),n=(s,c)=>{if(typeof getApp!="function")n=function(u,p){return r.t(u,p)};else{let u=!1;n=function(p,f){let m=getApp().$vm;return m&&(m.$locale,u||(u=!0,Ku(m,r))),r.t(p,f)}}return n(s,c)};return{i18n:r,f(s,c,u){return r.f(s,c,u)},t(s,c){return n(s,c)},add(s,c,u=!0){return r.add(s,c,u)},watch(s){return r.watchLocale(s)},getLocale(){return r.getLocale()},setLocale(s){return r.setLocale(s)}}}var qu={"uni-load-more.contentdown":"Pull up to show more","uni-load-more.contentrefresh":"loading...","uni-load-more.contentnomore":"No more data"},Zu={"uni-load-more.contentdown":"Pull up to show more","uni-load-more.contentrefresh":"Loading...","uni-load-more.contentnomore":"No more data"},Xu={"uni-load-more.contentdown":"\u4E0A\u62C9\u986F\u793A\u66F4\u591A","uni-load-more.contentrefresh":"\u6B63\u5728\u52A0\u8F09...","uni-load-more.contentnomore":"\u6C92\u6709\u66F4\u591A\u6578\u64DA\u4E86"},Qu={"uni-load-more.contentdown":"Tire hacia arriba para mostrar m\xE1s","uni-load-more.contentrefresh":"cargando...","uni-load-more.contentnomore":"No m\xE1s datos"},ep={"uni-load-more.contentdown":"\u0627\u0633\u062D\u0628 \u0644\u0623\u0639\u0644\u0649 \u0644\u0625\u0638\u0647\u0627\u0631 \u0627\u0644\u0645\u0632\u064A\u062F","uni-load-more.contentrefresh":"\u062C\u0627\u0631 \u0627\u0644\u062A\u062D\u0645\u064A\u0644...","uni-load-more.contentnomore":"\u0644\u0627 \u0645\u0632\u064A\u062F \u0645\u0646 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"},tp={"uni-load-more.contentdown":"K\xE9o l\xEAn \u0111\u1EC3 hi\u1EC3n th\u1ECB th\xEAm","uni-load-more.contentrefresh":"\u0111ang t\u1EA3i...","uni-load-more.contentnomore":"Kh\xF4ng c\xF2n d\u1EEF li\u1EC7u"},ip={en:qu,"zh-Hans":Zu,"zh-Hant":Xu,es:Qu,ar:ep,vi:tp},np={"uni-load-more":{"":{flexDirection:"row",height:40,alignItems:"center",justifyContent:"center"}},"uni-load-more__text":{"":{fontSize:14,marginLeft:8}},"uni-load-more__img":{"":{width:24,height:24}},"uni-load-more__img--nvue":{"":{color:"#666666"}},"uni-load-more__img--android":{"":{width:24,height:24,transform:"rotate(0deg)"}},"uni-load-more__img--ios":{"":{width:24,height:24,transform:"rotate(0deg)"}}},ja;setTimeout(()=>{ja=uni.getSystemInfoSync().platform},16);var{t:Nn}=Ju(ip),rp={name:"UniLoadMore",emits:["clickLoadMore"],props:{status:{type:String,default:"more"},showIcon:{type:Boolean,default:!0},iconType:{type:String,default:"auto"},iconSize:{type:Number,default:24},color:{type:String,default:"#777777"},contentText:{type:Object,default(){return{contentdown:"",contentrefresh:"",contentnomore:""}}},showText:{type:Boolean,default:!1}},data(){return{webviewHide:!1,platform:ja,imgBase64:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzlBMzU3OTlEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzlBMzU3OUFEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDOUEzNTc5N0Q5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDOUEzNTc5OEQ5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pt+ALSwAAA6CSURBVHja1FsLkFZVHb98LM+F5bHL8khA1iSeiyQBCRM+YGqKUnnJTDLGI0BGZlKDIU2MMglUiDApEZvSsZnQtBRJtKwQNKQMFYeRDR10WOLd8ljYXdh+v8v5fR3Od+797t1dnOnO/Ofce77z+J//+b/P+ZqtXbs2sJ9MJhNUV1cHJ06cCJo3bx7EPc2aNcvpy7pWrVoF+/fvDyoqKoI2bdoE9fX1F7TjN8a+EXBn/fkfvw942Tf+wYMHg9mzZwfjxo0LDhw4EPa1x2MbFw/fOGfPng1qa2tzcCkILsLDydq2bRsunpOTMM7TD/W/tZDZhPdeKD+yGxHhdu3aBV27dg3OnDlzMVANMheLAO3btw8KCwuDmpoaX5OxbgUIMEq7K8IcPnw4KCsrC/r37x8cP378/4cAXAB3vqSkJMuiDhTkw+XcuXNhOWbMmKBly5YhUT8xArhyFvP0BfwRsAuwxJZJsm/nzp2DTp06he/OU+cZ64K6o0ePBkOHDg2GDx8e6gEbJ5Q/NHNuAJQ1hgBeHUDlR7nVTkY8rQAvAi4z34vR/mPs1FoRsaCgIJThI0eOBC1atEiFGGV+5MiRoS45efJkqFjJFXV1dQuA012m2WcwTw98fy6CqBdsaiIO4CScrGPHjvk4odhavPquRtFWXEC25VgkREKOCh/qDSq+vn37htzD/mZTOmOc5U7zKzBPEedygWshcDyWvs30igAbU+6oyMgJBCFhwQE0fccxN60Ay9iebbjoDh06hMowjQxT4fXq1SskArmHZpkArvixp/kWzHdMeArExSJEaiXIjjRjRJ4DaAGWpibLzXN3Fm1vA5teBgh3j1Rv3bp1YgKwPdmf2p9zcyNYYgPKMfY0T5f5nNYdw158nJ8QawW4CLKwiOBSEgO/hok2eBydR+3dYH+PLxA5J8Vv0KBBwenTp0P2JWAx6+yFEBfs8lMY+y0SWMBNI9E4ThKi58VKTg3FQZS1RQF1cz27eC0QHMu+3E0SkUowjhVt5VdaWhp07949ZHv2Qd1EjDXM2cla1M0nl3GxAs3J9yREzyTdFVKVFOaE9qRA8GM0WebRuo9JGZKA7Mv2SeS/Z8+eoQ9BArMfFrLGo6jvxbhHbJZnKX2Rzz1O7QhJJ9Cs2ZMaWIyq/zhdeqPNfIoHd58clIQD+JSXl4dKlyIAuBdVXZwFVWKspSSoxE++h8x4k3uCnEhE4I5KwRiFWGOU0QWKiCYLbdoRMRKAu2kQ9vkfLU6dOhX06NEjlH+yMRZSinnuyWnYosVcji8CEA/6Cg2JF+IIUBqnGKUTCNwtwBN4f89RiK1R96DEgO2o0NDmtEdvVFdVVYV+P3UAPUEs6GFwV3PHmXkD4vh74iDFJysVI/MlaQhwKeBNTLYX5VuA8T4/gZxA4MRGFxDB6R7OmYPfyykGRJbyie+XnGYnQIC/coH9+vULiYrxrkL9ZA9+0ykaHIfEpM7ge8TiJ2CsHYwyMfafAF1yCGBHYIbCVDjDjKt7BeB51D+LgQa6OkG7IDYEEtvQ7lnXLKLtLdLuJBpE4gPUXcW2+PkZwOex+4cGDhwYDBkyRL7/HFcEwUGPo/8uWRUpYnfxGHco8HkewLHLyYmAawAPuIFZxhOpDfJQ8gbUv41yORAptMWBNr6oqMhWird5+u+iHmBb2nhjDV7HWBNQTgK8y11l5NetWzc5ULscAtSj7nbNI0skhWeUZCc0W4nyH/jO4Vz0u1IeYhbk4AiwM6tjxIWByHsoZ9qcIBPJd/y+DwPfBESOmCa/QF3WiZHucLlEDpNxcNhmheEOPgdQNx6/VZFQzFZ5TN08AHXQt2Ii3EdyFuUsPtTcGPhW5iMiCNELvz+Gdn9huG4HUJaW/w3g0wxV0XaG7arG2WeKiUWYM4Y7GO5ezshTARbbWGw/DvXkpp/ivVvE0JVoMxN4rpGzJMhE5Pl+xlATsDIqikP9F9D2z3h9nOksEUFhK+qO4rcPkoalMQ/HqJLIyb3F3JdjrCcw1yZ8joyJLR5gCo54etlag7qIoeNh1N1BRYj3DTFJ0elotxPlVzkGuYAmL0VSJVGAJA41c4Z6A3BzTLfn0HYwYKEI6CUAMzZEWvLsIcQOo1AmmyyM72nHJCfYsogflGV6jEk9vyQZXSuq6w4c16NsGcGZbwOPr+H1RkOk2LEzjNepxQkihHSCQ4ynAYNRx2zMKV92CQMWqj8J0BRE8EShxRFN6YrfCRhC0x3r/Zm4IbQCcmJoV0kMamllccR6FjHqUC5F2R/wS2dcymOlfAKOS4KmzQb5cpNC2MC7JhVn5wjXoJ44rYhLh8n0eXOCorJxa7POjbSlCGVczr34/RsAmrcvo9s+wGp3tzVhntxiXiJ4nvEYb4FJkf0O8HocAePmLvCxnL0AORraVekJk6TYjDabRVXfRE2lCN1h6ZQRN1+InUbsCpKwoBZHh0dODN9JBCUffItXxEavTQkUtnfTVAplCWL3JISz29h4NjotnuSsQKJCk8dF+kJR6RARjrqFVmfPnj3ZbK8cIJ0msd6jgHPGtfVTQ8VLmlvh4mct9sobRmPic0DyDQQnx/NlfYUgyz59+oScsH379pAwXABD32nTpoUHIToESeI5mnbE/UqDdyLcafEBf2MCqgC7NwxIbMREJQ0g4D4sfJwnD+AmRrII05cfMWJE+L1169bQr+fip06dGp4oJ83lmYd5wj/EmMa4TaHivo4EeCguYZBnkB5g2aWA69OIEnUHOaGysjIYMGBAMGnSpODYsWPZwCpFmm4lNq+4gSLQA7jcX8DwtjEyRC8wjabnXEx9kfWnTJkSJkAo90xpJVV+FmcVNeYAF5zWngS4C4O91MBxmAv8blLEpbjI5sz9MTdAhcgkCT1RO8mZkAjfiYpTEvStAS53Uw1vAiUGgZ3GpuQEYvoiBqlIan7kSDHnTwJQFNiPu0+5VxCVYhcZIjNrdXUDdp+Eq5AZ3Gkg8QAyVZRZIk4Tl4QAbF9cXJxNYZMAtAokgs4BrNxEpCtteXg7DDTMDKYNSuQdKsnJBek7HxewvxaosWxLYXtw+cJp18217wql4aKCfBNoEu0O5VU+PhctJ0YeXD4C6JQpyrlpSLTojpGGGN5YwNziChdIZLk4lvLcFJ9jMX3QdiImY9bmGQU+TRUL5CHITTRlgF8D9ouD1MfmLoEPl5xokIumZ2cfgMpHt47IW9N64Hsh7wQYYjyIugWuF5fCqYncXRd5vPMWyizzvhi/32+nvG0dZc9vR6fZOu0md5e+uC408FvKSIOZwXlGvxPv95izA2Vtvg1xKFWARI+vMX66HUhpQQb643uW1bSjuTWyw2SBvDrBvjFic1eGGlz5esq3ko9uSIlBRqPuFcCv8F4WIcN12nVaBd0SaYwI6PDDImR11JkqgHcPmQssjxIn6bUshygDFJUTxPMpHk+jfjPgupgdnYV2R/g7xSjtpah8RJBewhwf0gGK6XI92u4wXFEU40afJ4DN4h5LcAd+40HI3JgJecuT0c062W0i2hQJUTcxan3/CMW1PF2K6bbA+Daz4xRs1D3Br1Cm0OihKCqizW78/nXAF/G5TXrEcVzaNMH6CyMswqsAHqDyDLEyou8lwOXnKF8DjI6KjV3KzMBiXkDH8ij/H214J5A596ekrZ3F0zXlWeL7+P5eUrNo3/QwC15uxthuzidy7DzKRwEDaAViiDgKbTbz7CJnzo0bN7pIfIiid8SuPwn25o3QCmpnyjlZkyxPP8EomCJzrGb7GJMx7tNsq4MT2xMUYaiErZOluTzKsnz3gwCeCZyVRZJfYplNEokEjwrPtxlxjeYAk+F1F74VAzPxQRNYYdtpOUvWs8J1sGhBJMNsb7igN8plJs1eSmLIhLKE4rvaCX27gOhLpLOsIzJ7qn/i+wZzcvSOZ23/du8TZjwV8zHIXoP4R3ifBxiFz1dcVpa3aPntPE+c6TmIWE9EtcMmAcPdWAhYhAXxcLOQi9L1WhD1Sc8p1d2oL7XGiRKp8F4A2i8K/nfI+y/gsTDJ/YC/8+AD5Uh04KHiGl+cIFPnBDDrPMjwRGkLXyxO4VGbfQWnDH2v0bVWE3C9QOXlepbgjEfIJQI6XDG3z5ahD9cw2pS78ipB85wyScNTvsVzlzzhL8/jRrnmVjfFJK/m3m4nj9vbgQTguT8XZTjsm672R5uJKEaQmBI/c58gyus8ZDagLpEVSJBIyHp4jn++xqPV71OgQgJYEWOtZ/haxRtKmWOBu8xdBLftWltsY84zE6WIEy/eIOWL+BaayMx+KHtL7EAkqdNDLiEXmEMUHniedtJqg9HmZtfvt26vNi0BdG3Ft3g8ZOf7PAu59TxtzivLNIekyi+wD1i8CuUiD9FXAa8C+/xS3JPmZnomyc7H+fb4/Se0bk41Fel621r4cgVxbq91V4jVqwB7HTe2M7jgB+QWHavZkDRPmZcASoZEmBx6i75bGjPcMdL4/VKGFAGWZkGzPG0XAbdL9A81G5LOmUnC9hHKJeO7dcUMjblSl12867ElFTtaGl20xvvLGPdVz/8TVuU7y0x1PG7vtNg24oz9Uo/Z412++VFWI7Fcog9tu9Lm6gvRmIPv9x1xmQAu6RDkXtbOtlGEmpgD5Nvnyc0dcv0EE6cfdi1HmhMf9wDF3k3gtRvEedhxjpgfqPb9PU9iEJHnyOUA7bQUXh6kq/D7l2iTjWv7XOD530BDr8jIrus+srXjt4MzumJMHuTsBa63YKE1+RR5lBjEikCCnWKWiHdzOgKO+nRIBAF88za/IFmJ3eMZov4CYxGBabcpGL8EYx+SeMXJeRwHNsV/h+vdxeuhEpN3ZyNY78Gm2fknJxVGhyjixPiQvVkNzT1elD9Py/aTAL64Hb9vcYmC9zfdXdT/C1LeGbg4rnBaAihDFJH12W5ulfNCNe/xTsP3bp8ikzJs5BF+5PNfAQYAPaseTdsEcaYAAAAASUVORK5CYII="}},computed:{iconSnowWidth(){return(Math.floor(this.iconSize/24)||1)*2},contentdownText(){return this.contentText.contentdown||Nn("uni-load-more.contentdown")},contentrefreshText(){return this.contentText.contentrefresh||Nn("uni-load-more.contentrefresh")},contentnomoreText(){return this.contentText.contentnomore||Nn("uni-load-more.contentnomore")}},mounted(){var e=getCurrentPages(),t=e[e.length-1],i=t.$getAppWebview();i.addEventListener("hide",()=>{this.webviewHide=!0}),i.addEventListener("show",()=>{this.webviewHide=!1})},methods:{onClick(){this.$emit("clickLoadMore",{detail:{status:this.status}})}}};function ap(e,t,i,a,r,n){return(0,ve.openBlock)(),(0,ve.createElementBlock)("view",{class:"uni-load-more",onClick:t[0]||(t[0]=(...s)=>n.onClick&&n.onClick(...s)),renderWhole:!0},[!r.webviewHide&&i.status==="loading"&&i.showIcon?((0,ve.openBlock)(),(0,ve.createElementBlock)("loading-indicator",{key:0,style:(0,ve.normalizeStyle)({color:i.color,width:i.iconSize+"px",height:i.iconSize+"px"}),animating:!0,class:"uni-load-more__img uni-load-more__img--nvue"},null,4)):(0,ve.createCommentVNode)("",!0),i.showText?((0,ve.openBlock)(),(0,ve.createElementBlock)("u-text",{key:1,class:"uni-load-more__text",style:(0,ve.normalizeStyle)({color:i.color})},(0,ve.toDisplayString)(i.status==="more"?n.contentdownText:i.status==="loading"?n.contentrefreshText:n.contentnomoreText),5)):(0,ve.createCommentVNode)("",!0)])}var Ct=L(rp,[["render",ap],["styles",[np]]]);var Cm=q(Z());function oi(e,t){let i=za();return new Promise(a=>{let r=0;ot(`SELECT * FROM ${i} WHERE uid = ${e.uid} LIMIT 1`).then(n=>{if(n.length>0)if(t&&Qr(n[0],e)){r=1;let s=`UPDATE ${i} SET nickname = '${yt(e.nickname)}', avatar = '${e.avatar}', sex = ${$(e.sex)}, birthday = '${qe(e.birthday)}', is_vip = ${$(e.is_vip)}, is_auth = ${$(e.is_auth)}, level = ${$(e.level)}, country_code = '${qe(e.country_code)}', country_flag = '${qe(e.country_flag)}', language = '${qe(e.language)}', hide_vip = ${$(e.hide_vip)}, hide_level = ${$(e.hide_level)}, hide_profile = ${$(e.hide_profile)}, auth_status = ${$(e.auth_status)} WHERE uid = ${e.uid}`;st(s).then(()=>{a(r)},()=>{a(r)})}else a(r);else{r=2;let s=`INSERT INTO ${i} (uid, nickname, avatar, sex, birthday, is_vip, is_auth, level, country_code, country_flag, language, hide_vip, hide_level, hide_profile, auth_status) VALUES (${e.uid}, '${yt(e.nickname)}', '${e.avatar}', ${$(e.sex)}, '${qe(e.birthday)}', ${$(e.is_vip)}, ${$(e.is_auth)}, ${$(e.level)}, '${qe(e.country_code)}', '${qe(e.country_flag)}', '${qe(e.language)}', ${$(e.hide_vip)}, ${$(e.hide_level)}, ${$(e.hide_profile)}, ${$(e.auth_status)})`;st(s).then(()=>{a(r)},()=>{a(r)})}},()=>{a(r)})})}function Va(e,t=!0){let i=za();return new Promise(a=>{if(t&&(e=e.filter(s=>!y(s))),e.length<=0){a({});return}let r={},n=`SELECT * FROM ${i} WHERE uid IN (${e.join(",")}) LIMIT ${e.length}`;ot(n).then(s=>{for(let c=0,u=s.length;c<u;c++){let p=s[c];p&&(p.nickname=Zr(p.nickname),r[p.uid]=p)}a(r)})})}function za(){return getApp().globalData.uid==2256587?"tb_user_1":"tb_user"}var pt=q(Z());var sp={props:{text:{type:[String,Number],default:""},type:{type:String,default:"title"},useText:{type:[Number,Boolean],default:!1},colorVal:{type:String,default:""}},computed:{color(){return this.colorVal?this.colorVal:getApp().globalData.themeObj.color[this.type]}}};function op(e,t,i,a,r,n){return(0,pt.openBlock)(),(0,pt.createElementBlock)("u-text",{style:(0,pt.normalizeStyle)({color:n.color})},(0,pt.toDisplayString)(i.text),5)}var oe=L(sp,[["render",op]]);var dt=q(Z());var lp={props:{type:{type:String,default:"bg2"}},computed:{bgColor(){return getApp().globalData.themeObj.color[this.type]}}};function cp(e,t,i,a,r,n){return(0,dt.openBlock)(),(0,dt.createElementBlock)("view",{style:(0,dt.normalizeStyle)({background:n.bgColor}),renderWhole:!0},[(0,dt.renderSlot)(e.$slots,"default")],4)}var ze=L(lp,[["render",cp]]);function up(e,t){return new Promise(i=>{oi(t,!0).then(()=>{let a=`SELECT * FROM tb_club_member WHERE club_id = ${e} AND uid = ${t.uid}`;ot(a).then(r=>{if(r[0]){let s=`UPDATE tb_club_member SET sex = ${$(t.sex)}, is_auth = ${$(t.is_auth)}, member_type = ${$(t.member_type)}, is_mute = ${$(t.is_mute)}, join_type = ${$(t.join_type)}, join_time = ${$(t.join_time)}, active_time = ${$(t.active_time)} WHERE club_id = ${e} AND uid = ${t.uid}`;st(s).then(()=>{i()})}else pp(e,t).then(()=>{i()})},()=>{i()})})})}function Bn(e,t){return new Promise(i=>{let a=t.length,r=0;for(let n=0,s=t.length;n<s;n++){let c=t[n];c.uid&&up(e,c).then(()=>{r+=1,r==a&&i()})}})}function pp(e,t){let i=`INSERT INTO tb_club_member (club_id, uid, sex, is_auth, member_type, is_mute, join_type, join_time, active_time, remark) VALUES (${e}, ${$(t.uid)}, ${$(t.sex)}, ${$(t.is_auth)}, ${$(t.member_type)}, ${$(t.is_mute)}, ${$(t.join_type)}, ${$(t.join_time)}, ${$(t.active_time)}, '')`;return st(i)}function dp(e,t,i){let a=[],r=[],n=[],s=[],c,u;return new Promise(p=>{let f;i==1?f=fp:f=function(){return new Promise(_=>{_()})},f(e,t).then(m=>{m&&(s=m.uidList,r=m.founderList,n=m.managerList);let _;return t==-1?_=`SELECT * FROM tb_club_member WHERE club_id = ${e} AND member_type = 1 ORDER BY active_time DESC`:_=`SELECT * FROM tb_club_member WHERE club_id = ${e} AND member_type = 1 AND is_auth = ${$(t)} ORDER BY active_time DESC`,ot(_)}).then(m=>{c=m,u=m.length;for(let _=0,F=u;_<F;_++){let x=m[_];s.push(x.uid)}return Va(s,!1)}).then(m=>{for(let _=0,F=u;_<F;_++){let x=c[_],M=m[x.uid];if(M){let v=Object.assign(x,M);a.push(v)}}if(i==1){for(let _=0,F=n.length;_<F;_++){let x=n[_],M=m[x.uid];if(M){let v=Object.assign(x,M);a.unshift(v)}}for(let _=0,F=r.length;_<F;_++){let x=r[_],M=m[x.uid];if(M){let v=Object.assign(x,M);a.unshift(v)}}}p({list:a})})})}function fp(e,t){let i=[],a=[],r=[];return new Promise(n=>{let s;t==-1?s="":s=` AND is_auth = ${$(t)} `,ot(`SELECT * FROM tb_club_member WHERE club_id = ${e} AND member_type > 1 ${s}`).then(c=>{for(let u=0,p=c.length;u<p;u++){let f=c[u];i.push(f.uid),f.member_type==2?a.push(f):r.push(f)}n({uidList:i,founderList:a,managerList:r})})})}function Ya(e){return new Promise(t=>{let i=`DELETE FROM tb_club_member WHERE club_id = ${e}`;st(i).then(()=>{t()},()=>{t()})})}var mp={wrap:{"":{boxShadow:"none"}}},hp={center:{"":{flexDirection:"row",alignItems:"center"}},"center-between":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},"center-align":{"":{alignItems:"center",justifyContent:"center",flexDirection:"row"}},ellipsis:{"":{lines:1,overflow:"hidden",textOverflow:"ellipsis"}},"receivers-pop":{"":{width:"450rpx",borderRadius:"8rpx",backgroundColor:"rgba(0,0,0,0)"}},"choose-bar":{".receivers-pop ":{paddingTop:"18rpx",paddingRight:"10rpx",paddingBottom:"18rpx",paddingLeft:"10rpx"}},"choose-str":{".receivers-pop .choose-bar ":{fontSize:"22rpx",color:"#FF4477",lineHeight:"32rpx"}},"btn-wrap":{".receivers-pop .choose-bar ":{height:"40rpx",backgroundColor:"#000102",borderRadius:"4rpx",paddingTop:"2rpx",paddingRight:"2rpx",paddingBottom:"2rpx",paddingLeft:"2rpx",position:"relative"}},btn:{".receivers-pop .choose-bar .btn-wrap ":{fontSize:"18rpx",color:"#FFFFFF",height:"36rpx",lineHeight:"36rpx",textAlign:"center",width:"90rpx"}},"btn-active":{".receivers-pop .choose-bar .btn-wrap ":{backgroundColor:"#5A5A59",borderRadius:"4rpx"}},"btn-line":{".receivers-pop .choose-bar .btn-wrap ":{width:"2rpx",height:"20rpx",backgroundColor:"#666666",position:"absolute",top:"10rpx"}},"split-line":{".receivers-pop ":{height:"2rpx",opacity:.1,backgroundColor:"#FFFFFF"}},"member-list":{".receivers-pop ":{flex:1,paddingTop:0,paddingRight:"10rpx",paddingBottom:0,paddingLeft:"10rpx"}},"avatar-bg":{".receivers-pop .member-list ":{width:"32rpx",height:"32rpx",backgroundColor:"#716F6F",borderRadius:"4rpx"}},"member-item":{".receivers-pop .member-list ":{paddingTop:"10rpx",paddingRight:0,paddingBottom:"10rpx",paddingLeft:0}},nickname:{".receivers-pop .member-list .member-item ":{fontSize:"22rpx",color:"#FFFFFF",lineHeight:"32rpx"}},"loading-view":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center",marginTop:"10rpx",minHeight:"50rpx"}}},gp={emits:["onReceiversClose","onChangeSelectStr"],components:{UniLoadMore:Ct,LImg:R,CustomPopover:si},props:{size:{type:Object,default(){return{}}},clubId:{type:[Number,String],default:0}},data(){return{chooseIdx:-1,memberList:{},allList:{},boysList:{},girlsList:{},allPageTime:1,boysPageTime:1,girlsPageTime:1,selectUidList:[],selectNameList:[],selectStr:"",isSelectAll:!1,selectUserList:[],loadMore:"nomore",loadContent:{contentrefresh:" ",contentnomore:" "},showLoading:!1,openCount:0}},computed:{selectCount(){return this.selectUidList.length}},methods:{$str:l,clickReceivePop(e){e&&e.stopPropagation()},clickMember(e){if(e==-1)this.isSelectAll=!0,this.selectStr=l("allMembers"),this.selectUidList.length>0&&(this.parseList("all",!0),this.parseList("boys",!0),this.parseList("girls",!0)),this.selectUidList=[],this.selectNameList=[],this.selectUserList=[],this.$refs.receiversPop.close(),this.onClickOther();else{this.isSelectAll=!1;let t=this.getMemberKey(),i=this.memberList["u_"+e],a=this.selectUidList.indexOf(i.uid);a!=-1?(this.selectUidList.splice(a,1),this.selectNameList.splice(a,1),this.selectUserList.splice(a,1)):(this.selectUidList.push(i.uid),this.selectNameList.push(i.nickname),this.selectUserList.push(i)),this.selectNameList.length>0?this.selectStr=this.selectNameList.join("\u3001"):this.selectStr="",this.memberList=JSON.parse(JSON.stringify(this[t+"List"]))}this.$emit("onChangeSelectStr",this.selectStr)},clickChooseBtn(e,t,i){t&&this.chooseIdx==e||(this.memberList=JSON.parse(JSON.stringify({})),this.chooseIdx=e,this.$nextTick(()=>{let a=this.getMemberKey(),r=this.getIsAuth(),n=this[a+"List"];Object.keys(n).length>0?(this.showLoading=!0,this.parseList(a,!1,()=>{let s={club_id:this.clubId,page_time:0};r!=-1&&(s.is_auth=r),this.reqSyncMembers(s,a,!0),typeof i=="function"&&i()})):this.loadMembers(!0,r,()=>{typeof i=="function"&&i()})}))},chooseUserSet(e){let t=this.selectUidList.indexOf(e.uid);t!=-1&&this.selectUidList.splice(t,1),this.clickMember(e.uid)},getIsAuth(){return this.chooseIdx==0?-1:this.chooseIdx==1?0:1},getMemberKey(){return this.chooseIdx==0?"all":this.chooseIdx==1?"boys":"girls"},onClickOther(){let e={isSelectAll:this.isSelectAll,uidList:this.selectUidList,userList:this.selectUserList};this.$emit("onReceiversClose",e)},onLoadMore(){if(this.loadMore=="nomore")return;this.loadMore="loading";let e=this.getMemberKey(),t=this.getIsAuth(),i={club_id:this.clubId,page_time:this[e+"PageTime"]};t!=-1&&(i.is_auth=t),this.reqSyncMembers(i,e,!1)},handleMember(e){if(e.chat_id!=this.clubId||!e.send_uid||e.send_uid==T.SYSTEM_ID)return;let t=e.user_infos[e.send_uid];if(this.memberList["u_"+t.uid])return;let a=this.getIsAuth();a!=-1&&a!=t.is_auth||(this.memberList["u"+t.uid]=t)},handleSaveMember(){let e=Object.values(this.allList);Bn(this.clubId,e)},parseList(e,t=!1,i){let a=this[e+"List"];for(let r=0,n=this.selectUidList.length;r<n;r++){let s=this.selectUidList[r],c=a["u_"+s];c&&(c.selected=!t)}t||(this[e+"List"]=JSON.parse(JSON.stringify(a)),this.memberList=this[e+"List"]),typeof i=="function"&&i()},parseListNew(e,t,i,a=!1){i&&(this[e+"List"]={});for(let r=0,n=t.length;r<n;r++){let s=t[r];s.uid&&s.uid!=getApp().pubUser.uid&&(s.member_type==2?s.identityStr=l("owner"):s.member_type==3&&(s.identityStr=l("admin")),this.memberList["u_"+s.uid]=s,i&&(this[e+"List"]["u_"+s.uid]=s),a&&oi(s,!0))}},reqSyncMembers(e,t,i){N.request("/chat/club/sync-members",e,!1,!0).then(a=>{this.showLoading=!1,i&&(this.memberList=JSON.parse(JSON.stringify({})),this[t+"List"]=JSON.parse(JSON.stringify({}))),this[t+"PageTime"]=a.data.page_time,this.parseListNew(t,a.data.list,i,!0),this.loadMore=a.data.has_more?"loadmore":"nomore",this.getIsAuth()==-1&&i&&Ya(this.clubId).then(()=>{Bn(this.clubId,a.data.list)})},()=>{this.showLoading=!1})},loadMembers(e,t,i){let a=this.getMemberKey();e?this[a+"Page"]=1:this[a+"Page"]++;let r=this[a+"Page"];this.showLoading=!0,dp(this.clubId,t,r).then(n=>{this.parseListNew(a,n.list,!0,!1);let s={club_id:this.clubId,page_time:0};return t!=-1&&(s.is_auth=t),N.request("/chat/club/sync-members",s,!1,!0)}).then(n=>{this.showLoading=!1,this.memberList=JSON.parse(JSON.stringify({})),this[a+"PageTime"]=n.data.page_time,this.parseListNew(a,n.data.list,!0,!0),this.loadMore=n.data.has_more?"loadmore":"nomore",typeof i=="function"&&i(),t==-1&&e&&Ya(this.clubId).then(()=>{Bn(this.clubId,n.data.list)})},()=>{this.showLoading=!1})},clear(){this.selectUidList=[],this.selectNameList=[],this.selectUserList=[],this.isSelectAll=!1,this.selectStr=""},open(e){this.openCount+=1,e&&this.clear(),this.$refs.receiversPop.open();let t=this.chooseIdx==-1?0:this.chooseIdx;this.clickChooseBtn(t,!1,()=>{e&&this.chooseUserSet(e)})}},created(){uni.$on("event_message_update_member",this.handleMember)},unmounted(){uni.$off("event_message_update_member",this.handleMember),this.openCount>1&&this.handleSaveMember()}};function _p(e,t,i,a,r,n){let s=S((0,d.resolveDynamicComponent)("l-img"),R),c=S((0,d.resolveDynamicComponent)("uni-load-more"),Ct),u=S((0,d.resolveDynamicComponent)("custom-popover"),si);return(0,d.openBlock)(),(0,d.createBlock)(u,{ref:"receiversPop",size:i.size,"bg-color":"#424344","box-shadow":"",onOnClickOther:n.onClickOther,style:{"z-index":"1000"}},{default:(0,d.withCtx)(()=>[(0,d.createElementVNode)("view",{onClick:t[5]||(t[5]=(...p)=>n.clickReceivePop&&n.clickReceivePop(...p)),class:"receivers-pop",style:{height:"480rpx"}},[(0,d.createElementVNode)("view",{class:"choose-bar center-between"},[(0,d.createElementVNode)("u-text",{class:"choose-str"},(0,d.toDisplayString)(n.$str("selected"))+"("+(0,d.toDisplayString)(n.selectCount)+")",1),(0,d.createElementVNode)("view",{class:"center btn-wrap"},[(0,d.createElementVNode)("u-text",{onClick:t[0]||(t[0]=p=>n.clickChooseBtn(0,!0)),class:(0,d.normalizeClass)(["btn",[r.chooseIdx==0?"btn-active":""]])},(0,d.toDisplayString)(n.$str("all")),3),r.chooseIdx==2?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:0,class:"btn-line",style:{left:"90rpx"}})):(0,d.createCommentVNode)("",!0),(0,d.createElementVNode)("u-text",{onClick:t[1]||(t[1]=p=>n.clickChooseBtn(1,!0)),class:(0,d.normalizeClass)(["btn",[r.chooseIdx==1?"btn-active":""]])},(0,d.toDisplayString)(n.$str("boys")),3),r.chooseIdx==0?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:1,class:"btn-line",style:{right:"90rpx"}})):(0,d.createCommentVNode)("",!0),(0,d.createElementVNode)("u-text",{onClick:t[2]||(t[2]=p=>n.clickChooseBtn(2,!0)),class:(0,d.normalizeClass)(["btn",[r.chooseIdx==2?"btn-active":""]])},(0,d.toDisplayString)(n.$str("girls")),3)])]),(0,d.createElementVNode)("view",{class:"split-line"}),r.showLoading?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:0,class:"loading-view"},[(0,d.createElementVNode)("loading-indicator",{animating:!0,style:{color:"#FFFFFF",width:"30rpx",height:"30rpx"}})])):(0,d.createCommentVNode)("",!0),(0,d.createElementVNode)("list",{ref:"memberList",showScrollbar:!1,onLoadmore:t[4]||(t[4]=(...p)=>n.onLoadMore&&n.onLoadMore(...p)),class:"member-list"},[(0,d.createElementVNode)("cell",{style:{height:"10rpx",width:"10rpx"}}),r.chooseIdx==0?((0,d.openBlock)(),(0,d.createElementBlock)("cell",{key:0},[(0,d.createElementVNode)("view",{onClick:t[3]||(t[3]=p=>n.clickMember(-1)),class:"center-between member-item"},[(0,d.createElementVNode)("view",{class:"center"},[(0,d.createElementVNode)("view",{class:"center-align avatar-bg"},[(0,d.createVNode)(s,{src:"s/club/person_many_yellow.png",w:"16rpx",h:"18rpx"})]),(0,d.createElementVNode)("u-text",{class:"nickname",style:{"margin-left":"12rpx"}},(0,d.toDisplayString)(n.$str("allMembers")),1)]),(0,d.createVNode)(s,{src:r.isSelectAll?"s/msg/select_square_s.png":"s/msg/select_square_n.png",w:"20rpx",h:"20rpx"},null,8,["src"])])])):(0,d.createCommentVNode)("",!0),((0,d.openBlock)(!0),(0,d.createElementBlock)(d.Fragment,null,(0,d.renderList)(r.memberList,(p,f,m)=>((0,d.openBlock)(),(0,d.createElementBlock)("cell",{key:r.chooseIdx+"_"+p.uid},[(0,d.createElementVNode)("view",{onClick:_=>n.clickMember(p.uid),class:"center-between member-item"},[(0,d.createElementVNode)("view",{class:"center",style:{"padding-right":"20rpx"}},[(0,d.createVNode)(s,{src:p.avatar,w:"32rpx",h:"32rpx",radius:"4rpx"},null,8,["src"]),(0,d.createElementVNode)("view",{class:"center",style:{"margin-left":"12rpx"}},[(0,d.createElementVNode)("u-text",{class:"nickname ellipsis",style:{"max-width":"250rpx"}},(0,d.toDisplayString)(p.nickname),1),(0,d.createElementVNode)("u-text",{class:"nickname",style:{"margin-left":"6rpx","min-width":"max-content"}},(0,d.toDisplayString)(p.identityStr?"("+p.identityStr+")":""),1)])]),(0,d.createVNode)(s,{src:r.selectUidList.indexOf(p.uid)==-1?"s/msg/select_square_n.png":"s/msg/select_square_s.png",w:"20rpx",h:"20rpx"},null,8,["src"])],8,["onClick"])]))),128)),(0,d.createElementVNode)("cell",null,[r.loadMore!="nomore"?((0,d.openBlock)(),(0,d.createBlock)(c,{key:0,status:r.loadMore,contentText:r.loadContent,color:"#FFFFFF"},null,8,["status","contentText"])):(0,d.createCommentVNode)("",!0)]),(0,d.createElementVNode)("cell",{style:{height:"10rpx",width:"10rpx"}})],544)])]),_:1},8,["size","onOnClickOther"])}var yp=L(gp,[["render",_p],["styles",[mp,hp]]]),bp={center:{"":{display:"flex",alignItems:"center",flexDirection:"row"}},"center-between":{"":{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"space-between"}},"center-align":{"":{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"center"}},"column-center":{"":{flexDirection:"column",alignItems:"center",justifyContent:"center"}},ellipsis:{"":{lines:1,overflow:"hidden",textOverflow:"ellipsis"}},"split-line":{"":{height:"2rpx",backgroundColor:"#EDEDED",transform:"scaleY(0.5)",transformOrigin:"50% 100%"}},"gift-sheet":{"":{borderTopLeftRadius:"20rpx",borderTopRightRadius:"20rpx",borderBottomRightRadius:0,borderBottomLeftRadius:0,backgroundColor:"#FFFFFF"}},"top-bar":{"":{position:"relative",borderTopLeftRadius:"20rpx",borderTopRightRadius:"20rpx",borderBottomRightRadius:0,borderBottomLeftRadius:0,backgroundImage:"linear-gradient(to right, #FF008B, #FF5954)"}},"new-packet":{".top-bar ":{height:"90rpx",paddingTop:0,paddingRight:"28rpx",paddingBottom:0,paddingLeft:"28rpx",zIndex:111}},tip:{".top-bar .new-packet ":{fontSize:"24rpx",color:"#FFDC0D",marginLeft:"10rpx"}},"look-over":{".top-bar .new-packet ":{backgroundColor:"#FFFFFF",height:"48rpx",borderRadius:"8rpx",paddingTop:0,paddingRight:"20rpx",paddingBottom:0,paddingLeft:"20rpx",color:"#FF4477",lineHeight:"48rpx",fontSize:"28rpx"}},"new-recharge-bg":{".top-bar ":{position:"absolute",top:0,left:0}},"gift-item":{"":{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"26rpx",zIndex:111,position:"relative",borderRadius:"24rpx",paddingBottom:"8rpx",boxSizing:"border-box"}},title:{".gift-item ":{fontSize:"24rpx",lineHeight:"34rpx",maxHeight:"34rpx",lines:1,overflow:"hidden",textOverflow:"ellipsis",textAlign:"center"}},price:{".gift-item ":{fontSize:"20rpx",color:"#FFAA0D",marginRight:"4rpx",marginTop:"2rpx",textAlign:"center",lineHeight:"28rpx"}},"gift-num":{".gift-item ":{backgroundColor:"#FF4477",fontSize:"20rpx",color:"#FFFFFF",paddingTop:0,paddingRight:"8rpx",paddingBottom:0,paddingLeft:"8rpx",borderRadius:"18rpx",position:"absolute",right:0,bottom:0}},"balance-wrap":{"":{marginBottom:"-10rpx",paddingRight:"28rpx",height:"60rpx"}},"type-text":{".balance-wrap ":{fontSize:"24rpx",color:"#999999",lineHeight:"34rpx",marginLeft:"6rpx"}},"type-active":{".balance-wrap ":{fontWeight:"600",color:"#FF4477"}},balance:{".balance-wrap ":{fontSize:"24rpx",color:"#FFB000",fontWeight:"500",lineHeight:"34rpx",marginRight:"4rpx",marginTop:"2rpx"}},"recharge-text":{".balance-wrap ":{fontSize:"24rpx",lineHeight:"34rpx",color:"#FF743F",marginRight:"4rpx"}},"recharge-bottom":{"":{paddingTop:0,paddingRight:"28rpx",paddingBottom:0,paddingLeft:"28rpx"}},"choose-user":{".recharge-bottom ":{fontSize:"24rpx",color:"#FF4477",lineHeight:"34rpx"}},"send-wrap":{".recharge-bottom ":{borderRadius:"8rpx",borderWidth:"2rpx",borderStyle:"solid",borderColor:"#FF4477"}},"choose-count":{".recharge-bottom .send-wrap ":{paddingTop:0,paddingRight:"24rpx",paddingBottom:0,paddingLeft:"24rpx",lineHeight:"52rpx",height:"52rpx"}},count:{".recharge-bottom .send-wrap .choose-count ":{fontSize:"24rpx",marginRight:"6rpx"}},button:{".recharge-bottom .send-wrap ":{height:"56rpx",borderRadius:"4rpx",lineHeight:"56rpx",paddingTop:0,paddingRight:"32rpx",paddingBottom:0,paddingLeft:"32rpx",fontSize:"28rpx",color:"#FFFFFF",backgroundImage:"linear-gradient(to right, #FF00BD, #FF5954)"}},"count-pop":{"":{width:"100rpx",borderRadius:"8rpx",backgroundColor:"#000000",marginTop:"-10rpx"}},"count-text":{".count-pop ":{fontSize:"24rpx",color:"#FFFFFF",textAlign:"center",paddingTop:"16rpx",paddingRight:0,paddingBottom:"16rpx",paddingLeft:0}},"go-btn":{"":{marginTop:"20rpx",backgroundImage:"linear-gradient(to right, #FF00BD, #FF5954)",borderRadius:"8rpx",color:"#FFFFFF",lineHeight:"40rpx",paddingTop:"6rpx",paddingRight:"40rpx",paddingBottom:"6rpx",paddingLeft:"40rpx",fontSize:"28rpx"}},"view-title-action":{"":{height:"60rpx",paddingTop:0,paddingRight:"30rpx",paddingBottom:0,paddingLeft:"30rpx"}}},Ka=Ee("dom"),wp={components:{MView:ze,MText:oe,ChooseReceiversPop:yp,UniPopup:ut,CustomPopover:si,LImg:R,UniIcons:le},emits:["onSendAskGift","onSendGift","onChange"],props:{fromType:{type:[String,Number],default:1},isAsk:{type:Boolean,default:!1},isGreeting:{type:Boolean,default:!1},roomId:{type:[String,Number],default:""},showSend:{type:Boolean,default:!0}},data(){return{prizeWheelShow:getApp().globalData.prizeWheelShow,actionId:0,accountInfo:getApp().pubAccount,giftList:{},giftBagList:{slide:[]},popShow:!1,paddingBottom:getApp().globalData.window.safeBottom+10,giftInfo:{},giftWidth:parseInt(getApp().globalData.window.width/4),screenW:getApp().globalData.window.width,myUser:getApp().pubUser,giftId:"",chooseCount:1,giftCountPopSize:{},countArr:[999,699,198,99,38,12,5,1],swipeCurrent:0,sheetHeight:0,openTimer:!1,receiverSize:{},uidList:[],selectStr:"",selectUserList:[],isSelectAll:!1,chooseUser:"",giftListType:1,bagCount:0,typeGift:Ae.GIFT,typeBag:Ae.BAG,isAuth:ne()}},computed:{giftSwiperItemStyle(){let e={"flex-wrap":"wrap"};return e["flex-direction"]="row",e},showList(){return this.giftListType==Ae.GIFT?this.giftList:this.giftBagList},showIndicatorDots(){return this.giftListType==Ae.GIFT||this.showList.slide.length>1}},methods:{$str:l,clickThis(e){e&&e.stopPropagation()},clickGoBtn(){V("/pagesPub/luck-draw/index"),this.$refs.giftPopup.close()},clickType(e,t){e&&e.stopPropagation(),this.giftListType=t,t==1&&this.parseGiftList(),this.parseDefChoose(),this.$nextTick(()=>{this.setSheetHeight()})},clickCount(e){this.chooseCount=e},clickGiftReceivers(){Ka.getComponentRect(this.$refs.giftReceivers,e=>{e&&e.size&&(this.receiverSize=e.size,this.$refs.receiversPop.open(this.chooseUser),this.chooseUser&&(this.chooseUser=""))})},clickChooseCount(){var e=this;Ka.getComponentRect(this.$refs.giftCount,t=>{t&&t.size&&(e.giftCountPopSize=t.size,e.$refs.giftCountPop.open())})},clickGift(e,t,i){e&&e.stopPropagation();let a=this.showList.slide;if(this.giftInfo=a[t].list[i],this.isAsk){this.$emit("onSendAskGift",this.giftInfo),this.$refs.giftPopup.close();return}this.giftId=this.giftInfo.gift_id;let r=this.getStorageKey();this.giftListType==Ae.GIFT?(Q(r[0],this.swipeCurrent),Q(r[1],this.giftInfo)):(Q(r[2],this.swipeCurrent),Q(r[3],this.giftInfo))},clickSend(){if(y(this.giftId)){At(this.$str("msg.giftPleaseChoose"));return}this.isAsk||(this.fromType==Ve.CALL||this.fromType==Ve.GAME?Bi("call_click",1):Bi("chat_click",1));let e=this.giftInfo;e.count=this.chooseCount;let t={gift_id:this.giftInfo.gift_id,to_uid:this.actionId,from_type:this.fromType,number:this.chooseCount};if(this.giftListType==Ae.BAG?(e.gift_source=1,t.gift_source=1):delete e.gift_source,this.fromType==Ve.CLUB){if(this.uidList.length>0){if(this.giftListType==Ae.GIFT){let i=this.uidList.length*this.chooseCount*this.giftInfo.price;if(!Je(i))return}else if(!this.checkGiftCount())return}else if(!this.checkGiftCount())return;e.club_id=this.actionId,!this.isSelectAll&&this.uidList.length<=0?(e.to_uid=-1,e.from_type=6):e.to_uid=this.isSelectAll?0:this.uidList,this.selectUserList.length>0&&(e.user_list=this.selectUserList),this.clearMemberPopData()}else if(!this.checkGiftCount())return;if(Q("gift_list_type_"+getApp().globalData.uid,this.giftListType+""),[Ve.MSG,Ve.CALL,Ve.GAME,Ve.CLUB].indexOf(parseInt(this.fromType))!=-1){this.$emit("onSendGift",e),this.$refs.giftPopup.close();return}N.request("/chat/gift/send",t,!0).then(i=>{this.$emit("onSendGift",e),at(i.data.balance),i.data.from_bag&&Bt()})},clickRecharge(){Sn(0,1)},checkGiftCount(){if(this.giftListType!=Ae.BAG)return!0;let e=this.giftInfo.num;if((this.uidList.length>0?this.uidList.length:1)*this.chooseCount-e>0){let a=e>1?"gift.notEnoughGiftsTips":"gift.notEnoughGiftTips";return fe(l("tips"),l(a,{num:e}),"",l("gotIt")),!1}return!0},clearMemberPopData(){this.selectStr="",this.uidList=[],this.selectUserList=[],this.isSelectAll=!1,this.$refs.receiversPop.clear(),this.chooseUser&&(this.chooseUser="")},onSheetChange(e){e.height=this.sheetHeight,e.show?this.openTimer=setTimeout(()=>{clearTimeout(this.openTimer),this.$emit("onChange",e)},500):(clearTimeout(this.openTimer),this.$emit("onChange",e))},onSwipeChange(e){this.swipeCurrent=e.detail.current},onReceiversClose(e){this.uidList=e.uidList,this.isSelectAll=e.isSelectAll,this.selectUserList=e.userList},onChangeSelectStr(e){this.selectStr=e},setChooseUser(e){this.isSelectAll=!1,this.uidList=[e.uid],this.selectUserList=[e],this.selectStr=e.nickname,this.chooseUser=e},setSheetHeight(){let e=this.giftWidth*2;e+=uni.upx2px(20),e+=this.isAsk?0:uni.upx2px(100),e+=uni.upx2px(100),e+=this.paddingBottom,this.sheetHeight=e},getStorageKey(){let e=getApp().globalData.uid;return["gift_swipe_current_"+e,"gift_current_info_"+e,"gift_bag_swipe_current_"+e,"gift_bag_current_info_"+e]},parseGifts(e){let t=[],i=[];if(this.isGreeting){let a=getApp().globalData.config.max_ask_gift_price;for(let r=0,n=e.length;r<n;r++){let s=e[r];s.price>=a||i.push(s)}}else{let a=[];for(let r=0,n=e.length;r<n;r++){let s=e[r];y(s.title)||y(s.icon)||a.push(s)}i=a}for(let a=0,r=i.length;a<r;a+=8)t.push({list:i.slice(a,a+8)});return{slide:t}},parseDefInfo(){let e=K("gift_swipe_current");if(e){let i="gift_swipe_current_"+getApp().globalData.uid;Q(i,e),Ke("gift_swipe_current")}let t=K("gift_current_info");if(t){let i="gift_current_info_"+getApp().globalData.uid;Q(i,t),Ke("gift_current_info")}},parseGiftList(){Object.keys(this.giftList).length<=0&&Na().then(e=>{this.giftList=this.parseGifts(e)})},parseDefChoose(){this.giftListType==Ae.GIFT&&this.parseDefInfo();let e=this.getStorageKey(),t=this.giftListType==Ae.GIFT?e[0]:e[2],i=K(t);this.swipeCurrent=i?Number(i):0;let a=this.giftListType==Ae.GIFT?e[1]:e[3],r=K(a);r&&(this.giftInfo=r,this.giftId=r.gift_id)},open(e,t){uni.hideKeyboard(),this.actionId=e,this.isAsk||this.isAuth?(this.giftId=0,this.giftListType=Ae.GIFT,this.parseGiftList(),this.setSheetHeight(),this.$nextTick(()=>{this.$refs.giftPopup.open()})):Ma().then(i=>{if(typeof t!="undefined")this.giftListType=t;else{let a=K("gift_list_type_"+getApp().globalData.uid);a?this.giftListType=Number(a):this.giftListType=i.count<=0?Ae.GIFT:Ae.BAG}this.bagCount=i.count,this.giftBagList=this.parseGifts(i.list),this.giftListType==Ae.GIFT&&this.parseGiftList(),this.parseDefChoose(),this.setSheetHeight(),this.$nextTick(()=>{this.$refs.giftPopup.open()})})}}};function xp(e,t,i,a,r,n){let s=S((0,d.resolveDynamicComponent)("l-img"),R),c=S((0,d.resolveDynamicComponent)("uni-icons"),le),u=(0,d.resolveComponent)("swiper-item"),p=(0,d.resolveComponent)("m-text"),f=(0,d.resolveComponent)("swiper"),m=S((0,d.resolveDynamicComponent)("uni-popup"),ut),_=S((0,d.resolveDynamicComponent)("custom-popover"),si),F=(0,d.resolveComponent)("choose-receivers-pop");return(0,d.openBlock)(),(0,d.createElementBlock)("view",{onClick:t[10]||(t[10]=(...x)=>n.clickThis&&n.clickThis(...x)),renderWhole:!0},[(0,d.createVNode)(m,{"safe-area":!1,onChange:n.onSheetChange,"border-radius":"20rpx",ref:"giftPopup",style:{"z-index":"999"},type:"bottom"},{default:(0,d.withCtx)(()=>[(0,d.createElementVNode)("view",{class:"gift-sheet",style:(0,d.normalizeStyle)({paddingBottom:r.paddingBottom+"px"})},[i.isAsk?(0,d.createCommentVNode)("",!0):((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:0,class:"top-bar"},[(0,d.createVNode)(s,{src:"s/gift/icon/gift_new_recharge_bg_1.png",w:`${r.screenW}px`,h:"88rpx",radius:"20rpx 20rpx 0 0",style:{position:"absolute",left:"0",top:"0"}},null,8,["w"]),(0,d.createElementVNode)("view",{class:"new-packet center-between"},[(0,d.createElementVNode)("view",{class:"center"},[(0,d.createVNode)(s,{src:"s/pub/more_coins.png",w:"56rpx",h:"56rpx"}),(0,d.createElementVNode)("u-text",{class:"tip"},(0,d.toDisplayString)(n.$str("gift.sheetReceiveNewPacket")),1)]),(0,d.createElementVNode)("u-text",{onClick:t[0]||(t[0]=(...x)=>n.clickRecharge&&n.clickRecharge(...x)),class:"look-over"},(0,d.toDisplayString)(n.$str("check")),1)])])),(0,d.createElementVNode)("view",{class:"balance-wrap center-between"},[(0,d.createElementVNode)("view",{class:"center"},[(0,d.createElementVNode)("view",{onClick:t[2]||(t[2]=x=>n.clickType(x,1)),class:"center view-title-action"},[(0,d.createVNode)(s,{onClick:t[1]||(t[1]=x=>n.clickType(x,1)),src:`s/pub/gift_home_${r.giftListType==r.typeGift?"s":"n"}.png`,w:"32rpx",h:"32rpx"},null,8,["src"]),(0,d.createElementVNode)("u-text",{class:(0,d.normalizeClass)(["type-text",[r.giftListType==r.typeGift?"type-active":""]])},(0,d.toDisplayString)(n.$str("gift")),3)]),!i.isAsk&&!r.isAuth?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:0,onClick:t[4]||(t[4]=x=>n.clickType(x,2)),class:"center view-title-action"},[(0,d.createVNode)(s,{onClick:t[3]||(t[3]=x=>n.clickType(x,2)),src:`s/pub/gift_bag_${r.giftListType==r.typeBag?"s":"n"}.png`,w:"32rpx",h:"32rpx"},null,8,["src"]),(0,d.createElementVNode)("u-text",{class:(0,d.normalizeClass)(["type-text",[r.giftListType==r.typeBag?"type-active":""]])},(0,d.toDisplayString)(r.bagCount>0?n.$str("bagNum",{num:r.bagCount}):n.$str("bag")),3)])):(0,d.createCommentVNode)("",!0)]),(0,d.createElementVNode)("view",{class:"center"},[(0,d.createElementVNode)("view",{class:"center",style:{"margin-right":"44rpx"}},[(0,d.createElementVNode)("u-text",{class:"balance"},(0,d.toDisplayString)(Number(r.accountInfo.money)),1),(0,d.createVNode)(s,{src:"s/my/i_coins.png",w:"24rpx",h:"24rpx"})]),(0,d.createElementVNode)("view",{onClick:t[5]||(t[5]=(...x)=>n.clickRecharge&&n.clickRecharge(...x)),class:"center"},[(0,d.createElementVNode)("u-text",{class:"recharge-text"},(0,d.toDisplayString)(n.$str("topUp")),1),(0,d.createVNode)(c,{type:"right",size:"12px",color:"#FF743F"})])])]),(0,d.createVNode)(f,{"indicator-dots":n.showIndicatorDots,"indicator-active-color":"#F70AB8","indicator-color":"rgba(255, 3, 187, .3)",onChange:n.onSwipeChange,current:r.swipeCurrent,style:{height:"480rpx"}},{default:(0,d.withCtx)(()=>[((0,d.openBlock)(!0),(0,d.createElementBlock)(d.Fragment,null,(0,d.renderList)(n.showList.slide,(x,M)=>((0,d.openBlock)(),(0,d.createBlock)(u,{key:M,style:(0,d.normalizeStyle)(n.giftSwiperItemStyle)},{default:(0,d.withCtx)(()=>[((0,d.openBlock)(!0),(0,d.createElementBlock)(d.Fragment,null,(0,d.renderList)(x.list,(v,O)=>((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:O,style:(0,d.normalizeStyle)([{position:"relative"},{height:`${r.giftWidth+12}px`}])},[(0,d.createElementVNode)("view",{onClick:W=>n.clickGift(W,M,O),class:"gift-item",style:(0,d.normalizeStyle)({width:`${r.giftWidth}px`,border:`1px solid ${r.giftId==v.gift_id?"#FF4477":"#FFFFFF"}`})},[(0,d.createElementVNode)("view",{style:{"margin-top":"4px",position:"relative",padding:"0 20rpx"}},[(0,d.createVNode)(s,{onClick:W=>n.clickGift(W,M,O),src:v.icon,"use-cache":!0,w:"100rpx",h:"100rpx"},null,8,["onClick","src"]),r.giftListType==r.typeBag?((0,d.openBlock)(),(0,d.createElementBlock)("u-text",{key:0,class:"gift-num"},"x"+(0,d.toDisplayString)(v.num),1)):(0,d.createCommentVNode)("",!0)]),(0,d.createElementVNode)("u-text",{class:"title",style:(0,d.normalizeStyle)({width:`${r.giftWidth-16}px`})},(0,d.toDisplayString)(v.title),5),(0,d.createElementVNode)("view",{class:"center"},[(0,d.createElementVNode)("u-text",{class:"price"},(0,d.toDisplayString)(v.price),1),(0,d.createVNode)(s,{src:"s/my/i_coins.png",w:"18rpx",h:"18rpx",style:{"margin-top":"2rpx"}})])],12,["onClick"])],4))),128))]),_:2},1032,["style"]))),128)),r.giftListType==r.typeBag&&r.bagCount<=0?((0,d.openBlock)(),(0,d.createBlock)(u,{key:0,style:(0,d.normalizeStyle)(n.giftSwiperItemStyle)},{default:(0,d.withCtx)(()=>[(0,d.createElementVNode)("view",{class:"column-center",style:{flex:"1"}},[(0,d.createVNode)(s,{src:"s/pub/empty_gift_1.png",w:"192rpx",h:"168rpx"}),r.prizeWheelShow?((0,d.openBlock)(),(0,d.createBlock)(p,{key:0,type:"desc",text:n.$str("gift.getByPrizeWheelTips"),style:{"margin-top":"20rpx","font-size":"24rpx"}},null,8,["text"])):(0,d.createCommentVNode)("",!0),r.prizeWheelShow?((0,d.openBlock)(),(0,d.createElementBlock)("u-text",{key:1,onClick:t[6]||(t[6]=(...x)=>n.clickGoBtn&&n.clickGoBtn(...x)),class:"go-btn"},(0,d.toDisplayString)(n.$str("go")),1)):(0,d.createCommentVNode)("",!0)])]),_:1},8,["style"])):(0,d.createCommentVNode)("",!0)]),_:1},8,["indicator-dots","onChange","current"]),i.showSend?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:1,class:"recharge-bottom center-between"},[i.fromType==5?((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:0,ref:"giftReceivers",onClick:t[7]||(t[7]=(...x)=>n.clickGiftReceivers&&n.clickGiftReceivers(...x)),class:"center"},[r.selectStr?((0,d.openBlock)(),(0,d.createElementBlock)("u-text",{key:0,class:"choose-user ellipsis",style:{"max-width":"400rpx"}},(0,d.toDisplayString)(n.$str("sendTo"))+":\xA0"+(0,d.toDisplayString)(r.selectStr),1)):((0,d.openBlock)(),(0,d.createElementBlock)("u-text",{key:1,class:"choose-user"},(0,d.toDisplayString)(n.$str("gift.sheetChooseReceivers")),1)),(0,d.createVNode)(c,{type:"right",size:"20rpx",color:"#FF4477",style:{"margin-top":"-2rpx"}})],512)):((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:1})),i.isAsk?(0,d.createCommentVNode)("",!0):((0,d.openBlock)(),(0,d.createElementBlock)("view",{key:2,class:"send-wrap center"},[(0,d.createElementVNode)("view",{onClick:t[8]||(t[8]=(...x)=>n.clickChooseCount&&n.clickChooseCount(...x)),ref:"giftCount",class:"choose-count center-align"},[(0,d.createElementVNode)("u-text",{class:"count"},(0,d.toDisplayString)(r.chooseCount),1),(0,d.createVNode)(c,{color:"#000000",size:"12px",style:{"margin-top":"-2rpx"},type:"top"})],512),(0,d.createElementVNode)("u-text",{onClick:t[9]||(t[9]=(...x)=>n.clickSend&&n.clickSend(...x)),class:"button"},(0,d.toDisplayString)(n.$str("give")),1)]))])):(0,d.createCommentVNode)("",!0)],4)]),_:1},8,["onChange"]),(0,d.createVNode)(_,{ref:"giftCountPop",size:r.giftCountPopSize,"bg-color":"black",style:{"z-index":"1000"}},{default:(0,d.withCtx)(()=>[(0,d.createElementVNode)("view",{class:"count-pop"},[((0,d.openBlock)(!0),(0,d.createElementBlock)(d.Fragment,null,(0,d.renderList)(r.countArr,(x,M)=>((0,d.openBlock)(),(0,d.createElementBlock)("u-text",{onClick:v=>n.clickCount(x),key:"c"+M,class:"count-text"},(0,d.toDisplayString)(x),9,["onClick"]))),128))])]),_:1},8,["size"]),i.fromType==5?((0,d.openBlock)(),(0,d.createBlock)(F,{key:0,ref:"receiversPop","club-id":r.actionId,size:r.receiverSize,onOnChangeSelectStr:n.onChangeSelectStr,onOnReceiversClose:n.onReceiversClose},null,8,["club-id","size","onOnChangeSelectStr","onOnReceiversClose"])):(0,d.createCommentVNode)("",!0)])}var Un=L(wp,[["render",xp],["styles",[bp]]]);var H=q(Z());var b=q(Z());var kp={"view-this":{"":{flexDirection:"row",alignItems:"center",position:"relative",marginRight:"8rpx"}},"text-level":{"":{width:"50rpx",lineHeight:"50rpx",textAlign:"center",color:"#FFFFFF",position:"absolute",top:0}}},Ap={props:{info:{type:Object,default(){return{}}},vipAlways:{type:Boolean,default:!1},levelAlways:{type:Boolean,default:!1},hideVip:{type:Boolean,default:!1}},computed:{show(){return this.info.is_auth||this.info.level>0||this.showVip||this.levelAlways},showVip(){return this.hideVip?!1:this.info.is_vip?this.info.hide_vip?this.vipAlways:!0:!1},showLevel(){return!this.info.hide_level&&(this.info.level>0||this.info.is_auth)?!0:this.levelAlways},levelStr(){let e=this.info.is_auth?1:0;return this.info.level<=0?e:this.info.level},levelSrc(){return this.info.sex==2?"s/pub/level_a.png":"s/pub/level_c.png"},levelSize(){return this.info.level>99?"10rpx":this.info.level>9?"14rpx":"16rpx"},levelWeight(){return this.info.level>99?"bold":"normal"}}};function vp(e,t,i,a,r,n){let s=S((0,b.resolveDynamicComponent)("l-img"),R);return n.show?((0,b.openBlock)(),(0,b.createElementBlock)("view",{key:0,class:"view-this",renderWhole:!0},[n.showLevel?((0,b.openBlock)(),(0,b.createElementBlock)("view",{key:0},[(0,b.createVNode)(s,{src:n.levelSrc,w:"50rpx",h:"50rpx"},null,8,["src"]),(0,b.createElementVNode)("u-text",{class:"text-level",style:(0,b.normalizeStyle)({fontSize:n.levelSize,fontWeight:n.levelWeight})},(0,b.toDisplayString)(n.levelStr),5)])):(0,b.createCommentVNode)("",!0),n.showVip?((0,b.openBlock)(),(0,b.createBlock)(s,{key:1,src:"s/pub/vip_3.png",w:"56rpx",h:"24rpx",style:{"margin-left":"8rpx"}})):(0,b.createCommentVNode)("",!0)])):(0,b.createCommentVNode)("",!0)}var $a=L(Ap,[["render",vp],["styles",[kp]]]),Sp={center:{"":{alignItems:"center",flexDirection:"row"}},"m-l-4":{"":{marginLeft:"8rpx"}},"m-r-4":{"":{marginRight:"8rpx"}}},Cp={props:{user:{type:Object,default(){return{}}},imgW:{type:Number,default:40},imgH:{type:Number,default:26},fontSize:{type:Number,default:24},color:{type:String,default:""},showName:{type:Boolean,default:!1},showCode:{type:Boolean,default:!0},desc:{type:Boolean,default:!1}},computed:{defClass(){let e={fontSize:`${this.fontSize}rpx`};return y(this.color)?e.color=getApp().globalData.themeObj.color.title:e.color=this.color,e}}};function Tp(e,t,i,a,r,n){let s=S((0,b.resolveDynamicComponent)("l-img"),R);return i.user.country_code&&!i.desc?((0,b.openBlock)(),(0,b.createElementBlock)("view",{key:0,class:"center"},[(0,b.createVNode)(s,{src:i.user.country_flag,w:`${i.imgW}rpx`,h:`${i.imgH}rpx`},null,8,["src","w","h"]),i.showCode&&i.user.country_code?((0,b.openBlock)(),(0,b.createElementBlock)("u-text",{key:0,class:"m-l-4",style:(0,b.normalizeStyle)(n.defClass)},(0,b.toDisplayString)(i.user.country_code.toUpperCase()),5)):(0,b.createCommentVNode)("",!0),i.showName&&i.user.country_name?((0,b.openBlock)(),(0,b.createElementBlock)("u-text",{key:1,class:"m-l-4",style:(0,b.normalizeStyle)(n.defClass)},(0,b.toDisplayString)(i.user.country_name),5)):(0,b.createCommentVNode)("",!0)])):i.user.country_code?((0,b.openBlock)(),(0,b.createElementBlock)("view",{key:1,class:"center m-r-4"},[i.showName&&i.user.country_name?((0,b.openBlock)(),(0,b.createElementBlock)("u-text",{key:0,class:"m-r-4",style:(0,b.normalizeStyle)(n.defClass)},(0,b.toDisplayString)(i.user.country_name),5)):(0,b.createCommentVNode)("",!0),i.showCode&&i.user.country_code?((0,b.openBlock)(),(0,b.createElementBlock)("u-text",{key:1,class:"m-r-4",style:(0,b.normalizeStyle)(n.defClass)},(0,b.toDisplayString)(i.user.country_code.toUpperCase()),5)):(0,b.createCommentVNode)("",!0),(0,b.createVNode)(s,{src:i.user.country_flag,w:`${i.imgW}rpx`,h:`${i.imgH}rpx`},null,8,["src","w","h"])])):(0,b.createCommentVNode)("",!0)}var Ja=L(Cp,[["render",Tp],["styles",[Sp]]]),Dp={"user-info":{"":{flexDirection:"row",alignItems:"center"}},"nickname-nvue":{"":{lines:1,textOverflow:"ellipsis",wordWrap:"anywhere"}},"m-r-4":{"":{marginRight:"8rpx"}},"text-official":{"":{lineHeight:"28rpx",backgroundColor:"#34C759",borderRadius:"4rpx",paddingTop:0,paddingRight:"8rpx",paddingBottom:0,paddingLeft:"8rpx",color:"#FFFFFF",fontSize:"20rpx",fontStyle:"italic",fontWeight:"700",marginRight:"8rpx"}}},Lp={components:{LImg:R,CountryCode:Ja,LevelVip:$a},props:{info:{type:Object,default(){return{}}},noName:{type:Number,default:0},nameColor:{type:String,default:""},nameSize:{type:String,default:"26rpx"},nameWidth:{type:String,default:"300rpx"},fw:{type:[String,Number],default:"400"},desc:{type:Boolean,default:!1},isAdmin:{type:Number,default:0},showAge:{type:Boolean,default:!0},showAuth:{type:Boolean,default:!0},showCountry:{type:Boolean,default:!1},showCountryCode:{type:Boolean,default:!0},levelAlways:{type:Boolean,default:!1}},computed:{officialStr(){return this.info.auth_status==9?l("official"):""},age(){if(!this.showAge||y(this.info.birthday)||this.info.hide_profile)return"";let e=Li(this.info.birthday);return y(e)||isNaN(e)?"":`${this.noName?"":", "}${e}`},nicknameText(){return Ni(this.info,this.isAdmin)},showCountryInfo(){return this.showCountry&&this.info.hide_profile!=1},nicknameColor(){return y(this.nameColor)?getApp().globalData.themeObj.color.title:this.nameColor}}};function Ip(e,t,i,a,r,n){let s=S((0,b.resolveDynamicComponent)("level-vip"),$a),c=S((0,b.resolveDynamicComponent)("country-code"),Ja),u=S((0,b.resolveDynamicComponent)("l-img"),R);return(0,b.openBlock)(),(0,b.createElementBlock)("view",{renderWhole:!0},[i.desc?((0,b.openBlock)(),(0,b.createElementBlock)("view",{key:1,class:"user-info",style:{"justify-content":"flex-end"}},[n.officialStr?((0,b.openBlock)(),(0,b.createElementBlock)("u-text",{key:0,class:"text-official"},(0,b.toDisplayString)(n.officialStr),1)):((0,b.openBlock)(),(0,b.createElementBlock)("view",{key:1,class:"user-info"},[i.showAuth&&i.info.auth_status==1?((0,b.openBlock)(),(0,b.createBlock)(u,{key:0,src:"s/pub/verified_1.png",w:"24rpx",h:"24rpx",style:{"margin-right":"8rpx"}})):(0,b.createCommentVNode)("",!0),n.showCountryInfo?((0,b.openBlock)(),(0,b.createBlock)(c,{key:1,user:i.info,color:n.nicknameColor,desc:i.desc,"show-code":i.showCountryCode},null,8,["user","color","desc","show-code"])):(0,b.createCommentVNode)("",!0),(0,b.createVNode)(s,{info:i.info,"vip-always":i.isAdmin==1,"level-always":i.levelAlways,style:{"margin-right":"8rpx"}},null,8,["info","vip-always","level-always"])])),i.noName?(0,b.createCommentVNode)("",!0):((0,b.openBlock)(),(0,b.createElementBlock)("u-text",{key:2,class:(0,b.normalizeClass)(["nickname-nvue",[n.age?"":"m-r-4"]]),style:(0,b.normalizeStyle)({color:n.nicknameColor,fontSize:i.nameSize,maxWidth:i.nameWidth,fontWeight:i.fw})},(0,b.toDisplayString)(n.nicknameText),7)),n.age?((0,b.openBlock)(),(0,b.createElementBlock)("u-text",{key:3,class:"nickname-nvue",style:(0,b.normalizeStyle)({color:n.nicknameColor,fontSize:i.nameSize,fontWeight:i.fw})},(0,b.toDisplayString)(n.age),5)):(0,b.createCommentVNode)("",!0)])):((0,b.openBlock)(),(0,b.createElementBlock)("view",{key:0,class:"user-info"},[i.noName?(0,b.createCommentVNode)("",!0):((0,b.openBlock)(),(0,b.createElementBlock)("u-text",{key:0,class:(0,b.normalizeClass)(["nickname-nvue",[n.age?"":"m-r-4"]]),style:(0,b.normalizeStyle)({color:n.nicknameColor,fontSize:i.nameSize,maxWidth:i.nameWidth,fontWeight:i.fw})},(0,b.toDisplayString)(n.nicknameText),7)),n.age?((0,b.openBlock)(),(0,b.createElementBlock)("u-text",{key:1,class:"nickname-nvue m-r-4",style:(0,b.normalizeStyle)({color:n.nicknameColor,fontSize:i.nameSize,fontWeight:i.fw})},(0,b.toDisplayString)(n.age),5)):(0,b.createCommentVNode)("",!0),n.officialStr?((0,b.openBlock)(),(0,b.createElementBlock)("u-text",{key:2,class:"text-official"},(0,b.toDisplayString)(n.officialStr),1)):((0,b.openBlock)(),(0,b.createElementBlock)("view",{key:3,class:"user-info"},[(0,b.createVNode)(s,{info:i.info,"vip-always":i.isAdmin==1,"level-always":i.levelAlways,style:{"margin-right":"8rpx"}},null,8,["info","vip-always","level-always"]),n.showCountryInfo?((0,b.openBlock)(),(0,b.createBlock)(c,{key:0,user:i.info,color:n.nicknameColor,"show-code":i.showCountryCode,style:{"margin-right":"8rpx"}},null,8,["user","color","show-code"])):(0,b.createCommentVNode)("",!0),i.showAuth&&i.info.auth_status==1?((0,b.openBlock)(),(0,b.createBlock)(u,{key:1,src:"s/pub/verified_1.png",w:"24rpx",h:"24rpx",style:{"margin-right":"8rpx"}})):(0,b.createCommentVNode)("",!0)]))]))])}var ft=L(Lp,[["render",Ip],["styles",[Dp]]]);var pe=q(Z());var Ep={"view-answer":{"":{alignItems:"center",justifyContent:"center"}},"view-answer-img":{"":{alignItems:"center",justifyContent:"center",backgroundColor:"#17BB07"}}},Fp={emits:["click"],props:{callType:{type:Number,default:1},animW:{type:Number,default:144},bgW:{type:Number,default:110},iconW:{type:Number,default:68},iconVW:{type:Number,default:48}},data(){return{}},computed:{bgStyle(){return{width:`${this.bgW}rpx`,height:`${this.bgW}rpx`,borderRadius:`${this.bgW/2}rpx`}},answerIcon(){return this.callType==wt.VIDEO?"s/call/answer_white.png":"s/call/answer_voice_white.png"},answerIconH(){return this.callType==wt.VIDEO?`${this.iconVW}rpx`:`${this.iconW}rpx`}},methods:{clickAnswer(e){e&&e.stopPropagation(),this.$emit("click")},startAnswerBgAnim(){let e=this.$refs.animAnswerBg;e==null||typeof e=="undefined"||typeof e.step=="undefined"||(e.step({scale:1.3,opacity:0},{duration:1e3}),e.step({scale:1,opacity:1},{duration:1}),e.run(()=>{this.startAnswerBgAnim()}))},startAnswerIcon(){let e=this.$refs.animAnswerImg;e==null||typeof e=="undefined"||typeof e.step=="undefined"||(e.step({rotate:-10},{duration:500}),e.step({rotate:10},{duration:500}),e.run(()=>{this.startAnswerIcon()}))}},created(){setTimeout(()=>{this.startAnswerBgAnim(),this.startAnswerIcon()},1e3)}};function Op(e,t,i,a,r,n){let s=S((0,pe.resolveDynamicComponent)("uni-transition"),Ze),c=S((0,pe.resolveDynamicComponent)("l-img"),R);return(0,pe.openBlock)(),(0,pe.createElementBlock)("view",{onClick:t[1]||(t[1]=(...u)=>n.clickAnswer&&n.clickAnswer(...u)),class:"view-answer",style:(0,pe.normalizeStyle)({width:`${i.animW}rpx`,height:`${i.animW}rpx`}),renderWhole:!0},[(0,pe.createVNode)(s,{ref:"animAnswerBg",show:!0,style:(0,pe.normalizeStyle)([n.bgStyle,{position:"absolute",background:"#17BB07"}])},null,8,["style"]),(0,pe.createElementVNode)("view",{onClick:t[0]||(t[0]=(...u)=>n.clickAnswer&&n.clickAnswer(...u)),style:(0,pe.normalizeStyle)(n.bgStyle),class:"view-answer-img"},[(0,pe.createVNode)(s,{ref:"animAnswerImg",show:!0},{default:(0,pe.withCtx)(()=>[(0,pe.createVNode)(c,{onClick:n.clickAnswer,src:n.answerIcon,w:`${i.iconW}rpx`,h:n.answerIconH},null,8,["onClick","src","w","h"])]),_:1},512)],4)],4)}var qa=L(Fp,[["render",Op],["styles",[Ep]]]);function Hn(e,t,i,a){let r=parseInt(e.msg_type),n=e.contentObj||ri(e.msg_content);switch(r){case T.M_TEXT:if(n.content)return n.content;let s=n.text;if(n.info)for(let m=0,_=n.info.length;m<_;m++)s=s.replace("[x]",n.info[m].text);return s;case T.M_VOICE:return`${Oe(r)} ${nt(n.voice_duration)}`;case T.M_GIFT:if(n.from_type==5){let m=n.to_user_info?"@"+n.to_user_info.nickname:"@"+l("all"),_=n.to_user_info?l("msg.giftISentYou"):l("msg.giftISent");return`${Oe(r)} ${m} ${_} ${n.number} ${n.title}`}return n.from_type==6?`${Oe(r)} ${l("msg.giftISent")} ${n.number} ${n.title}`:`${Oe(r)} ${l("msg.giftISentYou")} ${n.number} ${n.title}`;case T.M_NOTICE:if(!y(n.key)){let m="";return e.chat_type==T.M_CHAT_PRI?m=Np(n):m=Rp(n,i,a),m?typeof m=="string"?`${Oe(r)} ${m}`:`${Oe(r)} ${Be(m)}`:Oe(r)}return`${Oe(r)} ${n.content}`;case T.M_CALL:let c=e.send_uid==getApp().globalData.uid,u=Pp(n.call_status,c,t,n.duration);return`[${Jr(n.call_type)}] ${u}`;case T.M_GIFT_ASK:let p;return e.send_uid==getApp().globalData.uid?p=`${l("msg.giftAskedOtherFor",{whom:Fe(t.sex)})} ${n.title}`:p=l("msg.giftAskText"),`${Oe(r)} ${p}`;case T.M_NOTICE_SYS:let f="";return n.content?f=n.content:n.text&&(f=Be(n)),`${Oe(r)} ${f}`;case T.M_PAID_PHOTO:case T.M_PAID_VIDEO:return`${Oe(r)} ${n.content||""}`;case T.M_RECOMMEND_USER:return e.chat_type==T.M_CHAT_CLUB?l("msg.recommendUserToEvery"):l("msg.recommendUserToYou");case T.M_RECOMMEND_CLUB:return e.chat_type==T.M_CHAT_CLUB?l("msg.recommendClubToEvery"):l("msg.recommendClubToYou");default:return Mp(r,n)}}function Rp(e,t,i){let a,r,n,s,c=!1,u=e.uid_arr,p=getApp().globalData.uid;try{switch(e.key){case re.CREATE:if(e.uid==getApp().globalData.uid){let O=e.identity==Nr.USER;a=Up(O),n=[{action:2,id:i.club_id,member:1}],c=!0}else a=l("msg.clubCreate"),n=[{action:1,id:e.uid}];r={nickname:U(t[u[0]].nickname),club_name:U(i.club_name)};break;case re.JOIN:r={nickname:U(t[u[0]].nickname)},u[0]==getApp().globalData.uid?(a=Za(),r.club_name=U(i.club_name),c=!0,n=[{action:2,id:i.club_id,member:i.is_member}]):(a=l("msg.clubJoin"),n=[{action:1,id:t[u[0]].uid}]);break;case re.EDIT_NAME:a=l("msg.clubEditName"),e.uid==getApp().globalData.uid?(r={nickname:{text:l("you")}},n=[{action:2,id:i.club_id,member:1}]):(r={nickname:U(t[u[0]].nickname)},n=[{action:1,id:t[u[0]].uid}]),r.club_name=U(e.club_name);break;case re.MUTE_ALL_MEMBER:e.uid==getApp().globalData.uid?s=e.is_mute?l("msg.clubMuteAllOnF"):l("msg.clubMuteAllOffF"):(a=e.is_mute?l("msg.clubMuteAllOn"):l("msg.clubMuteAllOff"),r={nickname:U(t[u[0]].nickname)},n=[{action:1,id:t[u[0]].uid}]);break;case re.REMOVE:let f;e.founder==getApp().globalData.uid?(f=t[e.uid],a=l("msg.clubRemoveMemberF")):(f=t[e.founder],a=l("msg.clubRemoveMember")),r={nickname:U(f.nickname)},n=[{action:1,id:f.uid}];break;case re.QUIT:a=l("msg.clubMemberQuit"),r={nickname:U(t[u[0]].nickname)},n=[{action:1,id:t[u[0]].uid}];break;case re.DISSOLUTION:e.from_admin==1?s=l("msg.clubDissolveAdmin"):(a=l("msg.clubDissolve"),r={nickname:U(t[u[0]].nickname)},n=[{action:1,id:t[u[0]].uid}]);break;case re.MUTE_MEMBER:let m;e.founder==getApp().globalData.uid?(m=t[e.uid],e.is_mute?a=l("msg.clubMuteOnF"):a=l("msg.clubMuteOffF")):(m=t[e.founder],e.is_mute?a=l("msg.clubMuteMemberTips"):a=l("msg.clubMuteOff")),r={nickname:U(m.nickname)},n=[{action:1,id:m.uid}];break;case re.MUTE_SEND_FAIL:a=e.is_mute==2?l("msg.clubMuteAllTips"):l("msg.clubMuteMemberTips"),r={nickname:U(t[u[0]].nickname)},n=[{action:1,id:t[u[0]].uid}];break;case re.INVITE_JOIN:let _=Array.isArray(e.uid);if(_?n=[{action:2,id:i.club_id,member:i.is_member}]:n=[{action:1,id:e.uid}],e.founder==getApp().globalData.uid){a=l("msg.clubInvite");let O;if(_){O="";for(let W=0,z=e.uid.length;W<z;W++){let C=t[e.uid[W]];C&&(O+=`${C.nickname}${W>=z-1?"":", "}`)}}else O=t[e.uid].nickname;r={nickname:{text:l("you")},invited_name:U(O)}}else{let O=_?e.uid.indexOf(getApp().globalData.uid)!=-1:e.uid==getApp().globalData.uid,W="";if(_)if(O)W=getApp().pubUser.nickname;else for(let z=0,C=e.uid.length;z<C;z++){let Y=t[e.uid[z]];Y&&(W+=`${Y.nickname}${z>=C-1?"":", "}`)}else W=O?getApp().pubUser.nickname:t[e.uid].nickname;O?(a=Za(),r={nickname:U(W),club_name:U(i.club_name)},c=!0):(a=l("msg.clubInvite"),r={nickname:U(t[e.founder].nickname),invited_name:U(W)})}break;case re.SET_FOUNDER:e.uid==getApp().globalData.uid?s=l("msg.clubSetFounderF"):(a=l("msg.clubSetFounder"),r={nickname:U(t[e.uid].nickname)},n=[{action:1,id:e.uid}]);break;case re.SET_MANAGER:let F=t[e.uid],x=t[e.founder];e.status==1?e.uid==getApp().globalData.uid?(a=l("msg.clubAdminSetF"),r={nickname:U(x.nickname)},n=[{action:1,id:x.uid}]):(a=l("msg.clubAdminSet"),r={nickname:U(F.nickname),founder_name:U(x.nickname,"#888196")},n=[{action:1,id:F.uid}]):e.uid==getApp().globalData.uid?(a=l("msg.clubAdminCancelF"),r={nickname:U(x.nickname)},n=[{action:1,id:x.uid}]):(a=l("msg.clubAdminCancel"),r={nickname:U(F.nickname),founder_name:U(x.nickname,"#888196")},n=[{action:1,id:F.uid}]);break;case re.YOUR_GIFT_RETURN:e.from_type==5?e.uid?(a=l("msg.clubGiftReturnPrivate"),r={nickname:U(t[e.uid].nickname)},n=[{action:1,id:e.uid}]):s=l("msg.clubGiftReturnAll"):e.from_type==6&&(s=l("msg.clubGiftReturnNone"));break;case re.GIFT_HAS_SIGNED:if(p==e.uid)a=l("msg.giftSignedFromYou"),r={nickname:U(t[e.to_uid].nickname)},n=[{action:1,id:e.to_uid}];else if(p==e.to_uid){a=l("msg.giftYouSignedFrom");let O=e.income>1?l("coinsLower"):l("coinLower");r={nickname:U(t[e.uid].nickname),income:U(e.income,"#888196"),coin_str:U(O,"#888196")},n=[{action:1,id:e.uid}]}break;case re.SIGN_GIFT:s=l("msg.giftYouSigned");break;case re.SIGN_GIFT_FAIL:s=l("msg.giftLateAndBeenSigned");break;case re.YOUR_GIFT_SIGNED:s=l("msg.giftBeenSignedFromYou");break;case re.ACTION_GIFT:let M=e.from_type==6?l("msg.giftRobbedLower"):l("receivedLower");e.uid==getApp().globalData.uid?(a=l("msg.clubGiftRobSend",{robOrReceive:M}),r={nickname:U(t[e.to_uid].nickname),gift_name:U(e.gift_name,"#FB4476")},n=[{action:1,id:e.to_uid}]):e.to_uid==getApp().globalData.uid?(a=l("msg.clubGiftRobReceive",{rob:M,income:e.income,min:parseInt(e.reply_time/60)}),r={gift_name:U(e.gift_name,"#FB4476"),nickname:U(t[e.uid].nickname)},n=[{action:1,id:e.uid}]):(a=l("msg.clubGiftRobPasserby",{robOrReceive:M}),r={nickname:U(t[e.to_uid].nickname),gift_name:U(e.gift_name,"#FB4476"),from_name:U(t[e.uid].nickname)},n=[{action:1,id:e.uid}]);break;case re.GIFT_NO_REPLY_RETURN:if(e.uid==getApp().globalData.uid)a=l("msg.clubGiftNoReplyS",{min:parseInt(e.reply_time/60),income:e.income}),r={nickname:U(t[e.to_uid].nickname),gift_name:U(e.gift_name,"#FB4476")},n=[{action:1,id:e.to_uid}];else{let O=t[e.uid],W=parseInt(e.reply_time/60);a=e.from_type==6?l("msg.clubGiftNoReplyRFRob",{number:W}):l("msg.clubGiftNoReplyRFReceive",{number:W}),r={nickname:U(O.nickname),gift_name:U(e.gift_name,"#FB4476"),from_name:U(O.nickname)},n=[{action:1,id:e.uid}]}break;case re.GIFT_NO_ROB_RETURN:a=l("msg.clubGiftNoRobReturn",{number:e.income}),r={gift_name:U(e.gift_name,"#FB4476")};break;case re.YOU_GIFT_ROB_OVER:a=l("msg.clubGiftRobOver"),r={gift_name:U(e.gift_name,"#FB4476")};break;case re.GIFT_NO_SIGN_RETURN:if(e.to_uid==0)a=l("msg.clubGiftNoSignReturnAll",{number:e.income}),r={gift_name:U(e.gift_name,"#FB4476")};else{let O=t[e.to_uid];a=l("msg.clubGiftNoSignReturn",{other_str:Fe(O.sex),income:e.income}),r={nickname:U(O.nickname),gift_name:U(e.gift_name,"#FB4476")}}break;case re.FIRST_MSG_FEE:s=l("msg.clubSendConsumeCoinTips",{number:Di(e.msg_price||1)});break;case re.INVITE_FAILED:let v="";for(let O=0,W=e.uid.length;O<W;O++){let z=t[e.uid[O]];z&&(v+=`${z.nickname}${O>=W-1?"":", "}`)}a=e.uid.length>1?l("club.inviteUsersFailedTips"):l("club.inviteUserFailedTips"),r={invited_name:U(v)};break;case re.SIGNED_FOR:a=l("giftSignedTips"),r={gift_name:U(e.gift_name),nickname:U(e.receiver_name)},n=[{action:1,id:e.to_uid}];break;default:return""}}catch(f){return Dn(f,e,t,i),"New Message"}return s||{text:a,info:r,click:n,isLong:c}}function Np(e){let t;try{switch(e.key){case pn.NOT_REPLY:t=l("msg.notReplyCountTips",{count:e.count});break;case pn.NOT_CHEAT_USER:t=l("msg.notCheatUserTips");break;default:return""}}catch(i){return Dn(i,e,{},{}),"New Message"}return t||""}function U(e,t="#0091FF"){return{text:e,color:t}}function Mp(e,t){switch(e){case T.M_N_DEF:return t.tips?`${Oe(e)} ${t.tips}`:`[${t.title||l("notice")}] ${Be(t)}`;case T.M_N_AUDIT:return`[${t.title}] ${t.tips}`;case T.M_N_VIP:case T.M_N_RECHARGE:return`[${t.title}] ${Be(t)}`;case T.M_N_GREETING_AUDIT:return`[${t.title}] ${t.tips}`;case T.M_N_SYS_NOTICE:let i=t.title;return t.tips?`[${i}] ${t.tips}`:`[${i}] ${Be(t)}`;case T.M_N_CALL:return`[${t.title}] ${l("msg.revenueCoins")}:${t.total_income}`;case T.M_N_COOPERATE:return`[${l("msg.cooperate")}] ${l("msg.cooperateTips")}`;case T.M_N_WITHDRAW:let a="";return t.tips?a=t.tips:t.text&&(a=Be(t)),`[${t.title}] ${a}`;case T.M_N_MONITOR:let r=t.title||l("msg.secretaryNotice"),n=t.tips||Be(t);return`[${r}] ${n}`;case T.M_N_REPORT_AUDIT:return`[${t.title}] ${t.content}`;case T.M_N_CLUB_AUDIT_REJECT:case T.M_N_CLUB_AUDIT:let s="";return t.text?s=Be(t):t.content&&(s=t.content),`[${t.title||l("msg.secretaryNotice")}] ${s}`;case T.M_N_IMG:let u="";return t.content?u=t.content:t.text&&(u=Be(t)),u;case T.M_N_PRIVACY_CALL:let p="";return t.tips?p=t.tips:t.text&&(p=Be(t)),`[${t.title}] ${p}`;case T.M_N_WITHDRAW_NOTICE:let f="";return t.tips?f=t.tips:t.text&&(f=Be(t)),`[${t.title}] ${f}`;case T.M_N_WITH_MEDIA:let m="";return t.tips?m=t.tips:t.text&&(m=Be(t)),`[${t.title}] ${m}`;default:return Oe(e)}}function Be(e){if(y(e.info))return"";let t=Object.keys(e.info);for(let i=0,a=t.length;i<a;i++){let r=t[i];e.text=e.text.replace("[%"+r+"%]",` ${e.info[r].text} `)}return e.text}function Pp(e,t,i,a){if(e==0)return l("cancelled");if(e==1)return t?l("msg.callDeclinedBy",{nickname:Fe(i)}):l("declined");if(e==2)return`${l("duration")}: ${a}`;if(e==3)return t?l("msg.callNotAnswer"):l("cancelled")}function Oe(e){return{2:`[${l("voice")}]`,3:`[${l("picture")}]`,5:`[${l("gift")}]`,6:`[${l("notice")}]`,18:`[${l("video")}]`,21:`[${l("msg.askForGift")}]`,22:`[${l("msg.systemNotice")}]`,23:`[${l("msg.sticker")}]`,25:`[${l("msg.feePhoto")}]`,26:`[${l("msg.feeVideo")}]`,27:`[${l("msg.matchSuccess")}]`,100:`[${l("msg.systemNotice")}]`}[e]||"["+l("msg.newNews")+"]"}function Xa(e){let t=[l("clubRules.prohibitionClause1"),l("clubRules.prohibitionClause2"),l("clubRules.prohibitionClause3"),l("clubRules.prohibitionClause4")];e||(t.push(l("clubRules.prohibitionClause5")),t.push(l("clubRules.prohibitionClause6"))),t.push(l("clubRules.prohibitionClause7")),t.push(l("clubRules.prohibitionClause8")),t.push(l("clubRules.prohibitionClause9"));let i="";for(let a=0,r=t.length;a<r;a++){let n=a+1+". "+t[a]+`
`;i+=n}return i}function Bp(){let e=[l("clubRules.belowTips1",{hour_text:ni(24)}),l("clubRules.belowTips2",{ban_hour_text:ni(12),mute_hour_text:ni(24)}),l("clubRules.belowTips3",{hour_text:ni(24),disband_text:l("clubRules.beDisbanded"),ban_create_text:l("clubRules.nowAllowCreateClub")})],t="";for(let i=0,a=e.length;i<a;i++){let r=i<a-1?`
`:"",n="- "+e[i]+r;t+=n}return t}function Up(e){let t="";return t=`${l("msg.clubHaveCreatedFounder")}
`,t+=`${l("clubRules.readCarefully")}
`,t+=`${l("clubRules.notTalkBelowContent")}
`,t+=`${Xa(e)}`,t+=`${l("clubRules.punishedTips")}
`,t+=`${Bp()}`,t}function Za(){let e="";return e=`${l("msg.clubJoinSelf")}
`,e+=`${l("clubRules.readCarefully")}
`,e+=`${l("clubRules.notTalkBelowContent")}
`,e+=`${Xa(!ne())}`,e+=`${l("msg.chatManner")}
`,e+=`${l("msg.chatReportedWillBanned")}
`,e+=`${l("msg.chatClubReportTip")}`,e}var Hp={"view-n":{"":{position:"fixed",top:0,left:0}},"view-content":{"":{marginLeft:12,height:"144rpx",borderRadius:"16rpx",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},"view-user":{"":{flexDirection:"row",marginLeft:"24rpx",flex:1,marginRight:"20rpx"}},"view-msg":{"":{height:"90rpx",marginLeft:"20rpx",flexDirection:"column",justifyContent:"space-between"}},"text-content":{"":{fontSize:"24rpx",textOverflow:"ellipsis",lines:1}},"text-reply":{"":{width:"152rpx",height:"76rpx",lineHeight:"76rpx",borderWidth:"2rpx",borderStyle:"solid",borderColor:"#FF4477",borderRadius:"10rpx",textAlign:"center",fontSize:"32rpx",color:"#FF4477",marginRight:"24rpx"}},"view-action":{"":{flexDirection:"row",alignItems:"center",marginRight:"16rpx"}}},Wp={components:{AvatarImg:Ge,MText:oe,MView:ze,LImg:R,UBaseInfo:ft,CallBtnAnswer:qa},emits:["onCallAnswer"],props:{id:{type:String,default:""},gameInfo:{type:Object,default(){return{}}},isCallConnect:{type:[Boolean,Number],default:!1},fromType:{type:Number,default:0}},data(){return{isAndroid:T.isAndroid,sW:getApp().globalData.window.width,viewW:getApp().globalData.window.width-24,marginTop:0,show:!1,type:0,msgContentStr:"",user:{},closeTimer:!1,callData:{},startY:0,club:{},themeObj:getApp().globalData.themeObj}},computed:{avatarSrc(){return this.type==3?this.club.club_logo:this.user.small_avatar||this.user.avatar},nameWidthVal(){let e;return this.type==1?e=this.user.is_vip?175:220:e=200,this.user.level<=0&&(e+=56),`${e}rpx`},viewBg(){return this.themeObj.style==ee.LIGHT?this.themeObj.color.bg3:"#444444"},mysteryAvatar(){return this.type==3||!this.user.hide_profile?"":Mi(this.user)},mysteryNickname(){return this.type==3||!this.user.hide_profile?"":Ni(this.user)}},methods:{$str:l,onViewTouchMove(){},onViewTouch(e){let t;t=e.changedTouches[0].screenY.toFixed(2),this.startY=t},onViewTouchEnd(e){let t;t=e.changedTouches[0].screenY.toFixed(2),this.startY-t>25&&this.close(),this.startY=0},clickReply(){this.show=!1,this.type==1&&Mt(this.user)},clickAnswer(e){e&&e.stopPropagation(),this.fromType==1&&this.$emit("onCallAnswer",this.callData),this.close()},clickHangUp(e){if(e&&e.stopPropagation(),!y(this.callData.hangup_tips)){me(l("tips"),this.callData.hangup_tips,()=>{this.reqHangUp()},"",l("hangUp"));return}this.reqHangUp()},reqHangUp(){let e={room_id:this.callData.room_id};N.request("/chat/call/end",e,!1),this.close()},change(e){e.detail?this.setTimer():clearTimeout(this.closeTimer)},setTimer(){if(this.closeTimer)return;let e=this.type==2?2e4:5500;this.closeTimer=setTimeout(()=>{this.show=!1},e)},cleatTimer(){clearTimeout(this.closeTimer),this.closeTimer=!1},initMsg(e){if(!this.isCallConnect){if(this.cleatTimer(),this.setTimer(),e.chat_type==T.M_CHAT_CLUB){this.type=3,this.club=e.club_info;let t="",i=e.user_infos[e.send_uid];i&&i.uid!=T.SYSTEM_ID&&(t=`${i.nickname}: `),this.msgContentStr=`${t}${Hn(e,i)}`}else this.type=1,this.user=e.user_info,this.msgContentStr=Hn(e,e.user_info);this.show=!0}},initCall(e){this.isCallConnect||(this.type=2,this.cleatTimer(),this.setTimer(),this.callData=e,this.user=e.user_info,this.msgContentStr=l("call.inviteYou",{chatType:Ti(e.type)}),this.show=!0)},showCall(e){if(this.fromType==1){if(this.show){this.close(),setTimeout(()=>{this.initCall(e)},500);return}this.initCall(e)}},close(){this.cleatTimer(),this.show=!1},init(e){(e.notifyType==1||e.notifyType==4)&&this.initMsg(e)}},created(){let e=getCurrentPages(),a=e[e.length-1].$getAppWebview().getNavigationbar();y(a)||Object.keys(a).length<=0?this.marginTop=getApp().globalData.window.statusBarHeight+12:this.marginTop=12,uni.$on(`event_${this.id}_n`,this.init)},unmounted(){uni.$off(`event_${this.id}_n`,this.init)}};function Gp(e,t,i,a,r,n){let s=S((0,H.resolveDynamicComponent)("avatar-img"),Ge),c=S((0,H.resolveDynamicComponent)("l-img"),R),u=(0,H.resolveComponent)("m-text"),p=S((0,H.resolveDynamicComponent)("u-base-info"),ft),f=(0,H.resolveComponent)("call-btn-answer"),m=S((0,H.resolveDynamicComponent)("uni-transition"),Ze);return(0,H.openBlock)(),(0,H.createElementBlock)("view",{class:"view-n",renderWhole:!0},[(0,H.createVNode)(m,{"mode-class":"slide-top",show:r.show,duration:400,onChange:n.change,style:(0,H.normalizeStyle)({width:`${r.sW}px`,padding:r.isAndroid?"6px 0":""})},{default:(0,H.withCtx)(()=>[(0,H.createElementVNode)("view",{onTouchstart:t[2]||(t[2]=(..._)=>n.onViewTouch&&n.onViewTouch(..._)),onTouchend:t[3]||(t[3]=(..._)=>n.onViewTouchEnd&&n.onViewTouchEnd(..._)),onTouchmove:t[4]||(t[4]=(0,H.withModifiers)((..._)=>n.onViewTouchMove&&n.onViewTouchMove(..._),["stop","prevent"])),elevation:"5px",class:"view-content",style:(0,H.normalizeStyle)({width:`${r.viewW}px`,marginTop:`${r.marginTop}px`,boxShadow:r.isAndroid?"":"0 2px 10px 0 rgba(0, 0, 0, 0.3)",background:n.viewBg})},[(0,H.createElementVNode)("view",{class:"view-user"},[n.mysteryAvatar?((0,H.openBlock)(),(0,H.createBlock)(s,{key:0,user:r.user,w:"92rpx",h:"92rpx",radius:"46rpx"},null,8,["user"])):((0,H.openBlock)(),(0,H.createBlock)(c,{key:1,onClick:n.clickReply,src:n.avatarSrc,w:"92rpx",h:"92rpx",radius:"46rpx"},null,8,["onClick","src"])),(0,H.createElementVNode)("view",{onClick:t[0]||(t[0]=(..._)=>n.clickReply&&n.clickReply(..._)),class:"view-msg"},[r.type==3?((0,H.openBlock)(),(0,H.createBlock)(u,{key:0,text:r.club.club_name},null,8,["text"])):((0,H.openBlock)(),(0,H.createElementBlock)("view",{key:1},[n.mysteryNickname?((0,H.openBlock)(),(0,H.createBlock)(u,{key:0,text:n.mysteryNickname},null,8,["text"])):((0,H.openBlock)(),(0,H.createBlock)(p,{key:1,info:r.user,nameSize:"32rpx",fw:"500",nameWidth:n.nameWidthVal},null,8,["info","nameWidth"]))])),(0,H.createElementVNode)("u-text",{class:"text-content",style:(0,H.normalizeStyle)({width:`${r.type==2?320:390}rpx`,color:r.themeObj.color.tip})},(0,H.toDisplayString)(r.msgContentStr),5)])]),r.type==1||r.type==3?((0,H.openBlock)(),(0,H.createElementBlock)("u-text",{key:0,onClick:t[1]||(t[1]=(..._)=>n.clickReply&&n.clickReply(..._)),class:"text-reply"},(0,H.toDisplayString)(n.$str("reply")),1)):((0,H.openBlock)(),(0,H.createElementBlock)("view",{key:1,class:"view-action"},[(0,H.createVNode)(c,{onClick:n.clickHangUp,src:"s/call/hang_up_1.png",w:"76rpx",h:"76rpx",style:{"margin-right":"40rpx"}},null,8,["onClick"]),(0,H.createVNode)(f,{onClick:n.clickAnswer,"call-type":r.callData.type,"anim-w":108,"bg-w":76,"icon-w":42,"icon-v-w":32},null,8,["onClick","call-type"])]))],36)]),_:1},8,["show","onChange","style"])])}var Qa=L(Wp,[["render",Gp],["styles",[Hp]]]);var ge=q(Z());var jp={"column-center":{"":{flexDirection:"column",alignItems:"center"}}},Vp={components:{MText:oe,LImg:R},props:{imgUrl:{type:String,default:""},tip:{type:String,default:""},tipColor:{type:String,default:"desc"}}};function zp(e,t,i,a,r,n){let s=S((0,ge.resolveDynamicComponent)("l-img"),R),c=(0,ge.resolveComponent)("m-text");return(0,ge.openBlock)(),(0,ge.createElementBlock)("view",{class:"column-center",renderWhole:!0},[(0,ge.createVNode)(s,{src:i.imgUrl,"need-style":1,w:"194rpx",h:"168rpx"},null,8,["src"]),(0,ge.createVNode)(c,{text:i.tip,type:i.tipColor,style:{"text-align":"center","font-size":"28rpx","margin-top":"48rpx","line-height":"40rpx",opacity:".8"}},null,8,["text","type"])])}var Wt=L(Vp,[["render",zp],["styles",[jp]]]),Yp={"column-center":{"":{flexDirection:"column",alignItems:"center"}}},Kp={components:{MText:oe},props:{imgUrl:{type:String,default:""},tip:{type:String,default:""},tipColor:{type:String,default:"desc"}}};function $p(e,t,i,a,r,n){let s=S((0,ge.resolveDynamicComponent)("l-img"),R),c=(0,ge.resolveComponent)("m-text");return(0,ge.openBlock)(),(0,ge.createElementBlock)("view",{class:"column-center",renderWhole:!0},[(0,ge.createVNode)(s,{src:i.imgUrl,"need-style":1,w:"194rpx",h:"168rpx"},null,8,["src"]),(0,ge.createVNode)(c,{text:i.tip,"use-text":1,type:i.tipColor,style:{"text-align":"center","font-size":"28rpx","margin-top":"48rpx","line-height":"40rpx",opacity:".8"}},null,8,["text","type"])])}var Gt=L(Kp,[["render",$p],["styles",[Yp]]]);var k=q(Z());var jt=q(Z()),Jp={emits:["onEvent"],props:{src:{type:String,default:""},autoPlay:{type:Boolean,default:!1},loops:{type:Number,default:0},repeatMode:{type:Number,default:1},frame:{type:Number,default:0},progress:{type:Number,default:0},speed:{type:Number,default:1},eventStep:{type:Boolean,default:!1}},data(){return{refView:null}},computed:{params(){return{src:Xt(Me(this.src),!1),autoPlay:this.autoPlay,loops:this.loops,repeatMode:this.repeatMode,initFrame:this.frame,progress:this.progress,speed:this.speed,eventStep:this.eventStep}}},methods:{event(e){y(e)||typeof e.detail=="undefined"||this.$emit("onEvent",e.detail)},play(){this.$refs.lottie&&this.$refs.lottie.play()},pause(){this.$refs.lottie&&this.$refs.lottie.pause()},resume(){this.$refs.lottie&&this.$refs.lottie.resume()},stop(){this.$refs.lottie&&this.$refs.lottie.stop()},setFrame(e){this.$refs.lottie&&this.$refs.lottie.setFrame(e)},setProgress(e){this.$refs.lottie&&this.$refs.lottie.setProgress(e)},setSpeed(e){this.$refs.lottie&&this.$refs.lottie.setSpeed(e)},setEventStep(e){this.$refs.lottie&&this.$refs.lottie.setEventStep(e)}},created(){}};function qp(e,t,i,a,r,n){let s=(0,jt.resolveComponent)("nav-anim-lottie");return(0,jt.openBlock)(),(0,jt.createBlock)(s,{ref:"lottie",params:n.params,onEvent:n.event},null,8,["params","onEvent"])}var Wi=L(Jp,[["render",qp]]);var es="call_evaluate_label_res";function is(){return new Promise(e=>{let t=K(es),i=ei();if(y(t)||y(t.res[i])||getApp().globalData.callEvaluateVersion>parseInt(t.version))N.request("/chat/call/tap-reason",{}).then(a=>{let r=a.data.reason_list,n=ri(JSON.stringify(t));y(n)&&(n={}),y(n.res)&&(n.res={}),n.res[i]=r;let s={version:a.data.version,res:n.res};Q(es,s);let c=ts(r);e(c)});else{let a=ts(t.res[i]);e(a)}})}function ts(e){return ne()?e.filter(t=>t.identity!=1):e.filter(t=>t.identity!=2)}var ns={},rs={props:{src:{type:String,default:""},w:{type:String,default:"0"},h:{type:String,default:"0"}},data(){return{svgaPath:"",isHide:!1}},created(){Me(this.src,e=>{this.svgaPath=e})}};function Zp(e,t,i,a,r,n){return(0,k.openBlock)(),(0,k.createElementBlock)("div",{id:"renderScript",class:"view-anim",style:(0,k.normalizeStyle)({width:i.w,height:i.h}),svgaPath:r.svgaPath,"change:svgaPath":e.renderScript.animPathChange,isHide:r.isHide,"change:isHide":e.renderScript.isHideChange},null,12,["svgaPath","change:svgaPath","isHide","change:isHide"])}typeof ns=="function"&&ns(rs);var Xp=L(rs,[["render",Zp]]),Qp={"view-container":{"":{color:"#333333",position:"fixed",zIndex:11111}},center:{"":{flexDirection:"row",alignItems:"center",justifyContent:"flex-start"}},"center-align":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"center-between":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},"view-evaluate":{"":{flex:1,backgroundColor:"#FFFFFF",boxShadow:"0 4rpx 20rpx 0 rgba(0, 0, 0, 0.1), 0 0 12rpx 0 rgba(0, 0, 0, 0.1)",borderRadius:"16rpx",borderWidth:"2rpx",borderStyle:"solid",borderColor:"rgba(0,0,0,0.15)",paddingTop:"24rpx",paddingRight:"20rpx",paddingBottom:"24rpx",paddingLeft:"20rpx",boxSizing:"border-box"}},"view-header":{"":{flexDirection:"row",flex:1,alignItems:"center",justifyContent:"space-between"}},"like-wrap":{"":{height:"60rpx",backgroundColor:"#F1F3F6",borderRadius:"30rpx",paddingTop:0,paddingRight:"16rpx",paddingBottom:0,paddingLeft:"16rpx",marginLeft:"20rpx"}},"split-line":{"":{height:"2rpx",backgroundColor:"rgba(0,0,0,0.1)",transform:"scaleY(0.5)",transformOrigin:"50% 100%",marginTop:"12rpx"}},"split-line-ver":{"":{width:"2rpx",height:"28rpx",backgroundColor:"rgba(0,0,0,0.1)",marginTop:0,marginRight:"12rpx",marginBottom:0,marginLeft:"12rpx"}},"enjoy-text":{"":{lineHeight:"22rpx",marginTop:"10rpx",fontSize:"20rpx",color:"#666666",lines:1,overflow:"hidden",textOverflow:"ellipsis"}},"close-icon":{"":{position:"absolute",top:0,right:0,paddingLeft:"20rpx",paddingBottom:"20rpx"}},"close-bg":{".close-icon ":{minWidth:"16px",minHeight:"16px",width:16,height:16,borderRadius:8,backgroundColor:"#FFFFFF",borderWidth:"2rpx",borderStyle:"solid",borderColor:"rgba(0,0,0,0.1)"}},"report-label":{"":{backgroundColor:"#F1F3F6",borderRadius:"8rpx",paddingTop:0,paddingRight:"28rpx",paddingBottom:0,paddingLeft:"28rpx",minWidth:"max-content",borderWidth:"2rpx",borderStyle:"solid",borderColor:"#F1F3F6",marginTop:"12rpx",marginRight:"12rpx"}},"report-text":{".report-label ":{height:"44rpx",lineHeight:"44rpx",minWidth:"max-content",fontSize:"20rpx"}},active:{"":{"!borderWidth":"2rpx","!borderStyle":"solid","!borderColor":"#FF4477","!backgroundColor":"rgba(255,68,119,0.1)"}},"input-wrap":{"":{height:"56rpx",borderRadius:"4rpx",borderWidth:"2rpx",borderStyle:"solid",borderColor:"rgba(0,0,0,0.1)",paddingTop:0,paddingRight:"12rpx",paddingBottom:0,paddingLeft:"12rpx",marginTop:"12rpx"}},"reason-tips":{"":{marginTop:"10rpx",fontSize:"20rpx",color:"#999999"}},"reason-input":{"":{marginLeft:"16rpx",fontSize:"20rpx",flex:1}},"submit-btn":{"":{backgroundImage:"linear-gradient(to right, #FF00BD, #FF5954)",borderRadius:"12rpx",marginTop:"20rpx",height:"56rpx"}},"submit-text":{".submit-btn ":{textAlign:"center",color:"#FFFFFF",lineHeight:"56rpx",fontSize:"22rpx"}},"nickname-text":{"":{lineHeight:"28rpx",fontSize:"24rpx",fontWeight:"600",lines:1,overflow:"hidden",textOverflow:"ellipsis"}}},ed={components:{Lottie:Wi,LSvga:Xp,UniIcons:le,LImg:R,UniTransition:Ze},props:{id:{type:String,default:""},isTab:{type:Boolean,default:!1},noNavbar:{type:Boolean,default:!1}},data(){return{show:!1,userInfo:{},closeTimer:!1,roomId:0,evaluateId:"",isUnlike:!1,reasonList:[],pageShow:!1,inputReason:"",chooseIds:[],hasClick:!1,scrollViewW:getApp().globalData.window.width-88,windowInfo:getApp().globalData.window,cursorSpacing:uni.upx2px(126),hasLike:!1,hasUnlike:!1,showPath:!1,isFocus:!1,keyboardH:0,eventPathKey:""}},computed:{viewStyle(){let e={};return this.isUnlike?(e.width=this.windowInfo.width+"px",this.isTab||this.noNavbar?e.height=this.windowInfo.height+"px":e.height=this.windowInfo.height-this.windowInfo.statusBarHeight-this.windowInfo.navBarHeight+"px",e.left=0,e.top=0):(e.width=this.windowInfo.width-72+"px",e.bottom=this.contentBottom+"px",e.left="36px"),e},contentStyle(){let e={},t=this.isTab?50:0,i=this.isTab?20:34;if(this.isUnlike){let a=this.windowInfo.safeBottom+t+i;e.position="absolute",e.left="36px",this.isFocus&&(a=this.keyboardH+2),e.bottom=a+"px"}return e.width=this.windowInfo.width-72+"px",e},contentBottom(){if(this.isTab)return 20;let e=this.windowInfo.safeBottom;return e+=34},nicknameWidth(){let t=this.windowInfo.width-88-uni.upx2px(324);return this.ageText&&(t-=uni.upx2px(50)),t},ageText(){let e="";return this.userInfo.birthday&&(e=", "+Li(this.userInfo.birthday)),e},enjoyText(){let e=Fe(this.userInfo.sex);return l("enjoyCallWithOther",{her:e})},enjoyTextWidth(){return this.windowInfo.width-88-uni.upx2px(324)}},methods:{$str:l,clickView(e){e&&e.stopPropagation();let t=this.$refs.inputReason;t&&t.blur&&t.blur()},clickClose(){this.pageShow&&(uni.hideKeyboard(),uni.offKeyboardHeightChange(this.onKeyboardChange),this.show=!1,this.pageShow=!1,this.$nextTick(()=>{this.inputReason="",this.chooseIds=[],this.hasClick=!1,this.hasLike=!1,this.hasUnlike=!1,this.isUnlike=!1,this.evaluateId="",this.roomId=0,this.userInfo={},this.isFocus=!1}))},clickSubmit(e){if(e&&e.stopPropagation(),y(this.chooseIds)&&y(this.inputReason))At(l("callEvaluateFeedbackTips")),this.clickClose();else{let t={evaluate_id:this.evaluateId};y(this.chooseIds)||(t.reason=this.chooseIds.join(",")),y(this.inputReason)||(t.content=this.inputReason),N.request("/chat/call/tap-record",t,!0,!0).then(()=>{this.clickClose(!1),At(l("callEvaluateFeedbackTips"))})}},clickReportItem(e,t){e&&e.stopPropagation();let i=this.chooseIds.indexOf(t);i==-1?this.chooseIds.push(t):this.chooseIds.splice(i,1)},clickLike(e){e&&e.stopPropagation(),!this.hasClick&&(this.hasClick=!0,this.hasLike=!0,this.reqEvaluate(1))},clickUnlike(e){e&&e.stopPropagation(),!this.hasClick&&(this.hasClick=!0,this.hasUnlike=!0,this.$nextTick(()=>{this.reqEvaluate(2).then(()=>is()).then(t=>{this.parseReason(t),this.$nextTick(()=>{this.isUnlike=!0})})}))},startTimer(e){this.clearTimer(),this.closeTimer=setTimeout(()=>{this.clearTimer(),this.show=!1},e*1e3)},clearTimer(){this.closeTimer&&clearTimeout(this.closeTimer)},preventHandler(){},onKeyboardChange(e){this.keyboardH=e.height,this.isFocus=e.height>0},reqEvaluate(e){return this.clearTimer(),new Promise(t=>{let i={uid:getApp().globalData.uid,target_uid:this.userInfo.uid,room_id:this.roomId,type:e};N.request("/chat/call/evaluate",i,!1,!0).then(a=>{this.evaluateId=a.data.evaluate_id,e==1?this.startTimer(2):(this.clearTimer(),t())},()=>{this.hasClick=!1,this.startTimer(2)})})},parseReason(e){let t=e.length,i=parseInt(t/2),a=[];for(let r=0;r<t;r+=i)a.push({list:e.slice(r,r+i)});this.reasonList=a},init(e,t){this.userInfo=e,this.roomId=t,this.hasClick=!1,this.pageShow=!0,this.$nextTick(()=>{this.show=!0,this.startTimer(5),uni.onKeyboardHeightChange(this.onKeyboardChange)})}},created(){this.eventPathKey=rt("fullPath"),uni.$on(`event_${this.eventPathKey}_show_call_evaluate`,this.init),uni.$on(`event_${this.eventPathKey}_close_call_evaluate`,this.clickClose),Me("s/call/evaluate_like.svga"),Me("s/call/evaluate_unlike.svga"),Me("s/call/evaluate_like.json"),Me("s/call/evaluate_unlike.json")},unmounted(){this.clearTimer(),uni.offKeyboardHeightChange(this.onKeyboardChange),uni.$off(`event_${this.eventPathKey}_show_call_evaluate`,this.init),uni.$off(`event_${this.eventPathKey}_close_call_evaluate`,this.clickClose)}};function td(e,t,i,a,r,n){let s=S((0,k.resolveDynamicComponent)("l-img"),R),c=(0,k.resolveComponent)("lottie"),u=S((0,k.resolveDynamicComponent)("uni-icons"),le),p=S((0,k.resolveDynamicComponent)("uni-transition"),Ze);return r.pageShow?((0,k.openBlock)(),(0,k.createElementBlock)("view",{key:0,class:"view-container",onClick:t[5]||(t[5]=(...f)=>n.clickView&&n.clickView(...f)),onTouchmove:t[6]||(t[6]=(0,k.withModifiers)((...f)=>n.preventHandler&&n.preventHandler(...f),["stop","prevent"])),style:(0,k.normalizeStyle)(n.viewStyle),renderWhole:!0},[(0,k.createVNode)(p,{"mode-class":"fade",show:r.show,duration:300,style:(0,k.normalizeStyle)(n.contentStyle)},{default:(0,k.withCtx)(()=>[(0,k.createElementVNode)("view",{style:{padding:"8px",position:"relative"}},[(0,k.createElementVNode)("view",{class:"view-evaluate"},[(0,k.createElementVNode)("view",{class:"view-header"},[(0,k.createElementVNode)("view",{class:"center"},[(0,k.createVNode)(s,{src:r.userInfo.small_avatar,w:"62rpx",h:"62rpx",radius:"31rpx",border:"2rpx solid #EEEEEE"},null,8,["src"]),(0,k.createElementVNode)("view",{style:{"margin-left":"16rpx"}},[(0,k.createElementVNode)("view",{class:"center"},[(0,k.createElementVNode)("u-text",{style:(0,k.normalizeStyle)({maxWidth:`${n.nicknameWidth}px`}),class:"nickname-text"},(0,k.toDisplayString)(r.userInfo.nickname),5),n.ageText?((0,k.openBlock)(),(0,k.createElementBlock)("u-text",{key:0,style:{"line-height":"28rpx","font-size":"24rpx","font-weight":"600"}},(0,k.toDisplayString)(n.ageText),1)):(0,k.createCommentVNode)("",!0)]),(0,k.createElementVNode)("u-text",{class:"enjoy-text",style:(0,k.normalizeStyle)({maxWidth:`${n.enjoyTextWidth}px`})},(0,k.toDisplayString)(n.enjoyText),5)])]),(0,k.createElementVNode)("view",{class:"like-wrap center"},[(0,k.createElementVNode)("view",{onClick:t[0]||(t[0]=(...f)=>n.clickLike&&n.clickLike(...f))},[r.hasLike?((0,k.openBlock)(),(0,k.createBlock)(c,{key:1,src:"s/call/evaluate_like.json","auto-play":!0,style:{width:"60rpx",height:"60rpx"}})):((0,k.openBlock)(),(0,k.createBlock)(s,{key:0,onClick:n.clickLike,src:"s/pub/evaluate_like_n.png",w:"60rpx",h:"60rpx"},null,8,["onClick"]))]),(0,k.createElementVNode)("view",{class:"split-line-ver"}),(0,k.createElementVNode)("view",{onClick:t[1]||(t[1]=(...f)=>n.clickUnlike&&n.clickUnlike(...f))},[r.hasUnlike?((0,k.openBlock)(),(0,k.createBlock)(c,{key:1,src:"s/call/evaluate_unlike.json","auto-play":!0,style:{width:"60rpx",height:"60rpx"}})):((0,k.openBlock)(),(0,k.createBlock)(s,{key:0,onClick:n.clickUnlike,src:"s/pub/evaluate_unlike_n.png",w:"60rpx",h:"60rpx"},null,8,["onClick"]))])])]),r.isUnlike?((0,k.openBlock)(),(0,k.createElementBlock)("view",{key:0,class:"m-t-8"},[(0,k.createElementVNode)("view",{class:"split-line"}),(0,k.createElementVNode)("u-text",{class:"reason-tips"},(0,k.toDisplayString)(n.$str("callEvaluateTips")),1),(0,k.createElementVNode)("scroll-view",{scrollX:!0,showScrollbar:!1,style:{"flex-direction":"row",flex:"1"}},[(0,k.createElementVNode)("view",null,[((0,k.openBlock)(!0),(0,k.createElementBlock)(k.Fragment,null,(0,k.renderList)(r.reasonList,(f,m)=>((0,k.openBlock)(),(0,k.createElementBlock)("view",{key:m,class:"center"},[((0,k.openBlock)(!0),(0,k.createElementBlock)(k.Fragment,null,(0,k.renderList)(f.list,(_,F)=>((0,k.openBlock)(),(0,k.createElementBlock)("view",{key:m+"_"+F,onClick:(0,k.withModifiers)(x=>n.clickReportItem(x,_.id),["stop"]),class:(0,k.normalizeClass)(["report-label",[r.chooseIds.indexOf(_.id)!=-1?"active":""]])},[(0,k.createElementVNode)("u-text",{class:"report-text"},(0,k.toDisplayString)(_.title),1)],10,["onClick"]))),128))]))),128))])]),(0,k.createElementVNode)("view",{class:"input-wrap center"},[(0,k.createVNode)(s,{src:"s/pub/evaluate_edit.png",w:"24rpx",h:"24rpx"}),(0,k.createElementVNode)("u-input",{ref:"inputReason",modelValue:r.inputReason,onInput:t[2]||(t[2]=f=>r.inputReason=f.detail.value),type:"text",placeholder:n.$str("callEvaluateInputTips"),cursorSpacing:r.cursorSpacing,adjustPosition:!1,class:"reason-input"},null,40,["modelValue","placeholder","cursorSpacing"])]),(0,k.createElementVNode)("view",{onClick:t[3]||(t[3]=(...f)=>n.clickSubmit&&n.clickSubmit(...f)),class:"submit-btn center-align"},[(0,k.createElementVNode)("u-text",{class:"submit-text"},(0,k.toDisplayString)(n.$str("submit")),1)])])):(0,k.createCommentVNode)("",!0)]),r.isUnlike?((0,k.openBlock)(),(0,k.createElementBlock)("view",{key:0,onClick:t[4]||(t[4]=f=>n.clickClose(!1)),class:"close-icon"},[(0,k.createElementVNode)("view",{class:"close-bg center-align"},[(0,k.createVNode)(u,{type:"closeempty",size:"20rpx",color:"#333333",style:{"margin-top":"2rpx"}})])])):(0,k.createCommentVNode)("",!0)])]),_:1},8,["show","style"])],36)):(0,k.createCommentVNode)("",!0)}var Wn=L(ed,[["render",td],["styles",[Qp]]]);function as(e,t,i=""){y(e.svga_url)||Nt().indexOf("/pagesDialog/anim")==-1&&Me(e.svga_url,a=>{J("error","at comGift/gift-anim.js:10","showGiftAnim path "+a),V("/pagesDialog/anim",{path:a,showClose:t?1:0,flag:i})},!1)}var ss={data(){return{__isPopGestureBack:!1}},methods:{__getWebview(){return plus.webview.currentWebview()},__webviewPopGestureListener(e){let t=e.progress>=50;getApp().globalData.isGestureBacking=t,this.__isPopGestureBack=t}},onReady(){T.isAndroid||this.__getWebview().addEventListener("popGesture",this.__webviewPopGestureListener)},onUnload(){if(T.isAndroid)return;getApp().globalData.isGestureBacking=!1,this.__isPopGestureBack=!1;let e=this.__getWebview();typeof e!="undefined"&&e.removeEventListener("popGesture",this.__webviewPopGestureListener)}};var o=q(Z());var A=q(Z());var Vt=q(Z());var id={line:{"":{height:"2rpx",transform:"scaleY(0.5)",transformOrigin:"50% 100%"}}},nd={computed:{bgColor(){return getApp().globalData.themeObj.color.line}}};function rd(e,t,i,a,r,n){return(0,Vt.openBlock)(),(0,Vt.createElementBlock)("view",{style:(0,Vt.normalizeStyle)({background:n.bgColor}),class:"line",renderWhole:!0},null,4)}var mt=L(nd,[["render",rd],["styles",[id]]]);var ad={"level-center":{"":{alignItems:"center",flexDirection:"row"}},"center-between":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},"column-center":{"":{flexDirection:"column",alignItems:"center"}},"action-wrap":{"":{borderRadius:"26rpx",marginTop:"12rpx",marginRight:"16rpx",marginBottom:0,marginLeft:"16rpx"}},"title-item":{".action-wrap ":{paddingTop:"28rpx",paddingRight:"28rpx",paddingBottom:"28rpx",paddingLeft:"28rpx"}},"action-item":{".action-wrap ":{height:"106rpx",paddingTop:0,paddingRight:"40rpx",paddingBottom:0,paddingLeft:"40rpx"}},title:{".action-wrap .action-item ":{marginLeft:"50rpx"}},"item-text":{".action-wrap .action-item ":{textAlign:"center",lineHeight:"106rpx"}},"paid-media-class":{"":{borderRadius:"8rpx",paddingTop:"10rpx",paddingRight:"16rpx",paddingBottom:"10rpx",paddingLeft:"16rpx",marginLeft:"20rpx",backgroundImage:"linear-gradient(to bottom right, #F2AE00, #FF008B)"}},"label-text":{".paid-media-class ":{color:"#FFFFFF",fontSize:"24rpx"}},"warn-photo":{"":{paddingTop:"32rpx",paddingRight:15,paddingBottom:"32rpx",paddingLeft:15}},"photo-item":{".warn-photo ":{position:"relative"}},"photo-desc":{".warn-photo .photo-item ":{marginTop:"20rpx",height:"28rpx",lineHeight:"28rpx",textAlign:"center",fontSize:"20rpx",color:"#E02020"}}},sd={components:{MText:oe,MLine:mt,UniIcons:le,LImg:R},emits:["onClickActionItem","onChange","onMaskClick"],props:{title:{type:String,default:""},titleColor:{type:String,default:"gray"},titleSize:{type:String,default:"28rpx"},actions:{type:[Array,Object],default:[]},iconSize:{type:String,default:"46rpx"},textSize:{type:String,default:"38rpx"},textColor:{type:String,default:""},cancelText:{type:String,default(){return l("cancel")}},cancelColor:{type:String,default:""},cancelSize:{type:String,default:"38rpx"},bgColor:{type:String,default:""},cancelBgColor:{type:String,default:""},textIconDis:{type:String,default:"50rpx"},titleLineH:{type:String,default:"24rpx"},maskBgColor:{type:String,default:"rgba(0, 0, 0, 0.4)"},titleFw:{type:[String,Number],default:400},showWarnMedia:{type:Boolean,default:!1}},data(){return{warnList:[],isArray:Array.isArray(this.actions),warnPhotoW:0}},computed:{getLen(){return Array.isArray(this.actions)?this.actions.length:Object.keys(this.actions).length},getBottomDis(){return 10},getTitle(){return this.showWarnMedia?l("user.useWarnPhotoWarning"):this.title},getTitleColor(){return this.showWarnMedia?"#E02020":this.titleColor},getTitleLineH(){return this.showWarnMedia?"34rpx":this.titleLineH},getTitleSize(){return this.showWarnMedia?"24rpx":this.titleSize},getTitleFw(){return this.showWarnMedia?ne()?600:400:this.titleFw},viewBg(){return y(this.bgColor)?getApp().globalData.themeObj.style==ee.LIGHT?getApp().globalData.themeObj.color.bg2:getApp().globalData.themeObj.color.bg3:this.bgColor},viewCancelBg(){return y(this.cancelBgColor)?getApp().globalData.themeObj.style==ee.LIGHT?getApp().globalData.themeObj.color.bg2:getApp().globalData.themeObj.color.bg3:this.cancelBgColor},itemTextColor(){return y(this.textColor)?getApp().globalData.themeObj.color.title:this.textColor},itemCancelColor(){return y(this.textColor)?getApp().globalData.themeObj.color.title:this.cancelColor}},methods:{clickThis(e){e&&e.stopPropagation()},clickItem(e){this.$refs.popup.close(),this.$nextTick(()=>{let t=e!=-1?this.actions[e]:{key:"cancel"};this.$emit("onClickActionItem",t)})},onMaskClick(){this.$emit("onMaskClick")},onChange(e){this.$emit("onChange",e)},initWarnMedia(){this.warnPhotoW=(getApp().globalData.window.width-70-uni.upx2px(32))/5,this.warnList=[{url:"s/pub/warn_pornographic.png",text:l("pornographic")},{url:"s/pub/warn_nude.png",text:l("nude")},{url:"s/pub/warn_nation_flag.png",text:l("nationFlag")},{url:"s/pub/warn_arms.png",text:l("arms")},{url:"s/pub/warn_bloody.png",text:l("bloody")}]},open(){this.$refs.popup.open()}},created(){this.showWarnMedia&&this.initWarnMedia()}};function od(e,t,i,a,r,n){let s=(0,A.resolveComponent)("m-line"),c=S((0,A.resolveDynamicComponent)("l-img"),R),u=S((0,A.resolveDynamicComponent)("uni-popup"),ut);return(0,A.openBlock)(),(0,A.createBlock)(u,{onClick:(0,A.withModifiers)(n.clickThis,["stop"]),ref:"popup",type:"bottom",maskBgColor:i.maskBgColor,onChange:n.onChange,onMaskClick:n.onMaskClick,style:{"z-index":"99999"}},{default:(0,A.withCtx)(()=>[(0,A.createElementVNode)("view",{class:"action-wrap",style:(0,A.normalizeStyle)({backgroundColor:n.viewBg})},[n.getTitle?((0,A.openBlock)(),(0,A.createElementBlock)("view",{key:0},[(0,A.createElementVNode)("u-text",{class:"title-item",style:(0,A.normalizeStyle)({color:n.getTitleColor,fontSize:n.getTitleSize,lineHeight:n.getTitleLineH,fontWeight:n.getTitleFw})},(0,A.toDisplayString)(n.getTitle),5),(0,A.createVNode)(s)])):(0,A.createCommentVNode)("",!0),r.warnList.length>0?((0,A.openBlock)(),(0,A.createElementBlock)("view",{key:1},[(0,A.createElementVNode)("view",{class:"center-between warn-photo"},[((0,A.openBlock)(!0),(0,A.createElementBlock)(A.Fragment,null,(0,A.renderList)(r.warnList,(p,f)=>((0,A.openBlock)(),(0,A.createElementBlock)("view",{key:f,class:"photo-item column-center",style:(0,A.normalizeStyle)({width:`${r.warnPhotoW}px`})},[(0,A.createVNode)(c,{src:p.url,w:`${r.warnPhotoW}px`,h:`${r.warnPhotoW}px`},null,8,["src","w","h"]),(0,A.createVNode)(c,{src:"s/pub/del_red.png",w:"14px",h:"14px",style:(0,A.normalizeStyle)([{position:"absolute"},{top:`${r.warnPhotoW-7}px`}])},null,8,["style"]),(0,A.createElementVNode)("u-text",{class:"photo-desc"},(0,A.toDisplayString)(p.text),1)],4))),128))]),(0,A.createVNode)(s)])):(0,A.createCommentVNode)("",!0),((0,A.openBlock)(!0),(0,A.createElementBlock)(A.Fragment,null,(0,A.renderList)(i.actions,(p,f,m)=>((0,A.openBlock)(),(0,A.createElementBlock)("view",{index:"a"+f},[p.icon?((0,A.openBlock)(),(0,A.createElementBlock)("view",{key:0,class:"action-item level-center",onClick:_=>n.clickItem(f)},[(0,A.createVNode)(c,{h:i.iconSize,src:p.icon,style:(0,A.normalizeStyle)({marginRight:i.textIconDis}),w:i.iconSize},null,8,["h","src","style","w"]),(0,A.createElementVNode)("u-text",{style:(0,A.normalizeStyle)({fontSize:i.textSize,color:n.itemTextColor})},(0,A.toDisplayString)(p.title),5),p.label_class?((0,A.openBlock)(),(0,A.createElementBlock)("view",{key:0,class:(0,A.normalizeClass)([p.label_class])},[(0,A.createElementVNode)("u-text",{class:"label-text"},(0,A.toDisplayString)(p.label_text?p.label_text:""),1)],2)):(0,A.createCommentVNode)("",!0)],8,["onClick"])):((0,A.openBlock)(),(0,A.createElementBlock)("view",{key:1,class:"action-item",onClick:_=>n.clickItem(f)},[(0,A.createElementVNode)("u-text",{style:(0,A.normalizeStyle)({fontSize:i.textSize,color:n.itemTextColor}),class:"item-text"},(0,A.toDisplayString)(p.title),5)],8,["onClick"])),r.isArray?((0,A.openBlock)(),(0,A.createElementBlock)("view",{key:2},[f<n.getLen-1?((0,A.openBlock)(),(0,A.createBlock)(s,{key:0})):(0,A.createCommentVNode)("",!0)])):((0,A.openBlock)(),(0,A.createElementBlock)("view",{key:3},[m<n.getLen-1?((0,A.openBlock)(),(0,A.createBlock)(s,{key:0})):(0,A.createCommentVNode)("",!0)]))],8,["index"]))),256))],4),(0,A.createElementVNode)("view",{class:"action-wrap action-bottom",style:(0,A.normalizeStyle)({marginBottom:`${n.getBottomDis}px`,backgroundColor:n.viewCancelBg})},[(0,A.createElementVNode)("view",{class:"action-item level-center",onClick:t[0]||(t[0]=p=>n.clickItem(-1)),style:{"justify-content":"center"}},[(0,A.createElementVNode)("u-text",{style:(0,A.normalizeStyle)({color:n.itemCancelColor,fontSize:i.cancelSize})},(0,A.toDisplayString)(i.cancelText),5)])],4)]),_:1},8,["onClick","maskBgColor","onChange","onMaskClick"])}var Gn=L(sd,[["render",od],["styles",[ad]]]);var zt=q(Z());var ld={components:{UniIcons:le},props:{type:{type:String,default:"right"},size:{type:String,default:"28rpx"},modeType:{type:String,default:"desc"},color:{type:String,default:""}},computed:{iconColor(){return y(this.color)?getApp().globalData.themeObj.color[this.modeType]:this.color}}};function cd(e,t,i,a,r,n){let s=S((0,zt.resolveDynamicComponent)("uni-icons"),le);return(0,zt.openBlock)(),(0,zt.createBlock)(s,{type:i.type,size:i.size,color:n.iconColor},null,8,["type","size","color"])}var Gi=L(ld,[["render",cd]]);function os(...e){return getApp().globalData.s.state.pubAI18n(...e)}var _e=q(Z()),ud={"text-act-time":{"":{fontSize:"22rpx"}}},pd={components:{MText:oe},props:{user:{type:Object,default:{}},color:{type:String,default:""},fontSize:{type:String,default:"22rpx"}},computed:{parseStr(){let e=[],t=this.user.rel_online_status==1?"\u{1F7E2}":"\u{1F534}";e.push(t);let i=this.user.uptime<=0?"":xn(parseInt(this.user.uptime),!1);i&&e.push(i);let a=typeof this.user.sort=="undefined"?void 0:Number(this.user.sort);typeof a!="undefined"&&e.push(a);let r=this.user.is_auth?this.user.add_time:this.user.regtime,n=xn(parseInt(r),!1);n&&e.push(n);let s=`${this.user.account_money}\u{1F4B0}`;return e.push(s),e.join("-")}},methods:{clickThis(e){e&&e.stopPropagation(),typeof this.user.sort!="undefined"&&N.request("/admin/user/max-sort",{target_uid:this.user.uid},!0).then(t=>{let i=this.user.is_auth?"currentMaxWeightOfStreamer":"currentMaxWeightOfUser",a=Number(t.data.max_sort);uni.showModal({title:`Weight of ${this.user.nickname}`,content:`${os(i,{weight:a})}
Current weight: ${Number(this.user.sort)}`,editable:!0,success:r=>{if(r.confirm&&r.content){let n={key:"sort",value:r.content,target_uid:this.user.uid};N.request("/admin/user/update-info",n,!0).then(s=>{this.user.sort=r.content})}}})})}}};function dd(e,t,i,a,r,n){let s=(0,_e.resolveComponent)("m-text");return i.color?((0,_e.openBlock)(),(0,_e.createElementBlock)("u-text",{key:0,onClick:t[0]||(t[0]=(0,_e.withModifiers)((...c)=>n.clickThis&&n.clickThis(...c),["stop"])),style:(0,_e.normalizeStyle)({color:i.color,fontSize:i.fontSize})},(0,_e.toDisplayString)(n.parseStr),5)):((0,_e.openBlock)(),(0,_e.createBlock)(s,{key:1,text:n.parseStr,"use-text":!0,onClick:(0,_e.withModifiers)(n.clickThis,["stop"]),style:(0,_e.normalizeStyle)({fontSize:i.fontSize})},null,8,["text","onClick","style"]))}var ls=L(pd,[["render",dd],["styles",[ud]]]);var h=q(Z());var j=q(Z());var fd={"tran-flex":{"":{flexDirection:"row",alignItems:"center"}},"view-tran":{"":{flexDirection:"row",justifyContent:"center",alignItems:"center"}},"text-a":{"":{fontSize:"20rpx"}},"text-tran":{"":{fontSize:"26rpx",marginLeft:"8rpx"}},"text-end":{"":{color:"#999999",fontSize:"24rpx",marginLeft:"4rpx"}}},md={components:{MLine:mt},emits:["onTranslateFinish","onTranslateClick"],props:{text:{type:String,default:""},border:{type:Boolean,default:!1},showTran:{type:Boolean,default:!0},showTranContent:{type:Boolean,default:!0},contentTop:{type:Number,default:20},showTranEnd:{type:Boolean,default:!1},bg:{type:[Boolean,String],default:!1},textColor:{type:String,default(){return getApp().globalData.themeObj.color.barBtn}},aColor:{type:String,default:"#FFFFFF"},contentColor:{type:String,default(){return getApp().globalData.themeObj.color.title}},isAuto:{type:Boolean,default:!1},isAutoForce:{type:Boolean,default:!1},translateResult:{type:String,default:""},fromLanguage:{type:String,default:""},apiParams:{type:Object,default(){return{}}},translateSize:{type:String,default:"24rpx"},paddingTop:{type:String,default:"10rpx"},fw:{type:Number,default:0}},data(){return{transStatus:0,tranContent:""}},watch:{text(e){e&&(this.transStatus=0,this.tranContent="",this.executeTranAuto())},translateResult(e){this.transStatus=0,this.tranContent="",this.executeTranAuto()}},computed:{borderStyle(){return this.border?{"border-radius":"4px","padding-left":"10rpx","padding-right":"10rpx","padding-top":this.paddingTop}:{}},viewStyle(){if(this.border){let e=getApp().globalData.themeObj.style==ee.LIGHT?"#624A8E":"#7D8288";return{"border-radius":"4px",width:"32rpx",height:"32rpx",background:this.bg||e}}return{opacity:"0.89","border-radius":"2px",width:"26rpx",height:"26rpx",background:this.bg||"#FF4477"}},contentStyle(){let e={marginTop:`${this.contentTop}rpx`,color:this.contentColor,fontSize:this.translateSize};return this.fw>0&&(e["font-weight"]=this.fw),e},tranIconSrc(){return"s/pub/tran_end_1.png"},tranStr(){return this.isAuto?l("autoTranslation"):l("translation")},translateStr(){return l("translate")}},methods:{clickTranEndView(e){(this.isAuto||this.isAutoForce)&&(e&&e.stopPropagation(),oa())},clickThis(e){e&&e.stopPropagation(),this.reqTranslate()&&((this.isAuto||this.isAutoForce)&&this.$emit("onTranslateClick"),An(!0))},handleTranRes(e){this.transStatus=2,this.showTranContent&&(this.tranContent=e),this.$emit("onTranslateFinish",{text:e})},reqTranslate(){if(y(this.text)||this.transStatus!=0)return!1;if(this.translateResult)return this.handleTranRes(this.translateResult),!0;this.transStatus=1;let e=this.apiParams;return e.target=getApp().globalData.translateKey,e.content=this.text,N.request("/translate/index",e,!1,!0).then(t=>{t.ok==1&&t.data.text&&this.handleTranRes(t.data.text)},t=>{this.transStatus=0}),!0},executeTranAuto(){(this.isAutoForce||this.isAuto&&sa(this.fromLanguage))&&this.$nextTick(()=>{this.reqTranslate()})}},created(){if(!(!this.isAuto&&!this.isAutoForce)&&getApp().globalData.translateAuto){if(this.translateResult){this.transStatus=2,this.tranContent=this.translateResult;return}this.executeTranAuto()}}};function hd(e,t,i,a,r,n){let s=S((0,j.resolveDynamicComponent)("l-img"),R),c=(0,j.resolveComponent)("m-line");return(0,j.openBlock)(),(0,j.createElementBlock)("view",{style:(0,j.normalizeStyle)([n.borderStyle,{background:"transparent"}]),renderWhole:!0},[r.transStatus!=2?((0,j.openBlock)(),(0,j.createElementBlock)("view",{key:0,onClick:t[0]||(t[0]=(0,j.withModifiers)((...u)=>n.clickThis&&n.clickThis(...u),["stop"])),class:"tran-flex"},[(0,j.createElementVNode)("view",{class:"view-tran",style:(0,j.normalizeStyle)(n.viewStyle)},[r.transStatus==1?((0,j.openBlock)(),(0,j.createBlock)(s,{key:0,src:"s/pub/tran_load_1.gif",w:"20rpx",h:"20rpx","is-gif":!0})):r.transStatus==0?((0,j.openBlock)(),(0,j.createElementBlock)("u-text",{key:1,class:"text-a",style:(0,j.normalizeStyle)({color:`${i.aColor}`})},"A",4)):(0,j.createCommentVNode)("",!0)],4),i.showTran?((0,j.openBlock)(),(0,j.createElementBlock)("u-text",{key:0,class:"text-tran",style:(0,j.normalizeStyle)({color:i.textColor})},(0,j.toDisplayString)(n.translateStr),5)):(0,j.createCommentVNode)("",!0)])):r.tranContent?((0,j.openBlock)(),(0,j.createElementBlock)("view",{key:1},[(0,j.createVNode)(c),(0,j.createElementVNode)("u-text",{style:(0,j.normalizeStyle)(n.contentStyle)},(0,j.toDisplayString)(r.tranContent),5),i.showTranEnd?((0,j.openBlock)(),(0,j.createElementBlock)("view",{key:0,onClick:t[1]||(t[1]=(...u)=>n.clickTranEndView&&n.clickTranEndView(...u)),class:"tran-flex",style:{"margin-top":"8rpx"}},[(0,j.createVNode)(s,{src:n.tranIconSrc,w:"30rpx",h:"30rpx"},null,8,["src"]),(0,j.createElementVNode)("u-text",{class:"text-end"},(0,j.toDisplayString)(n.tranStr),1)])):(0,j.createCommentVNode)("",!0)])):(0,j.createCommentVNode)("",!0)],4)}var jn=L(md,[["render",hd],["styles",[fd]]]);var ht=q(Z());var gd={"text-align":{"":{textAlign:"center"}}},_d={props:{text:{type:String,default:""},type:{type:String,default:"main"}},computed:{style(){let e=getApp().globalData.themeObj.btn[this.type],t={};return e.bgNvue&&(t.background=e.bgNvue),e.border&&(t.border=e.border),e.color&&(t.color=e.color),t}}};function yd(e,t,i,a,r,n){return(0,ht.openBlock)(),(0,ht.createElementBlock)("u-text",{style:(0,ht.normalizeStyle)(n.style),class:"text-align"},(0,ht.toDisplayString)(i.text),5)}var ji=L(_d,[["render",yd],["styles",[gd]]]);function bd(e,t){me(l("tips"),l("anchor.rest.turnOffTip"),()=>{let i={user_info:{is_rest:0}};N.request("/user/update-info",i,!0).then(()=>{typeof e=="function"&&e(),We("pubUser.is_rest",0),fe(l("tips"),l("anchor.rest.turnOff"),"",l("gotIt"))})},()=>{typeof t=="function"&&t()},l("turnOff"))}function cs(){return!ne()||getApp().pubUser.is_rest!=1?!1:(uni.hideKeyboard(),bd(!1,!1),!0)}var wd={center:{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"view-media":{"":{position:"relative"}},"view-fee":{"":{position:"absolute",top:0,left:0,backgroundColor:"rgba(50,29,106,0.96)",zIndex:100}},"view-duration":{"":{position:"absolute",bottom:0,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",zIndex:100}},text:{".view-duration ":{color:"#FFFFFF"}}},xd={components:{},emits:["click","onMediaFeeCheck"],props:{info:{type:Object,default(){return{}}},uid:{type:[String,Number],default:0},index:{type:Number,default:0},wPx:{type:Number,default:0},hPx:{type:Number,default:0},wRpx:{type:Number,default:0},hRpx:{type:Number,default:0},radius:{type:String,default:""},onlyShow:{type:Boolean,default:!1},durationSize:{type:Number,default:1},showAnonymous:{type:Boolean,default:!1}},data(){return{isSelf:!1,playW:""}},computed:{wStyle(){return this.wPx?`${this.wPx}px`:`${this.wRpx}rpx`},hStyle(){return this.hPx?`${this.hPx}px`:`${this.hRpx}rpx`},feeIconSrc(){return this.info.media_type==1?"s/anchor/i_fee_photo2.png":"s/anchor/i_fee_video2.png"},durationViewStyle(){let e=this.durationSize==1?"48rpx":"20rpx",t={"border-bottom-left-radius":this.radius,"border-bottom-right-radius":this.radius,height:e};return this.feeBoolean||(t["background-image"]="linear-gradient(to bottom, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4))"),t},durationTextStyle(){let e,t;return this.durationSize==1?(e="20rpx",t="20rpx"):(e="12rpx",t="8rpx"),{"font-size":e,"margin-right":t}},durationStr(){return nt(this.info.duration)},feeBoolean(){if(this.info.check_price>0)return this.isSelf?!0:this.info.check_status==0},mediaBgSrc(){return this.feeBoolean?"s/user/media_fee_bg.png":this.showAnonymous?"s/privacy/anonymous_album.png":""}},methods:{clickMedia(e){if(!this.onlyShow&&this.checkFee()){if(e&&e.stopPropagation(),ne()){let i=this.info.media_type==1?l("photosLower"):l("videosLower");fe(l("tips"),l("media.fee.noCheck",{media:i}),"",l("gotIt"));return}if(K("check_paid_photo_status_"+getApp().globalData.uid))N.request("/coach/media/check",{coach_uid:this.uid,media_id:this.info.media_id},!0).then(i=>{this.onFeeMediaDialogListener()});else{let i={onFeeMediaDialogListener:this.onFeeMediaDialogListener};ie("/pagesDialog/paid-photo",{uid:this.uid,fromType:3},"paidAlbumsData",this.info,i)}return}this.$emit("click",e)},onFeeMediaDialogListener(){let e=this.info.media_type==2,t=$e(e,this.info.small_url,this.info.url,this.info.cover_url);kt([t],0,0),this.$emit("onMediaFeeCheck",this.index)},checkFee(){return this.isSelf?!1:this.info.check_price>0&&this.info.check_status==0}},created(){if(this.isSelf=this.uid==getApp().globalData.uid,this.wPx&&this.wPx==this.hPx||this.wRpx&&this.wRpx==this.hRpx){let e=this.hPx||this.hRpx,t=this.hPx?"px":"rpx";this.playW=`${parseInt(e*.224)}${t}`}else{let e=this.wPx||this.wRpx,t=this.hPx||this.hRpx,i=this.wPx?"px":"rpx";e>t?this.playW=`${parseInt(t*.3)}${i}`:this.playW=`${parseInt(e*.224)}${i}`}}};function kd(e,t,i,a,r,n){let s=S((0,h.resolveDynamicComponent)("l-img"),R);return(0,h.openBlock)(),(0,h.createElementBlock)("view",{class:"view-media center",style:(0,h.normalizeStyle)({width:n.wStyle,height:n.hStyle}),renderWhole:!0},[(0,h.createVNode)(s,{src:i.info.small_url,w:n.wStyle,h:n.hStyle,radius:i.radius,"place-w":n.wStyle,"place-type":2},null,8,["src","w","h","radius","place-w"]),n.mediaBgSrc?((0,h.openBlock)(),(0,h.createElementBlock)("view",{key:0,style:(0,h.normalizeStyle)({width:n.wStyle,height:n.hStyle,borderRadius:i.radius}),class:"view-fee"},[(0,h.createVNode)(s,{src:n.mediaBgSrc,w:n.wStyle,h:n.hStyle,radius:i.radius},null,8,["src","w","h","radius"])],4)):(0,h.createCommentVNode)("",!0),n.feeBoolean?((0,h.openBlock)(),(0,h.createBlock)(s,{key:1,src:n.feeIconSrc,w:r.playW,h:r.playW,style:{position:"absolute",top:"12rpx",left:"12rpx","z-index":"100"}},null,8,["src","w","h"])):i.info.media_type==2?((0,h.openBlock)(),(0,h.createBlock)(s,{key:2,src:"s/user/video_play.png",w:r.playW,h:r.playW,style:{position:"absolute"}},null,8,["w","h"])):(0,h.createCommentVNode)("",!0),i.info.media_type==2?((0,h.openBlock)(),(0,h.createElementBlock)("view",{key:3,style:(0,h.normalizeStyle)([{width:n.wStyle},n.durationViewStyle]),class:"view-duration"},[(0,h.createElementVNode)("u-text",{class:"text",style:(0,h.normalizeStyle)([n.durationTextStyle])},(0,h.toDisplayString)(n.durationStr),5)],4)):(0,h.createCommentVNode)("",!0),(0,h.createElementVNode)("view",{onClick:t[0]||(t[0]=(...c)=>n.clickMedia&&n.clickMedia(...c)),style:(0,h.normalizeStyle)([{position:"absolute",top:"0"},{width:n.wStyle,height:n.hStyle}])},null,4)],4)}var Ad=L(xd,[["render",kd],["styles",[wd]]]),vd={"flex-warp":{"":{flexDirection:"row",flexWrap:"wrap"}}},Sd={components:{MediaView:Ad},props:{momentId:{type:[Number,String],default:0},imgList:{type:Array,default:[]}},data(){return{imgW:0,imgH:0}},computed:{},methods:{getDistanceTime:nt,previewMedias(e,t,i){let a=[],r=0;for(let n=0,s=t.length;n<s;n++){let c=t[n];if(!e&&c.check_price>0&&c.check_status==0)n<i&&(r+=1);else{let u=c.media_type==2;a.push($e(u,c.small_url,c.url,c.cover_url))}}kt(a,i-r)},clickImg(e,t){e&&e.stopPropagation();let i=this.imgList[0].uid==getApp().globalData.uid;this.previewMedias(i,this.imgList,t)},onMediaFeeCheck(e){uni.$emit("event_dynamic_action",{action:4,id:this.momentId,index:e})},parseImg(){if(this.imgList.length<=1)if(this.imgList[0].width>0&&this.imgList[0].height>0){let e=ea(this.imgList[0].width,this.imgList[0].height);e[0]<140?(this.imgW=140,this.imgH=140*140/e[0]):(this.imgW=e[0],this.imgH=e[1])}else this.imgW=140,this.imgH=140;else{let e=parseInt((getApp().globalData.window.width-uni.upx2px(170))/3);this.imgList.length==4?this.imgW=e+20:this.imgW=e,this.imgH=this.imgW}}},created(){this.parseImg()}};function Cd(e,t,i,a,r,n){let s=(0,h.resolveComponent)("media-view");return(0,h.openBlock)(),(0,h.createElementBlock)("view",{class:"flex-warp",renderWhole:!0},[((0,h.openBlock)(!0),(0,h.createElementBlock)(h.Fragment,null,(0,h.renderList)(i.imgList,(c,u)=>((0,h.openBlock)(),(0,h.createBlock)(s,{key:`m${u}`,style:(0,h.normalizeStyle)([{"margin-bottom":"10rpx"},{marginRight:i.imgList.length==4||(u+1)%3!=0?"10rpx":0}]),onClick:p=>n.clickImg(p,u),onOnMediaFeeCheck:n.onMediaFeeCheck,info:c,index:u,uid:c.uid,"w-px":r.imgW,"h-px":r.imgH,radius:"16rpx"},null,8,["style","onClick","onOnMediaFeeCheck","info","index","uid","w-px","h-px"]))),128))])}var Td=L(Sd,[["render",Cd],["styles",[vd]]]),Dd={"publish-wrap":{"":{flexDirection:"row",alignItems:"center",height:"56rpx"}}},Ld={components:{MText:oe},data(){return{sW:getApp().globalData.window.width,uploadTimer:!1,uploadingIndex:0}},computed:{uploadingStr(){let e=this.uploadingIndex==0?".":this.uploadingIndex==1?"..":"...";return l("moment.uploading")+e},bg(){return getApp().globalData.themeObj.style==ee.LIGHT?"#F1F3F6":"#1A1A1A"}},created(){this.uploadTimer=setInterval(()=>{this.uploadingIndex+=1,this.uploadingIndex>2&&(this.uploadingIndex=0)},500)},unmounted(){this.uploadTimer&&clearInterval(this.uploadTimer)}};function Id(e,t,i,a,r,n){let s=S((0,h.resolveDynamicComponent)("l-img"),R),c=(0,h.resolveComponent)("m-text");return(0,h.openBlock)(),(0,h.createElementBlock)("view",{class:"publish-wrap",style:(0,h.normalizeStyle)({width:`${r.sW}px`,background:n.bg}),renderWhole:!0},[(0,h.createVNode)(s,{src:"s/pub/uploading_black.png",needStyle:1,w:"26rpx",h:"26rpx",style:{"margin-left":"24rpx"}}),(0,h.createVNode)(c,{text:n.uploadingStr,style:{"font-size":"20rpx","margin-left":"8rpx"}},null,8,["text"])],4)}var Vn=L(Ld,[["render",Id],["styles",[Dd]]]);function fs(){if(Tn(dn.MOMENT,!0)||cs())return;if(!K("app_tip_4")){V("/pagesDialog/app-tip",{fromType:4},{onAppTipGotIt:()=>{setTimeout(()=>{V("/pagesDynamic/publish")},300)}});return}V("/pagesDynamic/publish")}function Ed(e,t,i,a=!0){return a&&!Je(e)?!1:(N.request("/moment/gift",{moment_id:t,send_count:i}).then(r=>{We("pubAccount.money",r.data.balance)}),!0)}function Fd(e,t,i=!1){if(Pt())if(t==getApp().globalData.uid){let r=[];r.push({title:l("delete"),color:"#FF4477"}),r.push({title:l("admin.delete"),color:"#FF4477"}),plus.nativeUI.actionSheet({cancel:l("cancel"),buttons:r},n=>{n.index==1?us(e,i,t):n.index==2&&ps(e,i,t)})}else ps(e,i,t);else us(e,i,t)}function us(e,t=!1,i=""){me(l("tips"),l("moment.delTip"),()=>{t?uni.$emit("event_dynamic_publish_finish",{status:!1,id:t}):(uni.$emit("event_dynamic_action",{action:1,id:e,uid:i}),N.request("/moment/delete",{moment_id:e}).then(()=>{uni.$emit("event_after_del_moment",{uid:i})}))})}function ps(e,t=!1,i=""){me(l("tips"),l("moment.delTip"),()=>{uni.$emit("event_dynamic_action",{action:1,id:e,uid:i}),N.request("/admin/moment/delete",{moment_id:e}).then(()=>{uni.$emit("event_after_del_moment",{uid:i})})})}var Od={center:{"":{flexDirection:"row",alignItems:"center"}},"center-between":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},"dynamic-item":{"":{flexDirection:"row",paddingTop:"28rpx",paddingRight:"28rpx",paddingBottom:0,paddingLeft:"28rpx"}},"avatar-wrap":{".dynamic-item ":{marginTop:"6rpx",width:"78rpx",height:"78rpx"}},"online-point":{".dynamic-item .avatar-wrap ":{width:"16rpx",height:"16rpx",borderRadius:"8rpx",backgroundColor:"#34C759",borderWidth:"2rpx",borderStyle:"solid",borderColor:"#FFFFFF",position:"absolute",right:"8rpx",bottom:"2rpx"}},"content-text":{".dynamic-item ":{fontSize:"28rpx",lineHeight:"40rpx",marginBottom:"16rpx"}},"right-more":{".dynamic-item ":{position:"absolute",top:"10rpx",right:"-14rpx"}},"income-text":{".dynamic-item ":{fontSize:"24rpx",color:"#FFAA0D",lineHeight:"34rpx",marginRight:"4rpx"}},"m-l-def":{"":{marginLeft:"8rpx"}},"view-action":{"":{height:"72rpx"}},"view-like":{".view-action ":{width:"140rpx",height:"72rpx",paddingLeft:"8rpx",paddingRight:"10rpx"}},"view-flower":{".view-action ":{height:"72rpx",paddingLeft:"10rpx",paddingRight:"40rpx"}},"text-count":{".view-action ":{fontSize:"24rpx",color:"#999999",marginLeft:"8rpx"}},"get-text":{"":{fontSize:"24rpx",color:"#999999",lineHeight:"34rpx"}}},ds=Ee("animation"),Rd=Ee("dom"),Nd={emits:["onClickPost","onPostBtnSize"],components:{MBtn:ji,MLine:mt,MText:oe,MView:ze,LImg:R,Uploading:Vn,AvatarImg:Ge,DynamicImg:Td,TranslateIcon:jn},props:{item:{type:Object,default(){return{}}},dyGift:{type:Object,default(){return{}}},isDetail:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},isPublish:{type:[Boolean,String],default:!1},isAvatar:{type:Boolean,default:!1}},data(){return{TRANSLATE_FROM:Rr,isScale:!1,isAuth:ne(),isAdmin:Pt(),likeAniPlaying:!1,flowerList:[],isMy:this.item.userInfo.uid==getApp().globalData.uid,likeStatus:this.item.is_like,flowerWait:500,lastFlowerTime:new Date().getTime(),flowerCount:0,flowerTimer:"",clearFlowerTimer:!1,rightW:getApp().globalData.window.width-uni.upx2px(134),colorDesc:getApp().globalData.themeObj.color.desc}},computed:{tranAColor(){return getApp().globalData.themeObj.color.bg1_1},tranABg(){return getApp().globalData.themeObj.style==ee.LIGHT?"rgba(198, 205, 214, 0.9)":"rgba(125, 130, 136, 0.9)"},contentStr(){return this.item.type==1?this.item.content:this.item.type==2?l("uploadAvatar"):this.item.type==3?l("uploadAlbum"):""},contentOp(){return this.item.type==1?1:.7},likeSrc(){return this.likeStatus||this.item.is_like?"s/dynamic/love_s.png":"s/dynamic/love_n_1.png"},videoCallShow(){return!(!getApp().globalData.appCRE||this.isMy||this.item.userInfo.is_auth==this.isAuth)},showOnline(){return this.item.userInfo.online_status?this.item.userInfo.is_auth?!this.item.userInfo.is_rest:!this.item.userInfo.hide_online:!1}},methods:{$str:l,clickEdit(){V("/pagesDynamic/publish",{info:encodeURIComponent(JSON.stringify(this.item))})},clickPost(){this.$emit("onClickPost")},clickUser(e){e&&e.stopPropagation(),Ei(this.item.userInfo.uid)},clickItem(){this.isPublish||this.isAvatar||this.isDetail||V("/pagesDynamic/detail",{id:this.item.moment_id})},clickVideoChat(e){e&&e.stopPropagation();let t=this.item.userInfo,i=t.video?t.video:"";St(t,i,xt.MOMENT),Oa("moment_click",!0)},clickFlower(e){if(e&&e.stopPropagation(),this.isAvatar)return;if(this.isAuth){fe(l("tips"),l("moment.anchorNoSendGift"),"",l("gotIt"));return}if(!K("dynamic_send_gift_tip")){V("/pagesDialog/dynamic-send-gift",{moment_id:this.item.moment_id,icon:this.dyGift.icon,price:this.dyGift.price});return}if(!Je(this.dyGift.price))return;this.startFlowerAni(),uni.$emit("event_dynamic_action",{action:3,id:this.item.moment_id,user:getApp().pubUser});let i=new Date().getTime();this.flowerCount=i-this.lastFlowerTime<this.flowerWait?this.flowerCount+1:1,this.lastFlowerTime=new Date().getTime(),clearTimeout(this.flowerTimer),this.flowerTimer=setTimeout(()=>{this.reqSendFlower(),clearTimeout(this.flowerTimer)},this.flowerWait+50)},startFlowerAni(){let e=this.flowerList.length+1;this.clearFlowerTimer&&(clearTimeout(this.clearFlowerTimer),this.clearFlowerTimer=!1),this.flowerList.push(e),this.$nextTick(()=>{let t=this.$refs[`flower${e}`][0];if(!t)return;let i=setTimeout(()=>{ds.transition(t,{styles:{opacity:"0",transform:"translateY(-80px)"},duration:2e3,timingFunction:"ease",needLayout:!1,delay:0},()=>{clearTimeout(i)})},100)})},reqSendFlower(){Ed(this.dyGift.price,this.item.moment_id,this.flowerCount,!1),this.clearFlowerTimer=setTimeout(()=>{this.flowerList=[],clearTimeout(this.clearFlowerTimer),this.clearFlowerTimer=!1},2e3)},clickLike(e){if(e&&e.stopPropagation(),this.isAvatar||this.likeAniPlaying)return;let t=!1;this.likeStatus||(t=!0,this.likeStatus=1),this.likeAniPlaying=!0,this.$nextTick(()=>{let i=this.$refs.refLike;if(!i){this.likeAniPlaying=!1;return}let a=setTimeout(()=>{this.animDef(i,{transform:"scale(1.3)"},300).then(()=>(clearTimeout(a),this.animDef(i,{transform:"scale(1)"},300))).then(()=>{this.likeAniPlaying=!1})},100);t&&(uni.$emit("event_dynamic_action",{action:2,id:this.item.moment_id,user:getApp().pubUser}),N.request("/moment/like",{moment_id:this.item.moment_id}))})},clickDelete(e){e&&e.stopPropagation(),Fd(this.item.moment_id,this.item.userInfo.uid,this.isPublish)},clickReport(e){e&&e.stopPropagation(),V("/pagesPub/my/report",{targetId:this.item.userInfo.uid})},animDef(e,t,i){return new Promise(a=>{ds.transition(e,{styles:t,duration:i,timingFunction:"ease",needLayout:!1},()=>{a()})})}},created(){let e=K("post_moment_status_"+getApp().globalData.uid);this.isMy&&this.isAvatar&&y(e)&&this.$nextTick(()=>{let t=setTimeout(()=>{Rd.getComponentRect(this.$refs.postBtn,i=>{i&&i.size&&this.$emit("onPostBtnSize",i.size)}),clearTimeout(t)},300)})}};function Md(e,t,i,a,r,n){let s=(0,h.resolveComponent)("uploading"),c=S((0,h.resolveDynamicComponent)("avatar-img"),Ge),u=S((0,h.resolveDynamicComponent)("u-base-info"),ft),p=(0,h.resolveComponent)("m-text"),f=S((0,h.resolveDynamicComponent)("l-img"),R),m=S((0,h.resolveDynamicComponent)("translate-icon"),jn),_=(0,h.resolveComponent)("dynamic-img"),F=(0,h.resolveComponent)("m-btn"),x=(0,h.resolveComponent)("m-line"),M=(0,h.resolveComponent)("m-view");return(0,h.openBlock)(),(0,h.createBlock)(M,{type:"bg1_1",onClick:n.clickItem,style:{position:"relative"}},{default:(0,h.withCtx)(()=>[i.isPublish?((0,h.openBlock)(),(0,h.createBlock)(s,{key:0})):(0,h.createCommentVNode)("",!0),(0,h.createElementVNode)("view",{class:"dynamic-item"},[(0,h.createElementVNode)("view",{onClick:t[0]||(t[0]=(...v)=>n.clickUser&&n.clickUser(...v)),class:"avatar-wrap"},[(0,h.createVNode)(c,{onClick:n.clickUser,user:i.item.userInfo,w:"72rpx",h:"72rpx",radius:"36rpx","place-w":"60rpx","place-font-size":!1},null,8,["onClick","user"]),n.showOnline?((0,h.openBlock)(),(0,h.createElementBlock)("view",{key:0,class:"online-point"})):(0,h.createCommentVNode)("",!0)]),(0,h.createElementVNode)("view",{style:(0,h.normalizeStyle)({width:`${r.rightW}px`})},[(0,h.createElementVNode)("view",{class:"m-l-def",style:{"align-items":"flex-start"}},[(0,h.createVNode)(u,{info:i.item.userInfo,nameSize:"28rpx",fw:500},null,8,["info"]),(0,h.createVNode)(p,{text:i.item.publishTime,style:{"margin-top":"2rpx","font-size":"20rpx",opacity:".7","line-height":"28rpx"}},null,8,["text"]),(0,h.createElementVNode)("view",{class:"right-more"},[r.isMy&&i.isAvatar?((0,h.openBlock)(),(0,h.createBlock)(p,{key:0,type:"action",text:n.$str("edit"),onClick:n.clickEdit,style:{"text-decoration":"underline","font-size":"24rpx",padding:"0 14rpx"}},null,8,["text","onClick"])):((0,h.openBlock)(),(0,h.createElementBlock)("view",{key:1,class:"center"},[r.isAdmin||r.isMy?((0,h.openBlock)(),(0,h.createElementBlock)("view",{key:0,onClick:t[1]||(t[1]=(...v)=>n.clickDelete&&n.clickDelete(...v)),style:{padding:"0 14rpx"}},[(0,h.createVNode)(f,{onClick:n.clickDelete,src:"s/dynamic/dy_delete.png",w:"32rpx",h:"32rpx"},null,8,["onClick"])])):(0,h.createCommentVNode)("",!0),r.isMy?(0,h.createCommentVNode)("",!0):((0,h.openBlock)(),(0,h.createElementBlock)("view",{key:1,onClick:t[2]||(t[2]=(...v)=>n.clickReport&&n.clickReport(...v)),style:{padding:"0 14rpx","margin-left":"20rpx"}},[(0,h.createVNode)(f,{onClick:n.clickReport,src:"s/dynamic/dy_report.png",w:"32rpx",h:"32rpx"},null,8,["onClick"])]))]))])]),n.contentStr?((0,h.openBlock)(),(0,h.createElementBlock)("view",{key:0,class:"m-l-def",style:{"margin-top":"20rpx"}},[(0,h.createVNode)(p,{text:n.contentStr,style:(0,h.normalizeStyle)([{"font-size":"28rpx","line-height":"40rpx","margin-bottom":"16rpx"},{opacity:n.contentOp}])},null,8,["text","style"]),i.item.type==1?((0,h.openBlock)(),(0,h.createBlock)(m,{key:0,text:n.contentStr,"show-tran-end":!0,"translate-result":i.item.translate_text,bg:n.tranABg,"api-params":{from_type:r.TRANSLATE_FROM.MOMENT,from_uid:i.item.userInfo.uid,key:i.item.moment_id},"text-color":r.colorDesc,"a-color":n.tranAColor,style:{"margin-bottom":"18rpx"}},null,8,["text","translate-result","bg","api-params","text-color","a-color"])):(0,h.createCommentVNode)("",!0)])):(0,h.createCommentVNode)("",!0),(0,h.createElementVNode)("view",null,[i.item.medias.length>0?((0,h.openBlock)(),(0,h.createElementBlock)("view",{key:0,class:"m-l-def",style:{"margin-top":"10rpx"}},[(0,h.createVNode)(_,{"img-list":i.item.medias,"moment-id":i.item.moment_id},null,8,["img-list","moment-id"])])):(0,h.createCommentVNode)("",!0),i.isPublish?(0,h.createCommentVNode)("",!0):((0,h.openBlock)(),(0,h.createElementBlock)("view",{key:1,class:"center-between view-action"},[(0,h.createElementVNode)("view",{style:{"flex-direction":"row"}},[(0,h.createElementVNode)("view",{onClick:t[3]||(t[3]=(...v)=>n.clickLike&&n.clickLike(...v)),class:"center view-like"},[(0,h.createVNode)(f,{ref:"refLike",onClick:n.clickLike,src:n.likeSrc,w:"32rpx",h:"32rpx"},null,8,["onClick","src"]),(0,h.createElementVNode)("u-text",{class:"text-count"},(0,h.toDisplayString)(i.item.like_count||""),1)]),(0,h.createElementVNode)("view",{onClick:t[4]||(t[4]=(...v)=>n.clickFlower&&n.clickFlower(...v)),class:"center view-flower"},[(0,h.createVNode)(f,{onClick:n.clickFlower,src:i.dyGift.icon,w:"30rpx",h:"32rpx"},null,8,["onClick","src"]),(0,h.createElementVNode)("u-text",{class:"text-count"},(0,h.toDisplayString)(i.item.gift_count||""),1)])]),n.videoCallShow?((0,h.openBlock)(),(0,h.createBlock)(f,{key:0,onClick:n.clickVideoChat,src:"s/pub/chat_video.png",w:"52rpx",h:"52rpx"},null,8,["onClick"])):r.isMy&&i.isAvatar?((0,h.openBlock)(),(0,h.createElementBlock)("view",{key:1,ref:"postBtn"},[(0,h.createVNode)(F,{text:n.$str("post"),onClick:n.clickPost,type:"line",style:{height:"64rpx","line-height":"64rpx","border-radius":"8rpx","font-size":"24rpx",padding:"0 44rpx"}},null,8,["text","onClick"])],512)):(0,h.createCommentVNode)("",!0)])),((0,h.openBlock)(!0),(0,h.createElementBlock)(h.Fragment,null,(0,h.renderList)(r.flowerList,(v,O)=>((0,h.openBlock)(),(0,h.createBlock)(f,{key:`flower${O}`,ref_for:!0,ref:`flower${v}`,src:i.dyGift.icon,w:"30rpx",h:"32rpx",style:{position:"absolute",left:"150rpx",bottom:"60rpx"}},null,8,["src"]))),128))]),i.item.receive_coins>0&&!i.isPublish?((0,h.openBlock)(),(0,h.createElementBlock)("view",{key:1,class:"center m-l-def",style:{"margin-bottom":"18rpx"}},[(0,h.createElementVNode)("u-text",{class:"get-text"},(0,h.toDisplayString)(n.$str("get"))+": ",1),(0,h.createVNode)(p,{type:"coin",text:"+"+i.item.receive_coins,style:{"font-size":"24rpx","line-height":"34rpx","margin-right":"4rpx"}},null,8,["text"]),(0,h.createVNode)(f,{src:"s/my/i_coins.png",w:"22rpx",h:"22rpx"})])):(0,h.createCommentVNode)("",!0)],4)]),i.showLine?((0,h.openBlock)(),(0,h.createBlock)(x,{key:1,style:(0,h.normalizeStyle)([{marginLeft:`${i.isDetail?0:28}rpx`},{"margin-top":"12rpx"}])},null,8,["style"])):(0,h.createCommentVNode)("",!0)]),_:1},8,["onClick"])}var ms=L(Nd,[["render",Md],["styles",[Od]]]);var gg=q(Z());function hs(e,t,i,a){return{media_type:T.PHOTO,url:e,small_url:e,width:t,height:i,img_type:a||""}}function gs(e,t,i,a,r){return{media_type:T.VIDEO,url:e,cover_url:t,small_url:t,width:i,height:a,duration:r}}var Hd={"center-between":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},"view-item":{"":{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center",borderBottomWidth:"2rpx"}},"complete-profile":{"":{height:"48rpx",backgroundColor:"rgba(255,234,233,0.9)",paddingTop:0,paddingRight:"20rpx",paddingBottom:0,paddingLeft:"30rpx"}},"complete-text":{".complete-profile ":{fontSize:"24rpx",color:"#FF3B30",lineHeight:"32rpx",marginLeft:"6rpx"}}},Wd={components:{MIcon:Gi,MText:oe,MView:ze,LImg:R},emits:["onClickTab"],props:{curIndex:{type:[Number,String],default:0},momentCount:{type:[Number,String],default:0},albumCount:{type:[Number,String],default:0},giftCount:{type:[Number,String],default:0},hasRadius:{type:Boolean,default:!1},user:{type:Object,default(){return{}}},needCompleteProfile:{type:Number,default:0}},data(){return{colorActOp:1,colorDefOp:.4,itemBorderColor:getApp().globalData.themeObj.color.title}},computed:{viewStyle(){let e={width:`${getApp().globalData.window.width}px`};return e["flex-direction"]="row",e.height="88rpx",e["border-bottom-width"]="1px",e["border-bottom-color"]=getApp().globalData.themeObj.color.line,this.hasRadius&&(e.borderTopLeftRadius="16rpx",e.borderTopRightRadius="16rpx"),e},momentAttr(){return this.curIndex==0?["s/user/tab_moment_s.png",this.colorActOp,!0]:["s/user/tab_moment_n.png",this.colorDefOp,!1]},albumAttr(){return this.curIndex==1?["s/user/tab_album_s_1.png",this.colorActOp,!0]:["s/user/tab_album_n_1.png",this.colorDefOp,!1]},giftAttr(){return this.curIndex==2?["s/user/tab_gift_s.png",this.colorActOp,!0]:["s/user/tab_gift_n.png",this.colorDefOp,!1]},isSelf(){return this.user.uid==getApp().globalData.uid}},methods:{$str:l,clickItem(e){this.$emit("onClickTab",e)},clickCompleteProfile(){V("/pagesPub/edit/index")}}};function Gd(e,t,i,a,r,n){let s=S((0,o.resolveDynamicComponent)("l-img"),R),c=(0,o.resolveComponent)("m-text"),u=(0,o.resolveComponent)("m-icon"),p=(0,o.resolveComponent)("m-view");return(0,o.openBlock)(),(0,o.createBlock)(p,{type:"bg1_1"},{default:(0,o.withCtx)(()=>[(0,o.createElementVNode)("view",{style:(0,o.normalizeStyle)([n.viewStyle])},[(0,o.createElementVNode)("view",{onClick:t[1]||(t[1]=f=>n.clickItem(0)),class:"view-item",style:(0,o.normalizeStyle)({"border-bottom-color":n.momentAttr[2]?r.itemBorderColor:"transparent"})},[(0,o.createVNode)(s,{onClick:t[0]||(t[0]=f=>n.clickItem(0)),"need-style":1,src:n.momentAttr[0],w:"42rpx",h:"42rpx"},null,8,["src"]),(0,o.createVNode)(c,{text:i.momentCount||"",style:(0,o.normalizeStyle)([{"font-size":"28rpx","margin-left":"8rpx"},{opacity:n.momentAttr[1]}])},null,8,["text","style"])],4),(0,o.createElementVNode)("view",{onClick:t[3]||(t[3]=f=>n.clickItem(1)),class:"view-item",style:(0,o.normalizeStyle)({"border-bottom-color":n.albumAttr[2]?r.itemBorderColor:"transparent"})},[(0,o.createVNode)(s,{onClick:t[2]||(t[2]=f=>n.clickItem(1)),"need-style":1,src:n.albumAttr[0],w:"42rpx",h:"42rpx"},null,8,["src"]),(0,o.createVNode)(c,{text:i.albumCount||"",style:(0,o.normalizeStyle)([{"font-size":"28rpx","margin-left":"8rpx"},{opacity:n.albumAttr[1]}])},null,8,["text","style"])],4),(0,o.createElementVNode)("view",{onClick:t[5]||(t[5]=f=>n.clickItem(2)),class:"view-item",style:(0,o.normalizeStyle)({"border-bottom-color":n.giftAttr[2]?r.itemBorderColor:"transparent"})},[(0,o.createVNode)(s,{onClick:t[4]||(t[4]=f=>n.clickItem(2)),"need-style":1,src:n.giftAttr[0],w:"42rpx",h:"42rpx"},null,8,["src"]),(0,o.createVNode)(c,{text:i.giftCount||"",style:(0,o.normalizeStyle)([{"font-size":"28rpx","margin-left":"8rpx"},{opacity:n.giftAttr[1]}])},null,8,["text","style"])],4)],4),n.isSelf&&i.needCompleteProfile?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,onClick:t[6]||(t[6]=(...f)=>n.clickCompleteProfile&&n.clickCompleteProfile(...f)),class:"center-between complete-profile"},[(0,o.createElementVNode)("view",{class:"center"},[(0,o.createVNode)(s,{src:"s/my/candy.png",w:"32rpx",h:"32rpx"}),(0,o.createElementVNode)("u-text",{class:"complete-text"},(0,o.toDisplayString)(n.$str("completeProfileTips")),1)]),(0,o.createVNode)(u,{type:"right",size:"24rpx",color:"#FE6860"})])):(0,o.createCommentVNode)("",!0)]),_:1})}var zn=L(Wd,[["render",Gd],["styles",[Hd]]]),jd={center:{"":{flexDirection:"row",alignItems:"center"}},"center-align":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"view-base":{"":{position:"fixed",top:0}},"view-bar":{"":{flexDirection:"row",alignItems:"center"}},"view-loading":{"":{color:"#FFFFFF",width:"40rpx",height:"40rpx"}},"img-padding":{"":{paddingTop:"20rpx",paddingRight:"20rpx",paddingBottom:"20rpx",paddingLeft:"20rpx"}},"complete-profile":{"":{height:"48rpx",borderRadius:"32rpx",paddingTop:0,paddingRight:"20rpx",paddingBottom:0,paddingLeft:"20rpx",borderWidth:1,borderStyle:"solid",borderColor:"#FFFFFF",position:"relative"}},text:{".complete-profile ":{fontSize:"20rpx",color:"#FFFFFF",marginRight:"8rpx"}},point:{".complete-profile ":{width:"12rpx",height:"12rpx",borderRadius:"6rpx",backgroundColor:"#FF3B30",position:"absolute",right:"20rpx",top:"8rpx"}},"nav-nickname":{"":{maxWidth:"300rpx",textAlign:"center",lines:1,overflow:"hidden",textOverflow:"ellipsis",fontWeight:"600",color:"#FFFFFF"}}},Vd={components:{LImg:R,MLine:mt,MText:oe,ActionSheet:Gn,UniIcons:le,UserCellTab:zn},emits:["onUserUpdate","onClickEdit"],props:{user:{type:Object,default(){return{}}},diffScrollH:{type:Number,default:0},showLoading:{type:Boolean,default:!1},isUserHome:{type:Boolean,default:!1},needCompleteProfile:{type:Number,default:0},showEditPoint:{type:Boolean,default:!1},isDeleted:{type:Number,default:0}},data(){return{isAndroid:T.isAndroid,sW:getApp().globalData.window.width,statusBarH:getApp().globalData.window.statusBarHeight,barH:getApp().globalData.window.navBarHeight,isTopStatus:!1,opacity:0,moreActions:[{title:"",key:"follow"},{title:"",key:"block"},{title:l("report"),key:"report"}]}},computed:{isSelf(){return this.user.uid==getApp().globalData.uid},barBg(){return getApp().globalData.themeObj.style==ee.LIGHT?`rgba(255, 255, 255, ${this.opacity})`:`rgba(0, 0, 0, ${this.opacity})`},nickname(){return this.user.uid==getApp().globalData.uid?l("my"):this.user.nickname},iconSrcArr(){let e=getApp().globalData.themeObj.style==ee.LIGHT,t=this.user.hide_profile?"s/user/nav_mystery.png":this.opacity>.5&&e?"s/user/nav_mystery_s.png":"s/user/nav_mystery_n.png";return this.opacity>.5&&e?["s/user/nav_set_s.png",t,"s/user/nav_bg_s.png","s/user/nav_edit_s.png","s/my/nav_share_s.png"]:["s/user/nav_set_n.png",t,"s/user/nav_bg_n.png","s/user/nav_edit_n.png","s/my/nav_share_n.png"]},actionSrcArr(){let e=getApp().globalData.themeObj.style==ee.LIGHT;return this.opacity>.5&&e?[this.isSelf?"#FFFFFF":"#333333","s/pub/warning_black.png"]:["#FFFFFF","s/pub/warning_white.png"]},themeEditColor(){let e=getApp().globalData.themeObj.style==ee.LIGHT;return this.opacity>.5&&e?"#333333":"#FFFFFF"}},methods:{$str:l,clickBack(e){e&&e.stopPropagation(),Rt()},clickShare(e){e&&e.stopPropagation(),V("/pagesPub/share/index")},clickReport(e){e&&e.stopPropagation(),V("/pagesPub/my/report",{targetId:this.user.uid})},clickMore(e){e&&e.stopPropagation();for(let t=0,i=this.moreActions.length;t<i;t++){let{key:a}=this.moreActions[t];a=="block"&&(this.moreActions[t].title=this.user.is_black?l("unblock"):l("block")),a=="follow"&&(this.moreActions[t].title=this.user.is_follow?l("unfollow"):l("follow"))}this.$refs.moreAction.open()},clickSet(e){e&&e.stopPropagation(),V("/pagesPub/set/set")},clickMystery(e){if(e&&e.stopPropagation(),this.user.hide_profile==0&&!ga()&&this.user.level<getApp().globalData.config.hide_profile_level){this.openHideProfileLimit();return}let t=this.user.hide_profile?l("turnOff"):l("turnOn"),i=this.user.hide_profile?l("privacy.hideProfileOffTip"):l("privacy.hideProfileOnTip");me(l("tips"),i,()=>{let a=this.user.hide_profile?0:1;We("pubUser.hide_profile",a),N.request("/privacy/update",{type:12,status:a}).then(r=>{r.ok==2&&(We("pubUser.hide_profile",a?0:1),this.openHideProfileLimit())})},"",t)},clickBg(e){e&&e.stopPropagation()},clickEdit(e){e&&e.stopPropagation(),this.showEditPoint&&(Q("user_complete_profile_tips_"+getApp().globalData.uid,"1"),this.$emit("onClickEdit")),V("/pagesPub/edit/index")},onMoreAction(e){e.key=="report"?V("/pagesPub/my/report",{targetId:this.user.uid}):e.key=="block"?_a(this.user.uid,this.user.is_black,()=>{uni.$emit("event_change_black",this.user.is_black?0:1),this.$emit("onUserUpdate",{key:"is_black",value:!this.user.is_black})}):e.key=="follow"&&ai(this.user.uid,this.user.is_follow)},changeBarStatus(e){let t=Math.abs(e);e<0?(this.opacity=t/this.diffScrollH,this.opacity>=1&&(this.opacity=1)):this.opacity=0,this.isTopStatus=t>=this.diffScrollH},openHideProfileLimit(){V("/pagesDialog/level-limit-def",{from_type:2,min_level:5,vip_type:Or.PRIVACY_PROFILE})}}};function zd(e,t,i,a,r,n){let s=(0,o.resolveComponent)("m-text"),c=S((0,o.resolveDynamicComponent)("uni-icons"),le),u=S((0,o.resolveDynamicComponent)("l-img"),R),p=S((0,o.resolveDynamicComponent)("action-sheet"),Gn),f=(0,o.resolveComponent)("m-line");return(0,o.openBlock)(),(0,o.createElementBlock)("view",{class:"view-base",style:(0,o.normalizeStyle)({width:`${r.sW}px`,background:n.barBg}),renderWhole:!0},[(0,o.createElementVNode)("view",{style:(0,o.normalizeStyle)({height:`${r.statusBarH}px`,width:`${r.sW}px`})},null,4),n.isSelf?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,class:"view-bar",style:(0,o.normalizeStyle)({height:`${r.barH}px`})},[(0,o.createElementVNode)("view",{class:"center-align",style:(0,o.normalizeStyle)([{width:`${r.sW}px`,height:`${r.barH}px`},{position:"absolute",top:"0",left:"0"}])},[i.showLoading?((0,o.openBlock)(),(0,o.createElementBlock)("loading-indicator",{key:0,animating:!0,class:"view-loading"})):((0,o.openBlock)(),(0,o.createBlock)(s,{key:1,text:n.nickname,style:(0,o.normalizeStyle)([{opacity:r.opacity},{width:"300rpx","text-align":"center",lines:"1",overflow:"hidden","text-overflow":"ellipsis","font-weight":"600"}])},null,8,["text","style"]))],4),(0,o.createElementVNode)("view",{class:"view-bar",style:{flex:"1","margin-left":"12rpx"}},[i.isUserHome?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,onClick:t[0]||(t[0]=(...m)=>n.clickBack&&n.clickBack(...m)),class:"img-padding"},[(0,o.createVNode)(c,{onClick:n.clickBack,type:"back",size:"46rpx",color:n.actionSrcArr[0]},null,8,["onClick","color"])])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("view",{onClick:t[1]||(t[1]=(...m)=>n.clickSet&&n.clickSet(...m)),class:"img-padding",style:{"margin-right":"18rpx"}},[(0,o.createVNode)(u,{onClick:n.clickSet,src:n.iconSrcArr[0],w:"42rpx",h:"42rpx"},null,8,["onClick","src"])]),i.user.is_auth?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:1,onClick:t[2]||(t[2]=(...m)=>n.clickMystery&&n.clickMystery(...m)),class:"img-padding"},[(0,o.createVNode)(u,{onClick:n.clickMystery,src:n.iconSrcArr[1],w:"42rpx",h:"42rpx"},null,8,["onClick","src"])]))]),(0,o.createElementVNode)("view",{style:{flex:"1","flex-direction":"row-reverse","align-items":"center","margin-right":"12rpx"}},[i.user.hide_profile?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,onClick:t[3]||(t[3]=(...m)=>n.clickEdit&&n.clickEdit(...m)),style:{"margin-left":"18rpx"}},[i.needCompleteProfile?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,class:"complete-profile center-align",style:(0,o.normalizeStyle)({borderColor:n.themeEditColor})},[(0,o.createElementVNode)("u-text",{class:"text",style:(0,o.normalizeStyle)({color:n.themeEditColor})},(0,o.toDisplayString)(n.$str("completeProfile")),5),(0,o.createVNode)(u,{onClick:n.clickEdit,src:n.iconSrcArr[3],w:"40rpx",h:"42rpx"},null,8,["onClick","src"]),i.showEditPoint?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,class:"point"})):(0,o.createCommentVNode)("",!0)],4)):((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:1,class:"img-padding"},[(0,o.createVNode)(u,{onClick:n.clickEdit,src:n.iconSrcArr[3],w:"42rpx",h:"42rpx"},null,8,["onClick","src"])]))])),(0,o.createElementVNode)("view",{onClick:t[4]||(t[4]=(...m)=>n.clickShare&&n.clickShare(...m)),class:"img-padding"},[(0,o.createVNode)(u,{onClick:n.clickShare,src:n.iconSrcArr[4],w:"42rpx",h:"42rpx"},null,8,["onClick","src"])])])],4)):((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:1,class:"view-bar",style:(0,o.normalizeStyle)({height:`${r.barH}px`})},[(0,o.createElementVNode)("view",{style:{flex:"1","flex-direction":"row"}},[(0,o.createElementVNode)("view",{onClick:t[5]||(t[5]=(...m)=>n.clickBack&&n.clickBack(...m)),class:"img-padding"},[(0,o.createVNode)(c,{onClick:n.clickBack,type:"back",size:"42rpx",color:n.actionSrcArr[0]},null,8,["onClick","color"])])]),(0,o.createElementVNode)("view",{class:"center-align",style:{flex:"1"}},[i.showLoading?((0,o.openBlock)(),(0,o.createElementBlock)("loading-indicator",{key:0,animating:!0,class:"view-loading"})):((0,o.openBlock)(),(0,o.createBlock)(s,{key:1,text:n.nickname,style:(0,o.normalizeStyle)([{opacity:r.opacity},{width:"300rpx","text-align":"center",lines:"1",overflow:"hidden","text-overflow":"ellipsis","font-weight":"600"}])},null,8,["text","style"]))]),i.isDeleted?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,style:{flex:"1","flex-direction":"row-reverse","margin-right":"8rpx","align-items":"center"}},[(0,o.createElementVNode)("view",{onClick:t[6]||(t[6]=(...m)=>n.clickMore&&n.clickMore(...m)),class:"img-padding"},[(0,o.createVNode)(c,{onClick:n.clickMore,type:"more-filled",size:"40rpx",color:n.actionSrcArr[0]},null,8,["onClick","color"])]),(0,o.createElementVNode)("view",{onClick:t[7]||(t[7]=(...m)=>n.clickReport&&n.clickReport(...m)),class:"img-padding",style:{"margin-right":"18rpx"}},[(0,o.createVNode)(u,{onClick:n.clickReport,src:n.actionSrcArr[1],w:"42rpx",h:"42rpx"},null,8,["onClick","src"])])]))],4)),n.isSelf?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(p,{key:2,ref:"moreAction",actions:r.moreActions,"text-color":"#0091FF","cancel-color":"#666666",onOnClickActionItem:n.onMoreAction},null,8,["actions","onOnClickActionItem"])),r.isTopStatus?((0,o.openBlock)(),(0,o.createBlock)(f,{key:3})):(0,o.createCommentVNode)("",!0)],4)}var bs=L(Vd,[["render",zd],["styles",[jd]]]),Yd={"center-align":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"m-t-20":{"":{marginTop:"40rpx"}},"f-14":{"":{fontSize:"28rpx"}},"popular-value":{"":{backgroundColor:"#FFFFFF",paddingTop:"60rpx",paddingRight:"46rpx",paddingBottom:"60rpx",paddingLeft:"46rpx",borderRadius:"40rpx"}},"text-value":{"":{fontSize:"40rpx",color:"#FF3636",fontWeight:"600",position:"absolute",bottom:"80rpx",zIndex:111,paddingTop:0,paddingRight:"8rpx",paddingBottom:0,paddingLeft:"8rpx",height:"40rpx",lineHeight:"40rpx",backgroundColor:"rgba(255,255,255,0.7)",borderRadius:"30rpx"}},"got-btn":{"":{height:"96rpx",lineHeight:"96rpx",textAlign:"center",borderRadius:"16rpx",color:"#FF4477",borderWidth:"2rpx",borderStyle:"solid",borderColor:"#FF4477"}}},Kd={components:{LImg:R,UniPopup:ut},props:{value:{type:[String,Number],default:0}},data(){return{popW:getApp().globalData.window.width-50}},methods:{$str:l,clickClose(){this.$refs.popularPop.close()},open(){this.$refs.popularPop.open()}}};function $d(e,t,i,a,r,n){let s=S((0,o.resolveDynamicComponent)("l-img"),R),c=S((0,o.resolveDynamicComponent)("uni-popup"),ut);return(0,o.openBlock)(),(0,o.createBlock)(c,{ref:"popularPop",type:"center"},{default:(0,o.withCtx)(()=>[(0,o.createElementVNode)("view",{class:"popular-value",style:(0,o.normalizeStyle)({width:`${r.popW}px`})},[(0,o.createElementVNode)("view",{class:"center-align",style:{position:"relative"}},[(0,o.createVNode)(s,{src:"s/user/popular_value_bg.png",w:"240rpx",h:"294rpx"}),(0,o.createElementVNode)("u-text",{class:"text-value"},(0,o.toDisplayString)(i.value),1)]),(0,o.createElementVNode)("u-text",{class:"m-t-20 f-14"},(0,o.toDisplayString)(n.$str("user.popularPopTips1")),1),(0,o.createElementVNode)("u-text",{class:"m-t-20 f-14",style:{color:"#666666"}},(0,o.toDisplayString)(n.$str("user.popularPopTips2")),1),(0,o.createElementVNode)("u-text",{onClick:t[0]||(t[0]=(...u)=>n.clickClose&&n.clickClose(...u)),class:"m-t-20 f-14 got-btn"},(0,o.toDisplayString)(n.$str("gotIt")),1)],4)]),_:1},512)}var Jd=L(Kd,[["render",$d],["styles",[Yd]]]),qd={center:{"":{flexDirection:"row",alignItems:"center"}},"center-align":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"view-base":{"":{flexDirection:"column-reverse"}},"pos-abs":{"":{position:"absolute"}},"view-mask":{"":{backgroundColor:"rgba(0,0,0,0.5)"}},"view-bottom":{"":{flexDirection:"row",height:"114rpx"}},"view-item":{".view-bottom ":{flex:1}},"text-def":{"":{fontSize:"24rpx",color:"#FFFFFF"}},"view-avatar":{"":{width:"184rpx",height:"184rpx",marginLeft:"26rpx",marginRight:"20rpx",position:"relative"}},"view-camera":{".view-avatar ":{width:"32rpx",height:"32rpx",borderRadius:"16rpx",backgroundColor:"#666666",position:"absolute",bottom:"22rpx",right:"32rpx"}},"view-line-v":{"":{width:"4rpx",height:"24rpx",backgroundColor:"rgba(255,255,255,0.4)",marginTop:0,marginRight:"20rpx",marginBottom:0,marginLeft:"20rpx"}},"text-popular":{"":{fontSize:"24rpx",color:"#FF6767",fontWeight:"500"}},"view-fans-point":{"":{width:"12rpx",height:"12rpx",borderRadius:"6rpx",backgroundColor:"#FF3B30",marginTop:"-24rpx"}},"text-over":{"":{lines:1,textOverflow:"ellipsis",wordWrap:"anywhere"}},"under-review-view":{"":{width:"140rpx",height:"140rpx",borderRadius:"70rpx",backgroundColor:"rgba(0,0,0,0.2)",position:"absolute"}},"review-text":{".under-review-view ":{color:"#FFFFFF",fontSize:"16rpx",lineHeight:"20rpx"}},"online-point":{"":{width:"20rpx",height:"20rpx",borderWidth:"2rpx",borderStyle:"solid",borderColor:"#979797",borderRadius:"21rpx",position:"absolute",bottom:"34rpx",right:"32rpx"}}},Zd={components:{AUpStr:ls,PopularValuePop:Jd,UBaseInfo:ft,LImg:R,AvatarImg:Ge,Lottie:Wi},props:{user:{type:Object,default(){return{}}},viewH:{type:Number,default:0},unreadMy:{type:Object,default(){return{}}},showBgAnim:{type:Boolean,default:!1}},data(){return{sW:getApp().globalData.window.width,bgTop:0,bgH:this.viewH,isAdmin:Pt()}},computed:{isSelf(){return this.user.uid==getApp().globalData.uid},authNoneSrc(){return this.isSelf?this.user.auth_status==1?"":"s/user/auth_none.png":""},nameWidth(){let e=Aa(this.user,!1,!1,!1),t=this.isSelf||this.user.auth_status==1?32:0;return this.sW-uni.upx2px(200+20+e+t)},showPopular(){return this.user.hide_hot==0},isLanguageArabic(){return getApp().globalData.languageKey=="ar"},showUnderReview(){return this.isSelf&&getApp().pubUser.avatar_checking==1},onlineStatusBg(){return ba(this.user.online_status)}},methods:{$str:l,clickAuth(e){e&&e.stopPropagation();let t=getApp().pubUser.auth_status;t==1?fe(l("tips"),l("auth.successTips"),"",l("gotIt")):t==2?fe(l("tips"),l("auth.checkingTips"),"",l("gotIt")):V("/pagesPub/edit/index",{from_auth:1})},clickUserList(e,t){this.isSelf&&(V("/pagesPub/user/list-def",{type:e,num:t}),getApp().globalData.s.commit("setUnreadMy",{fans:0}))},clickAvatar(e){if(e&&e.stopPropagation(),this.isSelf){if(this.user.hide_profile)return;ie("/pagesDialog/home-action-sheet",{type:1,is_upload:1},"homeActionData",{})}else{let t,i;this.user.hide_profile?t=i="s/privacy/anonymous_avatar.png":(t=this.user.avatar,i=this.user.small_avatar);let a=$e(!1,i,t);kt([a],0,0)}},clickID(e){e&&e.stopPropagation(),ha(this.user.uid+"")},clickPopular(e){e&&e.stopPropagation(),this.$refs.popularValuePop.open()},changeBgStatus(e){let t=parseInt(e);t>0?(this.bgH=this.viewH+Math.abs(t),this.bgTop=-t):(this.bgH=this.viewH,this.bgTop=0)}}};function Xd(e,t,i,a,r,n){let s=S((0,o.resolveDynamicComponent)("l-img"),R),c=S((0,o.resolveDynamicComponent)("avatar-img"),Ge),u=S((0,o.resolveDynamicComponent)("u-base-info"),ft),p=(0,o.resolveComponent)("a-up-str"),f=(0,o.resolveComponent)("popular-value-pop");return(0,o.openBlock)(),(0,o.createElementBlock)("view",{class:"view-base",style:(0,o.normalizeStyle)({width:`${r.sW}px`,height:`${i.viewH}px`}),renderWhole:!0},[i.user.hide_profile?((0,o.openBlock)(),(0,o.createBlock)(s,{key:0,src:"s/privacy/masker_avatar_bg.png",w:`${r.sW}px`,h:`${r.bgH}px`,style:{position:"absolute","background-color":"#181818"}},null,8,["w","h"])):(0,o.createCommentVNode)("",!0),i.user.hide_profile?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(c,{key:1,user:i.user,w:`${r.sW}px`,h:`${r.bgH+20}px`,"place-type":0,style:{position:"absolute"}},null,8,["user","w","h"])),i.user.hide_profile?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:2,class:"pos-abs view-mask",style:(0,o.normalizeStyle)({width:`${r.sW}px`,height:`${r.bgH}px`,top:`${r.bgTop}px`})},null,4)),(0,o.createElementVNode)("view",{class:"view-bottom"},[(0,o.createElementVNode)("view",{class:"view-item center-align"},[i.user.country_flag&&!n.isLanguageArabic?((0,o.openBlock)(),(0,o.createElementBlock)("u-text",{key:0,class:"text-def"},(0,o.toDisplayString)(n.$str("country"))+": ",1)):(0,o.createCommentVNode)("",!0),i.user.country_flag?((0,o.openBlock)(),(0,o.createBlock)(s,{key:1,src:i.user.country_flag,w:"30rpx",h:"20rpx",style:{"margin-right":"6rpx"}},null,8,["src"])):((0,o.openBlock)(),(0,o.createBlock)(s,{key:2,src:"s/pub/i_world_1.png",w:"26rpx",h:"26rpx",style:{"margin-right":"6rpx"}})),(0,o.createElementVNode)("u-text",{class:"text-def text-over",style:(0,o.normalizeStyle)({maxWidth:`${r.sW/3-25}`})},(0,o.toDisplayString)(i.user.country_code||n.$str("unknown")),5),i.user.country_flag&&n.isLanguageArabic?((0,o.openBlock)(),(0,o.createElementBlock)("u-text",{key:3,class:"text-def"},(0,o.toDisplayString)(n.$str("country"))+": ",1)):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("view",{onClick:t[0]||(t[0]=m=>n.clickUserList(2,i.user.focus_num)),class:"view-item center-align"},[n.isLanguageArabic?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("u-text",{key:0,class:"text-def"},(0,o.toDisplayString)(n.$str("following"))+": ",1)),(0,o.createElementVNode)("u-text",{class:"text-def",style:{"font-weight":"500"}},(0,o.toDisplayString)(i.user.focus_num),1),n.isLanguageArabic?((0,o.openBlock)(),(0,o.createElementBlock)("u-text",{key:1,class:"text-def"},(0,o.toDisplayString)(n.$str("following"))+": ",1)):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("view",{onClick:t[1]||(t[1]=m=>n.clickUserList(1,i.user.fans_num)),class:"view-item center-align"},[n.isLanguageArabic?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("u-text",{key:0,class:"text-def"},(0,o.toDisplayString)(n.$str("followers"))+": ",1)),(0,o.createElementVNode)("u-text",{class:"text-def",style:{"font-weight":"500"}},(0,o.toDisplayString)(i.user.fans_num),1),i.unreadMy.fans?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:1,class:"view-fans-point"})):(0,o.createCommentVNode)("",!0),n.isLanguageArabic?((0,o.openBlock)(),(0,o.createElementBlock)("u-text",{key:2,class:"text-def"},(0,o.toDisplayString)(n.$str("followers"))+": ",1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("view",{class:"center"},[(0,o.createElementVNode)("view",{class:"view-avatar center-align"},[(0,o.createVNode)(c,{onClick:n.clickAvatar,user:i.user,w:"140rpx",h:"140rpx",radius:"70rpx",border:"2rpx solid #999999;","place-w":"116rpx","place-font-size":!1},null,8,["onClick","user"]),n.showUnderReview?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,onClick:t[2]||(t[2]=(...m)=>n.clickAvatar&&n.clickAvatar(...m)),class:"under-review-view center-align"},[(0,o.createElementVNode)("u-text",{class:"review-text"},(0,o.toDisplayString)(n.$str("underReview")),1)])):(0,o.createCommentVNode)("",!0),n.isSelf?n.isSelf&&!i.user.hide_profile?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:2,class:"view-camera center-align"},[(0,o.createVNode)(s,{src:"s/user/nav_camera.png",w:"22rpx",h:"20rpx"})])):(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:1,class:"online-point",style:(0,o.normalizeStyle)({background:n.onlineStatusBg})},null,4))]),(0,o.createElementVNode)("view",null,[(0,o.createElementVNode)("view",{class:"center"},[(0,o.createVNode)(u,{info:i.user,"name-color":"#FFFFFF","name-size":"40rpx",fw:700,"name-width":`${n.nameWidth}px`},null,8,["info","name-width"]),n.authNoneSrc?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,onClick:t[3]||(t[3]=(...m)=>n.clickAuth&&n.clickAuth(...m)),style:{padding:"10rpx","margin-left":"-10rpx"}},[(0,o.createVNode)(s,{onClick:n.clickAuth,src:n.authNoneSrc,w:"24rpx",h:"24rpx"},null,8,["onClick","src"])])):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("view",{class:"center",style:{"margin-top":"24rpx"}},[(0,o.createElementVNode)("view",{onClick:t[4]||(t[4]=(...m)=>n.clickID&&n.clickID(...m)),class:"center"},[n.isLanguageArabic?((0,o.openBlock)(),(0,o.createBlock)(s,{key:0,onClick:n.clickID,src:"s/my/i_copy.png",w:"26rpx",h:"26rpx"},null,8,["onClick"])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("u-text",{class:"text-def"},(0,o.toDisplayString)(n.$str("id"))+": "+(0,o.toDisplayString)(i.user.uid),1),n.isLanguageArabic?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(s,{key:1,onClick:n.clickID,src:"s/my/i_copy.png",w:"26rpx",h:"26rpx"},null,8,["onClick"]))]),n.showPopular?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,class:"view-line-v"})):(0,o.createCommentVNode)("",!0),n.showPopular?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:1,onClick:t[5]||(t[5]=(...m)=>n.clickPopular&&n.clickPopular(...m)),class:"center"},[n.isLanguageArabic?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("u-text",{key:0,class:"text-def",style:{"margin-right":"4rpx"}},(0,o.toDisplayString)(n.$str("popularityValue"))+":",1)),(0,o.createElementVNode)("u-text",{class:"text-popular"},(0,o.toDisplayString)(i.user.popular||0),1),(0,o.createVNode)(s,{onClick:n.clickPopular,src:"s/user/label_popular.png",w:"24rpx",h:"24rpx"},null,8,["onClick"]),n.isLanguageArabic?((0,o.openBlock)(),(0,o.createElementBlock)("u-text",{key:1,class:"text-def",style:{"margin-left":"4rpx"}},(0,o.toDisplayString)(n.$str("popularityValue"))+":",1)):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0)]),!n.isSelf&&r.isAdmin?((0,o.openBlock)(),(0,o.createBlock)(p,{key:0,user:i.user,color:"#FFFFFF",style:{"margin-top":"10rpx"}},null,8,["user"])):(0,o.createCommentVNode)("",!0)])]),(0,o.createVNode)(f,{ref:"popularValuePop",value:i.user.popular},null,8,["value"])],4)}var ws=L(Zd,[["render",Xd],["styles",[qd]]]),Qd={center:{"":{flexDirection:"row",alignItems:"center"}},"center-between":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},list:{"":{flex:1}},"view-unread":{"":{flexDirection:"row",justifyContent:"center",paddingTop:"28rpx"}},"view-info":{".view-unread ":{width:"280rpx",height:"64rpx",borderRadius:"8rpx",flexDirection:"row",justifyContent:"center",alignItems:"center"}},text:{".view-unread ":{fontSize:"24rpx",color:"#FFFFFF",marginLeft:"12rpx",marginRight:"20rpx"}},"hide-content-tips":{"":{fontSize:"20rpx",color:"#666666",marginTop:"24rpx",marginRight:"26rpx",marginBottom:0,marginLeft:"24rpx",borderRadius:"8rpx"}},"post-tips":{"":{position:"absolute",bottom:10,zIndex:111,paddingBottom:10}},pos:{".post-tips ":{flexDirection:"row",justifyContent:"flex-end"}},"text-content":{".post-tips ":{paddingTop:"10rpx",position:"relative"}},content:{".post-tips ":{paddingTop:"10rpx",paddingRight:"20rpx",paddingBottom:"10rpx",paddingLeft:"20rpx",borderRadius:"8rpx",boxSizing:"border-box"}},triangle:{".post-tips ":{width:"16rpx",height:"16rpx",backgroundColor:"#FF0000",transform:"rotate(45deg)",position:"absolute",marginTop:-3}}},_s=Ee("dom"),ef={components:{MIcon:Gi,MText:oe,UniLoadMore:Ct,EmptyPage:Gt,UniIcons:le,LImg:R,DynamicItem:ms},props:{parentId:{type:String,default:""},moment:{type:Object,default(){return{}}},user:{type:Object,default(){return{}}},unreadMy:{type:Object,default(){return{}}},tabIndex:{type:Number,default:0},avatarMoment:{type:Object,default(){return{}}}},data(){return{sW:getApp().globalData.window.width,safeB:getApp().globalData.window.safeBottom,listObj:{},publishObj:{},loadMore:"loading",lastTime:0,listBg:getApp().globalData.themeObj.color.bg1_1,avatarMomentPB:0,triangleRight:0}},watch:{"moment.list":{handler(e,t){this.parseList(!0,e)},deep:!0,immediate:!0},"moment.last_time":{handler(e,t){this.lastTime=e},deep:!0},"moment.has_more":{handler(e,t){this.loadMore=e?"loading":"nomore"},deep:!0}},computed:{isSelf(){return this.user.uid==getApp().globalData.uid},unreadTypeSrc(){return this.unreadMy.moment_type==1?"s/dynamic/love_s.png":this.moment.gift.icon},unreadStr(){return`${this.unreadMy.moment} ${this.unreadMy.moment>1?l("notificationsLower"):l("notificationLower")}`},emptyInfo(){return Object.keys(this.publishObj).length>0||Object.keys(this.listObj).length>0||Object.keys(this.avatarMoment).length>0?"":this.moment.empty||""},bottomH(){return this.isSelf?this.safeB:this.safeB+20+uni.upx2px(110)},showMoment(){return Object.keys(this.publishObj).length>0||Object.keys(this.listObj).length>0},emptyMTop(){return this.isSelf?"200rpx":"290rpx"},viewInfoBg(){return getApp().globalData.themeObj.style==ee.LIGHT?"#555555":"#313131"},avatarMomentInfo(){if(Object.keys(this.avatarMoment).length<=0)return"";let e=JSON.parse(JSON.stringify(this.avatarMoment));return e.userInfo=this.user,e.publishTime=Ii(new Date().getTime()),e},showPublish(){return this.isSelf&&this.tabIndex==0&&Object.keys(this.avatarMoment).length<=0},viewPostTipsBg(){return getApp().globalData.themeObj.style==ee.LIGHT?"#4C4C4C":"#444444"},showPostBtnTips(){let e=K("post_moment_status_"+getApp().globalData.uid);return y(e)&&Object.keys(this.avatarMoment).length>0},postBtnTipsOp(){return this.avatarMomentPB>0?1:0}},methods:{$str:l,clickClosePostTips(){Q("post_moment_status_"+getApp().globalData.uid,1),this.avatarMomentPB=0},clickUnread(e){V("/pagesDynamic/notify"),getApp().globalData.s.commit("setUnreadMy",{moment:0})},clickPublish(){fs()},onClickPost(){this.clickClosePostTips();let e={id:wn(),content:this.avatarMoment.content,mediaList:this.avatarMoment.medias},t={content:this.avatarMoment.content,medias:this.avatarMoment.medias,auto_type:this.avatarMoment.auto_type};N.request("/moment/release",t,!0).then(i=>{i.data&&at(i.data.balance),this.publishFinish({status:!0,id:e.id,item:{id:i.data.moment_id}})}),this.publishAdd(e),uni.$emit("event_clear_avatar_moment")},onLoadMore(){this.loadMore!="nomore"&&(this.loadMore="loading",this.loadDataMoment())},onPostBtnSize(e){y(e)||(this.triangleRight=e.width/2-6,this.parsePostTipsSize())},setScrollRef(e){this.$refs.list.setSpecialEffects&&this.$refs.list.setSpecialEffects({id:this.parentId,headerHeight:e})},dynamicAction(e){J("log","at pages/main/user-page-moment.vue:253","tab my \u52A8\u6001\u64CD\u4F5C\u6267\u884C "+e.action+"  "+e.id);let t=`a${e.id}`,i=this.listObj[t];if(!y(i)){if(e.action==1)delete this.listObj[t],uni.$emit("event_change_moment_count",{uid:e.uid,count:-1}),this.$forceUpdate();else if(e.action==2){let a=this.listObj[t];a.is_like=1,a.like_count=i.like_count+1,J("error","at pages/main/user-page-moment.vue:265","-----> 111 "+JSON.stringify(this.listObj[t]))}else if(e.action==3){let a=this.listObj[t];a.gift_count+=1,a.receive_coins+=this.moment.gift.price}}},publishAdd(e){if(!this.isSelf)return;J("error","at pages/main/user-page-moment.vue:274","-----> \u52A8\u6001 \u6DFB\u52A0\u53D1\u5E03 tab my "+JSON.stringify(e)),_s.scrollToElement(this.$refs.listHeader,{animated:!1});let t={};t[e.id]={userInfo:getApp().pubUser,publishTime:Ii(new Date().getTime()),content:e.content,medias:e.mediaList,type:1};for(let i in this.publishObj)t[i]=this.publishObj[i];this.publishObj=t},publishFinish(e){if(!this.isSelf)return;J("error","at pages/main/user-page-moment.vue:291","------> \u52A8\u6001 \u53D1\u5E03\u7ED3\u675F "+JSON.stringify(e));let t=this.publishObj[e.id];if(y(t))return;if(delete this.publishObj[e.id],!e.status){this.publishObj=JSON.parse(JSON.stringify(this.publishObj));return}let i={moment_id:e.item.id,uid:getApp().globalData.uid,gift_count:0,receive_coins:0,like_count:0,is_like:0};this.publishObj=JSON.parse(JSON.stringify(this.publishObj)),t=Object.assign(t,i);let a={};a[`a${t.moment_id}`]=t,this.listObj=Object.assign(a,this.listObj),this.listObj=JSON.parse(JSON.stringify(this.listObj)),uni.$emit("event_change_moment_count",{uid:getApp().globalData.uid,count:1})},parsePostTipsSize(){this.$nextTick(()=>{this.showPostBtnTips&&_s.getComponentRect(this.$refs.postBtnTips,e=>{e&&e.size&&(this.avatarMomentPB=e.size.height+4)})})},parseList(e,t){if(e&&(this.listObj={}),t&&t.length>0){for(let i=0,a=t.length;i<a;i++){let r=t[i];r.userInfo=this.user,r.publishTime=Ii(r.add_time),this.listObj[`a${r.moment_id}`]=r}this.listObj=JSON.parse(JSON.stringify(this.listObj))}},loadDataMoment(){let e={last_time:this.lastTime,target_uid:this.user.uid};N.request("/moment/list",e,!1,!0).then(t=>{this.parseList(!1,t.data.list),this.loadMore=t.data.has_more?"loading":"nomore",typeof t.data.last_time!="undefined"&&(this.lastTime=t.data.last_time),this.$refs.list.resetLoadmore()},t=>{this.$refs.list.resetLoadmore()})}},created(){this.loadMore=this.moment.has_more?"loading":"nomore",uni.$on("event_dynamic_add",this.publishAdd),uni.$on("event_dynamic_publish_finish",this.publishFinish),uni.$on("event_dynamic_action",this.dynamicAction)},unmounted(){uni.$off("event_dynamic_add",this.publishAdd),uni.$off("event_dynamic_publish_finish",this.publishFinish),uni.$off("event_dynamic_action",this.dynamicAction)}};function tf(e,t,i,a,r,n){let s=(0,o.resolveComponent)("m-text"),c=S((0,o.resolveDynamicComponent)("l-img"),R),u=S((0,o.resolveDynamicComponent)("uni-icons"),le),p=(0,o.resolveComponent)("dynamic-item"),f=S((0,o.resolveDynamicComponent)("empty-page"),Wt),m=S((0,o.resolveDynamicComponent)("uni-load-more"),Ct);return(0,o.openBlock)(),(0,o.createElementBlock)("list",{ref:"list",class:"list",offsetAccuracy:5,bounce:!0,isSwiperList:"true",showScrollbar:!1,onLoadmore:t[1]||(t[1]=(..._)=>n.onLoadMore&&n.onLoadMore(..._)),style:(0,o.normalizeStyle)([{background:r.listBg},{position:"relative"}])},[(0,o.createElementVNode)("cell",{ref:"listHeader"},null,512),(0,o.createElementVNode)("cell",null,[n.isSelf&&n.showMoment&&i.user.hide_profile?((0,o.openBlock)(),(0,o.createBlock)(s,{key:0,text:n.$str("user.home.hideTabContentTips",{tabName:n.$str("momentsLower")}),type:"desc",style:{"font-size":"20rpx",margin:"24rpx 26rpx 0 24rpx","border-radius":"8rpx"}},null,8,["text"])):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("cell",null,[n.showPublish?((0,o.openBlock)(),(0,o.createBlock)(c,{key:0,onClick:n.clickPublish,src:"s/dynamic/publish.png",w:"172rpx",h:"172rpx",style:{position:"fixed",right:"0",bottom:"30rpx"}},null,8,["onClick"])):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("cell",null,[i.unreadMy.moment?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,class:"view-unread"},[(0,o.createElementVNode)("view",{onClick:t[0]||(t[0]=(..._)=>n.clickUnread&&n.clickUnread(..._)),class:"view-info",style:(0,o.normalizeStyle)({background:n.viewInfoBg})},[(0,o.createVNode)(c,{src:n.unreadTypeSrc,w:"28rpx",h:"28rpx"},null,8,["src"]),(0,o.createElementVNode)("u-text",{class:"text"},(0,o.toDisplayString)(n.unreadStr),1),(0,o.createVNode)(u,{type:"right",size:"24rpx",color:"#FFFFFF"})],4)])):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("cell",{style:(0,o.normalizeStyle)([{position:"relative"},{paddingBottom:`${r.avatarMomentPB}px`}])},[n.avatarMomentInfo?((0,o.openBlock)(),(0,o.createBlock)(p,{key:0,item:n.avatarMomentInfo,"dy-gift":i.moment.gift,"is-avatar":!0,onOnClickPost:n.onClickPost,onOnPostBtnSize:n.onPostBtnSize,style:{position:"relative"}},null,8,["item","dy-gift","onOnClickPost","onOnPostBtnSize"])):(0,o.createCommentVNode)("",!0),n.showPostBtnTips?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:1,ref:"postBtnTips",class:"post-tips",style:(0,o.normalizeStyle)({width:`${r.sW-15}px`,opacity:n.postBtnTipsOp})},[(0,o.createElementVNode)("view",{class:"pos"},[(0,o.createElementVNode)("view",{class:"text-content"},[(0,o.createElementVNode)("view",{class:"triangle",style:(0,o.normalizeStyle)({right:`${r.triangleRight}px`,background:n.viewPostTipsBg})},null,4),(0,o.createElementVNode)("view",{class:"center content",style:(0,o.normalizeStyle)({background:n.viewPostTipsBg})},[(0,o.createVNode)(s,{text:n.$str("moment.postAvatarTips"),style:{"font-size":"20rpx","line-height":"28rpx",color:"#FFFFFF","margin-right":"10rpx","max-width":"350rpx"}},null,8,["text"]),(0,o.createVNode)(c,{src:"s/dynamic/close_post_tips.png",onClick:n.clickClosePostTips,w:"24rpx",h:"24rpx",style:{padding:"10rpx","margin-right":"-10rpx"}},null,8,["onClick"])],4)])])],4)):(0,o.createCommentVNode)("",!0)],4),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(r.publishObj,(_,F)=>((0,o.openBlock)(),(0,o.createElementBlock)("cell",{key:F},[(0,o.createVNode)(p,{item:_,"is-publish":F},null,8,["item","is-publish"])]))),128)),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(r.listObj,(_,F,x)=>((0,o.openBlock)(),(0,o.createElementBlock)("cell",{key:F},[(0,o.createVNode)(p,{item:_,"dy-gift":i.moment.gift},null,8,["item","dy-gift"])]))),128)),(0,o.createElementVNode)("cell",null,[n.emptyInfo?((0,o.openBlock)(),(0,o.createBlock)(f,{key:0,imgUrl:n.emptyInfo.img_url,tip:n.emptyInfo.tip,style:(0,o.normalizeStyle)({marginTop:`${n.emptyMTop}`})},null,8,["imgUrl","tip","style"])):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("header",null,[(0,o.createElementVNode)("view",null,[r.loadMore!="nomore"?((0,o.openBlock)(),(0,o.createBlock)(m,{key:0,status:r.loadMore},null,8,["status"])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("view",{style:(0,o.normalizeStyle)({height:`${n.bottomH}px`})},null,4)])])],36)}var xs=L(ef,[["render",tf],["styles",[Qd]]]),nf={duration:{"":{position:"absolute",bottom:0,height:"48rpx",flexDirection:"row",justifyContent:"space-between",alignItems:"center",backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.4))",paddingTop:0,paddingRight:"16rpx",paddingBottom:0,paddingLeft:"16rpx"}},text:{".duration ":{fontSize:"20rpx",color:"#FFFFFF"}},"hide-mask":{"":{position:"absolute",top:0,left:0}}},rf={components:{LImg:R},emits:["onClick"],props:{videoShow:{type:Object,default(){return null}},width:{type:String,default:""},height:{type:String,default:""},showMask:{type:[Boolean,Number],default:!1}},computed:{durationStr(){return nt(this.videoShow.duration)},isReviewing(){return this.videoShow.status==fn.UNDER_REVIEW}},methods:{$str:l,clickThis(e){e&&e.stopPropagation(),this.$emit("onClick")}}};function af(e,t,i,a,r,n){let s=S((0,o.resolveDynamicComponent)("l-img"),R);return(0,o.openBlock)(),(0,o.createElementBlock)("view",{class:"view-base",style:(0,o.normalizeStyle)({width:i.width,height:i.height}),renderWhole:!0},[i.videoShow?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,onClick:t[0]||(t[0]=(0,o.withModifiers)((...c)=>n.clickThis&&n.clickThis(...c),["stop"])),class:"video"},[(0,o.createVNode)(s,{onClick:(0,o.withModifiers)(n.clickThis,["stop"]),src:i.videoShow.cover_url,w:i.width,h:i.height},null,8,["onClick","src","w","h"]),i.showMask?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,class:"hide-mask",style:(0,o.normalizeStyle)({width:`${i.width}`,height:`${i.height}`})},[(0,o.createVNode)(s,{"need-style":1,src:"s/privacy/masker_list.png",w:i.width,h:i.height,style:{"background-color":"#181818"}},null,8,["w","h"])],4)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("view",{class:"duration",style:(0,o.normalizeStyle)({width:i.width})},[n.isReviewing?((0,o.openBlock)(),(0,o.createElementBlock)("u-text",{key:0,style:{"font-size":"20rpx",color:"rgba(255, 255, 255, 0.7)"}},(0,o.toDisplayString)(n.$str("underReview")),1)):((0,o.openBlock)(),(0,o.createElementBlock)("u-text",{key:1})),(0,o.createElementVNode)("u-text",{class:"text"},(0,o.toDisplayString)(n.durationStr),1)],4)])):((0,o.openBlock)(),(0,o.createBlock)(s,{key:1,src:"s/pub/video_show_none_1.png","need-style":1,onClick:(0,o.withModifiers)(n.clickThis,["stop"]),w:i.width,h:i.height},null,8,["onClick","w","h"])),(0,o.createVNode)(s,{onClick:(0,o.withModifiers)(n.clickThis,["stop"]),src:"s/pub/video_show_label.png",w:"116rpx",h:"32rpx",style:{position:"absolute",left:"16rpx",top:"16rpx"}},null,8,["onClick"])],4)}var sf=L(rf,[["render",af],["styles",[nf]]]),of={"center-between":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},"view-base":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"view-mask":{"":{position:"absolute",bottom:0,height:"48rpx",backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.4))",paddingTop:0,paddingRight:"16rpx",paddingBottom:0,paddingLeft:"16rpx"}},"view-click":{"":{position:"absolute",top:0}},"hide-mask":{"":{position:"absolute",top:0,left:0}}},lf={components:{LImg:R},emits:["onClick"],props:{info:{type:Object,default(){return{}}},width:{type:String,default:""},height:{type:String,default:""},showMask:{type:[Boolean,Number],default:!1}},computed:{placeW(){return this.width.split("px")[0]},durationStr(){return nt(this.info.duration)},isReviewing(){return this.info.status==fn.UNDER_REVIEW}},methods:{$str:l,clickThis(e){e&&e.stopPropagation(),this.$emit("onClick")}}};function cf(e,t,i,a,r,n){let s=S((0,o.resolveDynamicComponent)("l-img"),R);return(0,o.openBlock)(),(0,o.createElementBlock)("view",{class:"view-base",style:(0,o.normalizeStyle)({width:i.width,height:i.height}),renderWhole:!0},[(0,o.createVNode)(s,{src:i.info.small_url||i.info.cover_url,w:i.width,h:i.height,"place-type":1,"place-w":`${n.placeW-10}px`,style:{position:"absolute"}},null,8,["src","w","h","place-w"]),i.showMask?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,class:"hide-mask",style:(0,o.normalizeStyle)({width:`${i.width}`,height:`${i.height}`})},[i.showMask?((0,o.openBlock)(),(0,o.createBlock)(s,{key:0,src:"s/privacy/masker_list.png","need-style":1,w:i.width,h:i.height,style:{"background-color":"#181818"}},null,8,["w","h"])):(0,o.createCommentVNode)("",!0)],4)):(0,o.createCommentVNode)("",!0),i.info.media_type==2?((0,o.openBlock)(),(0,o.createBlock)(s,{key:1,src:"s/user/video_play.png",w:"48rpx",h:"48rpx"})):(0,o.createCommentVNode)("",!0),n.isReviewing||i.info.media_type==2?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:2,class:"view-mask center-between",style:(0,o.normalizeStyle)({width:i.width})},[n.isReviewing?((0,o.openBlock)(),(0,o.createElementBlock)("u-text",{key:0,style:{"font-size":"20rpx",color:"rgba(255, 255, 255, 0.7)"}},(0,o.toDisplayString)(n.$str("underReview")),1)):((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:1})),i.info.media_type==2?((0,o.openBlock)(),(0,o.createElementBlock)("u-text",{key:2,style:{"font-size":"20rpx",color:"#FFFFFF"}},(0,o.toDisplayString)(n.durationStr),1)):(0,o.createCommentVNode)("",!0)],4)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("view",{onClick:t[0]||(t[0]=(0,o.withModifiers)((...c)=>n.clickThis&&n.clickThis(...c),["stop"])),class:"view-click",style:(0,o.normalizeStyle)({width:i.width,height:i.height})},null,4)],4)}var uf=L(lf,[["render",cf],["styles",[of]]]),pf={"view-photo-sham":{"":{flexDirection:"row",backgroundColor:"rgba(255,234,233,0.9)",paddingTop:"12rpx",paddingRight:0,paddingBottom:"12rpx",paddingLeft:0}},"text-tip":{"":{flex:1,color:"#FF3B30",fontSize:"24rpx",marginLeft:"8rpx"}}},df={components:{LImg:R},props:{},data(){return{sW:getApp().globalData.window.width}},computed:{textWidth(){return this.sW-uni.upx2px(70)}},methods:{$str:l}};function ff(e,t,i,a,r,n){let s=S((0,o.resolveDynamicComponent)("l-img"),R);return(0,o.openBlock)(),(0,o.createElementBlock)("view",{style:(0,o.normalizeStyle)({width:`${r.sW}px`}),class:"view-photo-sham",renderWhole:!0},[(0,o.createVNode)(s,{src:"s/user/photo_sham.png",w:"26rpx",h:"26rpx",style:{"margin-left":"20rpx"}}),(0,o.createElementVNode)("u-text",{style:(0,o.normalizeStyle)({width:`${n.textWidth}px`}),class:"text-tip"},(0,o.toDisplayString)(n.$str("user.noRealPhotoTip")),5)],4)}var mf=L(df,[["render",ff],["styles",[pf]]]);function hf(e){return new Promise(t=>{let i=e.tempFilePaths,a=0,r=[];for(let n=0,s=i.length;n<s;n++)uni.getImageInfo({src:i[n],success:c=>{r.push(hs(c.path,c.width,c.height,c.type)),a+=1,a==s&&t(r)},fail:()=>{a+=1,a==s&&t(r)}})})}function gf(e){return gs(e.tempFilePath,e.coverPath,e.width,e.height,parseInt(e.duration))}function ys(e){let t={id:wn(),mediaList:e};uni.$emit("event_album_publish",t)}function _f(e,t,i){let a=4;if(ne()&&t<=a){fe(l("tips"),l("photoNoLess",{number:a}),"",l("gotIt"));return}let r=e.media_type==T.PHOTO?l("photoLower"):l("videoLower");me(l("tips"),l("sureDeleteMediaTips",{mediaStr:r}),()=>{let n={from_type:1,media_ids:[e.media_id]};N.request("/coach/media/del",n,!0).then(s=>{i()})})}function yf(e,t){me(l("tips"),l("edit.setAsVideoShowTips"),()=>{let i={media_id:e.media_id,view_type:2};N.request("/coach/media/new-set",i,!0).then(()=>{t()})})}var bf={list:{"":{flex:1}}},wf={components:{UnrealAlbumTip:mf,MView:ze,MText:oe,MIcon:Gi,EmptyPage:Gt,Uploading:Vn,MediaCell:uf,VideoShowCell:sf},emits:["onAction"],props:{parentId:{type:String,default:""},user:{type:Object,default(){return{}}},album:{type:Object,default(){return{}}},showUnrealAlbum:{type:Boolean,default:!1}},data(){return{list:[],showUpload:!1,sW:getApp().globalData.window.width,safeB:getApp().globalData.window.safeBottom,hideTipsW:getApp().globalData.window.width-uni.upx2px(40),cellW:parseInt((getApp().globalData.window.width-2)/3),loadMore:"loading",cellH:parseInt((getApp().globalData.window.width-2)/3*1.32),listBg:getApp().globalData.themeObj.color.bg1_1}},watch:{"album.list":{handler(e,t){y(e)?this.list=[]:this.list=e},deep:!0,immediate:!0},"album.last_time":{handler(e,t){this.lastTime=e},deep:!0},"album.has_more":{handler(e,t){this.loadMore=e?"loading":"nomore"},deep:!0}},computed:{isSelf(){return this.user.uid==getApp().globalData.uid},hStyle(){return{height:`${this.cellH}px`}},videoShow(){return this.album.video_show||null},emptyInfo(){return!this.album.empty||this.videoShow?null:this.album.empty},showMask(){return this.isSelf&&this.user.hide_profile},bottomH(){return this.isSelf?this.safeB:this.safeB+20+uni.upx2px(100)}},methods:{$str:l,setScrollRef(e){this.$refs.list.setSpecialEffects&&this.$refs.list.setSpecialEffects({id:this.parentId,headerHeight:e})},clickVideoShow(){if(this.isSelf)V("/pagesPub/edit/video-show");else{let e=$e(!0,this.videoShow.cover_url,this.videoShow.url,this.videoShow.cover_url);kt([e],0)}},clickAdd(e){e&&e.stopPropagation(),ie("/pagesDialog/home-action-sheet",{type:2,is_upload:1},"homeActionData",{},{onPhotoListener:this.onPhotoListener,onVideoListener:this.onVideoListener})},clickMedia(e){let t=this.list[e];if(y(t))return;if(!this.isSelf){this.previewAlbum(e);return}if(y(t.media_id)){this.previewAlbum(e);return}let i=[{key:"preview",title:l("preview"),index:e},{key:"delete",title:l("delete"),index:e}];t.media_type==T.VIDEO&&i.unshift({key:"set_video_show",title:l("edit.setToVideoShow"),index:e}),ie("/pagesDialog/home-action-sheet",{is_upload:0},"homeActionData",{action:i},{onActionClick:this.onActionListener})},onLoadMore(){this.loadMore!="nomore"&&(this.loadMore="loading",this.loadDataAlbum())},onPhotoListener(e){hf(e).then(t=>{this.list=[...t,...this.list],this.showUpload=!0,ys(t.reverse())})},onVideoListener(e){let t=gf(e);this.list.unshift(t),this.showUpload=!0,ys([t])},onActionListener(e){let t=e.index,i=this.list[t];e.key=="delete"?_f(i,this.album.count,()=>{this.list.splice(t,1),this.$emit("onAction",1)}):e.key=="preview"?this.previewAlbum(t):e.key=="set_video_show"&&yf(i,()=>{uni.$emit("event_refresh_my")})},onPublishFinish(e){this.showUpload=!1,uni.$emit("event_refresh_my")},previewAlbum(e){let t=[],i=e;for(let a=0,r=this.list.length;a<r;a++){let n=this.list[a],s=n.media_type==T.VIDEO,c=null;s?c=$e(s,n.small_url,n.url,n.cover_url):c=$e(s,n.small_url,n.url),t.push(c)}!this.isSelf&&this.album.video_show&&(t.unshift($e(!0,this.videoShow.small_url||this.videoShow.cover_url,this.videoShow.url,this.videoShow.cover_url)),i=e+1),kt(t,i)},loadDataAlbum(){let e={last_time:this.lastTime,coach_uid:this.user.uid};N.request("/coach/media/list",e,!1,!0).then(t=>{for(let i=0,a=t.data.list.length;i<a;i++)this.list.push(t.data.list[i]);this.loadMore=t.data.has_more?"loading":"nomore",typeof t.data.last_time!="undefined"&&(this.lastTime=t.data.last_time),this.$refs.list.resetLoadmore()},()=>{this.$refs.list.resetLoadmore()})}},created(){this.loadMore=this.album.has_more?"loading":"nomore",uni.$on("event_album_publish_finish",this.onPublishFinish)},unmounted(){uni.$off("event_album_publish_finish",this.onPublishFinish)}};function xf(e,t,i,a,r,n){let s=(0,o.resolveComponent)("uploading"),c=(0,o.resolveComponent)("m-text"),u=(0,o.resolveComponent)("unreal-album-tip"),p=(0,o.resolveComponent)("m-icon"),f=(0,o.resolveComponent)("m-view"),m=(0,o.resolveComponent)("video-show-cell"),_=(0,o.resolveComponent)("media-cell"),F=S((0,o.resolveDynamicComponent)("empty-page"),Wt),x=S((0,o.resolveDynamicComponent)("uni-load-more"),Ct);return(0,o.openBlock)(),(0,o.createElementBlock)("waterfall",{ref:"list",class:"list",offsetAccuracy:5,bounce:!0,isSwiperList:"true",showScrollbar:!1,columnCount:3,columnGap:1,columnWidth:r.cellW,onLoadmore:t[0]||(t[0]=(...M)=>n.onLoadMore&&n.onLoadMore(...M)),style:(0,o.normalizeStyle)({background:r.listBg})},[r.showUpload?((0,o.openBlock)(),(0,o.createElementBlock)("header",{key:0},[(0,o.createVNode)(s)])):(0,o.createCommentVNode)("",!0),n.isSelf&&i.user.hide_profile?((0,o.openBlock)(),(0,o.createElementBlock)("header",{key:1},[(0,o.createVNode)(c,{type:"desc",text:n.$str("user.home.hideTabContentTips",{tabName:n.$str("photosLower")}),style:(0,o.normalizeStyle)([{width:`${r.hideTipsW}px`},{"font-size":"20rpx",color:"#666666",margin:"24rpx 26rpx","border-radius":"8rpx"}])},null,8,["text","style"])])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("header",null,[i.showUnrealAlbum?((0,o.openBlock)(),(0,o.createBlock)(u,{key:0})):(0,o.createCommentVNode)("",!0)]),n.isSelf?((0,o.openBlock)(),(0,o.createElementBlock)("cell",{key:2},[(0,o.createVNode)(f,{type:"bg3",onClick:n.clickAdd,style:(0,o.normalizeStyle)([{"margin-bottom":"1px","flex-direction":"row","align-items":"center","justify-content":"center"},n.hStyle])},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(p,{onClick:n.clickAdd,type:"plusempty",size:"60rpx","mode-type":"title"},null,8,["onClick"])]),_:1},8,["onClick","style"])])):(0,o.createCommentVNode)("",!0),n.isSelf||n.videoShow?((0,o.openBlock)(),(0,o.createElementBlock)("cell",{key:3},[(0,o.createVNode)(m,{onOnClick:n.clickVideoShow,"video-show":n.videoShow,width:`${r.cellW}px`,height:`${r.cellH}px`,"show-mask":n.showMask,style:{"margin-bottom":"1px"}},null,8,["onOnClick","video-show","width","height","show-mask"])])):(0,o.createCommentVNode)("",!0),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(r.list,(M,v)=>((0,o.openBlock)(),(0,o.createElementBlock)("cell",{key:`album${v}`},[(0,o.createVNode)(_,{onOnClick:O=>n.clickMedia(v),info:M,width:`${r.cellW}px`,height:`${r.cellH}px`,"show-mask":n.showMask,style:{"margin-bottom":"1px"}},null,8,["onOnClick","info","width","height","show-mask"])]))),128)),(0,o.createElementVNode)("header",null,[(0,o.createElementVNode)("view",null,[!n.isSelf&&n.emptyInfo?((0,o.openBlock)(),(0,o.createBlock)(F,{key:0,imgUrl:n.emptyInfo.img_url,tip:n.emptyInfo.tip,style:(0,o.normalizeStyle)([{width:`${r.sW}px`},{"margin-top":"290rpx"}])},null,8,["imgUrl","tip","style"])):(0,o.createCommentVNode)("",!0),r.loadMore!="nomore"?((0,o.openBlock)(),(0,o.createBlock)(x,{key:1,status:r.loadMore},null,8,["status"])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("view",{style:(0,o.normalizeStyle)({height:`${n.bottomH}px`})},null,4)])])],44,["columnWidth"])}var ks=L(wf,[["render",xf],["styles",[bf]]]),kf={list:{"":{flex:1,position:"relative"}},center:{"":{flexDirection:"row",alignItems:"center"}},"center-align":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"center-between":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},"view-tip":{"":{marginTop:"40rpx",marginLeft:"24rpx"}},"view-content":{"":{marginTop:"20rpx",flexWrap:"wrap",flexDirection:"row"}},"view-item":{".view-content ":{flexDirection:"column",alignItems:"center",justifyContent:"center"}},"border-right":{".view-content ":{borderRightWidth:1,borderColor:"rgba(0,0,0,0.1)"}},"border-bottom":{".view-content ":{borderBottomWidth:1,borderColor:"rgba(0,0,0,0.1)"}}},Af={emits:["onClickSendGift"],components:{MBtn:ji,MText:oe,MView:ze,EmptyPage:Gt,LImg:R},props:{parentId:{type:String,default:""},user:{type:Object,default(){return{}}},gift:{type:Object,default(){return{gift_receive:{},gift_send:{}}}}},data(){return{sW:getApp().globalData.window.width,giftW:parseInt((getApp().globalData.window.width-2)/3),safeB:getApp().globalData.window.safeBottom,hideTipsW:getApp().globalData.window.width-uni.upx2px(40),listBg:getApp().globalData.themeObj.color.bg1_1}},computed:{showReceive(){return!y(this.gift.gift_receive.list)},showSend(){return!y(this.gift.gift_send.list)},receiveListBIndex(){return this.getListBIndex(this.gift.gift_receive.list)},sentListBIndex(){return this.getListBIndex(this.gift.gift_send.list)},isEmpty(){return!this.showReceive&&!this.showSend},isSelf(){return this.user.uid==getApp().globalData.uid},emptyInfo(){return this.gift.empty||null},emptyMTop(){let e=y(this.sendGiftTips)?290:198;return this.isSelf&&(e-=90),e+"rpx"},sendGiftTips(){if(this.isSelf||ne())return!1;{let e=Fe(this.user.sex);return l("user.home.sendGiftTips",{her:e,her_2:e})}},bottomH(){return this.isSelf?this.safeB:this.safeB+20+uni.upx2px(100)}},methods:{$str:l,clickSendGift(){this.$emit("onClickSendGift")},setScrollRef(e){this.$refs.list.setSpecialEffects&&this.$refs.list.setSpecialEffects({id:this.parentId,headerHeight:e})},getListBIndex(e){if(y(e))return-1;let t=e.length/3;return t%1===0?3*(t-1)-1:3*parseInt(t)-1},onclick(e){J("log","at pages/main/user-page-gift.vue:169","onclick")}}};function vf(e,t,i,a,r,n){let s=(0,o.resolveComponent)("m-text"),c=(0,o.resolveComponent)("m-btn"),u=(0,o.resolveComponent)("m-view"),p=S((0,o.resolveDynamicComponent)("l-img"),R),f=S((0,o.resolveDynamicComponent)("empty-page"),Wt);return(0,o.openBlock)(),(0,o.createElementBlock)("list",{ref:"list",class:"list",offsetAccuracy:5,bounce:!0,isSwiperList:"true",showScrollbar:!1,style:(0,o.normalizeStyle)({background:r.listBg})},[n.sendGiftTips?((0,o.openBlock)(),(0,o.createElementBlock)("cell",{key:0},[(0,o.createVNode)(u,{type:"bg3",style:{padding:"12rpx 20rpx","border-radius":"8rpx",margin:"28rpx 24rpx 0 24rpx","flex-direction":"row","align-items":"center","justify-content":"space-between"}},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(s,{text:n.sendGiftTips,style:{"font-size":"20rpx"}},null,8,["text"]),(0,o.createVNode)(c,{onClick:n.clickSendGift,text:n.$str("send"),style:{height:"40rpx","line-height":"40rpx","border-radius":"8rpx","font-size":"20rpx",padding:"0 16rpx","margin-left":"20rpx"}},null,8,["onClick","text"])]),_:1})])):(0,o.createCommentVNode)("",!0),n.showReceive?((0,o.openBlock)(),(0,o.createElementBlock)("cell",{key:1},[(0,o.createElementVNode)("view",{class:"center view-tip"},[(0,o.createVNode)(u,{type:"title",style:{width:"4rpx",height:"20rpx","border-radius":"4rpx","margin-right":"8rpx"}}),(0,o.createVNode)(s,{type:"title",text:n.$str("received")+"("+i.gift.gift_receive.count+")",style:{"font-size":"24rpx","font-weight":"500","line-height":"24rpx"}},null,8,["text"])])])):(0,o.createCommentVNode)("",!0),n.isSelf&&n.showReceive&&i.user.hide_rec_gift?((0,o.openBlock)(),(0,o.createElementBlock)("cell",{key:2},[(0,o.createVNode)(s,{type:"desc",text:n.$str("user.home.hideGiftTips"),style:(0,o.normalizeStyle)([{width:`${r.hideTipsW}px`},{"font-size":"20rpx",padding:"24rpx 26rpx"}])},null,8,["text","style"])])):(0,o.createCommentVNode)("",!0),n.showReceive?((0,o.openBlock)(),(0,o.createElementBlock)("cell",{key:3},[(0,o.createElementVNode)("view",{class:"view-content",style:(0,o.normalizeStyle)({width:`${r.sW}px`})},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(i.gift.gift_receive.list,(m,_)=>((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:`r${_}`,class:(0,o.normalizeClass)(["view-item",[(_+1)%3!=0?"border-right":"",_<=n.receiveListBIndex?"border-bottom":""]]),style:(0,o.normalizeStyle)({width:`${r.giftW}px`})},[(0,o.createVNode)(p,{src:m.icon,"use-cache":!0,w:"128rpx",h:"128rpx"},null,8,["src"]),(0,o.createVNode)(s,{text:m.title,style:{"font-size":"24rpx"}},null,8,["text"]),(0,o.createVNode)(s,{type:"barBtn",text:"x"+m.count,style:{"font-size":"20rpx","margin-top":"12rpx","margin-bottom":"12rpx"}},null,8,["text"])],6))),128))],4)])):(0,o.createCommentVNode)("",!0),n.showSend?((0,o.openBlock)(),(0,o.createElementBlock)("cell",{key:4},[(0,o.createElementVNode)("view",{class:"center view-tip"},[(0,o.createVNode)(u,{type:"title",style:{width:"4rpx",height:"20rpx","border-radius":"4rpx","margin-right":"8rpx"}}),(0,o.createVNode)(s,{type:"title",text:n.$str("sent")+"("+i.gift.gift_send.count+")",style:{"font-size":"24rpx","font-weight":"500","line-height":"24rpx"}},null,8,["text"])])])):(0,o.createCommentVNode)("",!0),n.isSelf&&n.showSend&&i.user.hide_send_gift?((0,o.openBlock)(),(0,o.createElementBlock)("cell",{key:5},[(0,o.createVNode)(s,{type:"desc",text:n.$str("user.home.hideGiftTips"),style:(0,o.normalizeStyle)([{width:`${r.hideTipsW}px`},{"font-size":"20rpx",padding:"24rpx 26rpx"}])},null,8,["text","style"])])):(0,o.createCommentVNode)("",!0),n.showSend?((0,o.openBlock)(),(0,o.createElementBlock)("cell",{key:6},[(0,o.createElementVNode)("view",{class:"view-content",style:(0,o.normalizeStyle)({width:`${r.sW}px`})},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(i.gift.gift_send.list,(m,_)=>((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:`r${_}`,class:(0,o.normalizeClass)(["view-item",[(_+1)%3!=0?"border-right":"",_<=n.sentListBIndex?"border-bottom":""]]),style:(0,o.normalizeStyle)({width:`${r.giftW}px`})},[(0,o.createVNode)(p,{src:m.icon,"use-cache":!0,w:"128rpx",h:"128rpx"},null,8,["src"]),(0,o.createVNode)(s,{text:m.title,style:{"font-size":"24rpx"}},null,8,["text"]),(0,o.createVNode)(s,{type:"barBtn",text:"x"+m.count,style:{"font-size":"20rpx","margin-top":"12rpx","margin-bottom":"12rpx"}},null,8,["text"])],6))),128))],4)])):(0,o.createCommentVNode)("",!0),n.isEmpty&&n.emptyInfo?((0,o.openBlock)(),(0,o.createElementBlock)("cell",{key:7},[(0,o.createVNode)(f,{imgUrl:n.emptyInfo.img_url,tip:n.emptyInfo.tip,style:(0,o.normalizeStyle)([{"margin-left":"40px"},{width:`${r.sW-80}px`,marginTop:`${n.emptyMTop}`}])},null,8,["imgUrl","tip","style"])])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("cell",{style:(0,o.normalizeStyle)({height:`${n.bottomH}px`})},null,4)],4)}var As=L(Af,[["render",vf],["styles",[kf]]]);var Ue=q(Z()),Sf={"center-align":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"refresh-wrap":{"":{height:"80rpx",color:"#777777"}},loading:{".refresh-wrap ":{width:"50rpx",height:"50rpx",color:"#777777",position:"absolute"}}},Cf={props:{bgValue:{type:String,default:""}},emits:["onRefresh"],data(){return{sW:getApp().globalData.window.width,isAndroid:T.isAndroid,isRefreshing:!1,showPullLoading:!1}},computed:{bgColor(){return T.isAndroid?this.bgValue?{backgroundColor:getApp().globalData.themeObj.color[this.bgValue]}:{}:{}}},methods:{onPullingDown(){this.showPullLoading||(this.showPullLoading=!0)},onRefresh(){if(this.isRefreshing)return;this.isRefreshing||(this.isRefreshing=!0);let e=new Date().getTime();this.$emit("onRefresh",e)},refreshFinish(e){let t=new Date().getTime()-e;t<1e3?setTimeout(()=>{this.isRefreshing=!1,this.showPullLoading=!1},1e3-t):(this.isRefreshing=!1,this.showPullLoading=!1)}}};function Tf(e,t,i,a,r,n){return(0,Ue.openBlock)(),(0,Ue.createElementBlock)("refresh",{onRefresh:t[0]||(t[0]=(...s)=>n.onRefresh&&n.onRefresh(...s)),onPullingdown:t[1]||(t[1]=(...s)=>n.onPullingDown&&n.onPullingDown(...s)),display:r.isRefreshing?"show":"hide",class:"center-align refresh-wrap",style:(0,Ue.normalizeStyle)([{width:`${r.sW}px`},n.bgColor])},[r.showPullLoading&&!r.isAndroid?((0,Ue.openBlock)(),(0,Ue.createElementBlock)("loading-indicator",{key:0,class:"loading"})):(0,Ue.createCommentVNode)("",!0),(0,Ue.createElementVNode)("loading-indicator",{class:"loading"})],44,["display"])}var vs=L(Cf,[["render",Tf],["styles",[Sf]]]);var d_=q(Ji());var Xe=getApp().globalData.window,Ss=parseInt(Xe.width*.61),Df={data(){return{sW:Xe.width,pageHeight:Xe.height-Xe.statusBarHeight-Xe.navBarHeight,headerH:Ss,_headHeight:Ss-Xe.statusBarHeight-Xe.navBarHeight,pageId:"page",enableRefresh:T.isAndroid,refCellBar:!1,refCellTop:!1,showLoading:!1,isSelf:!0,tabIndex:1,uid:0,user:{},moment:{},album:{},gift:{gift_receive:{},gift_send:{}},giftFromType:Ve.MSG,adminUserDetail:ya(),useBg1_1:!0,isUserHome:!0,saveInfo:"",isUnrealAlbum:!1,notifyDialogTimeout:!1,isBlacked:0,isDeleted:0,deleteFollowBottom:Xe.safeBottom+10,deleteFollowWidth:Xe.width-40,deleteFollow:0}},computed:{listStyle(){return T.isAndroid?{marginTop:"-4px"}:{}},showBottomAction(){return!(this.isSelf||this.isDeleted||ne()&&this.user.is_auth)},emptyInfo(){return this.isDeleted?{img_url:"s/pub/empty_gift_1.png",tip:l("accountHasBeenDeleted")}:this.isBlacked?{img_url:"s/pub/empty_gift_1.png",tip:l("emptyContent")}:{}}},methods:{$str:l,clickDeleteFollow(){ai(this.uid,this.deleteFollow),this.deleteFollow=0;let e=K(`user_home_${this.uid}`);e.is_follow&&(e.is_follow=0,Q(`user_home_${this.uid}`,e))},clickManager(e){e&&e.stopPropagation(),na(this.uid)},handleOpenMsg(){let e=!0,t="",i=getCurrentPages(),a=i.length;for(let r=0,n=a;r<n;r++){let s=i[r].$page;if(s.path=="/pagesMsg/pri/chat"){s.options.uid==this.uid&&(e=!1,t=r);break}}e?Mt(this.user):Rt(a-t-1),Ra("personal_click",!0,!0)},setTabIndex(e){this.isDeleted||this.isBlacked||(typeof e.tabIdx!="undefined"?this.tabIndex=Number(e.tabIdx):this.album.count>0?this.tabIndex=1:this.moment.count>0?this.tabIndex=0:this.gift.count>0&&(this.tabIndex=2))},onGiftAnimEnd(e){if(!getApp().globalData.appCRE||e!="user_home")return;let t=Fe(this.user.sex);me(l("tips"),l("user.home.afterSendGiftTips",{her:t,her_2:t}),()=>{this.handleOpenMsg()},()=>{this.handleDialogNotify()},l("chat"))},onSendGift(e){if(!e.gift_source&&!Je(e.price))return;let t={gift_id:e.gift_id,to_uid:this.user.uid,from_type:this.giftFromType,number:e.count};e.gift_source&&(t.gift_source=e.gift_source),N.request("/chat/gift/send",t,!1).then(i=>{at(i.data.balance),i.data.from_bag&&Bt()}),as(e,!0,"user_home")},onClickSendGift(){this.$refs.giftSheet.open(this.user.uid)},onFollow(e,t){e==this.uid&&(this.user.is_follow=t,this.user.is_follow&&this.handleDialogNotify())},onClickTab(e){this.switchTab(e)},onListScroll(e){let t=e.contentOffset.y;this.refCellBar&&this.refCellBar.changeBarStatus(t),!T.isAndroid&&(this.refCellTop&&this.refCellTop.changeBgStatus(t),!this.showLoading&&t>=80&&(this.showLoading=!0,this.onRefresh(new Date().getTime())))},onRefresh(e){this.init(()=>{T.isAndroid?this.$refs.refRefresh.refreshFinish(e):ta(e,1e3).then(()=>{this.showLoading=!1})})},onSwiperChange(e){let t=e.target.current||e.detail.current;this.switchTab(t)},onUserUpdate(e){this.user[e.key]=e.value},switchTab(e){this.isDeleted||this.isBlacked||(this.pageList[e].setScrollRef(this._headHeight),this.tabIndex!==e&&(this.tabIndex=e))},handleDialogNotify(){Pi()&&(this.notifyDialogTimeout||(this.notifyDialogTimeout=setTimeout(()=>{clearTimeout(this.notifyDialogTimeout),P("appDialog/addDialogNotify",!1)},2e3)))},handleMomentCount(e){e.uid==this.user.uid&&(this.moment.count+=e.count)},handleDelMoment(e){e.uid==this.user.uid&&this.moment.count<=0&&this.init()},parseData(e,t=!1){if(e.cancellation&&e.cancellation==1){this.deleteFollow=e.is_follow,this.isDeleted=1;return}this.user=e.user_info,this.isSelf=getApp().globalData.uid==this.user.uid;let i=this.isBlacked;this.isBlacked=e.is_blacked&&e.is_blacked==1,!this.isBlacked&&(this.moment=e.moments,this.album=e.album,this.album&&this.album.unreal_album&&(this.isUnrealAlbum=!0),this.gift=e.gift,this.$nextTick(()=>{i&&(this.initRefViews(),this.switchTab(this.tabIndex))}))},initRefViews(){this.pageList=[this.$refs.pageMoment,this.$refs.pageAlbum,this.$refs.pageGift],this.refCellBar=this.$refs.userCellBar,this.refCellTop=this.$refs.userCellTop},init(e){N.request("/home/info",{target_uid:this.uid},!1,!0).then(t=>{if(J("error","at pages/main/index.mixin.js:247","---> \u4E2A\u4EBA\u4E3B\u9875 response ",t),this.parseData(t.data),Q(`user_home_${this.uid}`,t.data),typeof e=="function"&&e(),t.data.user_info){let i=JSON.parse(JSON.stringify(t.data.user_info));i.small_avatar&&(i.avatar=i.small_avatar),oi(i,!0)}},()=>{typeof e=="function"&&e()})}},onReady(){this.initRefViews(),this.saveInfo&&this.switchTab(this.tabIndex)},onLoad(e){this.uid=e.uid,this.saveInfo=K(`user_home_${this.uid}`),this.saveInfo&&(this.parseData(this.saveInfo,!0),this.setTabIndex(e)),this.init(()=>{this.saveInfo||(this.setTabIndex(e),this.switchTab(this.tabIndex))}),uni.$on("event_refresh_user",()=>{this.initData()}),uni.$on("event_follow",this.onFollow),uni.$on("gift_anim_end",this.onGiftAnimEnd),uni.$on("event_change_moment_count",this.handleMomentCount),uni.$on("event_after_del_moment",this.handleDelMoment)},onUnload(){this.notifyDialogTimeout&&clearTimeout(this.notifyDialogTimeout),uni.$off("event_refresh_user"),uni.$off("event_follow",this.onFollow),uni.$off("gift_anim_end",this.onGiftAnimEnd),uni.$off("event_change_moment_count",this.handleMomentCount),uni.$off("event_after_del_moment",this.handleDelMoment)}},Lf={center:{"":{flexDirection:"row",alignItems:"center"}},"center-align":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"view-base":{"":{position:"fixed"}},"view-bg":{"":{width:"80rpx",height:"80rpx",borderRadius:"40rpx"}},"bg-red":{"":{backgroundColor:"#FF4477"}},"bg-white":{"":{backgroundColor:"#FFFFFF"}},"view-follow":{"":{flex:1,flexDirection:"row",paddingTop:0,paddingRight:"44rpx",paddingBottom:0,paddingLeft:"44rpx"}},"btn-follow":{".view-follow ":{flex:1,height:"96rpx",backgroundImage:"linear-gradient(to right, #FF00BD, #FF5954)",borderRadius:"12rpx"}},"text-def":{"":{fontSize:"30rpx",fontWeight:"500",color:"#FFFFFF"}},"view-video":{"":{flex:1,height:"96rpx",backgroundImage:"linear-gradient(to right, #FF00BD, #FF5954)",borderRadius:"12rpx"}}},If={components:{UniIcons:le,LImg:R},props:{user:{type:Object,default(){return{}}},isBlacked:{type:Boolean,default:!1}},data(){return{isAndroid:T.isAndroid,sW:getApp().globalData.window.width,safeB:getApp().globalData.window.safeBottom}},computed:{isFollow(){return this.user.is_follow},shadowStyle(){return{boxShadow:this.isAndroid?"":"0 10px 20px 0 rgba(0,0,0,0.2)"}}},methods:{$str:l,clickMsg(e){e&&e.stopPropagation(),Cn()?uni.showActionSheet({itemList:["Chat as a user","Chat as assistant"],success:t=>{t.tapIndex==0?this.handleOpenMsg():t.tapIndex==1&&V("/pagesAdmin/msg/chat-kefu",{id:this.user.uid})}}):this.handleOpenMsg()},clickVideo(e){if(e&&e.stopPropagation(),getApp().globalData.appCRE){if(this.checkHasBlacked())return;St(this.user,this.user.video,xt.HOME);return}this.user.is_fans&&this.isFollow?St(this.user,this.user.video,xt.HOME):fe(l("tips"),l("callNeedFollow"),"",l("gotIt"))},clickFollow(e){e&&e.stopPropagation(),!this.checkHasBlacked()&&ai(this.user.uid,this.user.is_follow)},handleOpenMsg(){try{let e=!0,t="",i=getCurrentPages(),a=i.length;for(let r=0,n=a;r<n;r++){let s=i[r].$page;if(s.path=="/pagesMsg/pri/chat"){s.options.uid==this.user.uid&&(e=!1,t=r);break}}e?Mt(this.user):Rt(a-t-1)}catch(e){J("error","at pages/main/coms/user-cell-action.vue:127","error catch handleOpenMsg ",e)}},checkHasBlacked(){if(this.isBlacked){let e=Fe(this.user.sex);return fe(l("tips"),l("haveBeenBlockedTips",{sex:e}),"",l("gotIt")),!0}return!1}}};function Ef(e,t,i,a,r,n){let s=S((0,g.resolveDynamicComponent)("l-img"),R);return(0,g.openBlock)(),(0,g.createElementBlock)("view",{class:"center view-base",style:(0,g.normalizeStyle)({width:`${r.sW}px`,bottom:`${r.safeB+10}`,paddingBottom:"10px"}),renderWhole:!0},[(0,g.createElementVNode)("view",{class:"center-align view-bg bg-red",style:(0,g.normalizeStyle)([{"margin-left":"40rpx","margin-right":"48rpx"},n.shadowStyle]),elevation:"4px"},[(0,g.createVNode)(s,{onClick:n.clickMsg,src:"s/user/home_msg.png",w:"80rpx",h:"80rpx"},null,8,["onClick"])],4),n.isFollow?((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:0,onClick:t[0]||(t[0]=(...c)=>n.clickVideo&&n.clickVideo(...c)),class:"view-video center-align",elevation:"4px",style:(0,g.normalizeStyle)(n.shadowStyle)},[(0,g.createVNode)(s,{onClick:n.clickVideo,src:"s/user/home_video_s.png",w:"80rpx",h:"80rpx"},null,8,["onClick"]),(0,g.createElementVNode)("u-text",{class:"text-def",style:{"margin-left":"8rpx"}},(0,g.toDisplayString)(n.$str("videoChat")),1)],4)):((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:1,class:"center-align view-bg bg-red",elevation:"4px",style:(0,g.normalizeStyle)(n.shadowStyle)},[(0,g.createVNode)(s,{onClick:n.clickVideo,src:"s/user/home_video.png",w:"80rpx",h:"80rpx"},null,8,["onClick"])],4)),n.isFollow?((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:3,class:"center-align view-bg bg-white",elevation:"4px",style:(0,g.normalizeStyle)([{"margin-right":"40rpx","margin-left":"48rpx"},n.shadowStyle])},[(0,g.createVNode)(s,{onClick:n.clickFollow,src:"s/user/follow_s_1.png",w:"64rpx",h:"64rpx"},null,8,["onClick"])],4)):((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:2,class:"view-follow"},[(0,g.createElementVNode)("view",{onClick:t[1]||(t[1]=(...c)=>n.clickFollow&&n.clickFollow(...c)),class:"btn-follow center-align",elevation:"4px",style:(0,g.normalizeStyle)(n.shadowStyle)},[(0,g.createVNode)(s,{onClick:n.clickFollow,src:"s/user/follow_n_1.png",w:"42rpx",h:"40rpx",style:{"margin-right":"8rpx"}},null,8,["onClick"]),(0,g.createElementVNode)("u-text",{class:"text-def"},(0,g.toDisplayString)(n.$str("follow")),1)],4)]))],4)}var Ff=L(If,[["render",Ef],["styles",[Lf]]]),Of={center:{"":{flexDirection:"row",alignItems:"center"}},"center-align":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"delete-title":{"":{fontSize:"40rpx",color:"#FFFFFF",fontWeight:"600"}},"delete-view":{"":{backgroundColor:"rgba(0,0,0,0.6)",position:"absolute",top:0}},"view-avatar":{"":{width:"184rpx",height:"184rpx",marginLeft:"26rpx"}}},Rf={components:{MText:oe,AvatarImg:Ge,LImg:R},props:{viewH:{type:Number,default:0}},data(){return{sw:getApp().globalData.window.width,headerH:getApp().globalData.window.width*.61}},methods:{$str:l}};function Nf(e,t,i,a,r,n){let s=S((0,g.resolveDynamicComponent)("l-img"),R);return(0,g.openBlock)(),(0,g.createElementBlock)("view",{style:(0,g.normalizeStyle)([{width:`${r.sw}px`,height:`${i.viewH}px`},{position:"relative"}]),renderWhole:!0},[(0,g.createVNode)(s,{src:"fit-in/600x600/avatar/default/men_noface.png",w:`${r.sw}px`,h:`${i.viewH}px`,style:{opacity:".2"}},null,8,["w","h"]),(0,g.createElementVNode)("view",{class:"delete-view",style:(0,g.normalizeStyle)([{"flex-direction":"column-reverse"},{height:`${i.viewH}px`,width:`${r.sw}px`}])},[(0,g.createElementVNode)("view",{style:{height:"114rpx",width:"100rpx"}}),(0,g.createElementVNode)("view",{class:"center"},[(0,g.createElementVNode)("view",{class:"view-avatar center-align"},[(0,g.createVNode)(s,{src:"fit-in/100x100/avatar/default/men_noface.png",w:"140rpx",h:"140rpx",radius:"70rpx",border:"2rpx solid #999999","place-w":"116rpx"})]),(0,g.createElementVNode)("u-text",{class:"delete-title"},(0,g.toDisplayString)(n.$str("deleted")),1)])],4)],4)}var Mf=L(Rf,[["render",Nf],["styles",[Of]]]),Pf={page:{"":{flex:1}},tabs:{"":{flexDirection:"column",overflow:"hidden"}},"tab-view":{"":{flex:1}},"swiper-item":{"":{flex:1,flexDirection:"column"}},"view-manager":{"":{position:"fixed",right:"40rpx",bottom:200,height:"80rpx",width:"80rpx",zIndex:200,borderRadius:50,backgroundColor:"#C570FF",flexDirection:"row",alignItems:"center",justifyContent:"center"}},"center-align":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"delete-follow-btn":{"":{position:"fixed",bottom:"60rpx",lineHeight:"92rpx",textAlign:"center",borderWidth:"2rpx",borderStyle:"solid",borderColor:"#666666",borderRadius:"12rpx",fontSize:"30rpx",marginLeft:20}}},Bf={mixins:[Ea,ss,Df],components:{UserCellDelete:Mf,EmptyPage:Gt,CallEvaluate:Wn,UserCellBar:bs,UserCellTop:ws,UserCellTab:zn,NvueRefresh:vs,UserPageMoment:xs,UserPageAlbum:ks,UserPageGift:As,UserCellAction:Ff,GiftSheet:Un}};function Uf(e,t,i,a,r,n){let s=S((0,g.resolveDynamicComponent)("g-page-meta"),Ia),c=(0,g.resolveComponent)("nvue-refresh"),u=S((0,g.resolveDynamicComponent)("notice-view"),Pa),p=S((0,g.resolveDynamicComponent)("gift-sheet"),Un),f=S((0,g.resolveDynamicComponent)("uni-icons"),le),m=(0,g.resolveComponent)("user-cell-action"),_=(0,g.resolveComponent)("user-cell-bar"),F=S((0,g.resolveDynamicComponent)("msg-notify"),Qa),x=(0,g.resolveComponent)("user-cell-delete"),M=(0,g.resolveComponent)("user-cell-top"),v=S((0,g.resolveDynamicComponent)("empty-page"),Wt),O=(0,g.resolveComponent)("user-cell-tab"),W=(0,g.resolveComponent)("user-page-moment"),z=(0,g.resolveComponent)("swiper-item"),C=(0,g.resolveComponent)("user-page-album"),Y=(0,g.resolveComponent)("user-page-gift"),Le=(0,g.resolveComponent)("swiper"),Ye=S((0,g.resolveDynamicComponent)("call-evaluate"),Wn);return(0,g.openBlock)(),(0,g.createElementBlock)("view",null,[(0,g.createVNode)(s,{useBg1_1:e.useBg1_1},null,8,["useBg1_1"]),(0,g.createElementVNode)("list",{id:e.pageId,bounce:!0,isSwiperList:"true",onScroll:t[2]||(t[2]=(...ue)=>e.onListScroll&&e.onListScroll(...ue)),class:"page",style:(0,g.normalizeStyle)([e.pageBg,e.listStyle])},[e.enableRefresh?((0,g.openBlock)(),(0,g.createBlock)(c,{key:0,ref:"refRefresh",onOnRefresh:e.onRefresh},null,8,["onOnRefresh"])):(0,g.createCommentVNode)("",!0),(0,g.createElementVNode)("cell",null,[(0,g.createVNode)(u,{id:"/pages/main/user-home"})]),(0,g.createElementVNode)("cell",null,[(0,g.createVNode)(p,{ref:"giftSheet","from-type":e.giftFromType,onOnSendGift:e.onSendGift},null,8,["from-type","onOnSendGift"])]),(0,g.createElementVNode)("cell",null,[e.adminUserDetail?((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:0,class:"view-manager",onClick:t[0]||(t[0]=(...ue)=>e.clickManager&&e.clickManager(...ue))},[(0,g.createVNode)(f,{onClick:e.clickManager,type:"eye",color:"#FFFFFF",size:"50rpx"},null,8,["onClick"])])):(0,g.createCommentVNode)("",!0)]),e.showBottomAction?((0,g.openBlock)(),(0,g.createElementBlock)("cell",{key:1},[(0,g.createVNode)(m,{user:e.user,"is-blacked":e.isBlacked},null,8,["user","is-blacked"])])):(0,g.createCommentVNode)("",!0),(0,g.createElementVNode)("cell",null,[(0,g.createVNode)(_,{ref:"userCellBar",diffScrollH:e._headHeight,showLoading:e.showLoading,user:e.user,onOnUserUpdate:e.onUserUpdate,isUserHome:e.isUserHome,"is-deleted":e.isDeleted},null,8,["diffScrollH","showLoading","user","onOnUserUpdate","isUserHome","is-deleted"])]),(0,g.createElementVNode)("cell",null,[(0,g.createVNode)(F,{id:"/pages/main/user-home"})]),(0,g.createElementVNode)("cell",null,[(0,g.createElementVNode)("view",{id:"head",class:"header",style:(0,g.normalizeStyle)({height:`${e.headerH}px`})},[e.isDeleted?((0,g.openBlock)(),(0,g.createBlock)(x,{key:0,viewH:e.headerH},null,8,["viewH"])):((0,g.openBlock)(),(0,g.createBlock)(M,{key:1,ref:"userCellTop",user:e.user,viewH:e.headerH},null,8,["user","viewH"]))],4)]),(0,g.createElementVNode)("cell",null,[e.isDeleted||e.isBlacked?((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:0,class:"center-align",style:{"margin-top":"350rpx"}},[(0,g.createVNode)(v,{imgUrl:e.emptyInfo.img_url,tip:e.emptyInfo.tip,style:(0,g.normalizeStyle)({width:`${e.sW}px`})},null,8,["imgUrl","tip","style"])])):((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:1,class:"tabs",style:(0,g.normalizeStyle)("height:"+e.pageHeight+"px")},[(0,g.createVNode)(O,{curIndex:e.tabIndex,momentCount:e.moment.count,albumCount:e.album.count,giftCount:e.gift.count,onOnClickTab:e.onClickTab},null,8,["curIndex","momentCount","albumCount","giftCount","onOnClickTab"]),(0,g.createVNode)(Le,{class:"tab-view",current:e.tabIndex,duration:300,onChange:e.onSwiperChange},{default:(0,g.withCtx)(()=>[(0,g.createVNode)(z,{class:"swiper-item"},{default:(0,g.withCtx)(()=>[(0,g.createVNode)(W,{ref:"pageMoment",parentId:e.pageId,user:e.user,moment:e.moment},null,8,["parentId","user","moment"])]),_:1}),(0,g.createVNode)(z,{class:"swiper-item"},{default:(0,g.withCtx)(()=>[(0,g.createVNode)(C,{ref:"pageAlbum",parentId:e.pageId,user:e.user,album:e.album,"show-unreal-album":e.isUnrealAlbum},null,8,["parentId","user","album","show-unreal-album"])]),_:1}),(0,g.createVNode)(z,{class:"swiper-item"},{default:(0,g.withCtx)(()=>[(0,g.createVNode)(Y,{ref:"pageGift",parentId:e.pageId,user:e.user,gift:e.gift,onOnClickSendGift:e.onClickSendGift},null,8,["parentId","user","gift","onOnClickSendGift"])]),_:1})]),_:1},8,["current","onChange"])],4))]),e.deleteFollow?((0,g.openBlock)(),(0,g.createElementBlock)("cell",{key:2},[(0,g.createElementVNode)("u-text",{onClick:t[1]||(t[1]=(...ue)=>e.clickDeleteFollow&&e.clickDeleteFollow(...ue)),class:"delete-follow-btn",style:(0,g.normalizeStyle)({width:`${e.deleteFollowWidth}px`,bottom:`${e.deleteFollowBottom}px`})},(0,g.toDisplayString)(e.$str("unfollow")),5)])):(0,g.createCommentVNode)("",!0),(0,g.createElementVNode)("cell",null,[(0,g.createVNode)(Ye,{id:"/pages/main/user-home","no-navbar":!0})])],44,["id"])])}var Vi=L(Bf,[["render",Uf],["styles",[Pf]]]);var Yn=plus.webview.currentWebview();if(Yn){let e=parseInt(Yn.id),t="pages/main/user-home",i={};try{i=JSON.parse(Yn.__query__)}catch(r){}Vi.mpType="page";let a=Vue.createPageApp(Vi,{$store:getApp({allowDefault:!0}).$store,__pageId:e,__pagePath:t,__pageQuery:i});a.provide("__globalStyles",Vue.useCssStyles([...__uniConfig.styles,...Vi.styles||[]])),a.mount("#root")}})();
/*!
  * @intlify/shared v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/message-resolver v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/runtime v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/message-compiler v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/core-base v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * vue-i18n v9.1.9
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */
