"use weex:vue";

if (typeof Promise !== 'undefined' && !Promise.prototype.finally) {
  Promise.prototype.finally = function(callback) {
    const promise = this.constructor
    return this.then(
      value => promise.resolve(callback()).then(() => value),
      reason => promise.resolve(callback()).then(() => {
        throw reason
      })
    )
  }
};

if (typeof uni !== 'undefined' && uni && uni.requireGlobal) {
  const global = uni.requireGlobal()
  ArrayBuffer = global.ArrayBuffer
  Int8Array = global.Int8Array
  Uint8Array = global.Uint8Array
  Uint8ClampedArray = global.Uint8ClampedArray
  Int16Array = global.Int16Array
  Uint16Array = global.Uint16Array
  Int32Array = global.Int32Array
  Uint32Array = global.Uint32Array
  Float32Array = global.Float32Array
  Float64Array = global.Float64Array
  BigInt64Array = global.BigInt64Array
  BigUint64Array = global.BigUint64Array
};


(()=>{var un=Object.create;var ea=Object.defineProperty;var cn=Object.getOwnPropertyDescriptor;var pn=Object.getOwnPropertyNames;var gn=Object.getPrototypeOf,fn=Object.prototype.hasOwnProperty;var ta=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var mn=(e,t,a,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of pn(t))!fn.call(e,n)&&n!==a&&ea(e,n,{get:()=>t[n],enumerable:!(i=cn(t,n))||i.enumerable});return e};var Se=(e,t,a)=>(a=e!=null?un(gn(e)):{},mn(t||!e||!e.__esModule?ea(a,"default",{value:e,enumerable:!0}):a,e));var z=(e,t,a)=>new Promise((i,n)=>{var r=o=>{try{l(a.next(o))}catch(u){n(u)}},s=o=>{try{l(a.throw(o))}catch(u){n(u)}},l=o=>o.done?i(o.value):Promise.resolve(o.value).then(r,s);l((a=a.apply(e,t)).next())});var Me=ta((Dl,aa)=>{aa.exports=Vue});var ct=ta((yl,ia)=>{ia.exports=uni.Vuex});var D=Se(Me()),Na=Se(ct());function wa(e){return weex.requireModule(e)}function L(e,t,...a){uni.__log__?uni.__log__(e,t,...a):console[e].apply(console,[...a,t])}var dn="dev",Ra,Oa,Ma,va,$a;Ra="https://ztest1.candychat.link",va="https://mtest2.candychat.link",$a="https://atest3.267girl.com",Oa="https://pic2.candychat.link/",Ma="https://pic3.candychat.link/";var _n={wv:"13.2.0",ENV:dn,apiHost:Ra,ossPath:Oa,pApiHost:va,oApiHost:$a,ossPicPath:Ma,zT:3,appId:plus.runtime.appid,appV:parseInt(plus.runtime.version.split(".").join("")),OSS_PATH_V:1,OSS_PIC_PATH_V:1,API_HOST_V:1,isAndroid:plus.os.name=="Android",PHOTO:1,VIDEO:2,VOICE:3,TXT:4,SYSTEM_ID:1e7,M_TEXT:1,M_VOICE:2,M_IMG:3,M_GIFT:5,M_NOTICE:6,M_CALL:8,M_RECOMMEND_USER:11,M_RECOMMEND_CLUB:12,M_VIDEO:18,M_GIFT_ASK:21,M_NOTICE_SYS:22,M_EXPRESSION:23,M_LETTER:24,M_PAID_PHOTO:25,M_PAID_VIDEO:26,M_MATCH_SUCCESS:27,M_N_DEF:100,M_N_AUDIT:103,M_N_VIP:104,M_N_RECHARGE:105,M_N_CLUB_AUDIT_REJECT:106,M_N_CLUB_AUDIT:107,M_N_GREETING_AUDIT:115,M_N_SYS_NOTICE:116,M_N_CALL:117,M_N_COOPERATE:118,M_N_WITHDRAW:119,M_N_REPORT_AUDIT:120,M_N_IMG:121,M_N_PRIVACY_CALL:122,M_N_WITHDRAW_NOTICE:123,M_N_WITH_MEDIA:124,M_N_MONITOR:202,M_C_RECHARGE:1001,M_C_CALL_TEXT_AUDIO:1002,M_CHAT_PRI:1,M_CHAT_CLUB:2,M_CHAT_ASS:3,M_CHAT_NOTICE:4,M_CHAT_NOTIFY:5,M_CHAT_CLUB_NOTICE:6,PAY_TYPE_SUCCESS:0,PAY_TYPE_FAIL:1,PAY_TYPE_CANCEL:2,PAY_TYPE_NOT_EXIST:3,PAY_TYPE_NOT_ALLOW:4,PAY_TYPE_ERROR:5,MATCH_PRICE:10},S=_n;var ge={FIND:0,USER:1,MSG:2,MY:3},Ve={FIND:"/pages/user/index",MSG:"/pages/msg/index",CALL:"/pages/call-history/index",USER:"/pages/user/index",MY:"/pages/my/index"};var Pa={AGORA:"agora",DB:"db",MESSAGE:"message",AVATAR:"avatar",REPORT:"report",FEEDBACK:"feedback",WITHDRAW:"withdraw",CLUB:"club",BANNED:"banned",WARNING:"warning",ALBUM:"album",AUTH:"auth",LOG:"log"};var hn={en:{title:"English",language:"en",code:"en-US"},es:{title:"espa\xF1ol",language:"es",code:"es-ES"},ar:{title:"\u0639\u0631\u0628\u064A",language:"ar",code:"ar-SA"},vi:{title:"Ti\u1EBFng Vi\u1EC7t",language:"vi",code:"vi-VN"},tr:{title:"T\xFCrk\xE7e",language:"tr",code:"tr-TR"},pt:{title:"Portugu\xEAs",language:"pt",code:"pt-PT"}};var An={ACCOUNT:0,LOGIN:1,MESSAGE:2,RECHARGE:6,MSG_SYSTEM:7,DEVICE:8,IP:9,CALL:10,WITHDRAW:11,JOIN_CLUB:14,CREATE_CLUB:15,COACH_LIST:16,SAY_HELLO_MSG:17,GIFT:18,MATCH:19,MOMENT:20,TASK:21,GAME:22,INVITE:23,CERTIFICATION:24,CONSUME:25,NOTIFICATION:26,RANKING_LIST:27};var En={DISBAND:1,CHECK_RESULT:2};var bn=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",fe=e=>bn?Symbol(e):e,Dn=(e,t,a)=>yn({l:e,k:t,s:a}),yn=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),j=e=>typeof e=="number"&&isFinite(e),Sn=e=>Ct(e)==="[object Date]",qe=e=>Ct(e)==="[object RegExp]",Ze=e=>C(e)&&Object.keys(e).length===0;function Tn(e,t){typeof console!="undefined"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}var X=Object.assign;function na(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}var Cn=Object.prototype.hasOwnProperty;function ka(e,t){return Cn.call(e,t)}var W=Array.isArray,Y=e=>typeof e=="function",E=e=>typeof e=="string",k=e=>typeof e=="boolean",q=e=>e!==null&&typeof e=="object",Fa=Object.prototype.toString,Ct=e=>Fa.call(e),C=e=>Ct(e)==="[object Object]",Ln=e=>e==null?"":W(e)||C(e)&&e.toString===Fa?JSON.stringify(e,null,2):String(e);var In=Object.prototype.hasOwnProperty;function Nn(e,t){return In.call(e,t)}var Ke=e=>e!==null&&typeof e=="object",me=[];me[0]={w:[0],i:[3,0],["["]:[4],o:[7]};me[1]={w:[1],["."]:[2],["["]:[4],o:[7]};me[2]={w:[2],i:[3,0],[0]:[3,0]};me[3]={i:[3,0],[0]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};me[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};me[5]={["'"]:[4,0],o:8,l:[5,0]};me[6]={['"']:[4,0],o:8,l:[6,0]};var wn=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Rn(e){return wn.test(e)}function On(e){let t=e.charCodeAt(0),a=e.charCodeAt(e.length-1);return t===a&&(t===34||t===39)?e.slice(1,-1):e}function Mn(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function vn(e){let t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:Rn(t)?On(t):"*"+t}function $n(e){let t=[],a=-1,i=0,n=0,r,s,l,o,u,p,m,_=[];_[0]=()=>{s===void 0?s=l:s+=l},_[1]=()=>{s!==void 0&&(t.push(s),s=void 0)},_[2]=()=>{_[0](),n++},_[3]=()=>{if(n>0)n--,i=4,_[0]();else{if(n=0,s===void 0||(s=vn(s),s===!1))return!1;_[1]()}};function T(){let y=e[a+1];if(i===5&&y==="'"||i===6&&y==='"')return a++,l="\\"+y,_[0](),!0}for(;i!==null;)if(a++,r=e[a],!(r==="\\"&&T())){if(o=Mn(r),m=me[i],u=m[o]||m.l||8,u===8||(i=u[0],u[1]!==void 0&&(p=_[u[1]],p&&(l=r,p()===!1))))return;if(i===7)return t}}var ra=new Map;function ze(e,t){if(!Ke(e))return null;let a=ra.get(t);if(a||(a=$n(t),a&&ra.set(t,a)),!a)return null;let i=a.length,n=e,r=0;for(;r<i;){let s=n[a[r]];if(s===void 0)return null;n=s,r++}return n}function mt(e){if(!Ke(e))return e;for(let t in e)if(Nn(e,t))if(!t.includes("."))Ke(e[t])&&mt(e[t]);else{let a=t.split("."),i=a.length-1,n=e;for(let r=0;r<i;r++)a[r]in n||(n[a[r]]={}),n=n[a[r]];n[a[i]]=e[t],delete e[t],Ke(n[a[i]])&&mt(n[a[i]])}return e}var Pn=e=>e,kn=e=>"",Fn="text",Un=e=>e.length===0?"":e.join(""),Hn=Ln;function sa(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function xn(e){let t=j(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(j(e.named.count)||j(e.named.n))?j(e.named.count)?e.named.count:j(e.named.n)?e.named.n:t:t}function Gn(e,t){t.count||(t.count=e),t.n||(t.n=e)}function Bn(e={}){let t=e.locale,a=xn(e),i=q(e.pluralRules)&&E(t)&&Y(e.pluralRules[t])?e.pluralRules[t]:sa,n=q(e.pluralRules)&&E(t)&&Y(e.pluralRules[t])?sa:void 0,r=b=>b[i(a,b.length,n)],s=e.list||[],l=b=>s[b],o=e.named||{};j(e.pluralIndex)&&Gn(a,o);let u=b=>o[b];function p(b){let I=Y(e.messages)?e.messages(b):q(e.messages)?e.messages[b]:!1;return I||(e.parent?e.parent.message(b):kn)}let m=b=>e.modifiers?e.modifiers[b]:Pn,_=C(e.processor)&&Y(e.processor.normalize)?e.processor.normalize:Un,T=C(e.processor)&&Y(e.processor.interpolate)?e.processor.interpolate:Hn,y=C(e.processor)&&E(e.processor.type)?e.processor.type:Fn,R={list:l,named:u,plural:r,linked:(b,I)=>{let P=p(b)(R);return E(I)?m(I)(P):P},message:p,type:y,interpolate:T,normalize:_};return R}function Ua(e,t,a={}){let{domain:i,messages:n,args:r}=a,s=e,l=new SyntaxError(String(s));return l.code=e,t&&(l.location=t),l.domain=i,l}var Wn="9.1.9",et=-1,la="";function Vn(){return{upper:e=>E(e)?e.toUpperCase():e,lower:e=>E(e)?e.toLowerCase():e,capitalize:e=>E(e)?`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`:e}}var jn,oa=0;function Yn(e={}){let t=E(e.version)?e.version:Wn,a=E(e.locale)?e.locale:"en-US",i=W(e.fallbackLocale)||C(e.fallbackLocale)||E(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:a,n=C(e.messages)?e.messages:{[a]:{}},r=C(e.datetimeFormats)?e.datetimeFormats:{[a]:{}},s=C(e.numberFormats)?e.numberFormats:{[a]:{}},l=X({},e.modifiers||{},Vn()),o=e.pluralRules||{},u=Y(e.missing)?e.missing:null,p=k(e.missingWarn)||qe(e.missingWarn)?e.missingWarn:!0,m=k(e.fallbackWarn)||qe(e.fallbackWarn)?e.fallbackWarn:!0,_=!!e.fallbackFormat,T=!!e.unresolving,y=Y(e.postTranslation)?e.postTranslation:null,R=C(e.processor)?e.processor:null,b=k(e.warnHtmlMessage)?e.warnHtmlMessage:!0,I=!!e.escapeParameter,P=Y(e.messageCompiler)?e.messageCompiler:jn,O=Y(e.onWarn)?e.onWarn:Tn,d=e,w=q(d.__datetimeFormatters)?d.__datetimeFormatters:new Map,Z=q(d.__numberFormatters)?d.__numberFormatters:new Map,de=q(d.__meta)?d.__meta:{};return oa++,{version:t,cid:oa,locale:a,fallbackLocale:i,messages:n,datetimeFormats:r,numberFormats:s,modifiers:l,pluralRules:o,missing:u,missingWarn:p,fallbackWarn:m,fallbackFormat:_,unresolving:T,postTranslation:y,processor:R,warnHtmlMessage:b,escapeParameter:I,messageCompiler:P,onWarn:O,__datetimeFormatters:w,__numberFormatters:Z,__meta:de}}function Lt(e,t,a,i,n){let{missing:r,onWarn:s}=e;if(r!==null){let l=r(e,a,t,n);return E(l)?l:t}else return t}function Fe(e,t,a){let i=e;i.__localeChainCache||(i.__localeChainCache=new Map);let n=i.__localeChainCache.get(a);if(!n){n=[];let r=[a];for(;W(r);)r=ua(n,r,t);let s=W(t)?t:C(t)?t.default?t.default:null:t;r=E(s)?[s]:s,W(r)&&ua(n,r,!1),i.__localeChainCache.set(a,n)}return n}function ua(e,t,a){let i=!0;for(let n=0;n<t.length&&k(i);n++){let r=t[n];E(r)&&(i=Kn(e,t[n],a))}return i}function Kn(e,t,a){let i,n=t.split("-");do{let r=n.join("-");i=qn(e,r,a),n.splice(-1,1)}while(n.length&&i===!0);return i}function qn(e,t,a){let i=!1;if(!e.includes(t)&&(i=!0,t)){i=t[t.length-1]!=="!";let n=t.replace(/!/g,"");e.push(n),(W(a)||C(a))&&a[n]&&(i=a[n])}return i}function ve(e,t,a){let i=e;i.__localeChainCache=new Map,Fe(e,a,t)}function Ce(e){return Ua(e,null,void 0)}var ca=()=>"",Ae=e=>Y(e);function pa(e,...t){let{fallbackFormat:a,postTranslation:i,unresolving:n,fallbackLocale:r,messages:s}=e,[l,o]=dt(...t),u=k(o.missingWarn)?o.missingWarn:e.missingWarn,p=k(o.fallbackWarn)?o.fallbackWarn:e.fallbackWarn,m=k(o.escapeParameter)?o.escapeParameter:e.escapeParameter,_=!!o.resolvedMessage,T=E(o.default)||k(o.default)?k(o.default)?l:o.default:a?l:"",y=a||T!=="",R=E(o.locale)?o.locale:e.locale;m&&zn(o);let[b,I,P]=_?[l,R,s[R]||{}]:Jn(e,l,R,r,p,u),O=l;if(!_&&!(E(b)||Ae(b))&&y&&(b=T,O=b),!_&&(!(E(b)||Ae(b))||!E(I)))return n?et:l;let d=!1,w=()=>{d=!0},Z=Ae(b)?b:Ha(e,l,I,b,O,w);if(d)return b;let de=Zn(e,I,P,o),Q=Bn(de),ee=Xn(e,Z,Q);return i?i(ee):ee}function zn(e){W(e.list)?e.list=e.list.map(t=>E(t)?na(t):t):q(e.named)&&Object.keys(e.named).forEach(t=>{E(e.named[t])&&(e.named[t]=na(e.named[t]))})}function Jn(e,t,a,i,n,r){let{messages:s,onWarn:l}=e,o=Fe(e,i,a),u={},p,m=null,_="translate";for(let T=0;T<o.length&&(p=o[T],u=s[p]||{},(m=ze(u,t))===null&&(m=u[t]),!(E(m)||Y(m)));T++){let y=Lt(e,t,p,r,_);y!==t&&(m=y)}return[m,p,u]}function Ha(e,t,a,i,n,r){let{messageCompiler:s,warnHtmlMessage:l}=e;if(Ae(i)){let u=i;return u.locale=u.locale||a,u.key=u.key||t,u}let o=s(i,Qn(e,a,n,i,l,r));return o.locale=a,o.key=t,o.source=i,o}function Xn(e,t,a){return t(a)}function dt(...e){let[t,a,i]=e,n={};if(!E(t)&&!j(t)&&!Ae(t))throw Ce(14);let r=j(t)?String(t):(Ae(t),t);return j(a)?n.plural=a:E(a)?n.default=a:C(a)&&!Ze(a)?n.named=a:W(a)&&(n.list=a),j(i)?n.plural=i:E(i)?n.default=i:C(i)&&X(n,i),[r,n]}function Qn(e,t,a,i,n,r){return{warnHtmlMessage:n,onError:s=>{throw r&&r(s),s},onCacheKey:s=>Dn(t,a,s)}}function Zn(e,t,a,i){let{modifiers:n,pluralRules:r}=e,l={locale:t,modifiers:n,pluralRules:r,messages:o=>{let u=ze(a,o);if(E(u)){let p=!1,_=Ha(e,o,t,u,o,()=>{p=!0});return p?ca:_}else return Ae(u)?u:ca}};return e.processor&&(l.processor=e.processor),i.list&&(l.list=i.list),i.named&&(l.named=i.named),j(i.plural)&&(l.pluralIndex=i.plural),l}function ga(e,...t){let{datetimeFormats:a,unresolving:i,fallbackLocale:n,onWarn:r}=e,{__datetimeFormatters:s}=e,[l,o,u,p]=_t(...t),m=k(u.missingWarn)?u.missingWarn:e.missingWarn;k(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;let _=!!u.part,T=E(u.locale)?u.locale:e.locale,y=Fe(e,n,T);if(!E(l)||l==="")return new Intl.DateTimeFormat(T).format(o);let R={},b,I=null,P="datetime format";for(let w=0;w<y.length&&(b=y[w],R=a[b]||{},I=R[l],!C(I));w++)Lt(e,l,b,m,P);if(!C(I)||!E(b))return i?et:l;let O=`${b}__${l}`;Ze(p)||(O=`${O}__${JSON.stringify(p)}`);let d=s.get(O);return d||(d=new Intl.DateTimeFormat(b,X({},I,p)),s.set(O,d)),_?d.formatToParts(o):d.format(o)}function _t(...e){let[t,a,i,n]=e,r={},s={},l;if(E(t)){if(!/\d{4}-\d{2}-\d{2}(T.*)?/.test(t))throw Ce(16);l=new Date(t);try{l.toISOString()}catch(o){throw Ce(16)}}else if(Sn(t)){if(isNaN(t.getTime()))throw Ce(15);l=t}else if(j(t))l=t;else throw Ce(14);return E(a)?r.key=a:C(a)&&(r=a),E(i)?r.locale=i:C(i)&&(s=i),C(n)&&(s=n),[r.key||"",l,r,s]}function fa(e,t,a){let i=e;for(let n in a){let r=`${t}__${n}`;i.__datetimeFormatters.has(r)&&i.__datetimeFormatters.delete(r)}}function ma(e,...t){let{numberFormats:a,unresolving:i,fallbackLocale:n,onWarn:r}=e,{__numberFormatters:s}=e,[l,o,u,p]=ht(...t),m=k(u.missingWarn)?u.missingWarn:e.missingWarn;k(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;let _=!!u.part,T=E(u.locale)?u.locale:e.locale,y=Fe(e,n,T);if(!E(l)||l==="")return new Intl.NumberFormat(T).format(o);let R={},b,I=null,P="number format";for(let w=0;w<y.length&&(b=y[w],R=a[b]||{},I=R[l],!C(I));w++)Lt(e,l,b,m,P);if(!C(I)||!E(b))return i?et:l;let O=`${b}__${l}`;Ze(p)||(O=`${O}__${JSON.stringify(p)}`);let d=s.get(O);return d||(d=new Intl.NumberFormat(b,X({},I,p)),s.set(O,d)),_?d.formatToParts(o):d.format(o)}function ht(...e){let[t,a,i,n]=e,r={},s={};if(!j(t))throw Ce(14);let l=t;return E(a)?r.key=a:C(a)&&(r=a),E(i)?r.locale=i:C(i)&&(s=i),C(n)&&(s=n),[r.key||"",l,r,s]}function da(e,t,a){let i=e;for(let n in a){let r=`${t}__${n}`;i.__numberFormatters.has(r)&&i.__numberFormatters.delete(r)}}var er="9.1.9";function he(e,...t){return Ua(e,null,void 0)}var At=fe("__transrateVNode"),Et=fe("__datetimeParts"),bt=fe("__numberParts");fe("__enableEmitter");fe("__disableEmitter");var tr=fe("__setPluralRules");fe("__intlifyMeta");var xa=fe("__injectWithOption"),_a=0;function ha(e){return(t,a,i,n)=>e(a,i,(0,D.getCurrentInstance)()||void 0,n)}function Ga(e,t){let{messages:a,__i18n:i}=t,n=C(a)?a:W(i)?{}:{[e]:{}};if(W(i)&&i.forEach(({locale:r,resource:s})=>{r?(n[r]=n[r]||{},Je(s,n[r])):Je(s,n)}),t.flatJson)for(let r in n)ka(n,r)&&mt(n[r]);return n}var je=e=>!q(e)||W(e);function Je(e,t){if(je(e)||je(t))throw he(20);for(let a in e)ka(e,a)&&(je(e[a])||je(t[a])?t[a]=e[a]:Je(e[a],t[a]))}function ar(e={}){let{__root:t}=e,a=t===void 0,i=k(e.inheritLocale)?e.inheritLocale:!0,n=(0,D.ref)(t&&i?t.locale.value:E(e.locale)?e.locale:"en-US"),r=(0,D.ref)(t&&i?t.fallbackLocale.value:E(e.fallbackLocale)||W(e.fallbackLocale)||C(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:n.value),s=(0,D.ref)(Ga(n.value,e)),l=(0,D.ref)(C(e.datetimeFormats)?e.datetimeFormats:{[n.value]:{}}),o=(0,D.ref)(C(e.numberFormats)?e.numberFormats:{[n.value]:{}}),u=t?t.missingWarn:k(e.missingWarn)||qe(e.missingWarn)?e.missingWarn:!0,p=t?t.fallbackWarn:k(e.fallbackWarn)||qe(e.fallbackWarn)?e.fallbackWarn:!0,m=t?t.fallbackRoot:k(e.fallbackRoot)?e.fallbackRoot:!0,_=!!e.fallbackFormat,T=Y(e.missing)?e.missing:null,y=Y(e.missing)?ha(e.missing):null,R=Y(e.postTranslation)?e.postTranslation:null,b=k(e.warnHtmlMessage)?e.warnHtmlMessage:!0,I=!!e.escapeParameter,P=t?t.modifiers:C(e.modifiers)?e.modifiers:{},O=e.pluralRules||t&&t.pluralRules,d;function w(){return Yn({version:er,locale:n.value,fallbackLocale:r.value,messages:s.value,messageCompiler:function(f){return te=>te.normalize([f])},datetimeFormats:l.value,numberFormats:o.value,modifiers:P,pluralRules:O,missing:y===null?void 0:y,missingWarn:u,fallbackWarn:p,fallbackFormat:_,unresolving:!0,postTranslation:R===null?void 0:R,warnHtmlMessage:b,escapeParameter:I,__datetimeFormatters:C(d)?d.__datetimeFormatters:void 0,__numberFormatters:C(d)?d.__numberFormatters:void 0,__v_emitter:C(d)?d.__v_emitter:void 0,__meta:{framework:"vue"}})}d=w(),ve(d,n.value,r.value);function Z(){return[n.value,r.value,s.value,l.value,o.value]}let de=(0,D.computed)({get:()=>n.value,set:c=>{n.value=c,d.locale=n.value}}),Q=(0,D.computed)({get:()=>r.value,set:c=>{r.value=c,d.fallbackLocale=r.value,ve(d,n.value,c)}}),ee=(0,D.computed)(()=>s.value),ne=(0,D.computed)(()=>l.value),xe=(0,D.computed)(()=>o.value);function Ge(){return Y(R)?R:null}function Be(c){R=c,d.postTranslation=c}function ot(){return T}function xi(c){c!==null&&(y=ha(c)),T=c,d.missing=y}function ye(c,f,te,V,ut,We){Z();let Oe;if(Oe=c(d),j(Oe)&&Oe===et){let[on,El]=f();return t&&m?V(t):ut(on)}else{if(We(Oe))return Oe;throw he(14)}}function Qt(...c){return ye(f=>pa(f,...c),()=>dt(...c),"translate",f=>f.t(...c),f=>f,f=>E(f))}function Gi(...c){let[f,te,V]=c;if(V&&!q(V))throw he(15);return Qt(f,te,X({resolvedMessage:!0},V||{}))}function Bi(...c){return ye(f=>ga(f,...c),()=>_t(...c),"datetime format",f=>f.d(...c),()=>la,f=>E(f))}function Wi(...c){return ye(f=>ma(f,...c),()=>ht(...c),"number format",f=>f.n(...c),()=>la,f=>E(f))}function Vi(c){return c.map(f=>E(f)?(0,D.createVNode)(D.Text,null,f,0):f)}let ji={normalize:Vi,interpolate:c=>c,type:"vnode"};function Yi(...c){return ye(f=>{let te,V=f;try{V.processor=ji,te=pa(V,...c)}finally{V.processor=null}return te},()=>dt(...c),"translate",f=>f[At](...c),f=>[(0,D.createVNode)(D.Text,null,f,0)],f=>W(f))}function Ki(...c){return ye(f=>ma(f,...c),()=>ht(...c),"number format",f=>f[bt](...c),()=>[],f=>E(f)||W(f))}function qi(...c){return ye(f=>ga(f,...c),()=>_t(...c),"datetime format",f=>f[Et](...c),()=>[],f=>E(f)||W(f))}function zi(c){O=c,d.pluralRules=O}function Ji(c,f){let te=E(f)?f:n.value,V=Zt(te);return ze(V,c)!==null}function Xi(c){let f=null,te=Fe(d,r.value,n.value);for(let V=0;V<te.length;V++){let ut=s.value[te[V]]||{},We=ze(ut,c);if(We!=null){f=We;break}}return f}function Qi(c){let f=Xi(c);return f!=null?f:t?t.tm(c)||{}:{}}function Zt(c){return s.value[c]||{}}function Zi(c,f){s.value[c]=f,d.messages=s.value}function en(c,f){s.value[c]=s.value[c]||{},Je(f,s.value[c]),d.messages=s.value}function tn(c){return l.value[c]||{}}function an(c,f){l.value[c]=f,d.datetimeFormats=l.value,fa(d,c,f)}function nn(c,f){l.value[c]=X(l.value[c]||{},f),d.datetimeFormats=l.value,fa(d,c,f)}function rn(c){return o.value[c]||{}}function sn(c,f){o.value[c]=f,d.numberFormats=o.value,da(d,c,f)}function ln(c,f){o.value[c]=X(o.value[c]||{},f),d.numberFormats=o.value,da(d,c,f)}return _a++,t&&((0,D.watch)(t.locale,c=>{i&&(n.value=c,d.locale=c,ve(d,n.value,r.value))}),(0,D.watch)(t.fallbackLocale,c=>{i&&(r.value=c,d.fallbackLocale=c,ve(d,n.value,r.value))})),{id:_a,locale:de,fallbackLocale:Q,get inheritLocale(){return i},set inheritLocale(c){i=c,c&&t&&(n.value=t.locale.value,r.value=t.fallbackLocale.value,ve(d,n.value,r.value))},get availableLocales(){return Object.keys(s.value).sort()},messages:ee,datetimeFormats:ne,numberFormats:xe,get modifiers(){return P},get pluralRules(){return O||{}},get isGlobal(){return a},get missingWarn(){return u},set missingWarn(c){u=c,d.missingWarn=u},get fallbackWarn(){return p},set fallbackWarn(c){p=c,d.fallbackWarn=p},get fallbackRoot(){return m},set fallbackRoot(c){m=c},get fallbackFormat(){return _},set fallbackFormat(c){_=c,d.fallbackFormat=_},get warnHtmlMessage(){return b},set warnHtmlMessage(c){b=c,d.warnHtmlMessage=c},get escapeParameter(){return I},set escapeParameter(c){I=c,d.escapeParameter=c},t:Qt,rt:Gi,d:Bi,n:Wi,te:Ji,tm:Qi,getLocaleMessage:Zt,setLocaleMessage:Zi,mergeLocaleMessage:en,getDateTimeFormat:tn,setDateTimeFormat:an,mergeDateTimeFormat:nn,getNumberFormat:rn,setNumberFormat:sn,mergeNumberFormat:ln,getPostTranslationHandler:Ge,setPostTranslationHandler:Be,getMissingHandler:ot,setMissingHandler:xi,[At]:Yi,[bt]:Ki,[Et]:qi,[tr]:zi,[xa]:e.__injectWithOption}}var It={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};X({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>j(e)||!isNaN(e)}},It);function ir({slots:e},t){return t.length===1&&t[0]==="default"?e.default?e.default():[]:t.reduce((a,i)=>{let n=e[i];return n&&(a[i]=n()),a},{})}function Ba(e,t,a,i){let{slots:n,attrs:r}=t;return()=>{let s={part:!0},l={};e.locale&&(s.locale=e.locale),E(e.format)?s.key=e.format:q(e.format)&&(E(e.format.key)&&(s.key=e.format.key),l=Object.keys(e.format).reduce((m,_)=>a.includes(_)?X({},m,{[_]:e.format[_]}):m,{}));let o=i(e.value,s,l),u=[s.key];W(o)?u=o.map((m,_)=>{let T=n[m.type];return T?T({[m.type]:m.value,index:_,parts:o}):[m.value]}):E(o)&&(u=[o]);let p=X({},r);return E(e.tag)?(0,D.h)(e.tag,p,u):q(e.tag)?(0,D.h)(e.tag,p,u):(0,D.h)(D.Fragment,p,u)}}var nr=["localeMatcher","style","unit","unitDisplay","currency","currencyDisplay","useGrouping","numberingSystem","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","notation","formatMatcher"];X({value:{type:Number,required:!0},format:{type:[String,Object]}},It);var rr=["dateStyle","timeStyle","fractionalSecondDigits","calendar","dayPeriod","numberingSystem","localeMatcher","timeZone","hour12","hourCycle","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"];X({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},It);function Nt(e={}){let t=(0,D.getCurrentInstance)();if(t==null)throw he(16);if(!t.appContext.app.__VUE_I18N_SYMBOL__)throw he(17);let a=(0,D.inject)(t.appContext.app.__VUE_I18N_SYMBOL__);if(!a)throw he(22);let i=a.mode==="composition"?a.global:a.global.__composer,n=Ze(e)?"__i18n"in t.type?"local":"global":e.useScope?e.useScope:"local";if(n==="global"){let l=q(e.messages)?e.messages:{};"__i18nGlobal"in t.type&&(l=Ga(i.locale.value,{messages:l,__i18n:t.type.__i18nGlobal}));let o=Object.keys(l);if(o.length&&o.forEach(u=>{i.mergeLocaleMessage(u,l[u])}),q(e.datetimeFormats)){let u=Object.keys(e.datetimeFormats);u.length&&u.forEach(p=>{i.mergeDateTimeFormat(p,e.datetimeFormats[p])})}if(q(e.numberFormats)){let u=Object.keys(e.numberFormats);u.length&&u.forEach(p=>{i.mergeNumberFormat(p,e.numberFormats[p])})}return i}if(n==="parent"){let l=sr(a,t,e.__useComponent);return l==null&&(l=i),l}if(a.mode==="legacy")throw he(18);let r=a,s=r.__getInstance(t);if(s==null){let l=t.type,o=X({},e);l.__i18n&&(o.__i18n=l.__i18n),i&&(o.__root=i),s=ar(o),lr(r,t),r.__setInstance(t,s)}return s}function sr(e,t,a=!1){let i=null,n=t.root,r=t.parent;for(;r!=null;){let s=e;if(e.mode==="composition")i=s.__getInstance(r);else{let l=s.__getInstance(r);l!=null&&(i=l.__composer),a&&i&&!i[xa]&&(i=null)}if(i!=null||n===r)break;r=r.parent}return i}function lr(e,t,a){(0,D.onMounted)(()=>{},t),(0,D.onUnmounted)(()=>{e.__deleteInstance(t)},t)}function ie(e,t,a=!1,i=null){let n=wt(e,a);i?uni.setStorage({key:n,data:t,success:i}):uni.setStorageSync(n,t)}function F(e,t=!1,a=null){let i=wt(e,t);if(a)uni.getStorage({key:i,success:a});else return uni.getStorageSync(i)}function or(e,t=!1){uni.removeStorage({key:wt(e,t)})}function wt(e,t){return t?`_a_${e}`:`m_${e}`}function ur(e,t){let a=t;return typeof t=="undefined"&&(a=getApp().globalData.uid),F(e+"_"+a)}var Aa={NONE:0,WAITING:1,GAME:2,WEEK_UP:3,JUDGE_ROOM:100};function Wa(e){return e==1?N("himLower"):N("herLower")}function Va(e){return e==1?N("heLower"):N("sheLower")}function h(e){return typeof e=="undefined"||e==null||e==""}function Rt(e){return e===""||e===null}var Le=new Promise(()=>{});function cr(e,t,a=""){if(h(e))return"";let i=[];for(let n in e)i.push(n+"="+e[n]);return a+i.join(t)}function Ie(e){return typeof e=="number"?e+"":typeof e=="boolean"?e?"true":"false":h(e)?"null":typeof e=="object"?JSON.stringify(e):e}function K(e){return e.replace(new RegExp("'","gm"),"\uFF07")}function Ot(e){return e.replace(new RegExp("\uFF07","gm"),"'")}function _e(e){return e<10?"0"+e:e}function ja(e,t=!1,a=!1,i=!0){e<1e10&&(e=e*1e3);var n=new Date(e),r=n.getFullYear(),s=n.getMonth()+1,l=n.getDate(),o=n.getHours(),u=n.getMinutes(),p=n.getSeconds();let m=t?`${r}-`:"";if(a)return m+_e(s)+"-"+_e(l);{let _=i?":"+_e(p):"";return m+_e(s)+"-"+_e(l)+" "+_e(o)+":"+_e(u)+_}}function Ue(e){try{let t=JSON.parse(e);if(typeof t=="object")return t}catch(t){}return!1}function Mt(e,t){for(let a in e)if(t[a]!=null&&e[a]!=t[a])return!0;return!1}function Ya(e){if(!e)return"";let t=JSON.stringify(e);return(typeof t!="string"||t=="{}")&&(t=e.toString()),t}function pr(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var $e={adminAgencyList:"/pagesAdmin/agency/list",adminAgencyDetail:"/pagesAdmin/agency/agency-detail",adminAgencyEdit:"/pagesAdmin/agency/agency-edit",adminAgencyEditPrice:"/pagesAdmin/agency/agency-edit-price",adminAgencyEditWithdrawInfo:"/pagesAdmin/agency/withdraw-info",adminAgencyEditName:"/pagesAdmin/agency/agency-edit-nickname",adminAgencyEditCountry:"/pagesAdmin/agency/agency-edit-country",adminAgencyEditEmail:"/pagesAdmin/agency/agency-edit-email",adminAgencyEditWhatsApp:"/pagesAdmin/agency/agency-edit-whatsapp",adminAgencyInvited:"/pagesAdmin/agency/invited",adminAgencyListSub:"/pagesAdmin/agency/list-sub",adminAgencyGirlsList:"/pagesAdmin/agency/girls-list",adminAgencyGirlsListSub:"/pagesAdmin/agency/girls-list-sub",adminAgencyDataPanel:"/pagesAdmin/agency/data-panel",adminAgencyDataHistory:"/pagesAdmin/agency/data-history",adminAgencyDataDetail:"/pagesAdmin/agency/data-detail",adminAgencyDataDetailTask:"/pagesAdmin/agency/data-detail-task",adminAgencyWithdrawRecords:"/pagesAdmin/agency/withdraw-records",adminAgencyWalletDetail:"/pagesAdmin/agency/wallet-detail",adminAgencyHandleBan:"/pagesAdmin/agency/handle-ban",adminAgencyHandleDelete:"/pagesAdmin/agency/handle-delete",adminAgencySelected:"/pagesAdmin/agency/selected-agency",adminAgencyStatus:"/pagesAdmin/agency/agency-status",adminAgencySubAgencyList:"/pagesAdmin/agency/sub-agency-list",adminAgencyWithdrawGirlList:"/pagesAdmin/agency/withdraw/girl-list",adminAgencyWithdrawSubAgentList:"/pagesAdmin/agency/withdraw/sub-agent-list",adminAgencyWithdrawSettlementDetail:"/pagesAdmin/agency/withdraw/settlement-detail",adminAgencyWithdrawEntiretyDetail:"/pagesAdmin/agency/withdraw/entirety-detail",adminAgencyWithdrawEntiretyDetailReject:"/pagesAdmin/agency/withdraw/entirety-detail-reject",adminAgencyHistoricalMemberList:"/pagesAdmin/agency/historical-list",adminAgencyWithdrawSubAgentDetail:"/pagesAdmin/agency/withdraw/sub-agent-detail",adminAuditSettlement:"/pagesAdmin/auditNew/settlement",adminAuditSettlementSub:"/pagesAdmin/auditNew/settlement-sub",adminAuditWithdraw:"/pagesAdmin/auditNew/withdraw",adminAuditWithdrawCashList:"/pagesAdmin/audit/withdraw-cash-list",adminWallet:"/pagesAdmin/wallet/wallet",adminWalletCoinStat:"/pagesAdmin/wallet/coin-stat",adminAgencyAnchorDetail:"/pagesAdmin/agencyManager/anchor-detail",adminChannelBackend:"/pagesAdmin/channel/channel-backend",adminAuditAgencyAvatar:"/pagesAdmin/auditNew/agency-avatar",adminAuditAgencyName:"/pagesAdmin/auditNew/agency-name",adminAuditCheckAllUnderReview:"/pagesAdmin/audit/check-all-under-review",adminPermissionWebManage:"/pagesAdmin/more/permission-web-manage",adminPermissionList:"/pagesAdmin/more/permission-list",adminPermissionEdit:"/pagesAdmin/more/permission-edit",adminPermissionNewAccount:"/pagesAdmin/more/permission-new-account",adminPermissionChooseRole:"/pagesAdmin/more/permission-choose-role",adminPermissionNewRole:"/pagesAdmin/more/permission-new-role",adminWhiteList:"/pagesAdmin/more/white-list",adminCallEvaluationList:"/pagesAdmin/user/call-evaluation-list",adminWarnDeviceUser:"/pagesAdmin/user/ban-device-user",adminWarnList:"/pagesAdmin/audit/warn-list",adminVersionUseList:"/pagesAdmin/more/version-use-list",adminAuditSettlementReview:"/pagesAdmin/auditNew/settlement-review",adminAuditWithdrawReview:"/pagesAdmin/auditNew/withdraw-review",adminClubApplication:"/pagesAdmin/auditNew/club-application",adminClubModification:"/pagesAdmin/auditNew/club-modification",adminClubManagement:"/pagesAdmin/club/management",warningDialog:"/pagesDialog/warning",homeFilterSexGuide:"/pagesDialog/home-filter-sex-guide",club:"/pagesClub/club",clubReachLevel:"/pagesDialog/club-reach-level",clubStatusRemind:"/pagesDialog/club-status-remind",clubApplyCreate:"/pagesClub/apply-create",clubCreateSuccess:"/pagesClub/create-success",clubRules:"/pagesDialog/club-rules",clubApplicationList:"/pagesClub/application-list",clubWarning:"/pagesDialog/club-warning",clubDisband:"/pagesDialog/club-disband",adminClubManagementSub:"/pagesAdmin/club/management-sub",adminClubTodayNew:"/pagesAdmin/club/club-today-new",adminClubNormal:"/pagesAdmin/club/club-normal",adminClubManageGirls:"/pagesAdmin/club/club-manage-girls",adminClubOperator:"/pagesAdmin/club/club-operator",adminClubDisbanded:"/pagesAdmin/club/club-disbanded",adminClubMemberList:"/pagesAdmin/club/member-new",adminClubInfo:"/pagesAdmin/club/detail-new",adminCLubWarning:"/pagesAdmin/club/warning",adminClubOperatorLog:"/pagesAdmin/club/operation-log",adminClubPersonalApplication:"/pagesAdmin/auditNew/club-application-personal",adminOutsourcingIndex:"/pagesAdmin/more/outsourcing/index",adminOutsourcingPermissionList:"/pagesAdmin/more/outsourcing/permission-list",adminOutsourcingNewRole:"/pagesAdmin/more/outsourcing/new-role",adminOutsourcingEditRole:"/pagesAdmin/more/outsourcing/edit-role",adminRefundDetail:"/pagesAdmin/refund/detail"};function Ka(e,t){let a=$e[e];return a||(a=e),a+cr(t,"&","?")}function J(e,t=null,a=null,i=!1){let n=Ka(e,t),r={url:n,fail:s=>{L("error","at common/route.js:107",`\u6253\u5F00\u9875\u9762\u5931\u8D25${n} ${JSON.stringify(s)}`),getApp().globalData.appCRE&&n.startsWith("/pagesAdmin")&&S.zT!=3&&M.request("/sign/reload-route",{},!0)}};i&&(r=Object.assign(r,i)),a!=null&&(r.events=a),uni.navigateTo(r)}function U(e,t,a,i,n=null){let s={url:Ka(e,t),success(l){l.eventChannel.emit(a,i)}};n!=null&&(s.events=n),uni.navigateTo(s)}function gr(e=1,t="",a=""){let i={delta:e};t&&(i.animationType=t),a&&(i.animationDuration=a),uni.navigateBack(i)}function tt(){let e=[],t=getCurrentPages();for(let a=0,i=t.length;a<i;a++){let n=t[a].$page;e.push(n.path)}return e}function vt(e="path"){let t=getCurrentPages(),a=t[t.length-1];if(!a)return"";let i=a.$page;return i?i[e]:""}function fr(e,t=null,a=null){let n={uid:typeof e=="object"?e.uid:e};a&&(n=Object.assign(n,a)),U("/pagesMsg/pri/chat",n,"priData",{user:e,extra:t})}function qa(){kr(An.GAME,!0)||U("/pages/call/chat-view",{},"callViewData",{isGame:!0})}function $t(e,t){let a=plus.io.convertLocalFileSystemURL("_doc");if(!S.isAndroid)return a+"/";let i=`${e}/`,n=a.indexOf(i),r=t?n+i.length:n;return a.substr(0,r)}function mr(){plus.runtime.restart()}var dr=[{key:"tr",title:"T\xFCrk"},{key:"pt",title:"Portugu\xEAs"}];function Xe(e=!0){let t=F("language_app_key");if(!e||!Rt(t))return t;let a=at(!1),i=hn[a];return h(i)?"en":a}function at(e){let t=uni.getAppBaseInfo().language;return h(t)?e?"en-US":"en":e?t:t.split("-")[0]}function _r(){return F("call_automatic_source_language")||Xe()}function hr(){return!!F("call_automatic_open")}function N(...e){return getApp().globalData.s.state.pubI18n(...e)}function Ar(e){function t(s,l,o){for(;0<o--;)s.push(l)}function a(s,l){return s<<l|s>>>32-l}function i(s,l,o){return s^l^o}function n(s,l){var o=(l&65535)+(s&65535),u=(l>>>16)+(s>>>16)+(o>>>16);return(u&65535)<<16|o&65535}var r="0123456789abcdef";return function(s){for(var l=[],o=s.length*4,u,p=0;p<o;p++)u=s[p>>2]>>(3-p%4)*8,l.push(r.charAt(u>>4&15)+r.charAt(u&15));return l.join("")}(function(s,l){var o,u,p,m,_,T=s.length,y=1732584193,R=4023233417,b=2562383102,I=271733878,P=3285377520,O=[];t(O,1518500249,20),t(O,1859775393,20),t(O,2400959708,20),t(O,3395469782,20),s[l>>5]|=128<<24-l%32,s[(l+65>>9<<4)+15]=l;for(var d=0;d<T;d+=16){o=y,u=R,p=b,m=I,_=P;for(var w=0,Z=[];w<80;w++){Z[w]=w<16?s[w+d]:a(Z[w-3]^Z[w-8]^Z[w-14]^Z[w-16],1);var de=function(Q,ee,ne,xe,Ge){var Be=(Ge&65535)+(Q&65535)+(ee&65535)+(ne&65535)+(xe&65535),ot=(Ge>>>16)+(Q>>>16)+(ee>>>16)+(ne>>>16)+(xe>>>16)+(Be>>>16);return(ot&65535)<<16|Be&65535}(w<20?function(Q,ee,ne){return Q&ee^~Q&ne}(u,p,m):w<40?i(u,p,m):w<60?function(Q,ee,ne){return Q&ee^Q&ne^ee&ne}(u,p,m):i(u,p,m),_,O[w],Z[w],a(o,5));_=m,m=p,p=a(u,30),u=o,o=de}y=n(y,o),R=n(R,u),b=n(b,p),I=n(I,m),P=n(P,_)}return[y,R,b,I,P]}(function(s){for(var l=[],o=255,u=s.length*8,p=0;p<u;p+=8)l[p>>5]|=(s.charCodeAt(p/8)&o)<<24-p%32;return l}(e).slice(),e.length*8))}function it(e,t){uni.saveFile({tempFilePath:t}).then(a=>{if(!a||!a.savedFilePath)return;let i=Ar(e);ie(`img_${i}`,a.savedFilePath),Er("tempFile success")})}function Er(e,t){L("error","at common/cache.js:118",`cache ${e}`,t)}function Pt(e,t,a){return new Promise(i=>{let n=e;n.startsWith("_doc")&&(n=plus.io.convertLocalFileSystemURL(n)),getApp().globalData.pluginImageBrowser.getVideoCover({url:n},r=>{br(`getVideoCover ${r}`),i(r)})})}function br(e,t){L("error","at comExtend/plugin-image-browser.js:90",`preview media ${e}`,t)}var re={CANDY_CHAT_I:"__UNI__CB903B1",CANDY_CHAT_A:"__UNI__564E31A",CHAT_NOW_A:"__UNI__DB0D401",CHAT_NOW_DEV:"__UNI__DEED62E",HOT_FACE_A:"__UNI__0D44E11",HOT_FACE_DEV:"__UNI__58DBD61",LOVE_SKY:"__UNI__0EE5E5E",DEV:"__UNI__3932C1F",DEV2:"__UNI__9C66D76"};function kt(){let e=plus.runtime.appid,t,a,i,n,r,s,l,o;switch(e){case re.CANDY_CHAT_I:case re.CANDY_CHAT_A:t="Candy Chat",a="https://apps.apple.com/us/app/id1596210708",i="s/logo/CandyChat.png",n="Fanfanzhijiao Network Technology Co., Ltd.",r="fanfanzhijiao2021@163.com",s="https://sites.google.com/view/candy-chat-terms-policy/terms-of-use?authuser=0",l="https://sites.google.com/view/candy-chat-terms-policy/privacy-policy?authuser=0",o="s/pub/sys_notice_bg_candy_chat.png";break;case re.CHAT_NOW_A:case re.CHAT_NOW_DEV:t="Chat Now",a="https://apps.apple.com/us/app/id1596210708",i="s/logo/ChatNow.png",n="Fanfanzhijiao Network Technology Co., Ltd.",r="atree0120@gmail.com",s="https://sites.google.com/view/chats-now/privacy-policy",l="https://sites.google.com/view/chats-now/user-agreement?authuser=0",o="s/pub/sys_notice_bg_chat_now.png";break;case re.HOT_FACE_A:case re.HOT_FACE_DEV:t="HotFace",a="https://apps.apple.com/us/app/id1596210708",i="s/logo/HotFace.png",n="Fanfanzhijiao Network Technology Co., Ltd.",r="atree0120@gmail.com",s="https://sites.google.com/view/meu-agreement/user-agreement?authuser=0",l="https://sites.google.com/view/meu-agreement/privacy-policy?authuser=0",o="s/pub/sys_notice_bg_hot_face.png";break;case re.LOVE_SKY:t="LoveSky",a="",i="s/logo/lovesky.png",n="Fanfanzhijiao Network Technology Co., Ltd.",r="fanfanzhijiao2021@163.com",s="https://sites.google.com/view/lovesky-terms-of-use/terms-of-use?authuser=0",l="https://sites.google.com/view/lovesky-privacy-policy/privacy-policy?authuser=0";break;case re.DEV:case re.DEV2:t="Candy Chat Dev",a="https://apps.apple.com/us/app/id1596210708",i="s/logo/qialiao@3x.png",n="Liuyi Cool Technology Co., Ltd.",r="support_matchstar@163.com",s="https://sites.google.com/view/lovesky-terms-of-use/terms-of-use?authuser=0",l="https://sites.google.com/view/lovesky-privacy-policy/privacy-policy?authuser=0",o="s/pub/sys_notice_bg_candy_chat.png";break}return{name:t,iosStore:a,logo:i,cName:n,cMail:r,agreement:s,privacy:l,sysNoticeBg:o}}function Dr(){return getApp().globalData.pluginTool.vpnConnected()}function yr(e){return getApp().globalData.pluginTool.permissionStatusSync({permission:e})}function Sr(){return getApp().globalData.pluginTool.permissionCheckAll()}function Tr(){return getApp().globalData.pluginTool.locationAuthorizationStatusSync()}var $={ALBUM:1,CAMERA:2,VIDEO:3,MICROPHONE:4,NOTIFY:5,LOCATION:6,DRAW_OVERLAYS:7,ALBUM_AND_CAMERA:101};function Cr(e,t,a){if(getApp().globalData.uid!=0)return new Promise(i=>{let n;if(a==null?n=za():n=a,n==null){i();return}let r={fromType:e,showClose:t,resList:n[0]};U("/pagesDialog/check-permission",null,"permissionData",r,{onCloseListener:()=>{i()}})})}function za(){let e=[],t=!0;if(S.isAndroid){let r=Sr();e.push({key:"notice",value:r.notice,permission:$.NOTIFY}),e.push({key:"camera",value:r.camera,permission:$.CAMERA}),e.push({key:"voice",value:r.voice,permission:$.MICROPHONE}),e.push({key:"album",value:r.storage,permission:$.ALBUM})}else e.push({key:"notice",value:Qa(),permission:$.NOTIFY}),e.push({key:"camera",value:Ir(),permission:$.CAMERA}),e.push({key:"voice",value:Xa(),permission:$.MICROPHONE}),e.push({key:"album",value:Nr(),permission:$.ALBUM});for(let r=0,s=e.length;r<s;r++)if(!e[r].value){t=!1;break}let a={};for(let r=0,s=e.length;r<s;r++){let l=e[r];a[l.key]=l.value?1:0}a.auto_translate=getApp().globalData.translateAuto?1:0;let i=hr()?1:0,n=_r();return a.audio_translate=i,a.audio_language=n,M.request("/user/sync-permission",a),[e,t]}function Ja(e){if(e==$.NOTIFY)return S.isAndroid?pt(e):Qa();if(e==$.MICROPHONE)return S.isAndroid?pt(e):Xa();if(e==$.ALBUM_AND_CAMERA){let a=za()[0];return a?a[1].value&&a[3].value:!0}else if(e==$.LOCATION)return S.isAndroid?pt(e):Tr();return!0}function pt(e){let t=Lr(e);return yr(t)}function Lr(e){switch(e){case $.LOCATION:return["android.permission.ACCESS_FINE_LOCATION","android.permission.ACCESS_COARSE_LOCATION"];case $.ALBUM:case $.VIDEO:return["android.permission.READ_MEDIA_IMAGES","android.permission.READ_MEDIA_VIDEO"];case $.MICROPHONE:return["android.permission.RECORD_AUDIO"];case $.CAMERA:return["android.permission.CAMERA"];case $.NOTIFY:return["android.permission.POST_NOTIFICATIONS"]}}function Xa(){let e=plus.ios.importClass("AVCaptureDevice"),t=e.authorizationStatusForMediaType("soun");return plus.ios.deleteObject(e),t==3}function Ir(){let e=plus.ios.importClass("AVCaptureDevice"),t=e.authorizationStatusForMediaType("vide");return plus.ios.deleteObject(e),t==3}function Nr(){var e=!1,t=plus.ios.import("PHPhotoLibrary"),a=t.authorizationStatus();return(a==3||a==4)&&(e=!0),plus.ios.deleteObject(t),e}function Qa(){var e=!1,t=plus.ios.import("UIApplication"),a=t.sharedApplication(),i=0;if(a.currentUserNotificationSettings){var n=a.currentUserNotificationSettings();i=n.plusGetAttribute("types"),e=i!=0,plus.ios.deleteObject(n)}else i=a.enabledRemoteNotificationTypes(),e=i!=0;return plus.ios.deleteObject(a),plus.ios.deleteObject(t),e}function Ft(e,t){getApp().globalData.s.commit("setPubValue",{name:e,value:t})}function A(e,t){getApp().globalData.s.commit(e,t)}function nt(e,t){return getApp().globalData.s.dispatch(e,t)}function Qe(e,t){e==ge.MSG&&getApp().setNumberBadge(),t>0?uni.setTabBarBadge({index:e,text:t+""}):uni.removeTabBarBadge({index:e})}function wr(e,t=!0){t?uni.showTabBarRedDot({index:e}):uni.hideTabBarRedDot({index:e})}function Ut(e,t,a){return new Promise(i=>{let n=t?e:plus.io.convertLocalFileSystemURL(e);plus.io.resolveLocalFileSystemURL(n,function(r){r.isFile?r.remove():r.isDirectory&&r.removeRecursively(),i()},function(r){L("error","at common/common.js:81","----> delFile fail "+JSON.stringify(r)),a&&i()})})}function Ht(e,t="md5"){return new Promise(a=>{uni.getFileInfo({filePath:e,digestAlgorithm:t,success(i){a(i)},fail(){a(null)}})})}function Ea(e,t){t?plus.runtime.openWeb(e):plus.runtime.openURL(e)}function He(e,t,a,i=N("confirm")){Za(e,t,a,"",i,!1)}function Rr(e){return["Si, desbloquear","Reenviar Completar"].indexOf(e)!=-1}function Za(e,t,a,i,n=N("confirm"),r=!0,s=N("cancel"),l=!1){let o=!1;if(!S.isAndroid&&(o=Rr(n),o)){let u=n;n=s,s=u}uni.showModal({title:e,content:t,showCancel:r,cancelText:s,confirmText:n,editable:l,success(u){u.confirm?o?typeof i=="function"&&i():typeof a=="function"&&a(u):u.cancel&&(o?typeof a=="function"&&a(u):typeof i=="function"&&i())}})}function Or(e,t="none",a="center"){uni.showToast({title:e,duration:2e3,icon:t,position:a})}function xt(e){return new Promise(t=>{plus.io.getVideoInfo({filePath:e,success(a){t(a)},fail(a){t(`getVideoInfo ${JSON.stringify(a)}`)}})})}function Gt(e,t){return new Promise((a,i)=>{uni.compressVideo({src:e,quality:t,success(n){L("log","at common/common.js:226","videoCompress res "+JSON.stringify(n)),a(n)},fail(n){L("log","at common/common.js:230","videoCompress error "+JSON.stringify(n)),i(`videoCompress ${JSON.stringify(n)}`)}})})}var Ee={LIGHT:1,DARK:2};function ei(e){ie("theme_dark_dialog",1),ie("theme_style",e),mr()}function ti(e){let t=Number(e);if(isNaN(t)){L("error","at common/user.js:35","\u5237\u65B0\u4F59\u989D\u5931\u8D25");return}Ft("pubAccount.money",t),L("error","at common/user.js:39",`\u5237\u65B0\u4F59\u989D ${t}`)}function Mr(e){let t=getApp().pubUser.seeking_sex;return e?t:t==0?getApp().pubUser.sex==1?2:1:t}function se(){return getApp().globalData.s.state.pubUser.is_auth}function vr(){return!se()&&getApp().pubUser.recharge_money>0}function $r(){let e=getApp().globalData.admin;return e&&e.permission&&e.permission.kefu}function Pr(){let e=getApp().globalData.admin;return e&&e.permission&&e.permission.check_all}function Bt(){let e=getApp().globalData.admin;return!h(e)&&e.type==1}function kr(e,t){let a=getApp().globalData.bannedInfos[e];if(h(a))return!1;if(t){if(A("appDialog/addDialogBan",a),vt()=="/pagesDialog/banned")return;A("appDialog/executeBanWarningDialog")}return!0}var Dt={DEFAULT:1e4,FAIL:0,SUCCESS:1,DISCONNECT:6,RECONNECT:7},Fr={INIT:"init",APP_SHOW:"app_show",TAB_SHOW:"tab_show",MSG_INDEX_REFRESH:"msg_index_refresh",STOP_TAKING_RECOVERY:"stop_taking_recovery",CATCH_MSG_SYNC:"sync_catch",API_CALL_BACK:"api_call_back",RECONNECT_LISTENER:"reconnect_listener",RECONNECT_LOCAL:"reconnect_local"};function Ur(e){return new Promise((t,a)=>{getApp().globalData.pluginDB.selectSql({sql:e},i=>{i.status==1?t(i.rows):(L("error","at comExtend/plugin-DB.js:44","db \u63D2\u4EF6 select \u6267\u884C \u9519\u8BEF "+i.message),a(i.message))})})}function Hr(e){return new Promise((t,a)=>{getApp().globalData.pluginDB.executeSql({sql:e},i=>{i.status==1?t(i.rows):(L("error","at comExtend/plugin-DB.js:57","db \u63D2\u4EF6 execute \u6267\u884C \u9519\u8BEF "+i.message),a(i.message))})})}function le(e,t){return new Promise((a,i)=>{Hr(e).then(n=>{a(n)},n=>{i(),t||ri("execute",n,e)})})}function Re(e,t){return new Promise((a,i)=>{Ur(e).then(n=>{a(n)},n=>{i(),t||ri("select",n,e)})})}function v(e){return h(e)?0:parseInt(e)}function oe(e){return h(e)?"":e}function ai(e,t){return h(e)?Math.round(t/1e3):(e+"").length==16?Math.round(e/1e3):e}function xr(){return getApp().globalData.pluginMqtt.checkStatusSync()?Dt.SUCCESS:Dt.FAIL}function Gr(){return xr()}function Br(){return Gr()==Dt.SUCCESS}var we={getUserDesc(){let e=getApp().pubUser;return Object.keys(e).length<=3?"\u672A\u767B\u5F55":[e.uid,e.is_auth?"\u4E3B\u64AD":"\u7528\u6237",`\u7B49\u7EA7-${e.level}`,`vip${e.is_vip?"\u662F":"\u5426"}`,`\u5145\u503C${e.recharge_money}`,`\u4F59\u989D${getApp().pubAccount.money}`,`\u540E\u53F0\u8EAB\u4EFD${Wr()}`].join("|")},getActionDesc(){let e=tt(),t=e.length;return[`\u9875\u9762: ${(t>5?e.slice(t-5):e).join(",")}`,`${getApp().globalData.catchApiUrlList.join(",")}`].join("|")},getEnvironsDesc(){let e=getApp().globalData.ua.split("|"),t=[`${e[1]}`,`app\u7248\u672C${e[2]}`,`zip\u7248\u672C${e[3]}-${e[13]}`,`${e[6]}`,`\u54C1\u724C${e[11]}`,`\u578B\u53F7${e[12]}`,`\u7F51\u7EDC${getApp().globalData.network.type}`,`MQTT${Br()?"\u662F":"\u5426"}`],a=Dr();return typeof a!="undefined"&&t.push(`VPN${a?"\u662F":"\u5426"}`),t.join("|")}};function Wr(){if(Bt())return"\u8D85\u7BA1";let e=[];return $r()&&e.push("\u5BA2\u670D"),Pr()&&e.push("\u5BA1\u6838"),e.length<=0?"\u65E0":e.join("\u548C")}var gt=0;function Vr(e){return Yr(jr(Kr(e)))}function jr(e){return zr(Jr(qr(e),e.length*8))}function Yr(e){try{}catch(r){gt=0}for(var t=gt?"0123456789ABCDEF":"0123456789abcdef",a="",i,n=0;n<e.length;n++)i=e.charCodeAt(n),a+=t.charAt(i>>>4&15)+t.charAt(i&15);return a}function Kr(e){for(var t="",a=-1,i,n;++a<e.length;)i=e.charCodeAt(a),n=a+1<e.length?e.charCodeAt(a+1):0,55296<=i&&i<=56319&&56320<=n&&n<=57343&&(i=65536+((i&1023)<<10)+(n&1023),a++),i<=127?t+=String.fromCharCode(i):i<=2047?t+=String.fromCharCode(192|i>>>6&31,128|i&63):i<=65535?t+=String.fromCharCode(224|i>>>12&15,128|i>>>6&63,128|i&63):i<=2097151&&(t+=String.fromCharCode(240|i>>>18&7,128|i>>>12&63,128|i>>>6&63,128|i&63));return t}function qr(e){for(var t=Array(e.length>>2),a=0;a<t.length;a++)t[a]=0;for(var a=0;a<e.length*8;a+=8)t[a>>5]|=(e.charCodeAt(a/8)&255)<<a%32;return t}function zr(e){for(var t="",a=0;a<e.length*32;a+=8)t+=String.fromCharCode(e[a>>5]>>>a%32&255);return t}function Jr(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var a=1732584193,i=-271733879,n=-1732584194,r=271733878,s=0;s<e.length;s+=16){var l=a,o=i,u=n,p=r;a=H(a,i,n,r,e[s+0],7,-680876936),r=H(r,a,i,n,e[s+1],12,-389564586),n=H(n,r,a,i,e[s+2],17,606105819),i=H(i,n,r,a,e[s+3],22,-1044525330),a=H(a,i,n,r,e[s+4],7,-176418897),r=H(r,a,i,n,e[s+5],12,1200080426),n=H(n,r,a,i,e[s+6],17,-1473231341),i=H(i,n,r,a,e[s+7],22,-45705983),a=H(a,i,n,r,e[s+8],7,1770035416),r=H(r,a,i,n,e[s+9],12,-1958414417),n=H(n,r,a,i,e[s+10],17,-42063),i=H(i,n,r,a,e[s+11],22,-1990404162),a=H(a,i,n,r,e[s+12],7,1804603682),r=H(r,a,i,n,e[s+13],12,-40341101),n=H(n,r,a,i,e[s+14],17,-1502002290),i=H(i,n,r,a,e[s+15],22,1236535329),a=x(a,i,n,r,e[s+1],5,-165796510),r=x(r,a,i,n,e[s+6],9,-1069501632),n=x(n,r,a,i,e[s+11],14,643717713),i=x(i,n,r,a,e[s+0],20,-373897302),a=x(a,i,n,r,e[s+5],5,-701558691),r=x(r,a,i,n,e[s+10],9,38016083),n=x(n,r,a,i,e[s+15],14,-660478335),i=x(i,n,r,a,e[s+4],20,-405537848),a=x(a,i,n,r,e[s+9],5,568446438),r=x(r,a,i,n,e[s+14],9,-1019803690),n=x(n,r,a,i,e[s+3],14,-187363961),i=x(i,n,r,a,e[s+8],20,1163531501),a=x(a,i,n,r,e[s+13],5,-1444681467),r=x(r,a,i,n,e[s+2],9,-51403784),n=x(n,r,a,i,e[s+7],14,1735328473),i=x(i,n,r,a,e[s+12],20,-1926607734),a=G(a,i,n,r,e[s+5],4,-378558),r=G(r,a,i,n,e[s+8],11,-2022574463),n=G(n,r,a,i,e[s+11],16,1839030562),i=G(i,n,r,a,e[s+14],23,-35309556),a=G(a,i,n,r,e[s+1],4,-1530992060),r=G(r,a,i,n,e[s+4],11,1272893353),n=G(n,r,a,i,e[s+7],16,-155497632),i=G(i,n,r,a,e[s+10],23,-1094730640),a=G(a,i,n,r,e[s+13],4,681279174),r=G(r,a,i,n,e[s+0],11,-358537222),n=G(n,r,a,i,e[s+3],16,-722521979),i=G(i,n,r,a,e[s+6],23,76029189),a=G(a,i,n,r,e[s+9],4,-640364487),r=G(r,a,i,n,e[s+12],11,-421815835),n=G(n,r,a,i,e[s+15],16,530742520),i=G(i,n,r,a,e[s+2],23,-995338651),a=B(a,i,n,r,e[s+0],6,-198630844),r=B(r,a,i,n,e[s+7],10,1126891415),n=B(n,r,a,i,e[s+14],15,-1416354905),i=B(i,n,r,a,e[s+5],21,-57434055),a=B(a,i,n,r,e[s+12],6,1700485571),r=B(r,a,i,n,e[s+3],10,-1894986606),n=B(n,r,a,i,e[s+10],15,-1051523),i=B(i,n,r,a,e[s+1],21,-2054922799),a=B(a,i,n,r,e[s+8],6,1873313359),r=B(r,a,i,n,e[s+15],10,-30611744),n=B(n,r,a,i,e[s+6],15,-1560198380),i=B(i,n,r,a,e[s+13],21,1309151649),a=B(a,i,n,r,e[s+4],6,-145523070),r=B(r,a,i,n,e[s+11],10,-1120210379),n=B(n,r,a,i,e[s+2],15,718787259),i=B(i,n,r,a,e[s+9],21,-343485551),a=pe(a,l),i=pe(i,o),n=pe(n,u),r=pe(r,p)}return Array(a,i,n,r)}function rt(e,t,a,i,n,r){return pe(Xr(pe(pe(t,e),pe(i,r)),n),a)}function H(e,t,a,i,n,r,s){return rt(t&a|~t&i,e,t,n,r,s)}function x(e,t,a,i,n,r,s){return rt(t&i|a&~i,e,t,n,r,s)}function G(e,t,a,i,n,r,s){return rt(t^a^i,e,t,n,r,s)}function B(e,t,a,i,n,r,s){return rt(a^(t|~i),e,t,n,r,s)}function pe(e,t){var a=(e&65535)+(t&65535),i=(e>>16)+(t>>16)+(a>>16);return i<<16|a&65535}function Xr(e,t){return e<<t|e>>>32-t}var yt={md5:function(e){return Vr(e)}};function ii(){return"tb_error_log"}function Qr(e,t){return new Promise(a=>{let i=`SELECT * FROM ${ii()} WHERE status = ${v(e)} AND identify = '${t}' ORDER BY id DESC LIMIT 1`;Re(i,!0).then(n=>{a(n[0])})})}function Zr(e,t,a,i,n,r,s,l,o,u){return Qr(e,t).then(p=>{if(p)return Promise.resolve(!0);let m=`INSERT INTO ${ii()} (status, identify, grade, flag, user_desc, action_desc, environs_desc, error_desc, create_time, exp_time) values (${v(e)}, '${t}', ${a}, '${i}', '${K(n)}', '${K(r)}', '${K(s)}', '${K(l)}', ${v(o)}, ${v(u)})`;return le(m,!0)})}var Wt={CRASH:1,USER:11,API_FAIL:12,API_ERROR:13,MSG_SYNC:14,DB_PLUGIN:15,FRAME:21,LISTENER:31,BUG_DB_GET_NONE:201,BUG_MSG_SYNC_PLUGIN_LOSS:202,BUG_MSG_SYNC_JS_LOSS:203},Vt={CRASH:"crash",MEMORY:"memory",LISTENER:"listener",FRAME_API:"frame_api",API:"api",DB:"db",PAYMENT:"payment",AUTH_FACE:"auth_face",CHAT_CALL:"chat_call",HOT_UPDATE:"hot_update",MESSAGE_PARSE:"message_parse",BUG:"bug"};function ni(){return getApp().globalData.uid==0?!1:S.zT==3?!0:S.appId==re.CHAT_NOW_A||S.ENV=="dev"}var es=1e3;function ts(e,t){try{if(!ni())return;let a=St(t),i=`api-${e} ${a}`;L("error","at comCatch/catch-save.js:15","catch api fail "+i);let n=si(i);ns().then(r=>{let s;typeof r=="boolean"?s="\u6D4B\u8BD5\u8C37\u6B4C\u6210\u529F":s=`\u6D4B\u8BD5\u8C37\u6B4C\u5931\u8D25-${St(r)}`,n.errorDesc=`${n.errorDesc} - ${s}`,li(Wt.API_FAIL,Vt.API,n)})}catch(a){}}function as(e,t,a){try{if(!ni())return;let i=St(a);i=i.substring(0,120);let n=`statusCode-${a.statusCode}-${i}-api-${e}-${JSON.stringify(t)}`;L("error","at comCatch/catch-save.js:37","catch api error "+n);let r=si(n);li(Wt.API_ERROR,Vt.API,r)}catch(i){}}function ri(e,t,a){try{if(a.indexOf("tb_error_log")!=-1)return;let i=`${e} - ${t}`;a&&(i+=` - ${a}`),L("error","at comCatch/catch-save.js:74","catch db "+i),is(Wt.DB_PLUGIN,Vt.DB,i)}catch(i){}}function St(e){if(!e)return"";let t=JSON.stringify(e);return(typeof t!="string"||t=="{}")&&(t=e.toString()),t}function si(e){return{identify:yt.md5(e),errorDesc:e,userDesc:we.getUserDesc(),actionDesc:we.getActionDesc(),environsDesc:we.getEnvironsDesc(),expTime:0}}function li(e,t,a){Zr(0,a.identify,e,t,a.userDesc,a.actionDesc,a.environsDesc,a.errorDesc,new Date().getTime(),a.expTime)}function is(e,t,a){let i=[],n=new Date().getTime();if(n-getApp().globalData.catchApiLastReqTime<=es)return;getApp().globalData.catchApiLastReqTime=n,i.push({grade:e,flag:t,user_desc:we.getUserDesc(),action_desc:we.getActionDesc(),environs_desc:we.getEnvironsDesc(),error_desc:a,create_time:n,createTimeStr:ja(n)});let r={log_list:i};M.request("/monitor/record-exception-log",r)}function ns(){return new Promise(e=>{uni.request({url:"https://google.com",method:"GET",timeout:5e3,success(t){e(!0)},fail(t){e(t)}})})}var rs=["/monitor/index","/chat/call/log","/chat/msg/mq-log","/user/sync-permission","/monitor/record-exception-log"],ba=["/monitor/record-exception-log"],Da=5,Ye={invoke(e,t){if(rs.indexOf(e)!=-1)return;let a="";a+=`\u63A5\u53E3=${e};`,a+=`\u53C2\u6570=${JSON.stringify(t)}`,a+=`\u65F6\u95F4=${ja(new Date().getTime())}`,getApp().globalData.catchApiUrlList.push(`\u3010${a}\u3011`);let i=getApp().globalData.catchApiUrlList.length;i>Da&&(getApp().globalData.catchApiUrlList=getApp().globalData.catchApiUrlList.slice(i-Da))},error(e,t,a){ba.indexOf(e)==-1&&getApp().globalData.network.isConnected&&(!a||typeof a.statusCode=="undefined"||as(e,t,a))},fail(e,t){ba.indexOf(e)==-1&&getApp().globalData.network.isConnected&&ts(e,t)}},jt={INIT:1,OPEN:2,CALLBACK:3,SOCKET:4,LOGIN:5},oi={BACK_APP:0,FORCE:1,PROMPT:2,HIDE:3};function ya(){if(getApp().pubUnreadMy.moment>0){Qe(ge.MY,getApp().pubUnreadMy.moment);return}Qe(ge.MY,0),wr(ge.MY,getApp().pubUnreadMy.fans>0)}var g={PERMISSION:"permission",PERFECT_DATA:"perfect_data",REST:"rest",HOME_FILTER:"home_filter",GRID_GUIDE:"grid_guide",NOTIFY:"notify",HELLO:"hello",SHARE:"share",LANGUAGE_UP:"language_up",RAMADAN:"ramadan",MSG_DISTURB:"msg_disturb",CALL_DISTURB:"call_disturb",BAN:"ban",WARNING:"warning",HOME_SEX_FILTER:"home_sex_filter",CLUB_RESULT:"club_result",CLUB_DISBAND:"club_disband"},ss={[g.HOME_FILTER]:"seeking_sex_open_time",[g.GRID_GUIDE]:"dialog_show_time_grid_guide",[g.NOTIFY]:"dialog_show_time_notify",[g.HELLO]:"dialog_show_time_hello"},Tt=-99,ke=-100,ls={[g.HOME_FILTER]:1,[g.HOME_SEX_FILTER]:1,[g.GRID_GUIDE]:1,[g.NOTIFY]:2,[g.SHARE]:3,[g.HELLO]:4,[g.LANGUAGE_UP]:5,[g.RAMADAN]:6},Yt={[g.PERMISSION]:1,[g.PERFECT_DATA]:2,[g.REST]:3,[g.HOME_FILTER]:4,[g.HOME_SEX_FILTER]:4,[g.GRID_GUIDE]:4,[g.NOTIFY]:5,[g.SHARE]:7,[g.LANGUAGE_UP]:8};function os(e){return cs(g.HOME_FILTER,21600)?!1:Mr(!1)!=e}function st(e){return S.isAndroid||e||F(Kt(g.GRID_GUIDE))?!1:!F("user_list_sort_"+getApp().globalData.uid)}function ui(){return Ja($.NOTIFY)?!1:!us()}function ci(){let e=F(`dialog_call_disturb_${getApp().globalData.uid}`);return h(e)&&!se()&&!getApp().globalData.isBoosting}function us(){let e=ur(`${g.NOTIFY}_show_status`);if(!h(e))return!0;let t=F(Kt(g.NOTIFY));return!h(t)}function Kt(e){return`${ss[e]}_${getApp().globalData.uid}`}function cs(e,t){let a=F(Kt(e));if(!a)return!1;let i=new Date().getTime();return i<=a?!1:parseInt((i-a)/1e3)<=t}var Sa=!1,Te=!1,ue=0,Pe={appDialogList:[],appDialogStop:!1,appDialogCurKey:"",appDialogHelloData:!1,appBanDialogList:[],appClubResultList:[],appDialogIsShowBan:!1,appBanDialogCurKey:"",appWarningDialogCurKey:"",appClubResultCurKey:""},ps={setDialogHelloData(e,t){e.appDialogHelloData=t},setDialogCurKey(e,t){e.appDialogCurKey=t},setDialogList(e,t){e.appDialogList=t,e.appDialogList.sort((a,i)=>a.sort-i.sort)},sortDialogList(e){e.appDialogList.sort((t,a)=>t.sort-a.sort)},resetDialogItem(e,t){let a=e.appDialogList.findIndex(i=>i.key==t.key);a!=-1&&(e.appDialogList[a].hasExec=!1,e.appDialogList[a].delay=t.delay)},resetClubResultDialogItem(e,t){let a=e.appClubResultList.findIndex(i=>i.key==t.key);a!=-1&&(e.appClubResultList[a].hasExec=!1)},delDialogItem(e,t){h(e.appDialogList)||e.appDialogList.splice(t,1)},delDialogItemByKey(e,t){if(h(e.appDialogList))return;let a=e.appDialogList.findIndex(i=>i.key==t);a!=-1&&e.appDialogList.splice(a,1)},clearDialog(e){e.appDialogStop=!0,e.appDialogList=[]},executeDialog(e,t){if(e.appBanDialogCurKey||e.appWarningDialogCurKey||e.appClubResultCurKey||h(e.appDialogList)||e.appDialogStop)return;let a=e.appDialogList[0];h(a)||a.hasExec||a.isCanExecute&&(e.appDialogList[0].hasExec=!0,ft[a.funcName](a).then(()=>{e.appDialogCurKey="";let i=e.appDialogList.indexOf(a);i!=-1&&A("appDialog/delDialogItem",i),A("appDialog/executeDialog","execute then")}))},addDialog(e,t){let a=t.key;e.appDialogStop=!0;let i=e.appDialogList.findIndex(n=>n.key==a);if(i!=-1){if(e.appDialogList[i].isAdd){e.appDialogStop=!1,e.appDialogCurKey||A("appDialog/executeDialog");return}e.appDialogList[i].isAdd=!0,e.appDialogList[i].addTime=new Date().getTime(),e.appDialogList[i].isCanExecute=!0}else{let n=se()?1:2,r;switch(a){case g.HOME_FILTER:r=As(n,!0);break;case g.HELLO:r=Ta(t.delay);break;case g.MSG_DISTURB:r=bs(t.delay);break;case g.CALL_DISTURB:r=Ds(t.delay);break;default:e.appDialogStop=!1,e.appDialogCurKey||A("appDialog/executeDialog");return}r.isAdd=!0,r.addTime=new Date().getTime(),e.appDialogList.push(r)}e.appDialogList.sort((n,r)=>n.sort==r.sort?r.addTime-n.addTime||(n.isCanExecute?ke:0):n.sort-r.sort),!e.appDialogCurKey&&(e.appDialogCurKey=a,e.appDialogStop=!1,A("appDialog/executeDialog"))},addDialogHomeFilter(e,t){getApp().globalData.appCRE==0||!os(t)||A("appDialog/addDialog",{key:g.HOME_FILTER})},addDialogHomeSexFilter(e,t){getApp().globalData.appCRE!=0&&(A("appDialog/addDialog",{key:g.HOME_SEX_FILTER,value:t}),A("appDialog/sortDialogList"))},addDialogGridGuide(e,t){let a=e.appDialogList.findIndex(n=>n.key==g.GRID_GUIDE);if(st(t)){if(a==-1)return;A("appDialog/addDialog",{key:g.GRID_GUIDE})}else a!=-1&&A("appDialog/delDialogItem",a)},addDialogNotify(e,t){t&&!ui()||J("/pagesDialog/open-sys-notice")},addDialogHello(e,t){if(getApp().globalData.appCRE==0||Sa)return;Sa=!0;let a=e.appDialogList[0];if(a&&a.key==g.SHARE){ue=30;let i=Ta(ue);i.sort=be(se()?1:2,g.SHARE+1),i.isAdd=!0,i.addTime=new Date().getTime(),e.appDialogList.push(i),e.appDialogList.sort((n,r)=>n.sort==r.sort?r.addTime-n.addTime||(n.isCanExecute?ke:0):n.sort-r.sort);return}ue=t,A("appDialog/addDialog",{key:g.HELLO,delay:t})},addDialogMsgDisturb(e,t){A("appDialog/addDialog",{key:g.MSG_DISTURB,delay:t})},addDialogCallDisturb(e,t){A("appDialog/addDialog",{key:g.CALL_DISTURB,delay:t})},delBanDialogItem(e){h(Pe.appBanDialogList)||Pe.appBanDialogList.splice(e,1)},delClubResultDialogItem(e){h(Pe.appClubResultList)||Pe.appClubResultList.splice(e,1)},addDialogBan(e,t){let a=ys(t);e.appDialogIsShowBan?uni.$emit("event_refresh_banned_data",t):(e.appBanDialogList.push(a),A("appDialog/sortBanWarningDialog"))},addDialogWarning(e,t){if(e.appBanDialogList.map(n=>n.sort).indexOf(Number(t.id))!=-1)return;let i;t.from_type==2?i=Ts(t):i=Ss(t),e.appBanDialogList.push(i),!(e.appBanDialogCurKey||e.appWarningDialogCurKey)&&A("appDialog/executeBanWarningDialog")},addDialogClubNoticeDialog(e,t){let a,i,n=e.appClubResultList.map(r=>r.key);t.type==En.CHECK_RESULT?(i=g.CLUB_RESULT+"_"+t.club_id,n.indexOf(i)==-1&&(a=Ls(t))):(i=g.CLUB_DISBAND+"_"+t.club_id,n.indexOf(i)==-1&&(a=Cs(t))),a&&e.appClubResultList.push(a),!(e.appBanDialogCurKey||e.appWarningDialogCurKey)&&(e.appClubResultCurKey||A("appDialog/executeClubNoticeDialog"))},executeBanWarningDialog(e){if(h(e.appBanDialogList)){A("appDialog/executeClubNoticeDialog");return}let t=e.appBanDialogList[0];if(h(t)||t.hasExec)return;let a=getApp().globalData.curCallId>Aa.WAITING;if(a){t.isBan&&uni.$emit("event_banned_close_chat");return}e.appBanDialogList[0].hasExec=!a||!t.isBan,e.appDialogIsShowBan=t.isBan,t.isBan?e.appBanDialogCurKey="ban":e.appWarningDialogCurKey="warning",ft[t.funcName](t).then(i=>{if(t.isBan){if(e.appBanDialogCurKey="",e.appDialogIsShowBan=!1,i==1){let n=e.appBanDialogList.indexOf(t);n!=-1&&A("appDialog/delBanDialogItem",n)}}else{e.appWarningDialogCurKey="";let n=e.appBanDialogList.indexOf(t);n!=-1&&A("appDialog/delBanDialogItem",n)}A("appDialog/executeBanWarningDialog","execute then")})},executeClubNoticeDialog(e,t){if(e.appBanDialogCurKey||e.appWarningDialogCurKey)return;if(h(e.appClubResultList)){A("appDialog/executeDialog");return}let a=e.appClubResultList[0];h(a)||a.hasExec||getApp().globalData.curCallId>Aa.WAITING||(e.appClubResultCurKey="club_result",e.appClubResultList[0].hasExec=!0,t&&t.delay&&(a.delay=t.delay),ft[a.funcName](a).then(()=>{e.appClubResultCurKey="";let n=e.appClubResultList.indexOf(a);n!=-1&&A("appDialog/delClubResultDialogItem",n),A("appDialog/executeClubNoticeDialog","execute then")}))},sortBanWarningDialog(e){let t=e.appBanDialogList.filter(i=>i.sort==Tt),a=e.appBanDialogList.filter(i=>i.sort!=Tt);a=a.sort((i,n)=>i.sort-n.sort),e.appBanDialogList=[...t,...a]}},gs={init(a,i){return z(this,arguments,function*({state:e},t){L("error","at store/modules/app-dialog.js:326","------> init dialog list, data ",t);let n=[];se()?n=ds(t.data,t.homeViewSizeObj):n=ms(t.data,t.homeViewSizeObj),A("appDialog/setDialogList",n),A("appDialog/executeDialog")})}},fs={namespaced:!0,state:Pe,mutations:ps,actions:gs};function ms(e,t){permissionGetAllStatus();let a=[],i=pi(2,t,e.homeFilterSex);i&&a.push(i);let n=gi(2,t);n&&a.push(n);let r=fi(2,e.share);r&&a.push(r);let s=mi(2);s&&a.push(s);let l=Es(2,e.notifyTips);return l&&a.push(l),a}function ds(e,t){let a=[],i=_s(e.authList);i&&a.push(i);let n=hs();n&&a.push(n);let r=pi(2,t,e.homeFilterSex);r&&a.push(r);let s=gi(1,t);s&&a.push(s);let l=5,o=fi(1,e.share,l);o&&a.push(o);let u=mi(1);return u&&a.push(u),a}function _s(e){return typeof e=="undefined"?null:{key:g.PERFECT_DATA,sort:Yt[g.PERFECT_DATA],delay:0,data:e,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecutePerfectData"}}function hs(){return di()||!getApp().pubUser.is_rest?null:{key:g.REST,sort:Yt[g.REST],delay:0,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteRest"}}function As(e,t){return{key:g.HOME_FILTER,sort:be(e,g.HOME_FILTER),delay:0,data:{},hasExec:!1,isCanExecute:t,addTime:new Date().getTime(),funcName:"_dialogExecuteHomeFilter"}}function pi(e,t,a){return getApp().globalData.appCRE==0||!t||!t.filter?null:{key:g.HOME_SEX_FILTER,sort:be(e,g.HOME_SEX_FILTER),delay:0,data:{value:a,size:t.filter},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteHomeSexFilter"}}function gi(e,t){if(getApp().globalData.appCRE==0)return null;let a="grid";if(!t||!t[a])return null;let i={sizeList:[{key:a,size:t[a]}],from_type:1};return{key:g.GRID_GUIDE,sort:be(e,g.GRID_GUIDE),delay:0,data:i,hasExec:!1,isCanExecute:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteGridGuide"}}function fi(e,t,a=5){return getApp().globalData.appCRE==0||h(t)||getApp().globalData.launchCount<3||vr()?null:{key:g.SHARE,sort:be(e,g.SHARE),delay:a,data:t,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteShare"}}function Ta(e){return{key:g.HELLO,sort:ke,delay:e,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteHello"}}function mi(e){let t=F("user_switch_language_status");if(t)return null;let a=Xe(!1);if(t||h(a))return null;let i=dr.map(s=>s.key),n=Xe();if(i.indexOf(n)!=-1)return null;let r=at(!1);return i.indexOf(r)==-1?null:{key:g.LANGUAGE_UP,sort:be(e,g.LANGUAGE_UP),delay:5,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteLanguageUp"}}function Es(e,t){return h(t)||F(`stop_notify_${getApp().globalData.uid}_${t.time}`)||!Ja($.NOTIFY)?null:{key:g.RAMADAN,sort:be(e,g.RAMADAN),delay:5,data:t,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteRamadan"}}function bs(e){return{key:g.MSG_DISTURB,sort:ke,delay:e,data:{from_type:1},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteMsgDisturb"}}function Ds(e){return{key:g.CALL_DISTURB,sort:ke,delay:e,data:{from_type:2},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteCallDisturb"}}function ys(e){return{key:g.BAN,sort:Tt,data:e,delay:e.delay||0,hasExec:!1,isBan:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteBan"}}function Ss(e){return{key:g.WARNING,sort:Number(e.id),data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteWarning"}}function Ts(e){return{key:g.WARNING,sort:Number(e.id),data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubWarning"}}function Cs(e){return{key:g.CLUB_DISBAND+"_"+e.club_id,data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubDisband"}}function Ls(e){return{key:g.CLUB_RESULT+"_"+e.club_id,data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubResult"}}var ft={_dialogExecutePermission(e){return new Promise(t=>{let a=setTimeout(()=>{clearTimeout(a),ae(e.key,e.delay,0)&&(A("appDialog/setDialogCurKey",g.PERMISSION),Cr(1,!1,e.permissionRes).then(()=>{t()}))},e.delay*1e3)})},_dialogExecutePerfectData(e){return new Promise(t=>{A("appDialog/setDialogCurKey",g.PERFECT_DATA),U("/pagesDialog/complete-content-first",{},"DataCompleteContentFirst",e.data,{onCloseListener(){t()}})})},_dialogExecuteRest(){return new Promise(e=>{A("appDialog/setDialogCurKey",g.REST),Za(N("tips"),N("anchor.rest.openedTip"),()=>{let t={user_info:{is_rest:0}};M.request("/user/update-info",t,!0,!0).then(a=>{Ft("pubUser.is_rest",0),He(N("tips"),N("anchor.rest.turnOff"),()=>{e()},N("gotIt"))},()=>{e()})},()=>{e()},N("startWorking"))})},_dialogExecuteHomeFilter(e){return new Promise(t=>{ae(e.key,e.delay,Ve.USER)&&(A("appDialog/setDialogCurKey",g.HOME_FILTER),J("/pagesDialog/seeking-sex-guide",{},{onCloseChooseSeekingSex:a=>{uni.$emit("event_app_dialog_seeking_sex_after",a),t()}}))})},_dialogExecuteHomeSexFilter(e){return new Promise(t=>{ae(e.key,e.delay,Ve.USER)&&(A("appDialog/setDialogCurKey",g.HOME_SEX_FILTER),J($e.homeFilterSexGuide,{params:JSON.stringify(e.data)},{onCloseListener:()=>{uni.$emit("event_handle_filter_seeking_sex"),t()}}))})},_dialogExecuteGridGuide(e){return new Promise(t=>{if(!ae(e.key,e.delay,Ve.USER))return;A("appDialog/setDialogCurKey",g.GRID_GUIDE);let a=e.data.sizeList;J("/pagesDialog/guide-cover",{list:encodeURIComponent(JSON.stringify(a))},{onCloseGuideCover:()=>{uni.$emit("event_app_dialog_close_guide",{from_type:e.data.from_type}),t()}})})},_dialogExecuteShare(e){return new Promise(t=>{let a=setTimeout(()=>{clearTimeout(a),ae(e.key,e.delay,0)&&(A("appDialog/setDialogCurKey",g.SHARE),U("/pagesDialog/share",{},"shareData",e.data.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteLanguageUp(e){return new Promise(t=>{let a=setTimeout(()=>{clearTimeout(a),ae(e.key,e.delay,0)&&(A("appDialog/setDialogCurKey",g.LANGUAGE_UP),ie("user_switch_language_status","1"),J("/pagesDialog/switch-language-remind",{},{onCloseListener(){t()}}))},e.delay*1e3)})},_dialogExecuteRamadan(e){return new Promise(t=>{let a=setTimeout(()=>{clearTimeout(a),ae(e.key,e.delay,0)&&(A("appDialog/setDialogCurKey",g.RAMADAN),U("/pagesDialog/stop-notify",{},"dataStopNotify",e.data,{onCloseListener(){t()}}))},e.delay*1e3)})},_dialogExecuteHello(e){return new Promise(t=>{ws().then(a=>{if(!a){t();return}if(Te&&clearInterval(Te),e.delay<=0||ue<=0){if(!ae(e.key,ue,0))return;A("appDialog/setDialogCurKey",g.HELLO),Ca(a,()=>{t()});return}Te=setInterval(()=>{if(!ae(e.key,ue,0)){Te&&clearInterval(Te);return}ue-=1,ue<=0&&(clearInterval(Te),A("appDialog/setDialogCurKey",g.HELLO),Ca(a,()=>{t()}))},1e3)})})},_dialogExecuteMsgDisturb(e){return new Promise(t=>{let a=setTimeout(()=>{clearTimeout(a),ae(e.key,e.delay,Ve.MSG)&&(A("appDialog/setDialogCurKey",g.MSG_DISTURB),J("/pagesDialog/disturb-def",e.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteCallDisturb(e){return new Promise(t=>{let a=setTimeout(()=>{clearTimeout(a),ae(e.key,e.delay,0)&&(A("appDialog/setDialogCurKey",g.CALL_DISTURB),J("/pagesDialog/disturb-def",e.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteBan(e){return new Promise(t=>{let a=e.exp_time;if(parseInt(new Date().getTime()/1e3)>a){t();return}let i=setTimeout(()=>{clearTimeout(i);let n=e.data.from_cache?1:0;U("/pagesDialog/banned",{from_cache:n},"bannedDialogData",e.data,{onCloseListener:r=>{t(r)}})},e.delay*1e3)})},_dialogExecuteWarning(e){return new Promise(t=>{let a=setTimeout(()=>{clearTimeout(a),U("/pagesDialog/warning",{},"warningDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubWarning(e){return new Promise(t=>{let a=setTimeout(()=>{clearTimeout(a),U($e.clubWarning,{},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubDisband(e){return new Promise(t=>{let a=setTimeout(()=>{clearTimeout(a),U($e.clubDisband,{},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubResult(e){return new Promise(t=>{let a=setTimeout(()=>{clearTimeout(a),U($e.clubStatusRemind,{from_type:2},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})}};function ae(e,t,a){let i;return a==0?i=Is():i=Ns(a),getApp().globalData.isGestureBacking||getApp().globalData.s.state.appDialog.appDialogStop||di()||!i?(A("appDialog/resetDialogItem",{key:e,delay:t}),!1):!0}function di(){return getApp().globalData.uid==0}function Is(){return getCurrentPages().length==1}function Ns(e){let t=tt();return t.length==1&&t[0]==e}function be(e,t){return e==1?Yt[t]:ls[t]}function ws(){return new Promise(e=>{let t=getApp().globalData.s.state.appDialog.appDialogHelloData;t?e(t):M.request("/user/greet-coach-list",{},!1,!0).then(a=>{h(a.data)||h(a.data.list)?e(null):(A("appDialog/setDialogHelloData",a.data),e(a.data))},a=>{e(null)})})}function Ca(e,t){U("/pagesDialog/quality-user",{},"qualityUserData",e,{onCloseListener:a=>{a&&ui()?setTimeout(()=>{A("appDialog/addDialogNotify")},2300):t()}})}var Rs={curSendCont:0,msgMtimeList:[]},Os=60,La=6,Ms={addSendCount(e){e.curSendCont+=1},clearSendCount(e){e.curSendCont=0},addMsgDisturbSaveCount(e,t){let a=e.msgMtimeList.length;if(e.msgMtimeList.length<La&&(e.msgMtimeList.push(t/1e6),a=e.msgMtimeList.length),a>=La){let i=e.msgMtimeList[0];e.msgMtimeList[a-1]-i<=Os&&A("appDialog/addDialogMsgDisturb",2),e.msgMtimeList.splice(0,1)}}},vs={namespaced:!0,state:Rs,mutations:Ms},$s={callMtimeList:[]},Ps=60,Ia=3,ks={addCallDisturbReceiveCount(e,t){let a=e.callMtimeList.length;if(e.callMtimeList.length<Ia&&(e.callMtimeList.push(t/1e3),a=e.callMtimeList.length),a>=Ia){let i=e.callMtimeList[0];e.callMtimeList[a-1]-i<=Ps&&A("appDialog/addDialogCallDisturb",2),e.callMtimeList.splice(0,1)}},clearCallDisturbReceiveMtime(e){e.callMtimeList=[]}},Fs={namespaced:!0,state:$s,mutations:ks},Ne=F("pubData");Ne||(Ne={});var Us=["pubToken","pubUser","pubAccount","pubPrivacy"],Hs=function(e,t){if(Us.indexOf(e)==-1)return;let a=F("pubData");a=a||{},a[e]=t,ie("pubData",a),["pubUser","pubAccount"].indexOf(e)!=-1?uni.$emit("event_vuex_watch",e):uni.$emit(`event_vuex_watch_${e}`)},xs=(0,Na.createStore)({state:{pubToken:Ne.pubToken||"",pubUser:Ne.pubUser||{nickname:"",uid:0,avatar:""},pubAccount:Ne.pubAccount||{money:0},pubPrivacy:Ne.pubPrivacy||{},pubUnread:0,pubUnreadMy:{fans:0,moment:0,moment_type:1},pubI18n:"",pubAI18n:""},mutations:{setPubValue(e,t){let a=t.name.split("."),i="",n=a.length;if(n>=2){let r=e[a[0]];for(let s=1;s<n-1;s++)r=r[a[s]];r[a[n-1]]=t.value,i=a[0]}else e[t.name]=t.value,i=t.name;Hs(i,e[i])},initUnread(e,t){let a=parseInt(t);a<0&&(a=0),e.pubUnread=a,Qe(ge.MSG,e.pubUnread),uni.$emit("event_vuex_watch_pub_unread",a)},setUnread(e,t){let a=parseInt(t);if(isNaN(a)||a==0)return;let i=e.pubUnread+a;i<0&&(i=0),e.pubUnread=i,Qe(ge.MSG,e.pubUnread),uni.$emit("event_vuex_watch_pub_unread",i)},initUnreadMy(e,t){let a=e.pubUnreadMy;typeof t.fans!="undefined"&&(a.fans=Number(t.fans)),typeof t.moment!="undefined"&&(a.moment=Number(t.moment)),typeof t.moment_type!="undefined"&&(a.moment_type=Number(t.moment_type)),e.pubUnreadMy=a,ya(),uni.$emit("event_vuex_watch_pubUnreadMy",a)},setUnreadMy(e,t){let a=e.pubUnreadMy;for(let i in t)a[i]=t[i];e.pubUnreadMy=a,ya(),uni.$emit("event_vuex_watch_pubUnreadMy",a)}},modules:{appDialog:fs,message:vs,call:Fs}}),ce={handleCache(){let e=ce.getCache();h(e)||(e=Ue(e),!ce.checkIsShow()&&(e.from_cache=1,A("appDialog/addDialogBan",e),A("appDialog/executeBanWarningDialog")))},checkIsShow(){return vt()=="/pagesDialog/banned"},setCache(e){let t=JSON.stringify(e);ie(ce.getCacheKey(),t)},getCache(){return F(ce.getCacheKey())},getCacheKey(){return`banned_data_${xs.state.pubUser.uid}`},removeCache(){or(ce.getCacheKey())}},M={setToken(e){h(e)||Ft("pubToken",e)},isLogin(){let e=getApp().globalData.s.state;return!h(e.pubToken)&&e.pubUser.uid},requestOutsourcing(e,t,a,i,n=!1){return M.requestBase(e,t,a,i,n,3)},requestManager(e,t,a,i,n=!1){return M.requestBase(e,t,a,i,n,2)},request(e,t,a,i,n=!1){return M.requestBase(e,t,a,i,n,1)},requestBase(e,t,a,i,n=!1,r){return new Promise((s,l)=>{let o=!1;try{o=getApp().globalData.s.state.pubToken}catch(T){L("error","at common/api.js:35","request token catch "+JSON.stringify(T))}let u={"content-type":"application/json",ua:getApp().globalData.ua},p;r==1?(p=getApp().globalData.apiHost,o&&(u.auth=`Bearer ${o}`)):r==2?(p=getApp().globalData.pApiHost,o&&(u.Authorization=`Bearer ${o}`)):r==3&&(p=getApp().globalData.oApiHost,o&&(u.Authorization=`Bearer ${o}`));let m=!1;if(a)if(a=="refresh")m=!0;else{let T={mask:!0};typeof a=="string"&&(T.title=a),uni.showLoading(T)}Ye.invoke(e,t);let _=Ks(t);uni.request({url:p+e,method:"POST",header:u,data:_,dataType:"json",timeout:1e4,complete(T){if(a&&uni.hideLoading(),L("log","at common/api.js:74",`request ${e} obj ${JSON.stringify(t)}`),T.statusCode==200){let y=T.data;if(y.data&&typeof y.data.callback=="object"&&(M.handleCallback(y.data.callback),n))return Le;if(y.ok===99)return getApp().loginOut(),Le;if(y.ok==-98)return Ys(y.data),i&&l(y),Le;if(h(y.msg)||Or(y.msg),y.ok>0){s(y);return}i&&l(y)}else if(m&&uni.stopPullDownRefresh(),i)l(T),Ye.error(e,t,T);else return Ye.error(e,t,T),Le},fail(T){Ye.fail(e,T)}})})},handleCallback(e){switch(e.func_name){case"alert":Gs(e.func_data);break;case"open":Bs(e.func_data);break;case"vip_alert":U("/pages/vip/vip-dialog",null,"vipDialogData",e.func_data);break;case"recharge_alert":let t={fromType:e.func_data.from_type,diffCoin:e.func_data.diff_coin||0};t.order_source=typeof e.func_data.order_source=="undefined"?0:e.func_data.order_source,t.click_type=typeof e.func_data.click_type=="undefined"?0:e.func_data.click_type,U("/pages/coin/coin-dialog",t,"coinDialogData",e.func_data);break;case"close":gr();break;case"banned_alert":let a=e.func_data.exp_time;if(parseInt(new Date().getTime()/1e3)>a||(A("appDialog/addDialogBan",e.func_data),ce.setCache(e.func_data),vt()=="/pagesDialog/banned"))return;let n=setTimeout(()=>{clearTimeout(n),A("appDialog/executeBanWarningDialog")},e.delay*1e3);break;case"reconnect_mqtt":getApp().socketReconnect(Fr.API_CALL_BACK,e.func_data);break;case"reload_route":getApp().handleSecret(e.func_data,jt.CALLBACK,{});break;case"event":Ws(e.func_data);break;case"api":Vs(e.func_data);break;case"sensitive_alert":U("/pagesDialog/sensitive-check",null,"sensitiveData",e.func_data),uni.hideKeyboard();break;case"free_coins":U("/pagesDialog/coins-free",{coin:e.func_data.free_coins},"coinsFree",{},{});break}},accessLog(e,t){this.request("/other/access-log",{api_name:e,content:Ie(t)})},accessLogExtra(e,t,a){let i=`${Ie(t)} ${Ie(a)}`;this.request("/other/access-log",{api_name:e,content:i})},accessLogApi(e,t,a,i){let n=`url:${t} p:${JSON.stringify(a)} res ${Ie(i)}`;M.accessLog(e,n)}};function Gs(e){let t=e.enter_func,a=e.cancel_title,i=e.enter_title,n=e.cancel_func,r=!h(a);uni.hideKeyboard(),uni.showModal({title:e.title,content:e.msg,showCancel:r,cancelText:r?a:N("cancel"),confirmText:i||N("ok"),complete(s){s.confirm?h(t)||M.handleCallback(t):s.cancel&&(h(n)||M.handleCallback(n))}})}function Bs(e){let t=e.page_name,a=e.data;t=="inside_web"?Ea(a.route,!0):t=="safari"?Ea(a.route,!1):t=="web"?J(a.route):t=="native"?js(a.route):t=="chat"&&(tt().indexOf("/pages/call/chat-view")==-1?fr(a.user_info):uni.$emit("event_no_connect_close_listener",{action:"chat_pri",user:a.user_info}))}function Ws(e){let t=e.event_key;if(h(t))return;let a=e.data;h(a)?uni.$emit(t):uni.$emit(t,a)}function Vs(e){if(e.type==1){let a={user_info:{is_rest:0}};M.request("/user/update-info",a,!0).then(()=>{getApp().pubUser.is_rest=0,He(N("tips"),N("anchorTurnedOffRest"),"",N("gotIt"))})}}function js(e){return new Function("return "+e)()}function Ys(e){tt().indexOf("/pagesDialog/stop_taking")==-1&&(getApp().globalData.appStopTaking=!0,getApp().socketDisconnect(),U("/pagesDialog/stop_taking",{},"stopTakingData",e))}function Ks(e){try{h(e)&&(e={}),e.times=new Date().getTime();let t=Object.keys(e).sort(),a={};for(let n=0,r=t.length;n<r;n++)a[t[n]]=e[t[n]];let i=_i(a).substr(1);return a.sign=yt.md5(`${yt.md5(i)}fMHjgD94yoc6TbB7sGoA`),a}catch(t){return e}}function _i(e,t){if(e==null)return"";try{let a="",i=typeof e;if(i=="string"||i=="number")a+="&"+t+"="+pr(e);else if(i=="boolean")a+="&"+t+"="+(e?1:0);else for(let n in e){let r=t==null?n:t+qs(n);a+=_i(e[n],r)}return a}catch(a){return""}}function qs(e){return`${encodeURIComponent("[")}${e}${encodeURIComponent("]")}`}var hi=(e,t)=>{let a=e.__vccOpts||e;for(let[i,n]of t)a[i]=n;return a};var Ll=Se(Me());function zs(e,t,a,i,n){return new Promise(r=>{getApp().globalData.pluginUpload.singleUpS3({filePath:e,isBase64:t,coverFilePath:a,coverIsBase64:i,ossInfo:n},s=>{r(s)})})}function Ai(e){return new Promise(t=>{getApp().globalData.pluginUpload.uploadList(e,a=>{t(a)})})}var Js=2,qt="/upload/params-s3";function zt(e,t){return new Promise((a,i)=>z(this,null,function*(){let n=[];for(let s=0,l=e.length;s<l;s++){let o=e[s],u={type:o.media_type,flag:t},p=yield Ht(o.filePath);p&&(h(p.digest)||(u.md5=p.digest)),n.push(u)}let r={list:n};M.request(qt,r,!1,!0).then(s=>{let l=[];for(let o=0,u=s.data.list.length;o<u;o++){let p=s.data.list[o];p.is_upload||l.push(p.upload_id)}a({upType:Js,list:s.data.list,uploadIdList:l})},s=>{Zs(r,s),i(s)})}))}function Ei(e,t,a,i,n=null,r=null){return new Promise((s,l)=>z(this,null,function*(){let o=e.replace("file://",""),u={flag:t,type:a};n&&(u.width=n.width,u.height=n.height),r&&(u=Object.assign(u,r));try{if(i){let m=yield Ht(o),_="";m&&(_=m.digest),h(_)||(u.md5=_)}let p=yield M.request(qt,u,!1,!0);if(p.ok==1&&p.data.is_upload)L("log","at common/api-upload.js:73","upload media is_upload true"),s({path:p.data.dir,smallPath:p.data.small_url,uploadId:p.data.upload_id||0});else{let m=p.data.upload_id,_=yield Xs(o,"",p.data);m&&Jt([m]),_.uploadId=m||0,s(_)}}catch(p){let m=Ya(p);L("error","at common/api-upload.js:88","upload media fail "+m),Qs(t,u,m),l(p)}}))}function Jt(e){h(e)||M.request("/upload/success",{id:e},!1,!0).then(t=>{L("error","at common/api-upload.js:162","-----> api upload/success response",t)},t=>{L("error","at common/api-upload.js:164","-----> api upload/success response error",t)})}function Xs(e,t,a,i=0,n=0){return new Promise((r,s)=>{zs(e,i,t,n,a).then(l=>{L("log","at common/api-upload.js:171","upload plugin s3 result",l),(typeof l=="object"?l.success:l)?r({path:a.dir.path,smallPath:a.dir.small_url}):s(`_upModuleS3 ${JSON.stringify(l)}`)})})}function Qs(e,t,a){let i=e=="auth"?"upload_auth":"upload",n=Ie(t);M.accessLogExtra(i,`${e} ${n}`,a)}function Zs(e,t){M.accessLogApi("upload",qt,e,t)}function Si(e){return z(this,null,function*(){try{let t=yield Ci(e.mediaList),a=yield zt(t,"album"),i=Li(e,t,a),n="/coach/media/add",r={album_list:i.mediaList};if(i.upFileList.length>0){let s={type:a.upType,fileList:i.upFileList,api:n,apiParams:r},l=yield Ii(e.id,s,a.uploadIdList,"album");n=l.api,r=l.apiParams}M.request(n,r,!1,!0).then(s=>{uni.$emit("event_album_publish_finish",{status:!0,id:e.id})},()=>{bi(e.id)})}catch(t){L("error","at com/upload.js:59","app upload album catch",t),bi(e.id)}})}function bi(e){L("error","at com/upload.js:65","app upload album publish fail - id = "+e),uni.$emit("event_album_publish_finish",{status:!1,id:e})}function Ti(e){return z(this,null,function*(){try{let t=yield Ci(e.mediaList),a=yield zt(t,"moment"),i=Li(e,t,a),n="/moment/release",r={content:e.content,medias:i.mediaList,auto_type:e.auto_type};if(i.upFileList.length>0){let l={type:a.upType,fileList:i.upFileList,api:n,apiParams:r},o=yield Ii(e.id,l,a.uploadIdList,"moment");n=o.api,r=o.apiParams}if(!h(e.ossList)){e.ossList.length>1&&(e.ossList=e.ossList.reverse());for(let l=0,o=e.ossList.length;l<o;l++)r.medias.unshift(e.ossList[l])}let s=yield M.request(n,r,!1,!0);s.data&&ti(s.data.balance),uni.$emit("event_dynamic_publish_finish",{status:!0,id:e.id,item:{id:s.data.moment_id}})}catch(t){L("error","at com/upload.js:102","app upload dynamic publish catch",t),el(e.id)}})}function el(e){L("error","at com/upload.js:108","app upload dynamic publish fail - id = "+e),uni.$emit("event_dynamic_publish_finish",{status:!1,id:e})}function Ci(e){return z(this,null,function*(){let t=[];for(let a=0,i=e.length;a<i;a++){let n=e[a];n.media_type==S.VIDEO?t.push(yield al(n.url,n.cover_url,n.width,n.height)):n.media_type==S.PHOTO&&t.push(tl(n.url))}return t})}function tl(e){return{media_type:S.PHOTO,filePath:e.replace("file://","")}}function al(e,t,a,i){return z(this,null,function*(){let n=e,r=t,s=yield xt(`${S.isAndroid?"":"file://"}${n}`);if(s?s.size>10*1024*1024:!1){let o=yield Gt(n,"medium");o&&(n=plus.io.convertLocalFileSystemURL(o.tempFilePath),r=yield Pt(n))}return{media_type:S.VIDEO,filePath:n,coverFilePath:r}})}function Di(e,t,a,i){return it(e,t.filePath),{media_type:S.PHOTO,url:e,width:a.width,height:a.height,img_type:a.img_type||"",upload_id:i||0}}function yi(e,t,a,i,n){return it(t,a.coverFilePath),it(e,a.filePath),{media_type:S.VIDEO,url:e,cover_url:t,width:i.width,height:i.height,duration:i.duration,upload_id:n||0}}function Li(e,t,a){let i=[],n=[];for(let r=0,s=t.length;r<s;r++){let l=t[r],o=e.mediaList[r],u=a.list[r];u.is_upload?l.media_type==S.PHOTO?n.push(Di(u.dir,l,o,u.upload_id)):l.media_type==S.VIDEO&&n.push(yi(u.dir,u.cover_url,l,o,u.upload_id)):(l.ossInfo=u,i.push(l),l.media_type==S.PHOTO?n.push(Di(u.dir.path,l,o,u.upload_id)):l.media_type==S.VIDEO&&n.push(yi(u.dir.path,u.dir.cover_path,l,o,u.upload_id)))}return{upFileList:i,mediaList:n}}function Ii(e,t,a,i){return new Promise((n,r)=>{Ai(t).then(s=>{s.status?(n(s),Jt(a)):(M.accessLogExtra("upload",i,s.msg),r(s))})})}function il(e){let t=`${$t("apps",!1)}agora_log/`;return e==-1?t:`${t}${getApp().globalData.uid}_${e}.log`}function Ni(e){if(h(e.room_id))return;let t=il(e.room_id);Ei(t,Pa.AGORA,S.TXT,!1,null,{room_id:e.room_id}).then(a=>{Ut(t,!0,!1)})}function wi(){L("error","at comExtend/agora-util.js:23","----> \u5220\u9664 \u58F0\u7F51\u65E5\u5FD7");let e=`${$t("apps",!1)}agora_log/`;Ut(e)}var kl=Se(Me());function Ri(e,t){let a=nl();return new Promise(i=>{let n=0;Re(`SELECT * FROM ${a} WHERE uid = ${e.uid} LIMIT 1`).then(r=>{if(r.length>0)if(t&&Mt(r[0],e)){n=1;let s=`UPDATE ${a} SET nickname = '${K(e.nickname)}', avatar = '${e.avatar}', sex = ${v(e.sex)}, birthday = '${oe(e.birthday)}', is_vip = ${v(e.is_vip)}, is_auth = ${v(e.is_auth)}, level = ${v(e.level)}, country_code = '${oe(e.country_code)}', country_flag = '${oe(e.country_flag)}', language = '${oe(e.language)}', hide_vip = ${v(e.hide_vip)}, hide_level = ${v(e.hide_level)}, hide_profile = ${v(e.hide_profile)}, auth_status = ${v(e.auth_status)} WHERE uid = ${e.uid}`;le(s).then(()=>{i(n)},()=>{i(n)})}else i(n);else{n=2;let s=`INSERT INTO ${a} (uid, nickname, avatar, sex, birthday, is_vip, is_auth, level, country_code, country_flag, language, hide_vip, hide_level, hide_profile, auth_status) VALUES (${e.uid}, '${K(e.nickname)}', '${e.avatar}', ${v(e.sex)}, '${oe(e.birthday)}', ${v(e.is_vip)}, ${v(e.is_auth)}, ${v(e.level)}, '${oe(e.country_code)}', '${oe(e.country_flag)}', '${oe(e.language)}', ${v(e.hide_vip)}, ${v(e.hide_level)}, ${v(e.hide_profile)}, ${v(e.auth_status)})`;le(s).then(()=>{i(n)},()=>{i(n)})}},()=>{i(n)})})}function nl(){return getApp().globalData.uid==2256587?"tb_user_1":"tb_user"}function rl(e,t){return new Promise(a=>{let i=`SELECT * FROM tb_msg_index WHERE chat_id = ${e} AND chat_type = ${t} LIMIT 1`;Re(i).then(n=>{let r=n[0];r&&(r.msg_content=Ot(r.msg_content)),a(r)},()=>{a(null)})})}function sl(e,t){return new Promise(a=>{let i=Mi(e,t);try{let n=`CREATE TABLE IF NOT EXISTS ${i} (id INTEGER PRIMARY KEY AUTOINCREMENT, chat_id INTEGER, chat_type INTEGER, send_uid INTEGER, mtime INTEGER, ctime INTEGER, msg_type INTEGER, msg_content varchar(500), msg_status INTEGER, m_type INTEGER, remark varchar(500))`;le(n).then(()=>{le(`CREATE index IF NOT EXISTS idx_ctime on ${i} (chat_id, ctime, chat_type)`),le(`CREATE index IF NOT EXISTS idx_mtime on ${i} (chat_id, mtime)`),a()})}catch(n){a()}})}function Oi(e,t){let a=1;return new Promise(i=>{sl(e.chat_id,e.chat_type).then(()=>ll(e)).then(n=>n!=1?(i({isSave:0,isNotice:a}),Le):rl(e.chat_id,e.chat_type)).then(n=>{let r=Ue(e.msg_content),s=typeof e.msg_status=="undefined"?0:Number(e.msg_status);isNaN(s)&&(s=0);let l,o=ol(e,r),u=0,p,m="";h(e.remark)?n&&(m=n.remark||""):m=e.remark,n?(p=n.unread<=0,o?a=0:a=n.msg_notice,n.ctime<e.ctime&&(t&&e.send_uid!=getApp().globalData.uid&&getApp().globalData.curChatId!=e.chat_id?(u=o?0:1,l=`UPDATE tb_msg_index SET unread = ${n.unread+u}, send_uid = ${e.send_uid}, msg_type = ${e.msg_type}, msg_content = '${K(e.msg_content)}', mtime = ${e.mtime}, ctime = ${e.ctime}, msg_status = ${s}, remark = '${K(m)}' WHERE chat_id = ${e.chat_id} AND chat_type = ${e.chat_type}`):l=`UPDATE tb_msg_index SET send_uid = ${e.send_uid}, msg_type = ${e.msg_type}, msg_content = '${K(e.msg_content)}', mtime = ${e.mtime}, ctime = ${e.ctime}, msg_status = ${s}, remark = '${K(m)}' WHERE chat_id = ${e.chat_id} AND chat_type = ${e.chat_type}`)):(p=!0,a=o?0:1,u=t&&e.send_uid!=getApp().globalData.uid&&!o?1:0,l=`INSERT INTO tb_msg_index (chat_id, chat_type, send_uid, msg_type, msg_content, mtime, ctime, unread, is_top, msg_notice, has_at, msg_status, remark) values (${e.chat_id}, ${e.chat_type}, ${e.send_uid}, ${e.msg_type}, '${K(e.msg_content)}', ${e.mtime}, ${e.ctime}, ${u}, ${v(e.is_top)}, ${ul(e.msg_notice)}, 0, ${s}, '${K(m)}')`),h(l)?i({isSave:1,isNotice:0,unread:u,addTabUnread:p}):le(l).then(_=>{i({isSave:1,isNotice:a,unread:u,addTabUnread:p})})})})}function ll(e){return new Promise(t=>{let a=Mi(e.chat_id,e.chat_type);Re(`SELECT * FROM ${a} WHERE chat_id = ${e.chat_id} AND mtime = ${e.mtime} LIMIT 1`).then(i=>{if(i[0]){t(2);return}e.ctime=ai(e.ctime,e.mtime);let r=`INSERT INTO ${a} (chat_id, chat_type, send_uid, mtime, ctime, msg_type, msg_content, msg_status, m_type, remark) VALUES (${e.chat_id}, ${e.chat_type}, ${e.send_uid}, ${e.mtime}, ${e.ctime}, ${e.msg_type}, '${K(e.msg_content)}', ${v(e.msg_status)}, 0, '')`;le(r).then(()=>{t(1)},()=>{t(0)})},i=>{t(0)})})}function ol(e,t){return e.msg_type==S.M_MATCH_SUCCESS?!0:e.msg_type!=S.M_CALL||e.send_uid==getApp().globalData.uid?!1:t.call_status==2||t.call_status==1}function ul(e){return e==null?1:parseInt(e)}function Mi(e,t){let a=cl();if(t==S.M_CHAT_CLUB)return`${a}${e}`;if(e==S.SYSTEM_ID)return`${a}${e}`;let i=Number(e)%10;return`${a}${i}`}function cl(){return"tb_msg_"}var vi={};function $i(e,t="",a={}){if(pl()&&typeof vi.fbEvent!="undefined")try{vi.fbEvent({event:e,valueToSum:t,params:a},function(){L("info","at comEvent/event.js:17",`fbEvent ${e} success`)},function(){L("error","at comEvent/event.js:19",`fbEvent ${e} error`)})}catch(i){}}function pl(){return!(!S.isAndroid&&S.appV<133)}function Pi(e,t=!1,a=!1){let i=`${e}_click`;if(a){let n=`${i}_total`;$i(n)}t&&(i=`${i}_${gl()}`),$i(i)}function gl(e){return se()?e?"anchor".substr(0,6-e):"anchor":"user"}var fl=[{id:"es",title:"espa\xF1ol",code:"es"},{id:"en",title:"English",code:"en"},{id:"ar",title:"\u0639\u0631\u0628\u064A",code:"ar"},{id:"fr",title:"Fran\xE7ais",code:"fr"},{id:"pt",title:"Portugu\xEAs",code:"pt"},{id:"vi",title:"Ti\u1EBFng Vi\u1EC7t",code:"vi"},{id:"tr",title:"T\xFCrk",code:"tr"},{id:"it",title:"Italiano",code:"it"},{id:"id",title:"bahasa Indonesia",code:"id"},{id:"de",title:"Deutsch",code:"de"},{id:"ru",title:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",code:"ru"},{id:"ro",title:"Rom\xE2n\u0103",code:"ro"},{id:"ms",title:"Melayu",code:"ms"},{id:"pl",title:"Polski",code:"pl"},{id:"nl",title:"Nederlands",code:"nl"},{id:"th",title:"\u0E44\u0E17\u0E22",code:"th"},{id:"iw",title:"\u05E2\u05B4\u05D1\u05E8\u05B4\u05D9\u05EA",code:"iw"},{id:"ja",title:"\u65E5\u672C",code:"ja"},{id:"hu",title:"Magyar",code:"hu"},{id:"sv",title:"svenska",code:"sv"},{id:"ko",title:"\uD55C\uAD6D\uC5B4 \uACF5\uBD80 \uD574\uC694.",code:"ko"},{id:"uk",title:"\u0443\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430",code:"uk"},{id:"mn",title:"\u041C\u043E\u043D\u0433\u043E\u043B",code:"mn"}];function ki(){let e=at(!1),t=-1,a=Ue(JSON.stringify(fl));if(a.filter((i,n)=>{let r=e==i.code;return r&&(t=n),r}),t!=-1){let i=a[t];a.splice(t,1),a.unshift(i)}return a}var De=Se(Me()),no=Se(ct());var Hi=getApp().globalData.window,Fi=Hi.width-uni.upx2px(40),Ui=wa("dom"),ml={data(){return{sW:Hi.width,appName:kt().name,isShowAuthTip:!F("tab_user_auth_tip"),bannerW:Fi,bannerH:parseInt(Fi*.124),bannerShowGame:0,curIndex:1,tabList:[],pageList:[],showRank:!1,callRefuseAnswerCount:0,useBg1_1:!0,statusBarFontColor:"#FFFFFF",themeColor:getApp().globalData.themeObj.color,isAdmin:!1,isShowBoost:!1,boostObj:{},gameInfo:!1,useGrid:!!S.isAndroid,dialogExtra:null,rankBannerList:[],authTipsW:getApp().globalData.window.width-uni.upx2px(120),homeInitFinish:!1,showTopGameEnter:!1,scrollLeft:0,langFilterStr:"",tabSizeList:[],tabScrollW:getApp().globalData.window.width-uni.upx2px(82),curScrollLeft:0}},computed:{showBanner(){return this.bannerShowGame||this.showRank||this.bannerShowLuckyWheel},showAuthTip(){return this.curIndex!=3&&this.isShowAuthTip},tabScrollId(){return this.tabList[this.curIndex].id},viewBg(){return this.themeColor.bg2},modeIconSrc(){return getApp().globalData.themeObj.style==Ee.LIGHT?"s/pub/moon_b.png":"s/pub/sun_w.png"},lotteryViewBottom(){let e=parseInt(getApp().globalData.window.height*.074),t=uni.upx2px(200),a=16*getApp().globalData.window.scaleH,i=uni.upx2px(180),n=20*getApp().globalData.window.scaleH;return e+t+a+i+n},listSortIcon(){return this.useGrid?"s/pub/user_sort_list_3.png":"s/pub/user_sort_grid_3.png"},viewAuthBg(){return getApp().globalData.themeObj.style==Ee.LIGHT?"rgba(232, 245, 255, 0.9);":"rgba(0, 29, 51, 0.9)"},gameHallIconSrc(){return getApp().globalData.themeObj.style==Ee.LIGHT?"s/pub/game_hall_b.png":"s/pub/game_hall.png"},showFilterStr(){return h(this.langFilterStr)?this.filterStr:this.langFilterStr},currentTab(){return this.tabList[this.curIndex]}},methods:{$str:N,clickGameHall(e){e&&e.stopPropagation(),J("/pagesPub/game-hall/game-hall")},clickRankEnter(e,t){e&&e.stopPropagation(),J("/pagesPub/ranking-list/ranking-list",{curIdx:t}),Pi(`home_rank_${t==0?"anchor":"user"}`)},clickSortWay(e){e&&e.stopPropagation(),this.useGrid=!this.useGrid;let t=this.useGrid?2:1;ie("user_list_sort_"+getApp().globalData.uid,t),this.$nextTick(()=>{for(let a=0,i=this.tabList.length;a<i;a++){let n=this.tabList[a],r=this.useGrid?`page${a}_1`:`page${a}`;!n.isLanguage||n.flag==this.tabList[this.curIndex].flag?this.$refs[r][0].loadData(!0):this.pageList[a].list=[]}})},clickChangeMode(e){e&&e.stopPropagation();let t=getApp().globalData.themeObj.style==Ee.LIGHT?Ee.DARK:Ee.LIGHT;ei(t)},clickSearch(e){e&&e.stopPropagation(),J("/pagesPub/user/search")},clickAuthTip(){let e=this.pubUser.auth_status;e==1?He(N("tips"),N("auth.successTips"),"",N("gotIt")):e==2?He(N("tips"),N("auth.checkingTips"),"",N("gotIt")):J("/pagesPub/edit/index",{from_auth:1})},clickCloseAuthTip(e){e&&e.stopPropagation(),ie("tab_user_auth_tip",1),this.isShowAuthTip=!1},clickGameEnter(e){e&&e.stopPropagation(),qa()},clickTabTitle(e){this.curIndex!=e&&(this.curIndex=e,this.parseFilterStr(),this.parseTabSize(()=>{let t=0,a=0;for(let r=0,s=this.tabSizeList.length;r<s;r++){let l=this.tabSizeList[r].width;a+=l+6,!(r>=e)&&(t+=l+6)}t+=6;let i=this.tabSizeList[e].width,n=this.tabScrollW/2;this.tabSizeList[e].left<=n?(this.scrollLeft=this.curScrollLeft,this.$nextTick(()=>{this.scrollLeft=0})):a-t<=n?(this.scrollLeft=this.curScrollLeft,this.$nextTick(()=>{let r=S.isAndroid?10:2;this.scrollLeft=a-this.tabScrollW+r})):this.scrollLeft=t-(n-i/2)}))},getTabSize(e){return new Promise(t=>{Ui.getComponentRect(this.$refs["tab_"+e][0],a=>{if(a&&a.size){let i=a.size;t({left:i.left,width:i.width})}else t(null)})})},getRefSize(e){return new Promise(t=>{Ui.getComponentRect(this.$refs[e],a=>{a&&a.size?t(a.size):t()})})},parseTabSize(e){return z(this,null,function*(){if(this.tabSizeList.length>0){typeof e=="function"&&e();return}let t=this.$refs.tabScrollView;if(!t)return;this.tabSizeList=[],t.children.length;for(let i=0;i<this.tabList.length;i++){let n=this.tabList[i],r=yield this.getTabSize(n.id);r&&this.tabSizeList.push(r)}typeof e=="function"&&e()})},onScrollView(e){this.curScrollLeft=e.detail.scrollLeft},onClickRefresh(){let e=this.useGrid?`page${this.curIndex}_1`:`page${this.curIndex}`,t=this.$refs[e][0];t&&(t.scrollToTop(!0),t.handleRefresh(()=>{this.$refs.homeRefresh.refreshFinish()}))},onSwiperChange(e){this.clickTabTitle(e.detail.current),this.curIndex=e.detail.current;let t=this.pageList[this.curIndex];if(t.list.length<=0){let a=this.useGrid?`page${this.curIndex}_1`:`page${this.curIndex}`;this.$refs[a][0].loadData(!0,()=>{this.pageList[this.curIndex]=this.$refs[a][0]})}t.onShowListener()},onRankValChange(e){if(this.showTopGameEnter=e.game,this.showRank=e.rank,this.showRank){let t={title:N("rank.ofGuys"),banner:"s/rank/bg_guys_enter_h44.png",curIdx:1,color:"#FDEF94"},a={title:N("rank.ofGirls"),banner:"s/rank/bg_girls_enter_h44.png",curIdx:0,color:"#FFDAED"};se()?this.rankBannerList=[t,a]:this.rankBannerList=[a,t]}this.homeInitFinish||(this.homeInitFinish=!0,this.$nextTick(()=>{this.onRankGameInitAfter()}))},onRankGameInitAfter(){!this.userInitFinish||!this.homeInitFinish||(!st(this.useGrid)&&!this.needResetFilter?nt("appDialog/init",{data:this.dialogExtra}):this.$nextTick(()=>{let e={},t=0,a=0;st(this.useGrid)&&(t+=1,this.getRefSize("gridIcon").then(i=>{e.grid=i,a+=1,a==t&&nt("appDialog/init",{data:this.dialogExtra,homeViewSizeObj:e})})),this.needResetFilter&&(t+=1,this.getRefSize("viewFilter").then(i=>{e.filter=i,a+=1,a==t&&nt("appDialog/init",{data:this.dialogExtra,homeViewSizeObj:e})}))}))},onBoostValChange(e){if(h(e)){this.isShowBoost=!1;return}this.boostObj=e,this.isShowBoost=!0},onEventBoostListener(e){e?(this.curIndex=0,this.pageList[this.curIndex].loadData(!0),this.pageList[1]&&this.pageList[1].loadData(!0)):(this.pageList[0]&&this.pageList[0].loadData(!0),this.pageList[1]&&this.pageList[1].loadData(!0))},onEventGameShowWindow(e){this.gameInfo=e,getApp().globalData.isGameWindowShow=!!this.gameInfo},onEventSayHello(e){return z(this,null,function*(){for(let t=0,a=e.length;t<a;t++){let i=e[t];i.small_avatar&&(i.avatar=i.small_avatar),yield Ri(i,!1);let n={msg_content:JSON.stringify({content:N("msg.greetTip",{him:Wa(i.sex),he:Va(i.sex)})}),mtime:new Date().getTime()*1e3,chat_id:i.uid,send_uid:S.SYSTEM_ID,msg_type:S.M_NOTICE,chat_type:S.M_CHAT_PRI};yield Oi(n,!1),uni.$emit("event_msg_index_refresh")}})},onEventMessagePriClose(){getApp().globalData.s.state.message.curSendCont>0&&(A("message/clearSendCount"),setTimeout(()=>{A("appDialog/addDialogNotify",!0)},300))},onEventUserInitAfter(e){this.initFilter(),this.bannerShowGame=getApp().globalData.luckyNumberShow,this.isAdmin=Bt(),this.dialogExtra={share:{delay:e.config.share_delay||2,data:e.config.share_reward_tips},pay:e.config.pay_dialog,greet:e.config.greet,authList:e.config.auth_list,notifyTips:e.config.notification_tips,homeFilterSex:this.filterTargetSex},e.secret?(getApp().handleSecret(e.secret,jt.INIT),e.secret.type==oi.HIDE&&this.onRankGameInitAfter()):this.onRankGameInitAfter(),typeof e.wheel_free_count!="undefined"&&e.wheel_free_count>0&&J("/pagesDialog/prize-wheel-free",{free_count:e.wheel_free_count}),this.checkFilterDialogByStayDuration()},onEventAppDialogCloseGuide(e){e.from_type==1&&(ie("show_guide_cover_grid_"+getApp().globalData.uid,1),this.clickSortWay())},onCallRefuseAnswer(){if(ci()){let e=new Date().getTime();getApp().globalData.s.commit("call/addCallDisturbReceiveCount",e)}},onPaySuccess(){this.bannerShowGame=1,getApp().globalData.luckyNumberShow=1,this.pageList[this.curIndex].loadData(!0)},parseFilterStr(){if(!this.tabList[this.curIndex].isLanguage){this.langFilterStr="";return}let t=this.filterParams.language;if(!t||t.length<=0){this.langFilterStr="";return}let a=this.filterParams.country_code,i=a&&a.length>0?2:1,n=this.filterStr.split(" \xB7 ");n.splice(i,1),this.langFilterStr=n.join(" \xB7 ")},parseLangTab(e){let t=ki();t=JSON.parse(JSON.stringify(t));for(let a=0,i=t.length;a<i;a++){let n=t[a];n.type=e,n.flag=n.code,n.isLanguage=!0,this.tabList.push(n)}}},onTabItemTap(){},onShow(){let e=this.pageList[this.curIndex];e&&typeof e.onShowListener!="undefined"&&e.onShowListener(),this.tabBarChange(ge.USER)},onReady(){for(let e=0,t=this.tabList.length;e<t;e++){let a=this.useGrid?this.$refs[`page${e}_1`]:this.$refs[`page${e}`];a&&this.pageList.push(a[0])}this.pageList[this.curIndex].loadData(!0)},onLoad(){let e=F("user_list_sort_"+getApp().globalData.uid);Rt(e)||(this.useGrid=e==2),getApp().init(),uni.$on("event_pay_success_coins",this.onPaySuccess),uni.$on("event_pay_success_vip",this.onPaySuccess),uni.$on("event_boost_listener",this.onEventBoostListener),uni.$on("event_game_show_window",this.onEventGameShowWindow),uni.$on("event_app_dialog_close_guide",this.onEventAppDialogCloseGuide),uni.$on("event_app_dialog_seeking_sex_after",this.onEventAppDialogSeekSexAfter),uni.$on("event_route_dialog_close_after",this.onRankGameInitAfter),ce.handleCache(),uni.$on("event_dynamic_publish",t=>{Ti(t)}),uni.$on("event_album_publish",t=>{Si(t)}),uni.$on("event_agora_log",Ni),uni.$on("event_call_refuse_answer",this.onCallRefuseAnswer),uni.$on("event_say_hello",this.onEventSayHello),uni.$on("event_message_pri_close",this.onEventMessagePriClose),uni.$on("event_call_close_after_success",this.onEventCallCloseAfterSuccess),uni.$on("event_app_hide",this.onEventAppHide),uni.$on("event_app_show",this.onEventAppShow),wi()},onUnload(){uni.$off("event_pay_success_coins",this.onPaySuccess),uni.$off("event_pay_success_vip",this.onPaySuccess),uni.$off("event_boost_listener",this.onEventBoostListener),uni.$off("event_game_show_window",this.onEventGameShowWindow),uni.$off("event_dynamic_publish"),uni.$off("event_album_publish"),uni.$off("event_agora_log"),uni.$off("event_call_refuse_answer"),uni.$off("event_say_hello",this.onEventSayHello),uni.$off("event_app_dialog_close_guide",this.onEventAppDialogCloseGuide),uni.$off("event_app_dialog_seeking_sex_after",this.onEventAppDialogSeekSexAfter),uni.$off("event_route_dialog_close_after",this.onRankGameInitAfter),uni.$off("event_message_pri_close",this.onEventMessagePriClose),uni.$off("event_call_close_after_success",this.onEventCallCloseAfterSuccess),uni.$off("event_app_hide",this.onEventAppHide),uni.$off("event_app_show",this.onEventAppShow)}},dl={mixins:[ml]};function _l(e,t,a,i,n,r){return(0,De.openBlock)(),(0,De.createElementBlock)("scroll-view",{scrollY:!0,showScrollbar:!0,enableBackToTop:!0,bubble:"true",style:{flexDirection:"column"}},[(0,De.createElementVNode)("view",{style:{"padding-top":"100px"}},[(0,De.createElementVNode)("u-text",{style:{color:"#FFFFFF"}},"this is find index")])])}var lt=hi(dl,[["render",_l]]);var Xt=plus.webview.currentWebview();if(Xt){let e=parseInt(Xt.id),t="pages/find/index",a={};try{a=JSON.parse(Xt.__query__)}catch(n){}lt.mpType="page";let i=Vue.createPageApp(lt,{$store:getApp({allowDefault:!0}).$store,__pageId:e,__pagePath:t,__pageQuery:a});i.provide("__globalStyles",Vue.useCssStyles([...__uniConfig.styles,...lt.styles||[]])),i.mount("#root")}})();
/*!
  * @intlify/shared v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/message-resolver v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/runtime v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/message-compiler v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/core-base v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * vue-i18n v9.1.9
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */
