"use weex:vue";

if (typeof Promise !== 'undefined' && !Promise.prototype.finally) {
  Promise.prototype.finally = function(callback) {
    const promise = this.constructor
    return this.then(
      value => promise.resolve(callback()).then(() => value),
      reason => promise.resolve(callback()).then(() => {
        throw reason
      })
    )
  }
};

if (typeof uni !== 'undefined' && uni && uni.requireGlobal) {
  const global = uni.requireGlobal()
  ArrayBuffer = global.ArrayBuffer
  Int8Array = global.Int8Array
  Uint8Array = global.Uint8Array
  Uint8ClampedArray = global.Uint8ClampedArray
  Int16Array = global.Int16Array
  Uint16Array = global.Uint16Array
  Int32Array = global.Int32Array
  Uint32Array = global.Uint32Array
  Float32Array = global.Float32Array
  Float64Array = global.Float64Array
  BigInt64Array = global.BigInt64Array
  BigUint64Array = global.BigUint64Array
};


(()=>{var Zi=Object.create;var Mt=Object.defineProperty,Qi=Object.defineProperties,en=Object.getOwnPropertyDescriptor,tn=Object.getOwnPropertyDescriptors,an=Object.getOwnPropertyNames,na=Object.getOwnPropertySymbols,nn=Object.getPrototypeOf,oa=Object.prototype.hasOwnProperty,rn=Object.prototype.propertyIsEnumerable;var ra=(e,t,a)=>t in e?Mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,De=(e,t)=>{for(var a in t||(t={}))oa.call(t,a)&&ra(e,a,t[a]);if(na)for(var a of na(t))rn.call(t,a)&&ra(e,a,t[a]);return e},Re=(e,t)=>Qi(e,tn(t));var la=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var on=(e,t,a,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of an(t))!oa.call(e,n)&&n!==a&&Mt(e,n,{get:()=>t[n],enumerable:!(i=en(t,n))||i.enumerable});return e};var ue=(e,t,a)=>(a=e!=null?Zi(nn(e)):{},on(t||!e||!e.__esModule?Mt(a,"default",{value:e,enumerable:!0}):a,e));var K=(e,t,a)=>new Promise((i,n)=>{var r=c=>{try{s(a.next(c))}catch(u){n(u)}},o=c=>{try{s(a.throw(c))}catch(u){n(u)}},s=c=>c.done?i(c.value):Promise.resolve(c.value).then(r,o);s((a=a.apply(e,t)).next())});var de=la((Ml,sa)=>{sa.exports=Vue});var Lt=la((Ll,ca)=>{ca.exports=uni.Vuex});var ye=ue(de());var D=ue(de()),ka=ue(Lt());var ln=e=>typeof e=="string";function fe(e){return weex.requireModule(e)}function B(e,t,...a){uni.__log__?uni.__log__(e,t,...a):console[e].apply(console,[...a,t])}function me(e,t){return ln(e)?t:e}var sn="dev",Pa,Fa,xa,Ra,Ua;Pa="https://ztest1.candychat.link",Ra="https://mtest2.candychat.link",Ua="https://atest3.267girl.com",Fa="https://pic2.candychat.link/",xa="https://pic3.candychat.link/";var cn={wv:"13.2.0",ENV:sn,apiHost:Pa,ossPath:Fa,pApiHost:Ra,oApiHost:Ua,ossPicPath:xa,zT:3,appId:plus.runtime.appid,appV:parseInt(plus.runtime.version.split(".").join("")),OSS_PATH_V:1,OSS_PIC_PATH_V:1,API_HOST_V:1,isAndroid:plus.os.name=="Android",PHOTO:1,VIDEO:2,VOICE:3,TXT:4,SYSTEM_ID:1e7,M_TEXT:1,M_VOICE:2,M_IMG:3,M_GIFT:5,M_NOTICE:6,M_CALL:8,M_RECOMMEND_USER:11,M_RECOMMEND_CLUB:12,M_VIDEO:18,M_GIFT_ASK:21,M_NOTICE_SYS:22,M_EXPRESSION:23,M_LETTER:24,M_PAID_PHOTO:25,M_PAID_VIDEO:26,M_MATCH_SUCCESS:27,M_N_DEF:100,M_N_AUDIT:103,M_N_VIP:104,M_N_RECHARGE:105,M_N_CLUB_AUDIT_REJECT:106,M_N_CLUB_AUDIT:107,M_N_GREETING_AUDIT:115,M_N_SYS_NOTICE:116,M_N_CALL:117,M_N_COOPERATE:118,M_N_WITHDRAW:119,M_N_REPORT_AUDIT:120,M_N_IMG:121,M_N_PRIVACY_CALL:122,M_N_WITHDRAW_NOTICE:123,M_N_WITH_MEDIA:124,M_N_MONITOR:202,M_C_RECHARGE:1001,M_C_CALL_TEXT_AUDIO:1002,M_CHAT_PRI:1,M_CHAT_CLUB:2,M_CHAT_ASS:3,M_CHAT_NOTICE:4,M_CHAT_NOTIFY:5,M_CHAT_CLUB_NOTICE:6,PAY_TYPE_SUCCESS:0,PAY_TYPE_FAIL:1,PAY_TYPE_CANCEL:2,PAY_TYPE_NOT_EXIST:3,PAY_TYPE_NOT_ALLOW:4,PAY_TYPE_ERROR:5,MATCH_PRICE:10},ne=cn;var Pe={FIND:0,USER:1,MSG:2,MY:3},Ze={FIND:"/pages/user/index",MSG:"/pages/msg/index",CALL:"/pages/call-history/index",USER:"/pages/user/index",MY:"/pages/my/index"};var un={en:{title:"English",language:"en",code:"en-US"},es:{title:"espa\xF1ol",language:"es",code:"es-ES"},ar:{title:"\u0639\u0631\u0628\u064A",language:"ar",code:"ar-SA"},vi:{title:"Ti\u1EBFng Vi\u1EC7t",language:"vi",code:"vi-VN"},tr:{title:"T\xFCrk\xE7e",language:"tr",code:"tr-TR"},pt:{title:"Portugu\xEAs",language:"pt",code:"pt-PT"}};var dn={DISBAND:1,CHECK_RESULT:2};var fn=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",_e=e=>fn?Symbol(e):e,mn=(e,t,a)=>pn({l:e,k:t,s:a}),pn=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),z=e=>typeof e=="number"&&isFinite(e),gn=e=>Ht(e)==="[object Date]",ot=e=>Ht(e)==="[object RegExp]",dt=e=>L(e)&&Object.keys(e).length===0;function hn(e,t){typeof console!="undefined"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}var Q=Object.assign;function ua(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}var _n=Object.prototype.hasOwnProperty;function Ba(e,t){return _n.call(e,t)}var j=Array.isArray,q=e=>typeof e=="function",A=e=>typeof e=="string",U=e=>typeof e=="boolean",X=e=>e!==null&&typeof e=="object",Va=Object.prototype.toString,Ht=e=>Va.call(e),L=e=>Ht(e)==="[object Object]",An=e=>e==null?"":j(e)||L(e)&&e.toString===Va?JSON.stringify(e,null,2):String(e);var bn=Object.prototype.hasOwnProperty;function yn(e,t){return bn.call(e,t)}var nt=e=>e!==null&&typeof e=="object",Ae=[];Ae[0]={w:[0],i:[3,0],["["]:[4],o:[7]};Ae[1]={w:[1],["."]:[2],["["]:[4],o:[7]};Ae[2]={w:[2],i:[3,0],[0]:[3,0]};Ae[3]={i:[3,0],[0]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};Ae[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};Ae[5]={["'"]:[4,0],o:8,l:[5,0]};Ae[6]={['"']:[4,0],o:8,l:[6,0]};var Cn=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Dn(e){return Cn.test(e)}function Sn(e){let t=e.charCodeAt(0),a=e.charCodeAt(e.length-1);return t===a&&(t===34||t===39)?e.slice(1,-1):e}function Tn(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Mn(e){let t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:Dn(t)?Sn(t):"*"+t}function Ln(e){let t=[],a=-1,i=0,n=0,r,o,s,c,u,f,_,C=[];C[0]=()=>{o===void 0?o=s:o+=s},C[1]=()=>{o!==void 0&&(t.push(o),o=void 0)},C[2]=()=>{C[0](),n++},C[3]=()=>{if(n>0)n--,i=4,C[0]();else{if(n=0,o===void 0||(o=Mn(o),o===!1))return!1;C[1]()}};function T(){let S=e[a+1];if(i===5&&S==="'"||i===6&&S==='"')return a++,s="\\"+S,C[0](),!0}for(;i!==null;)if(a++,r=e[a],!(r==="\\"&&T())){if(c=Tn(r),_=Ae[i],u=_[c]||_.l||8,u===8||(i=u[0],u[1]!==void 0&&(f=C[u[1]],f&&(s=r,f()===!1))))return;if(i===7)return t}}var da=new Map;function lt(e,t){if(!nt(e))return null;let a=da.get(t);if(a||(a=Ln(t),a&&da.set(t,a)),!a)return null;let i=a.length,n=e,r=0;for(;r<i;){let o=n[a[r]];if(o===void 0)return null;n=o,r++}return n}function vt(e){if(!nt(e))return e;for(let t in e)if(yn(e,t))if(!t.includes("."))nt(e[t])&&vt(e[t]);else{let a=t.split("."),i=a.length-1,n=e;for(let r=0;r<i;r++)a[r]in n||(n[a[r]]={}),n=n[a[r]];n[a[i]]=e[t],delete e[t],nt(n[a[i]])&&vt(n[a[i]])}return e}var En=e=>e,wn=e=>"",In="text",vn=e=>e.length===0?"":e.join(""),Nn=An;function fa(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function On(e){let t=z(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(z(e.named.count)||z(e.named.n))?z(e.named.count)?e.named.count:z(e.named.n)?e.named.n:t:t}function kn(e,t){t.count||(t.count=e),t.n||(t.n=e)}function Pn(e={}){let t=e.locale,a=On(e),i=X(e.pluralRules)&&A(t)&&q(e.pluralRules[t])?e.pluralRules[t]:fa,n=X(e.pluralRules)&&A(t)&&q(e.pluralRules[t])?fa:void 0,r=b=>b[i(a,b.length,n)],o=e.list||[],s=b=>o[b],c=e.named||{};z(e.pluralIndex)&&kn(a,c);let u=b=>c[b];function f(b){let E=q(e.messages)?e.messages(b):X(e.messages)?e.messages[b]:!1;return E||(e.parent?e.parent.message(b):wn)}let _=b=>e.modifiers?e.modifiers[b]:En,C=L(e.processor)&&q(e.processor.normalize)?e.processor.normalize:vn,T=L(e.processor)&&q(e.processor.interpolate)?e.processor.interpolate:Nn,S=L(e.processor)&&A(e.processor.type)?e.processor.type:In,O={list:s,named:u,plural:r,linked:(b,E)=>{let R=f(b)(O);return A(E)?_(E)(R):R},message:f,type:S,interpolate:T,normalize:C};return O}function Wa(e,t,a={}){let{domain:i,messages:n,args:r}=a,o=e,s=new SyntaxError(String(o));return s.code=e,t&&(s.location=t),s.domain=i,s}var Fn="9.1.9",ft=-1,ma="";function xn(){return{upper:e=>A(e)?e.toUpperCase():e,lower:e=>A(e)?e.toLowerCase():e,capitalize:e=>A(e)?`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`:e}}var Rn,pa=0;function Un(e={}){let t=A(e.version)?e.version:Fn,a=A(e.locale)?e.locale:"en-US",i=j(e.fallbackLocale)||L(e.fallbackLocale)||A(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:a,n=L(e.messages)?e.messages:{[a]:{}},r=L(e.datetimeFormats)?e.datetimeFormats:{[a]:{}},o=L(e.numberFormats)?e.numberFormats:{[a]:{}},s=Q({},e.modifiers||{},xn()),c=e.pluralRules||{},u=q(e.missing)?e.missing:null,f=U(e.missingWarn)||ot(e.missingWarn)?e.missingWarn:!0,_=U(e.fallbackWarn)||ot(e.fallbackWarn)?e.fallbackWarn:!0,C=!!e.fallbackFormat,T=!!e.unresolving,S=q(e.postTranslation)?e.postTranslation:null,O=L(e.processor)?e.processor:null,b=U(e.warnHtmlMessage)?e.warnHtmlMessage:!0,E=!!e.escapeParameter,R=q(e.messageCompiler)?e.messageCompiler:Rn,k=q(e.onWarn)?e.onWarn:hn,g=e,I=X(g.__datetimeFormatters)?g.__datetimeFormatters:new Map,te=X(g.__numberFormatters)?g.__numberFormatters:new Map,Ce=X(g.__meta)?g.__meta:{};return pa++,{version:t,cid:pa,locale:a,fallbackLocale:i,messages:n,datetimeFormats:r,numberFormats:o,modifiers:s,pluralRules:c,missing:u,missingWarn:f,fallbackWarn:_,fallbackFormat:C,unresolving:T,postTranslation:S,processor:O,warnHtmlMessage:b,escapeParameter:E,messageCompiler:R,onWarn:k,__datetimeFormatters:I,__numberFormatters:te,__meta:Ce}}function Gt(e,t,a,i,n){let{missing:r,onWarn:o}=e;if(r!==null){let s=r(e,a,t,n);return A(s)?s:t}else return t}function He(e,t,a){let i=e;i.__localeChainCache||(i.__localeChainCache=new Map);let n=i.__localeChainCache.get(a);if(!n){n=[];let r=[a];for(;j(r);)r=ga(n,r,t);let o=j(t)?t:L(t)?t.default?t.default:null:t;r=A(o)?[o]:o,j(r)&&ga(n,r,!1),i.__localeChainCache.set(a,n)}return n}function ga(e,t,a){let i=!0;for(let n=0;n<t.length&&U(i);n++){let r=t[n];A(r)&&(i=Bn(e,t[n],a))}return i}function Bn(e,t,a){let i,n=t.split("-");do{let r=n.join("-");i=Vn(e,r,a),n.splice(-1,1)}while(n.length&&i===!0);return i}function Vn(e,t,a){let i=!1;if(!e.includes(t)&&(i=!0,t)){i=t[t.length-1]!=="!";let n=t.replace(/!/g,"");e.push(n),(j(a)||L(a))&&a[n]&&(i=a[n])}return i}function Ue(e,t,a){let i=e;i.__localeChainCache=new Map,He(e,a,t)}function Oe(e){return Wa(e,null,void 0)}var ha=()=>"",Me=e=>q(e);function _a(e,...t){let{fallbackFormat:a,postTranslation:i,unresolving:n,fallbackLocale:r,messages:o}=e,[s,c]=Nt(...t),u=U(c.missingWarn)?c.missingWarn:e.missingWarn,f=U(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,_=U(c.escapeParameter)?c.escapeParameter:e.escapeParameter,C=!!c.resolvedMessage,T=A(c.default)||U(c.default)?U(c.default)?s:c.default:a?s:"",S=a||T!=="",O=A(c.locale)?c.locale:e.locale;_&&Wn(c);let[b,E,R]=C?[s,O,o[O]||{}]:Hn(e,s,O,r,f,u),k=s;if(!C&&!(A(b)||Me(b))&&S&&(b=T,k=b),!C&&(!(A(b)||Me(b))||!A(E)))return n?ft:s;let g=!1,I=()=>{g=!0},te=Me(b)?b:Ha(e,s,E,b,k,I);if(g)return b;let Ce=jn(e,E,R,c),ee=Pn(Ce),ae=Gn(e,te,ee);return i?i(ae):ae}function Wn(e){j(e.list)?e.list=e.list.map(t=>A(t)?ua(t):t):X(e.named)&&Object.keys(e.named).forEach(t=>{A(e.named[t])&&(e.named[t]=ua(e.named[t]))})}function Hn(e,t,a,i,n,r){let{messages:o,onWarn:s}=e,c=He(e,i,a),u={},f,_=null,C="translate";for(let T=0;T<c.length&&(f=c[T],u=o[f]||{},(_=lt(u,t))===null&&(_=u[t]),!(A(_)||q(_)));T++){let S=Gt(e,t,f,r,C);S!==t&&(_=S)}return[_,f,u]}function Ha(e,t,a,i,n,r){let{messageCompiler:o,warnHtmlMessage:s}=e;if(Me(i)){let u=i;return u.locale=u.locale||a,u.key=u.key||t,u}let c=o(i,$n(e,a,n,i,s,r));return c.locale=a,c.key=t,c.source=i,c}function Gn(e,t,a){return t(a)}function Nt(...e){let[t,a,i]=e,n={};if(!A(t)&&!z(t)&&!Me(t))throw Oe(14);let r=z(t)?String(t):(Me(t),t);return z(a)?n.plural=a:A(a)?n.default=a:L(a)&&!dt(a)?n.named=a:j(a)&&(n.list=a),z(i)?n.plural=i:A(i)?n.default=i:L(i)&&Q(n,i),[r,n]}function $n(e,t,a,i,n,r){return{warnHtmlMessage:n,onError:o=>{throw r&&r(o),o},onCacheKey:o=>mn(t,a,o)}}function jn(e,t,a,i){let{modifiers:n,pluralRules:r}=e,s={locale:t,modifiers:n,pluralRules:r,messages:c=>{let u=lt(a,c);if(A(u)){let f=!1,C=Ha(e,c,t,u,c,()=>{f=!0});return f?ha:C}else return Me(u)?u:ha}};return e.processor&&(s.processor=e.processor),i.list&&(s.list=i.list),i.named&&(s.named=i.named),z(i.plural)&&(s.pluralIndex=i.plural),s}function Aa(e,...t){let{datetimeFormats:a,unresolving:i,fallbackLocale:n,onWarn:r}=e,{__datetimeFormatters:o}=e,[s,c,u,f]=Ot(...t),_=U(u.missingWarn)?u.missingWarn:e.missingWarn;U(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;let C=!!u.part,T=A(u.locale)?u.locale:e.locale,S=He(e,n,T);if(!A(s)||s==="")return new Intl.DateTimeFormat(T).format(c);let O={},b,E=null,R="datetime format";for(let I=0;I<S.length&&(b=S[I],O=a[b]||{},E=O[s],!L(E));I++)Gt(e,s,b,_,R);if(!L(E)||!A(b))return i?ft:s;let k=`${b}__${s}`;dt(f)||(k=`${k}__${JSON.stringify(f)}`);let g=o.get(k);return g||(g=new Intl.DateTimeFormat(b,Q({},E,f)),o.set(k,g)),C?g.formatToParts(c):g.format(c)}function Ot(...e){let[t,a,i,n]=e,r={},o={},s;if(A(t)){if(!/\d{4}-\d{2}-\d{2}(T.*)?/.test(t))throw Oe(16);s=new Date(t);try{s.toISOString()}catch(c){throw Oe(16)}}else if(gn(t)){if(isNaN(t.getTime()))throw Oe(15);s=t}else if(z(t))s=t;else throw Oe(14);return A(a)?r.key=a:L(a)&&(r=a),A(i)?r.locale=i:L(i)&&(o=i),L(n)&&(o=n),[r.key||"",s,r,o]}function ba(e,t,a){let i=e;for(let n in a){let r=`${t}__${n}`;i.__datetimeFormatters.has(r)&&i.__datetimeFormatters.delete(r)}}function ya(e,...t){let{numberFormats:a,unresolving:i,fallbackLocale:n,onWarn:r}=e,{__numberFormatters:o}=e,[s,c,u,f]=kt(...t),_=U(u.missingWarn)?u.missingWarn:e.missingWarn;U(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;let C=!!u.part,T=A(u.locale)?u.locale:e.locale,S=He(e,n,T);if(!A(s)||s==="")return new Intl.NumberFormat(T).format(c);let O={},b,E=null,R="number format";for(let I=0;I<S.length&&(b=S[I],O=a[b]||{},E=O[s],!L(E));I++)Gt(e,s,b,_,R);if(!L(E)||!A(b))return i?ft:s;let k=`${b}__${s}`;dt(f)||(k=`${k}__${JSON.stringify(f)}`);let g=o.get(k);return g||(g=new Intl.NumberFormat(b,Q({},E,f)),o.set(k,g)),C?g.formatToParts(c):g.format(c)}function kt(...e){let[t,a,i,n]=e,r={},o={};if(!z(t))throw Oe(14);let s=t;return A(a)?r.key=a:L(a)&&(r=a),A(i)?r.locale=i:L(i)&&(o=i),L(n)&&(o=n),[r.key||"",s,r,o]}function Ca(e,t,a){let i=e;for(let n in a){let r=`${t}__${n}`;i.__numberFormatters.has(r)&&i.__numberFormatters.delete(r)}}var Yn="9.1.9";function Te(e,...t){return Wa(e,null,void 0)}var Pt=_e("__transrateVNode"),Ft=_e("__datetimeParts"),xt=_e("__numberParts");_e("__enableEmitter");_e("__disableEmitter");var Kn=_e("__setPluralRules");_e("__intlifyMeta");var Ga=_e("__injectWithOption"),Da=0;function Sa(e){return(t,a,i,n)=>e(a,i,(0,D.getCurrentInstance)()||void 0,n)}function $a(e,t){let{messages:a,__i18n:i}=t,n=L(a)?a:j(i)?{}:{[e]:{}};if(j(i)&&i.forEach(({locale:r,resource:o})=>{r?(n[r]=n[r]||{},st(o,n[r])):st(o,n)}),t.flatJson)for(let r in n)Ba(n,r)&&vt(n[r]);return n}var Qe=e=>!X(e)||j(e);function st(e,t){if(Qe(e)||Qe(t))throw Te(20);for(let a in e)Ba(e,a)&&(Qe(e[a])||Qe(t[a])?t[a]=e[a]:st(e[a],t[a]))}function zn(e={}){let{__root:t}=e,a=t===void 0,i=U(e.inheritLocale)?e.inheritLocale:!0,n=(0,D.ref)(t&&i?t.locale.value:A(e.locale)?e.locale:"en-US"),r=(0,D.ref)(t&&i?t.fallbackLocale.value:A(e.fallbackLocale)||j(e.fallbackLocale)||L(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:n.value),o=(0,D.ref)($a(n.value,e)),s=(0,D.ref)(L(e.datetimeFormats)?e.datetimeFormats:{[n.value]:{}}),c=(0,D.ref)(L(e.numberFormats)?e.numberFormats:{[n.value]:{}}),u=t?t.missingWarn:U(e.missingWarn)||ot(e.missingWarn)?e.missingWarn:!0,f=t?t.fallbackWarn:U(e.fallbackWarn)||ot(e.fallbackWarn)?e.fallbackWarn:!0,_=t?t.fallbackRoot:U(e.fallbackRoot)?e.fallbackRoot:!0,C=!!e.fallbackFormat,T=q(e.missing)?e.missing:null,S=q(e.missing)?Sa(e.missing):null,O=q(e.postTranslation)?e.postTranslation:null,b=U(e.warnHtmlMessage)?e.warnHtmlMessage:!0,E=!!e.escapeParameter,R=t?t.modifiers:L(e.modifiers)?e.modifiers:{},k=e.pluralRules||t&&t.pluralRules,g;function I(){return Un({version:Yn,locale:n.value,fallbackLocale:r.value,messages:o.value,messageCompiler:function(p){return ie=>ie.normalize([p])},datetimeFormats:s.value,numberFormats:c.value,modifiers:R,pluralRules:k,missing:S===null?void 0:S,missingWarn:u,fallbackWarn:f,fallbackFormat:C,unresolving:!0,postTranslation:O===null?void 0:O,warnHtmlMessage:b,escapeParameter:E,__datetimeFormatters:L(g)?g.__datetimeFormatters:void 0,__numberFormatters:L(g)?g.__numberFormatters:void 0,__v_emitter:L(g)?g.__v_emitter:void 0,__meta:{framework:"vue"}})}g=I(),Ue(g,n.value,r.value);function te(){return[n.value,r.value,o.value,s.value,c.value]}let Ce=(0,D.computed)({get:()=>n.value,set:d=>{n.value=d,g.locale=n.value}}),ee=(0,D.computed)({get:()=>r.value,set:d=>{r.value=d,g.fallbackLocale=r.value,Ue(g,n.value,d)}}),ae=(0,D.computed)(()=>o.value),ce=(0,D.computed)(()=>s.value),ze=(0,D.computed)(()=>c.value);function qe(){return q(O)?O:null}function Je(d){O=d,g.postTranslation=d}function St(){return T}function vi(d){d!==null&&(S=Sa(d)),T=d,g.missing=S}function Ie(d,p,ie,Y,Tt,Xe){te();let xe;if(xe=d(g),z(xe)&&xe===ft){let[Xi,Sl]=p();return t&&_?Y(t):Tt(Xi)}else{if(Xe(xe))return xe;throw Te(14)}}function aa(...d){return Ie(p=>_a(p,...d),()=>Nt(...d),"translate",p=>p.t(...d),p=>p,p=>A(p))}function Ni(...d){let[p,ie,Y]=d;if(Y&&!X(Y))throw Te(15);return aa(p,ie,Q({resolvedMessage:!0},Y||{}))}function Oi(...d){return Ie(p=>Aa(p,...d),()=>Ot(...d),"datetime format",p=>p.d(...d),()=>ma,p=>A(p))}function ki(...d){return Ie(p=>ya(p,...d),()=>kt(...d),"number format",p=>p.n(...d),()=>ma,p=>A(p))}function Pi(d){return d.map(p=>A(p)?(0,D.createVNode)(D.Text,null,p,0):p)}let Fi={normalize:Pi,interpolate:d=>d,type:"vnode"};function xi(...d){return Ie(p=>{let ie,Y=p;try{Y.processor=Fi,ie=_a(Y,...d)}finally{Y.processor=null}return ie},()=>Nt(...d),"translate",p=>p[Pt](...d),p=>[(0,D.createVNode)(D.Text,null,p,0)],p=>j(p))}function Ri(...d){return Ie(p=>ya(p,...d),()=>kt(...d),"number format",p=>p[xt](...d),()=>[],p=>A(p)||j(p))}function Ui(...d){return Ie(p=>Aa(p,...d),()=>Ot(...d),"datetime format",p=>p[Ft](...d),()=>[],p=>A(p)||j(p))}function Bi(d){k=d,g.pluralRules=k}function Vi(d,p){let ie=A(p)?p:n.value,Y=ia(ie);return lt(Y,d)!==null}function Wi(d){let p=null,ie=He(g,r.value,n.value);for(let Y=0;Y<ie.length;Y++){let Tt=o.value[ie[Y]]||{},Xe=lt(Tt,d);if(Xe!=null){p=Xe;break}}return p}function Hi(d){let p=Wi(d);return p!=null?p:t?t.tm(d)||{}:{}}function ia(d){return o.value[d]||{}}function Gi(d,p){o.value[d]=p,g.messages=o.value}function $i(d,p){o.value[d]=o.value[d]||{},st(p,o.value[d]),g.messages=o.value}function ji(d){return s.value[d]||{}}function Yi(d,p){s.value[d]=p,g.datetimeFormats=s.value,ba(g,d,p)}function Ki(d,p){s.value[d]=Q(s.value[d]||{},p),g.datetimeFormats=s.value,ba(g,d,p)}function zi(d){return c.value[d]||{}}function qi(d,p){c.value[d]=p,g.numberFormats=c.value,Ca(g,d,p)}function Ji(d,p){c.value[d]=Q(c.value[d]||{},p),g.numberFormats=c.value,Ca(g,d,p)}return Da++,t&&((0,D.watch)(t.locale,d=>{i&&(n.value=d,g.locale=d,Ue(g,n.value,r.value))}),(0,D.watch)(t.fallbackLocale,d=>{i&&(r.value=d,g.fallbackLocale=d,Ue(g,n.value,r.value))})),{id:Da,locale:Ce,fallbackLocale:ee,get inheritLocale(){return i},set inheritLocale(d){i=d,d&&t&&(n.value=t.locale.value,r.value=t.fallbackLocale.value,Ue(g,n.value,r.value))},get availableLocales(){return Object.keys(o.value).sort()},messages:ae,datetimeFormats:ce,numberFormats:ze,get modifiers(){return R},get pluralRules(){return k||{}},get isGlobal(){return a},get missingWarn(){return u},set missingWarn(d){u=d,g.missingWarn=u},get fallbackWarn(){return f},set fallbackWarn(d){f=d,g.fallbackWarn=f},get fallbackRoot(){return _},set fallbackRoot(d){_=d},get fallbackFormat(){return C},set fallbackFormat(d){C=d,g.fallbackFormat=C},get warnHtmlMessage(){return b},set warnHtmlMessage(d){b=d,g.warnHtmlMessage=d},get escapeParameter(){return E},set escapeParameter(d){E=d,g.escapeParameter=d},t:aa,rt:Ni,d:Oi,n:ki,te:Vi,tm:Hi,getLocaleMessage:ia,setLocaleMessage:Gi,mergeLocaleMessage:$i,getDateTimeFormat:ji,setDateTimeFormat:Yi,mergeDateTimeFormat:Ki,getNumberFormat:zi,setNumberFormat:qi,mergeNumberFormat:Ji,getPostTranslationHandler:qe,setPostTranslationHandler:Je,getMissingHandler:St,setMissingHandler:vi,[Pt]:xi,[xt]:Ri,[Ft]:Ui,[Kn]:Bi,[Ga]:e.__injectWithOption}}var $t={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};Q({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>z(e)||!isNaN(e)}},$t);function qn({slots:e},t){return t.length===1&&t[0]==="default"?e.default?e.default():[]:t.reduce((a,i)=>{let n=e[i];return n&&(a[i]=n()),a},{})}function ja(e,t,a,i){let{slots:n,attrs:r}=t;return()=>{let o={part:!0},s={};e.locale&&(o.locale=e.locale),A(e.format)?o.key=e.format:X(e.format)&&(A(e.format.key)&&(o.key=e.format.key),s=Object.keys(e.format).reduce((_,C)=>a.includes(C)?Q({},_,{[C]:e.format[C]}):_,{}));let c=i(e.value,o,s),u=[o.key];j(c)?u=c.map((_,C)=>{let T=n[_.type];return T?T({[_.type]:_.value,index:C,parts:c}):[_.value]}):A(c)&&(u=[c]);let f=Q({},r);return A(e.tag)?(0,D.h)(e.tag,f,u):X(e.tag)?(0,D.h)(e.tag,f,u):(0,D.h)(D.Fragment,f,u)}}var Jn=["localeMatcher","style","unit","unitDisplay","currency","currencyDisplay","useGrouping","numberingSystem","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","notation","formatMatcher"];Q({value:{type:Number,required:!0},format:{type:[String,Object]}},$t);var Xn=["dateStyle","timeStyle","fractionalSecondDigits","calendar","dayPeriod","numberingSystem","localeMatcher","timeZone","hour12","hourCycle","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"];Q({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},$t);function jt(e={}){let t=(0,D.getCurrentInstance)();if(t==null)throw Te(16);if(!t.appContext.app.__VUE_I18N_SYMBOL__)throw Te(17);let a=(0,D.inject)(t.appContext.app.__VUE_I18N_SYMBOL__);if(!a)throw Te(22);let i=a.mode==="composition"?a.global:a.global.__composer,n=dt(e)?"__i18n"in t.type?"local":"global":e.useScope?e.useScope:"local";if(n==="global"){let s=X(e.messages)?e.messages:{};"__i18nGlobal"in t.type&&(s=$a(i.locale.value,{messages:s,__i18n:t.type.__i18nGlobal}));let c=Object.keys(s);if(c.length&&c.forEach(u=>{i.mergeLocaleMessage(u,s[u])}),X(e.datetimeFormats)){let u=Object.keys(e.datetimeFormats);u.length&&u.forEach(f=>{i.mergeDateTimeFormat(f,e.datetimeFormats[f])})}if(X(e.numberFormats)){let u=Object.keys(e.numberFormats);u.length&&u.forEach(f=>{i.mergeNumberFormat(f,e.numberFormats[f])})}return i}if(n==="parent"){let s=Zn(a,t,e.__useComponent);return s==null&&(s=i),s}if(a.mode==="legacy")throw Te(18);let r=a,o=r.__getInstance(t);if(o==null){let s=t.type,c=Q({},e);s.__i18n&&(c.__i18n=s.__i18n),i&&(c.__root=i),o=zn(c),Qn(r,t),r.__setInstance(t,o)}return o}function Zn(e,t,a=!1){let i=null,n=t.root,r=t.parent;for(;r!=null;){let o=e;if(e.mode==="composition")i=o.__getInstance(r);else{let s=o.__getInstance(r);s!=null&&(i=s.__composer),a&&i&&!i[Ga]&&(i=null)}if(i!=null||n===r)break;r=r.parent}return i}function Qn(e,t,a){(0,D.onMounted)(()=>{},t),(0,D.onUnmounted)(()=>{e.__deleteInstance(t)},t)}function be(e,t,a=!1,i=null){let n=Yt(e,a);i?uni.setStorage({key:n,data:t,success:i}):uni.setStorageSync(n,t)}function x(e,t=!1,a=null){let i=Yt(e,t);if(a)uni.getStorage({key:i,success:a});else return uni.getStorageSync(i)}function Ge(e,t=!1){uni.removeStorage({key:Yt(e,t)})}function Yt(e,t){return t?`_a_${e}`:`m_${e}`}function er(e,t){let a=t;return typeof t=="undefined"&&(a=getApp().globalData.uid),x(e+"_"+a)}var Le={NONE:0,WAITING:1,GAME:2,WEEK_UP:3,JUDGE_ROOM:100};function M(e){return typeof e=="undefined"||e==null||e==""}function tr(e){return e===""||e===null}var et=new Promise(()=>{});function ar(e,t,a=""){if(M(e))return"";let i=[];for(let n in e)i.push(n+"="+e[n]);return a+i.join(t)}function tt(e){return typeof e=="number"?e+"":typeof e=="boolean"?e?"true":"false":M(e)?"null":typeof e=="object"?JSON.stringify(e):e}function at(e){return e.replace(new RegExp("'","gm"),"\uFF07")}function Se(e){return e<10?"0"+e:e}function Ya(e,t=!1,a=!1,i=!0){e<1e10&&(e=e*1e3);var n=new Date(e),r=n.getFullYear(),o=n.getMonth()+1,s=n.getDate(),c=n.getHours(),u=n.getMinutes(),f=n.getSeconds();let _=t?`${r}-`:"";if(a)return _+Se(o)+"-"+Se(s);{let C=i?":"+Se(f):"";return _+Se(o)+"-"+Se(s)+" "+Se(c)+":"+Se(u)+C}}function Kt(e){try{let t=JSON.parse(e);if(typeof t=="object")return t}catch(t){}return!1}function ir(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var Be={adminAgencyList:"/pagesAdmin/agency/list",adminAgencyDetail:"/pagesAdmin/agency/agency-detail",adminAgencyEdit:"/pagesAdmin/agency/agency-edit",adminAgencyEditPrice:"/pagesAdmin/agency/agency-edit-price",adminAgencyEditWithdrawInfo:"/pagesAdmin/agency/withdraw-info",adminAgencyEditName:"/pagesAdmin/agency/agency-edit-nickname",adminAgencyEditCountry:"/pagesAdmin/agency/agency-edit-country",adminAgencyEditEmail:"/pagesAdmin/agency/agency-edit-email",adminAgencyEditWhatsApp:"/pagesAdmin/agency/agency-edit-whatsapp",adminAgencyInvited:"/pagesAdmin/agency/invited",adminAgencyListSub:"/pagesAdmin/agency/list-sub",adminAgencyGirlsList:"/pagesAdmin/agency/girls-list",adminAgencyGirlsListSub:"/pagesAdmin/agency/girls-list-sub",adminAgencyDataPanel:"/pagesAdmin/agency/data-panel",adminAgencyDataHistory:"/pagesAdmin/agency/data-history",adminAgencyDataDetail:"/pagesAdmin/agency/data-detail",adminAgencyDataDetailTask:"/pagesAdmin/agency/data-detail-task",adminAgencyWithdrawRecords:"/pagesAdmin/agency/withdraw-records",adminAgencyWalletDetail:"/pagesAdmin/agency/wallet-detail",adminAgencyHandleBan:"/pagesAdmin/agency/handle-ban",adminAgencyHandleDelete:"/pagesAdmin/agency/handle-delete",adminAgencySelected:"/pagesAdmin/agency/selected-agency",adminAgencyStatus:"/pagesAdmin/agency/agency-status",adminAgencySubAgencyList:"/pagesAdmin/agency/sub-agency-list",adminAgencyWithdrawGirlList:"/pagesAdmin/agency/withdraw/girl-list",adminAgencyWithdrawSubAgentList:"/pagesAdmin/agency/withdraw/sub-agent-list",adminAgencyWithdrawSettlementDetail:"/pagesAdmin/agency/withdraw/settlement-detail",adminAgencyWithdrawEntiretyDetail:"/pagesAdmin/agency/withdraw/entirety-detail",adminAgencyWithdrawEntiretyDetailReject:"/pagesAdmin/agency/withdraw/entirety-detail-reject",adminAgencyHistoricalMemberList:"/pagesAdmin/agency/historical-list",adminAgencyWithdrawSubAgentDetail:"/pagesAdmin/agency/withdraw/sub-agent-detail",adminAuditSettlement:"/pagesAdmin/auditNew/settlement",adminAuditSettlementSub:"/pagesAdmin/auditNew/settlement-sub",adminAuditWithdraw:"/pagesAdmin/auditNew/withdraw",adminAuditWithdrawCashList:"/pagesAdmin/audit/withdraw-cash-list",adminWallet:"/pagesAdmin/wallet/wallet",adminWalletCoinStat:"/pagesAdmin/wallet/coin-stat",adminAgencyAnchorDetail:"/pagesAdmin/agencyManager/anchor-detail",adminChannelBackend:"/pagesAdmin/channel/channel-backend",adminAuditAgencyAvatar:"/pagesAdmin/auditNew/agency-avatar",adminAuditAgencyName:"/pagesAdmin/auditNew/agency-name",adminAuditCheckAllUnderReview:"/pagesAdmin/audit/check-all-under-review",adminPermissionWebManage:"/pagesAdmin/more/permission-web-manage",adminPermissionList:"/pagesAdmin/more/permission-list",adminPermissionEdit:"/pagesAdmin/more/permission-edit",adminPermissionNewAccount:"/pagesAdmin/more/permission-new-account",adminPermissionChooseRole:"/pagesAdmin/more/permission-choose-role",adminPermissionNewRole:"/pagesAdmin/more/permission-new-role",adminWhiteList:"/pagesAdmin/more/white-list",adminCallEvaluationList:"/pagesAdmin/user/call-evaluation-list",adminWarnDeviceUser:"/pagesAdmin/user/ban-device-user",adminWarnList:"/pagesAdmin/audit/warn-list",adminVersionUseList:"/pagesAdmin/more/version-use-list",adminAuditSettlementReview:"/pagesAdmin/auditNew/settlement-review",adminAuditWithdrawReview:"/pagesAdmin/auditNew/withdraw-review",adminClubApplication:"/pagesAdmin/auditNew/club-application",adminClubModification:"/pagesAdmin/auditNew/club-modification",adminClubManagement:"/pagesAdmin/club/management",warningDialog:"/pagesDialog/warning",homeFilterSexGuide:"/pagesDialog/home-filter-sex-guide",club:"/pagesClub/club",clubReachLevel:"/pagesDialog/club-reach-level",clubStatusRemind:"/pagesDialog/club-status-remind",clubApplyCreate:"/pagesClub/apply-create",clubCreateSuccess:"/pagesClub/create-success",clubRules:"/pagesDialog/club-rules",clubApplicationList:"/pagesClub/application-list",clubWarning:"/pagesDialog/club-warning",clubDisband:"/pagesDialog/club-disband",adminClubManagementSub:"/pagesAdmin/club/management-sub",adminClubTodayNew:"/pagesAdmin/club/club-today-new",adminClubNormal:"/pagesAdmin/club/club-normal",adminClubManageGirls:"/pagesAdmin/club/club-manage-girls",adminClubOperator:"/pagesAdmin/club/club-operator",adminClubDisbanded:"/pagesAdmin/club/club-disbanded",adminClubMemberList:"/pagesAdmin/club/member-new",adminClubInfo:"/pagesAdmin/club/detail-new",adminCLubWarning:"/pagesAdmin/club/warning",adminClubOperatorLog:"/pagesAdmin/club/operation-log",adminClubPersonalApplication:"/pagesAdmin/auditNew/club-application-personal",adminOutsourcingIndex:"/pagesAdmin/more/outsourcing/index",adminOutsourcingPermissionList:"/pagesAdmin/more/outsourcing/permission-list",adminOutsourcingNewRole:"/pagesAdmin/more/outsourcing/new-role",adminOutsourcingEditRole:"/pagesAdmin/more/outsourcing/edit-role",adminRefundDetail:"/pagesAdmin/refund/detail"};function Ka(e,t){let a=Be[e];return a||(a=e),a+ar(t,"&","?")}function pe(e,t=null,a=null,i=!1){let n=Ka(e,t),r={url:n,fail:o=>{B("error","at common/route.js:107",`\u6253\u5F00\u9875\u9762\u5931\u8D25${n} ${JSON.stringify(o)}`),getApp().globalData.appCRE&&n.startsWith("/pagesAdmin")&&ne.zT!=3&&J.request("/sign/reload-route",{},!0)}};i&&(r=Object.assign(r,i)),a!=null&&(r.events=a),uni.navigateTo(r)}function $(e,t,a,i,n=null){let o={url:Ka(e,t),success(s){s.eventChannel.emit(a,i)}};n!=null&&(o.events=n),uni.navigateTo(o)}function mt(e=1,t="",a=""){let i={delta:e};t&&(i.animationType=t),a&&(i.animationDuration=a),uni.navigateBack(i)}function pt(){let e=[],t=getCurrentPages();for(let a=0,i=t.length;a<i;a++){let n=t[a].$page;e.push(n.path)}return e}function za(e="path"){let t=getCurrentPages(),a=t[t.length-1];if(!a)return"";let i=a.$page;return i?i[e]:""}function nr(e,t=null,a=null){let n={uid:typeof e=="object"?e.uid:e};a&&(n=Object.assign(n,a)),$("/pagesMsg/pri/chat",n,"priData",{user:e,extra:t})}var rr=[{key:"tr",title:"T\xFCrk"},{key:"pt",title:"Portugu\xEAs"}];function Rt(e=!0){let t=x("language_app_key");if(!e||!tr(t))return t;let a=qa(!1),i=un[a];return M(i)?"en":a}function qa(e){let t=uni.getAppBaseInfo().language;return M(t)?e?"en-US":"en":e?t:t.split("-")[0]}function or(){return x("call_automatic_source_language")||Rt()}function lr(){return!!x("call_automatic_open")}function F(...e){return getApp().globalData.s.state.pubI18n(...e)}function Ja(e){function t(o,s,c){for(;0<c--;)o.push(s)}function a(o,s){return o<<s|o>>>32-s}function i(o,s,c){return o^s^c}function n(o,s){var c=(s&65535)+(o&65535),u=(s>>>16)+(o>>>16)+(c>>>16);return(u&65535)<<16|c&65535}var r="0123456789abcdef";return function(o){for(var s=[],c=o.length*4,u,f=0;f<c;f++)u=o[f>>2]>>(3-f%4)*8,s.push(r.charAt(u>>4&15)+r.charAt(u&15));return s.join("")}(function(o,s){var c,u,f,_,C,T=o.length,S=1732584193,O=4023233417,b=2562383102,E=271733878,R=3285377520,k=[];t(k,1518500249,20),t(k,1859775393,20),t(k,2400959708,20),t(k,3395469782,20),o[s>>5]|=128<<24-s%32,o[(s+65>>9<<4)+15]=s;for(var g=0;g<T;g+=16){c=S,u=O,f=b,_=E,C=R;for(var I=0,te=[];I<80;I++){te[I]=I<16?o[I+g]:a(te[I-3]^te[I-8]^te[I-14]^te[I-16],1);var Ce=function(ee,ae,ce,ze,qe){var Je=(qe&65535)+(ee&65535)+(ae&65535)+(ce&65535)+(ze&65535),St=(qe>>>16)+(ee>>>16)+(ae>>>16)+(ce>>>16)+(ze>>>16)+(Je>>>16);return(St&65535)<<16|Je&65535}(I<20?function(ee,ae,ce){return ee&ae^~ee&ce}(u,f,_):I<40?i(u,f,_):I<60?function(ee,ae,ce){return ee&ae^ee&ce^ae&ce}(u,f,_):i(u,f,_),C,k[I],te[I],a(c,5));C=_,_=f,f=a(u,30),u=c,c=Ce}S=n(S,c),O=n(O,u),b=n(b,f),E=n(E,_),R=n(R,C)}return[S,O,b,E,R]}(function(o){for(var s=[],c=255,u=o.length*8,f=0;f<u;f+=8)s[f>>5]|=(o.charCodeAt(f/8)&c)<<24-f%32;return s}(e).slice(),e.length*8))}function Xa(e,t,a=!0){return ei(getApp().globalData.ossPicPath,e,t,a)}function Za(e,t,a=!0){return ei(getApp().globalData.ossPath,e,t,a)}function Qa(e){if(M(e)||e.startsWith("http"))return;let a=`img_${Ja(e)}`,i=x(a);Ge(a),i&&uni.removeSavedFile({filePath:i})}function ei(e,t,a,i=!0){if(M(t))return"";if(t.startsWith("http")||t.startsWith("file://"))return t;if(t.startsWith("/var/mobile/"))return"file://"+t;if(t.startsWith("/storage/"))return t;let r=`img_${Ja(t)}`,o=x(r);if(o){let c={filePath:o,fail(u){sr(`\u7F13\u5B58\u68C0\u6D4B\u5931\u8D25${t}`,u),Ge(r),typeof a=="function"&&a(e+t)},success(u){}};return typeof a=="function"&&(c.success=function(){a(o)}),uni.getFileInfo(c),o}let s=e+t;return getApp().globalData.picCacheObj[r]||(getApp().globalData.picCacheObj[r]=1,typeof a=="function"&&!i&&a(s),br(s).then(c=>{be(r,c),typeof a=="function"&&i&&a(c),delete getApp().globalData.picCacheObj[r]}).catch(()=>{})),s}function sr(e,t){B("error","at common/cache.js:118",`cache ${e}`,t)}var cr={CANDY_CHAT_I:"__UNI__CB903B1",CANDY_CHAT_A:"__UNI__564E31A",CHAT_NOW_A:"__UNI__DB0D401",CHAT_NOW_DEV:"__UNI__DEED62E",HOT_FACE_A:"__UNI__0D44E11",HOT_FACE_DEV:"__UNI__58DBD61",LOVE_SKY:"__UNI__0EE5E5E",DEV:"__UNI__3932C1F",DEV2:"__UNI__9C66D76"};function ur(){return getApp().globalData.pluginTool.vpnConnected()}function dr(e){return getApp().globalData.pluginTool.permissionStatusSync({permission:e})}function fr(){return getApp().globalData.pluginTool.permissionCheckAll()}function mr(){return getApp().globalData.pluginTool.locationAuthorizationStatusSync()}var P={ALBUM:1,CAMERA:2,VIDEO:3,MICROPHONE:4,NOTIFY:5,LOCATION:6,DRAW_OVERLAYS:7,ALBUM_AND_CAMERA:101};function pr(e,t,a){if(getApp().globalData.uid!=0)return new Promise(i=>{let n;if(a==null?n=ti():n=a,n==null){i();return}let r={fromType:e,showClose:t,resList:n[0]};$("/pagesDialog/check-permission",null,"permissionData",r,{onCloseListener:()=>{i()}})})}function ti(){let e=[],t=!0;if(ne.isAndroid){let r=fr();e.push({key:"notice",value:r.notice,permission:P.NOTIFY}),e.push({key:"camera",value:r.camera,permission:P.CAMERA}),e.push({key:"voice",value:r.voice,permission:P.MICROPHONE}),e.push({key:"album",value:r.storage,permission:P.ALBUM})}else e.push({key:"notice",value:ni(),permission:P.NOTIFY}),e.push({key:"camera",value:hr(),permission:P.CAMERA}),e.push({key:"voice",value:ii(),permission:P.MICROPHONE}),e.push({key:"album",value:_r(),permission:P.ALBUM});for(let r=0,o=e.length;r<o;r++)if(!e[r].value){t=!1;break}let a={};for(let r=0,o=e.length;r<o;r++){let s=e[r];a[s.key]=s.value?1:0}a.auto_translate=getApp().globalData.translateAuto?1:0;let i=lr()?1:0,n=or();return a.audio_translate=i,a.audio_language=n,J.request("/user/sync-permission",a),[e,t]}function ai(e){if(e==P.NOTIFY)return ne.isAndroid?Et(e):ni();if(e==P.MICROPHONE)return ne.isAndroid?Et(e):ii();if(e==P.ALBUM_AND_CAMERA){let a=ti()[0];return a?a[1].value&&a[3].value:!0}else if(e==P.LOCATION)return ne.isAndroid?Et(e):mr();return!0}function Et(e){let t=gr(e);return dr(t)}function gr(e){switch(e){case P.LOCATION:return["android.permission.ACCESS_FINE_LOCATION","android.permission.ACCESS_COARSE_LOCATION"];case P.ALBUM:case P.VIDEO:return["android.permission.READ_MEDIA_IMAGES","android.permission.READ_MEDIA_VIDEO"];case P.MICROPHONE:return["android.permission.RECORD_AUDIO"];case P.CAMERA:return["android.permission.CAMERA"];case P.NOTIFY:return["android.permission.POST_NOTIFICATIONS"]}}function ii(){let e=plus.ios.importClass("AVCaptureDevice"),t=e.authorizationStatusForMediaType("soun");return plus.ios.deleteObject(e),t==3}function hr(){let e=plus.ios.importClass("AVCaptureDevice"),t=e.authorizationStatusForMediaType("vide");return plus.ios.deleteObject(e),t==3}function _r(){var e=!1,t=plus.ios.import("PHPhotoLibrary"),a=t.authorizationStatus();return(a==3||a==4)&&(e=!0),plus.ios.deleteObject(t),e}function ni(){var e=!1,t=plus.ios.import("UIApplication"),a=t.sharedApplication(),i=0;if(a.currentUserNotificationSettings){var n=a.currentUserNotificationSettings();i=n.plusGetAttribute("types"),e=i!=0,plus.ios.deleteObject(n)}else i=a.enabledRemoteNotificationTypes(),e=i!=0;return plus.ios.deleteObject(a),plus.ios.deleteObject(t),e}function ri(e,t){getApp().globalData.s.commit("setPubValue",{name:e,value:t})}function y(e,t){getApp().globalData.s.commit(e,t)}function ct(e,t){e==Pe.MSG&&getApp().setNumberBadge(),t>0?uni.setTabBarBadge({index:e,text:t+""}):uni.removeTabBarBadge({index:e})}function Ar(e,t=!0){t?uni.showTabBarRedDot({index:e}):uni.hideTabBarRedDot({index:e})}function br(e){return new Promise((t,a)=>{uni.downloadFile({url:e}).then(i=>!i||i.statusCode!=200||!i.tempFilePath?(a(),new Promise(()=>{})):uni.saveFile({tempFilePath:i.tempFilePath})).then(i=>{!i||!i.savedFilePath?a():t(i.savedFilePath)}).catch(i=>{B("error","at common/common.js:65","downloadFile error "+JSON.stringify(i))})})}function Ta(e,t){t?plus.runtime.openWeb(e):plus.runtime.openURL(e)}function oi(e,t,a,i=F("confirm")){li(e,t,a,"",i,!1)}function yr(e){return["Si, desbloquear","Reenviar Completar"].indexOf(e)!=-1}function li(e,t,a,i,n=F("confirm"),r=!0,o=F("cancel"),s=!1){let c=!1;if(!ne.isAndroid&&(c=yr(n),c)){let u=n;n=o,o=u}uni.showModal({title:e,content:t,showCancel:r,cancelText:o,confirmText:n,editable:s,success(u){u.confirm?c?typeof i=="function"&&i():typeof a=="function"&&a(u):u.cancel&&(c?typeof a=="function"&&a(u):typeof i=="function"&&i())}})}function Cr(e,t="none",a="center"){uni.showToast({title:e,duration:2e3,icon:t,position:a})}var si={LIGHT:1,DARK:2};function Dr(e){let t=getApp().pubUser.seeking_sex;return e?t:t==0?getApp().pubUser.sex==1?2:1:t}function ut(){return getApp().globalData.s.state.pubUser.is_auth}function Sr(){return!ut()&&getApp().pubUser.recharge_money>0}function Tr(){let e=getApp().globalData.admin;return e&&e.permission&&e.permission.kefu}function Mr(){let e=getApp().globalData.admin;return e&&e.permission&&e.permission.check_all}function Lr(){let e=getApp().globalData.admin;return!M(e)&&e.type==1}var Ut={DEFAULT:1e4,FAIL:0,SUCCESS:1,DISCONNECT:6,RECONNECT:7},Er={INIT:"init",APP_SHOW:"app_show",TAB_SHOW:"tab_show",MSG_INDEX_REFRESH:"msg_index_refresh",STOP_TAKING_RECOVERY:"stop_taking_recovery",CATCH_MSG_SYNC:"sync_catch",API_CALL_BACK:"api_call_back",RECONNECT_LISTENER:"reconnect_listener",RECONNECT_LOCAL:"reconnect_local"};function wr(e){return new Promise((t,a)=>{getApp().globalData.pluginDB.selectSql({sql:e},i=>{i.status==1?t(i.rows):(B("error","at comExtend/plugin-DB.js:44","db \u63D2\u4EF6 select \u6267\u884C \u9519\u8BEF "+i.message),a(i.message))})})}function Ir(e){return new Promise((t,a)=>{getApp().globalData.pluginDB.executeSql({sql:e},i=>{i.status==1?t(i.rows):(B("error","at comExtend/plugin-DB.js:57","db \u63D2\u4EF6 execute \u6267\u884C \u9519\u8BEF "+i.message),a(i.message))})})}function vr(e,t){return new Promise((a,i)=>{Ir(e).then(n=>{a(n)},n=>{i(),t||di("execute",n,e)})})}function Nr(e,t){return new Promise((a,i)=>{wr(e).then(n=>{a(n)},n=>{i(),t||di("select",n,e)})})}function rt(e){return M(e)?0:parseInt(e)}function Or(){return getApp().globalData.pluginMqtt.checkStatusSync()?Ut.SUCCESS:Ut.FAIL}function kr(){return Or()}function Pr(){return kr()==Ut.SUCCESS}var Fe={getUserDesc(){let e=getApp().pubUser;return Object.keys(e).length<=3?"\u672A\u767B\u5F55":[e.uid,e.is_auth?"\u4E3B\u64AD":"\u7528\u6237",`\u7B49\u7EA7-${e.level}`,`vip${e.is_vip?"\u662F":"\u5426"}`,`\u5145\u503C${e.recharge_money}`,`\u4F59\u989D${getApp().pubAccount.money}`,`\u540E\u53F0\u8EAB\u4EFD${Fr()}`].join("|")},getActionDesc(){let e=pt(),t=e.length;return[`\u9875\u9762: ${(t>5?e.slice(t-5):e).join(",")}`,`${getApp().globalData.catchApiUrlList.join(",")}`].join("|")},getEnvironsDesc(){let e=getApp().globalData.ua.split("|"),t=[`${e[1]}`,`app\u7248\u672C${e[2]}`,`zip\u7248\u672C${e[3]}-${e[13]}`,`${e[6]}`,`\u54C1\u724C${e[11]}`,`\u578B\u53F7${e[12]}`,`\u7F51\u7EDC${getApp().globalData.network.type}`,`MQTT${Pr()?"\u662F":"\u5426"}`],a=ur();return typeof a!="undefined"&&t.push(`VPN${a?"\u662F":"\u5426"}`),t.join("|")}};function Fr(){if(Lr())return"\u8D85\u7BA1";let e=[];return Tr()&&e.push("\u5BA2\u670D"),Mr()&&e.push("\u5BA1\u6838"),e.length<=0?"\u65E0":e.join("\u548C")}var wt=0;function xr(e){return Ur(Rr(Br(e)))}function Rr(e){return Wr(Hr(Vr(e),e.length*8))}function Ur(e){try{}catch(r){wt=0}for(var t=wt?"0123456789ABCDEF":"0123456789abcdef",a="",i,n=0;n<e.length;n++)i=e.charCodeAt(n),a+=t.charAt(i>>>4&15)+t.charAt(i&15);return a}function Br(e){for(var t="",a=-1,i,n;++a<e.length;)i=e.charCodeAt(a),n=a+1<e.length?e.charCodeAt(a+1):0,55296<=i&&i<=56319&&56320<=n&&n<=57343&&(i=65536+((i&1023)<<10)+(n&1023),a++),i<=127?t+=String.fromCharCode(i):i<=2047?t+=String.fromCharCode(192|i>>>6&31,128|i&63):i<=65535?t+=String.fromCharCode(224|i>>>12&15,128|i>>>6&63,128|i&63):i<=2097151&&(t+=String.fromCharCode(240|i>>>18&7,128|i>>>12&63,128|i>>>6&63,128|i&63));return t}function Vr(e){for(var t=Array(e.length>>2),a=0;a<t.length;a++)t[a]=0;for(var a=0;a<e.length*8;a+=8)t[a>>5]|=(e.charCodeAt(a/8)&255)<<a%32;return t}function Wr(e){for(var t="",a=0;a<e.length*32;a+=8)t+=String.fromCharCode(e[a>>5]>>>a%32&255);return t}function Hr(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var a=1732584193,i=-271733879,n=-1732584194,r=271733878,o=0;o<e.length;o+=16){var s=a,c=i,u=n,f=r;a=V(a,i,n,r,e[o+0],7,-680876936),r=V(r,a,i,n,e[o+1],12,-389564586),n=V(n,r,a,i,e[o+2],17,606105819),i=V(i,n,r,a,e[o+3],22,-1044525330),a=V(a,i,n,r,e[o+4],7,-176418897),r=V(r,a,i,n,e[o+5],12,1200080426),n=V(n,r,a,i,e[o+6],17,-1473231341),i=V(i,n,r,a,e[o+7],22,-45705983),a=V(a,i,n,r,e[o+8],7,1770035416),r=V(r,a,i,n,e[o+9],12,-1958414417),n=V(n,r,a,i,e[o+10],17,-42063),i=V(i,n,r,a,e[o+11],22,-1990404162),a=V(a,i,n,r,e[o+12],7,1804603682),r=V(r,a,i,n,e[o+13],12,-40341101),n=V(n,r,a,i,e[o+14],17,-1502002290),i=V(i,n,r,a,e[o+15],22,1236535329),a=W(a,i,n,r,e[o+1],5,-165796510),r=W(r,a,i,n,e[o+6],9,-1069501632),n=W(n,r,a,i,e[o+11],14,643717713),i=W(i,n,r,a,e[o+0],20,-373897302),a=W(a,i,n,r,e[o+5],5,-701558691),r=W(r,a,i,n,e[o+10],9,38016083),n=W(n,r,a,i,e[o+15],14,-660478335),i=W(i,n,r,a,e[o+4],20,-405537848),a=W(a,i,n,r,e[o+9],5,568446438),r=W(r,a,i,n,e[o+14],9,-1019803690),n=W(n,r,a,i,e[o+3],14,-187363961),i=W(i,n,r,a,e[o+8],20,1163531501),a=W(a,i,n,r,e[o+13],5,-1444681467),r=W(r,a,i,n,e[o+2],9,-51403784),n=W(n,r,a,i,e[o+7],14,1735328473),i=W(i,n,r,a,e[o+12],20,-1926607734),a=H(a,i,n,r,e[o+5],4,-378558),r=H(r,a,i,n,e[o+8],11,-2022574463),n=H(n,r,a,i,e[o+11],16,1839030562),i=H(i,n,r,a,e[o+14],23,-35309556),a=H(a,i,n,r,e[o+1],4,-1530992060),r=H(r,a,i,n,e[o+4],11,1272893353),n=H(n,r,a,i,e[o+7],16,-155497632),i=H(i,n,r,a,e[o+10],23,-1094730640),a=H(a,i,n,r,e[o+13],4,681279174),r=H(r,a,i,n,e[o+0],11,-358537222),n=H(n,r,a,i,e[o+3],16,-722521979),i=H(i,n,r,a,e[o+6],23,76029189),a=H(a,i,n,r,e[o+9],4,-640364487),r=H(r,a,i,n,e[o+12],11,-421815835),n=H(n,r,a,i,e[o+15],16,530742520),i=H(i,n,r,a,e[o+2],23,-995338651),a=G(a,i,n,r,e[o+0],6,-198630844),r=G(r,a,i,n,e[o+7],10,1126891415),n=G(n,r,a,i,e[o+14],15,-1416354905),i=G(i,n,r,a,e[o+5],21,-57434055),a=G(a,i,n,r,e[o+12],6,1700485571),r=G(r,a,i,n,e[o+3],10,-1894986606),n=G(n,r,a,i,e[o+10],15,-1051523),i=G(i,n,r,a,e[o+1],21,-2054922799),a=G(a,i,n,r,e[o+8],6,1873313359),r=G(r,a,i,n,e[o+15],10,-30611744),n=G(n,r,a,i,e[o+6],15,-1560198380),i=G(i,n,r,a,e[o+13],21,1309151649),a=G(a,i,n,r,e[o+4],6,-145523070),r=G(r,a,i,n,e[o+11],10,-1120210379),n=G(n,r,a,i,e[o+2],15,718787259),i=G(i,n,r,a,e[o+9],21,-343485551),a=he(a,s),i=he(i,c),n=he(n,u),r=he(r,f)}return Array(a,i,n,r)}function gt(e,t,a,i,n,r){return he(Gr(he(he(t,e),he(i,r)),n),a)}function V(e,t,a,i,n,r,o){return gt(t&a|~t&i,e,t,n,r,o)}function W(e,t,a,i,n,r,o){return gt(t&i|a&~i,e,t,n,r,o)}function H(e,t,a,i,n,r,o){return gt(t^a^i,e,t,n,r,o)}function G(e,t,a,i,n,r,o){return gt(a^(t|~i),e,t,n,r,o)}function he(e,t){var a=(e&65535)+(t&65535),i=(e>>16)+(t>>16)+(a>>16);return i<<16|a&65535}function Gr(e,t){return e<<t|e>>>32-t}var Bt={md5:function(e){return xr(e)}};function ci(){return"tb_error_log"}function $r(e,t){return new Promise(a=>{let i=`SELECT * FROM ${ci()} WHERE status = ${rt(e)} AND identify = '${t}' ORDER BY id DESC LIMIT 1`;Nr(i,!0).then(n=>{a(n[0])})})}function jr(e,t,a,i,n,r,o,s,c,u){return $r(e,t).then(f=>{if(f)return Promise.resolve(!0);let _=`INSERT INTO ${ci()} (status, identify, grade, flag, user_desc, action_desc, environs_desc, error_desc, create_time, exp_time) values (${rt(e)}, '${t}', ${a}, '${i}', '${at(n)}', '${at(r)}', '${at(o)}', '${at(s)}', ${rt(c)}, ${rt(u)})`;return vr(_,!0)})}var zt={CRASH:1,USER:11,API_FAIL:12,API_ERROR:13,MSG_SYNC:14,DB_PLUGIN:15,FRAME:21,LISTENER:31,BUG_DB_GET_NONE:201,BUG_MSG_SYNC_PLUGIN_LOSS:202,BUG_MSG_SYNC_JS_LOSS:203},qt={CRASH:"crash",MEMORY:"memory",LISTENER:"listener",FRAME_API:"frame_api",API:"api",DB:"db",PAYMENT:"payment",AUTH_FACE:"auth_face",CHAT_CALL:"chat_call",HOT_UPDATE:"hot_update",MESSAGE_PARSE:"message_parse",BUG:"bug"};function ui(){return getApp().globalData.uid==0?!1:ne.zT==3?!0:ne.appId==cr.CHAT_NOW_A||ne.ENV=="dev"}var Yr=1e3;function Kr(e,t){try{if(!ui())return;let a=Vt(t),i=`api-${e} ${a}`;B("error","at comCatch/catch-save.js:15","catch api fail "+i);let n=fi(i);Jr().then(r=>{let o;typeof r=="boolean"?o="\u6D4B\u8BD5\u8C37\u6B4C\u6210\u529F":o=`\u6D4B\u8BD5\u8C37\u6B4C\u5931\u8D25-${Vt(r)}`,n.errorDesc=`${n.errorDesc} - ${o}`,mi(zt.API_FAIL,qt.API,n)})}catch(a){}}function zr(e,t,a){try{if(!ui())return;let i=Vt(a);i=i.substring(0,120);let n=`statusCode-${a.statusCode}-${i}-api-${e}-${JSON.stringify(t)}`;B("error","at comCatch/catch-save.js:37","catch api error "+n);let r=fi(n);mi(zt.API_ERROR,qt.API,r)}catch(i){}}function di(e,t,a){try{if(a.indexOf("tb_error_log")!=-1)return;let i=`${e} - ${t}`;a&&(i+=` - ${a}`),B("error","at comCatch/catch-save.js:74","catch db "+i),qr(zt.DB_PLUGIN,qt.DB,i)}catch(i){}}function Vt(e){if(!e)return"";let t=JSON.stringify(e);return(typeof t!="string"||t=="{}")&&(t=e.toString()),t}function fi(e){return{identify:Bt.md5(e),errorDesc:e,userDesc:Fe.getUserDesc(),actionDesc:Fe.getActionDesc(),environsDesc:Fe.getEnvironsDesc(),expTime:0}}function mi(e,t,a){jr(0,a.identify,e,t,a.userDesc,a.actionDesc,a.environsDesc,a.errorDesc,new Date().getTime(),a.expTime)}function qr(e,t,a){let i=[],n=new Date().getTime();if(n-getApp().globalData.catchApiLastReqTime<=Yr)return;getApp().globalData.catchApiLastReqTime=n,i.push({grade:e,flag:t,user_desc:Fe.getUserDesc(),action_desc:Fe.getActionDesc(),environs_desc:Fe.getEnvironsDesc(),error_desc:a,create_time:n,createTimeStr:Ya(n)});let r={log_list:i};J.request("/monitor/record-exception-log",r)}function Jr(){return new Promise(e=>{uni.request({url:"https://google.com",method:"GET",timeout:5e3,success(t){e(!0)},fail(t){e(t)}})})}var Xr=["/monitor/index","/chat/call/log","/chat/msg/mq-log","/user/sync-permission","/monitor/record-exception-log"],Ma=["/monitor/record-exception-log"],La=5,it={invoke(e,t){if(Xr.indexOf(e)!=-1)return;let a="";a+=`\u63A5\u53E3=${e};`,a+=`\u53C2\u6570=${JSON.stringify(t)}`,a+=`\u65F6\u95F4=${Ya(new Date().getTime())}`,getApp().globalData.catchApiUrlList.push(`\u3010${a}\u3011`);let i=getApp().globalData.catchApiUrlList.length;i>La&&(getApp().globalData.catchApiUrlList=getApp().globalData.catchApiUrlList.slice(i-La))},error(e,t,a){Ma.indexOf(e)==-1&&getApp().globalData.network.isConnected&&(!a||typeof a.statusCode=="undefined"||zr(e,t,a))},fail(e,t){Ma.indexOf(e)==-1&&getApp().globalData.network.isConnected&&Kr(e,t)}},Zr={INIT:1,OPEN:2,CALLBACK:3,SOCKET:4,LOGIN:5};function Ea(){if(getApp().pubUnreadMy.moment>0){ct(Pe.MY,getApp().pubUnreadMy.moment);return}ct(Pe.MY,0),Ar(Pe.MY,getApp().pubUnreadMy.fans>0)}var m={PERMISSION:"permission",PERFECT_DATA:"perfect_data",REST:"rest",HOME_FILTER:"home_filter",GRID_GUIDE:"grid_guide",NOTIFY:"notify",HELLO:"hello",SHARE:"share",LANGUAGE_UP:"language_up",RAMADAN:"ramadan",MSG_DISTURB:"msg_disturb",CALL_DISTURB:"call_disturb",BAN:"ban",WARNING:"warning",HOME_SEX_FILTER:"home_sex_filter",CLUB_RESULT:"club_result",CLUB_DISBAND:"club_disband"},Qr={[m.HOME_FILTER]:"seeking_sex_open_time",[m.GRID_GUIDE]:"dialog_show_time_grid_guide",[m.NOTIFY]:"dialog_show_time_notify",[m.HELLO]:"dialog_show_time_hello"},Wt=-99,We=-100,eo={[m.HOME_FILTER]:1,[m.HOME_SEX_FILTER]:1,[m.GRID_GUIDE]:1,[m.NOTIFY]:2,[m.SHARE]:3,[m.HELLO]:4,[m.LANGUAGE_UP]:5,[m.RAMADAN]:6},Jt={[m.PERMISSION]:1,[m.PERFECT_DATA]:2,[m.REST]:3,[m.HOME_FILTER]:4,[m.HOME_SEX_FILTER]:4,[m.GRID_GUIDE]:4,[m.NOTIFY]:5,[m.SHARE]:7,[m.LANGUAGE_UP]:8};function to(e){return no(m.HOME_FILTER,21600)?!1:Dr(!1)!=e}function ao(e){return ne.isAndroid||e||x(Xt(m.GRID_GUIDE))?!1:!x("user_list_sort_"+getApp().globalData.uid)}function pi(){return ai(P.NOTIFY)?!1:!io()}function io(){let e=er(`${m.NOTIFY}_show_status`);if(!M(e))return!0;let t=x(Xt(m.NOTIFY));return!M(t)}function Xt(e){return`${Qr[e]}_${getApp().globalData.uid}`}function no(e,t){let a=x(Xt(e));if(!a)return!1;let i=new Date().getTime();return i<=a?!1:parseInt((i-a)/1e3)<=t}var wa=!1,ve=!1,ge=0,Ve={appDialogList:[],appDialogStop:!1,appDialogCurKey:"",appDialogHelloData:!1,appBanDialogList:[],appClubResultList:[],appDialogIsShowBan:!1,appBanDialogCurKey:"",appWarningDialogCurKey:"",appClubResultCurKey:""},ro={setDialogHelloData(e,t){e.appDialogHelloData=t},setDialogCurKey(e,t){e.appDialogCurKey=t},setDialogList(e,t){e.appDialogList=t,e.appDialogList.sort((a,i)=>a.sort-i.sort)},sortDialogList(e){e.appDialogList.sort((t,a)=>t.sort-a.sort)},resetDialogItem(e,t){let a=e.appDialogList.findIndex(i=>i.key==t.key);a!=-1&&(e.appDialogList[a].hasExec=!1,e.appDialogList[a].delay=t.delay)},resetClubResultDialogItem(e,t){let a=e.appClubResultList.findIndex(i=>i.key==t.key);a!=-1&&(e.appClubResultList[a].hasExec=!1)},delDialogItem(e,t){M(e.appDialogList)||e.appDialogList.splice(t,1)},delDialogItemByKey(e,t){if(M(e.appDialogList))return;let a=e.appDialogList.findIndex(i=>i.key==t);a!=-1&&e.appDialogList.splice(a,1)},clearDialog(e){e.appDialogStop=!0,e.appDialogList=[]},executeDialog(e,t){if(e.appBanDialogCurKey||e.appWarningDialogCurKey||e.appClubResultCurKey||M(e.appDialogList)||e.appDialogStop)return;let a=e.appDialogList[0];M(a)||a.hasExec||a.isCanExecute&&(e.appDialogList[0].hasExec=!0,It[a.funcName](a).then(()=>{e.appDialogCurKey="";let i=e.appDialogList.indexOf(a);i!=-1&&y("appDialog/delDialogItem",i),y("appDialog/executeDialog","execute then")}))},addDialog(e,t){let a=t.key;e.appDialogStop=!0;let i=e.appDialogList.findIndex(n=>n.key==a);if(i!=-1){if(e.appDialogList[i].isAdd){e.appDialogStop=!1,e.appDialogCurKey||y("appDialog/executeDialog");return}e.appDialogList[i].isAdd=!0,e.appDialogList[i].addTime=new Date().getTime(),e.appDialogList[i].isCanExecute=!0}else{let n=ut()?1:2,r;switch(a){case m.HOME_FILTER:r=mo(n,!0);break;case m.HELLO:r=Ia(t.delay);break;case m.MSG_DISTURB:r=go(t.delay);break;case m.CALL_DISTURB:r=ho(t.delay);break;default:e.appDialogStop=!1,e.appDialogCurKey||y("appDialog/executeDialog");return}r.isAdd=!0,r.addTime=new Date().getTime(),e.appDialogList.push(r)}e.appDialogList.sort((n,r)=>n.sort==r.sort?r.addTime-n.addTime||(n.isCanExecute?We:0):n.sort-r.sort),!e.appDialogCurKey&&(e.appDialogCurKey=a,e.appDialogStop=!1,y("appDialog/executeDialog"))},addDialogHomeFilter(e,t){getApp().globalData.appCRE==0||!to(t)||y("appDialog/addDialog",{key:m.HOME_FILTER})},addDialogHomeSexFilter(e,t){getApp().globalData.appCRE!=0&&(y("appDialog/addDialog",{key:m.HOME_SEX_FILTER,value:t}),y("appDialog/sortDialogList"))},addDialogGridGuide(e,t){let a=e.appDialogList.findIndex(n=>n.key==m.GRID_GUIDE);if(ao(t)){if(a==-1)return;y("appDialog/addDialog",{key:m.GRID_GUIDE})}else a!=-1&&y("appDialog/delDialogItem",a)},addDialogNotify(e,t){t&&!pi()||pe("/pagesDialog/open-sys-notice")},addDialogHello(e,t){if(getApp().globalData.appCRE==0||wa)return;wa=!0;let a=e.appDialogList[0];if(a&&a.key==m.SHARE){ge=30;let i=Ia(ge);i.sort=Ee(ut()?1:2,m.SHARE+1),i.isAdd=!0,i.addTime=new Date().getTime(),e.appDialogList.push(i),e.appDialogList.sort((n,r)=>n.sort==r.sort?r.addTime-n.addTime||(n.isCanExecute?We:0):n.sort-r.sort);return}ge=t,y("appDialog/addDialog",{key:m.HELLO,delay:t})},addDialogMsgDisturb(e,t){y("appDialog/addDialog",{key:m.MSG_DISTURB,delay:t})},addDialogCallDisturb(e,t){y("appDialog/addDialog",{key:m.CALL_DISTURB,delay:t})},delBanDialogItem(e){M(Ve.appBanDialogList)||Ve.appBanDialogList.splice(e,1)},delClubResultDialogItem(e){M(Ve.appClubResultList)||Ve.appClubResultList.splice(e,1)},addDialogBan(e,t){let a=_o(t);e.appDialogIsShowBan?uni.$emit("event_refresh_banned_data",t):(e.appBanDialogList.push(a),y("appDialog/sortBanWarningDialog"))},addDialogWarning(e,t){if(e.appBanDialogList.map(n=>n.sort).indexOf(Number(t.id))!=-1)return;let i;t.from_type==2?i=bo(t):i=Ao(t),e.appBanDialogList.push(i),!(e.appBanDialogCurKey||e.appWarningDialogCurKey)&&y("appDialog/executeBanWarningDialog")},addDialogClubNoticeDialog(e,t){let a,i,n=e.appClubResultList.map(r=>r.key);t.type==dn.CHECK_RESULT?(i=m.CLUB_RESULT+"_"+t.club_id,n.indexOf(i)==-1&&(a=Co(t))):(i=m.CLUB_DISBAND+"_"+t.club_id,n.indexOf(i)==-1&&(a=yo(t))),a&&e.appClubResultList.push(a),!(e.appBanDialogCurKey||e.appWarningDialogCurKey)&&(e.appClubResultCurKey||y("appDialog/executeClubNoticeDialog"))},executeBanWarningDialog(e){if(M(e.appBanDialogList)){y("appDialog/executeClubNoticeDialog");return}let t=e.appBanDialogList[0];if(M(t)||t.hasExec)return;let a=getApp().globalData.curCallId>Le.WAITING;if(a){t.isBan&&uni.$emit("event_banned_close_chat");return}e.appBanDialogList[0].hasExec=!a||!t.isBan,e.appDialogIsShowBan=t.isBan,t.isBan?e.appBanDialogCurKey="ban":e.appWarningDialogCurKey="warning",It[t.funcName](t).then(i=>{if(t.isBan){if(e.appBanDialogCurKey="",e.appDialogIsShowBan=!1,i==1){let n=e.appBanDialogList.indexOf(t);n!=-1&&y("appDialog/delBanDialogItem",n)}}else{e.appWarningDialogCurKey="";let n=e.appBanDialogList.indexOf(t);n!=-1&&y("appDialog/delBanDialogItem",n)}y("appDialog/executeBanWarningDialog","execute then")})},executeClubNoticeDialog(e,t){if(e.appBanDialogCurKey||e.appWarningDialogCurKey)return;if(M(e.appClubResultList)){y("appDialog/executeDialog");return}let a=e.appClubResultList[0];M(a)||a.hasExec||getApp().globalData.curCallId>Le.WAITING||(e.appClubResultCurKey="club_result",e.appClubResultList[0].hasExec=!0,t&&t.delay&&(a.delay=t.delay),It[a.funcName](a).then(()=>{e.appClubResultCurKey="";let n=e.appClubResultList.indexOf(a);n!=-1&&y("appDialog/delClubResultDialogItem",n),y("appDialog/executeClubNoticeDialog","execute then")}))},sortBanWarningDialog(e){let t=e.appBanDialogList.filter(i=>i.sort==Wt),a=e.appBanDialogList.filter(i=>i.sort!=Wt);a=a.sort((i,n)=>i.sort-n.sort),e.appBanDialogList=[...t,...a]}},oo={init(a,i){return K(this,arguments,function*({state:e},t){B("error","at store/modules/app-dialog.js:326","------> init dialog list, data ",t);let n=[];ut()?n=co(t.data,t.homeViewSizeObj):n=so(t.data,t.homeViewSizeObj),y("appDialog/setDialogList",n),y("appDialog/executeDialog")})}},lo={namespaced:!0,state:Ve,mutations:ro,actions:oo};function so(e,t){permissionGetAllStatus();let a=[],i=gi(2,t,e.homeFilterSex);i&&a.push(i);let n=hi(2,t);n&&a.push(n);let r=_i(2,e.share);r&&a.push(r);let o=Ai(2);o&&a.push(o);let s=po(2,e.notifyTips);return s&&a.push(s),a}function co(e,t){let a=[],i=uo(e.authList);i&&a.push(i);let n=fo();n&&a.push(n);let r=gi(2,t,e.homeFilterSex);r&&a.push(r);let o=hi(1,t);o&&a.push(o);let s=5,c=_i(1,e.share,s);c&&a.push(c);let u=Ai(1);return u&&a.push(u),a}function uo(e){return typeof e=="undefined"?null:{key:m.PERFECT_DATA,sort:Jt[m.PERFECT_DATA],delay:0,data:e,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecutePerfectData"}}function fo(){return bi()||!getApp().pubUser.is_rest?null:{key:m.REST,sort:Jt[m.REST],delay:0,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteRest"}}function mo(e,t){return{key:m.HOME_FILTER,sort:Ee(e,m.HOME_FILTER),delay:0,data:{},hasExec:!1,isCanExecute:t,addTime:new Date().getTime(),funcName:"_dialogExecuteHomeFilter"}}function gi(e,t,a){return getApp().globalData.appCRE==0||!t||!t.filter?null:{key:m.HOME_SEX_FILTER,sort:Ee(e,m.HOME_SEX_FILTER),delay:0,data:{value:a,size:t.filter},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteHomeSexFilter"}}function hi(e,t){if(getApp().globalData.appCRE==0)return null;let a="grid";if(!t||!t[a])return null;let i={sizeList:[{key:a,size:t[a]}],from_type:1};return{key:m.GRID_GUIDE,sort:Ee(e,m.GRID_GUIDE),delay:0,data:i,hasExec:!1,isCanExecute:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteGridGuide"}}function _i(e,t,a=5){return getApp().globalData.appCRE==0||M(t)||getApp().globalData.launchCount<3||Sr()?null:{key:m.SHARE,sort:Ee(e,m.SHARE),delay:a,data:t,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteShare"}}function Ia(e){return{key:m.HELLO,sort:We,delay:e,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteHello"}}function Ai(e){let t=x("user_switch_language_status");if(t)return null;let a=Rt(!1);if(t||M(a))return null;let i=rr.map(o=>o.key),n=Rt();if(i.indexOf(n)!=-1)return null;let r=qa(!1);return i.indexOf(r)==-1?null:{key:m.LANGUAGE_UP,sort:Ee(e,m.LANGUAGE_UP),delay:5,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteLanguageUp"}}function po(e,t){return M(t)||x(`stop_notify_${getApp().globalData.uid}_${t.time}`)||!ai(P.NOTIFY)?null:{key:m.RAMADAN,sort:Ee(e,m.RAMADAN),delay:5,data:t,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteRamadan"}}function go(e){return{key:m.MSG_DISTURB,sort:We,delay:e,data:{from_type:1},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteMsgDisturb"}}function ho(e){return{key:m.CALL_DISTURB,sort:We,delay:e,data:{from_type:2},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteCallDisturb"}}function _o(e){return{key:m.BAN,sort:Wt,data:e,delay:e.delay||0,hasExec:!1,isBan:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteBan"}}function Ao(e){return{key:m.WARNING,sort:Number(e.id),data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteWarning"}}function bo(e){return{key:m.WARNING,sort:Number(e.id),data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubWarning"}}function yo(e){return{key:m.CLUB_DISBAND+"_"+e.club_id,data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubDisband"}}function Co(e){return{key:m.CLUB_RESULT+"_"+e.club_id,data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubResult"}}var It={_dialogExecutePermission(e){return new Promise(t=>{let a=setTimeout(()=>{clearTimeout(a),le(e.key,e.delay,0)&&(y("appDialog/setDialogCurKey",m.PERMISSION),pr(1,!1,e.permissionRes).then(()=>{t()}))},e.delay*1e3)})},_dialogExecutePerfectData(e){return new Promise(t=>{y("appDialog/setDialogCurKey",m.PERFECT_DATA),$("/pagesDialog/complete-content-first",{},"DataCompleteContentFirst",e.data,{onCloseListener(){t()}})})},_dialogExecuteRest(){return new Promise(e=>{y("appDialog/setDialogCurKey",m.REST),li(F("tips"),F("anchor.rest.openedTip"),()=>{let t={user_info:{is_rest:0}};J.request("/user/update-info",t,!0,!0).then(a=>{ri("pubUser.is_rest",0),oi(F("tips"),F("anchor.rest.turnOff"),()=>{e()},F("gotIt"))},()=>{e()})},()=>{e()},F("startWorking"))})},_dialogExecuteHomeFilter(e){return new Promise(t=>{le(e.key,e.delay,Ze.USER)&&(y("appDialog/setDialogCurKey",m.HOME_FILTER),pe("/pagesDialog/seeking-sex-guide",{},{onCloseChooseSeekingSex:a=>{uni.$emit("event_app_dialog_seeking_sex_after",a),t()}}))})},_dialogExecuteHomeSexFilter(e){return new Promise(t=>{le(e.key,e.delay,Ze.USER)&&(y("appDialog/setDialogCurKey",m.HOME_SEX_FILTER),pe(Be.homeFilterSexGuide,{params:JSON.stringify(e.data)},{onCloseListener:()=>{uni.$emit("event_handle_filter_seeking_sex"),t()}}))})},_dialogExecuteGridGuide(e){return new Promise(t=>{if(!le(e.key,e.delay,Ze.USER))return;y("appDialog/setDialogCurKey",m.GRID_GUIDE);let a=e.data.sizeList;pe("/pagesDialog/guide-cover",{list:encodeURIComponent(JSON.stringify(a))},{onCloseGuideCover:()=>{uni.$emit("event_app_dialog_close_guide",{from_type:e.data.from_type}),t()}})})},_dialogExecuteShare(e){return new Promise(t=>{let a=setTimeout(()=>{clearTimeout(a),le(e.key,e.delay,0)&&(y("appDialog/setDialogCurKey",m.SHARE),$("/pagesDialog/share",{},"shareData",e.data.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteLanguageUp(e){return new Promise(t=>{let a=setTimeout(()=>{clearTimeout(a),le(e.key,e.delay,0)&&(y("appDialog/setDialogCurKey",m.LANGUAGE_UP),be("user_switch_language_status","1"),pe("/pagesDialog/switch-language-remind",{},{onCloseListener(){t()}}))},e.delay*1e3)})},_dialogExecuteRamadan(e){return new Promise(t=>{let a=setTimeout(()=>{clearTimeout(a),le(e.key,e.delay,0)&&(y("appDialog/setDialogCurKey",m.RAMADAN),$("/pagesDialog/stop-notify",{},"dataStopNotify",e.data,{onCloseListener(){t()}}))},e.delay*1e3)})},_dialogExecuteHello(e){return new Promise(t=>{To().then(a=>{if(!a){t();return}if(ve&&clearInterval(ve),e.delay<=0||ge<=0){if(!le(e.key,ge,0))return;y("appDialog/setDialogCurKey",m.HELLO),va(a,()=>{t()});return}ve=setInterval(()=>{if(!le(e.key,ge,0)){ve&&clearInterval(ve);return}ge-=1,ge<=0&&(clearInterval(ve),y("appDialog/setDialogCurKey",m.HELLO),va(a,()=>{t()}))},1e3)})})},_dialogExecuteMsgDisturb(e){return new Promise(t=>{let a=setTimeout(()=>{clearTimeout(a),le(e.key,e.delay,Ze.MSG)&&(y("appDialog/setDialogCurKey",m.MSG_DISTURB),pe("/pagesDialog/disturb-def",e.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteCallDisturb(e){return new Promise(t=>{let a=setTimeout(()=>{clearTimeout(a),le(e.key,e.delay,0)&&(y("appDialog/setDialogCurKey",m.CALL_DISTURB),pe("/pagesDialog/disturb-def",e.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteBan(e){return new Promise(t=>{let a=e.exp_time;if(parseInt(new Date().getTime()/1e3)>a){t();return}let i=setTimeout(()=>{clearTimeout(i);let n=e.data.from_cache?1:0;$("/pagesDialog/banned",{from_cache:n},"bannedDialogData",e.data,{onCloseListener:r=>{t(r)}})},e.delay*1e3)})},_dialogExecuteWarning(e){return new Promise(t=>{let a=setTimeout(()=>{clearTimeout(a),$("/pagesDialog/warning",{},"warningDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubWarning(e){return new Promise(t=>{let a=setTimeout(()=>{clearTimeout(a),$(Be.clubWarning,{},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubDisband(e){return new Promise(t=>{let a=setTimeout(()=>{clearTimeout(a),$(Be.clubDisband,{},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubResult(e){return new Promise(t=>{let a=setTimeout(()=>{clearTimeout(a),$(Be.clubStatusRemind,{from_type:2},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})}};function le(e,t,a){let i;return a==0?i=Do():i=So(a),getApp().globalData.isGestureBacking||getApp().globalData.s.state.appDialog.appDialogStop||bi()||!i?(y("appDialog/resetDialogItem",{key:e,delay:t}),!1):!0}function bi(){return getApp().globalData.uid==0}function Do(){return getCurrentPages().length==1}function So(e){let t=pt();return t.length==1&&t[0]==e}function Ee(e,t){return e==1?Jt[t]:eo[t]}function To(){return new Promise(e=>{let t=getApp().globalData.s.state.appDialog.appDialogHelloData;t?e(t):J.request("/user/greet-coach-list",{},!1,!0).then(a=>{M(a.data)||M(a.data.list)?e(null):(y("appDialog/setDialogHelloData",a.data),e(a.data))},a=>{e(null)})})}function va(e,t){$("/pagesDialog/quality-user",{},"qualityUserData",e,{onCloseListener:a=>{a&&pi()?setTimeout(()=>{y("appDialog/addDialogNotify")},2300):t()}})}var Mo={curSendCont:0,msgMtimeList:[]},Lo=60,Na=6,Eo={addSendCount(e){e.curSendCont+=1},clearSendCount(e){e.curSendCont=0},addMsgDisturbSaveCount(e,t){let a=e.msgMtimeList.length;if(e.msgMtimeList.length<Na&&(e.msgMtimeList.push(t/1e6),a=e.msgMtimeList.length),a>=Na){let i=e.msgMtimeList[0];e.msgMtimeList[a-1]-i<=Lo&&y("appDialog/addDialogMsgDisturb",2),e.msgMtimeList.splice(0,1)}}},wo={namespaced:!0,state:Mo,mutations:Eo},Io={callMtimeList:[]},vo=60,Oa=3,No={addCallDisturbReceiveCount(e,t){let a=e.callMtimeList.length;if(e.callMtimeList.length<Oa&&(e.callMtimeList.push(t/1e3),a=e.callMtimeList.length),a>=Oa){let i=e.callMtimeList[0];e.callMtimeList[a-1]-i<=vo&&y("appDialog/addDialogCallDisturb",2),e.callMtimeList.splice(0,1)}},clearCallDisturbReceiveMtime(e){e.callMtimeList=[]}},Oo={namespaced:!0,state:Io,mutations:No},ke=x("pubData");ke||(ke={});var ko=["pubToken","pubUser","pubAccount","pubPrivacy"],Po=function(e,t){if(ko.indexOf(e)==-1)return;let a=x("pubData");a=a||{},a[e]=t,be("pubData",a),["pubUser","pubAccount"].indexOf(e)!=-1?uni.$emit("event_vuex_watch",e):uni.$emit(`event_vuex_watch_${e}`)},Fo=(0,ka.createStore)({state:{pubToken:ke.pubToken||"",pubUser:ke.pubUser||{nickname:"",uid:0,avatar:""},pubAccount:ke.pubAccount||{money:0},pubPrivacy:ke.pubPrivacy||{},pubUnread:0,pubUnreadMy:{fans:0,moment:0,moment_type:1},pubI18n:"",pubAI18n:""},mutations:{setPubValue(e,t){let a=t.name.split("."),i="",n=a.length;if(n>=2){let r=e[a[0]];for(let o=1;o<n-1;o++)r=r[a[o]];r[a[n-1]]=t.value,i=a[0]}else e[t.name]=t.value,i=t.name;Po(i,e[i])},initUnread(e,t){let a=parseInt(t);a<0&&(a=0),e.pubUnread=a,ct(Pe.MSG,e.pubUnread),uni.$emit("event_vuex_watch_pub_unread",a)},setUnread(e,t){let a=parseInt(t);if(isNaN(a)||a==0)return;let i=e.pubUnread+a;i<0&&(i=0),e.pubUnread=i,ct(Pe.MSG,e.pubUnread),uni.$emit("event_vuex_watch_pub_unread",i)},initUnreadMy(e,t){let a=e.pubUnreadMy;typeof t.fans!="undefined"&&(a.fans=Number(t.fans)),typeof t.moment!="undefined"&&(a.moment=Number(t.moment)),typeof t.moment_type!="undefined"&&(a.moment_type=Number(t.moment_type)),e.pubUnreadMy=a,Ea(),uni.$emit("event_vuex_watch_pubUnreadMy",a)},setUnreadMy(e,t){let a=e.pubUnreadMy;for(let i in t)a[i]=t[i];e.pubUnreadMy=a,Ea(),uni.$emit("event_vuex_watch_pubUnreadMy",a)}},modules:{appDialog:lo,message:wo,call:Oo}}),Ne={handleCache(){let e=Ne.getCache();M(e)||(e=Kt(e),!Ne.checkIsShow()&&(e.from_cache=1,y("appDialog/addDialogBan",e),y("appDialog/executeBanWarningDialog")))},checkIsShow(){return za()=="/pagesDialog/banned"},setCache(e){let t=JSON.stringify(e);be(Ne.getCacheKey(),t)},getCache(){return x(Ne.getCacheKey())},getCacheKey(){return`banned_data_${Fo.state.pubUser.uid}`},removeCache(){Ge(Ne.getCacheKey())}},J={setToken(e){M(e)||ri("pubToken",e)},isLogin(){let e=getApp().globalData.s.state;return!M(e.pubToken)&&e.pubUser.uid},requestOutsourcing(e,t,a,i,n=!1){return J.requestBase(e,t,a,i,n,3)},requestManager(e,t,a,i,n=!1){return J.requestBase(e,t,a,i,n,2)},request(e,t,a,i,n=!1){return J.requestBase(e,t,a,i,n,1)},requestBase(e,t,a,i,n=!1,r){return new Promise((o,s)=>{let c=!1;try{c=getApp().globalData.s.state.pubToken}catch(T){B("error","at common/api.js:35","request token catch "+JSON.stringify(T))}let u={"content-type":"application/json",ua:getApp().globalData.ua},f;r==1?(f=getApp().globalData.apiHost,c&&(u.auth=`Bearer ${c}`)):r==2?(f=getApp().globalData.pApiHost,c&&(u.Authorization=`Bearer ${c}`)):r==3&&(f=getApp().globalData.oApiHost,c&&(u.Authorization=`Bearer ${c}`));let _=!1;if(a)if(a=="refresh")_=!0;else{let T={mask:!0};typeof a=="string"&&(T.title=a),uni.showLoading(T)}it.invoke(e,t);let C=Ho(t);uni.request({url:f+e,method:"POST",header:u,data:C,dataType:"json",timeout:1e4,complete(T){if(a&&uni.hideLoading(),B("log","at common/api.js:74",`request ${e} obj ${JSON.stringify(t)}`),T.statusCode==200){let S=T.data;if(S.data&&typeof S.data.callback=="object"&&(J.handleCallback(S.data.callback),n))return et;if(S.ok===99)return getApp().loginOut(),et;if(S.ok==-98)return Wo(S.data),i&&s(S),et;if(M(S.msg)||Cr(S.msg),S.ok>0){o(S);return}i&&s(S)}else if(_&&uni.stopPullDownRefresh(),i)s(T),it.error(e,t,T);else return it.error(e,t,T),et},fail(T){it.fail(e,T)}})})},handleCallback(e){switch(e.func_name){case"alert":xo(e.func_data);break;case"open":Ro(e.func_data);break;case"vip_alert":$("/pages/vip/vip-dialog",null,"vipDialogData",e.func_data);break;case"recharge_alert":let t={fromType:e.func_data.from_type,diffCoin:e.func_data.diff_coin||0};t.order_source=typeof e.func_data.order_source=="undefined"?0:e.func_data.order_source,t.click_type=typeof e.func_data.click_type=="undefined"?0:e.func_data.click_type,$("/pages/coin/coin-dialog",t,"coinDialogData",e.func_data);break;case"close":mt();break;case"banned_alert":let a=e.func_data.exp_time;if(parseInt(new Date().getTime()/1e3)>a||(y("appDialog/addDialogBan",e.func_data),Ne.setCache(e.func_data),za()=="/pagesDialog/banned"))return;let n=setTimeout(()=>{clearTimeout(n),y("appDialog/executeBanWarningDialog")},e.delay*1e3);break;case"reconnect_mqtt":getApp().socketReconnect(Er.API_CALL_BACK,e.func_data);break;case"reload_route":getApp().handleSecret(e.func_data,Zr.CALLBACK,{});break;case"event":Uo(e.func_data);break;case"api":Bo(e.func_data);break;case"sensitive_alert":$("/pagesDialog/sensitive-check",null,"sensitiveData",e.func_data),uni.hideKeyboard();break;case"free_coins":$("/pagesDialog/coins-free",{coin:e.func_data.free_coins},"coinsFree",{},{});break}},accessLog(e,t){this.request("/other/access-log",{api_name:e,content:tt(t)})},accessLogExtra(e,t,a){let i=`${tt(t)} ${tt(a)}`;this.request("/other/access-log",{api_name:e,content:i})},accessLogApi(e,t,a,i){let n=`url:${t} p:${JSON.stringify(a)} res ${tt(i)}`;J.accessLog(e,n)}};function xo(e){let t=e.enter_func,a=e.cancel_title,i=e.enter_title,n=e.cancel_func,r=!M(a);uni.hideKeyboard(),uni.showModal({title:e.title,content:e.msg,showCancel:r,cancelText:r?a:F("cancel"),confirmText:i||F("ok"),complete(o){o.confirm?M(t)||J.handleCallback(t):o.cancel&&(M(n)||J.handleCallback(n))}})}function Ro(e){let t=e.page_name,a=e.data;t=="inside_web"?Ta(a.route,!0):t=="safari"?Ta(a.route,!1):t=="web"?pe(a.route):t=="native"?Vo(a.route):t=="chat"&&(pt().indexOf("/pages/call/chat-view")==-1?nr(a.user_info):uni.$emit("event_no_connect_close_listener",{action:"chat_pri",user:a.user_info}))}function Uo(e){let t=e.event_key;if(M(t))return;let a=e.data;M(a)?uni.$emit(t):uni.$emit(t,a)}function Bo(e){if(e.type==1){let a={user_info:{is_rest:0}};J.request("/user/update-info",a,!0).then(()=>{getApp().pubUser.is_rest=0,oi(F("tips"),F("anchorTurnedOffRest"),"",F("gotIt"))})}}function Vo(e){return new Function("return "+e)()}function Wo(e){pt().indexOf("/pagesDialog/stop_taking")==-1&&(getApp().globalData.appStopTaking=!0,getApp().socketDisconnect(),$("/pagesDialog/stop_taking",{},"stopTakingData",e))}function Ho(e){try{M(e)&&(e={}),e.times=new Date().getTime();let t=Object.keys(e).sort(),a={};for(let n=0,r=t.length;n<r;n++)a[t[n]]=e[t[n]];let i=yi(a).substr(1);return a.sign=Bt.md5(`${Bt.md5(i)}fMHjgD94yoc6TbB7sGoA`),a}catch(t){return e}}function yi(e,t){if(e==null)return"";try{let a="",i=typeof e;if(i=="string"||i=="number")a+="&"+t+"="+ir(e);else if(i=="boolean")a+="&"+t+"="+(e?1:0);else for(let n in e){let r=t==null?n:t+Go(n);a+=yi(e[n],r)}return a}catch(a){return""}}function Go(e){return`${encodeURIComponent("[")}${e}${encodeURIComponent("]")}`}var Z=(e,t)=>{let a=e.__vccOpts||e;for(let[i,n]of t)a[i]=n;return a};var $o={id:"2852637",name:"uniui\u56FE\u6807\u5E93",font_family:"uniicons",css_prefix_text:"uniui-",description:"",glyphs:[{icon_id:"25027049",name:"yanse",font_class:"color",unicode:"e6cf",unicode_decimal:59087},{icon_id:"25027048",name:"wallet",font_class:"wallet",unicode:"e6b1",unicode_decimal:59057},{icon_id:"25015720",name:"settings-filled",font_class:"settings-filled",unicode:"e6ce",unicode_decimal:59086},{icon_id:"25015434",name:"shimingrenzheng-filled",font_class:"auth-filled",unicode:"e6cc",unicode_decimal:59084},{icon_id:"24934246",name:"shop-filled",font_class:"shop-filled",unicode:"e6cd",unicode_decimal:59085},{icon_id:"24934159",name:"staff-filled-01",font_class:"staff-filled",unicode:"e6cb",unicode_decimal:59083},{icon_id:"24932461",name:"VIP-filled",font_class:"vip-filled",unicode:"e6c6",unicode_decimal:59078},{icon_id:"24932462",name:"plus_circle_fill",font_class:"plus-filled",unicode:"e6c7",unicode_decimal:59079},{icon_id:"24932463",name:"folder_add-filled",font_class:"folder-add-filled",unicode:"e6c8",unicode_decimal:59080},{icon_id:"24932464",name:"yanse-filled",font_class:"color-filled",unicode:"e6c9",unicode_decimal:59081},{icon_id:"24932465",name:"tune-filled",font_class:"tune-filled",unicode:"e6ca",unicode_decimal:59082},{icon_id:"24932455",name:"a-rilidaka-filled",font_class:"calendar-filled",unicode:"e6c0",unicode_decimal:59072},{icon_id:"24932456",name:"notification-filled",font_class:"notification-filled",unicode:"e6c1",unicode_decimal:59073},{icon_id:"24932457",name:"wallet-filled",font_class:"wallet-filled",unicode:"e6c2",unicode_decimal:59074},{icon_id:"24932458",name:"paihangbang-filled",font_class:"medal-filled",unicode:"e6c3",unicode_decimal:59075},{icon_id:"24932459",name:"gift-filled",font_class:"gift-filled",unicode:"e6c4",unicode_decimal:59076},{icon_id:"24932460",name:"fire-filled",font_class:"fire-filled",unicode:"e6c5",unicode_decimal:59077},{icon_id:"24928001",name:"refreshempty",font_class:"refreshempty",unicode:"e6bf",unicode_decimal:59071},{icon_id:"24926853",name:"location-ellipse",font_class:"location-filled",unicode:"e6af",unicode_decimal:59055},{icon_id:"24926735",name:"person-filled",font_class:"person-filled",unicode:"e69d",unicode_decimal:59037},{icon_id:"24926703",name:"personadd-filled",font_class:"personadd-filled",unicode:"e698",unicode_decimal:59032},{icon_id:"24923351",name:"back",font_class:"back",unicode:"e6b9",unicode_decimal:59065},{icon_id:"24923352",name:"forward",font_class:"forward",unicode:"e6ba",unicode_decimal:59066},{icon_id:"24923353",name:"arrowthinright",font_class:"arrow-right",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923353",name:"arrowthinright",font_class:"arrowthinright",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrow-left",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrowthinleft",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923355",name:"arrowthinup",font_class:"arrow-up",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923355",name:"arrowthinup",font_class:"arrowthinup",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923356",name:"arrowthindown",font_class:"arrow-down",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923356",name:"arrowthindown",font_class:"arrowthindown",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923349",name:"arrowdown",font_class:"bottom",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923349",name:"arrowdown",font_class:"arrowdown",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923346",name:"arrowright",font_class:"right",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923346",name:"arrowright",font_class:"arrowright",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923347",name:"arrowup",font_class:"top",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923347",name:"arrowup",font_class:"arrowup",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923348",name:"arrowleft",font_class:"left",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923348",name:"arrowleft",font_class:"arrowleft",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923334",name:"eye",font_class:"eye",unicode:"e651",unicode_decimal:58961},{icon_id:"24923335",name:"eye-filled",font_class:"eye-filled",unicode:"e66a",unicode_decimal:58986},{icon_id:"24923336",name:"eye-slash",font_class:"eye-slash",unicode:"e6b3",unicode_decimal:59059},{icon_id:"24923337",name:"eye-slash-filled",font_class:"eye-slash-filled",unicode:"e6b4",unicode_decimal:59060},{icon_id:"24923305",name:"info-filled",font_class:"info-filled",unicode:"e649",unicode_decimal:58953},{icon_id:"24923299",name:"reload-01",font_class:"reload",unicode:"e6b2",unicode_decimal:59058},{icon_id:"24923195",name:"mic_slash_fill",font_class:"micoff-filled",unicode:"e6b0",unicode_decimal:59056},{icon_id:"24923165",name:"map-pin-ellipse",font_class:"map-pin-ellipse",unicode:"e6ac",unicode_decimal:59052},{icon_id:"24923166",name:"map-pin",font_class:"map-pin",unicode:"e6ad",unicode_decimal:59053},{icon_id:"24923167",name:"location",font_class:"location",unicode:"e6ae",unicode_decimal:59054},{icon_id:"24923064",name:"starhalf",font_class:"starhalf",unicode:"e683",unicode_decimal:59011},{icon_id:"24923065",name:"star",font_class:"star",unicode:"e688",unicode_decimal:59016},{icon_id:"24923066",name:"star-filled",font_class:"star-filled",unicode:"e68f",unicode_decimal:59023},{icon_id:"24899646",name:"a-rilidaka",font_class:"calendar",unicode:"e6a0",unicode_decimal:59040},{icon_id:"24899647",name:"fire",font_class:"fire",unicode:"e6a1",unicode_decimal:59041},{icon_id:"24899648",name:"paihangbang",font_class:"medal",unicode:"e6a2",unicode_decimal:59042},{icon_id:"24899649",name:"font",font_class:"font",unicode:"e6a3",unicode_decimal:59043},{icon_id:"24899650",name:"gift",font_class:"gift",unicode:"e6a4",unicode_decimal:59044},{icon_id:"24899651",name:"link",font_class:"link",unicode:"e6a5",unicode_decimal:59045},{icon_id:"24899652",name:"notification",font_class:"notification",unicode:"e6a6",unicode_decimal:59046},{icon_id:"24899653",name:"staff",font_class:"staff",unicode:"e6a7",unicode_decimal:59047},{icon_id:"24899654",name:"VIP",font_class:"vip",unicode:"e6a8",unicode_decimal:59048},{icon_id:"24899655",name:"folder_add",font_class:"folder-add",unicode:"e6a9",unicode_decimal:59049},{icon_id:"24899656",name:"tune",font_class:"tune",unicode:"e6aa",unicode_decimal:59050},{icon_id:"24899657",name:"shimingrenzheng",font_class:"auth",unicode:"e6ab",unicode_decimal:59051},{icon_id:"24899565",name:"person",font_class:"person",unicode:"e699",unicode_decimal:59033},{icon_id:"24899566",name:"email-filled",font_class:"email-filled",unicode:"e69a",unicode_decimal:59034},{icon_id:"24899567",name:"phone-filled",font_class:"phone-filled",unicode:"e69b",unicode_decimal:59035},{icon_id:"24899568",name:"phone",font_class:"phone",unicode:"e69c",unicode_decimal:59036},{icon_id:"24899570",name:"email",font_class:"email",unicode:"e69e",unicode_decimal:59038},{icon_id:"24899571",name:"personadd",font_class:"personadd",unicode:"e69f",unicode_decimal:59039},{icon_id:"24899558",name:"chatboxes-filled",font_class:"chatboxes-filled",unicode:"e692",unicode_decimal:59026},{icon_id:"24899559",name:"contact",font_class:"contact",unicode:"e693",unicode_decimal:59027},{icon_id:"24899560",name:"chatbubble-filled",font_class:"chatbubble-filled",unicode:"e694",unicode_decimal:59028},{icon_id:"24899561",name:"contact-filled",font_class:"contact-filled",unicode:"e695",unicode_decimal:59029},{icon_id:"24899562",name:"chatboxes",font_class:"chatboxes",unicode:"e696",unicode_decimal:59030},{icon_id:"24899563",name:"chatbubble",font_class:"chatbubble",unicode:"e697",unicode_decimal:59031},{icon_id:"24881290",name:"upload-filled",font_class:"upload-filled",unicode:"e68e",unicode_decimal:59022},{icon_id:"24881292",name:"upload",font_class:"upload",unicode:"e690",unicode_decimal:59024},{icon_id:"24881293",name:"weixin",font_class:"weixin",unicode:"e691",unicode_decimal:59025},{icon_id:"24881274",name:"compose",font_class:"compose",unicode:"e67f",unicode_decimal:59007},{icon_id:"24881275",name:"qq",font_class:"qq",unicode:"e680",unicode_decimal:59008},{icon_id:"24881276",name:"download-filled",font_class:"download-filled",unicode:"e681",unicode_decimal:59009},{icon_id:"24881277",name:"pengyouquan",font_class:"pyq",unicode:"e682",unicode_decimal:59010},{icon_id:"24881279",name:"sound",font_class:"sound",unicode:"e684",unicode_decimal:59012},{icon_id:"24881280",name:"trash-filled",font_class:"trash-filled",unicode:"e685",unicode_decimal:59013},{icon_id:"24881281",name:"sound-filled",font_class:"sound-filled",unicode:"e686",unicode_decimal:59014},{icon_id:"24881282",name:"trash",font_class:"trash",unicode:"e687",unicode_decimal:59015},{icon_id:"24881284",name:"videocam-filled",font_class:"videocam-filled",unicode:"e689",unicode_decimal:59017},{icon_id:"24881285",name:"spinner-cycle",font_class:"spinner-cycle",unicode:"e68a",unicode_decimal:59018},{icon_id:"24881286",name:"weibo",font_class:"weibo",unicode:"e68b",unicode_decimal:59019},{icon_id:"24881288",name:"videocam",font_class:"videocam",unicode:"e68c",unicode_decimal:59020},{icon_id:"24881289",name:"download",font_class:"download",unicode:"e68d",unicode_decimal:59021},{icon_id:"24879601",name:"help",font_class:"help",unicode:"e679",unicode_decimal:59001},{icon_id:"24879602",name:"navigate-filled",font_class:"navigate-filled",unicode:"e67a",unicode_decimal:59002},{icon_id:"24879603",name:"plusempty",font_class:"plusempty",unicode:"e67b",unicode_decimal:59003},{icon_id:"24879604",name:"smallcircle",font_class:"smallcircle",unicode:"e67c",unicode_decimal:59004},{icon_id:"24879605",name:"minus-filled",font_class:"minus-filled",unicode:"e67d",unicode_decimal:59005},{icon_id:"24879606",name:"micoff",font_class:"micoff",unicode:"e67e",unicode_decimal:59006},{icon_id:"24879588",name:"closeempty",font_class:"closeempty",unicode:"e66c",unicode_decimal:58988},{icon_id:"24879589",name:"clear",font_class:"clear",unicode:"e66d",unicode_decimal:58989},{icon_id:"24879590",name:"navigate",font_class:"navigate",unicode:"e66e",unicode_decimal:58990},{icon_id:"24879591",name:"minus",font_class:"minus",unicode:"e66f",unicode_decimal:58991},{icon_id:"24879592",name:"image",font_class:"image",unicode:"e670",unicode_decimal:58992},{icon_id:"24879593",name:"mic",font_class:"mic",unicode:"e671",unicode_decimal:58993},{icon_id:"24879594",name:"paperplane",font_class:"paperplane",unicode:"e672",unicode_decimal:58994},{icon_id:"24879595",name:"close",font_class:"close",unicode:"e673",unicode_decimal:58995},{icon_id:"24879596",name:"help-filled",font_class:"help-filled",unicode:"e674",unicode_decimal:58996},{icon_id:"24879597",name:"plus-filled",font_class:"paperplane-filled",unicode:"e675",unicode_decimal:58997},{icon_id:"24879598",name:"plus",font_class:"plus",unicode:"e676",unicode_decimal:58998},{icon_id:"24879599",name:"mic-filled",font_class:"mic-filled",unicode:"e677",unicode_decimal:58999},{icon_id:"24879600",name:"image-filled",font_class:"image-filled",unicode:"e678",unicode_decimal:59e3},{icon_id:"24855900",name:"locked-filled",font_class:"locked-filled",unicode:"e668",unicode_decimal:58984},{icon_id:"24855901",name:"info",font_class:"info",unicode:"e669",unicode_decimal:58985},{icon_id:"24855903",name:"locked",font_class:"locked",unicode:"e66b",unicode_decimal:58987},{icon_id:"24855884",name:"camera-filled",font_class:"camera-filled",unicode:"e658",unicode_decimal:58968},{icon_id:"24855885",name:"chat-filled",font_class:"chat-filled",unicode:"e659",unicode_decimal:58969},{icon_id:"24855886",name:"camera",font_class:"camera",unicode:"e65a",unicode_decimal:58970},{icon_id:"24855887",name:"circle",font_class:"circle",unicode:"e65b",unicode_decimal:58971},{icon_id:"24855888",name:"checkmarkempty",font_class:"checkmarkempty",unicode:"e65c",unicode_decimal:58972},{icon_id:"24855889",name:"chat",font_class:"chat",unicode:"e65d",unicode_decimal:58973},{icon_id:"24855890",name:"circle-filled",font_class:"circle-filled",unicode:"e65e",unicode_decimal:58974},{icon_id:"24855891",name:"flag",font_class:"flag",unicode:"e65f",unicode_decimal:58975},{icon_id:"24855892",name:"flag-filled",font_class:"flag-filled",unicode:"e660",unicode_decimal:58976},{icon_id:"24855893",name:"gear-filled",font_class:"gear-filled",unicode:"e661",unicode_decimal:58977},{icon_id:"24855894",name:"home",font_class:"home",unicode:"e662",unicode_decimal:58978},{icon_id:"24855895",name:"home-filled",font_class:"home-filled",unicode:"e663",unicode_decimal:58979},{icon_id:"24855896",name:"gear",font_class:"gear",unicode:"e664",unicode_decimal:58980},{icon_id:"24855897",name:"smallcircle-filled",font_class:"smallcircle-filled",unicode:"e665",unicode_decimal:58981},{icon_id:"24855898",name:"map-filled",font_class:"map-filled",unicode:"e666",unicode_decimal:58982},{icon_id:"24855899",name:"map",font_class:"map",unicode:"e667",unicode_decimal:58983},{icon_id:"24855825",name:"refresh-filled",font_class:"refresh-filled",unicode:"e656",unicode_decimal:58966},{icon_id:"24855826",name:"refresh",font_class:"refresh",unicode:"e657",unicode_decimal:58967},{icon_id:"24855808",name:"cloud-upload",font_class:"cloud-upload",unicode:"e645",unicode_decimal:58949},{icon_id:"24855809",name:"cloud-download-filled",font_class:"cloud-download-filled",unicode:"e646",unicode_decimal:58950},{icon_id:"24855810",name:"cloud-download",font_class:"cloud-download",unicode:"e647",unicode_decimal:58951},{icon_id:"24855811",name:"cloud-upload-filled",font_class:"cloud-upload-filled",unicode:"e648",unicode_decimal:58952},{icon_id:"24855813",name:"redo",font_class:"redo",unicode:"e64a",unicode_decimal:58954},{icon_id:"24855814",name:"images-filled",font_class:"images-filled",unicode:"e64b",unicode_decimal:58955},{icon_id:"24855815",name:"undo-filled",font_class:"undo-filled",unicode:"e64c",unicode_decimal:58956},{icon_id:"24855816",name:"more",font_class:"more",unicode:"e64d",unicode_decimal:58957},{icon_id:"24855817",name:"more-filled",font_class:"more-filled",unicode:"e64e",unicode_decimal:58958},{icon_id:"24855818",name:"undo",font_class:"undo",unicode:"e64f",unicode_decimal:58959},{icon_id:"24855819",name:"images",font_class:"images",unicode:"e650",unicode_decimal:58960},{icon_id:"24855821",name:"paperclip",font_class:"paperclip",unicode:"e652",unicode_decimal:58962},{icon_id:"24855822",name:"settings",font_class:"settings",unicode:"e653",unicode_decimal:58963},{icon_id:"24855823",name:"search",font_class:"search",unicode:"e654",unicode_decimal:58964},{icon_id:"24855824",name:"redo-filled",font_class:"redo-filled",unicode:"e655",unicode_decimal:58965},{icon_id:"24841702",name:"list",font_class:"list",unicode:"e644",unicode_decimal:58948},{icon_id:"24841489",name:"mail-open-filled",font_class:"mail-open-filled",unicode:"e63a",unicode_decimal:58938},{icon_id:"24841491",name:"hand-thumbsdown-filled",font_class:"hand-down-filled",unicode:"e63c",unicode_decimal:58940},{icon_id:"24841492",name:"hand-thumbsdown",font_class:"hand-down",unicode:"e63d",unicode_decimal:58941},{icon_id:"24841493",name:"hand-thumbsup-filled",font_class:"hand-up-filled",unicode:"e63e",unicode_decimal:58942},{icon_id:"24841494",name:"hand-thumbsup",font_class:"hand-up",unicode:"e63f",unicode_decimal:58943},{icon_id:"24841496",name:"heart-filled",font_class:"heart-filled",unicode:"e641",unicode_decimal:58945},{icon_id:"24841498",name:"mail-open",font_class:"mail-open",unicode:"e643",unicode_decimal:58947},{icon_id:"24841488",name:"heart",font_class:"heart",unicode:"e639",unicode_decimal:58937},{icon_id:"24839963",name:"loop",font_class:"loop",unicode:"e633",unicode_decimal:58931},{icon_id:"24839866",name:"pulldown",font_class:"pulldown",unicode:"e632",unicode_decimal:58930},{icon_id:"24813798",name:"scan",font_class:"scan",unicode:"e62a",unicode_decimal:58922},{icon_id:"24813786",name:"bars",font_class:"bars",unicode:"e627",unicode_decimal:58919},{icon_id:"24813788",name:"cart-filled",font_class:"cart-filled",unicode:"e629",unicode_decimal:58921},{icon_id:"24813790",name:"checkbox",font_class:"checkbox",unicode:"e62b",unicode_decimal:58923},{icon_id:"24813791",name:"checkbox-filled",font_class:"checkbox-filled",unicode:"e62c",unicode_decimal:58924},{icon_id:"24813794",name:"shop",font_class:"shop",unicode:"e62f",unicode_decimal:58927},{icon_id:"24813795",name:"headphones",font_class:"headphones",unicode:"e630",unicode_decimal:58928},{icon_id:"24813796",name:"cart",font_class:"cart",unicode:"e631",unicode_decimal:58929}]},jo="/static/uniicons.ttf",Yo={"uni-icons":{"":{fontFamily:"uniicons",textDecoration:"none",textAlign:"center"}}},Ko=weex.requireModule("dom");Ko.addRule("fontFace",{fontFamily:"uniicons",src:"url('"+jo+"')"});var zo={name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""}},data(){return{icons:$o.glyphs}},computed:{unicode(){let e=this.icons.find(t=>t.font_class===this.type);return e?unescape(`%u${e.unicode}`):""}},methods:{_onClick(e){this.$emit("click",e)}}};function qo(e,t,a,i,n,r){return(0,ye.openBlock)(),(0,ye.createElementBlock)("u-text",{style:(0,ye.normalizeStyle)({color:a.color,"font-size":a.size}),class:"uni-icons",onClick:t[0]||(t[0]=(...o)=>r._onClick&&r._onClick(...o))},(0,ye.toDisplayString)(r.unicode),5)}var Ci=Z(zo,[["render",qo],["styles",[Yo]]]);var w=ue(de());var N=ue(de()),Jo={"l-img":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"place-img":{"":{position:"absolute",top:0,left:0}},"text-place":{"":{color:"#999999",position:"absolute",bottom:0,textAlign:"center"}}},Xo={name:"LImg",emits:["click","onError","onLoad"],props:{src:{type:String,default:""},mode:{type:String,default:"aspectFill"},w:{type:String,default:"0"},h:{type:String,default:"0"},radius:{type:String,default:"0"},lazyLoad:{type:Boolean,default:!1},fade:{type:Boolean,default:!0},placeType:{type:Number,default:0},placeW:{type:String,default:""},placeFontSize:{type:[String,Boolean],default:""},placeBottom:{type:String,default:""},border:{type:String,default:""},otherStyle:{type:Object,default(){return{}}},click:{type:Boolean,default:!0},isGif:{type:Boolean,default:!1},needStyle:{type:[String,Number],default:0},useCache:{type:Boolean,default:!1},fitWH:{type:String,default:""}},data(){return{errorCount:1,path:"",refresh:!0,darkDir:"",isLoad:!1,fitStr:""}},watch:{src(){this.isLoad=!1,this.path=this.parse()}},computed:{placeSrc(){return this.placeType==1?"/static/img_load_s.png":this.placeType==2?"/static/img_load_b.png":""},placeViewStyle(){let e={width:this.placeW,height:this.placeW,position:"relative"};return this.placeBottom&&(e.marginBottom=this.placeBottom),e},placeFontSizeVal(){return this.placeFontSize===!1?"":this.placeFontSize?this.placeFontSize:this.placeType==2?"24rpx":"16rpx"},borderStyle(){if(this.border=="")return{};let e={},t=this.border.split(" ");return e.borderWidth=t[0],e.borderStyle=t[1],e.borderColor=t[2],e},viewStyle(){let e={width:this.w,minWidth:this.w,height:this.h,minHeight:this.h};return this.setRadius(e)},imgStyle(){let e={width:this.w,height:this.h};return e=Object.assign(e,this.otherStyle),this.setRadius(e)},ossPathOriginal(){return this.isGif?getApp().globalData.ossPath:getApp().globalData.ossPicPath}},methods:{$str:F,clickImg(e){this.click&&this.$emit("click",e)},setRadius(e){let t=this.radius.split(" ");return t.length<=1?e.borderRadius=this.radius:(e.borderTopLeftRadius=t[0],e.borderTopRightRadius=t[1],e.borderBottomRightRadius=t[2],e.borderBottomLeftRadius=t[3]),e},onLoadError(){if(this.path){if(this.path.startsWith("http")){if(this.errorCount>2){this.isError=!0,this.$emit("onError");return}this.errorCount+=1,this.refresh=!1,setTimeout(()=>{this.refresh=!0},500);return}this.path=this.ossPathOriginal+this.darkDir+this.src,Qa(this.darkDir+this.src)}},onLoad(){this.isLoad=!0,this.$emit("onLoad")},parse(){let e;if(e=0,this.src.startsWith("/static"))return this.src;if(this.src.startsWith("s/")){let t=getApp().getAppFilePath(this.darkDir+this.src,e);if(!M(t))return t}return this.useCache||e&&ne.isAndroid?this.isGif?Za(this.fitStr+this.darkDir+this.src):Xa(this.fitStr+this.darkDir+this.src):this.src.startsWith("file://")?this.src:this.src.startsWith("/var/mobile/")?"file://"+this.src:this.src.startsWith("/storage/")?this.src:this.ossPathOriginal+this.fitStr+this.darkDir+this.src}},created(){this.needStyle==1&&getApp().globalData.themeObj.style==si.DARK?this.darkDir="dark/":this.darkDir="",this.fitWH&&this.src.indexOf("fit-in")==-1&&(this.fitStr="fit-in/"+this.fitWH+"/"),this.path=this.parse()}};function Zo(e,t,a,i,n,r){return(0,N.openBlock)(),(0,N.createElementBlock)("view",{class:"l-img",onClick:t[2]||(t[2]=(...o)=>r.clickImg&&r.clickImg(...o)),style:(0,N.normalizeStyle)([r.viewStyle,r.borderStyle]),renderWhole:!0},[(0,N.createElementVNode)("view",{class:"l-img",style:(0,N.normalizeStyle)([{position:"relative"},r.viewStyle])},[a.placeType&&!n.isLoad?((0,N.openBlock)(),(0,N.createElementBlock)("view",{key:0,style:(0,N.normalizeStyle)(r.placeViewStyle)},[(0,N.createElementVNode)("u-image",{src:r.placeSrc,style:(0,N.normalizeStyle)({width:a.placeW,height:a.placeW})},null,12,["src"]),r.placeFontSizeVal?((0,N.openBlock)(),(0,N.createElementBlock)("u-text",{key:0,class:"text-place",style:(0,N.normalizeStyle)({fontSize:r.placeFontSizeVal,width:a.placeW})},(0,N.toDisplayString)(r.$str("loading"))+"...",5)):(0,N.createCommentVNode)("",!0)],4)):(0,N.createCommentVNode)("",!0),n.refresh?((0,N.openBlock)(),(0,N.createElementBlock)("u-image",{key:1,onError:t[0]||(t[0]=(...o)=>r.onLoadError&&r.onLoadError(...o)),onLoad:t[1]||(t[1]=(...o)=>r.onLoad&&r.onLoad(...o)),src:n.path,mode:a.mode,lazyLoad:a.lazyLoad,fadeShow:a.fade,style:(0,N.normalizeStyle)([r.imgStyle,r.borderStyle]),class:"place-img"},null,44,["src","mode","lazyLoad","fadeShow"])):(0,N.createCommentVNode)("",!0)],4)],4)}var $e=Z(Xo,[["render",Zo],["styles",[Jo]]]);var h=ue(de());var re=ue(de()),Qo={"fj-slider":{"":{position:"relative"}},"fj-touch-right":{"":{position:"absolute"}},"fj-line":{"":{position:"absolute",left:0,right:0}}},el=fe("dom"),tl={name:"CustomSlider",emits:["onChanged","onChangeStart","onChange"],props:{fillValue:{type:Number,default:100},maxValue:{type:Number,default:0},step:{type:Number,default:1},activeColor:{type:String,default:"#2F85FC"},inactiveColor:{type:String,default:"#999999"},blockWidth:{type:Number,default:24},lineHeight:{type:Number,default:8},lineRadius:{type:Number,default:4},blockColor:{type:String,default:"#FFFFFF"},disClick:{type:Boolean,default:!1}},data(){return{lineWidth:0,maxLeft:0,lineLeft:0,curValue:0,sMaxValue:0,sFillValue:0,percentage:0,sBlockWidth:uni.upx2px(this.blockWidth),sLineHeight:uni.upx2px(this.lineHeight),sLineTop:(uni.upx2px(this.blockWidth)-uni.upx2px(this.lineHeight))/2,sLineRadius:uni.upx2px(this.lineRadius),getRectInterval:!1}},watch:{maxValue(e,t){this.sMaxValue=e,this.maxLeft=this.sMaxValue/this.percentage,this.checkMaxLeft()},fillValue(e,t){this.sFillValue=this.fillValue}},methods:{clickLine(e){e.stopPropagation(),!this.disClick&&this.touchmove(e,!0)},envir(e){this.getRectInterval=setTimeout(()=>{el.getComponentRect(e.refName,t=>{if(clearTimeout(this.getRectInterval),this.getRectInterval=!1,t&&t.size&&t.size.height!=0){let a=t.size;e.fn({width:a.width,height:a.height,top:a.top,bottom:a.bottom,left:a.left,right:a.right})}else this.envir(e)})},100)},touchstart(e){this.$emit("onChangeStart",this.curValue)},touchmove(e,t){e.stopPropagation();let a;if(t?a=e.changedTouches[0].screenX-this.lineLeft:a=e.touches[0].screenX-this.lineLeft,a<0||a>this.lineWidth)return;let i=Math.ceil(a);i>this.lineWidth&&(i=this.lineWidth),this.curValue=Math.round(i*this.percentage),this.maxLeft=Math.ceil(a),this.checkMaxLeft(),this.$emit("onChange",this.curValue)},touchend(e){if(this.step===1)this.sMaxValue=this.curValue;else{let t=Math.round(this.maxLeft*this.percentage/this.step);this.sMaxValue=t*this.step,this.sFillValue-this.sMaxValue<this.step&&(this.sMaxValue=this.sFillValue),this.maxLeft=this.sMaxValue/this.percentage}B("info","at components/custom-slider/custom-slider.vue:179","m-slider onChanged "+this.curValue),this.$emit("onChanged",this.curValue)},checkMaxLeft(){this.maxLeft>this.lineWidth-this.sBlockWidth?this.maxLeft=this.lineWidth-this.sBlockWidth:this.maxLeft<=4&&(this.maxLeft=0)}},mounted(){this.$nextTick(()=>{this.envir({className:".fj-line",refName:this.$refs["fj-line"],fn:e=>{this.lineWidth=e.width,this.lineLeft=e.left,this.sMaxValue=this.maxValue>0?this.maxValue:0,this.sFillValue=this.fillValue>0?this.fillValue:0,this.percentage=this.sFillValue/this.lineWidth,this.maxLeft=this.sMaxValue/this.percentage}})})},unmounted(){this.getRectInterval&&clearTimeout(this.getRectInterval)}};function al(e,t,a,i,n,r){return(0,re.openBlock)(),(0,re.createElementBlock)("view",{class:"fj-slider",onTouchend:t[3]||(t[3]=(...o)=>r.clickLine&&r.clickLine(...o)),renderWhole:!0},[(0,re.createElementVNode)("view",{class:"fj-line",ref:"fj-line",style:(0,re.normalizeStyle)({background:a.inactiveColor,height:`${n.sLineHeight}px`,top:`${n.sLineTop}px`,borderRadius:`${n.sLineRadius}px`})},null,4),(0,re.createElementVNode)("view",{class:"fj-line",style:(0,re.normalizeStyle)({width:`${Math.abs(n.maxLeft)}px`,background:a.activeColor,height:`${n.sLineHeight}px`,top:`${n.sLineTop}px`,borderTopLeftRadius:`${n.sLineRadius}px`,borderBottomLeftRadius:`${n.sLineRadius}px`})},null,4),(0,re.createElementVNode)("view",{class:"fj-touch-right",onTouchstart:t[0]||(t[0]=(...o)=>r.touchstart&&r.touchstart(...o)),onTouchmove:t[1]||(t[1]=(...o)=>r.touchmove&&r.touchmove(...o)),onTouchend:t[2]||(t[2]=(...o)=>r.touchend&&r.touchend(...o)),style:(0,re.normalizeStyle)({left:`${n.maxLeft}px`,background:a.blockColor,width:`${n.sBlockWidth}px`,height:`${n.sBlockWidth}px`,borderRadius:`${n.sBlockWidth/2}px`})},null,36)],32)}var Zt=Z(tl,[["render",al],["styles",[Qo]]]);var oe=ue(de());var il=fe("animation"),ht=class{constructor(t,a){this.options=t,this.animation=uni.createAnimation(t),this.currentStepAnimates={},this.next=0,this.$=a}_nvuePushAnimates(t,a){let i=this.currentStepAnimates[this.next],n={};if(i?n=i:n={styles:{},config:{}},Si.includes(t)){n.styles.transform||(n.styles.transform="");let r="";t==="rotate"&&(r="deg"),n.styles.transform+=`${t}(${a+r}) `}else n.styles[t]=`${a}`;this.currentStepAnimates[this.next]=n}_animateRun(t={},a={}){let i=this.$.$refs.ani.ref;if(i)return new Promise((n,r)=>{il.transition(i,De({styles:t},a),o=>{n()})})}_nvueNextAnimate(t,a=0,i){let n=t[a];if(n){let{styles:r,config:o}=n;this._animateRun(r,o).then(()=>{a+=1,this._nvueNextAnimate(t,a,i)})}else this.currentStepAnimates={},typeof i=="function"&&i(),this.isEnd=!0}step(t={}){return this.currentStepAnimates[this.next].config=Object.assign({},this.options,t),this.currentStepAnimates[this.next].styles.transformOrigin=this.currentStepAnimates[this.next].config.transformOrigin,this.next++,this}run(t){this.isEnd=!1,this.$.$refs.ani&&this.$.$refs.ani.ref&&(this._nvueNextAnimate(this.currentStepAnimates,0,t),this.next=0)}},Si=["matrix","matrix3d","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","translate","translate3d","translateX","translateY","translateZ"],nl=["opacity","backgroundColor"],rl=["width","height","left","right","top","bottom"];Si.concat(nl,rl).forEach(e=>{ht.prototype[e]=function(...t){return this._nvuePushAnimates(e,t),this}});function Di(e,t){if(t)return clearTimeout(t.timer),new ht(e,t)}var ol={name:"uniTransition",emits:["click","change"],props:{show:{type:Boolean,default:!1},modeClass:{type:[Array,String],default(){return"fade"}},duration:{type:Number,default:300},styles:{type:Object,default(){return{}}},customClass:{type:String,default:""}},data(){return{isShow:!1,transform:"",opacity:1,animationData:{},durationTime:300,config:{}}},watch:{show:{handler(e){e?this.open():this.isShow&&this.close()},immediate:!0}},computed:{stylesObject(){let e=Re(De({},this.styles),{"transition-duration":this.duration/1e3+"s"}),t="";for(let a in e){let i=this.toLine(a);t+=i+":"+e[a]+";"}return t},transformStyles(){return"transform:"+this.transform+";opacity:"+this.opacity+";"+this.stylesObject}},created(){this.config={duration:this.duration,timingFunction:"ease",transformOrigin:"50% 50%",delay:0},this.durationTime=this.duration},methods:{init(e={}){e.duration&&(this.durationTime=e.duration),this.animation=Di(Object.assign(this.config,e),this)},onClick(){this.$emit("click",{detail:this.isShow})},step(e,t={}){if(this.animation){for(let a in e)try{typeof e[a]=="object"?this.animation[a](...e[a]):this.animation[a](e[a])}catch(i){B("error","at uni_modules/uni-transition/components/uni-transition/uni-transition.vue:139",`\u65B9\u6CD5 ${a} \u4E0D\u5B58\u5728`)}return this.animation.step(t),this}},run(e){this.animation&&this.animation.run(e)},open(){clearTimeout(this.timer),this.transform="",this.isShow=!0;let{opacity:e,transform:t}=this.styleInit(!1);typeof e!="undefined"&&(this.opacity=e),this.transform=t,this.$nextTick(()=>{this.timer=setTimeout(()=>{this.animation=Di(this.config,this),this.tranfromInit(!1).step(),this.animation.run(),this.$emit("change",{detail:this.isShow})},20)})},close(e){this.animation&&this.tranfromInit(!0).step().run(()=>{this.isShow=!1,this.animationData=null,this.animation=null;let{opacity:t,transform:a}=this.styleInit(!1);this.opacity=t||1,this.transform=a,this.$emit("change",{detail:this.isShow})})},styleInit(e){let t={transform:""},a=(i,n)=>{n==="fade"?t.opacity=this.animationType(i)[n]:t.transform+=this.animationType(i)[n]+" "};return typeof this.modeClass=="string"?a(e,this.modeClass):this.modeClass.forEach(i=>{a(e,i)}),t},tranfromInit(e){let t=(a,i)=>{let n=null;i==="fade"?n=a?0:1:(n=a?"-100%":"0",i==="zoom-in"&&(n=a?.8:1),i==="zoom-out"&&(n=a?1.2:1),i==="slide-right"&&(n=a?"100%":"0"),i==="slide-bottom"&&(n=a?"100%":"0")),this.animation[this.animationMode()[i]](n)};return typeof this.modeClass=="string"?t(e,this.modeClass):this.modeClass.forEach(a=>{t(e,a)}),this.animation},animationType(e){return{fade:e?1:0,"slide-top":`translateY(${e?"0":"-100%"})`,"slide-right":`translateX(${e?"0":"100%"})`,"slide-bottom":`translateY(${e?"0":"100%"})`,"slide-left":`translateX(${e?"0":"-100%"})`,"zoom-in":`scaleX(${e?1:.8}) scaleY(${e?1:.8})`,"zoom-out":`scaleX(${e?1:1.2}) scaleY(${e?1:1.2})`}},animationMode(){return{fade:"opacity","slide-top":"translateY","slide-right":"translateX","slide-bottom":"translateY","slide-left":"translateX","zoom-in":"scale","zoom-out":"scale"}},toLine(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}}};function ll(e,t,a,i,n,r){return n.isShow?((0,oe.openBlock)(),(0,oe.createElementBlock)("view",{key:0,ref:"ani",animation:n.animationData,class:(0,oe.normalizeClass)(a.customClass),style:(0,oe.normalizeStyle)(r.transformStyles),onClick:t[0]||(t[0]=(...o)=>r.onClick&&r.onClick(...o)),renderWhole:!0},[(0,oe.renderSlot)(e.$slots,"default")],14,["animation"])):(0,oe.createCommentVNode)("",!0)}var Ti=Z(ol,[["render",ll]]);var v=ue(de()),sl={"uni-popup":{"":{position:"fixed"},".top":{top:0},".left":{top:0},".right":{top:0}},"uni-popup__wrapper":{".uni-popup ":{position:"relative"},".uni-popup .left":{paddingTop:0,flex:1},".uni-popup .right":{paddingTop:0,flex:1}},"fixforpc-top":{"":{top:0}}},cl={name:"uniPopup",components:{},emits:["change","maskClick"],props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},maskClick:{type:Boolean,default:!0},backgroundColor:{type:String,default:"none"},safeArea:{type:Boolean,default:!0},maskBgColor:{type:String,default:"rgba(0, 0, 0, 0.4)"}},watch:{type:{handler:function(e){this.config[e]&&this[this.config[e]](!0)},immediate:!0},isDesktop:{handler:function(e){this.config[e]&&this[this.config[this.type]](!0)},immediate:!0},maskClick:{handler:function(e){this.mkclick=e},immediate:!0}},data(){return{duration:300,ani:[],showPopup:!1,showTrans:!1,popupWidth:0,popupHeight:0,config:{top:"top",bottom:"bottom",center:"center",left:"left",right:"right",message:"top",dialog:"center",share:"bottom"},transClass:{position:"fixed",left:0,right:0},maskShow:!0,mkclick:!0,popupstyle:this.isDesktop?"fixforpc-top":"top"}},computed:{maskClass(){return{position:"fixed",bottom:0,top:0,left:0,right:0,backgroundColor:this.maskBgColor}},isDesktop(){return this.popupWidth>=500&&this.popupHeight>=500},bg(){return this.backgroundColor===""||this.backgroundColor==="none"?"transparent":this.backgroundColor}},mounted(){(()=>{let{windowWidth:t,windowHeight:a,windowTop:i,safeAreaInsets:n}=uni.getSystemInfoSync();this.popupWidth=t,this.popupHeight=a+i,this.safeArea?this.safeAreaInsets=n:this.safeAreaInsets=0})()},created(){this.mkclick=this.maskClick,this.animation?this.duration=300:this.duration=0,this.messageChild=null,this.clearPropagation=!1},methods:{closeMask(){this.maskShow=!1},disableMask(){this.mkclick=!1},clear(e){this.clearPropagation=!0},open(e,t=!0){if(e&&["top","center","bottom","left","right","message","dialog","share"].indexOf(e)!==-1||(e=this.type),this.maskShow=t,!this.config[e]){B("error","at uni_modules/uni-popup/components/uni-popup/uni-popup.vue:218","\u7F3A\u5C11\u7C7B\u578B\uFF1A",e);return}this[this.config[e]](),this.$emit("change",{show:!0,type:e})},close(e){this.showTrans=!1,this.$emit("change",{show:!1,type:this.type}),clearTimeout(this.timer),this.timer=setTimeout(()=>{this.showPopup=!1},300)},touchstart(){this.clearPropagation=!1},onTap(){if(this.clearPropagation){this.clearPropagation=!1;return}this.$emit("maskClick"),this.mkclick&&this.close()},top(e){this.popupstyle=this.isDesktop?"fixforpc-top":"top",this.ani=["slide-top"],this.transClass={position:"fixed",left:0,right:0,backgroundColor:this.bg},!e&&(this.showPopup=!0,this.showTrans=!0,this.$nextTick(()=>{this.messageChild&&this.type==="message"&&this.messageChild.timerClose()}))},bottom(e){this.popupstyle="bottom",this.ani=["slide-bottom"],this.transClass={position:"fixed",left:0,right:0,bottom:0,paddingBottom:this.safeAreaInsets&&this.safeAreaInsets.bottom||0,backgroundColor:this.bg},!e&&(this.showPopup=!0,this.showTrans=!0)},center(e){this.popupstyle="center",this.ani=["zoom-out","fade"],this.transClass={position:"fixed",bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center"},!e&&(this.showPopup=!0,this.showTrans=!0)},left(e){this.popupstyle="left",this.ani=["slide-left"],this.transClass={position:"fixed",left:0,bottom:0,top:0,backgroundColor:this.bg},!e&&(this.showPopup=!0,this.showTrans=!0)},right(e){this.popupstyle="right",this.ani=["slide-right"],this.transClass={position:"fixed",bottom:0,right:0,top:0,backgroundColor:this.bg},!e&&(this.showPopup=!0,this.showTrans=!0)}}};function ul(e,t,a,i,n,r){let o=me((0,v.resolveDynamicComponent)("uni-transition"),Ti);return n.showPopup?((0,v.openBlock)(),(0,v.createElementBlock)("view",{key:0,class:(0,v.normalizeClass)(["uni-popup",[n.popupstyle,r.isDesktop?"fixforpc-z-index":""]]),onTouchmove:t[2]||(t[2]=(0,v.withModifiers)((...s)=>r.clear&&r.clear(...s),["stop","prevent"])),renderWhole:!0},[(0,v.createElementVNode)("view",{onTouchstart:t[1]||(t[1]=(...s)=>r.touchstart&&r.touchstart(...s))},[n.maskShow?((0,v.openBlock)(),(0,v.createBlock)(o,{key:"1",name:"mask","mode-class":"fade",styles:r.maskClass,duration:n.duration,show:n.showTrans,onClick:r.onTap},null,8,["styles","duration","show","onClick"])):(0,v.createCommentVNode)("",!0),(0,v.createVNode)(o,{key:"2","mode-class":n.ani,name:"content",styles:n.transClass,duration:n.duration,show:n.showTrans,onClick:r.onTap},{default:(0,v.withCtx)(()=>[(0,v.createElementVNode)("view",{class:(0,v.normalizeClass)(["uni-popup__wrapper",[n.popupstyle]]),style:(0,v.normalizeStyle)({backgroundColor:r.bg}),onClick:t[0]||(t[0]=(...s)=>r.clear&&r.clear(...s))},[(0,v.renderSlot)(e.$slots,"default")],6)]),_:3},8,["mode-class","styles","duration","show","onClick"])],32)],34)):(0,v.createCommentVNode)("",!0)}var Qt=Z(cl,[["render",ul],["styles",[sl]]]);var Ct=class{constructor(t){t&&(this.dimensions=t.dimensions,this.frameRate=t.frameRate,this.minFrameRate=t.minFrameRate,this.bitrate=t.bitrate,this.minBitrate=t.minBitrate,this.orientationMode=t.orientationMode,this.degradationPrefer=t.degradationPrefer,this.mirrorMode=t.mirrorMode)}},Ye=class{constructor(t){t&&(this.lighteningContrastLevel=t.lighteningContrastLevel,this.lighteningLevel=t.lighteningLevel,this.smoothnessLevel=t.smoothnessLevel,this.rednessLevel=t.rednessLevel,this.sharpnessLevel=t.sharpnessLevel)}},je=class{constructor(t,a){this.appId=t,a&&(this.areaCode=a.areaCode,this.logConfig=a.logConfig)}},Mi=fe("Agora-RTC-ChannelModule"),_t="io.agora.rtc.",At=fe("globalEvent"),we=new Map,Ke=class{constructor(t){this._listeners=new Map,this.channelId=t}_callMethod(t,a){return new Promise((i,n)=>{Mi.callMethod({method:t,args:De({channelId:this.channelId},a)},r=>{r&&r.code?n(r):i(r)})})}static create(t){return K(this,null,function*(){return we.get(t)||(yield new Promise((a,i)=>{Mi.callMethod({method:"create",args:{channelId:t}},n=>{n&&n.code?i(n):a(n)})}),we.set(t,new Ke(t))),we.get(t)})}static destroyAll(){we.forEach(t=>K(this,null,function*(){t.removeAllListeners(),yield t._callMethod("destroy")})),we.clear()}destroy(){return this.removeAllListeners(),we.delete(this.channelId),this._callMethod("destroy")}addListener(t,a){let i=r=>{let{channelId:o,data:s}=r;o===this.channelId&&a(...s)},n=this._listeners.get(t);return n===void 0&&(n=new Map,this._listeners.set(t,n)),At.addEventListener(_t+t,i),n.set(a,i),{remove:()=>{this.removeListener(t,a)}}}removeListener(t,a){let i=this._listeners.get(t);i!==void 0&&(At.removeEventListener(_t+t,i.get(a)),i.delete(a))}removeAllListeners(t){if(t===void 0){this._listeners.forEach((a,i)=>{At.removeAllEventListeners(_t+i)}),this._listeners.clear();return}At.removeAllEventListeners(_t+t),this._listeners.delete(t)}setClientRole(t,a){return this._callMethod("setClientRole",{role:t,options:a})}joinChannel(t,a,i,n){return this._callMethod("joinChannel",{token:t,optionalInfo:a,optionalUid:i,options:n})}joinChannelWithUserAccount(t,a,i){return this._callMethod("joinChannelWithUserAccount",{token:t,userAccount:a,options:i})}leaveChannel(){return this._callMethod("leaveChannel")}renewToken(t){return this._callMethod("renewToken",{token:t})}getConnectionState(){return this._callMethod("getConnectionState")}publish(){return this._callMethod("publish")}unpublish(){return this._callMethod("unpublish")}getCallId(){return this._callMethod("getCallId")}adjustUserPlaybackSignalVolume(t,a){return this._callMethod("adjustUserPlaybackSignalVolume",{uid:t,volume:a})}muteRemoteAudioStream(t,a){return this._callMethod("muteRemoteAudioStream",{uid:t,muted:a})}muteAllRemoteAudioStreams(t){return this._callMethod("muteAllRemoteAudioStreams",{muted:t})}setDefaultMuteAllRemoteAudioStreams(t){return this._callMethod("setDefaultMuteAllRemoteAudioStreams",{muted:t})}muteAllRemoteVideoStreams(t){return this._callMethod("muteAllRemoteVideoStreams",{muted:t})}muteRemoteVideoStream(t,a){return this._callMethod("muteRemoteVideoStream",{uid:t,muted:a})}setDefaultMuteAllRemoteVideoStreams(t){return this._callMethod("setDefaultMuteAllRemoteVideoStreams",{muted:t})}enableRemoteSuperResolution(t,a){return this._callMethod("enableRemoteSuperResolution",{uid:t,enabled:a})}setRemoteVoicePosition(t,a,i){return this._callMethod("setRemoteVoicePosition",{uid:t,pan:a,gain:i})}addPublishStreamUrl(t,a){return this._callMethod("addPublishStreamUrl",{url:t,transcodingEnabled:a})}removePublishStreamUrl(t){return this._callMethod("removePublishStreamUrl",{url:t})}setLiveTranscoding(t){return this._callMethod("setLiveTranscoding",{transcoding:t})}startChannelMediaRelay(t){return this._callMethod("startChannelMediaRelay",{channelMediaRelayConfiguration:t})}stopChannelMediaRelay(){return this._callMethod("stopChannelMediaRelay")}updateChannelMediaRelay(t){return this._callMethod("updateChannelMediaRelay",{channelMediaRelayConfiguration:t})}setRemoteDefaultVideoStreamType(t){return this._callMethod("setRemoteDefaultVideoStreamType",{streamType:t})}setRemoteVideoStreamType(t,a){return this._callMethod("setRemoteVideoStreamType",{uid:t,streamType:a})}setRemoteUserPriority(t,a){return this._callMethod("setRemoteUserPriority",{uid:t,userPriority:a})}registerMediaMetadataObserver(){return this._callMethod("registerMediaMetadataObserver")}sendMetadata(t){return this._callMethod("sendMetadata",{metadata:t})}setMaxMetadataSize(t){return this._callMethod("setMaxMetadataSize",{size:t})}unregisterMediaMetadataObserver(){return this._callMethod("unregisterMediaMetadataObserver")}enableEncryption(t,a){return this._callMethod("enableEncryption",{enabled:t,config:a})}setEncryptionMode(t){return this._callMethod("setEncryptionMode",{encryptionMode:t})}setEncryptionSecret(t){return this._callMethod("setEncryptionSecret",{secret:t})}addInjectStreamUrl(t,a){return this._callMethod("addInjectStreamUrl",{url:t,config:a})}removeInjectStreamUrl(t){return this._callMethod("removeInjectStreamUrl",{url:t})}createDataStream(t,a){return this._callMethod("createDataStream",{reliable:t,ordered:a})}createDataStreamWithConfig(t){return this._callMethod("createDataStream",{config:t})}sendStreamMessage(t,a){return this._callMethod("sendStreamMessage",{streamId:t,message:a})}muteLocalAudioStream(t){return this._callMethod("muteLocalAudioStream",{muted:t})}muteLocalVideoStream(t){return this._callMethod("muteLocalVideoStream",{muted:t})}pauseAllChannelMediaRelay(){return this._callMethod("pauseAllChannelMediaRelay")}resumeAllChannelMediaRelay(){return this._callMethod("resumeAllChannelMediaRelay")}setAVSyncSource(t,a){return this._callMethod("setAVSyncSource",{channelId:t,uid:a})}startRtmpStreamWithTranscoding(t,a){return this._callMethod("startRtmpStreamWithTranscoding",{url:t,transcoding:a})}startRtmpStreamWithoutTranscoding(t){return this._callMethod("startRtmpStreamWithoutTranscoding",{url:t})}stopRtmpStream(t){return this._callMethod("stopRtmpStream",{url:t})}updateRtmpTranscoding(t){return this._callMethod("updateRtmpTranscoding",{transcoding:t})}},dl=fe("Agora-RTC-EngineModule"),bt="io.agora.rtc.",yt=fe("globalEvent"),se,l=class{constructor(){this._listeners=new Map}static _callMethod(t,a){return new Promise((i,n)=>{dl.callMethod({method:t,args:a},r=>{r&&r.code?n(r):i(r)})})}static instance(){if(se)return se;throw new Error("please create RtcEngine first")}static getSdkVersion(){return K(this,null,function*(){return l._callMethod("getSdkVersion")})}static getErrorDescription(t){return K(this,null,function*(){return l._callMethod("getErrorDescription",{error:t})})}static create(t){return K(this,null,function*(){return l.createWithContext(new je(t))})}static createWithAreaCode(t,a){return K(this,null,function*(){return l.createWithContext(new je(t,{areaCode:[a]}))})}static createByExtension(t,a){return K(this,null,function*(){return l.createWithExtension(new je(t),a)})}static createWithConfig(t){return K(this,null,function*(){return this.createWithContext(t)})}static createWithContext(t){return K(this,null,function*(){if(se)return se;let a;if(t.areaCode){let i=0;t.areaCode.forEach(n=>{i|=n}),a=i}return yield l._callMethod("create",{config:Re(De({},t),{areaCode:a}),appType:14}),se=new l,se})}static createWithExtension(t,a){return K(this,null,function*(){if(se)return se;let i;if(t.areaCode){let n=0;t.areaCode.forEach(r=>{n|=r}),i=n}return yield l._callMethod("create",{config:Re(De({},t),{areaCode:i,extension:a||[]}),appType:14}),se=new l,se})}destroy(){return Ke.destroyAll(),this.removeAllListeners(),se=void 0,l._callMethod("destroy")}addListener(t,a){let i=r=>{let{channelId:o,data:s}=r;o===void 0&&a(...s)},n=this._listeners.get(t);return n===void 0&&(n=new Map,this._listeners.set(t,n)),yt.addEventListener(bt+t,i),n.set(a,i),{remove:()=>{this.removeListener(t,a)}}}removeListener(t,a){let i=this._listeners.get(t);i!==void 0&&(yt.removeEventListener(bt+t,i.get(a)),i.delete(a))}removeAllListeners(t){if(t===void 0){this._listeners.forEach((a,i)=>{yt.removeAllEventListeners(bt+i)}),this._listeners.clear();return}yt.removeAllEventListeners(bt+t),this._listeners.delete(t)}setChannelProfile(t){return l._callMethod("setChannelProfile",{profile:t})}setClientRole(t,a){return l._callMethod("setClientRole",{role:t,options:a})}joinChannel(t,a,i,n,r){return l._callMethod("joinChannel",{token:t,channelName:a,optionalInfo:i,optionalUid:n,options:r})}switchChannel(t,a,i){return l._callMethod("switchChannel",{token:t,channelName:a,options:i})}leaveChannel(){return l._callMethod("leaveChannel")}renewToken(t){return l._callMethod("renewToken",{token:t})}enableWebSdkInteroperability(t){return l._callMethod("enableWebSdkInteroperability",{enabled:t})}getConnectionState(){return l._callMethod("getConnectionState")}getCallId(){return l._callMethod("getCallId")}rate(t,a,i){return l._callMethod("rate",{callId:t,rating:a,description:i})}complain(t,a){return l._callMethod("complain",{callId:t,description:a})}setLogFile(t){return l._callMethod("setLogFile",{filePath:t})}setLogFilter(t){return l._callMethod("setLogFilter",{filter:t})}setLogFileSize(t){return l._callMethod("setLogFileSize",{fileSizeInKBytes:t})}setParameters(t){return l._callMethod("setParameters",{parameters:t})}getUserInfoByUid(t){return l._callMethod("getUserInfoByUid",{uid:t})}getUserInfoByUserAccount(t){return l._callMethod("getUserInfoByUserAccount",{userAccount:t})}joinChannelWithUserAccount(t,a,i,n){return l._callMethod("joinChannelWithUserAccount",{token:t,channelName:a,userAccount:i,options:n})}registerLocalUserAccount(t,a){return l._callMethod("registerLocalUserAccount",{appId:t,userAccount:a})}adjustPlaybackSignalVolume(t){return l._callMethod("adjustPlaybackSignalVolume",{volume:t})}adjustRecordingSignalVolume(t){return l._callMethod("adjustRecordingSignalVolume",{volume:t})}adjustUserPlaybackSignalVolume(t,a){return l._callMethod("adjustUserPlaybackSignalVolume",{uid:t,volume:a})}disableAudio(){return l._callMethod("disableAudio")}enableAudio(){return l._callMethod("enableAudio")}enableAudioVolumeIndication(t,a,i){return l._callMethod("enableAudioVolumeIndication",{interval:t,smooth:a,report_vad:i})}enableLocalAudio(t){return l._callMethod("enableLocalAudio",{enabled:t})}muteAllRemoteAudioStreams(t){return l._callMethod("muteAllRemoteAudioStreams",{muted:t})}muteLocalAudioStream(t){return l._callMethod("muteLocalAudioStream",{muted:t})}muteRemoteAudioStream(t,a){return l._callMethod("muteRemoteAudioStream",{uid:t,muted:a})}setAudioProfile(t,a){return l._callMethod("setAudioProfile",{profile:t,scenario:a})}setDefaultMuteAllRemoteAudioStreams(t){return l._callMethod("setDefaultMuteAllRemoteAudioStreams",{muted:t})}disableVideo(){return l._callMethod("disableVideo")}enableLocalVideo(t){return l._callMethod("enableLocalVideo",{enabled:t})}enableVideo(){return l._callMethod("enableVideo")}muteAllRemoteVideoStreams(t){return l._callMethod("muteAllRemoteVideoStreams",{muted:t})}muteLocalVideoStream(t){return l._callMethod("muteLocalVideoStream",{muted:t})}muteRemoteVideoStream(t,a){return l._callMethod("muteRemoteVideoStream",{uid:t,muted:a})}setBeautyEffectOptions(t,a){return l._callMethod("setBeautyEffectOptions",{enabled:t,options:a})}enableRemoteSuperResolution(t,a){return l._callMethod("enableRemoteSuperResolution",{uid:t,enabled:a})}setDefaultMuteAllRemoteVideoStreams(t){return l._callMethod("setDefaultMuteAllRemoteVideoStreams",{muted:t})}setVideoEncoderConfiguration(t){return l._callMethod("setVideoEncoderConfiguration",{config:t})}startPreview(){return l._callMethod("startPreview")}stopPreview(){return l._callMethod("stopPreview")}adjustAudioMixingPlayoutVolume(t){return l._callMethod("adjustAudioMixingPlayoutVolume",{volume:t})}adjustAudioMixingPublishVolume(t){return l._callMethod("adjustAudioMixingPublishVolume",{volume:t})}adjustAudioMixingVolume(t){return l._callMethod("adjustAudioMixingVolume",{volume:t})}getAudioMixingCurrentPosition(){return l._callMethod("getAudioMixingCurrentPosition")}getAudioMixingDuration(t){return l._callMethod("getAudioMixingDuration",{filePath:t})}getAudioMixingPlayoutVolume(){return l._callMethod("getAudioMixingPlayoutVolume")}getAudioMixingPublishVolume(){return l._callMethod("getAudioMixingPublishVolume")}pauseAudioMixing(){return l._callMethod("pauseAudioMixing")}resumeAudioMixing(){return l._callMethod("resumeAudioMixing")}setAudioMixingPitch(t){return l._callMethod("setAudioMixingPitch",{pitch:t})}setAudioMixingPosition(t){return l._callMethod("setAudioMixingPosition",{pos:t})}startAudioMixing(t,a,i,n,r){return l._callMethod("startAudioMixing",{filePath:t,loopback:a,replace:i,cycle:n,startPos:r})}stopAudioMixing(){return l._callMethod("stopAudioMixing")}getEffectsVolume(){return l._callMethod("getEffectsVolume")}pauseAllEffects(){return l._callMethod("pauseAllEffects")}pauseEffect(t){return l._callMethod("pauseEffect",{soundId:t})}playEffect(t,a,i,n,r,o,s,c){return l._callMethod("playEffect",{soundId:t,filePath:a,loopCount:i,pitch:n,pan:r,gain:o,publish:s,startPos:c})}setEffectPosition(t,a){return l._callMethod("setEffectPosition",{soundId:t,pos:a})}getEffectDuration(t){return l._callMethod("getEffectDuration",{filePath:t})}getEffectCurrentPosition(t){return l._callMethod("getEffectCurrentPosition",{soundId:t})}preloadEffect(t,a){return l._callMethod("preloadEffect",{soundId:t,filePath:a})}resumeAllEffects(){return l._callMethod("resumeAllEffects")}resumeEffect(t){return l._callMethod("resumeEffect",{soundId:t})}setEffectsVolume(t){return l._callMethod("setEffectsVolume",{volume:t})}setVolumeOfEffect(t,a){return l._callMethod("setVolumeOfEffect",{soundId:t,volume:a})}stopAllEffects(){return l._callMethod("stopAllEffects")}stopEffect(t){return l._callMethod("stopEffect",{soundId:t})}unloadEffect(t){return l._callMethod("unloadEffect",{soundId:t})}setLocalVoiceChanger(t){return l._callMethod("setLocalVoiceChanger",{voiceChanger:t})}setLocalVoiceEqualization(t,a){return l._callMethod("setLocalVoiceEqualization",{bandFrequency:t,bandGain:a})}setLocalVoicePitch(t){return l._callMethod("setLocalVoicePitch",{pitch:t})}setLocalVoiceReverb(t,a){return l._callMethod("setLocalVoiceReverb",{reverbKey:t,value:a})}setLocalVoiceReverbPreset(t){return l._callMethod("setLocalVoiceReverbPreset",{preset:t})}enableSoundPositionIndication(t){return l._callMethod("enableSoundPositionIndication",{enabled:t})}setRemoteVoicePosition(t,a,i){return l._callMethod("setRemoteVoicePosition",{uid:t,pan:a,gain:i})}addPublishStreamUrl(t,a){return l._callMethod("addPublishStreamUrl",{url:t,transcodingEnabled:a})}removePublishStreamUrl(t){return l._callMethod("removePublishStreamUrl",{url:t})}setLiveTranscoding(t){return l._callMethod("setLiveTranscoding",{transcoding:t})}startChannelMediaRelay(t){return l._callMethod("startChannelMediaRelay",{channelMediaRelayConfiguration:t})}stopChannelMediaRelay(){return l._callMethod("stopChannelMediaRelay")}updateChannelMediaRelay(t){return l._callMethod("updateChannelMediaRelay",{channelMediaRelayConfiguration:t})}isSpeakerphoneEnabled(){return l._callMethod("isSpeakerphoneEnabled")}setDefaultAudioRoutetoSpeakerphone(t){return l._callMethod("setDefaultAudioRoutetoSpeakerphone",{defaultToSpeaker:t})}setEnableSpeakerphone(t){return l._callMethod("setEnableSpeakerphone",{enabled:t})}enableInEarMonitoring(t){return l._callMethod("enableInEarMonitoring",{enabled:t})}setInEarMonitoringVolume(t){return l._callMethod("setInEarMonitoringVolume",{volume:t})}enableDualStreamMode(t){return l._callMethod("enableDualStreamMode",{enabled:t})}setRemoteDefaultVideoStreamType(t){return l._callMethod("setRemoteDefaultVideoStreamType",{streamType:t})}setRemoteVideoStreamType(t,a){return l._callMethod("setRemoteVideoStreamType",{uid:t,streamType:a})}setLocalPublishFallbackOption(t){return l._callMethod("setLocalPublishFallbackOption",{option:t})}setRemoteSubscribeFallbackOption(t){return l._callMethod("setRemoteSubscribeFallbackOption",{option:t})}setRemoteUserPriority(t,a){return l._callMethod("setRemoteUserPriority",{uid:t,userPriority:a})}disableLastmileTest(){return l._callMethod("disableLastmileTest")}enableLastmileTest(){return l._callMethod("enableLastmileTest")}startEchoTest(t,a){return console.assert(t===void 0||a===void 0,"Only need one of the params"),l._callMethod("startEchoTest",{intervalInSeconds:t,config:a})}startLastmileProbeTest(t){return l._callMethod("startLastmileProbeTest",{config:t})}stopEchoTest(){return l._callMethod("stopEchoTest")}stopLastmileProbeTest(){return l._callMethod("stopLastmileProbeTest")}registerMediaMetadataObserver(){return l._callMethod("registerMediaMetadataObserver")}sendMetadata(t){return l._callMethod("sendMetadata",{metadata:t})}setMaxMetadataSize(t){return l._callMethod("setMaxMetadataSize",{size:t})}unregisterMediaMetadataObserver(){return l._callMethod("unregisterMediaMetadataObserver")}addVideoWatermark(t,a){return l._callMethod("addVideoWatermark",{watermarkUrl:t,options:a})}clearVideoWatermarks(){return l._callMethod("clearVideoWatermarks")}enableEncryption(t,a){return l._callMethod("enableEncryption",{enabled:t,config:a})}setEncryptionMode(t){return l._callMethod("setEncryptionMode",{encryptionMode:t})}setEncryptionSecret(t){return l._callMethod("setEncryptionSecret",{secret:t})}startAudioRecording(t,a,i){return l._callMethod("startAudioRecording",{filePath:t,sampleRate:a,quality:i})}startAudioRecordingWithConfig(t){return l._callMethod("startAudioRecording",{config:t})}startRhythmPlayer(t,a,i){return l._callMethod("startRhythmPlayer",{sound1:t,sound2:a,config:i})}stopRhythmPlayer(){return l._callMethod("stopRhythmPlayer")}configRhythmPlayer(t){return l._callMethod("configRhythmPlayer",t)}stopAudioRecording(){return l._callMethod("stopAudioRecording")}addInjectStreamUrl(t,a){return l._callMethod("addInjectStreamUrl",{url:t,config:a})}removeInjectStreamUrl(t){return l._callMethod("removeInjectStreamUrl",{url:t})}enableFaceDetection(t){return l._callMethod("enableFaceDetection",{enabled:t})}enableFaceDetectionIos(t){return l._callMethod("enableFaceDetection",{enable:t})}getCameraMaxZoomFactor(){return l._callMethod("getCameraMaxZoomFactor")}isCameraAutoFocusFaceModeSupported(){return l._callMethod("isCameraAutoFocusFaceModeSupported")}isCameraExposurePositionSupported(){return l._callMethod("isCameraExposurePositionSupported")}isCameraFocusSupported(){return l._callMethod("isCameraFocusSupported")}isCameraTorchSupported(){return l._callMethod("isCameraTorchSupported")}isCameraZoomSupported(){return l._callMethod("isCameraZoomSupported")}setCameraAutoFocusFaceModeEnabled(t){return l._callMethod("setCameraAutoFocusFaceModeEnabled",{enabled:t})}setCameraCapturerConfiguration(t){return l._callMethod("setCameraCapturerConfiguration",{config:t})}setCameraExposurePosition(t,a){return l._callMethod("setCameraExposurePosition",{positionXinView:t,positionYinView:a})}setCameraFocusPositionInPreview(t,a){return l._callMethod("setCameraFocusPositionInPreview",{positionX:t,positionY:a})}setCameraTorchOn(t){return l._callMethod("setCameraTorchOn",{isOn:t})}setCameraZoomFactor(t){return l._callMethod("setCameraZoomFactor",{factor:t})}switchCamera(){return l._callMethod("switchCamera")}createDataStream(t,a){return l._callMethod("createDataStream",{reliable:t,ordered:a})}createDataStreamWithConfig(t){return l._callMethod("createDataStream",{config:t})}sendStreamMessage(t,a){return l._callMethod("sendStreamMessage",{streamId:t,message:a})}sendCustomReportMessage(t,a,i,n,r){return l._callMethod("sendCustomReportMessage",{id:t,category:a,event:i,label:n,value:r})}setAudioSessionOperationRestriction(t){return l._callMethod("setAudioSessionOperationRestriction",{restriction:t})}getNativeHandle(){return l._callMethod("getNativeHandle")}enableDeepLearningDenoise(t){return l._callMethod("enableDeepLearningDenoise",{enabled:t})}setCloudProxy(t){return l._callMethod("setCloudProxy",{proxyType:t})}uploadLogFile(){return l._callMethod("uploadLogFile")}setLocalAccessPoint(t){return l._callMethod("setLocalAccessPoint",{config:t})}setAudioEffectParameters(t,a,i){return l._callMethod("setAudioEffectParameters",{preset:t,param1:a,param2:i})}setVoiceBeautifierParameters(t,a,i){return l._callMethod("setVoiceBeautifierParameters",{preset:t,param1:a,param2:i})}setAudioEffectPreset(t){return l._callMethod("setAudioEffectPreset",{preset:t})}setVoiceBeautifierPreset(t){return l._callMethod("setVoiceBeautifierPreset",{preset:t})}setVoiceConversionPreset(t){return l._callMethod("setVoiceConversionPreset",{preset:t})}pauseAllChannelMediaRelay(){return l._callMethod("pauseAllChannelMediaRelay")}resumeAllChannelMediaRelay(){return l._callMethod("resumeAllChannelMediaRelay")}enableVirtualBackground(t,a){return l._callMethod("enableVirtualBackground",{enabled:t,backgroundSource:a})}getAudioFileInfo(t){return l._callMethod("getAudioFileInfo",{filePath:t})}getAudioTrackCount(){return l._callMethod("getAudioTrackCount")}selectAudioTrack(t){return l._callMethod("selectAudioTrack",{index:t})}setAudioMixingDualMonoMode(t){return l._callMethod("setAudioMixingDualMonoMode",{mode:t})}setAudioMixingPlaybackSpeed(t){return l._callMethod("setAudioMixingPlaybackSpeed",{speed:t})}takeSnapshot(t,a,i){return l._callMethod("takeSnapshot",{channel:t,uid:a,filePath:i})}enableContentInspect(t,a){return l._callMethod("enableContentInspect",{enabled:t,config:a})}enableWirelessAccelerate(t){return l._callMethod("enableWirelessAccelerate",{enabled:t})}setAgoraLibPath(t){return l._callMethod("setAgoraLibPath",{path:t})}setColorEnhanceOptions(t,a){return l._callMethod("setColorEnhanceOptions",{enabled:t,options:a})}setLowLightEnhanceOptions(t,a){return l._callMethod("setLowLightEnhanceOptions",{enabled:t,options:a})}setVideoDenoiserOptions(t,a){return l._callMethod("setVideoDenoiserOptions",{enabled:t,options:a})}startRecording(t){return l._callMethod("startRecording",{config:t})}startRtmpStreamWithTranscoding(t,a){return l._callMethod("startRtmpStreamWithTranscoding",{url:t,transcoding:a})}startRtmpStreamWithoutTranscoding(t){return l._callMethod("startRtmpStreamWithoutTranscoding",{url:t})}stopRecording(){return l._callMethod("stopRecording")}stopRtmpStream(t){return l._callMethod("stopRtmpStream",{url:t})}updateRtmpTranscoding(t){return l._callMethod("updateRtmpTranscoding",{transcoding:t})}setAVSyncSource(t,a){return l._callMethod("setAVSyncSource",{channelId:t,uid:a})}enableExtension(t,a,i){return l._callMethod("enableExtension",{provider:t,extension:a,enable:i})}enableLocalVoicePitchCallback(t){return l._callMethod("enableLocalVoicePitchCallback",{interval:t})}enableSpatialAudio(t){return l._callMethod("enableSpatialAudio",{enabled:t})}setRemoteUserSpatialAudioParams(t,a){return l._callMethod("setRemoteUserSpatialAudioParams",{uid:t,params:a})}startScreenCapture(t){return l._callMethod("startScreenCapture",{parameters:t})}stopScreenCapture(){return l._callMethod("stopScreenCapture")}updateScreenCaptureParameters(t){return l._callMethod("updateScreenCaptureParameters",{parameters:t})}setExtensionProperty(t,a,i,n){return l._callMethod("setExtensionProperty",{provider:t,extension:a,key:i,property:n})}};var ea=(e=>(e[e.Communication=0]="Communication",e[e.LiveBroadcasting=1]="LiveBroadcasting",e[e.Game=2]="Game",e))(ea||{});var Li=(e=>(e[e.Auto=0]="Auto",e[e.Enabled=1]="Enabled",e[e.Disabled=2]="Disabled",e))(Li||{});var Ei=(e=>(e[e.Hidden=1]="Hidden",e[e.Fit=2]="Fit",e[e.Adaptive=3]="Adaptive",e[e.FILL=4]="FILL",e))(Ei||{});var fl={center:{"":{alignItems:"center",flexDirection:"row"}},"center-between":{"":{alignItems:"center",flexDirection:"row",justifyContent:"space-between"}},"beauty-pop":{"":{paddingTop:20,paddingRight:23,paddingBottom:20,paddingLeft:23,backgroundColor:"rgba(0,0,0,0.2)",borderTopLeftRadius:"28rpx",borderTopRightRadius:"28rpx",borderBottomRightRadius:0,borderBottomLeftRadius:0}},title:{".beauty-pop ":{color:"#FFFFFF",fontSize:"24rpx",lineHeight:"34rpx",marginRight:"12rpx"}},level:{".beauty-pop ":{marginTop:"40rpx"}},item:{".beauty-pop .level ":{width:"80rpx",height:"80rpx",color:"#FFFFFF",fontSize:"26rpx",textAlign:"center",borderRadius:50,lineHeight:"80rpx",backgroundColor:"rgba(247,247,247,0.297)"}},active:{".beauty-pop .level ":{backgroundColor:"rgba(255,68,119,0.99)"}},default:{".beauty-pop .level ":{textAlign:"center",lineHeight:"80rpx",fontSize:"24rpx",color:"#FFFFFF"}}},ml={components:{CustomSlider:Zt,LImg:$e,UniPopup:Qt},emits:["onBeautyChange","onChange"],data(){return{beautyInfo:{whitening:0,smoothing:0,rosy:0,level:0},currentSlider:"",levelArr:[0,1,2,3,4],safeBottomH:getApp().globalData.window.safeBottom}},computed:{getSliderW(){return(getApp().globalData.window.width-46-32)/2}},methods:{$str:F,onChange(e){this.$emit("onChange",e)},clickLevel(e){e!=this.beautyInfo.level&&(this.setBeautyLevel(e),this.$emit("onBeautyChange",this.beautyInfo),be("beauty_info",JSON.stringify(this.beautyInfo)))},clickDefault(){Ge("beauty_info"),this.initBeautyInfo(),this.$emit("onBeautyChange",this.beautyInfo)},onSliderChangeStart(e){this.currentSlider=e},onSliderChanged(e){M(this.currentSlider)||(this.beautyInfo[this.currentSlider]=e,this.$emit("onBeautyChange",this.beautyInfo),be("beauty_info",JSON.stringify(this.beautyInfo)))},initBeautyInfo(){let e=x("beauty_info");e?this.beautyInfo=Kt(e):(this.setBeautyLevel(2),be("beauty_info",JSON.stringify(this.beautyInfo)))},setBeautyLevel(e){let t=e*25;this.beautyInfo.whitening=t,this.beautyInfo.smoothing=t,this.beautyInfo.rosy=t,this.beautyInfo.level=e},open(){this.$refs.beautyPop.open()}},created(){this.initBeautyInfo()}};function pl(e,t,a,i,n,r){let o=me((0,h.resolveDynamicComponent)("l-img"),$e),s=me((0,h.resolveDynamicComponent)("custom-slider"),Zt),c=me((0,h.resolveDynamicComponent)("uni-popup"),Qt);return(0,h.openBlock)(),(0,h.createElementBlock)("view",{renderWhole:!0},[(0,h.createVNode)(c,{"safe-area":!1,onChange:r.onChange,"mask-bg-color":"rgba(0, 0, 0, 0)",ref:"beautyPop",type:"bottom"},{default:(0,h.withCtx)(()=>[(0,h.createElementVNode)("view",{class:"beauty-pop",style:(0,h.normalizeStyle)({paddingBottom:n.safeBottomH+10+"px"})},[(0,h.createElementVNode)("view",{class:"center-between"},[(0,h.createElementVNode)("view",null,[(0,h.createElementVNode)("view",{class:"center"},[(0,h.createElementVNode)("u-text",{class:"title"},(0,h.toDisplayString)(r.$str("whitening")),1),(0,h.createVNode)(o,{src:"s/call/beauty-whitening.png",w:"32rpx",h:"32rpx"})]),(0,h.createVNode)(s,{"fill-value":100,"max-value":n.beautyInfo.whitening,style:(0,h.normalizeStyle)([{"margin-top":"12rpx",height:"20rpx"},{width:r.getSliderW+"px"}]),"block-width":20,"line-height":4,onOnChange:r.onSliderChanged,onOnChangeStart:t[0]||(t[0]=u=>r.onSliderChangeStart("whitening")),onOnChanged:r.onSliderChanged,"active-color":"#FFFFFF","block-color":"#FFFFFF",inactiveColor:"rgba(255, 255, 255, 0.1)"},null,8,["max-value","style","onOnChange","onOnChanged"])]),(0,h.createElementVNode)("view",null,[(0,h.createElementVNode)("view",{class:"center"},[(0,h.createElementVNode)("u-text",{class:"title"},(0,h.toDisplayString)(r.$str("rosy")),1),(0,h.createVNode)(o,{src:"s/call/beauty-rosy.png",w:"32rpx",h:"32rpx"})]),(0,h.createVNode)(s,{"fill-value":100,"max-value":n.beautyInfo.rosy,style:(0,h.normalizeStyle)([{"margin-top":"12rpx",height:"20rpx"},{width:r.getSliderW+"px"}]),"block-width":20,"line-height":4,onOnChange:r.onSliderChanged,onOnChangeStart:t[1]||(t[1]=u=>r.onSliderChangeStart("rosy")),onOnChanged:r.onSliderChanged,"active-color":"#FFFFFF","block-color":"#FFFFFF",inactiveColor:"rgba(255, 255, 255, 0.1)"},null,8,["max-value","style","onOnChange","onOnChanged"])])]),(0,h.createElementVNode)("view",{class:"center-between",style:{"margin-top":"62rpx"}},[(0,h.createElementVNode)("view",null,[(0,h.createElementVNode)("view",{class:"center"},[(0,h.createElementVNode)("u-text",{class:"title"},(0,h.toDisplayString)(r.$str("smoothing")),1),(0,h.createVNode)(o,{src:"s/call/beauty-smoothing.png",w:"32rpx",h:"32rpx"})]),(0,h.createVNode)(s,{"fill-value":100,"max-value":n.beautyInfo.smoothing,style:(0,h.normalizeStyle)([{"margin-top":"12rpx",height:"20rpx"},{width:r.getSliderW+"px"}]),"block-width":20,"line-height":4,onOnChange:r.onSliderChanged,onOnChangeStart:t[2]||(t[2]=u=>r.onSliderChangeStart("smoothing")),onOnChanged:r.onSliderChanged,"active-color":"#FFFFFF","block-color":"#FFFFFF",inactiveColor:"rgba(255, 255, 255, 0.1)"},null,8,["max-value","style","onOnChange","onOnChanged"])]),(0,h.createElementVNode)("view",null,[(0,h.createVNode)(s,{"fill-value":0,"max-value":0,style:(0,h.normalizeStyle)([{"margin-top":"12rpx",height:"0"},{width:r.getSliderW+"px"}]),"block-width":0,"line-height":0,"active-color":"#FFFFFF","block-color":"#FFFFFF",inactiveColor:"rgba(255, 255, 255, 0)"},null,8,["style"])])]),(0,h.createElementVNode)("view",{class:"level center-between"},[((0,h.openBlock)(!0),(0,h.createElementBlock)(h.Fragment,null,(0,h.renderList)(n.levelArr,(u,f)=>((0,h.openBlock)(),(0,h.createElementBlock)("u-text",{onClick:_=>r.clickLevel(u),key:"l"+f,class:(0,h.normalizeClass)(["item",[n.beautyInfo.level==u?"active":""]])},(0,h.toDisplayString)(u),11,["onClick"]))),128)),(0,h.createElementVNode)("u-text",{onClick:t[3]||(t[3]=(...u)=>r.clickDefault&&r.clickDefault(...u)),class:"default"},(0,h.toDisplayString)(r.$str("default")),1)])],4)]),_:1},8,["onChange"])])}var wi=Z(ml,[["render",pl],["styles",[fl]]]),gl={name:"RtcSurfaceView",props:{zOrderMediaOverlay:{type:Boolean,default:!1},zOrderOnTop:{type:Boolean,default:!1},renderMode:{type:Number,default:Ei.Hidden},uid:Number,channelId:String,mirrorMode:{type:Number,default:Li.Auto}}};function hl(e,t,a,i,n,r){let o=(0,h.resolveComponent)("Agora-RTC-SurfaceView");return(0,h.openBlock)(),(0,h.createBlock)(o,{zOrderMediaOverlay:a.zOrderMediaOverlay,zOrderOnTop:a.zOrderOnTop,renderMode:a.renderMode,data:{uid:a.uid,channelId:a.channelId},mirrorMode:a.mirrorMode},null,8,["zOrderMediaOverlay","zOrderOnTop","renderMode","data","mirrorMode"])}var Ii=Z(gl,[["render",hl]]);var Xl=ue(Lt());var _l={data(){return{sW:getApp().globalData.window.width,sH:getApp().globalData.window.height,engine:void 0,roomInfo:{},isBack:!1}},methods:{$str:F,clickClose(){this.isBack||(this.isBack=!0,this.engine?this.engine.destroy().then(()=>{this.engine=!1,getApp().globalData.curCallId=Le.NONE,mt()}):(getApp().globalData.curCallId=Le.NONE,mt()))},clickBeauty(){this.$refs.callBeautyPop.open()},onBeautyChange(e){this.engine.setBeautyEffectOptions(!0,new Ye({lighteningLevel:e.whitening/100,smoothnessLevel:e.smoothing/100,rednessLevel:e.rosy/100}))},getBeautyOptions(){let e,t=x("beauty_info");if(t)try{e=JSON.parse(t)}catch(a){e={whitening:50,smoothing:50,rosy:50}}else e={whitening:50,smoothing:50,rosy:50};return new Ye({lighteningLevel:e.whitening/100,smoothnessLevel:e.smoothing/100,rednessLevel:e.rosy/100})},initEngine(){return K(this,null,function*(){this.engine=yield l.createByExtension(this.roomInfo.app_id,[]);let e=new Ct({dimensions:"640x480",frameRate:30});yield this.engine.setVideoEncoderConfiguration(e),yield this.engine.enableVideo(),yield this.engine.startPreview(),yield this.engine.setBeautyEffectOptions(!0,this.getBeautyOptions()),yield this.engine.setChannelProfile(ea.Communication),this.clickBeauty()})},initView(){J.request("/chat/call/beauty",{}).then(e=>(this.roomInfo=e.data,this.initEngine()))}},onLoad(){getApp().globalData.curCallId=Le.WAITING,this.engine&&(this.engine.destroy(),this.engine=!1),this.initView()},onUnload(){getApp().globalData.curCallId=Le.NONE},onBackPress(e){if(e.from=="backbutton")return!0}},Al={"chat-preview":{"":{flex:1,backgroundColor:"#000000"}},"surface-local":{"":{flex:1}},"top-bar":{"":{position:"absolute",top:"100rpx",paddingTop:0,paddingRight:"40rpx",paddingBottom:0,paddingLeft:"40rpx",flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},"view-back":{"":{backgroundColor:"rgba(0,0,0,0.5)",alignItems:"center",justifyContent:"center",width:"50rpx",height:"50rpx",borderRadius:"25rpx"}},"img-beauty":{"":{position:"absolute",bottom:"600rpx",right:"40rpx"}},"confirm-btn":{"":{backgroundImage:"linear-gradient(to bottom right, #FF00BD, #FF5954)",borderRadius:6,lineHeight:"56rpx",fontSize:"22rpx",color:"#FFFFFF",paddingTop:0,paddingRight:"20rpx",paddingBottom:0,paddingLeft:"20rpx"}}},bl={components:{RtcSurfaceView:Ii,CallBeautyPop:wi},mixins:[_l]};function yl(e,t,a,i,n,r){let o=(0,w.resolveComponent)("rtc-surface-view"),s=me((0,w.resolveDynamicComponent)("uni-icons"),Ci),c=me((0,w.resolveDynamicComponent)("l-img"),$e),u=(0,w.resolveComponent)("call-beauty-pop");return(0,w.openBlock)(),(0,w.createElementBlock)("scroll-view",{scrollY:!0,showScrollbar:!0,enableBackToTop:!0,bubble:"true",style:{flexDirection:"column"}},[(0,w.createElementVNode)("view",{class:"chat-preview",style:(0,w.normalizeStyle)({width:`${e.sW}px`,height:`${e.sH}px`})},[e.engine?((0,w.openBlock)(),(0,w.createBlock)(o,{key:0,class:"surface-local",uid:0})):(0,w.createCommentVNode)("",!0),(0,w.createElementVNode)("view",{class:"top-bar",style:(0,w.normalizeStyle)({width:`${e.sW}px`})},[(0,w.createElementVNode)("view",{onClick:t[0]||(t[0]=(...f)=>e.clickClose&&e.clickClose(...f)),class:"view-back"},[(0,w.createVNode)(s,{onClick:e.clickClose,type:"back",size:"40rpx",color:"#ffffff",class:"back"},null,8,["onClick"])]),(0,w.createElementVNode)("u-text",{onClick:t[1]||(t[1]=(...f)=>e.clickClose&&e.clickClose(...f)),class:"confirm-btn"},(0,w.toDisplayString)(e.$str("confirm")),1)],4),(0,w.createVNode)(c,{onClick:e.clickBeauty,h:"80rpx",src:"s/call/beauty_head.png",w:"80rpx",class:"img-beauty"},null,8,["onClick"]),(0,w.createVNode)(u,{ref:"callBeautyPop",maskClick:!1,onOnBeautyChange:e.onBeautyChange},null,8,["onOnBeautyChange"])],4)])}var Dt=Z(bl,[["render",yl],["styles",[Al]]]);var ta=plus.webview.currentWebview();if(ta){let e=parseInt(ta.id),t="pages/call/chat-preview",a={};try{a=JSON.parse(ta.__query__)}catch(n){}Dt.mpType="page";let i=Vue.createPageApp(Dt,{$store:getApp({allowDefault:!0}).$store,__pageId:e,__pagePath:t,__pageQuery:a});i.provide("__globalStyles",Vue.useCssStyles([...__uniConfig.styles,...Dt.styles||[]])),i.mount("#root")}})();
/*!
  * @intlify/shared v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/message-resolver v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/runtime v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/message-compiler v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/core-base v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * vue-i18n v9.1.9
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */
