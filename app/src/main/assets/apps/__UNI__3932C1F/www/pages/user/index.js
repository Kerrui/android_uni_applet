"use weex:vue";

if (typeof Promise !== 'undefined' && !Promise.prototype.finally) {
  Promise.prototype.finally = function(callback) {
    const promise = this.constructor
    return this.then(
      value => promise.resolve(callback()).then(() => value),
      reason => promise.resolve(callback()).then(() => {
        throw reason
      })
    )
  }
};

if (typeof uni !== 'undefined' && uni && uni.requireGlobal) {
  const global = uni.requireGlobal()
  ArrayBuffer = global.ArrayBuffer
  Int8Array = global.Int8Array
  Uint8Array = global.Uint8Array
  Uint8ClampedArray = global.Uint8ClampedArray
  Int16Array = global.Int16Array
  Uint16Array = global.Uint16Array
  Int32Array = global.Int32Array
  Uint32Array = global.Uint32Array
  Float32Array = global.Float32Array
  Float64Array = global.Float64Array
  BigInt64Array = global.BigInt64Array
  BigUint64Array = global.BigUint64Array
};


(()=>{var qs=Object.create;var Oi=Object.defineProperty,Js=Object.defineProperties,Xs=Object.getOwnPropertyDescriptor,Zs=Object.getOwnPropertyDescriptors,Qs=Object.getOwnPropertyNames,jn=Object.getOwnPropertySymbols,eo=Object.getPrototypeOf,Yn=Object.prototype.hasOwnProperty,to=Object.prototype.propertyIsEnumerable;var zn=(e,t,i)=>t in e?Oi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,Fi=(e,t)=>{for(var i in t||(t={}))Yn.call(t,i)&&zn(e,i,t[i]);if(jn)for(var i of jn(t))to.call(t,i)&&zn(e,i,t[i]);return e},Kn=(e,t)=>Js(e,Zs(t));var qn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var io=(e,t,i,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Qs(t))!Yn.call(e,a)&&a!==i&&Oi(e,a,{get:()=>t[a],enumerable:!(n=Xs(t,a))||n.enumerable});return e};var z=(e,t,i)=>(i=e!=null?qs(eo(e)):{},io(t||!e||!e.__esModule?Oi(i,"default",{value:e,enumerable:!0}):i,e));var De=(e,t,i)=>new Promise((n,a)=>{var r=c=>{try{l(i.next(c))}catch(d){a(d)}},s=c=>{try{l(i.throw(c))}catch(d){a(d)}},l=c=>c.done?n(c.value):Promise.resolve(c.value).then(r,s);l((i=i.apply(e,t)).next())});var Y=qn((lm,Jn)=>{Jn.exports=Vue});var Mi=qn((cm,Xn)=>{Xn.exports=uni.Vuex});var oe=z(Y());var P=z(Y()),Sa=z(Mi());var no=e=>typeof e=="string",ao="onResize";function Ue(e){return weex.requireModule(e)}function F(e,t,...i){uni.__log__?uni.__log__(e,t,...i):console[e].apply(console,[...i,t])}function D(e,t){return no(e)?t:e}var ro=e=>(t,i=(0,P.getCurrentInstance)())=>{!P.isInSSRComponentSetup&&(0,P.injectHook)(e,t,i)},Ta=ro(ao),so="dev",Ca,xa,Ea,Da,va;Ca="https://ztest1.candychat.link",Da="https://mtest2.candychat.link",va="https://atest3.267girl.com",xa="https://pic2.candychat.link/",Ea="https://pic3.candychat.link/";var oo={wv:"13.2.2",ENV:so,apiHost:Ca,ossPath:xa,pApiHost:Da,oApiHost:va,ossPicPath:Ea,zT:3,appId:plus.runtime.appid,appV:parseInt(plus.runtime.version.split(".").join("")),OSS_PATH_V:1,OSS_PIC_PATH_V:1,API_HOST_V:1,isAndroid:plus.os.name=="Android",PHOTO:1,VIDEO:2,VOICE:3,TXT:4,SYSTEM_ID:1e7,M_TEXT:1,M_VOICE:2,M_IMG:3,M_GIFT:5,M_NOTICE:6,M_CALL:8,M_RECOMMEND_USER:11,M_RECOMMEND_CLUB:12,M_VIDEO:18,M_GIFT_ASK:21,M_NOTICE_SYS:22,M_EXPRESSION:23,M_LETTER:24,M_PAID_PHOTO:25,M_PAID_VIDEO:26,M_MATCH_SUCCESS:27,M_N_DEF:100,M_N_AUDIT:103,M_N_VIP:104,M_N_RECHARGE:105,M_N_CLUB_AUDIT_REJECT:106,M_N_CLUB_AUDIT:107,M_N_GREETING_AUDIT:115,M_N_SYS_NOTICE:116,M_N_CALL:117,M_N_COOPERATE:118,M_N_WITHDRAW:119,M_N_REPORT_AUDIT:120,M_N_IMG:121,M_N_PRIVACY_CALL:122,M_N_WITHDRAW_NOTICE:123,M_N_WITH_MEDIA:124,M_N_MONITOR:202,M_C_RECHARGE:1001,M_C_CALL_TEXT_AUDIO:1002,M_CHAT_PRI:1,M_CHAT_CLUB:2,M_CHAT_ASS:3,M_CHAT_NOTICE:4,M_CHAT_NOTIFY:5,M_CHAT_CLUB_NOTICE:6,PAY_TYPE_SUCCESS:0,PAY_TYPE_FAIL:1,PAY_TYPE_CANCEL:2,PAY_TYPE_NOT_EXIST:3,PAY_TYPE_NOT_ALLOW:4,PAY_TYPE_ERROR:5,MATCH_PRICE:10},w=oo;var We={FIND:0,USER:1,MSG:2,MY:3},Bt={FIND:"/pages/user/index",MSG:"/pages/msg/index",CALL:"/pages/call-history/index",USER:"/pages/user/index",MY:"/pages/my/index"};var ka={AGORA:"agora",DB:"db",MESSAGE:"message",AVATAR:"avatar",REPORT:"report",FEEDBACK:"feedback",WITHDRAW:"withdraw",CLUB:"club",BANNED:"banned",WARNING:"warning",ALBUM:"album",AUTH:"auth",LOG:"log"},J={CREATE:1,JOIN:2,EDIT_NAME:3,MUTE_ALL_MEMBER:4,REMOVE:5,QUIT:6,DISSOLUTION:7,MUTE_MEMBER:8,MUTE_SEND_FAIL:9,INVITE_JOIN:10,SET_FOUNDER:11,SET_MANAGER:12,YOUR_GIFT_RETURN:13,GIFT_HAS_SIGNED:14,SIGN_GIFT:15,SIGN_GIFT_FAIL:16,YOUR_GIFT_SIGNED:17,ACTION_GIFT:18,GIFT_NO_REPLY_RETURN:19,GIFT_NO_ROB_RETURN:20,YOU_GIFT_ROB_OVER:21,GIFT_NO_SIGN_RETURN:22,FIRST_MSG_FEE:23,INVITE_FAILED:24,SIGNED_FOR:25},Ji={NOT_REPLY:1,NOT_CHEAT_USER:2},lo={en:{title:"English",language:"en",code:"en-US"},es:{title:"espa\xF1ol",language:"es",code:"es-ES"},ar:{title:"\u0639\u0631\u0628\u064A",language:"ar",code:"ar-SA"},vi:{title:"Ti\u1EBFng Vi\u1EC7t",language:"vi",code:"vi-VN"},tr:{title:"T\xFCrk\xE7e",language:"tr",code:"tr-TR"},pt:{title:"Portugu\xEAs",language:"pt",code:"pt-PT"}};var ri={ACCOUNT:0,LOGIN:1,MESSAGE:2,RECHARGE:6,MSG_SYSTEM:7,DEVICE:8,IP:9,CALL:10,WITHDRAW:11,JOIN_CLUB:14,CREATE_CLUB:15,COACH_LIST:16,SAY_HELLO_MSG:17,GIFT:18,MATCH:19,MOMENT:20,TASK:21,GAME:22,INVITE:23,CERTIFICATION:24,CONSUME:25,NOTIFICATION:26,RANKING_LIST:27};var si={GIFT:1,COIN:2,BOX:3};var La={USER:1,STREAMER:3,AGENT:5};var co={DISBAND:1,CHECK_RESULT:2};var uo=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Xe=e=>uo?Symbol(e):e,po=(e,t,i)=>mo({l:e,k:t,s:i}),mo=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Ae=e=>typeof e=="number"&&isFinite(e),fo=e=>Xi(e)==="[object Date]",ei=e=>Xi(e)==="[object RegExp]",oi=e=>j(e)&&Object.keys(e).length===0;function go(e,t){typeof console!="undefined"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}var ve=Object.assign;function Zn(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}var ho=Object.prototype.hasOwnProperty;function Ia(e,t){return ho.call(e,t)}var he=Array.isArray,Se=e=>typeof e=="function",I=e=>typeof e=="string",se=e=>typeof e=="boolean",Ce=e=>e!==null&&typeof e=="object",Ra=Object.prototype.toString,Xi=e=>Ra.call(e),j=e=>Xi(e)==="[object Object]",_o=e=>e==null?"":he(e)||j(e)&&e.toString===Ra?JSON.stringify(e,null,2):String(e);var bo=Object.prototype.hasOwnProperty;function yo(e,t){return bo.call(e,t)}var Qt=e=>e!==null&&typeof e=="object",Ze=[];Ze[0]={w:[0],i:[3,0],["["]:[4],o:[7]};Ze[1]={w:[1],["."]:[2],["["]:[4],o:[7]};Ze[2]={w:[2],i:[3,0],[0]:[3,0]};Ze[3]={i:[3,0],[0]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};Ze[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};Ze[5]={["'"]:[4,0],o:8,l:[5,0]};Ze[6]={['"']:[4,0],o:8,l:[6,0]};var wo=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Ao(e){return wo.test(e)}function So(e){let t=e.charCodeAt(0),i=e.charCodeAt(e.length-1);return t===i&&(t===34||t===39)?e.slice(1,-1):e}function To(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Co(e){let t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:Ao(t)?So(t):"*"+t}function xo(e){let t=[],i=-1,n=0,a=0,r,s,l,c,d,p,f,y=[];y[0]=()=>{s===void 0?s=l:s+=l},y[1]=()=>{s!==void 0&&(t.push(s),s=void 0)},y[2]=()=>{y[0](),a++},y[3]=()=>{if(a>0)a--,n=4,y[0]();else{if(a=0,s===void 0||(s=Co(s),s===!1))return!1;y[1]()}};function R(){let E=e[i+1];if(n===5&&E==="'"||n===6&&E==='"')return i++,l="\\"+E,y[0](),!0}for(;n!==null;)if(i++,r=e[i],!(r==="\\"&&R())){if(c=To(r),f=Ze[n],d=f[c]||f.l||8,d===8||(n=d[0],d[1]!==void 0&&(p=y[d[1]],p&&(l=r,p()===!1))))return;if(n===7)return t}}var Qn=new Map;function ti(e,t){if(!Qt(e))return null;let i=Qn.get(t);if(i||(i=xo(t),i&&Qn.set(t,i)),!i)return null;let n=i.length,a=e,r=0;for(;r<n;){let s=a[i[r]];if(s===void 0)return null;a=s,r++}return a}function Ui(e){if(!Qt(e))return e;for(let t in e)if(yo(e,t))if(!t.includes("."))Qt(e[t])&&Ui(e[t]);else{let i=t.split("."),n=i.length-1,a=e;for(let r=0;r<n;r++)i[r]in a||(a[i[r]]={}),a=a[i[r]];a[i[n]]=e[t],delete e[t],Qt(a[i[n]])&&Ui(a[i[n]])}return e}var Eo=e=>e,Do=e=>"",vo="text",ko=e=>e.length===0?"":e.join(""),Lo=_o;function ea(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function Io(e){let t=Ae(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(Ae(e.named.count)||Ae(e.named.n))?Ae(e.named.count)?e.named.count:Ae(e.named.n)?e.named.n:t:t}function Ro(e,t){t.count||(t.count=e),t.n||(t.n=e)}function No(e={}){let t=e.locale,i=Io(e),n=Ce(e.pluralRules)&&I(t)&&Se(e.pluralRules[t])?e.pluralRules[t]:ea,a=Ce(e.pluralRules)&&I(t)&&Se(e.pluralRules[t])?ea:void 0,r=L=>L[n(i,L.length,a)],s=e.list||[],l=L=>s[L],c=e.named||{};Ae(e.pluralIndex)&&Ro(i,c);let d=L=>c[L];function p(L){let k=Se(e.messages)?e.messages(L):Ce(e.messages)?e.messages[L]:!1;return k||(e.parent?e.parent.message(L):Do)}let f=L=>e.modifiers?e.modifiers[L]:Eo,y=j(e.processor)&&Se(e.processor.normalize)?e.processor.normalize:ko,R=j(e.processor)&&Se(e.processor.interpolate)?e.processor.interpolate:Lo,E=j(e.processor)&&I(e.processor.type)?e.processor.type:vo,H={list:l,named:d,plural:r,linked:(L,k)=>{let W=p(L)(H);return I(k)?f(k)(W):W},message:p,type:E,interpolate:R,normalize:y};return H}function Na(e,t,i={}){let{domain:n,messages:a,args:r}=i,s=e,l=new SyntaxError(String(s));return l.code=e,t&&(l.location=t),l.domain=n,l}var Oo="9.1.9",li=-1,ta="";function Fo(){return{upper:e=>I(e)?e.toUpperCase():e,lower:e=>I(e)?e.toLowerCase():e,capitalize:e=>I(e)?`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`:e}}var Mo,ia=0;function Po(e={}){let t=I(e.version)?e.version:Oo,i=I(e.locale)?e.locale:"en-US",n=he(e.fallbackLocale)||j(e.fallbackLocale)||I(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:i,a=j(e.messages)?e.messages:{[i]:{}},r=j(e.datetimeFormats)?e.datetimeFormats:{[i]:{}},s=j(e.numberFormats)?e.numberFormats:{[i]:{}},l=ve({},e.modifiers||{},Fo()),c=e.pluralRules||{},d=Se(e.missing)?e.missing:null,p=se(e.missingWarn)||ei(e.missingWarn)?e.missingWarn:!0,f=se(e.fallbackWarn)||ei(e.fallbackWarn)?e.fallbackWarn:!0,y=!!e.fallbackFormat,R=!!e.unresolving,E=Se(e.postTranslation)?e.postTranslation:null,H=j(e.processor)?e.processor:null,L=se(e.warnHtmlMessage)?e.warnHtmlMessage:!0,k=!!e.escapeParameter,W=Se(e.messageCompiler)?e.messageCompiler:Mo,U=Se(e.onWarn)?e.onWarn:go,C=e,V=Ce(C.__datetimeFormatters)?C.__datetimeFormatters:new Map,Ee=Ce(C.__numberFormatters)?C.__numberFormatters:new Map,je=Ce(C.__meta)?C.__meta:{};return ia++,{version:t,cid:ia,locale:i,fallbackLocale:n,messages:a,datetimeFormats:r,numberFormats:s,modifiers:l,pluralRules:c,missing:d,missingWarn:p,fallbackWarn:f,fallbackFormat:y,unresolving:R,postTranslation:E,processor:H,warnHtmlMessage:L,escapeParameter:k,messageCompiler:W,onWarn:U,__datetimeFormatters:V,__numberFormatters:Ee,__meta:je}}function Zi(e,t,i,n,a){let{missing:r,onWarn:s}=e;if(r!==null){let l=r(e,i,t,a);return I(l)?l:t}else return t}function Gt(e,t,i){let n=e;n.__localeChainCache||(n.__localeChainCache=new Map);let a=n.__localeChainCache.get(i);if(!a){a=[];let r=[i];for(;he(r);)r=na(a,r,t);let s=he(t)?t:j(t)?t.default?t.default:null:t;r=I(s)?[s]:s,he(r)&&na(a,r,!1),n.__localeChainCache.set(i,a)}return a}function na(e,t,i){let n=!0;for(let a=0;a<t.length&&se(n);a++){let r=t[a];I(r)&&(n=Bo(e,t[a],i))}return n}function Bo(e,t,i){let n,a=t.split("-");do{let r=a.join("-");n=$o(e,r,i),a.splice(-1,1)}while(a.length&&n===!0);return n}function $o(e,t,i){let n=!1;if(!e.includes(t)&&(n=!0,t)){n=t[t.length-1]!=="!";let a=t.replace(/!/g,"");e.push(a),(he(i)||j(i))&&i[a]&&(n=i[a])}return n}function Pt(e,t,i){let n=e;n.__localeChainCache=new Map,Gt(e,i,t)}function ht(e){return Na(e,null,void 0)}var aa=()=>"",ot=e=>Se(e);function ra(e,...t){let{fallbackFormat:i,postTranslation:n,unresolving:a,fallbackLocale:r,messages:s}=e,[l,c]=Hi(...t),d=se(c.missingWarn)?c.missingWarn:e.missingWarn,p=se(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,f=se(c.escapeParameter)?c.escapeParameter:e.escapeParameter,y=!!c.resolvedMessage,R=I(c.default)||se(c.default)?se(c.default)?l:c.default:i?l:"",E=i||R!=="",H=I(c.locale)?c.locale:e.locale;f&&Uo(c);let[L,k,W]=y?[l,H,s[H]||{}]:Ho(e,l,H,r,p,d),U=l;if(!y&&!(I(L)||ot(L))&&E&&(L=R,U=L),!y&&(!(I(L)||ot(L))||!I(k)))return a?li:l;let C=!1,V=()=>{C=!0},Ee=ot(L)?L:Oa(e,l,k,L,U,V);if(C)return L;let je=Vo(e,k,W,c),M=No(je),Q=Wo(e,Ee,M);return n?n(Q):Q}function Uo(e){he(e.list)?e.list=e.list.map(t=>I(t)?Zn(t):t):Ce(e.named)&&Object.keys(e.named).forEach(t=>{I(e.named[t])&&(e.named[t]=Zn(e.named[t]))})}function Ho(e,t,i,n,a,r){let{messages:s,onWarn:l}=e,c=Gt(e,n,i),d={},p,f=null,y="translate";for(let R=0;R<c.length&&(p=c[R],d=s[p]||{},(f=ti(d,t))===null&&(f=d[t]),!(I(f)||Se(f)));R++){let E=Zi(e,t,p,r,y);E!==t&&(f=E)}return[f,p,d]}function Oa(e,t,i,n,a,r){let{messageCompiler:s,warnHtmlMessage:l}=e;if(ot(n)){let d=n;return d.locale=d.locale||i,d.key=d.key||t,d}let c=s(n,Go(e,i,a,n,l,r));return c.locale=i,c.key=t,c.source=n,c}function Wo(e,t,i){return t(i)}function Hi(...e){let[t,i,n]=e,a={};if(!I(t)&&!Ae(t)&&!ot(t))throw ht(14);let r=Ae(t)?String(t):(ot(t),t);return Ae(i)?a.plural=i:I(i)?a.default=i:j(i)&&!oi(i)?a.named=i:he(i)&&(a.list=i),Ae(n)?a.plural=n:I(n)?a.default=n:j(n)&&ve(a,n),[r,a]}function Go(e,t,i,n,a,r){return{warnHtmlMessage:a,onError:s=>{throw r&&r(s),s},onCacheKey:s=>po(t,i,s)}}function Vo(e,t,i,n){let{modifiers:a,pluralRules:r}=e,l={locale:t,modifiers:a,pluralRules:r,messages:c=>{let d=ti(i,c);if(I(d)){let p=!1,y=Oa(e,c,t,d,c,()=>{p=!0});return p?aa:y}else return ot(d)?d:aa}};return e.processor&&(l.processor=e.processor),n.list&&(l.list=n.list),n.named&&(l.named=n.named),Ae(n.plural)&&(l.pluralIndex=n.plural),l}function sa(e,...t){let{datetimeFormats:i,unresolving:n,fallbackLocale:a,onWarn:r}=e,{__datetimeFormatters:s}=e,[l,c,d,p]=Wi(...t),f=se(d.missingWarn)?d.missingWarn:e.missingWarn;se(d.fallbackWarn)?d.fallbackWarn:e.fallbackWarn;let y=!!d.part,R=I(d.locale)?d.locale:e.locale,E=Gt(e,a,R);if(!I(l)||l==="")return new Intl.DateTimeFormat(R).format(c);let H={},L,k=null,W="datetime format";for(let V=0;V<E.length&&(L=E[V],H=i[L]||{},k=H[l],!j(k));V++)Zi(e,l,L,f,W);if(!j(k)||!I(L))return n?li:l;let U=`${L}__${l}`;oi(p)||(U=`${U}__${JSON.stringify(p)}`);let C=s.get(U);return C||(C=new Intl.DateTimeFormat(L,ve({},k,p)),s.set(U,C)),y?C.formatToParts(c):C.format(c)}function Wi(...e){let[t,i,n,a]=e,r={},s={},l;if(I(t)){if(!/\d{4}-\d{2}-\d{2}(T.*)?/.test(t))throw ht(16);l=new Date(t);try{l.toISOString()}catch(c){throw ht(16)}}else if(fo(t)){if(isNaN(t.getTime()))throw ht(15);l=t}else if(Ae(t))l=t;else throw ht(14);return I(i)?r.key=i:j(i)&&(r=i),I(n)?r.locale=n:j(n)&&(s=n),j(a)&&(s=a),[r.key||"",l,r,s]}function oa(e,t,i){let n=e;for(let a in i){let r=`${t}__${a}`;n.__datetimeFormatters.has(r)&&n.__datetimeFormatters.delete(r)}}function la(e,...t){let{numberFormats:i,unresolving:n,fallbackLocale:a,onWarn:r}=e,{__numberFormatters:s}=e,[l,c,d,p]=Gi(...t),f=se(d.missingWarn)?d.missingWarn:e.missingWarn;se(d.fallbackWarn)?d.fallbackWarn:e.fallbackWarn;let y=!!d.part,R=I(d.locale)?d.locale:e.locale,E=Gt(e,a,R);if(!I(l)||l==="")return new Intl.NumberFormat(R).format(c);let H={},L,k=null,W="number format";for(let V=0;V<E.length&&(L=E[V],H=i[L]||{},k=H[l],!j(k));V++)Zi(e,l,L,f,W);if(!j(k)||!I(L))return n?li:l;let U=`${L}__${l}`;oi(p)||(U=`${U}__${JSON.stringify(p)}`);let C=s.get(U);return C||(C=new Intl.NumberFormat(L,ve({},k,p)),s.set(U,C)),y?C.formatToParts(c):C.format(c)}function Gi(...e){let[t,i,n,a]=e,r={},s={};if(!Ae(t))throw ht(14);let l=t;return I(i)?r.key=i:j(i)&&(r=i),I(n)?r.locale=n:j(n)&&(s=n),j(a)&&(s=a),[r.key||"",l,r,s]}function ca(e,t,i){let n=e;for(let a in i){let r=`${t}__${a}`;n.__numberFormatters.has(r)&&n.__numberFormatters.delete(r)}}var jo="9.1.9";function st(e,...t){return Na(e,null,void 0)}var Vi=Xe("__transrateVNode"),ji=Xe("__datetimeParts"),zi=Xe("__numberParts");Xe("__enableEmitter");Xe("__disableEmitter");var zo=Xe("__setPluralRules");Xe("__intlifyMeta");var Fa=Xe("__injectWithOption"),ua=0;function da(e){return(t,i,n,a)=>e(i,n,(0,P.getCurrentInstance)()||void 0,a)}function Ma(e,t){let{messages:i,__i18n:n}=t,a=j(i)?i:he(n)?{}:{[e]:{}};if(he(n)&&n.forEach(({locale:r,resource:s})=>{r?(a[r]=a[r]||{},ii(s,a[r])):ii(s,a)}),t.flatJson)for(let r in a)Ia(a,r)&&Ui(a[r]);return a}var Xt=e=>!Ce(e)||he(e);function ii(e,t){if(Xt(e)||Xt(t))throw st(20);for(let i in e)Ia(e,i)&&(Xt(e[i])||Xt(t[i])?t[i]=e[i]:ii(e[i],t[i]))}function Yo(e={}){let{__root:t}=e,i=t===void 0,n=se(e.inheritLocale)?e.inheritLocale:!0,a=(0,P.ref)(t&&n?t.locale.value:I(e.locale)?e.locale:"en-US"),r=(0,P.ref)(t&&n?t.fallbackLocale.value:I(e.fallbackLocale)||he(e.fallbackLocale)||j(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:a.value),s=(0,P.ref)(Ma(a.value,e)),l=(0,P.ref)(j(e.datetimeFormats)?e.datetimeFormats:{[a.value]:{}}),c=(0,P.ref)(j(e.numberFormats)?e.numberFormats:{[a.value]:{}}),d=t?t.missingWarn:se(e.missingWarn)||ei(e.missingWarn)?e.missingWarn:!0,p=t?t.fallbackWarn:se(e.fallbackWarn)||ei(e.fallbackWarn)?e.fallbackWarn:!0,f=t?t.fallbackRoot:se(e.fallbackRoot)?e.fallbackRoot:!0,y=!!e.fallbackFormat,R=Se(e.missing)?e.missing:null,E=Se(e.missing)?da(e.missing):null,H=Se(e.postTranslation)?e.postTranslation:null,L=se(e.warnHtmlMessage)?e.warnHtmlMessage:!0,k=!!e.escapeParameter,W=t?t.modifiers:j(e.modifiers)?e.modifiers:{},U=e.pluralRules||t&&t.pluralRules,C;function V(){return Po({version:jo,locale:a.value,fallbackLocale:r.value,messages:s.value,messageCompiler:function(S){return Re=>Re.normalize([S])},datetimeFormats:l.value,numberFormats:c.value,modifiers:W,pluralRules:U,missing:E===null?void 0:E,missingWarn:d,fallbackWarn:p,fallbackFormat:y,unresolving:!0,postTranslation:H===null?void 0:H,warnHtmlMessage:L,escapeParameter:k,__datetimeFormatters:j(C)?C.__datetimeFormatters:void 0,__numberFormatters:j(C)?C.__numberFormatters:void 0,__v_emitter:j(C)?C.__v_emitter:void 0,__meta:{framework:"vue"}})}C=V(),Pt(C,a.value,r.value);function Ee(){return[a.value,r.value,s.value,l.value,c.value]}let je=(0,P.computed)({get:()=>a.value,set:_=>{a.value=_,C.locale=a.value}}),M=(0,P.computed)({get:()=>r.value,set:_=>{r.value=_,C.fallbackLocale=r.value,Pt(C,a.value,_)}}),Q=(0,P.computed)(()=>s.value),ye=(0,P.computed)(()=>l.value),Yt=(0,P.computed)(()=>c.value);function Kt(){return Se(H)?H:null}function qt(_){H=_,C.postTranslation=_}function Ri(){return R}function Ds(_){_!==null&&(E=da(_)),R=_,C.missing=E}function ft(_,S,Re,we,Ni,Jt){Ee();let Mt;if(Mt=_(C),Ae(Mt)&&Mt===li){let[Ks,sm]=S();return t&&f?we(t):Ni(Ks)}else{if(Jt(Mt))return Mt;throw st(14)}}function Gn(..._){return ft(S=>ra(S,..._),()=>Hi(..._),"translate",S=>S.t(..._),S=>S,S=>I(S))}function vs(..._){let[S,Re,we]=_;if(we&&!Ce(we))throw st(15);return Gn(S,Re,ve({resolvedMessage:!0},we||{}))}function ks(..._){return ft(S=>sa(S,..._),()=>Wi(..._),"datetime format",S=>S.d(..._),()=>ta,S=>I(S))}function Ls(..._){return ft(S=>la(S,..._),()=>Gi(..._),"number format",S=>S.n(..._),()=>ta,S=>I(S))}function Is(_){return _.map(S=>I(S)?(0,P.createVNode)(P.Text,null,S,0):S)}let Rs={normalize:Is,interpolate:_=>_,type:"vnode"};function Ns(..._){return ft(S=>{let Re,we=S;try{we.processor=Rs,Re=ra(we,..._)}finally{we.processor=null}return Re},()=>Hi(..._),"translate",S=>S[Vi](..._),S=>[(0,P.createVNode)(P.Text,null,S,0)],S=>he(S))}function Os(..._){return ft(S=>la(S,..._),()=>Gi(..._),"number format",S=>S[zi](..._),()=>[],S=>I(S)||he(S))}function Fs(..._){return ft(S=>sa(S,..._),()=>Wi(..._),"datetime format",S=>S[ji](..._),()=>[],S=>I(S)||he(S))}function Ms(_){U=_,C.pluralRules=U}function Ps(_,S){let Re=I(S)?S:a.value,we=Vn(Re);return ti(we,_)!==null}function Bs(_){let S=null,Re=Gt(C,r.value,a.value);for(let we=0;we<Re.length;we++){let Ni=s.value[Re[we]]||{},Jt=ti(Ni,_);if(Jt!=null){S=Jt;break}}return S}function $s(_){let S=Bs(_);return S!=null?S:t?t.tm(_)||{}:{}}function Vn(_){return s.value[_]||{}}function Us(_,S){s.value[_]=S,C.messages=s.value}function Hs(_,S){s.value[_]=s.value[_]||{},ii(S,s.value[_]),C.messages=s.value}function Ws(_){return l.value[_]||{}}function Gs(_,S){l.value[_]=S,C.datetimeFormats=l.value,oa(C,_,S)}function Vs(_,S){l.value[_]=ve(l.value[_]||{},S),C.datetimeFormats=l.value,oa(C,_,S)}function js(_){return c.value[_]||{}}function zs(_,S){c.value[_]=S,C.numberFormats=c.value,ca(C,_,S)}function Ys(_,S){c.value[_]=ve(c.value[_]||{},S),C.numberFormats=c.value,ca(C,_,S)}return ua++,t&&((0,P.watch)(t.locale,_=>{n&&(a.value=_,C.locale=_,Pt(C,a.value,r.value))}),(0,P.watch)(t.fallbackLocale,_=>{n&&(r.value=_,C.fallbackLocale=_,Pt(C,a.value,r.value))})),{id:ua,locale:je,fallbackLocale:M,get inheritLocale(){return n},set inheritLocale(_){n=_,_&&t&&(a.value=t.locale.value,r.value=t.fallbackLocale.value,Pt(C,a.value,r.value))},get availableLocales(){return Object.keys(s.value).sort()},messages:Q,datetimeFormats:ye,numberFormats:Yt,get modifiers(){return W},get pluralRules(){return U||{}},get isGlobal(){return i},get missingWarn(){return d},set missingWarn(_){d=_,C.missingWarn=d},get fallbackWarn(){return p},set fallbackWarn(_){p=_,C.fallbackWarn=p},get fallbackRoot(){return f},set fallbackRoot(_){f=_},get fallbackFormat(){return y},set fallbackFormat(_){y=_,C.fallbackFormat=y},get warnHtmlMessage(){return L},set warnHtmlMessage(_){L=_,C.warnHtmlMessage=_},get escapeParameter(){return k},set escapeParameter(_){k=_,C.escapeParameter=_},t:Gn,rt:vs,d:ks,n:Ls,te:Ps,tm:$s,getLocaleMessage:Vn,setLocaleMessage:Us,mergeLocaleMessage:Hs,getDateTimeFormat:Ws,setDateTimeFormat:Gs,mergeDateTimeFormat:Vs,getNumberFormat:js,setNumberFormat:zs,mergeNumberFormat:Ys,getPostTranslationHandler:Kt,setPostTranslationHandler:qt,getMissingHandler:Ri,setMissingHandler:Ds,[Vi]:Ns,[zi]:Os,[ji]:Fs,[zo]:Ms,[Fa]:e.__injectWithOption}}var Qi={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};ve({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>Ae(e)||!isNaN(e)}},Qi);function Ko({slots:e},t){return t.length===1&&t[0]==="default"?e.default?e.default():[]:t.reduce((i,n)=>{let a=e[n];return a&&(i[n]=a()),i},{})}function Pa(e,t,i,n){let{slots:a,attrs:r}=t;return()=>{let s={part:!0},l={};e.locale&&(s.locale=e.locale),I(e.format)?s.key=e.format:Ce(e.format)&&(I(e.format.key)&&(s.key=e.format.key),l=Object.keys(e.format).reduce((f,y)=>i.includes(y)?ve({},f,{[y]:e.format[y]}):f,{}));let c=n(e.value,s,l),d=[s.key];he(c)?d=c.map((f,y)=>{let R=a[f.type];return R?R({[f.type]:f.value,index:y,parts:c}):[f.value]}):I(c)&&(d=[c]);let p=ve({},r);return I(e.tag)?(0,P.h)(e.tag,p,d):Ce(e.tag)?(0,P.h)(e.tag,p,d):(0,P.h)(P.Fragment,p,d)}}var qo=["localeMatcher","style","unit","unitDisplay","currency","currencyDisplay","useGrouping","numberingSystem","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","notation","formatMatcher"];ve({value:{type:Number,required:!0},format:{type:[String,Object]}},Qi);var Jo=["dateStyle","timeStyle","fractionalSecondDigits","calendar","dayPeriod","numberingSystem","localeMatcher","timeZone","hour12","hourCycle","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"];ve({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Qi);function en(e={}){let t=(0,P.getCurrentInstance)();if(t==null)throw st(16);if(!t.appContext.app.__VUE_I18N_SYMBOL__)throw st(17);let i=(0,P.inject)(t.appContext.app.__VUE_I18N_SYMBOL__);if(!i)throw st(22);let n=i.mode==="composition"?i.global:i.global.__composer,a=oi(e)?"__i18n"in t.type?"local":"global":e.useScope?e.useScope:"local";if(a==="global"){let l=Ce(e.messages)?e.messages:{};"__i18nGlobal"in t.type&&(l=Ma(n.locale.value,{messages:l,__i18n:t.type.__i18nGlobal}));let c=Object.keys(l);if(c.length&&c.forEach(d=>{n.mergeLocaleMessage(d,l[d])}),Ce(e.datetimeFormats)){let d=Object.keys(e.datetimeFormats);d.length&&d.forEach(p=>{n.mergeDateTimeFormat(p,e.datetimeFormats[p])})}if(Ce(e.numberFormats)){let d=Object.keys(e.numberFormats);d.length&&d.forEach(p=>{n.mergeNumberFormat(p,e.numberFormats[p])})}return n}if(a==="parent"){let l=Xo(i,t,e.__useComponent);return l==null&&(l=n),l}if(i.mode==="legacy")throw st(18);let r=i,s=r.__getInstance(t);if(s==null){let l=t.type,c=ve({},e);l.__i18n&&(c.__i18n=l.__i18n),n&&(c.__root=n),s=Yo(c),Zo(r,t),r.__setInstance(t,s)}return s}function Xo(e,t,i=!1){let n=null,a=t.root,r=t.parent;for(;r!=null;){let s=e;if(e.mode==="composition")n=s.__getInstance(r);else{let l=s.__getInstance(r);l!=null&&(n=l.__composer),i&&n&&!n[Fa]&&(n=null)}if(n!=null||a===r)break;r=r.parent}return n}function Zo(e,t,i){(0,P.onMounted)(()=>{},t),(0,P.onUnmounted)(()=>{e.__deleteInstance(t)},t)}function q(e,t,i=!1,n=null){let a=tn(e,i);n?uni.setStorage({key:a,data:t,success:n}):uni.setStorageSync(a,t)}function G(e,t=!1,i=null){let n=tn(e,t);if(i)uni.getStorage({key:n,success:i});else return uni.getStorageSync(n)}function St(e,t=!1){uni.removeStorage({key:tn(e,t)})}function tn(e,t){return t?`_a_${e}`:`m_${e}`}function Qo(e,t){let i=t;return typeof t=="undefined"&&(i=getApp().globalData.uid),G(e+"_"+i)}var lt={NONE:0,WAITING:1,GAME:2,WEEK_UP:3,JUDGE_ROOM:100};var ct={VIDEO:1,VOICE:2},nn={CALL:1,ANSWER:2,MATCH_ACCEPT:3,MATCH_CONNECT:4},Ba={CALL:1,MATCH:2},$a={DEF:0,NOTIFY:1,CONNECT:2},Tt={HOME:0,MSG:1,MATCH:2,RECOMMEND:3,MATCH_NOTIFY:4,QUALITY:5,NO_COINS_DIALOG:6,CALL_LOG:7,GAME_MATCH:8,GAME_MATCH_NOTIFY:9,RANKING_LIST:10,PRIVACY_SET_MSG:11,MOMENT:12,CALlING:98,FREE_MIN_POP:99,ANSWER_ERROR:100,END_PAGE:101,APP_NOTIFY:102};function ut(e){return e==1?u("men"):u("women")}function He(e){return e==1?u("himLower"):u("herLower")}function Ua(e){return e==1?u("heLower"):u("sheLower")}function Ha(e){return e>=12?`1 ${u("yearLower")}`:`${e} ${el(e)}`}function el(e){return e>1?u("monthsLower"):u("monthLower")}function Wa(e){return e>1?u("weeksLower"):u("weekLower")}function Ga(e){return e>1?u("daysLower"):u("dayLower")}function tl(e){return e>1?u("hoursLower"):u("hourLower")}function Va(e){return e>1?u("minsLower"):u("minLower")}function ja(e){return e==ct.VIDEO?u("videoChat"):u("audioChat")}function ci(e){return e==1?u("videoChatLower"):u("audioChatLower")}function ui(e){return`${e} ${e>1?u("coinsLower"):u("coinLower")}`}function il(e){return e>1?u("time.hoursAgo",{number:e}):u("time.hourAgo",{number:e})}function pa(e){return e>1?u("time.daysAgo",{number:e}):u("time.dayAgo",{number:e})}function ma(e){return e>1?u("time.minutesAgo",{number:e}):u("time.minuteAgo",{number:e})}function za(e){return e==1?u("himselfLower"):u("herselfLower")}function Vt(e){return e+" "+tl(e)}function m(e){return typeof e=="undefined"||e==null||e==""}function di(e){return e===""||e===null}var _t=new Promise(()=>{});function nl(e,t,i=""){if(m(e))return"";let n=[];for(let a in e)n.push(a+"="+e[a]);return i+n.join(t)}function bt(e){return typeof e=="number"?e+"":typeof e=="boolean"?e?"true":"false":m(e)?"null":typeof e=="object"?JSON.stringify(e):e}function Te(e){return e.replace(new RegExp("'","gm"),"\uFF07")}function an(e){return e.replace(new RegExp("\uFF07","gm"),"'")}function pi(e,t=18){if(m(e))return"";let i=new Date(Date.parse(e.replace(/-/g,"/"))),n=Math.ceil((new Date().getTime()-i)/31536e6),a=n>1?n-1:n;return a<t?t:a}function rt(e){return e<10?"0"+e:e}function Ya(e,t=!1,i=!1,n=!0){e<1e10&&(e=e*1e3);var a=new Date(e),r=a.getFullYear(),s=a.getMonth()+1,l=a.getDate(),c=a.getHours(),d=a.getMinutes(),p=a.getSeconds();let f=t?`${r}-`:"";if(i)return f+rt(s)+"-"+rt(l);{let y=n?":"+rt(p):"";return f+rt(s)+"-"+rt(l)+" "+rt(c)+":"+rt(d)+y}}function jt(e,t=!1){if(m(e)||e<0||isNaN(e))return t?"00:00:00":"00:00";var i=0,n=0;e>0&&e<10?e="0"+parseInt(e):e<=0?e="00":e>60&&(i=parseInt(e/60)<10?"0"+parseInt(e/60):parseInt(e/60),e=parseInt(e%60)<10?"0"+parseInt(e%60):parseInt(e%60),i>60&&(n=parseInt(i/60)<10?"0"+parseInt(i/60):parseInt(i/60),i=parseInt(i%60)<10?"0"+parseInt(i%60):parseInt(i%60)));var a;return n>0?a=n+":"+i+":"+e:i>0?(a=i+":"+e,t&&(a="00:"+a)):(a="00:"+e,t&&(a="00:"+a)),a}function Ge(e){try{let t=JSON.parse(e);if(typeof t=="object")return t}catch(t){}return!1}function rn(e,t){for(let i in e)if(t[i]!=null&&e[i]!=t[i])return!0;return!1}function mi(e){return m(e)?!0:Object.keys(e).length<=0}function Ka(e,t){let i=t-e,n=Math.random();return e+Math.round(n*i)}function fi(e,t=3,i=0){let n=60,a=n*60,r=a*24,c=Date.parse(new Date).toString().substr(0,10)-e;if(c<0)return ma(1);let d=c/r,p=c/a,f=c/n;if(d>t)return pa(t);if(d>=1&&d<t)return pa(parseInt(d));if(p>=1&&p<24)return il(parseInt(p));if(f>=0&&f<60){if(i!=0&&f<=i)return u("online");let y=parseInt(f);return ma(y==0?1:y)}}function sn(e,t=!1){let i=60,n=i*60,a=n*24,l=Date.parse(new Date).toString().substr(0,10)-e;if(l<0)return`1${t?"m":"M"}`;let c=l/a;if(c>=1)return`${parseInt(c)}${t?"d":"D"}`;let d=l/n;if(d>=24)return`1${t?"d":"D"}`;if(d>=1&&d<24)return`${parseInt(d)}${t?"h":"H"}`;let p=l/i;if(p>=60)return`1${t?"h":"H"}`;if(p>=0&&p<60){let f=parseInt(p);return`${f==0?1:f}${t?"m":"M"}`}return`1${t?"m":"M"}`}function qa(e){if(!e)return"";let t=JSON.stringify(e);return(typeof t!="string"||t=="{}")&&(t=e.toString()),t}function al(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var $t={adminAgencyList:"/pagesAdmin/agency/list",adminAgencyDetail:"/pagesAdmin/agency/agency-detail",adminAgencyEdit:"/pagesAdmin/agency/agency-edit",adminAgencyEditPrice:"/pagesAdmin/agency/agency-edit-price",adminAgencyEditWithdrawInfo:"/pagesAdmin/agency/withdraw-info",adminAgencyEditName:"/pagesAdmin/agency/agency-edit-nickname",adminAgencyEditCountry:"/pagesAdmin/agency/agency-edit-country",adminAgencyEditEmail:"/pagesAdmin/agency/agency-edit-email",adminAgencyEditWhatsApp:"/pagesAdmin/agency/agency-edit-whatsapp",adminAgencyInvited:"/pagesAdmin/agency/invited",adminAgencyListSub:"/pagesAdmin/agency/list-sub",adminAgencyGirlsList:"/pagesAdmin/agency/girls-list",adminAgencyGirlsListSub:"/pagesAdmin/agency/girls-list-sub",adminAgencyDataPanel:"/pagesAdmin/agency/data-panel",adminAgencyDataHistory:"/pagesAdmin/agency/data-history",adminAgencyDataDetail:"/pagesAdmin/agency/data-detail",adminAgencyDataDetailTask:"/pagesAdmin/agency/data-detail-task",adminAgencyWithdrawRecords:"/pagesAdmin/agency/withdraw-records",adminAgencyWalletDetail:"/pagesAdmin/agency/wallet-detail",adminAgencyHandleBan:"/pagesAdmin/agency/handle-ban",adminAgencyHandleDelete:"/pagesAdmin/agency/handle-delete",adminAgencySelected:"/pagesAdmin/agency/selected-agency",adminAgencyStatus:"/pagesAdmin/agency/agency-status",adminAgencySubAgencyList:"/pagesAdmin/agency/sub-agency-list",adminAgencyWithdrawGirlList:"/pagesAdmin/agency/withdraw/girl-list",adminAgencyWithdrawSubAgentList:"/pagesAdmin/agency/withdraw/sub-agent-list",adminAgencyWithdrawSettlementDetail:"/pagesAdmin/agency/withdraw/settlement-detail",adminAgencyWithdrawEntiretyDetail:"/pagesAdmin/agency/withdraw/entirety-detail",adminAgencyWithdrawEntiretyDetailReject:"/pagesAdmin/agency/withdraw/entirety-detail-reject",adminAgencyHistoricalMemberList:"/pagesAdmin/agency/historical-list",adminAgencyWithdrawSubAgentDetail:"/pagesAdmin/agency/withdraw/sub-agent-detail",adminAuditSettlement:"/pagesAdmin/auditNew/settlement",adminAuditSettlementSub:"/pagesAdmin/auditNew/settlement-sub",adminAuditWithdraw:"/pagesAdmin/auditNew/withdraw",adminAuditWithdrawCashList:"/pagesAdmin/audit/withdraw-cash-list",adminWallet:"/pagesAdmin/wallet/wallet",adminWalletCoinStat:"/pagesAdmin/wallet/coin-stat",adminAgencyAnchorDetail:"/pagesAdmin/agencyManager/anchor-detail",adminChannelBackend:"/pagesAdmin/channel/channel-backend",adminAuditAgencyAvatar:"/pagesAdmin/auditNew/agency-avatar",adminAuditAgencyName:"/pagesAdmin/auditNew/agency-name",adminAuditCheckAllUnderReview:"/pagesAdmin/audit/check-all-under-review",adminPermissionWebManage:"/pagesAdmin/more/permission-web-manage",adminPermissionList:"/pagesAdmin/more/permission-list",adminPermissionEdit:"/pagesAdmin/more/permission-edit",adminPermissionNewAccount:"/pagesAdmin/more/permission-new-account",adminPermissionChooseRole:"/pagesAdmin/more/permission-choose-role",adminPermissionNewRole:"/pagesAdmin/more/permission-new-role",adminWhiteList:"/pagesAdmin/more/white-list",adminCallEvaluationList:"/pagesAdmin/user/call-evaluation-list",adminWarnDeviceUser:"/pagesAdmin/user/ban-device-user",adminWarnList:"/pagesAdmin/audit/warn-list",adminVersionUseList:"/pagesAdmin/more/version-use-list",adminAuditSettlementReview:"/pagesAdmin/auditNew/settlement-review",adminAuditWithdrawReview:"/pagesAdmin/auditNew/withdraw-review",adminClubApplication:"/pagesAdmin/auditNew/club-application",adminClubModification:"/pagesAdmin/auditNew/club-modification",adminClubManagement:"/pagesAdmin/club/management",warningDialog:"/pagesDialog/warning",homeFilterSexGuide:"/pagesDialog/home-filter-sex-guide",club:"/pagesClub/club",clubReachLevel:"/pagesDialog/club-reach-level",clubStatusRemind:"/pagesDialog/club-status-remind",clubApplyCreate:"/pagesClub/apply-create",clubCreateSuccess:"/pagesClub/create-success",clubRules:"/pagesDialog/club-rules",clubApplicationList:"/pagesClub/application-list",clubWarning:"/pagesDialog/club-warning",clubDisband:"/pagesDialog/club-disband",adminClubManagementSub:"/pagesAdmin/club/management-sub",adminClubTodayNew:"/pagesAdmin/club/club-today-new",adminClubNormal:"/pagesAdmin/club/club-normal",adminClubManageGirls:"/pagesAdmin/club/club-manage-girls",adminClubOperator:"/pagesAdmin/club/club-operator",adminClubDisbanded:"/pagesAdmin/club/club-disbanded",adminClubMemberList:"/pagesAdmin/club/member-new",adminClubInfo:"/pagesAdmin/club/detail-new",adminCLubWarning:"/pagesAdmin/club/warning",adminClubOperatorLog:"/pagesAdmin/club/operation-log",adminClubPersonalApplication:"/pagesAdmin/auditNew/club-application-personal",adminOutsourcingIndex:"/pagesAdmin/more/outsourcing/index",adminOutsourcingPermissionList:"/pagesAdmin/more/outsourcing/permission-list",adminOutsourcingNewRole:"/pagesAdmin/more/outsourcing/new-role",adminOutsourcingEditRole:"/pagesAdmin/more/outsourcing/edit-role",adminRefundDetail:"/pagesAdmin/refund/detail"};function Ja(e,t){let i=$t[e];return i||(i=e),i+nl(t,"&","?")}function ee(e,t=null,i=null,n=!1){let a=Ja(e,t),r={url:a,fail:s=>{F("error","at common/route.js:107",`\u6253\u5F00\u9875\u9762\u5931\u8D25${a} ${JSON.stringify(s)}`),getApp().globalData.appCRE&&a.startsWith("/pagesAdmin")&&w.zT!=3&&B.request("/sign/reload-route",{},!0)}};n&&(r=Object.assign(r,n)),i!=null&&(r.events=i),uni.navigateTo(r)}function Z(e,t,i,n,a=null){let s={url:Ja(e,t),success(l){l.eventChannel.emit(i,n)}};a!=null&&(s.events=a),uni.navigateTo(s)}function on(e=1,t="",i=""){let n={delta:e};t&&(n.animationType=t),i&&(n.animationDuration=i),uni.navigateBack(n)}function rl(e){m(e)||uni.switchTab({url:e})}function Ct(){let e=[],t=getCurrentPages();for(let i=0,n=t.length;i<n;i++){let a=t[i].$page;e.push(a.path)}return e}function Qe(e="path"){let t=getCurrentPages(),i=t[t.length-1];if(!i)return"";let n=i.$page;return n?n[e]:""}function xt(e,t){e==getApp().globalData.uid?t&&rl(Bt.MY):ee("/pages/main/user-home",{uid:e})}function dt(e,t=null,i=null){let a={uid:typeof e=="object"?e.uid:e};i&&(a=Object.assign(a,i)),Z("/pagesMsg/pri/chat",a,"priData",{user:e,extra:t})}function sl(e,t=null){let n={id:typeof e=="object"?e.club_id:e};t&&(n=Object.assign(n,t)),Z("/pagesMsg/club/chat",n,"clubData",{club:e})}function Et(){El(ri.GAME,!0)||Z("/pages/call/chat-view",{},"callViewData",{isGame:!0})}function Xa(e,t=0,i=0){if(m(e))return;if(t&&i){sl(e);return}ee("/pagesClub/info",{id:e,isMember:t})}function Za(e,t=!0){return e.startsWith("http")?e:e.startsWith("file://")?t?e:e.replace("file://",""):e.startsWith("/storage/")||e.startsWith("/var/mobile/")?t?`file://${e}`:e:e.startsWith("_doc/uniapp")?t?e:plus.io.convertLocalFileSystemURL(e):e.indexOf("apps/__UNI")!=-1?e:!1}function ln(e,t){let i=plus.io.convertLocalFileSystemURL("_doc");if(!w.isAndroid)return i+"/";let n=`${e}/`,a=i.indexOf(n),r=t?a+n.length:a;return i.substr(0,r)}function ol(){plus.runtime.restart()}function Qa(e){if(w.isAndroid)try{let t=plus.android.runtimeMainActivity();t&&t.moveTaskToBack(e)}catch(t){}}var ll=[{key:"tr",title:"T\xFCrk"},{key:"pt",title:"Portugu\xEAs"}];function Ht(e=!0){let t=G("language_app_key");if(!e||!di(t))return t;let i=gi(!1),n=lo[i];return m(n)?"en":i}function gi(e){let t=uni.getAppBaseInfo().language;return m(t)?e?"en-US":"en":e?t:t.split("-")[0]}function cl(){return G("call_automatic_source_language")||Ht()}function ul(){return!!G("call_automatic_open")}function u(...e){return getApp().globalData.s.state.pubI18n(...e)}function cn(e){function t(s,l,c){for(;0<c--;)s.push(l)}function i(s,l){return s<<l|s>>>32-l}function n(s,l,c){return s^l^c}function a(s,l){var c=(l&65535)+(s&65535),d=(l>>>16)+(s>>>16)+(c>>>16);return(d&65535)<<16|c&65535}var r="0123456789abcdef";return function(s){for(var l=[],c=s.length*4,d,p=0;p<c;p++)d=s[p>>2]>>(3-p%4)*8,l.push(r.charAt(d>>4&15)+r.charAt(d&15));return l.join("")}(function(s,l){var c,d,p,f,y,R=s.length,E=1732584193,H=4023233417,L=2562383102,k=271733878,W=3285377520,U=[];t(U,1518500249,20),t(U,1859775393,20),t(U,2400959708,20),t(U,3395469782,20),s[l>>5]|=128<<24-l%32,s[(l+65>>9<<4)+15]=l;for(var C=0;C<R;C+=16){c=E,d=H,p=L,f=k,y=W;for(var V=0,Ee=[];V<80;V++){Ee[V]=V<16?s[V+C]:i(Ee[V-3]^Ee[V-8]^Ee[V-14]^Ee[V-16],1);var je=function(M,Q,ye,Yt,Kt){var qt=(Kt&65535)+(M&65535)+(Q&65535)+(ye&65535)+(Yt&65535),Ri=(Kt>>>16)+(M>>>16)+(Q>>>16)+(ye>>>16)+(Yt>>>16)+(qt>>>16);return(Ri&65535)<<16|qt&65535}(V<20?function(M,Q,ye){return M&Q^~M&ye}(d,p,f):V<40?n(d,p,f):V<60?function(M,Q,ye){return M&Q^M&ye^Q&ye}(d,p,f):n(d,p,f),y,U[V],Ee[V],i(c,5));y=f,f=p,p=i(d,30),d=c,c=je}E=a(E,c),H=a(H,d),L=a(L,p),k=a(k,f),W=a(W,y)}return[E,H,L,k,W]}(function(s){for(var l=[],c=255,d=s.length*8,p=0;p<d;p+=8)l[p>>5]|=(s.charCodeAt(p/8)&c)<<24-p%32;return l}(e).slice(),e.length*8))}function er(e,t,i=!0){return ir(getApp().globalData.ossPicPath,e,t,i)}function ke(e,t,i=!0){return ir(getApp().globalData.ossPath,e,t,i)}function hi(e,t){uni.saveFile({tempFilePath:t}).then(i=>{if(!i||!i.savedFilePath)return;let n=cn(e);q(`img_${n}`,i.savedFilePath),nr("tempFile success")})}function tr(e){if(m(e)||e.startsWith("http"))return;let i=`img_${cn(e)}`,n=G(i);St(i),n&&uni.removeSavedFile({filePath:n})}function ir(e,t,i,n=!0){if(m(t))return"";if(t.startsWith("http")||t.startsWith("file://"))return t;if(t.startsWith("/var/mobile/"))return"file://"+t;if(t.startsWith("/storage/"))return t;let r=`img_${cn(t)}`,s=G(r);if(s){let c={filePath:s,fail(d){nr(`\u7F13\u5B58\u68C0\u6D4B\u5931\u8D25${t}`,d),St(r),typeof i=="function"&&i(e+t)},success(d){}};return typeof i=="function"&&(c.success=function(){i(s)}),uni.getFileInfo(c),s}let l=e+t;return getApp().globalData.picCacheObj[r]||(getApp().globalData.picCacheObj[r]=1,typeof i=="function"&&!n&&i(l),Al(l).then(c=>{q(r,c),typeof i=="function"&&n&&i(c),delete getApp().globalData.picCacheObj[r]}).catch(()=>{})),l}function nr(e,t){F("error","at common/cache.js:118",`cache ${e}`,t)}function un(e,t,i){return new Promise(n=>{let a=e;a.startsWith("_doc")&&(a=plus.io.convertLocalFileSystemURL(a)),getApp().globalData.pluginImageBrowser.getVideoCover({url:a},r=>{dl(`getVideoCover ${r}`),n(r)})})}function dl(e,t){F("error","at comExtend/plugin-image-browser.js:90",`preview media ${e}`,t)}var $e={CANDY_CHAT_I:"__UNI__CB903B1",CANDY_CHAT_A:"__UNI__564E31A",CHAT_NOW_A:"__UNI__DB0D401",CHAT_NOW_DEV:"__UNI__DEED62E",HOT_FACE_A:"__UNI__0D44E11",HOT_FACE_DEV:"__UNI__58DBD61",LOVE_SKY:"__UNI__0EE5E5E",DEV:"__UNI__3932C1F",DEV2:"__UNI__9C66D76",DEV3:"__UNI__8463C26"};function dn(){let e=plus.runtime.appid,t,i,n,a,r,s,l,c;switch(e){case $e.CANDY_CHAT_I:case $e.CANDY_CHAT_A:t="Candy Chat",i="https://apps.apple.com/us/app/id1596210708",n="s/logo/CandyChat.png",a="Fanfanzhijiao Network Technology Co., Ltd.",r="fanfanzhijiao2021@163.com",s="https://sites.google.com/view/candy-chat-terms-policy/terms-of-use?authuser=0",l="https://sites.google.com/view/candy-chat-terms-policy/privacy-policy?authuser=0",c="s/pub/sys_notice_bg_candy_chat.png";break;case $e.CHAT_NOW_A:case $e.CHAT_NOW_DEV:t="Chat Now",i="https://apps.apple.com/us/app/id1596210708",n="s/logo/ChatNow.png",a="Fanfanzhijiao Network Technology Co., Ltd.",r="atree0120@gmail.com",s="https://sites.google.com/view/chats-now/privacy-policy",l="https://sites.google.com/view/chats-now/user-agreement?authuser=0",c="s/pub/sys_notice_bg_chat_now.png";break;case $e.HOT_FACE_A:case $e.HOT_FACE_DEV:t="HotFace",i="https://apps.apple.com/us/app/id1596210708",n="s/logo/HotFace.png",a="Fanfanzhijiao Network Technology Co., Ltd.",r="atree0120@gmail.com",s="https://sites.google.com/view/meu-agreement/user-agreement?authuser=0",l="https://sites.google.com/view/meu-agreement/privacy-policy?authuser=0",c="s/pub/sys_notice_bg_hot_face.png";break;case $e.LOVE_SKY:t="LoveSky",i="",n="s/logo/lovesky.png",a="Fanfanzhijiao Network Technology Co., Ltd.",r="fanfanzhijiao2021@163.com",s="https://sites.google.com/view/lovesky-terms-of-use/terms-of-use?authuser=0",l="https://sites.google.com/view/lovesky-privacy-policy/privacy-policy?authuser=0";break;case $e.DEV:case $e.DEV2:case $e.DEV3:t="Candy Chat Dev",i="https://apps.apple.com/us/app/id1596210708",n="s/logo/qialiao@3x.png",a="Liuyi Cool Technology Co., Ltd.",r="support_matchstar@163.com",s="https://sites.google.com/view/lovesky-terms-of-use/terms-of-use?authuser=0",l="https://sites.google.com/view/lovesky-privacy-policy/privacy-policy?authuser=0",c="s/pub/sys_notice_bg_candy_chat.png";break}return{name:t,iosStore:i,logo:n,cName:a,cMail:r,agreement:s,privacy:l,sysNoticeBg:c}}function pl(){return getApp().globalData.pluginTool.vpnConnected()}function ml(e){return getApp().globalData.pluginTool.permissionStatusSync({permission:e})}function fl(){return getApp().globalData.pluginTool.permissionCheckAll()}function gl(){return getApp().globalData.pluginTool.locationAuthorizationStatusSync()}var ne={ALBUM:1,CAMERA:2,VIDEO:3,MICROPHONE:4,NOTIFY:5,LOCATION:6,DRAW_OVERLAYS:7,ALBUM_AND_CAMERA:101};function hl(e,t,i){if(getApp().globalData.uid!=0)return new Promise(n=>{let a;if(i==null?a=ar():a=i,a==null){n();return}let r={fromType:e,showClose:t,resList:a[0]};Z("/pagesDialog/check-permission",null,"permissionData",r,{onCloseListener:()=>{n()}})})}function ar(){let e=[],t=!0;if(w.isAndroid){let r=fl();e.push({key:"notice",value:r.notice,permission:ne.NOTIFY}),e.push({key:"camera",value:r.camera,permission:ne.CAMERA}),e.push({key:"voice",value:r.voice,permission:ne.MICROPHONE}),e.push({key:"album",value:r.storage,permission:ne.ALBUM})}else e.push({key:"notice",value:or(),permission:ne.NOTIFY}),e.push({key:"camera",value:bl(),permission:ne.CAMERA}),e.push({key:"voice",value:sr(),permission:ne.MICROPHONE}),e.push({key:"album",value:yl(),permission:ne.ALBUM});for(let r=0,s=e.length;r<s;r++)if(!e[r].value){t=!1;break}let i={};for(let r=0,s=e.length;r<s;r++){let l=e[r];i[l.key]=l.value?1:0}i.auto_translate=getApp().globalData.translateAuto?1:0;let n=ul()?1:0,a=cl();return i.audio_translate=n,i.audio_language=a,B.request("/user/sync-permission",i),[e,t]}function rr(e){if(e==ne.NOTIFY)return w.isAndroid?Pi(e):or();if(e==ne.MICROPHONE)return w.isAndroid?Pi(e):sr();if(e==ne.ALBUM_AND_CAMERA){let i=ar()[0];return i?i[1].value&&i[3].value:!0}else if(e==ne.LOCATION)return w.isAndroid?Pi(e):gl();return!0}function Pi(e){let t=_l(e);return ml(t)}function _l(e){switch(e){case ne.LOCATION:return["android.permission.ACCESS_FINE_LOCATION","android.permission.ACCESS_COARSE_LOCATION"];case ne.ALBUM:case ne.VIDEO:return["android.permission.READ_MEDIA_IMAGES","android.permission.READ_MEDIA_VIDEO"];case ne.MICROPHONE:return["android.permission.RECORD_AUDIO"];case ne.CAMERA:return["android.permission.CAMERA"];case ne.NOTIFY:return["android.permission.POST_NOTIFICATIONS"]}}function sr(){let e=plus.ios.importClass("AVCaptureDevice"),t=e.authorizationStatusForMediaType("soun");return plus.ios.deleteObject(e),t==3}function bl(){let e=plus.ios.importClass("AVCaptureDevice"),t=e.authorizationStatusForMediaType("vide");return plus.ios.deleteObject(e),t==3}function yl(){var e=!1,t=plus.ios.import("PHPhotoLibrary"),i=t.authorizationStatus();return(i==3||i==4)&&(e=!0),plus.ios.deleteObject(t),e}function or(){var e=!1,t=plus.ios.import("UIApplication"),i=t.sharedApplication(),n=0;if(i.currentUserNotificationSettings){var a=i.currentUserNotificationSettings();n=a.plusGetAttribute("types"),e=n!=0,plus.ios.deleteObject(a)}else n=i.enabledRemoteNotificationTypes(),e=n!=0;return plus.ios.deleteObject(i),plus.ios.deleteObject(t),e}function pn(e,t){getApp().globalData.s.commit("setPubValue",{name:e,value:t})}function v(e,t){getApp().globalData.s.commit(e,t)}function _i(e,t){return getApp().globalData.s.dispatch(e,t)}function At(e,t){e==We.MSG&&getApp().setNumberBadge(),t>0?uni.setTabBarBadge({index:e,text:t+""}):uni.removeTabBarBadge({index:e})}function wl(e,t=!0){t?uni.showTabBarRedDot({index:e}):uni.hideTabBarRedDot({index:e})}function Al(e){return new Promise((t,i)=>{uni.downloadFile({url:e}).then(n=>!n||n.statusCode!=200||!n.tempFilePath?(i(),new Promise(()=>{})):uni.saveFile({tempFilePath:n.tempFilePath})).then(n=>{!n||!n.savedFilePath?i():t(n.savedFilePath)}).catch(n=>{F("error","at common/common.js:65","downloadFile error "+JSON.stringify(n))})})}function mn(e,t,i){return new Promise(n=>{let a=t?e:plus.io.convertLocalFileSystemURL(e);plus.io.resolveLocalFileSystemURL(a,function(r){r.isFile?r.remove():r.isDirectory&&r.removeRecursively(),n()},function(r){F("error","at common/common.js:81","----> delFile fail "+JSON.stringify(r)),i&&n()})})}function fn(e,t="md5"){return new Promise(i=>{uni.getFileInfo({filePath:e,digestAlgorithm:t,success(n){i(n)},fail(){i(null)}})})}function fa(e,t){t?plus.runtime.openWeb(e):plus.runtime.openURL(e)}function pt(e,t,i,n=u("confirm")){et(e,t,i,"",n,!1)}function Sl(e){return["Si, desbloquear","Reenviar Completar"].indexOf(e)!=-1}function et(e,t,i,n,a=u("confirm"),r=!0,s=u("cancel"),l=!1){let c=!1;if(!w.isAndroid&&(c=Sl(a),c)){let d=a;a=s,s=d}uni.showModal({title:e,content:t,showCancel:r,cancelText:s,confirmText:a,editable:l,success(d){d.confirm?c?typeof n=="function"&&n():typeof i=="function"&&i(d):d.cancel&&(c?typeof i=="function"&&i(d):typeof n=="function"&&n())}})}function bi(e,t="none",i="center"){uni.showToast({title:e,duration:2e3,icon:t,position:i})}function gn(e){return new Promise(t=>{plus.io.getVideoInfo({filePath:e,success(i){t(i)},fail(i){t(`getVideoInfo ${JSON.stringify(i)}`)}})})}function hn(e,t){return new Promise((i,n)=>{uni.compressVideo({src:e,quality:t,success(a){F("log","at common/common.js:226","videoCompress res "+JSON.stringify(a)),i(a)},fail(a){F("log","at common/common.js:230","videoCompress error "+JSON.stringify(a)),n(`videoCompress ${JSON.stringify(a)}`)}})})}var K={LIGHT:1,DARK:2};function lr(e){q("theme_dark_dialog",1),q("theme_style",e),ol()}function zt(e){let t=Number(e);if(isNaN(t)){F("error","at common/user.js:35","\u5237\u65B0\u4F59\u989D\u5931\u8D25");return}pn("pubAccount.money",t),F("error","at common/user.js:39",`\u5237\u65B0\u4F59\u989D ${t}`)}function cr(e,t=1,i=!0){if(e=Number(e),isNaN(e))return!0;let n=getApp().pubAccount.money-e*t;return n>=0?!0:(i&&Tl(Math.abs(n),0),!1)}function Tl(e,t=0,i,n){let r=G("coin_callback"),s={};s.order_source=typeof i=="undefined"?0:i,s.click_type=typeof n=="undefined"?0:n,r?(s.fromType=t,s.diffCoin=e,Z("/pages/coin/coin-dialog",s,"coinDialogData",r)):(s.from_type=t,s.diff_coin=e,B.request("/pay/coin/callback",s,!0))}function ur(e,t,i,n){let a="";i==1?a=u("shield.userListTip",{gender:He(e.sex)}):a=u("club.shieldTip",{name:e.club_name}),et(u("tips"),a,()=>{let r={type:i,flag:t?"add":"del"};r.target_uid=i==1?e.uid:e.club_id,B.request("/user/shield",r),typeof n=="function"&&n()})}function yi(e,t){et(u("tips"),u("user.hideFormTheListTips"),()=>{let i={target_uid:e};B.request("/admin/user/hide",i),typeof t=="function"&&t()},"",u("hide"))}function wi(e){let t=getApp().pubUser.seeking_sex;return e?t:t==0?getApp().pubUser.sex==1?2:1:t}function ae(){return getApp().globalData.s.state.pubUser.is_auth}function Dt(){return!ae()&&getApp().pubUser.recharge_money>0}function Cl(){let e=getApp().globalData.admin;return e&&e.permission&&e.permission.kefu}function xl(){let e=getApp().globalData.admin;return e&&e.permission&&e.permission.check_all}function _n(){let e=getApp().globalData.admin;return!m(e)&&e.type==1}function El(e,t){let i=getApp().globalData.bannedInfos[e];if(m(i))return!1;if(t){if(v("appDialog/addDialogBan",i),Qe()=="/pagesDialog/banned")return;v("appDialog/executeBanWarningDialog")}return!0}var Yi={DEFAULT:1e4,FAIL:0,SUCCESS:1,DISCONNECT:6,RECONNECT:7},bn={INIT:"init",APP_SHOW:"app_show",TAB_SHOW:"tab_show",MSG_INDEX_REFRESH:"msg_index_refresh",STOP_TAKING_RECOVERY:"stop_taking_recovery",CATCH_MSG_SYNC:"sync_catch",API_CALL_BACK:"api_call_back",RECONNECT_LISTENER:"reconnect_listener",RECONNECT_LOCAL:"reconnect_local"};function Dl(e){return new Promise((t,i)=>{getApp().globalData.pluginDB.selectSql({sql:e},n=>{n.status==1?t(n.rows):(F("error","at comExtend/plugin-DB.js:44","db \u63D2\u4EF6 select \u6267\u884C \u9519\u8BEF "+n.message),i(n.message))})})}function vl(e){return new Promise((t,i)=>{getApp().globalData.pluginDB.executeSql({sql:e},n=>{n.status==1?t(n.rows):(F("error","at comExtend/plugin-DB.js:57","db \u63D2\u4EF6 execute \u6267\u884C \u9519\u8BEF "+n.message),i(n.message))})})}function Ve(e,t){return new Promise((i,n)=>{vl(e).then(a=>{i(a)},a=>{n(),t||fr("execute",a,e)})})}function vt(e,t){return new Promise((i,n)=>{Dl(e).then(a=>{i(a)},a=>{n(),t||fr("select",a,e)})})}function te(e){return m(e)?0:parseInt(e)}function ze(e){return m(e)?"":e}function dr(e,t){return m(e)?Math.round(t/1e3):(e+"").length==16?Math.round(e/1e3):e}function kl(){return getApp().globalData.pluginMqtt.checkStatusSync()?Yi.SUCCESS:Yi.FAIL}function Ll(){return kl()}function Il(){return Ll()==Yi.SUCCESS}var wt={getUserDesc(){let e=getApp().pubUser;return Object.keys(e).length<=3?"\u672A\u767B\u5F55":[e.uid,e.is_auth?"\u4E3B\u64AD":"\u7528\u6237",`\u7B49\u7EA7-${e.level}`,`vip${e.is_vip?"\u662F":"\u5426"}`,`\u5145\u503C${e.recharge_money}`,`\u4F59\u989D${getApp().pubAccount.money}`,`\u540E\u53F0\u8EAB\u4EFD${Rl()}`].join("|")},getActionDesc(){let e=Ct(),t=e.length;return[`\u9875\u9762: ${(t>5?e.slice(t-5):e).join(",")}`,`${getApp().globalData.catchApiUrlList.join(",")}`].join("|")},getEnvironsDesc(){let e=getApp().globalData.ua.split("|"),t=[`${e[1]}`,`app\u7248\u672C${e[2]}`,`zip\u7248\u672C${e[3]}-${e[13]}`,`${e[6]}`,`\u54C1\u724C${e[11]}`,`\u578B\u53F7${e[12]}`,`\u7F51\u7EDC${getApp().globalData.network.type}`,`MQTT${Il()?"\u662F":"\u5426"}`],i=pl();return typeof i!="undefined"&&t.push(`VPN${i?"\u662F":"\u5426"}`),t.join("|")}};function Rl(){if(_n())return"\u8D85\u7BA1";let e=[];return Cl()&&e.push("\u5BA2\u670D"),xl()&&e.push("\u5BA1\u6838"),e.length<=0?"\u65E0":e.join("\u548C")}var Bi=0;function Nl(e){return Fl(Ol(Ml(e)))}function Ol(e){return Bl($l(Pl(e),e.length*8))}function Fl(e){try{}catch(r){Bi=0}for(var t=Bi?"0123456789ABCDEF":"0123456789abcdef",i="",n,a=0;a<e.length;a++)n=e.charCodeAt(a),i+=t.charAt(n>>>4&15)+t.charAt(n&15);return i}function Ml(e){for(var t="",i=-1,n,a;++i<e.length;)n=e.charCodeAt(i),a=i+1<e.length?e.charCodeAt(i+1):0,55296<=n&&n<=56319&&56320<=a&&a<=57343&&(n=65536+((n&1023)<<10)+(a&1023),i++),n<=127?t+=String.fromCharCode(n):n<=2047?t+=String.fromCharCode(192|n>>>6&31,128|n&63):n<=65535?t+=String.fromCharCode(224|n>>>12&15,128|n>>>6&63,128|n&63):n<=2097151&&(t+=String.fromCharCode(240|n>>>18&7,128|n>>>12&63,128|n>>>6&63,128|n&63));return t}function Pl(e){for(var t=Array(e.length>>2),i=0;i<t.length;i++)t[i]=0;for(var i=0;i<e.length*8;i+=8)t[i>>5]|=(e.charCodeAt(i/8)&255)<<i%32;return t}function Bl(e){for(var t="",i=0;i<e.length*32;i+=8)t+=String.fromCharCode(e[i>>5]>>>i%32&255);return t}function $l(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var i=1732584193,n=-271733879,a=-1732584194,r=271733878,s=0;s<e.length;s+=16){var l=i,c=n,d=a,p=r;i=pe(i,n,a,r,e[s+0],7,-680876936),r=pe(r,i,n,a,e[s+1],12,-389564586),a=pe(a,r,i,n,e[s+2],17,606105819),n=pe(n,a,r,i,e[s+3],22,-1044525330),i=pe(i,n,a,r,e[s+4],7,-176418897),r=pe(r,i,n,a,e[s+5],12,1200080426),a=pe(a,r,i,n,e[s+6],17,-1473231341),n=pe(n,a,r,i,e[s+7],22,-45705983),i=pe(i,n,a,r,e[s+8],7,1770035416),r=pe(r,i,n,a,e[s+9],12,-1958414417),a=pe(a,r,i,n,e[s+10],17,-42063),n=pe(n,a,r,i,e[s+11],22,-1990404162),i=pe(i,n,a,r,e[s+12],7,1804603682),r=pe(r,i,n,a,e[s+13],12,-40341101),a=pe(a,r,i,n,e[s+14],17,-1502002290),n=pe(n,a,r,i,e[s+15],22,1236535329),i=me(i,n,a,r,e[s+1],5,-165796510),r=me(r,i,n,a,e[s+6],9,-1069501632),a=me(a,r,i,n,e[s+11],14,643717713),n=me(n,a,r,i,e[s+0],20,-373897302),i=me(i,n,a,r,e[s+5],5,-701558691),r=me(r,i,n,a,e[s+10],9,38016083),a=me(a,r,i,n,e[s+15],14,-660478335),n=me(n,a,r,i,e[s+4],20,-405537848),i=me(i,n,a,r,e[s+9],5,568446438),r=me(r,i,n,a,e[s+14],9,-1019803690),a=me(a,r,i,n,e[s+3],14,-187363961),n=me(n,a,r,i,e[s+8],20,1163531501),i=me(i,n,a,r,e[s+13],5,-1444681467),r=me(r,i,n,a,e[s+2],9,-51403784),a=me(a,r,i,n,e[s+7],14,1735328473),n=me(n,a,r,i,e[s+12],20,-1926607734),i=fe(i,n,a,r,e[s+5],4,-378558),r=fe(r,i,n,a,e[s+8],11,-2022574463),a=fe(a,r,i,n,e[s+11],16,1839030562),n=fe(n,a,r,i,e[s+14],23,-35309556),i=fe(i,n,a,r,e[s+1],4,-1530992060),r=fe(r,i,n,a,e[s+4],11,1272893353),a=fe(a,r,i,n,e[s+7],16,-155497632),n=fe(n,a,r,i,e[s+10],23,-1094730640),i=fe(i,n,a,r,e[s+13],4,681279174),r=fe(r,i,n,a,e[s+0],11,-358537222),a=fe(a,r,i,n,e[s+3],16,-722521979),n=fe(n,a,r,i,e[s+6],23,76029189),i=fe(i,n,a,r,e[s+9],4,-640364487),r=fe(r,i,n,a,e[s+12],11,-421815835),a=fe(a,r,i,n,e[s+15],16,530742520),n=fe(n,a,r,i,e[s+2],23,-995338651),i=ge(i,n,a,r,e[s+0],6,-198630844),r=ge(r,i,n,a,e[s+7],10,1126891415),a=ge(a,r,i,n,e[s+14],15,-1416354905),n=ge(n,a,r,i,e[s+5],21,-57434055),i=ge(i,n,a,r,e[s+12],6,1700485571),r=ge(r,i,n,a,e[s+3],10,-1894986606),a=ge(a,r,i,n,e[s+10],15,-1051523),n=ge(n,a,r,i,e[s+1],21,-2054922799),i=ge(i,n,a,r,e[s+8],6,1873313359),r=ge(r,i,n,a,e[s+15],10,-30611744),a=ge(a,r,i,n,e[s+6],15,-1560198380),n=ge(n,a,r,i,e[s+13],21,1309151649),i=ge(i,n,a,r,e[s+4],6,-145523070),r=ge(r,i,n,a,e[s+11],10,-1120210379),a=ge(a,r,i,n,e[s+2],15,718787259),n=ge(n,a,r,i,e[s+9],21,-343485551),i=Je(i,l),n=Je(n,c),a=Je(a,d),r=Je(r,p)}return Array(i,n,a,r)}function Ai(e,t,i,n,a,r){return Je(Ul(Je(Je(t,e),Je(n,r)),a),i)}function pe(e,t,i,n,a,r,s){return Ai(t&i|~t&n,e,t,a,r,s)}function me(e,t,i,n,a,r,s){return Ai(t&n|i&~n,e,t,a,r,s)}function fe(e,t,i,n,a,r,s){return Ai(t^i^n,e,t,a,r,s)}function ge(e,t,i,n,a,r,s){return Ai(i^(t|~n),e,t,a,r,s)}function Je(e,t){var i=(e&65535)+(t&65535),n=(e>>16)+(t>>16)+(i>>16);return n<<16|i&65535}function Ul(e,t){return e<<t|e>>>32-t}var Ki={md5:function(e){return Nl(e)}};function pr(){return"tb_error_log"}function Hl(e,t){return new Promise(i=>{let n=`SELECT * FROM ${pr()} WHERE status = ${te(e)} AND identify = '${t}' ORDER BY id DESC LIMIT 1`;vt(n,!0).then(a=>{i(a[0])})})}function Wl(e,t,i,n,a,r,s,l,c,d){return Hl(e,t).then(p=>{if(p)return Promise.resolve(!0);let f=`INSERT INTO ${pr()} (status, identify, grade, flag, user_desc, action_desc, environs_desc, error_desc, create_time, exp_time) values (${te(e)}, '${t}', ${i}, '${n}', '${Te(a)}', '${Te(r)}', '${Te(s)}', '${Te(l)}', ${te(c)}, ${te(d)})`;return Ve(f,!0)})}var Si={CRASH:1,USER:11,API_FAIL:12,API_ERROR:13,MSG_SYNC:14,DB_PLUGIN:15,FRAME:21,LISTENER:31,BUG_DB_GET_NONE:201,BUG_MSG_SYNC_PLUGIN_LOSS:202,BUG_MSG_SYNC_JS_LOSS:203},Ti={CRASH:"crash",MEMORY:"memory",LISTENER:"listener",FRAME_API:"frame_api",API:"api",DB:"db",PAYMENT:"payment",AUTH_FACE:"auth_face",CHAT_CALL:"chat_call",HOT_UPDATE:"hot_update",MESSAGE_PARSE:"message_parse",BUG:"bug"};function mr(){return getApp().globalData.uid==0?!1:w.zT==3?!0:w.appId==$e.CHAT_NOW_A||w.ENV=="dev"}var Gl=1e3;function Vl(e,t){try{if(!mr())return;let i=ni(t),n=`api-${e} ${i}`;F("error","at comCatch/catch-save.js:15","catch api fail "+n);let a=wn(n);Yl().then(r=>{let s;typeof r=="boolean"?s="\u6D4B\u8BD5\u8C37\u6B4C\u6210\u529F":s=`\u6D4B\u8BD5\u8C37\u6B4C\u5931\u8D25-${ni(r)}`,a.errorDesc=`${a.errorDesc} - ${s}`,An(Si.API_FAIL,Ti.API,a)})}catch(i){}}function jl(e,t,i){try{if(!mr())return;let n=ni(i);n=n.substring(0,120);let a=`statusCode-${i.statusCode}-${n}-api-${e}-${JSON.stringify(t)}`;F("error","at comCatch/catch-save.js:37","catch api error "+a);let r=wn(a);An(Si.API_ERROR,Ti.API,r)}catch(n){}}function fr(e,t,i){try{if(i.indexOf("tb_error_log")!=-1)return;let n=`${e} - ${t}`;i&&(n+=` - ${i}`),F("error","at comCatch/catch-save.js:74","catch db "+n),zl(Si.DB_PLUGIN,Ti.DB,n)}catch(n){}}function yn(e,t,i,n){try{let a=ni(e),r=JSON.stringify(t),s=JSON.stringify(i),l=JSON.stringify(n);a=`${a} | ${r} | ${s} | ${l}`,F("error","at comCatch/catch-save.js:118","catch message parse "+a);let c=wn(a);An(Si.USER,Ti.MESSAGE_PARSE,c)}catch(a){}}function ni(e){if(!e)return"";let t=JSON.stringify(e);return(typeof t!="string"||t=="{}")&&(t=e.toString()),t}function wn(e){return{identify:Ki.md5(e),errorDesc:e,userDesc:wt.getUserDesc(),actionDesc:wt.getActionDesc(),environsDesc:wt.getEnvironsDesc(),expTime:0}}function An(e,t,i){Wl(0,i.identify,e,t,i.userDesc,i.actionDesc,i.environsDesc,i.errorDesc,new Date().getTime(),i.expTime)}function zl(e,t,i){let n=[],a=new Date().getTime();if(a-getApp().globalData.catchApiLastReqTime<=Gl)return;getApp().globalData.catchApiLastReqTime=a,n.push({grade:e,flag:t,user_desc:wt.getUserDesc(),action_desc:wt.getActionDesc(),environs_desc:wt.getEnvironsDesc(),error_desc:i,create_time:a,createTimeStr:Ya(a)});let r={log_list:n};B.request("/monitor/record-exception-log",r)}function Yl(){return new Promise(e=>{uni.request({url:"https://google.com",method:"GET",timeout:5e3,success(t){e(!0)},fail(t){e(t)}})})}var Kl=["/monitor/index","/chat/call/log","/chat/msg/mq-log","/user/sync-permission","/monitor/record-exception-log"],ga=["/monitor/record-exception-log"],ha=5,Zt={invoke(e,t){if(Kl.indexOf(e)!=-1)return;let i="";i+=`\u63A5\u53E3=${e};`,i+=`\u53C2\u6570=${JSON.stringify(t)}`,i+=`\u65F6\u95F4=${Ya(new Date().getTime())}`,getApp().globalData.catchApiUrlList.push(`\u3010${i}\u3011`);let n=getApp().globalData.catchApiUrlList.length;n>ha&&(getApp().globalData.catchApiUrlList=getApp().globalData.catchApiUrlList.slice(n-ha))},error(e,t,i){ga.indexOf(e)==-1&&getApp().globalData.network.isConnected&&(!i||typeof i.statusCode=="undefined"||jl(e,t,i))},fail(e,t){ga.indexOf(e)==-1&&getApp().globalData.network.isConnected&&Vl(e,t)}},Sn={INIT:1,OPEN:2,CALLBACK:3,SOCKET:4,LOGIN:5},gr={BACK_APP:0,FORCE:1,PROMPT:2,HIDE:3};function hr(e,t=!0,i=!0,n=!0){if(!e)return 0;let a=0;return!e.hide_level&&e.level>0&&(a+=56),!e.hide_vip&&e.is_vip&&(a+=64),m(e.birthday)||(a+=50),t&&e.auth_status==1&&(a+=32),i&&!m(e.country_code)&&!e.hide_profile&&(n?a+=88:a+=44),a}function kt(e,t=!1){if(!t&&e.hide_profile){let i=e.uid%9999;return i<1e3&&(i="0"+i),u("mysteryer")+i}else return e.nickname||""}function Ci(e,t="small_avatar",i=!1,n=1){if(!i&&e.hide_profile)return ql(n);{if(e[t])return e[t];let a=t=="small_avatar"?"avatar":"small_avatar";return e[a]}}function ql(e){return e==2?"s/privacy/masker_list_card.png":e==3?"s/privacy/masker_card.png":"s/privacy/masker_avatar.png"}function ai(){if(getApp().pubUnreadMy.moment>0){At(We.MY,getApp().pubUnreadMy.moment);return}At(We.MY,0),wl(We.MY,getApp().pubUnreadMy.fans>0)}var A={PERMISSION:"permission",PERFECT_DATA:"perfect_data",REST:"rest",HOME_FILTER:"home_filter",GRID_GUIDE:"grid_guide",NOTIFY:"notify",HELLO:"hello",SHARE:"share",LANGUAGE_UP:"language_up",RAMADAN:"ramadan",MSG_DISTURB:"msg_disturb",CALL_DISTURB:"call_disturb",BAN:"ban",WARNING:"warning",HOME_SEX_FILTER:"home_sex_filter",CLUB_RESULT:"club_result",CLUB_DISBAND:"club_disband"},Jl={[A.HOME_FILTER]:"seeking_sex_open_time",[A.GRID_GUIDE]:"dialog_show_time_grid_guide",[A.NOTIFY]:"dialog_show_time_notify",[A.HELLO]:"dialog_show_time_hello"},qi=-99,Wt=-100,Xl={[A.HOME_FILTER]:1,[A.HOME_SEX_FILTER]:1,[A.GRID_GUIDE]:1,[A.NOTIFY]:2,[A.SHARE]:3,[A.HELLO]:4,[A.LANGUAGE_UP]:5,[A.RAMADAN]:6},Tn={[A.PERMISSION]:1,[A.PERFECT_DATA]:2,[A.REST]:3,[A.HOME_FILTER]:4,[A.HOME_SEX_FILTER]:4,[A.GRID_GUIDE]:4,[A.NOTIFY]:5,[A.SHARE]:7,[A.LANGUAGE_UP]:8};function Cn(e){return wr(A.HOME_FILTER,21600)?!1:wi(!1)!=e}function xi(e){return w.isAndroid||e||G(xn(A.GRID_GUIDE))?!1:!G("user_list_sort_"+getApp().globalData.uid)}function _r(){return rr(ne.NOTIFY)?!1:!Zl()}function br(){return G(`dialog_hello_say_hi_${getApp().globalData.uid}`)?!1:!wr(A.HELLO,6*60*60)}function yr(){let e=G(`dialog_call_disturb_${getApp().globalData.uid}`);return m(e)&&!ae()&&!getApp().globalData.isBoosting}function Zl(){let e=Qo(`${A.NOTIFY}_show_status`);if(!m(e))return!0;let t=G(xn(A.NOTIFY));return!m(t)}function xn(e){return`${Jl[e]}_${getApp().globalData.uid}`}function wr(e,t){let i=G(xn(e));if(!i)return!1;let n=new Date().getTime();return n<=i?!1:parseInt((n-i)/1e3)<=t}var _a=!1,gt=!1,Ke=0,Ut={appDialogList:[],appDialogStop:!1,appDialogCurKey:"",appDialogHelloData:!1,appBanDialogList:[],appClubResultList:[],appDialogIsShowBan:!1,appBanDialogCurKey:"",appWarningDialogCurKey:"",appClubResultCurKey:""},Ql={setDialogHelloData(e,t){e.appDialogHelloData=t},setDialogCurKey(e,t){e.appDialogCurKey=t},setDialogList(e,t){e.appDialogList=t,e.appDialogList.sort((i,n)=>i.sort-n.sort)},sortDialogList(e){e.appDialogList.sort((t,i)=>t.sort-i.sort)},resetDialogItem(e,t){let i=e.appDialogList.findIndex(n=>n.key==t.key);i!=-1&&(e.appDialogList[i].hasExec=!1,e.appDialogList[i].delay=t.delay)},resetClubResultDialogItem(e,t){let i=e.appClubResultList.findIndex(n=>n.key==t.key);i!=-1&&(e.appClubResultList[i].hasExec=!1)},delDialogItem(e,t){m(e.appDialogList)||e.appDialogList.splice(t,1)},delDialogItemByKey(e,t){if(m(e.appDialogList))return;let i=e.appDialogList.findIndex(n=>n.key==t);i!=-1&&e.appDialogList.splice(i,1)},clearDialog(e){e.appDialogStop=!0,e.appDialogList=[]},executeDialog(e,t){if(e.appBanDialogCurKey||e.appWarningDialogCurKey||e.appClubResultCurKey||m(e.appDialogList)||e.appDialogStop)return;let i=e.appDialogList[0];m(i)||i.hasExec||i.isCanExecute&&(e.appDialogList[0].hasExec=!0,$i[i.funcName](i).then(()=>{e.appDialogCurKey="";let n=e.appDialogList.indexOf(i);n!=-1&&v("appDialog/delDialogItem",n),v("appDialog/executeDialog","execute then")}))},addDialog(e,t){let i=t.key;e.appDialogStop=!0;let n=e.appDialogList.findIndex(a=>a.key==i);if(n!=-1){if(e.appDialogList[n].isAdd){e.appDialogStop=!1,e.appDialogCurKey||v("appDialog/executeDialog");return}e.appDialogList[n].isAdd=!0,e.appDialogList[n].addTime=new Date().getTime(),e.appDialogList[n].isCanExecute=!0}else{let a=ae()?1:2,r;switch(i){case A.HOME_FILTER:r=sc(a,!0);break;case A.HELLO:r=ba(t.delay);break;case A.MSG_DISTURB:r=lc(t.delay);break;case A.CALL_DISTURB:r=cc(t.delay);break;default:e.appDialogStop=!1,e.appDialogCurKey||v("appDialog/executeDialog");return}r.isAdd=!0,r.addTime=new Date().getTime(),e.appDialogList.push(r)}e.appDialogList.sort((a,r)=>a.sort==r.sort?r.addTime-a.addTime||(a.isCanExecute?Wt:0):a.sort-r.sort),!e.appDialogCurKey&&(e.appDialogCurKey=i,e.appDialogStop=!1,v("appDialog/executeDialog"))},addDialogHomeFilter(e,t){getApp().globalData.appCRE==0||!Cn(t)||v("appDialog/addDialog",{key:A.HOME_FILTER})},addDialogHomeSexFilter(e,t){getApp().globalData.appCRE!=0&&(v("appDialog/addDialog",{key:A.HOME_SEX_FILTER,value:t}),v("appDialog/sortDialogList"))},addDialogGridGuide(e,t){let i=e.appDialogList.findIndex(a=>a.key==A.GRID_GUIDE);if(xi(t)){if(i==-1)return;v("appDialog/addDialog",{key:A.GRID_GUIDE})}else i!=-1&&v("appDialog/delDialogItem",i)},addDialogNotify(e,t){t&&!_r()||ee("/pagesDialog/open-sys-notice")},addDialogHello(e,t){if(getApp().globalData.appCRE==0||_a)return;_a=!0;let i=e.appDialogList[0];if(i&&i.key==A.SHARE){Ke=30;let n=ba(Ke);n.sort=mt(ae()?1:2,A.SHARE+1),n.isAdd=!0,n.addTime=new Date().getTime(),e.appDialogList.push(n),e.appDialogList.sort((a,r)=>a.sort==r.sort?r.addTime-a.addTime||(a.isCanExecute?Wt:0):a.sort-r.sort);return}Ke=t,v("appDialog/addDialog",{key:A.HELLO,delay:t})},addDialogMsgDisturb(e,t){v("appDialog/addDialog",{key:A.MSG_DISTURB,delay:t})},addDialogCallDisturb(e,t){v("appDialog/addDialog",{key:A.CALL_DISTURB,delay:t})},delBanDialogItem(e){m(Ut.appBanDialogList)||Ut.appBanDialogList.splice(e,1)},delClubResultDialogItem(e){m(Ut.appClubResultList)||Ut.appClubResultList.splice(e,1)},addDialogBan(e,t){let i=uc(t);e.appDialogIsShowBan?uni.$emit("event_refresh_banned_data",t):(e.appBanDialogList.push(i),v("appDialog/sortBanWarningDialog"))},addDialogWarning(e,t){if(e.appBanDialogList.map(a=>a.sort).indexOf(Number(t.id))!=-1)return;let n;t.from_type==2?n=pc(t):n=dc(t),e.appBanDialogList.push(n),!(e.appBanDialogCurKey||e.appWarningDialogCurKey)&&v("appDialog/executeBanWarningDialog")},addDialogClubNoticeDialog(e,t){let i,n,a=e.appClubResultList.map(r=>r.key);t.type==co.CHECK_RESULT?(n=A.CLUB_RESULT+"_"+t.club_id,a.indexOf(n)==-1&&(i=fc(t))):(n=A.CLUB_DISBAND+"_"+t.club_id,a.indexOf(n)==-1&&(i=mc(t))),i&&e.appClubResultList.push(i),!(e.appBanDialogCurKey||e.appWarningDialogCurKey)&&(e.appClubResultCurKey||v("appDialog/executeClubNoticeDialog"))},executeBanWarningDialog(e){if(m(e.appBanDialogList)){v("appDialog/executeClubNoticeDialog");return}let t=e.appBanDialogList[0];if(m(t)||t.hasExec)return;let i=getApp().globalData.curCallId>lt.WAITING;if(i){t.isBan&&uni.$emit("event_banned_close_chat");return}e.appBanDialogList[0].hasExec=!i||!t.isBan,e.appDialogIsShowBan=t.isBan,t.isBan?e.appBanDialogCurKey="ban":e.appWarningDialogCurKey="warning",$i[t.funcName](t).then(n=>{if(t.isBan){if(e.appBanDialogCurKey="",e.appDialogIsShowBan=!1,n==1){let a=e.appBanDialogList.indexOf(t);a!=-1&&v("appDialog/delBanDialogItem",a)}}else{e.appWarningDialogCurKey="";let a=e.appBanDialogList.indexOf(t);a!=-1&&v("appDialog/delBanDialogItem",a)}v("appDialog/executeBanWarningDialog","execute then")})},executeClubNoticeDialog(e,t){if(e.appBanDialogCurKey||e.appWarningDialogCurKey)return;if(m(e.appClubResultList)){v("appDialog/executeDialog");return}let i=e.appClubResultList[0];m(i)||i.hasExec||getApp().globalData.curCallId>lt.WAITING||(e.appClubResultCurKey="club_result",e.appClubResultList[0].hasExec=!0,t&&t.delay&&(i.delay=t.delay),$i[i.funcName](i).then(()=>{e.appClubResultCurKey="";let a=e.appClubResultList.indexOf(i);a!=-1&&v("appDialog/delClubResultDialogItem",a),v("appDialog/executeClubNoticeDialog","execute then")}))},sortBanWarningDialog(e){let t=e.appBanDialogList.filter(n=>n.sort==qi),i=e.appBanDialogList.filter(n=>n.sort!=qi);i=i.sort((n,a)=>n.sort-a.sort),e.appBanDialogList=[...t,...i]}},ec={init(i,n){return De(this,arguments,function*({state:e},t){F("error","at store/modules/app-dialog.js:326","------> init dialog list, data ",t);let a=[];ae()?a=nc(t.data,t.homeViewSizeObj):a=ic(t.data,t.homeViewSizeObj),v("appDialog/setDialogList",a),v("appDialog/executeDialog")})}},tc={namespaced:!0,state:Ut,mutations:Ql,actions:ec};function ic(e,t){permissionGetAllStatus();let i=[],n=Ar(2,t,e.homeFilterSex);n&&i.push(n);let a=Sr(2,t);a&&i.push(a);let r=Tr(2,e.share);r&&i.push(r);let s=Cr(2);s&&i.push(s);let l=oc(2,e.notifyTips);return l&&i.push(l),i}function nc(e,t){let i=[],n=ac(e.authList);n&&i.push(n);let a=rc();a&&i.push(a);let r=Ar(2,t,e.homeFilterSex);r&&i.push(r);let s=Sr(1,t);s&&i.push(s);let l=5,c=Tr(1,e.share,l);c&&i.push(c);let d=Cr(1);return d&&i.push(d),i}function ac(e){return typeof e=="undefined"?null:{key:A.PERFECT_DATA,sort:Tn[A.PERFECT_DATA],delay:0,data:e,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecutePerfectData"}}function rc(){return xr()||!getApp().pubUser.is_rest?null:{key:A.REST,sort:Tn[A.REST],delay:0,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteRest"}}function sc(e,t){return{key:A.HOME_FILTER,sort:mt(e,A.HOME_FILTER),delay:0,data:{},hasExec:!1,isCanExecute:t,addTime:new Date().getTime(),funcName:"_dialogExecuteHomeFilter"}}function Ar(e,t,i){return getApp().globalData.appCRE==0||!t||!t.filter?null:{key:A.HOME_SEX_FILTER,sort:mt(e,A.HOME_SEX_FILTER),delay:0,data:{value:i,size:t.filter},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteHomeSexFilter"}}function Sr(e,t){if(getApp().globalData.appCRE==0)return null;let i="grid";if(!t||!t[i])return null;let n={sizeList:[{key:i,size:t[i]}],from_type:1};return{key:A.GRID_GUIDE,sort:mt(e,A.GRID_GUIDE),delay:0,data:n,hasExec:!1,isCanExecute:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteGridGuide"}}function Tr(e,t,i=5){return getApp().globalData.appCRE==0||m(t)||getApp().globalData.launchCount<3||Dt()?null:{key:A.SHARE,sort:mt(e,A.SHARE),delay:i,data:t,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteShare"}}function ba(e){return{key:A.HELLO,sort:Wt,delay:e,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteHello"}}function Cr(e){let t=G("user_switch_language_status");if(t)return null;let i=Ht(!1);if(t||m(i))return null;let n=ll.map(s=>s.key),a=Ht();if(n.indexOf(a)!=-1)return null;let r=gi(!1);return n.indexOf(r)==-1?null:{key:A.LANGUAGE_UP,sort:mt(e,A.LANGUAGE_UP),delay:5,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteLanguageUp"}}function oc(e,t){return m(t)||G(`stop_notify_${getApp().globalData.uid}_${t.time}`)||!rr(ne.NOTIFY)?null:{key:A.RAMADAN,sort:mt(e,A.RAMADAN),delay:5,data:t,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteRamadan"}}function lc(e){return{key:A.MSG_DISTURB,sort:Wt,delay:e,data:{from_type:1},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteMsgDisturb"}}function cc(e){return{key:A.CALL_DISTURB,sort:Wt,delay:e,data:{from_type:2},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteCallDisturb"}}function uc(e){return{key:A.BAN,sort:qi,data:e,delay:e.delay||0,hasExec:!1,isBan:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteBan"}}function dc(e){return{key:A.WARNING,sort:Number(e.id),data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteWarning"}}function pc(e){return{key:A.WARNING,sort:Number(e.id),data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubWarning"}}function mc(e){return{key:A.CLUB_DISBAND+"_"+e.club_id,data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubDisband"}}function fc(e){return{key:A.CLUB_RESULT+"_"+e.club_id,data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubResult"}}var $i={_dialogExecutePermission(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),Be(e.key,e.delay,0)&&(v("appDialog/setDialogCurKey",A.PERMISSION),hl(1,!1,e.permissionRes).then(()=>{t()}))},e.delay*1e3)})},_dialogExecutePerfectData(e){return new Promise(t=>{v("appDialog/setDialogCurKey",A.PERFECT_DATA),Z("/pagesDialog/complete-content-first",{},"DataCompleteContentFirst",e.data,{onCloseListener(){t()}})})},_dialogExecuteRest(){return new Promise(e=>{v("appDialog/setDialogCurKey",A.REST),et(u("tips"),u("anchor.rest.openedTip"),()=>{let t={user_info:{is_rest:0}};B.request("/user/update-info",t,!0,!0).then(i=>{pn("pubUser.is_rest",0),pt(u("tips"),u("anchor.rest.turnOff"),()=>{e()},u("gotIt"))},()=>{e()})},()=>{e()},u("startWorking"))})},_dialogExecuteHomeFilter(e){return new Promise(t=>{Be(e.key,e.delay,Bt.USER)&&(v("appDialog/setDialogCurKey",A.HOME_FILTER),ee("/pagesDialog/seeking-sex-guide",{},{onCloseChooseSeekingSex:i=>{uni.$emit("event_app_dialog_seeking_sex_after",i),t()}}))})},_dialogExecuteHomeSexFilter(e){return new Promise(t=>{Be(e.key,e.delay,Bt.USER)&&(v("appDialog/setDialogCurKey",A.HOME_SEX_FILTER),ee($t.homeFilterSexGuide,{params:JSON.stringify(e.data)},{onCloseListener:()=>{uni.$emit("event_handle_filter_seeking_sex"),t()}}))})},_dialogExecuteGridGuide(e){return new Promise(t=>{if(!Be(e.key,e.delay,Bt.USER))return;v("appDialog/setDialogCurKey",A.GRID_GUIDE);let i=e.data.sizeList;ee("/pagesDialog/guide-cover",{list:encodeURIComponent(JSON.stringify(i))},{onCloseGuideCover:()=>{uni.$emit("event_app_dialog_close_guide",{from_type:e.data.from_type}),t()}})})},_dialogExecuteShare(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),Be(e.key,e.delay,0)&&(v("appDialog/setDialogCurKey",A.SHARE),Z("/pagesDialog/share",{},"shareData",e.data.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteLanguageUp(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),Be(e.key,e.delay,0)&&(v("appDialog/setDialogCurKey",A.LANGUAGE_UP),q("user_switch_language_status","1"),ee("/pagesDialog/switch-language-remind",{},{onCloseListener(){t()}}))},e.delay*1e3)})},_dialogExecuteRamadan(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),Be(e.key,e.delay,0)&&(v("appDialog/setDialogCurKey",A.RAMADAN),Z("/pagesDialog/stop-notify",{},"dataStopNotify",e.data,{onCloseListener(){t()}}))},e.delay*1e3)})},_dialogExecuteHello(e){return new Promise(t=>{_c().then(i=>{if(!i){t();return}if(gt&&clearInterval(gt),e.delay<=0||Ke<=0){if(!Be(e.key,Ke,0))return;v("appDialog/setDialogCurKey",A.HELLO),ya(i,()=>{t()});return}gt=setInterval(()=>{if(!Be(e.key,Ke,0)){gt&&clearInterval(gt);return}Ke-=1,Ke<=0&&(clearInterval(gt),v("appDialog/setDialogCurKey",A.HELLO),ya(i,()=>{t()}))},1e3)})})},_dialogExecuteMsgDisturb(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),Be(e.key,e.delay,Bt.MSG)&&(v("appDialog/setDialogCurKey",A.MSG_DISTURB),ee("/pagesDialog/disturb-def",e.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteCallDisturb(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),Be(e.key,e.delay,0)&&(v("appDialog/setDialogCurKey",A.CALL_DISTURB),ee("/pagesDialog/disturb-def",e.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteBan(e){return new Promise(t=>{let i=e.exp_time;if(parseInt(new Date().getTime()/1e3)>i){t();return}let n=setTimeout(()=>{clearTimeout(n);let a=e.data.from_cache?1:0;Z("/pagesDialog/banned",{from_cache:a},"bannedDialogData",e.data,{onCloseListener:r=>{t(r)}})},e.delay*1e3)})},_dialogExecuteWarning(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),Z("/pagesDialog/warning",{},"warningDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubWarning(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),Z($t.clubWarning,{},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubDisband(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),Z($t.clubDisband,{},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubResult(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),Z($t.clubStatusRemind,{from_type:2},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})}};function Be(e,t,i){let n;return i==0?n=gc():n=hc(i),getApp().globalData.isGestureBacking||getApp().globalData.s.state.appDialog.appDialogStop||xr()||!n?(v("appDialog/resetDialogItem",{key:e,delay:t}),!1):!0}function xr(){return getApp().globalData.uid==0}function gc(){return getCurrentPages().length==1}function hc(e){let t=Ct();return t.length==1&&t[0]==e}function mt(e,t){return e==1?Tn[t]:Xl[t]}function _c(){return new Promise(e=>{let t=getApp().globalData.s.state.appDialog.appDialogHelloData;t?e(t):B.request("/user/greet-coach-list",{},!1,!0).then(i=>{m(i.data)||m(i.data.list)?e(null):(v("appDialog/setDialogHelloData",i.data),e(i.data))},i=>{e(null)})})}function ya(e,t){Z("/pagesDialog/quality-user",{},"qualityUserData",e,{onCloseListener:i=>{i&&_r()?setTimeout(()=>{v("appDialog/addDialogNotify")},2300):t()}})}var bc={curSendCont:0,msgMtimeList:[]},yc=60,wa=6,wc={addSendCount(e){e.curSendCont+=1},clearSendCount(e){e.curSendCont=0},addMsgDisturbSaveCount(e,t){let i=e.msgMtimeList.length;if(e.msgMtimeList.length<wa&&(e.msgMtimeList.push(t/1e6),i=e.msgMtimeList.length),i>=wa){let n=e.msgMtimeList[0];e.msgMtimeList[i-1]-n<=yc&&v("appDialog/addDialogMsgDisturb",2),e.msgMtimeList.splice(0,1)}}},Ac={namespaced:!0,state:bc,mutations:wc},Sc={callMtimeList:[]},Tc=60,Aa=3,Cc={addCallDisturbReceiveCount(e,t){let i=e.callMtimeList.length;if(e.callMtimeList.length<Aa&&(e.callMtimeList.push(t/1e3),i=e.callMtimeList.length),i>=Aa){let n=e.callMtimeList[0];e.callMtimeList[i-1]-n<=Tc&&v("appDialog/addDialogCallDisturb",2),e.callMtimeList.splice(0,1)}},clearCallDisturbReceiveMtime(e){e.callMtimeList=[]}},xc={namespaced:!0,state:Sc,mutations:Cc},yt=G("pubData");yt||(yt={});var Ec=["pubToken","pubUser","pubAccount","pubPrivacy"],Dc=function(e,t){if(Ec.indexOf(e)==-1)return;let i=G("pubData");i=i||{},i[e]=t,q("pubData",i),["pubUser","pubAccount"].indexOf(e)!=-1?uni.$emit("event_vuex_watch",e):uni.$emit(`event_vuex_watch_${e}`)},vc=(0,Sa.createStore)({state:{pubToken:yt.pubToken||"",pubUser:yt.pubUser||{nickname:"",uid:0,avatar:""},pubAccount:yt.pubAccount||{money:0},pubPrivacy:yt.pubPrivacy||{},pubUnread:0,pubUnreadMy:{fans:0,moment:0,moment_type:1},pubI18n:"",pubAI18n:""},mutations:{setPubValue(e,t){let i=t.name.split("."),n="",a=i.length;if(a>=2){let r=e[i[0]];for(let s=1;s<a-1;s++)r=r[i[s]];r[i[a-1]]=t.value,n=i[0]}else e[t.name]=t.value,n=t.name;Dc(n,e[n])},initUnread(e,t){let i=parseInt(t);i<0&&(i=0),e.pubUnread=i,At(We.MSG,e.pubUnread),uni.$emit("event_vuex_watch_pub_unread",i)},setUnread(e,t){let i=parseInt(t);if(isNaN(i)||i==0)return;let n=e.pubUnread+i;n<0&&(n=0),e.pubUnread=n,At(We.MSG,e.pubUnread),uni.$emit("event_vuex_watch_pub_unread",n)},initUnreadMy(e,t){let i=e.pubUnreadMy;typeof t.fans!="undefined"&&(i.fans=Number(t.fans)),typeof t.moment!="undefined"&&(i.moment=Number(t.moment)),typeof t.moment_type!="undefined"&&(i.moment_type=Number(t.moment_type)),e.pubUnreadMy=i,ai(),uni.$emit("event_vuex_watch_pubUnreadMy",i)},setUnreadMy(e,t){let i=e.pubUnreadMy;for(let n in t)i[n]=t[n];e.pubUnreadMy=i,ai(),uni.$emit("event_vuex_watch_pubUnreadMy",i)}},modules:{appDialog:tc,message:Ac,call:xc}}),qe={handleCache(){let e=qe.getCache();m(e)||(e=Ge(e),!qe.checkIsShow()&&(e.from_cache=1,v("appDialog/addDialogBan",e),v("appDialog/executeBanWarningDialog")))},checkIsShow(){return Qe()=="/pagesDialog/banned"},setCache(e){let t=JSON.stringify(e);q(qe.getCacheKey(),t)},getCache(){return G(qe.getCacheKey())},getCacheKey(){return`banned_data_${vc.state.pubUser.uid}`},removeCache(){St(qe.getCacheKey())}},B={setToken(e){m(e)||pn("pubToken",e)},isLogin(){let e=getApp().globalData.s.state;return!m(e.pubToken)&&e.pubUser.uid},requestOutsourcing(e,t,i,n,a=!1){return B.requestBase(e,t,i,n,a,3)},requestManager(e,t,i,n,a=!1){return B.requestBase(e,t,i,n,a,2)},request(e,t,i,n,a=!1){return B.requestBase(e,t,i,n,a,1)},requestBase(e,t,i,n,a=!1,r){return new Promise((s,l)=>{let c=!1;try{c=getApp().globalData.s.state.pubToken}catch(R){F("error","at common/api.js:35","request token catch "+JSON.stringify(R))}let d={"content-type":"application/json",ua:getApp().globalData.ua},p;r==1?(p=getApp().globalData.apiHost,c&&(d.auth=`Bearer ${c}`)):r==2?(p=getApp().globalData.pApiHost,c&&(d.Authorization=`Bearer ${c}`)):r==3&&(p=getApp().globalData.oApiHost,c&&(d.Authorization=`Bearer ${c}`));let f=!1;if(i)if(i=="refresh")f=!0;else{let R={mask:!0};typeof i=="string"&&(R.title=i),uni.showLoading(R)}Zt.invoke(e,t);let y=Fc(t);uni.request({url:p+e,method:"POST",header:d,data:y,dataType:"json",timeout:1e4,complete(R){if(i&&uni.hideLoading(),F("log","at common/api.js:74",`request ${e} obj ${JSON.stringify(t)}`),R.statusCode==200){let E=R.data;if(E.data&&typeof E.data.callback=="object"&&(B.handleCallback(E.data.callback),a))return _t;if(E.ok===99)return getApp().loginOut(),_t;if(E.ok==-98)return Oc(E.data),n&&l(E),_t;if(m(E.msg)||bi(E.msg),E.ok>0){s(E);return}n&&l(E)}else if(f&&uni.stopPullDownRefresh(),n)l(R),Zt.error(e,t,R);else return Zt.error(e,t,R),_t},fail(R){Zt.fail(e,R)}})})},handleCallback(e){switch(e.func_name){case"alert":kc(e.func_data);break;case"open":Lc(e.func_data);break;case"vip_alert":Z("/pages/vip/vip-dialog",null,"vipDialogData",e.func_data);break;case"recharge_alert":let t={fromType:e.func_data.from_type,diffCoin:e.func_data.diff_coin||0};t.order_source=typeof e.func_data.order_source=="undefined"?0:e.func_data.order_source,t.click_type=typeof e.func_data.click_type=="undefined"?0:e.func_data.click_type,Z("/pages/coin/coin-dialog",t,"coinDialogData",e.func_data);break;case"close":on();break;case"banned_alert":let i=e.func_data.exp_time;if(parseInt(new Date().getTime()/1e3)>i||(v("appDialog/addDialogBan",e.func_data),qe.setCache(e.func_data),Qe()=="/pagesDialog/banned"))return;let a=setTimeout(()=>{clearTimeout(a),v("appDialog/executeBanWarningDialog")},e.delay*1e3);break;case"reconnect_mqtt":getApp().socketReconnect(bn.API_CALL_BACK,e.func_data);break;case"reload_route":getApp().handleSecret(e.func_data,Sn.CALLBACK,{});break;case"event":Ic(e.func_data);break;case"api":Rc(e.func_data);break;case"sensitive_alert":Z("/pagesDialog/sensitive-check",null,"sensitiveData",e.func_data),uni.hideKeyboard();break;case"free_coins":Z("/pagesDialog/coins-free",{coin:e.func_data.free_coins},"coinsFree",{},{});break}},accessLog(e,t){this.request("/other/access-log",{api_name:e,content:bt(t)})},accessLogExtra(e,t,i){let n=`${bt(t)} ${bt(i)}`;this.request("/other/access-log",{api_name:e,content:n})},accessLogApi(e,t,i,n){let a=`url:${t} p:${JSON.stringify(i)} res ${bt(n)}`;B.accessLog(e,a)}};function kc(e){let t=e.enter_func,i=e.cancel_title,n=e.enter_title,a=e.cancel_func,r=!m(i);uni.hideKeyboard(),uni.showModal({title:e.title,content:e.msg,showCancel:r,cancelText:r?i:u("cancel"),confirmText:n||u("ok"),complete(s){s.confirm?m(t)||B.handleCallback(t):s.cancel&&(m(a)||B.handleCallback(a))}})}function Lc(e){let t=e.page_name,i=e.data;t=="inside_web"?fa(i.route,!0):t=="safari"?fa(i.route,!1):t=="web"?ee(i.route):t=="native"?Nc(i.route):t=="chat"&&(Ct().indexOf("/pages/call/chat-view")==-1?dt(i.user_info):uni.$emit("event_no_connect_close_listener",{action:"chat_pri",user:i.user_info}))}function Ic(e){let t=e.event_key;if(m(t))return;let i=e.data;m(i)?uni.$emit(t):uni.$emit(t,i)}function Rc(e){if(e.type==1){let i={user_info:{is_rest:0}};B.request("/user/update-info",i,!0).then(()=>{getApp().pubUser.is_rest=0,pt(u("tips"),u("anchorTurnedOffRest"),"",u("gotIt"))})}}function Nc(e){return new Function("return "+e)()}function Oc(e){Ct().indexOf("/pagesDialog/stop_taking")==-1&&(getApp().globalData.appStopTaking=!0,getApp().socketDisconnect(),Z("/pagesDialog/stop_taking",{},"stopTakingData",e))}function Fc(e){try{m(e)&&(e={}),e.times=new Date().getTime();let t=Object.keys(e).sort(),i={};for(let a=0,r=t.length;a<r;a++)i[t[a]]=e[t[a]];let n=Er(i).substr(1);return i.sign=Ki.md5(`${Ki.md5(n)}fMHjgD94yoc6TbB7sGoA`),i}catch(t){return e}}function Er(e,t){if(e==null)return"";try{let i="",n=typeof e;if(n=="string"||n=="number")i+="&"+t+"="+al(e);else if(n=="boolean")i+="&"+t+"="+(e?1:0);else for(let a in e){let r=t==null?a:t+Mc(a);i+=Er(e[a],r)}return i}catch(i){return""}}function Mc(e){return`${encodeURIComponent("[")}${e}${encodeURIComponent("]")}`}var x=(e,t)=>{let i=e.__vccOpts||e;for(let[n,a]of t)i[n]=a;return i};var Pc=["titleIcon","titleIconRadius","subtitleText","subtitleSize","subtitleColor","subtitleOverflow","titleAlign","backgroundImage","backgroundRepeat","blurEffect"],Bc={props:{title:{type:String,default:""},titleIcon:{type:String,default:""},titleIconRadius:{type:String,default:""},subtitleText:{type:String,default:""},subtitleSize:{type:String,default:""},subtitleColor:{type:String,default:""},subtitleOverflow:{type:String,default:""},titleAlign:{type:String,default:""},backgroundImage:{type:String,default:""},backgroundRepeat:{type:String,default:""},blurEffect:{type:String,default:""},loading:{type:Boolean,default:!1},frontColor:{type:String,default:"#ffffff"},backgroundColor:{type:String,default:"#000000"},colorAnimationDuration:{type:Number,default:0},colorAnimationTimingFunc:{type:String,default:"linear"}},created(){let e=getCurrentPages(),t=e[e.length-1];this.__$page=t,this.$watch("title",()=>{this.setNavigationBarTitle()}),this.$watch("loading",()=>{this.setNavigationBarLoading()}),this.$watch(()=>[this.frontColor,this.backgroundColor,this.colorAnimationDuration,this.colorAnimationTimingFunc],()=>{this.setNavigationBarColor()}),this.__$webview=t.$getAppWebview(),Pc.forEach(i=>{let n={};(this[i]||this[i].length>0)&&(n[i]=this[i]),this.setTitleNView(n),this.$watch(i,a=>{let r={};r[i]=a,this.setTitleNView(r)})})},beforeMount(){this.title&&this.setNavigationBarTitle(),this.setNavigationBarLoading(),this.setNavigationBarColor()},methods:{setNavigationBarTitle(){uni.setNavigationBarTitle({__page__:this.__$page,title:this.title})},setNavigationBarLoading(){uni[(this.loading?"show":"hide")+"NavigationBarLoading"]({__page__:this.__$page})},setNavigationBarColor(){uni.setNavigationBarColor({__page__:this.__$page,frontColor:this.frontColor,backgroundColor:this.backgroundColor,animation:{duration:this.colorAnimationDuration,timingFunc:this.colorAnimationTimingFunc}})},setTitleNView(e){let t=this.__$webview,i=t.getStyle();i&&i.titleNView&&t.setStyle({titleNView:e})}}};function $c(e,t,i,n,a,r){return(0,oe.openBlock)(),(0,oe.createElementBlock)("view",{style:{display:"none"},renderWhole:!0})}var Uc=x(Bc,[["render",$c]]),Hc={name:"PageMeta",setup(e,{emit:t}){Ta(i=>{t("resize",i)})},props:{backgroundTextStyle:{type:String,default:"dark",validator(e){return["dark","light"].indexOf(e)!==-1}},backgroundColor:{type:String,default:"#ffffff"},backgroundColorTop:{type:String,default:"#ffffff"},backgroundColorBottom:{type:String,default:"#ffffff"},scrollTop:{type:String,default:""},scrollDuration:{type:Number,default:300},pageStyle:{type:String,default:""},enablePullDownRefresh:{type:[Boolean,String],default:!1},rootFontSize:{type:String,default:""}},created(){let e=getCurrentPages()[0];this.$pageVm=e.$vm||e,this._currentWebview=e.$getAppWebview(),this.enablePullDownRefresh&&this.setPullDownRefresh(this._currentWebview,!0),this.$watch("enablePullDownRefresh",t=>{this.setPullDownRefresh(this._currentWebview,t)}),this.$watch("backgroundTextStyle",()=>{this.setBackgroundTextStyle()}),this.$watch(()=>[this.rootFontSize,this.pageStyle],()=>{this.setPageMeta()}),this.$watch(()=>[this.backgroundColor,this.backgroundColorTop,this.backgroundColorBottom],()=>{this.setBackgroundColor()}),this.$watch(()=>[this.scrollTop,this.scrollDuration],()=>{this.pageScrollTo()})},beforeMount(){this.setBackgroundColor(),(this.rootFontSize||this.pageStyle)&&this.setPageMeta(),this.backgroundTextStyle&&this.setBackgroundTextStyle()},mounted(){this.scrollTop&&this.pageScrollTo()},methods:{setPullDownRefresh(e,t){e.setStyle({pullToRefresh:{support:t,style:plus.os.name==="Android"?"circle":"default"}})},setPageMeta(){uni.setPageMeta({pageStyle:this.pageStyle,rootFontSize:this.rootFontSize})},setBackgroundTextStyle(){},setBackgroundColor(){},pageScrollTo(){let e=String(this.scrollTop);e.indexOf("rpx")!==-1&&(e=uni.upx2px(e.replace("rpx",""))),e=parseFloat(e),!isNaN(e)&&uni.pageScrollTo({scrollTop:e,duration:this.scrollDuration,success:()=>{}})}}};function Wc(e,t,i,n,a,r){return(0,oe.openBlock)(),(0,oe.createElementBlock)("view",{style:{display:"none"},renderWhole:!0},[(0,oe.renderSlot)(e.$slots,"default")])}var Gc=x(Hc,[["render",Wc]]),Vc={props:{useBg1_1:{type:Boolean,default:!1},otherStyle:{type:String,default:""},enableRefresh:{type:Boolean,default:!1},title:{type:String,default:""}},data(){return{themeObj:getApp().globalData.themeObj}},computed:{style(){let e=`background:${this.useBg1_1?this.themeObj.color.bg1_1:this.themeObj.color.bg1};`;return m(this.otherStyle)||(e=e+this.otherStyle),e},navBarFontColor(){return this.themeObj.style==K.LIGHT?"#000000":"#FFFFFF"},navBarBgColor(){return this.themeObj.color.bg2}}};function jc(e,t,i,n,a,r){let s=D((0,oe.resolveDynamicComponent)("navigation-bar"),Uc),l=D((0,oe.resolveDynamicComponent)("page-meta"),Gc);return(0,oe.openBlock)(),(0,oe.createBlock)(l,{"page-style":r.style,"enable-pull-down-refresh":i.enableRefresh},{default:(0,oe.withCtx)(()=>[(0,oe.createVNode)(s,{title:i.title,"background-color":r.navBarBgColor,"front-color":r.navBarFontColor},null,8,["title","background-color","front-color"])]),_:1},8,["page-style","enable-pull-down-refresh"])}var En=x(Vc,[["render",jc]]),Dr={data(){return{themeObj:getApp().globalData.themeObj,webStyle:!1,currentWebview:!1,loadTitleViewCount:0}},computed:{pageBgColor(){return this.useBg1_1?this.themeObj.color.bg1_1:this.themeObj.color.bg1},pageBg(){return{background:this.pageBgColor}},navBarFontColor(){return this.themeObj.style==K.LIGHT?"#000000":"#FFFFFF"}},methods:{initNavBarRBtn(e,t,i,n=""){this._setNavBar(e,t,i?this.themeObj.color.barBtn:this.themeObj.color.barBtnN,"14px",n)},initNavBarRBtnText(e,t,i="",n="14px"){let a=i||this.navBarFontColor;this._setNavBar(e,t,a,n)},initNavBarRBtnType(e,t,i){let n=i||(this.themeObj.style==K.LIGHT?"#000000":"#FFFFFF");this._setNavBarType(e,t,n)},initNavBarRBtnTextIcon(e,t,i="22px"){let n=this.themeObj.style==K.LIGHT?"#000000":"#FFFFFF";this._setNavBar(e,t,n,i)},initNavBarRImg(e,t){this._setNavBarImg(e,t)},initNavBarImgStyle(e,t){this._setNavBarImgStyle(e,t)},setNavBarRBtnStatus(e,t){this._setNavBarColor(e,t?this.themeObj.color.barBtn:this.themeObj.color.barBtnN)},setNavBarTitle(e){this._setNavBarTitle(e)},_setNavBarImgStyle(e,t){let i=this.webStyle.titleNView;if(i&&i.tags&&i.tags[t]){let n=i.tags[t].position,a=Object.assign(n,e);i.tags[t].position=a,this.currentWebview.setStyle({titleNView:i})}},_setNavBar(e,t,i,n,a){let r=this.webStyle.titleNView;a&&(r.titleText=a),r&&r.buttons&&r.buttons[t]&&(r.buttons[t].text=e,r.buttons[t].color=i,r.buttons[t].fontSize=n,this.currentWebview.setStyle({titleNView:r}))},_setNavBarType(e,t,i){let n=this.webStyle.titleNView;n&&n.buttons&&n.buttons[t]&&(n.buttons[t].type=e,n.buttons[t].color=i,this.currentWebview.setStyle({titleNView:n}))},_setNavBarImg(e,t){let i=this.webStyle.titleNView;i&&i.tags&&i.tags[t]&&(i.tags[t].src=e,this.currentWebview.setStyle({titleNView:i}))},_setNavBarColor(e,t){let i=this.webStyle.titleNView;i&&i.buttons&&i.buttons[e]&&(i.buttons[e].color=t,this.currentWebview.setStyle({titleNView:i}))},_setNavBarTitle(e=""){let t=this.webStyle.titleNView;t&&e&&(t.titleText=e,this.currentWebview.setStyle({titleNView:t}))},_setViewBg(e,t,i){try{if(this.webStyle=this.currentWebview.getStyle(),i&&typeof this.webStyle.titleNView=="undefined"&&this.loadTitleViewCount<10){this.loadTitleViewCount+=1,setTimeout(()=>{this._setViewBg(e,t)},100);return}this.webStyle.titleNView?(this.webStyle.titleNView.splitLine&&(this.webStyle.titleNView.splitLine.color=e),this.webStyle.titleNView.titleColor&&(this.webStyle.titleNView.titleColor=this.navBarFontColor),this.webStyle.titleNView.backgroundColor&&(this.webStyle.titleNView.backgroundColor=this.themeObj.color.bg2),this.currentWebview.setStyle({titleNView:this.webStyle.titleNView})):uni.setNavigationBarColor({frontColor:this.navBarFontColor}),this.webStyle.background=t,this.currentWebview.setStyle({background:t})}catch(n){F("error","at coms/theme.mixin.js:133","error theme.mixin.js catch ...",n)}}},onReady(){let e,t;this.themeObj.style==K.LIGHT?e="rgba(230,230,230,0.5)":e=this.themeObj.color.bg2,t=this.useBg1_1?this.themeObj.color.bg1_1:this.themeObj.color.bg1;let i=getCurrentPages(),n=i[i.length-1];if(!n)return;this.currentWebview=n.$getAppWebview();let a,r=this.currentWebview.getNavigationbar();m(r)||Object.keys(r).length<=0?a=!0:a=!1,this._setViewBg(e,t,a)}};var o=z(Y());var X=z(Y()),zc={"l-img":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"place-img":{"":{position:"absolute",top:0,left:0}},"text-place":{"":{color:"#999999",position:"absolute",bottom:0,textAlign:"center"}}},Yc={name:"LImg",emits:["click","onError","onLoad"],props:{src:{type:String,default:""},mode:{type:String,default:"aspectFill"},w:{type:String,default:"0"},h:{type:String,default:"0"},radius:{type:String,default:"0"},lazyLoad:{type:Boolean,default:!1},fade:{type:Boolean,default:!0},placeType:{type:Number,default:0},placeW:{type:String,default:""},placeFontSize:{type:[String,Boolean],default:""},placeBottom:{type:String,default:""},border:{type:String,default:""},otherStyle:{type:Object,default(){return{}}},click:{type:Boolean,default:!0},isGif:{type:Boolean,default:!1},needStyle:{type:[String,Number],default:0},useCache:{type:Boolean,default:!1},fitWH:{type:String,default:""}},data(){return{errorCount:1,path:"",refresh:!0,darkDir:"",isLoad:!1,fitStr:""}},watch:{src(){this.isLoad=!1,this.path=this.parse()}},computed:{placeSrc(){return this.placeType==1?"/static/img_load_s.png":this.placeType==2?"/static/img_load_b.png":""},placeViewStyle(){let e={width:this.placeW,height:this.placeW,position:"relative"};return this.placeBottom&&(e.marginBottom=this.placeBottom),e},placeFontSizeVal(){return this.placeFontSize===!1?"":this.placeFontSize?this.placeFontSize:this.placeType==2?"24rpx":"16rpx"},borderStyle(){if(this.border=="")return{};let e={},t=this.border.split(" ");return e.borderWidth=t[0],e.borderStyle=t[1],e.borderColor=t[2],e},viewStyle(){let e={width:this.w,minWidth:this.w,height:this.h,minHeight:this.h};return this.setRadius(e)},imgStyle(){let e={width:this.w,height:this.h};return e=Object.assign(e,this.otherStyle),this.setRadius(e)},ossPathOriginal(){return this.isGif?getApp().globalData.ossPath:getApp().globalData.ossPicPath}},methods:{$str:u,clickImg(e){this.click&&this.$emit("click",e)},setRadius(e){let t=this.radius.split(" ");return t.length<=1?e.borderRadius=this.radius:(e.borderTopLeftRadius=t[0],e.borderTopRightRadius=t[1],e.borderBottomRightRadius=t[2],e.borderBottomLeftRadius=t[3]),e},onLoadError(){if(this.path){if(this.path.startsWith("http")){if(this.errorCount>2){this.isError=!0,this.$emit("onError");return}this.errorCount+=1,this.refresh=!1,setTimeout(()=>{this.refresh=!0},500);return}this.path=this.ossPathOriginal+this.darkDir+this.src,tr(this.darkDir+this.src)}},onLoad(){this.isLoad=!0,this.$emit("onLoad")},parse(){let e;if(e=0,this.src.startsWith("/static"))return this.src;if(this.src.startsWith("s/")){let t=getApp().getAppFilePath(this.darkDir+this.src,e);if(!m(t))return t}return this.useCache||e&&w.isAndroid?this.isGif?ke(this.fitStr+this.darkDir+this.src):er(this.fitStr+this.darkDir+this.src):this.src.startsWith("file://")?this.src:this.src.startsWith("/var/mobile/")?"file://"+this.src:this.src.startsWith("/storage/")?this.src:this.ossPathOriginal+this.fitStr+this.darkDir+this.src}},created(){this.needStyle==1&&getApp().globalData.themeObj.style==K.DARK?this.darkDir="dark/":this.darkDir="",this.fitWH&&this.src.indexOf("fit-in")==-1&&(this.fitStr="fit-in/"+this.fitWH+"/"),this.path=this.parse()}};function Kc(e,t,i,n,a,r){return(0,X.openBlock)(),(0,X.createElementBlock)("view",{class:"l-img",onClick:t[2]||(t[2]=(...s)=>r.clickImg&&r.clickImg(...s)),style:(0,X.normalizeStyle)([r.viewStyle,r.borderStyle]),renderWhole:!0},[(0,X.createElementVNode)("view",{class:"l-img",style:(0,X.normalizeStyle)([{position:"relative"},r.viewStyle])},[i.placeType&&!a.isLoad?((0,X.openBlock)(),(0,X.createElementBlock)("view",{key:0,style:(0,X.normalizeStyle)(r.placeViewStyle)},[(0,X.createElementVNode)("u-image",{src:r.placeSrc,style:(0,X.normalizeStyle)({width:i.placeW,height:i.placeW})},null,12,["src"]),r.placeFontSizeVal?((0,X.openBlock)(),(0,X.createElementBlock)("u-text",{key:0,class:"text-place",style:(0,X.normalizeStyle)({fontSize:r.placeFontSizeVal,width:i.placeW})},(0,X.toDisplayString)(r.$str("loading"))+"...",5)):(0,X.createCommentVNode)("",!0)],4)):(0,X.createCommentVNode)("",!0),a.refresh?((0,X.openBlock)(),(0,X.createElementBlock)("u-image",{key:1,onError:t[0]||(t[0]=(...s)=>r.onLoadError&&r.onLoadError(...s)),onLoad:t[1]||(t[1]=(...s)=>r.onLoad&&r.onLoad(...s)),src:a.path,mode:i.mode,lazyLoad:i.lazyLoad,fadeShow:i.fade,style:(0,X.normalizeStyle)([r.imgStyle,r.borderStyle]),class:"place-img"},null,44,["src","mode","lazyLoad","fadeShow"])):(0,X.createCommentVNode)("",!0)],4)],4)}var $=x(Yc,[["render",Kc],["styles",[zc]]]);var T=z(Y());var tt=z(Y());var qc={id:"2852637",name:"uniui\u56FE\u6807\u5E93",font_family:"uniicons",css_prefix_text:"uniui-",description:"",glyphs:[{icon_id:"25027049",name:"yanse",font_class:"color",unicode:"e6cf",unicode_decimal:59087},{icon_id:"25027048",name:"wallet",font_class:"wallet",unicode:"e6b1",unicode_decimal:59057},{icon_id:"25015720",name:"settings-filled",font_class:"settings-filled",unicode:"e6ce",unicode_decimal:59086},{icon_id:"25015434",name:"shimingrenzheng-filled",font_class:"auth-filled",unicode:"e6cc",unicode_decimal:59084},{icon_id:"24934246",name:"shop-filled",font_class:"shop-filled",unicode:"e6cd",unicode_decimal:59085},{icon_id:"24934159",name:"staff-filled-01",font_class:"staff-filled",unicode:"e6cb",unicode_decimal:59083},{icon_id:"24932461",name:"VIP-filled",font_class:"vip-filled",unicode:"e6c6",unicode_decimal:59078},{icon_id:"24932462",name:"plus_circle_fill",font_class:"plus-filled",unicode:"e6c7",unicode_decimal:59079},{icon_id:"24932463",name:"folder_add-filled",font_class:"folder-add-filled",unicode:"e6c8",unicode_decimal:59080},{icon_id:"24932464",name:"yanse-filled",font_class:"color-filled",unicode:"e6c9",unicode_decimal:59081},{icon_id:"24932465",name:"tune-filled",font_class:"tune-filled",unicode:"e6ca",unicode_decimal:59082},{icon_id:"24932455",name:"a-rilidaka-filled",font_class:"calendar-filled",unicode:"e6c0",unicode_decimal:59072},{icon_id:"24932456",name:"notification-filled",font_class:"notification-filled",unicode:"e6c1",unicode_decimal:59073},{icon_id:"24932457",name:"wallet-filled",font_class:"wallet-filled",unicode:"e6c2",unicode_decimal:59074},{icon_id:"24932458",name:"paihangbang-filled",font_class:"medal-filled",unicode:"e6c3",unicode_decimal:59075},{icon_id:"24932459",name:"gift-filled",font_class:"gift-filled",unicode:"e6c4",unicode_decimal:59076},{icon_id:"24932460",name:"fire-filled",font_class:"fire-filled",unicode:"e6c5",unicode_decimal:59077},{icon_id:"24928001",name:"refreshempty",font_class:"refreshempty",unicode:"e6bf",unicode_decimal:59071},{icon_id:"24926853",name:"location-ellipse",font_class:"location-filled",unicode:"e6af",unicode_decimal:59055},{icon_id:"24926735",name:"person-filled",font_class:"person-filled",unicode:"e69d",unicode_decimal:59037},{icon_id:"24926703",name:"personadd-filled",font_class:"personadd-filled",unicode:"e698",unicode_decimal:59032},{icon_id:"24923351",name:"back",font_class:"back",unicode:"e6b9",unicode_decimal:59065},{icon_id:"24923352",name:"forward",font_class:"forward",unicode:"e6ba",unicode_decimal:59066},{icon_id:"24923353",name:"arrowthinright",font_class:"arrow-right",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923353",name:"arrowthinright",font_class:"arrowthinright",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrow-left",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrowthinleft",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923355",name:"arrowthinup",font_class:"arrow-up",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923355",name:"arrowthinup",font_class:"arrowthinup",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923356",name:"arrowthindown",font_class:"arrow-down",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923356",name:"arrowthindown",font_class:"arrowthindown",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923349",name:"arrowdown",font_class:"bottom",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923349",name:"arrowdown",font_class:"arrowdown",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923346",name:"arrowright",font_class:"right",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923346",name:"arrowright",font_class:"arrowright",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923347",name:"arrowup",font_class:"top",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923347",name:"arrowup",font_class:"arrowup",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923348",name:"arrowleft",font_class:"left",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923348",name:"arrowleft",font_class:"arrowleft",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923334",name:"eye",font_class:"eye",unicode:"e651",unicode_decimal:58961},{icon_id:"24923335",name:"eye-filled",font_class:"eye-filled",unicode:"e66a",unicode_decimal:58986},{icon_id:"24923336",name:"eye-slash",font_class:"eye-slash",unicode:"e6b3",unicode_decimal:59059},{icon_id:"24923337",name:"eye-slash-filled",font_class:"eye-slash-filled",unicode:"e6b4",unicode_decimal:59060},{icon_id:"24923305",name:"info-filled",font_class:"info-filled",unicode:"e649",unicode_decimal:58953},{icon_id:"24923299",name:"reload-01",font_class:"reload",unicode:"e6b2",unicode_decimal:59058},{icon_id:"24923195",name:"mic_slash_fill",font_class:"micoff-filled",unicode:"e6b0",unicode_decimal:59056},{icon_id:"24923165",name:"map-pin-ellipse",font_class:"map-pin-ellipse",unicode:"e6ac",unicode_decimal:59052},{icon_id:"24923166",name:"map-pin",font_class:"map-pin",unicode:"e6ad",unicode_decimal:59053},{icon_id:"24923167",name:"location",font_class:"location",unicode:"e6ae",unicode_decimal:59054},{icon_id:"24923064",name:"starhalf",font_class:"starhalf",unicode:"e683",unicode_decimal:59011},{icon_id:"24923065",name:"star",font_class:"star",unicode:"e688",unicode_decimal:59016},{icon_id:"24923066",name:"star-filled",font_class:"star-filled",unicode:"e68f",unicode_decimal:59023},{icon_id:"24899646",name:"a-rilidaka",font_class:"calendar",unicode:"e6a0",unicode_decimal:59040},{icon_id:"24899647",name:"fire",font_class:"fire",unicode:"e6a1",unicode_decimal:59041},{icon_id:"24899648",name:"paihangbang",font_class:"medal",unicode:"e6a2",unicode_decimal:59042},{icon_id:"24899649",name:"font",font_class:"font",unicode:"e6a3",unicode_decimal:59043},{icon_id:"24899650",name:"gift",font_class:"gift",unicode:"e6a4",unicode_decimal:59044},{icon_id:"24899651",name:"link",font_class:"link",unicode:"e6a5",unicode_decimal:59045},{icon_id:"24899652",name:"notification",font_class:"notification",unicode:"e6a6",unicode_decimal:59046},{icon_id:"24899653",name:"staff",font_class:"staff",unicode:"e6a7",unicode_decimal:59047},{icon_id:"24899654",name:"VIP",font_class:"vip",unicode:"e6a8",unicode_decimal:59048},{icon_id:"24899655",name:"folder_add",font_class:"folder-add",unicode:"e6a9",unicode_decimal:59049},{icon_id:"24899656",name:"tune",font_class:"tune",unicode:"e6aa",unicode_decimal:59050},{icon_id:"24899657",name:"shimingrenzheng",font_class:"auth",unicode:"e6ab",unicode_decimal:59051},{icon_id:"24899565",name:"person",font_class:"person",unicode:"e699",unicode_decimal:59033},{icon_id:"24899566",name:"email-filled",font_class:"email-filled",unicode:"e69a",unicode_decimal:59034},{icon_id:"24899567",name:"phone-filled",font_class:"phone-filled",unicode:"e69b",unicode_decimal:59035},{icon_id:"24899568",name:"phone",font_class:"phone",unicode:"e69c",unicode_decimal:59036},{icon_id:"24899570",name:"email",font_class:"email",unicode:"e69e",unicode_decimal:59038},{icon_id:"24899571",name:"personadd",font_class:"personadd",unicode:"e69f",unicode_decimal:59039},{icon_id:"24899558",name:"chatboxes-filled",font_class:"chatboxes-filled",unicode:"e692",unicode_decimal:59026},{icon_id:"24899559",name:"contact",font_class:"contact",unicode:"e693",unicode_decimal:59027},{icon_id:"24899560",name:"chatbubble-filled",font_class:"chatbubble-filled",unicode:"e694",unicode_decimal:59028},{icon_id:"24899561",name:"contact-filled",font_class:"contact-filled",unicode:"e695",unicode_decimal:59029},{icon_id:"24899562",name:"chatboxes",font_class:"chatboxes",unicode:"e696",unicode_decimal:59030},{icon_id:"24899563",name:"chatbubble",font_class:"chatbubble",unicode:"e697",unicode_decimal:59031},{icon_id:"24881290",name:"upload-filled",font_class:"upload-filled",unicode:"e68e",unicode_decimal:59022},{icon_id:"24881292",name:"upload",font_class:"upload",unicode:"e690",unicode_decimal:59024},{icon_id:"24881293",name:"weixin",font_class:"weixin",unicode:"e691",unicode_decimal:59025},{icon_id:"24881274",name:"compose",font_class:"compose",unicode:"e67f",unicode_decimal:59007},{icon_id:"24881275",name:"qq",font_class:"qq",unicode:"e680",unicode_decimal:59008},{icon_id:"24881276",name:"download-filled",font_class:"download-filled",unicode:"e681",unicode_decimal:59009},{icon_id:"24881277",name:"pengyouquan",font_class:"pyq",unicode:"e682",unicode_decimal:59010},{icon_id:"24881279",name:"sound",font_class:"sound",unicode:"e684",unicode_decimal:59012},{icon_id:"24881280",name:"trash-filled",font_class:"trash-filled",unicode:"e685",unicode_decimal:59013},{icon_id:"24881281",name:"sound-filled",font_class:"sound-filled",unicode:"e686",unicode_decimal:59014},{icon_id:"24881282",name:"trash",font_class:"trash",unicode:"e687",unicode_decimal:59015},{icon_id:"24881284",name:"videocam-filled",font_class:"videocam-filled",unicode:"e689",unicode_decimal:59017},{icon_id:"24881285",name:"spinner-cycle",font_class:"spinner-cycle",unicode:"e68a",unicode_decimal:59018},{icon_id:"24881286",name:"weibo",font_class:"weibo",unicode:"e68b",unicode_decimal:59019},{icon_id:"24881288",name:"videocam",font_class:"videocam",unicode:"e68c",unicode_decimal:59020},{icon_id:"24881289",name:"download",font_class:"download",unicode:"e68d",unicode_decimal:59021},{icon_id:"24879601",name:"help",font_class:"help",unicode:"e679",unicode_decimal:59001},{icon_id:"24879602",name:"navigate-filled",font_class:"navigate-filled",unicode:"e67a",unicode_decimal:59002},{icon_id:"24879603",name:"plusempty",font_class:"plusempty",unicode:"e67b",unicode_decimal:59003},{icon_id:"24879604",name:"smallcircle",font_class:"smallcircle",unicode:"e67c",unicode_decimal:59004},{icon_id:"24879605",name:"minus-filled",font_class:"minus-filled",unicode:"e67d",unicode_decimal:59005},{icon_id:"24879606",name:"micoff",font_class:"micoff",unicode:"e67e",unicode_decimal:59006},{icon_id:"24879588",name:"closeempty",font_class:"closeempty",unicode:"e66c",unicode_decimal:58988},{icon_id:"24879589",name:"clear",font_class:"clear",unicode:"e66d",unicode_decimal:58989},{icon_id:"24879590",name:"navigate",font_class:"navigate",unicode:"e66e",unicode_decimal:58990},{icon_id:"24879591",name:"minus",font_class:"minus",unicode:"e66f",unicode_decimal:58991},{icon_id:"24879592",name:"image",font_class:"image",unicode:"e670",unicode_decimal:58992},{icon_id:"24879593",name:"mic",font_class:"mic",unicode:"e671",unicode_decimal:58993},{icon_id:"24879594",name:"paperplane",font_class:"paperplane",unicode:"e672",unicode_decimal:58994},{icon_id:"24879595",name:"close",font_class:"close",unicode:"e673",unicode_decimal:58995},{icon_id:"24879596",name:"help-filled",font_class:"help-filled",unicode:"e674",unicode_decimal:58996},{icon_id:"24879597",name:"plus-filled",font_class:"paperplane-filled",unicode:"e675",unicode_decimal:58997},{icon_id:"24879598",name:"plus",font_class:"plus",unicode:"e676",unicode_decimal:58998},{icon_id:"24879599",name:"mic-filled",font_class:"mic-filled",unicode:"e677",unicode_decimal:58999},{icon_id:"24879600",name:"image-filled",font_class:"image-filled",unicode:"e678",unicode_decimal:59e3},{icon_id:"24855900",name:"locked-filled",font_class:"locked-filled",unicode:"e668",unicode_decimal:58984},{icon_id:"24855901",name:"info",font_class:"info",unicode:"e669",unicode_decimal:58985},{icon_id:"24855903",name:"locked",font_class:"locked",unicode:"e66b",unicode_decimal:58987},{icon_id:"24855884",name:"camera-filled",font_class:"camera-filled",unicode:"e658",unicode_decimal:58968},{icon_id:"24855885",name:"chat-filled",font_class:"chat-filled",unicode:"e659",unicode_decimal:58969},{icon_id:"24855886",name:"camera",font_class:"camera",unicode:"e65a",unicode_decimal:58970},{icon_id:"24855887",name:"circle",font_class:"circle",unicode:"e65b",unicode_decimal:58971},{icon_id:"24855888",name:"checkmarkempty",font_class:"checkmarkempty",unicode:"e65c",unicode_decimal:58972},{icon_id:"24855889",name:"chat",font_class:"chat",unicode:"e65d",unicode_decimal:58973},{icon_id:"24855890",name:"circle-filled",font_class:"circle-filled",unicode:"e65e",unicode_decimal:58974},{icon_id:"24855891",name:"flag",font_class:"flag",unicode:"e65f",unicode_decimal:58975},{icon_id:"24855892",name:"flag-filled",font_class:"flag-filled",unicode:"e660",unicode_decimal:58976},{icon_id:"24855893",name:"gear-filled",font_class:"gear-filled",unicode:"e661",unicode_decimal:58977},{icon_id:"24855894",name:"home",font_class:"home",unicode:"e662",unicode_decimal:58978},{icon_id:"24855895",name:"home-filled",font_class:"home-filled",unicode:"e663",unicode_decimal:58979},{icon_id:"24855896",name:"gear",font_class:"gear",unicode:"e664",unicode_decimal:58980},{icon_id:"24855897",name:"smallcircle-filled",font_class:"smallcircle-filled",unicode:"e665",unicode_decimal:58981},{icon_id:"24855898",name:"map-filled",font_class:"map-filled",unicode:"e666",unicode_decimal:58982},{icon_id:"24855899",name:"map",font_class:"map",unicode:"e667",unicode_decimal:58983},{icon_id:"24855825",name:"refresh-filled",font_class:"refresh-filled",unicode:"e656",unicode_decimal:58966},{icon_id:"24855826",name:"refresh",font_class:"refresh",unicode:"e657",unicode_decimal:58967},{icon_id:"24855808",name:"cloud-upload",font_class:"cloud-upload",unicode:"e645",unicode_decimal:58949},{icon_id:"24855809",name:"cloud-download-filled",font_class:"cloud-download-filled",unicode:"e646",unicode_decimal:58950},{icon_id:"24855810",name:"cloud-download",font_class:"cloud-download",unicode:"e647",unicode_decimal:58951},{icon_id:"24855811",name:"cloud-upload-filled",font_class:"cloud-upload-filled",unicode:"e648",unicode_decimal:58952},{icon_id:"24855813",name:"redo",font_class:"redo",unicode:"e64a",unicode_decimal:58954},{icon_id:"24855814",name:"images-filled",font_class:"images-filled",unicode:"e64b",unicode_decimal:58955},{icon_id:"24855815",name:"undo-filled",font_class:"undo-filled",unicode:"e64c",unicode_decimal:58956},{icon_id:"24855816",name:"more",font_class:"more",unicode:"e64d",unicode_decimal:58957},{icon_id:"24855817",name:"more-filled",font_class:"more-filled",unicode:"e64e",unicode_decimal:58958},{icon_id:"24855818",name:"undo",font_class:"undo",unicode:"e64f",unicode_decimal:58959},{icon_id:"24855819",name:"images",font_class:"images",unicode:"e650",unicode_decimal:58960},{icon_id:"24855821",name:"paperclip",font_class:"paperclip",unicode:"e652",unicode_decimal:58962},{icon_id:"24855822",name:"settings",font_class:"settings",unicode:"e653",unicode_decimal:58963},{icon_id:"24855823",name:"search",font_class:"search",unicode:"e654",unicode_decimal:58964},{icon_id:"24855824",name:"redo-filled",font_class:"redo-filled",unicode:"e655",unicode_decimal:58965},{icon_id:"24841702",name:"list",font_class:"list",unicode:"e644",unicode_decimal:58948},{icon_id:"24841489",name:"mail-open-filled",font_class:"mail-open-filled",unicode:"e63a",unicode_decimal:58938},{icon_id:"24841491",name:"hand-thumbsdown-filled",font_class:"hand-down-filled",unicode:"e63c",unicode_decimal:58940},{icon_id:"24841492",name:"hand-thumbsdown",font_class:"hand-down",unicode:"e63d",unicode_decimal:58941},{icon_id:"24841493",name:"hand-thumbsup-filled",font_class:"hand-up-filled",unicode:"e63e",unicode_decimal:58942},{icon_id:"24841494",name:"hand-thumbsup",font_class:"hand-up",unicode:"e63f",unicode_decimal:58943},{icon_id:"24841496",name:"heart-filled",font_class:"heart-filled",unicode:"e641",unicode_decimal:58945},{icon_id:"24841498",name:"mail-open",font_class:"mail-open",unicode:"e643",unicode_decimal:58947},{icon_id:"24841488",name:"heart",font_class:"heart",unicode:"e639",unicode_decimal:58937},{icon_id:"24839963",name:"loop",font_class:"loop",unicode:"e633",unicode_decimal:58931},{icon_id:"24839866",name:"pulldown",font_class:"pulldown",unicode:"e632",unicode_decimal:58930},{icon_id:"24813798",name:"scan",font_class:"scan",unicode:"e62a",unicode_decimal:58922},{icon_id:"24813786",name:"bars",font_class:"bars",unicode:"e627",unicode_decimal:58919},{icon_id:"24813788",name:"cart-filled",font_class:"cart-filled",unicode:"e629",unicode_decimal:58921},{icon_id:"24813790",name:"checkbox",font_class:"checkbox",unicode:"e62b",unicode_decimal:58923},{icon_id:"24813791",name:"checkbox-filled",font_class:"checkbox-filled",unicode:"e62c",unicode_decimal:58924},{icon_id:"24813794",name:"shop",font_class:"shop",unicode:"e62f",unicode_decimal:58927},{icon_id:"24813795",name:"headphones",font_class:"headphones",unicode:"e630",unicode_decimal:58928},{icon_id:"24813796",name:"cart",font_class:"cart",unicode:"e631",unicode_decimal:58929}]},Jc="/static/uniicons.ttf",Xc={"uni-icons":{"":{fontFamily:"uniicons",textDecoration:"none",textAlign:"center"}}},Zc=weex.requireModule("dom");Zc.addRule("fontFace",{fontFamily:"uniicons",src:"url('"+Jc+"')"});var Qc={name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""}},data(){return{icons:qc.glyphs}},computed:{unicode(){let e=this.icons.find(t=>t.font_class===this.type);return e?unescape(`%u${e.unicode}`):""}},methods:{_onClick(e){this.$emit("click",e)}}};function eu(e,t,i,n,a,r){return(0,tt.openBlock)(),(0,tt.createElementBlock)("u-text",{style:(0,tt.normalizeStyle)({color:i.color,"font-size":i.size}),class:"uni-icons",onClick:t[0]||(t[0]=(...s)=>r._onClick&&r._onClick(...s))},(0,tt.toDisplayString)(r.unicode),5)}var _e=x(Qc,[["render",eu],["styles",[Xc]]]);var Lt=z(Y());var vr={};function Ei(e,t="",i={}){if(tu()&&typeof vr.fbEvent!="undefined")try{vr.fbEvent({event:e,valueToSum:t,params:i},function(){F("info","at comEvent/event.js:17",`fbEvent ${e} success`)},function(){F("error","at comEvent/event.js:19",`fbEvent ${e} error`)})}catch(n){}}function tu(){return!(!w.isAndroid&&w.appV<133)}function Dn(e,t=!1,i=!1){let n=`${e}_click`;if(i){let a=`${n}_total`;Ei(a)}t&&(n=`${n}_${Lr()}`),Ei(n)}function kr(e,t,i=!1){t&&Ei("game_click_total");let n=`game_${e}`;i&&(n=`${n}_${Lr()}`),Ei(n)}function Lr(e){return ae()?e?"anchor".substr(0,6-e):"anchor":"user"}var iu={emits:["click"],components:{LImg:$},props:{user:{type:Object,default(){return{}}},w:{type:String,default:"0"},h:{type:String,default:"0"},radius:{type:String,default:"0"},setKey:{type:String,default:"small_avatar"},border:{type:String,default:""},placeType:{type:Number,default:1},placeW:{type:String,default:""},placeFontSize:{type:[String,Boolean],default:""},placeBottom:{type:String,default:""},click:{type:Boolean,default:!0},fromAdmin:{type:[Boolean,Number],default:!1},fromType:{type:Number,default:1},fade:{type:Boolean,default:!0}},computed:{avatarUrl(){return Ci(this.user,this.setKey,this.fromAdmin,this.fromType)}},methods:{clickAvatar(e){this.click&&this.$emit("click",e)}}};function nu(e,t,i,n,a,r){let s=D((0,Lt.resolveDynamicComponent)("l-img"),$);return(0,Lt.openBlock)(),(0,Lt.createBlock)(s,{onClick:r.clickAvatar,src:r.avatarUrl,w:i.w,h:i.h,radius:i.radius,border:i.border,"place-type":i.placeType,"place-w":i.placeW,"place-font-size":i.placeFontSize,"place-bottom":i.placeBottom,fade:i.fade},null,8,["onClick","src","w","h","radius","border","place-type","place-w","place-font-size","place-bottom","fade"])}var Ye=x(iu,[["render",nu]]);function au(){return getApp().globalData.appCRE||cr(40,1,!1)?!0:(et(u("tips"),u("call40CoinsTip"),()=>{ee("/pages/coin/coins")},"","Purchase"),!1)}function It(e,t,i){au()&&ru(Ba.CALL,ct.VIDEO,nn.CALL,e,t,null,i,$a.DEF)}function ru(e,t,i,n,a,r,s,l){if(F("error","at comCall/call.js:48","_openCall "+getApp().globalData.curCallId),m(n))return;if(n.uid==getApp().globalData.uid){if(i!=nn.CALL)return;pt(u("tips"),u("noCallSelf"),"",u("gotIt"));return}if(getApp().globalData.curCallId!=lt.NONE)return;getApp().globalData.curCallId=lt.WEEK_UP;let c=su(e,t,i,n,a,r,s,l);Z("/pages/call/chat-view",{},"callViewData",c)}function su(e,t,i,n,a,r,s,l){let c={user:n,roomType:e,callType:t,actionType:i,fromType:s,videoInfo:a,openType:l};return a&&(c.videoInfo=a),r&&(c.roomInfo=r,r.isGame&&(c.isGame=r.isGame)),c}var ou=Ue("animation"),lu={props:{id:{type:String,default:""},isTab:{type:Boolean,default:!1}},data(){return{sW:getApp().globalData.window.width,left:-getApp().globalData.window.width,show:!1,data:{},userInfo:{},club:{},animDoing:!1,animationData:{},list:[],listTwo:[]}},computed:{bottom(){let e=getApp().globalData.window.height*.2;return this.isTab?e-getApp().globalData.window.tabBarHeight-getApp().globalData.window.safeBottom:e},viewBg(){return getApp().globalData.themeObj.style==K.LIGHT?"#000000":"#444444"}},methods:{clickThis(e){if(e&&e.stopPropagation(),this.data.type==6||this.data.type==8){let t=ae()?this.userInfo.uid:this.data.to_user.uid;this.openUserHome(t)}else if(this.data.type==9)Et();else if(this.data.type==13)ee("/pagesMsg/notice/chat");else if(this.data.type==11||this.data.type==14)this.openClub();else if(this.data.type==15)It(this.userInfo,null,Tt.RECOMMEND);else if(this.data.type==17){if(Qe()=="/pagesPub/luck-draw/index")return;ee("/pagesPub/luck-draw/index")}else this.openUserHome(this.userInfo.uid)},clickItem(e,t){if(e&&e.stopPropagation(),t.uid){if(this.data.type==17){if(Qe()=="/pagesPub/luck-draw/index")return;ee("/pagesPub/luck-draw/index");return}this.openUserHome(t.uid)}else t.clubId&&this.openClub()},openUserHome(e){xt(e)},openClub(){Xa(this.club.club_id,parseInt(this.club.is_member)==1?1:0,1)},anim(e,t,i,n){return new Promise(a=>{ou.transition(this.$refs.animView,{styles:e,duration:t,timingFunction:n,needLayout:!1,delay:i},()=>{a()})})},startAnimIn(){return this.anim({transform:`translateX(${this.sW}px)`},1e3,0,"ease-out")},startAnimOut(){return this.anim({opacity:"0"},1e3,4e3,"linear")},startAnimReset(){return this.anim({opacity:"1",transform:`translateX(-${this.sW}px)`},50,0,"linear")},startAnimH5(e){let t=uni.createAnimation({timingFunction:"linear"});t.translateX(this.sW).step({duration:500,timingFunction:"ease-out"}),w.isAndroid?t.translateX(-this.sW).opacity(0).step({duration:1e3,delay:4e3}):(t.opacity(0).step({duration:1e3,delay:4e3}),t.translateX(-this.sW).step({duration:50})),t.opacity(1).step({duration:50}),this.animationData=t.export(),setTimeout(()=>{e()},6e3)},getTextItem(e,t,i,n){let a={color:t||"#0091FF"};return i!=0&&(a.maxWidth=`${i}rpx`),{type:1,text:e,extra:n,style:a}},getImgItem(e,t,i,n,a){return{type:2,url:e,width:"48rpx",height:"48rpx",radius:t||"4rpx",extra:a,style:{marginLeft:`${n}rpx`,marginRight:`${i}rpx`}}},getRightItem(){return{type:3}},getUserList(e,t){return[this.getImgItem(e.small_avatar,"","8",0,{uid:e.uid}),this.getTextItem(e.nickname,"",t,{uid:e.uid})]},getClubList(e,t){return[this.getImgItem(e.club_logo,"","8",0,{clubId:e.club_id}),this.getTextItem(e.club_name,"",t,{clubId:e.club_id})]},parseList(e,t){let i=[],n=e.split(/(\[%\w+%\])/).filter(function(a){return a!==""});for(let a=0,r=n.length;a<r;a++){let s=n[a];if(s.startsWith("[%")){let c=s.replace(/[\s+,\[%,%\]]/g,""),d=t[c];d&&(i=[...i,...d])}else{let c={};i.push({type:0,content:s,style:c})}}return i},parseVip(){let e;return this.data.date_type==1?e=Ha(this.data.vip_time):this.data.date_type==2?e=Wa(this.data.vip_time):this.data.date_type==3&&(e=Ga(this.data.vip_time)),this.parseList(u("noticeS.vip"),{name:this.getUserList(this.userInfo,"140"),time:[{type:0,content:e}]})},parseRecharge(){return this.parseList(u("noticeS.recharge"),{name:this.getUserList(this.userInfo,"140"),coin:[{type:0,content:this.data.money}]})},parseChecked(){return this.parseList(u("noticeS.check"),{name:this.getUserList(this.userInfo,"140")})},parseFollow(){return this.parseList(u("noticeS.follow"),{name:this.getUserList(this.userInfo,"140")})},parseOnline(){return this.parseList(u("noticeS.online"),{name:this.getUserList(this.userInfo,"140")})},parseCall(){let e=parseInt(this.data.call_duration);e=isNaN(e)?1:Math.ceil(e/60);let t=`${e} ${Va(e)}`;return this.listTwo=this.parseList(u("noticeS.callTwo",{time:t}),{name:[this.getTextItem(this.data.to_user.nickname,"","140",{uid:this.data.to_user.uid})]}),this.parseList(u("noticeS.callOne",{chatType:ci(this.data.call_type)}),{name:this.getUserList(this.userInfo,"140"),avatar:[this.getImgItem(this.data.to_user.small_avatar,"","8",0,{uid:this.data.to_user.uid})]})},parseGift(){return this.parseList(u("noticeS.gift"),{user:this.getUserList(this.userInfo,"140"),to_user:this.getUserList(this.data.to_user,"140"),gift:[this.getImgItem(this.data.gift_icon,0,0,0,null),{type:0,content:`x${this.data.gift_num}`}]})},parseGameLucky(){return this.listTwo=this.parseList(u("noticeS.gameLuckyTwo",{number:this.data.bonus}),{}),this.parseList(u("noticeS.gameLuckyOne"),{name:this.getUserList(this.userInfo,"140")})},parseRankingRecommend(){return this.listTwo=[this.getImgItem(this.userInfo.small_avatar,0,"8",0,{uid:this.userInfo.uid}),this.getTextItem(this.userInfo.nickname,"","240",{uid:this.userInfo.uid}),this.getRightItem()],this.parseList(u("noticeS.rankingRecommend",{number:this.data.rank}),{})},parseClubGift(){return this.listTwo=[{type:0,content:u("noticeS.clubGift2")},this.getRightItem()],this.parseList(u("noticeS.clubGift1"),{club:this.getClubList(this.club,"180")})},parseClubInvite(){let e=this.parseList(u("noticeS.clubInvite"),{user:this.getUserList(this.userInfo,"100"),club:this.getClubList(this.club,"120")});return e.push(this.getRightItem()),e},parseClubRecommend(){let e=this.parseList(u("noticeS.clubRecommend"),{club:this.getClubList(this.club,"140")});return e.push(this.getRightItem()),e},parseCallRecommend(){return this.listTwo=this.parseList(u("noticeS.callRecommend2",{whom:He(this.userInfo.sex)}),{}),this.parseList(u("noticeS.callRecommend1"),{user:this.getUserList(this.userInfo,"120")})},parseBoostUser(){return this.listTwo=this.parseList(u("noticeS.boostUser2"),{}),this.parseList(u("noticeS.boostUser1",{himself:za(this.userInfo.sex)}),{user:this.getUserList(this.userInfo,"120")})},parsePrizeWheel(){let e,t;if(this.data.bonus_list.length>1)e=!1;else{let i=this.data.bonus_list[0];i.type==si.BOX?(e=i.result.type==si.GIFT,t=i.result):(e=i.type==si.GIFT,t=i)}return e?this.listTwo=this.parseList(u("noticeS.prizeWheelTwo"),{prize:[this.getImgItem(t.icon,0,0,0,null),{type:0,content:t.num>1?`x${t.num}`:""}]}):this.listTwo=this.parseList(u("noticeS.prizeWheelTwo"),{prize:[this.getTextItem(ui(this.data.total_bonus),"#FFFFFF",0,{})]}),this.parseList(u("noticeS.prizeWheelOne"),{user:this.getUserList(this.userInfo,"120")})},parseNodes(){switch(this.data.type){case 1:return this.listTwo=[],this.parseVip();case 2:return this.listTwo=[],this.parseRecharge();case 3:return this.listTwo=[],this.parseChecked();case 4:return this.listTwo=[],this.parseFollow();case 5:return this.listTwo=[],this.parseOnline();case 6:return this.parseCall();case 8:return this.listTwo=[],this.parseGift();case 9:return this.parseGameLucky();case 10:return this.parseRankingRecommend();case 11:return this.parseClubGift();case 13:return this.listTwo=[],this.parseClubInvite();case 14:return this.listTwo=[],this.parseClubRecommend();case 15:return getApp().globalData.appCRE?this.parseCallRecommend():null;case 16:return this.parseBoostUser();case 17:return this.parsePrizeWheel();default:return null}},parseData(e,t){this.list=[],this.data=e,this.userInfo=this.data.user_info,this.club=this.data.club_info;let i=this.parseNodes();if(i==null){typeof t=="function"&&t(!1);return}this.list=i,this.$nextTick(()=>{t(!0)})},open(e){e.type==17&&e.user_info.uid==getApp().globalData.uid||this.animDoing||(this.animDoing=!0,this.show=!0,this.parseData(e,t=>{if(!t){this.animDoing=!1;return}let i=setTimeout(()=>{this.animDoing&&(this.animDoing=!1)},1e4);this.startAnimIn().then(()=>this.startAnimOut()).then(()=>this.startAnimReset()).then(()=>{clearTimeout(i),this.show=!1,this.animDoing=!1})}))}},created(){uni.$on(`event_${this.id}`,this.open)},unmounted(){uni.$off(`event_${this.id}`,this.open)}},cu={"view-notice":{"":{borderRadius:"8rpx",paddingTop:"10rpx",paddingRight:"10rpx",paddingBottom:"10rpx",paddingLeft:"10rpx"}},"view-content":{"":{alignItems:"center",flexWrap:"wrap",flexDirection:"row"}},text:{"":{fontSize:"24rpx"}},"text-def":{"":{color:"#FFFFFF"}},"text-s":{"":{lines:1,textOverflow:"ellipsis",wordWrap:"anywhere"}}},uu={mixins:[lu]};function du(e,t,i,n,a,r){let s=D((0,T.resolveDynamicComponent)("l-img"),$),l=D((0,T.resolveDynamicComponent)("uni-icons"),_e);return(0,T.openBlock)(),(0,T.createElementBlock)("view",{style:(0,T.normalizeStyle)([{bottom:`${e.bottom}px`},{position:"fixed",left:"0","z-index":"9999"}]),renderWhole:!0},[e.show?((0,T.openBlock)(),(0,T.createElementBlock)("view",{key:0,ref:"animView",onClick:t[0]||(t[0]=(...c)=>e.clickThis&&e.clickThis(...c)),animation:e.animationData,class:"view-notice",style:(0,T.normalizeStyle)({left:`${e.left}px`,background:e.viewBg})},[(0,T.createElementVNode)("view",{style:{"align-items":"center","flex-direction":"row"}},[(0,T.createElementVNode)("view",null,[(0,T.createElementVNode)("view",{class:"view-content"},[((0,T.openBlock)(!0),(0,T.createElementBlock)(T.Fragment,null,(0,T.renderList)(e.list,(c,d)=>((0,T.openBlock)(),(0,T.createElementBlock)("view",{key:d},[c.type==0?((0,T.openBlock)(),(0,T.createElementBlock)("u-text",{key:0,class:"text text-def",style:(0,T.normalizeStyle)(c.style)},(0,T.toDisplayString)(c.content),5)):c.type==1?((0,T.openBlock)(),(0,T.createElementBlock)("u-text",{key:1,onClick:(0,T.withModifiers)(p=>e.clickItem(p,c.extra),["stop"]),class:"text text-s",style:(0,T.normalizeStyle)(c.style)},(0,T.toDisplayString)(c.text),13,["onClick"])):c.type==2?((0,T.openBlock)(),(0,T.createBlock)(s,{key:2,onClick:(0,T.withModifiers)(p=>e.clickItem(p,c.extra),["stop"]),src:c.url,w:c.width,h:c.height,radius:c.radius,style:(0,T.normalizeStyle)(c.style)},null,8,["onClick","src","w","h","radius","style"])):c.type==3?((0,T.openBlock)(),(0,T.createBlock)(l,{key:3,type:"right",size:"26rpx",color:"rgba(255,255,255,0.6)"})):(0,T.createCommentVNode)("",!0)]))),128))]),e.listTwo.length>0?((0,T.openBlock)(),(0,T.createElementBlock)("view",{key:0,class:"view-content",style:{"margin-top":"4rpx"}},[((0,T.openBlock)(!0),(0,T.createElementBlock)(T.Fragment,null,(0,T.renderList)(e.listTwo,(c,d)=>((0,T.openBlock)(),(0,T.createElementBlock)("view",{key:"a"+d},[c.type==0?((0,T.openBlock)(),(0,T.createElementBlock)("u-text",{key:0,class:"text text-def",style:(0,T.normalizeStyle)(c.style)},(0,T.toDisplayString)(c.content),5)):c.type==1?((0,T.openBlock)(),(0,T.createElementBlock)("u-text",{key:1,onClick:(0,T.withModifiers)(p=>e.clickItem(p,c.extra),["stop"]),class:"text text-s",style:(0,T.normalizeStyle)(c.style)},(0,T.toDisplayString)(c.text),13,["onClick"])):c.type==2?((0,T.openBlock)(),(0,T.createBlock)(s,{key:2,onClick:(0,T.withModifiers)(p=>e.clickItem(p,c.extra),["stop"]),src:c.url,w:c.width,h:c.height,radius:c.radius,style:(0,T.normalizeStyle)(c.style)},null,8,["onClick","src","w","h","radius","style"])):c.type==3?((0,T.openBlock)(),(0,T.createBlock)(l,{key:3,type:"right",size:"26rpx",color:"rgba(255,255,255,0.6)"})):(0,T.createCommentVNode)("",!0)]))),128))])):(0,T.createCommentVNode)("",!0)]),e.data.type==15?((0,T.openBlock)(),(0,T.createBlock)(s,{key:0,onClick:e.clickThis,src:"s/call/video_def.png",w:"48rpx",h:"48rpx",style:{"margin-left":"16rpx"}},null,8,["onClick"])):(0,T.createCommentVNode)("",!0)])],12,["animation"])):(0,T.createCommentVNode)("",!0)],4)}var Ir=x(uu,[["render",du],["styles",[cu]]]);var O=z(Y());var h=z(Y());var pu={"view-this":{"":{flexDirection:"row",alignItems:"center",position:"relative",marginRight:"8rpx"}},"text-level":{"":{width:"50rpx",lineHeight:"50rpx",textAlign:"center",color:"#FFFFFF",position:"absolute",top:0}}},mu={props:{info:{type:Object,default(){return{}}},vipAlways:{type:Boolean,default:!1},levelAlways:{type:Boolean,default:!1},hideVip:{type:Boolean,default:!1}},computed:{show(){return this.info.is_auth||this.info.level>0||this.showVip||this.levelAlways},showVip(){return this.hideVip?!1:this.info.is_vip?this.info.hide_vip?this.vipAlways:!0:!1},showLevel(){return!this.info.hide_level&&(this.info.level>0||this.info.is_auth)?!0:this.levelAlways},levelStr(){let e=this.info.is_auth?1:0;return this.info.level<=0?e:this.info.level},levelSrc(){return this.info.sex==2?"s/pub/level_a.png":"s/pub/level_c.png"},levelSize(){return this.info.level>99?"10rpx":this.info.level>9?"14rpx":"16rpx"},levelWeight(){return this.info.level>99?"bold":"normal"}}};function fu(e,t,i,n,a,r){let s=D((0,h.resolveDynamicComponent)("l-img"),$);return r.show?((0,h.openBlock)(),(0,h.createElementBlock)("view",{key:0,class:"view-this",renderWhole:!0},[r.showLevel?((0,h.openBlock)(),(0,h.createElementBlock)("view",{key:0},[(0,h.createVNode)(s,{src:r.levelSrc,w:"50rpx",h:"50rpx"},null,8,["src"]),(0,h.createElementVNode)("u-text",{class:"text-level",style:(0,h.normalizeStyle)({fontSize:r.levelSize,fontWeight:r.levelWeight})},(0,h.toDisplayString)(r.levelStr),5)])):(0,h.createCommentVNode)("",!0),r.showVip?((0,h.openBlock)(),(0,h.createBlock)(s,{key:1,src:"s/pub/vip_3.png",w:"56rpx",h:"24rpx",style:{"margin-left":"8rpx"}})):(0,h.createCommentVNode)("",!0)])):(0,h.createCommentVNode)("",!0)}var Di=x(mu,[["render",fu],["styles",[pu]]]),gu={center:{"":{alignItems:"center",flexDirection:"row"}},"m-l-4":{"":{marginLeft:"8rpx"}},"m-r-4":{"":{marginRight:"8rpx"}}},hu={props:{user:{type:Object,default(){return{}}},imgW:{type:Number,default:40},imgH:{type:Number,default:26},fontSize:{type:Number,default:24},color:{type:String,default:""},showName:{type:Boolean,default:!1},showCode:{type:Boolean,default:!0},desc:{type:Boolean,default:!1}},computed:{defClass(){let e={fontSize:`${this.fontSize}rpx`};return m(this.color)?e.color=getApp().globalData.themeObj.color.title:e.color=this.color,e}}};function _u(e,t,i,n,a,r){let s=D((0,h.resolveDynamicComponent)("l-img"),$);return i.user.country_code&&!i.desc?((0,h.openBlock)(),(0,h.createElementBlock)("view",{key:0,class:"center"},[(0,h.createVNode)(s,{src:i.user.country_flag,w:`${i.imgW}rpx`,h:`${i.imgH}rpx`},null,8,["src","w","h"]),i.showCode&&i.user.country_code?((0,h.openBlock)(),(0,h.createElementBlock)("u-text",{key:0,class:"m-l-4",style:(0,h.normalizeStyle)(r.defClass)},(0,h.toDisplayString)(i.user.country_code.toUpperCase()),5)):(0,h.createCommentVNode)("",!0),i.showName&&i.user.country_name?((0,h.openBlock)(),(0,h.createElementBlock)("u-text",{key:1,class:"m-l-4",style:(0,h.normalizeStyle)(r.defClass)},(0,h.toDisplayString)(i.user.country_name),5)):(0,h.createCommentVNode)("",!0)])):i.user.country_code?((0,h.openBlock)(),(0,h.createElementBlock)("view",{key:1,class:"center m-r-4"},[i.showName&&i.user.country_name?((0,h.openBlock)(),(0,h.createElementBlock)("u-text",{key:0,class:"m-r-4",style:(0,h.normalizeStyle)(r.defClass)},(0,h.toDisplayString)(i.user.country_name),5)):(0,h.createCommentVNode)("",!0),i.showCode&&i.user.country_code?((0,h.openBlock)(),(0,h.createElementBlock)("u-text",{key:1,class:"m-r-4",style:(0,h.normalizeStyle)(r.defClass)},(0,h.toDisplayString)(i.user.country_code.toUpperCase()),5)):(0,h.createCommentVNode)("",!0),(0,h.createVNode)(s,{src:i.user.country_flag,w:`${i.imgW}rpx`,h:`${i.imgH}rpx`},null,8,["src","w","h"])])):(0,h.createCommentVNode)("",!0)}var Rr=x(hu,[["render",_u],["styles",[gu]]]),bu={"user-info":{"":{flexDirection:"row",alignItems:"center"}},"nickname-nvue":{"":{lines:1,textOverflow:"ellipsis",wordWrap:"anywhere"}},"m-r-4":{"":{marginRight:"8rpx"}},"text-official":{"":{lineHeight:"28rpx",backgroundColor:"#34C759",borderRadius:"4rpx",paddingTop:0,paddingRight:"8rpx",paddingBottom:0,paddingLeft:"8rpx",color:"#FFFFFF",fontSize:"20rpx",fontStyle:"italic",fontWeight:"700",marginRight:"8rpx"}}},yu={components:{LImg:$,CountryCode:Rr,LevelVip:Di},props:{info:{type:Object,default(){return{}}},noName:{type:Number,default:0},nameColor:{type:String,default:""},nameSize:{type:String,default:"26rpx"},nameWidth:{type:String,default:"300rpx"},fw:{type:[String,Number],default:"400"},desc:{type:Boolean,default:!1},isAdmin:{type:Number,default:0},showAge:{type:Boolean,default:!0},showAuth:{type:Boolean,default:!0},showCountry:{type:Boolean,default:!1},showCountryCode:{type:Boolean,default:!0},levelAlways:{type:Boolean,default:!1}},computed:{officialStr(){return this.info.auth_status==9?u("official"):""},age(){if(!this.showAge||m(this.info.birthday)||this.info.hide_profile)return"";let e=pi(this.info.birthday);return m(e)||isNaN(e)?"":`${this.noName?"":", "}${e}`},nicknameText(){return kt(this.info,this.isAdmin)},showCountryInfo(){return this.showCountry&&this.info.hide_profile!=1},nicknameColor(){return m(this.nameColor)?getApp().globalData.themeObj.color.title:this.nameColor}}};function wu(e,t,i,n,a,r){let s=D((0,h.resolveDynamicComponent)("level-vip"),Di),l=D((0,h.resolveDynamicComponent)("country-code"),Rr),c=D((0,h.resolveDynamicComponent)("l-img"),$);return(0,h.openBlock)(),(0,h.createElementBlock)("view",{renderWhole:!0},[i.desc?((0,h.openBlock)(),(0,h.createElementBlock)("view",{key:1,class:"user-info",style:{"justify-content":"flex-end"}},[r.officialStr?((0,h.openBlock)(),(0,h.createElementBlock)("u-text",{key:0,class:"text-official"},(0,h.toDisplayString)(r.officialStr),1)):((0,h.openBlock)(),(0,h.createElementBlock)("view",{key:1,class:"user-info"},[i.showAuth&&i.info.auth_status==1?((0,h.openBlock)(),(0,h.createBlock)(c,{key:0,src:"s/pub/verified_1.png",w:"24rpx",h:"24rpx",style:{"margin-right":"8rpx"}})):(0,h.createCommentVNode)("",!0),r.showCountryInfo?((0,h.openBlock)(),(0,h.createBlock)(l,{key:1,user:i.info,color:r.nicknameColor,desc:i.desc,"show-code":i.showCountryCode},null,8,["user","color","desc","show-code"])):(0,h.createCommentVNode)("",!0),(0,h.createVNode)(s,{info:i.info,"vip-always":i.isAdmin==1,"level-always":i.levelAlways,style:{"margin-right":"8rpx"}},null,8,["info","vip-always","level-always"])])),i.noName?(0,h.createCommentVNode)("",!0):((0,h.openBlock)(),(0,h.createElementBlock)("u-text",{key:2,class:(0,h.normalizeClass)(["nickname-nvue",[r.age?"":"m-r-4"]]),style:(0,h.normalizeStyle)({color:r.nicknameColor,fontSize:i.nameSize,maxWidth:i.nameWidth,fontWeight:i.fw})},(0,h.toDisplayString)(r.nicknameText),7)),r.age?((0,h.openBlock)(),(0,h.createElementBlock)("u-text",{key:3,class:"nickname-nvue",style:(0,h.normalizeStyle)({color:r.nicknameColor,fontSize:i.nameSize,fontWeight:i.fw})},(0,h.toDisplayString)(r.age),5)):(0,h.createCommentVNode)("",!0)])):((0,h.openBlock)(),(0,h.createElementBlock)("view",{key:0,class:"user-info"},[i.noName?(0,h.createCommentVNode)("",!0):((0,h.openBlock)(),(0,h.createElementBlock)("u-text",{key:0,class:(0,h.normalizeClass)(["nickname-nvue",[r.age?"":"m-r-4"]]),style:(0,h.normalizeStyle)({color:r.nicknameColor,fontSize:i.nameSize,maxWidth:i.nameWidth,fontWeight:i.fw})},(0,h.toDisplayString)(r.nicknameText),7)),r.age?((0,h.openBlock)(),(0,h.createElementBlock)("u-text",{key:1,class:"nickname-nvue m-r-4",style:(0,h.normalizeStyle)({color:r.nicknameColor,fontSize:i.nameSize,fontWeight:i.fw})},(0,h.toDisplayString)(r.age),5)):(0,h.createCommentVNode)("",!0),r.officialStr?((0,h.openBlock)(),(0,h.createElementBlock)("u-text",{key:2,class:"text-official"},(0,h.toDisplayString)(r.officialStr),1)):((0,h.openBlock)(),(0,h.createElementBlock)("view",{key:3,class:"user-info"},[(0,h.createVNode)(s,{info:i.info,"vip-always":i.isAdmin==1,"level-always":i.levelAlways,style:{"margin-right":"8rpx"}},null,8,["info","vip-always","level-always"]),r.showCountryInfo?((0,h.openBlock)(),(0,h.createBlock)(l,{key:0,user:i.info,color:r.nicknameColor,"show-code":i.showCountryCode,style:{"margin-right":"8rpx"}},null,8,["user","color","show-code"])):(0,h.createCommentVNode)("",!0),i.showAuth&&i.info.auth_status==1?((0,h.openBlock)(),(0,h.createBlock)(c,{key:1,src:"s/pub/verified_1.png",w:"24rpx",h:"24rpx",style:{"margin-right":"8rpx"}})):(0,h.createCommentVNode)("",!0)]))]))])}var it=x(yu,[["render",wu],["styles",[bu]]]);var Ne=z(Y());var Au=Ue("animation"),vi=class{constructor(t,i){this.options=t,this.animation=uni.createAnimation(t),this.currentStepAnimates={},this.next=0,this.$=i}_nvuePushAnimates(t,i){let n=this.currentStepAnimates[this.next],a={};if(n?a=n:a={styles:{},config:{}},Or.includes(t)){a.styles.transform||(a.styles.transform="");let r="";t==="rotate"&&(r="deg"),a.styles.transform+=`${t}(${i+r}) `}else a.styles[t]=`${i}`;this.currentStepAnimates[this.next]=a}_animateRun(t={},i={}){let n=this.$.$refs.ani.ref;if(n)return new Promise((a,r)=>{Au.transition(n,Fi({styles:t},i),s=>{a()})})}_nvueNextAnimate(t,i=0,n){let a=t[i];if(a){let{styles:r,config:s}=a;this._animateRun(r,s).then(()=>{i+=1,this._nvueNextAnimate(t,i,n)})}else this.currentStepAnimates={},typeof n=="function"&&n(),this.isEnd=!0}step(t={}){return this.currentStepAnimates[this.next].config=Object.assign({},this.options,t),this.currentStepAnimates[this.next].styles.transformOrigin=this.currentStepAnimates[this.next].config.transformOrigin,this.next++,this}run(t){this.isEnd=!1,this.$.$refs.ani&&this.$.$refs.ani.ref&&(this._nvueNextAnimate(this.currentStepAnimates,0,t),this.next=0)}},Or=["matrix","matrix3d","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","translate","translate3d","translateX","translateY","translateZ"],Su=["opacity","backgroundColor"],Tu=["width","height","left","right","top","bottom"];Or.concat(Su,Tu).forEach(e=>{vi.prototype[e]=function(...t){return this._nvuePushAnimates(e,t),this}});function Nr(e,t){if(t)return clearTimeout(t.timer),new vi(e,t)}var Cu={name:"uniTransition",emits:["click","change"],props:{show:{type:Boolean,default:!1},modeClass:{type:[Array,String],default(){return"fade"}},duration:{type:Number,default:300},styles:{type:Object,default(){return{}}},customClass:{type:String,default:""}},data(){return{isShow:!1,transform:"",opacity:1,animationData:{},durationTime:300,config:{}}},watch:{show:{handler(e){e?this.open():this.isShow&&this.close()},immediate:!0}},computed:{stylesObject(){let e=Kn(Fi({},this.styles),{"transition-duration":this.duration/1e3+"s"}),t="";for(let i in e){let n=this.toLine(i);t+=n+":"+e[i]+";"}return t},transformStyles(){return"transform:"+this.transform+";opacity:"+this.opacity+";"+this.stylesObject}},created(){this.config={duration:this.duration,timingFunction:"ease",transformOrigin:"50% 50%",delay:0},this.durationTime=this.duration},methods:{init(e={}){e.duration&&(this.durationTime=e.duration),this.animation=Nr(Object.assign(this.config,e),this)},onClick(){this.$emit("click",{detail:this.isShow})},step(e,t={}){if(this.animation){for(let i in e)try{typeof e[i]=="object"?this.animation[i](...e[i]):this.animation[i](e[i])}catch(n){F("error","at uni_modules/uni-transition/components/uni-transition/uni-transition.vue:139",`\u65B9\u6CD5 ${i} \u4E0D\u5B58\u5728`)}return this.animation.step(t),this}},run(e){this.animation&&this.animation.run(e)},open(){clearTimeout(this.timer),this.transform="",this.isShow=!0;let{opacity:e,transform:t}=this.styleInit(!1);typeof e!="undefined"&&(this.opacity=e),this.transform=t,this.$nextTick(()=>{this.timer=setTimeout(()=>{this.animation=Nr(this.config,this),this.tranfromInit(!1).step(),this.animation.run(),this.$emit("change",{detail:this.isShow})},20)})},close(e){this.animation&&this.tranfromInit(!0).step().run(()=>{this.isShow=!1,this.animationData=null,this.animation=null;let{opacity:t,transform:i}=this.styleInit(!1);this.opacity=t||1,this.transform=i,this.$emit("change",{detail:this.isShow})})},styleInit(e){let t={transform:""},i=(n,a)=>{a==="fade"?t.opacity=this.animationType(n)[a]:t.transform+=this.animationType(n)[a]+" "};return typeof this.modeClass=="string"?i(e,this.modeClass):this.modeClass.forEach(n=>{i(e,n)}),t},tranfromInit(e){let t=(i,n)=>{let a=null;n==="fade"?a=i?0:1:(a=i?"-100%":"0",n==="zoom-in"&&(a=i?.8:1),n==="zoom-out"&&(a=i?1.2:1),n==="slide-right"&&(a=i?"100%":"0"),n==="slide-bottom"&&(a=i?"100%":"0")),this.animation[this.animationMode()[n]](a)};return typeof this.modeClass=="string"?t(e,this.modeClass):this.modeClass.forEach(i=>{t(e,i)}),this.animation},animationType(e){return{fade:e?1:0,"slide-top":`translateY(${e?"0":"-100%"})`,"slide-right":`translateX(${e?"0":"100%"})`,"slide-bottom":`translateY(${e?"0":"100%"})`,"slide-left":`translateX(${e?"0":"-100%"})`,"zoom-in":`scaleX(${e?1:.8}) scaleY(${e?1:.8})`,"zoom-out":`scaleX(${e?1:1.2}) scaleY(${e?1:1.2})`}},animationMode(){return{fade:"opacity","slide-top":"translateY","slide-right":"translateX","slide-bottom":"translateY","slide-left":"translateX","zoom-in":"scale","zoom-out":"scale"}},toLine(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}}};function xu(e,t,i,n,a,r){return a.isShow?((0,Ne.openBlock)(),(0,Ne.createElementBlock)("view",{key:0,ref:"ani",animation:a.animationData,class:(0,Ne.normalizeClass)(i.customClass),style:(0,Ne.normalizeStyle)(r.transformStyles),onClick:t[0]||(t[0]=(...s)=>r.onClick&&r.onClick(...s)),renderWhole:!0},[(0,Ne.renderSlot)(e.$slots,"default")],14,["animation"])):(0,Ne.createCommentVNode)("",!0)}var Oe=x(Cu,[["render",xu]]);var re=z(Y());var Eu={"view-answer":{"":{alignItems:"center",justifyContent:"center"}},"view-answer-img":{"":{alignItems:"center",justifyContent:"center",backgroundColor:"#17BB07"}}},Du={emits:["click"],props:{callType:{type:Number,default:1},animW:{type:Number,default:144},bgW:{type:Number,default:110},iconW:{type:Number,default:68},iconVW:{type:Number,default:48}},data(){return{}},computed:{bgStyle(){return{width:`${this.bgW}rpx`,height:`${this.bgW}rpx`,borderRadius:`${this.bgW/2}rpx`}},answerIcon(){return this.callType==ct.VIDEO?"s/call/answer_white.png":"s/call/answer_voice_white.png"},answerIconH(){return this.callType==ct.VIDEO?`${this.iconVW}rpx`:`${this.iconW}rpx`}},methods:{clickAnswer(e){e&&e.stopPropagation(),this.$emit("click")},startAnswerBgAnim(){let e=this.$refs.animAnswerBg;e==null||typeof e=="undefined"||typeof e.step=="undefined"||(e.step({scale:1.3,opacity:0},{duration:1e3}),e.step({scale:1,opacity:1},{duration:1}),e.run(()=>{this.startAnswerBgAnim()}))},startAnswerIcon(){let e=this.$refs.animAnswerImg;e==null||typeof e=="undefined"||typeof e.step=="undefined"||(e.step({rotate:-10},{duration:500}),e.step({rotate:10},{duration:500}),e.run(()=>{this.startAnswerIcon()}))}},created(){setTimeout(()=>{this.startAnswerBgAnim(),this.startAnswerIcon()},1e3)}};function vu(e,t,i,n,a,r){let s=D((0,re.resolveDynamicComponent)("uni-transition"),Oe),l=D((0,re.resolveDynamicComponent)("l-img"),$);return(0,re.openBlock)(),(0,re.createElementBlock)("view",{onClick:t[1]||(t[1]=(...c)=>r.clickAnswer&&r.clickAnswer(...c)),class:"view-answer",style:(0,re.normalizeStyle)({width:`${i.animW}rpx`,height:`${i.animW}rpx`}),renderWhole:!0},[(0,re.createVNode)(s,{ref:"animAnswerBg",show:!0,style:(0,re.normalizeStyle)([r.bgStyle,{position:"absolute",background:"#17BB07"}])},null,8,["style"]),(0,re.createElementVNode)("view",{onClick:t[0]||(t[0]=(...c)=>r.clickAnswer&&r.clickAnswer(...c)),style:(0,re.normalizeStyle)(r.bgStyle),class:"view-answer-img"},[(0,re.createVNode)(s,{ref:"animAnswerImg",show:!0},{default:(0,re.withCtx)(()=>[(0,re.createVNode)(l,{onClick:r.clickAnswer,src:r.answerIcon,w:`${i.iconW}rpx`,h:r.answerIconH},null,8,["onClick","src","w","h"])]),_:1},512)],4)],4)}var Fr=x(Du,[["render",vu],["styles",[Eu]]]);var nt=z(Y());var ku={props:{type:{type:String,default:"bg2"}},computed:{bgColor(){return getApp().globalData.themeObj.color[this.type]}}};function Lu(e,t,i,n,a,r){return(0,nt.openBlock)(),(0,nt.createElementBlock)("view",{style:(0,nt.normalizeStyle)({background:r.bgColor}),renderWhole:!0},[(0,nt.renderSlot)(e.$slots,"default")],4)}var ki=x(ku,[["render",Lu]]);var at=z(Y());var Iu={props:{text:{type:[String,Number],default:""},type:{type:String,default:"title"},useText:{type:[Number,Boolean],default:!1},colorVal:{type:String,default:""}},computed:{color(){return this.colorVal?this.colorVal:getApp().globalData.themeObj.color[this.type]}}};function Ru(e,t,i,n,a,r){return(0,at.openBlock)(),(0,at.createElementBlock)("u-text",{style:(0,at.normalizeStyle)({color:r.color})},(0,at.toDisplayString)(i.text),5)}var Le=x(Iu,[["render",Ru]]);function vn(e,t,i,n){let a=parseInt(e.msg_type),r=e.contentObj||Ge(e.msg_content);switch(a){case w.M_TEXT:if(r.content)return r.content;let s=r.text;if(r.info)for(let f=0,y=r.info.length;f<y;f++)s=s.replace("[x]",r.info[f].text);return s;case w.M_VOICE:return`${Ie(a)} ${jt(r.voice_duration)}`;case w.M_GIFT:if(r.from_type==5){let f=r.to_user_info?"@"+r.to_user_info.nickname:"@"+u("all"),y=r.to_user_info?u("msg.giftISentYou"):u("msg.giftISent");return`${Ie(a)} ${f} ${y} ${r.number} ${r.title}`}return r.from_type==6?`${Ie(a)} ${u("msg.giftISent")} ${r.number} ${r.title}`:`${Ie(a)} ${u("msg.giftISentYou")} ${r.number} ${r.title}`;case w.M_NOTICE:if(!m(r.key)){let f="";return e.chat_type==w.M_CHAT_PRI?f=Ou(r):f=Nu(r,i,n),f?typeof f=="string"?`${Ie(a)} ${f}`:`${Ie(a)} ${Fe(f)}`:Ie(a)}return`${Ie(a)} ${r.content}`;case w.M_CALL:let l=e.send_uid==getApp().globalData.uid,c=Mu(r.call_status,l,t,r.duration);return`[${ja(r.call_type)}] ${c}`;case w.M_GIFT_ASK:let d;return e.send_uid==getApp().globalData.uid?d=`${u("msg.giftAskedOtherFor",{whom:He(t.sex)})} ${r.title}`:d=u("msg.giftAskText"),`${Ie(a)} ${d}`;case w.M_NOTICE_SYS:let p="";return r.content?p=r.content:r.text&&(p=Fe(r)),`${Ie(a)} ${p}`;case w.M_PAID_PHOTO:case w.M_PAID_VIDEO:return`${Ie(a)} ${r.content||""}`;case w.M_RECOMMEND_USER:return e.chat_type==w.M_CHAT_CLUB?u("msg.recommendUserToEvery"):u("msg.recommendUserToYou");case w.M_RECOMMEND_CLUB:return e.chat_type==w.M_CHAT_CLUB?u("msg.recommendClubToEvery"):u("msg.recommendClubToYou");default:return Fu(a,r)}}function Nu(e,t,i){let n,a,r,s,l=!1,c=e.uid_arr,d=getApp().globalData.uid;try{switch(e.key){case J.CREATE:if(e.uid==getApp().globalData.uid){let k=e.identity==La.USER;n=Bu(k),r=[{action:2,id:i.club_id,member:1}],l=!0}else n=u("msg.clubCreate"),r=[{action:1,id:e.uid}];a={nickname:N(t[c[0]].nickname),club_name:N(i.club_name)};break;case J.JOIN:a={nickname:N(t[c[0]].nickname)},c[0]==getApp().globalData.uid?(n=Mr(),a.club_name=N(i.club_name),l=!0,r=[{action:2,id:i.club_id,member:i.is_member}]):(n=u("msg.clubJoin"),r=[{action:1,id:t[c[0]].uid}]);break;case J.EDIT_NAME:n=u("msg.clubEditName"),e.uid==getApp().globalData.uid?(a={nickname:{text:u("you")}},r=[{action:2,id:i.club_id,member:1}]):(a={nickname:N(t[c[0]].nickname)},r=[{action:1,id:t[c[0]].uid}]),a.club_name=N(e.club_name);break;case J.MUTE_ALL_MEMBER:e.uid==getApp().globalData.uid?s=e.is_mute?u("msg.clubMuteAllOnF"):u("msg.clubMuteAllOffF"):(n=e.is_mute?u("msg.clubMuteAllOn"):u("msg.clubMuteAllOff"),a={nickname:N(t[c[0]].nickname)},r=[{action:1,id:t[c[0]].uid}]);break;case J.REMOVE:let p;e.founder==getApp().globalData.uid?(p=t[e.uid],n=u("msg.clubRemoveMemberF")):(p=t[e.founder],n=u("msg.clubRemoveMember")),a={nickname:N(p.nickname)},r=[{action:1,id:p.uid}];break;case J.QUIT:n=u("msg.clubMemberQuit"),a={nickname:N(t[c[0]].nickname)},r=[{action:1,id:t[c[0]].uid}];break;case J.DISSOLUTION:e.from_admin==1?s=u("msg.clubDissolveAdmin"):(n=u("msg.clubDissolve"),a={nickname:N(t[c[0]].nickname)},r=[{action:1,id:t[c[0]].uid}]);break;case J.MUTE_MEMBER:let f;e.founder==getApp().globalData.uid?(f=t[e.uid],e.is_mute?n=u("msg.clubMuteOnF"):n=u("msg.clubMuteOffF")):(f=t[e.founder],e.is_mute?n=u("msg.clubMuteMemberTips"):n=u("msg.clubMuteOff")),a={nickname:N(f.nickname)},r=[{action:1,id:f.uid}];break;case J.MUTE_SEND_FAIL:n=e.is_mute==2?u("msg.clubMuteAllTips"):u("msg.clubMuteMemberTips"),a={nickname:N(t[c[0]].nickname)},r=[{action:1,id:t[c[0]].uid}];break;case J.INVITE_JOIN:let y=Array.isArray(e.uid);if(y?r=[{action:2,id:i.club_id,member:i.is_member}]:r=[{action:1,id:e.uid}],e.founder==getApp().globalData.uid){n=u("msg.clubInvite");let k;if(y){k="";for(let W=0,U=e.uid.length;W<U;W++){let C=t[e.uid[W]];C&&(k+=`${C.nickname}${W>=U-1?"":", "}`)}}else k=t[e.uid].nickname;a={nickname:{text:u("you")},invited_name:N(k)}}else{let k=y?e.uid.indexOf(getApp().globalData.uid)!=-1:e.uid==getApp().globalData.uid,W="";if(y)if(k)W=getApp().pubUser.nickname;else for(let U=0,C=e.uid.length;U<C;U++){let V=t[e.uid[U]];V&&(W+=`${V.nickname}${U>=C-1?"":", "}`)}else W=k?getApp().pubUser.nickname:t[e.uid].nickname;k?(n=Mr(),a={nickname:N(W),club_name:N(i.club_name)},l=!0):(n=u("msg.clubInvite"),a={nickname:N(t[e.founder].nickname),invited_name:N(W)})}break;case J.SET_FOUNDER:e.uid==getApp().globalData.uid?s=u("msg.clubSetFounderF"):(n=u("msg.clubSetFounder"),a={nickname:N(t[e.uid].nickname)},r=[{action:1,id:e.uid}]);break;case J.SET_MANAGER:let R=t[e.uid],E=t[e.founder];e.status==1?e.uid==getApp().globalData.uid?(n=u("msg.clubAdminSetF"),a={nickname:N(E.nickname)},r=[{action:1,id:E.uid}]):(n=u("msg.clubAdminSet"),a={nickname:N(R.nickname),founder_name:N(E.nickname,"#888196")},r=[{action:1,id:R.uid}]):e.uid==getApp().globalData.uid?(n=u("msg.clubAdminCancelF"),a={nickname:N(E.nickname)},r=[{action:1,id:E.uid}]):(n=u("msg.clubAdminCancel"),a={nickname:N(R.nickname),founder_name:N(E.nickname,"#888196")},r=[{action:1,id:R.uid}]);break;case J.YOUR_GIFT_RETURN:e.from_type==5?e.uid?(n=u("msg.clubGiftReturnPrivate"),a={nickname:N(t[e.uid].nickname)},r=[{action:1,id:e.uid}]):s=u("msg.clubGiftReturnAll"):e.from_type==6&&(s=u("msg.clubGiftReturnNone"));break;case J.GIFT_HAS_SIGNED:if(d==e.uid)n=u("msg.giftSignedFromYou"),a={nickname:N(t[e.to_uid].nickname)},r=[{action:1,id:e.to_uid}];else if(d==e.to_uid){n=u("msg.giftYouSignedFrom");let k=e.income>1?u("coinsLower"):u("coinLower");a={nickname:N(t[e.uid].nickname),income:N(e.income,"#888196"),coin_str:N(k,"#888196")},r=[{action:1,id:e.uid}]}break;case J.SIGN_GIFT:s=u("msg.giftYouSigned");break;case J.SIGN_GIFT_FAIL:s=u("msg.giftLateAndBeenSigned");break;case J.YOUR_GIFT_SIGNED:s=u("msg.giftBeenSignedFromYou");break;case J.ACTION_GIFT:let H=e.from_type==6?u("msg.giftRobbedLower"):u("receivedLower");e.uid==getApp().globalData.uid?(n=u("msg.clubGiftRobSend",{robOrReceive:H}),a={nickname:N(t[e.to_uid].nickname),gift_name:N(e.gift_name,"#FB4476")},r=[{action:1,id:e.to_uid}]):e.to_uid==getApp().globalData.uid?(n=u("msg.clubGiftRobReceive",{rob:H,income:e.income,min:parseInt(e.reply_time/60)}),a={gift_name:N(e.gift_name,"#FB4476"),nickname:N(t[e.uid].nickname)},r=[{action:1,id:e.uid}]):(n=u("msg.clubGiftRobPasserby",{robOrReceive:H}),a={nickname:N(t[e.to_uid].nickname),gift_name:N(e.gift_name,"#FB4476"),from_name:N(t[e.uid].nickname)},r=[{action:1,id:e.uid}]);break;case J.GIFT_NO_REPLY_RETURN:if(e.uid==getApp().globalData.uid)n=u("msg.clubGiftNoReplyS",{min:parseInt(e.reply_time/60),income:e.income}),a={nickname:N(t[e.to_uid].nickname),gift_name:N(e.gift_name,"#FB4476")},r=[{action:1,id:e.to_uid}];else{let k=t[e.uid],W=parseInt(e.reply_time/60);n=e.from_type==6?u("msg.clubGiftNoReplyRFRob",{number:W}):u("msg.clubGiftNoReplyRFReceive",{number:W}),a={nickname:N(k.nickname),gift_name:N(e.gift_name,"#FB4476"),from_name:N(k.nickname)},r=[{action:1,id:e.uid}]}break;case J.GIFT_NO_ROB_RETURN:n=u("msg.clubGiftNoRobReturn",{number:e.income}),a={gift_name:N(e.gift_name,"#FB4476")};break;case J.YOU_GIFT_ROB_OVER:n=u("msg.clubGiftRobOver"),a={gift_name:N(e.gift_name,"#FB4476")};break;case J.GIFT_NO_SIGN_RETURN:if(e.to_uid==0)n=u("msg.clubGiftNoSignReturnAll",{number:e.income}),a={gift_name:N(e.gift_name,"#FB4476")};else{let k=t[e.to_uid];n=u("msg.clubGiftNoSignReturn",{other_str:He(k.sex),income:e.income}),a={nickname:N(k.nickname),gift_name:N(e.gift_name,"#FB4476")}}break;case J.FIRST_MSG_FEE:s=u("msg.clubSendConsumeCoinTips",{number:ui(e.msg_price||1)});break;case J.INVITE_FAILED:let L="";for(let k=0,W=e.uid.length;k<W;k++){let U=t[e.uid[k]];U&&(L+=`${U.nickname}${k>=W-1?"":", "}`)}n=e.uid.length>1?u("club.inviteUsersFailedTips"):u("club.inviteUserFailedTips"),a={invited_name:N(L)};break;case J.SIGNED_FOR:n=u("giftSignedTips"),a={gift_name:N(e.gift_name),nickname:N(e.receiver_name)},r=[{action:1,id:e.to_uid}];break;default:return""}}catch(p){return yn(p,e,t,i),"New Message"}return s||{text:n,info:a,click:r,isLong:l}}function Ou(e){let t;try{switch(e.key){case Ji.NOT_REPLY:t=u("msg.notReplyCountTips",{count:e.count});break;case Ji.NOT_CHEAT_USER:t=u("msg.notCheatUserTips");break;default:return""}}catch(i){return yn(i,e,{},{}),"New Message"}return t||""}function N(e,t="#0091FF"){return{text:e,color:t}}function Fu(e,t){switch(e){case w.M_N_DEF:return t.tips?`${Ie(e)} ${t.tips}`:`[${t.title||u("notice")}] ${Fe(t)}`;case w.M_N_AUDIT:return`[${t.title}] ${t.tips}`;case w.M_N_VIP:case w.M_N_RECHARGE:return`[${t.title}] ${Fe(t)}`;case w.M_N_GREETING_AUDIT:return`[${t.title}] ${t.tips}`;case w.M_N_SYS_NOTICE:let i=t.title;return t.tips?`[${i}] ${t.tips}`:`[${i}] ${Fe(t)}`;case w.M_N_CALL:return`[${t.title}] ${u("msg.revenueCoins")}:${t.total_income}`;case w.M_N_COOPERATE:return`[${u("msg.cooperate")}] ${u("msg.cooperateTips")}`;case w.M_N_WITHDRAW:let n="";return t.tips?n=t.tips:t.text&&(n=Fe(t)),`[${t.title}] ${n}`;case w.M_N_MONITOR:let a=t.title||u("msg.secretaryNotice"),r=t.tips||Fe(t);return`[${a}] ${r}`;case w.M_N_REPORT_AUDIT:return`[${t.title}] ${t.content}`;case w.M_N_CLUB_AUDIT_REJECT:case w.M_N_CLUB_AUDIT:let s="";return t.text?s=Fe(t):t.content&&(s=t.content),`[${t.title||u("msg.secretaryNotice")}] ${s}`;case w.M_N_IMG:let c="";return t.content?c=t.content:t.text&&(c=Fe(t)),c;case w.M_N_PRIVACY_CALL:let d="";return t.tips?d=t.tips:t.text&&(d=Fe(t)),`[${t.title}] ${d}`;case w.M_N_WITHDRAW_NOTICE:let p="";return t.tips?p=t.tips:t.text&&(p=Fe(t)),`[${t.title}] ${p}`;case w.M_N_WITH_MEDIA:let f="";return t.tips?f=t.tips:t.text&&(f=Fe(t)),`[${t.title}] ${f}`;default:return Ie(e)}}function Fe(e){if(m(e.info))return"";let t=Object.keys(e.info);for(let i=0,n=t.length;i<n;i++){let a=t[i];e.text=e.text.replace("[%"+a+"%]",` ${e.info[a].text} `)}return e.text}function Mu(e,t,i,n){if(e==0)return u("cancelled");if(e==1)return t?u("msg.callDeclinedBy",{nickname:He(i)}):u("declined");if(e==2)return`${u("duration")}: ${n}`;if(e==3)return t?u("msg.callNotAnswer"):u("cancelled")}function Ie(e){return{2:`[${u("voice")}]`,3:`[${u("picture")}]`,5:`[${u("gift")}]`,6:`[${u("notice")}]`,18:`[${u("video")}]`,21:`[${u("msg.askForGift")}]`,22:`[${u("msg.systemNotice")}]`,23:`[${u("msg.sticker")}]`,25:`[${u("msg.feePhoto")}]`,26:`[${u("msg.feeVideo")}]`,27:`[${u("msg.matchSuccess")}]`,100:`[${u("msg.systemNotice")}]`}[e]||"["+u("msg.newNews")+"]"}function Pr(e){let t=[u("clubRules.prohibitionClause1"),u("clubRules.prohibitionClause2"),u("clubRules.prohibitionClause3"),u("clubRules.prohibitionClause4")];e||(t.push(u("clubRules.prohibitionClause5")),t.push(u("clubRules.prohibitionClause6"))),t.push(u("clubRules.prohibitionClause7")),t.push(u("clubRules.prohibitionClause8")),t.push(u("clubRules.prohibitionClause9"));let i="";for(let n=0,a=t.length;n<a;n++){let r=n+1+". "+t[n]+`
`;i+=r}return i}function Pu(){let e=[u("clubRules.belowTips1",{hour_text:Vt(24)}),u("clubRules.belowTips2",{ban_hour_text:Vt(12),mute_hour_text:Vt(24)}),u("clubRules.belowTips3",{hour_text:Vt(24),disband_text:u("clubRules.beDisbanded"),ban_create_text:u("clubRules.nowAllowCreateClub")})],t="";for(let i=0,n=e.length;i<n;i++){let a=i<n-1?`
`:"",r="- "+e[i]+a;t+=r}return t}function Bu(e){let t="";return t=`${u("msg.clubHaveCreatedFounder")}
`,t+=`${u("clubRules.readCarefully")}
`,t+=`${u("clubRules.notTalkBelowContent")}
`,t+=`${Pr(e)}`,t+=`${u("clubRules.punishedTips")}
`,t+=`${Pu()}`,t}function Mr(){let e="";return e=`${u("msg.clubJoinSelf")}
`,e+=`${u("clubRules.readCarefully")}
`,e+=`${u("clubRules.notTalkBelowContent")}
`,e+=`${Pr(!ae())}`,e+=`${u("msg.chatManner")}
`,e+=`${u("msg.chatReportedWillBanned")}
`,e+=`${u("msg.chatClubReportTip")}`,e}var $u={"view-n":{"":{position:"fixed",top:0,left:0}},"view-content":{"":{marginLeft:12,height:"144rpx",borderRadius:"16rpx",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},"view-user":{"":{flexDirection:"row",marginLeft:"24rpx",flex:1,marginRight:"20rpx"}},"view-msg":{"":{height:"90rpx",marginLeft:"20rpx",flexDirection:"column",justifyContent:"space-between"}},"text-content":{"":{fontSize:"24rpx",textOverflow:"ellipsis",lines:1}},"text-reply":{"":{width:"152rpx",height:"76rpx",lineHeight:"76rpx",borderWidth:"2rpx",borderStyle:"solid",borderColor:"#FF4477",borderRadius:"10rpx",textAlign:"center",fontSize:"32rpx",color:"#FF4477",marginRight:"24rpx"}},"view-action":{"":{flexDirection:"row",alignItems:"center",marginRight:"16rpx"}}},Uu={components:{AvatarImg:Ye,MText:Le,MView:ki,LImg:$,UBaseInfo:it,CallBtnAnswer:Fr},emits:["onCallAnswer"],props:{id:{type:String,default:""},gameInfo:{type:Object,default(){return{}}},isCallConnect:{type:[Boolean,Number],default:!1},fromType:{type:Number,default:0}},data(){return{isAndroid:w.isAndroid,sW:getApp().globalData.window.width,viewW:getApp().globalData.window.width-24,marginTop:0,show:!1,type:0,msgContentStr:"",user:{},closeTimer:!1,callData:{},startY:0,club:{},themeObj:getApp().globalData.themeObj}},computed:{avatarSrc(){return this.type==3?this.club.club_logo:this.user.small_avatar||this.user.avatar},nameWidthVal(){let e;return this.type==1?e=this.user.is_vip?175:220:e=200,this.user.level<=0&&(e+=56),`${e}rpx`},viewBg(){return this.themeObj.style==K.LIGHT?this.themeObj.color.bg3:"#444444"},mysteryAvatar(){return this.type==3||!this.user.hide_profile?"":Ci(this.user)},mysteryNickname(){return this.type==3||!this.user.hide_profile?"":kt(this.user)}},methods:{$str:u,onViewTouchMove(){},onViewTouch(e){let t;t=e.changedTouches[0].screenY.toFixed(2),this.startY=t},onViewTouchEnd(e){let t;t=e.changedTouches[0].screenY.toFixed(2),this.startY-t>25&&this.close(),this.startY=0},clickReply(){this.show=!1,this.type==1&&dt(this.user)},clickAnswer(e){e&&e.stopPropagation(),this.fromType==1&&this.$emit("onCallAnswer",this.callData),this.close()},clickHangUp(e){if(e&&e.stopPropagation(),!m(this.callData.hangup_tips)){et(u("tips"),this.callData.hangup_tips,()=>{this.reqHangUp()},"",u("hangUp"));return}this.reqHangUp()},reqHangUp(){let e={room_id:this.callData.room_id};B.request("/chat/call/end",e,!1),this.close()},change(e){e.detail?this.setTimer():clearTimeout(this.closeTimer)},setTimer(){if(this.closeTimer)return;let e=this.type==2?2e4:5500;this.closeTimer=setTimeout(()=>{this.show=!1},e)},cleatTimer(){clearTimeout(this.closeTimer),this.closeTimer=!1},initMsg(e){if(!this.isCallConnect){if(this.cleatTimer(),this.setTimer(),e.chat_type==w.M_CHAT_CLUB){this.type=3,this.club=e.club_info;let t="",i=e.user_infos[e.send_uid];i&&i.uid!=w.SYSTEM_ID&&(t=`${i.nickname}: `),this.msgContentStr=`${t}${vn(e,i)}`}else this.type=1,this.user=e.user_info,this.msgContentStr=vn(e,e.user_info);this.show=!0}},initCall(e){this.isCallConnect||(this.type=2,this.cleatTimer(),this.setTimer(),this.callData=e,this.user=e.user_info,this.msgContentStr=u("call.inviteYou",{chatType:ci(e.type)}),this.show=!0)},showCall(e){if(this.fromType==1){if(this.show){this.close(),setTimeout(()=>{this.initCall(e)},500);return}this.initCall(e)}},close(){this.cleatTimer(),this.show=!1},init(e){(e.notifyType==1||e.notifyType==4)&&this.initMsg(e)}},created(){let e=getCurrentPages(),n=e[e.length-1].$getAppWebview().getNavigationbar();m(n)||Object.keys(n).length<=0?this.marginTop=getApp().globalData.window.statusBarHeight+12:this.marginTop=12,uni.$on(`event_${this.id}_n`,this.init)},unmounted(){uni.$off(`event_${this.id}_n`,this.init)}};function Hu(e,t,i,n,a,r){let s=D((0,O.resolveDynamicComponent)("avatar-img"),Ye),l=D((0,O.resolveDynamicComponent)("l-img"),$),c=(0,O.resolveComponent)("m-text"),d=D((0,O.resolveDynamicComponent)("u-base-info"),it),p=(0,O.resolveComponent)("call-btn-answer"),f=D((0,O.resolveDynamicComponent)("uni-transition"),Oe);return(0,O.openBlock)(),(0,O.createElementBlock)("view",{class:"view-n",renderWhole:!0},[(0,O.createVNode)(f,{"mode-class":"slide-top",show:a.show,duration:400,onChange:r.change,style:(0,O.normalizeStyle)({width:`${a.sW}px`,padding:a.isAndroid?"6px 0":""})},{default:(0,O.withCtx)(()=>[(0,O.createElementVNode)("view",{onTouchstart:t[2]||(t[2]=(...y)=>r.onViewTouch&&r.onViewTouch(...y)),onTouchend:t[3]||(t[3]=(...y)=>r.onViewTouchEnd&&r.onViewTouchEnd(...y)),onTouchmove:t[4]||(t[4]=(0,O.withModifiers)((...y)=>r.onViewTouchMove&&r.onViewTouchMove(...y),["stop","prevent"])),elevation:"5px",class:"view-content",style:(0,O.normalizeStyle)({width:`${a.viewW}px`,marginTop:`${a.marginTop}px`,boxShadow:a.isAndroid?"":"0 2px 10px 0 rgba(0, 0, 0, 0.3)",background:r.viewBg})},[(0,O.createElementVNode)("view",{class:"view-user"},[r.mysteryAvatar?((0,O.openBlock)(),(0,O.createBlock)(s,{key:0,user:a.user,w:"92rpx",h:"92rpx",radius:"46rpx"},null,8,["user"])):((0,O.openBlock)(),(0,O.createBlock)(l,{key:1,onClick:r.clickReply,src:r.avatarSrc,w:"92rpx",h:"92rpx",radius:"46rpx"},null,8,["onClick","src"])),(0,O.createElementVNode)("view",{onClick:t[0]||(t[0]=(...y)=>r.clickReply&&r.clickReply(...y)),class:"view-msg"},[a.type==3?((0,O.openBlock)(),(0,O.createBlock)(c,{key:0,text:a.club.club_name},null,8,["text"])):((0,O.openBlock)(),(0,O.createElementBlock)("view",{key:1},[r.mysteryNickname?((0,O.openBlock)(),(0,O.createBlock)(c,{key:0,text:r.mysteryNickname},null,8,["text"])):((0,O.openBlock)(),(0,O.createBlock)(d,{key:1,info:a.user,nameSize:"32rpx",fw:"500",nameWidth:r.nameWidthVal},null,8,["info","nameWidth"]))])),(0,O.createElementVNode)("u-text",{class:"text-content",style:(0,O.normalizeStyle)({width:`${a.type==2?320:390}rpx`,color:a.themeObj.color.tip})},(0,O.toDisplayString)(a.msgContentStr),5)])]),a.type==1||a.type==3?((0,O.openBlock)(),(0,O.createElementBlock)("u-text",{key:0,onClick:t[1]||(t[1]=(...y)=>r.clickReply&&r.clickReply(...y)),class:"text-reply"},(0,O.toDisplayString)(r.$str("reply")),1)):((0,O.openBlock)(),(0,O.createElementBlock)("view",{key:1,class:"view-action"},[(0,O.createVNode)(l,{onClick:r.clickHangUp,src:"s/call/hang_up_1.png",w:"76rpx",h:"76rpx",style:{"margin-right":"40rpx"}},null,8,["onClick"]),(0,O.createVNode)(p,{onClick:r.clickAnswer,"call-type":a.callData.type,"anim-w":108,"bg-w":76,"icon-w":42,"icon-v-w":32},null,8,["onClick","call-type"])]))],36)]),_:1},8,["show","onChange","style"])])}var Br=x(Uu,[["render",Hu],["styles",[$u]]]);var b=z(Y());var Rt=z(Y()),Wu={emits:["onEvent"],props:{src:{type:String,default:""},autoPlay:{type:Boolean,default:!1},loops:{type:Number,default:0},repeatMode:{type:Number,default:1},frame:{type:Number,default:0},progress:{type:Number,default:0},speed:{type:Number,default:1},eventStep:{type:Boolean,default:!1}},data(){return{refView:null}},computed:{params(){return{src:Za(ke(this.src),!1),autoPlay:this.autoPlay,loops:this.loops,repeatMode:this.repeatMode,initFrame:this.frame,progress:this.progress,speed:this.speed,eventStep:this.eventStep}}},methods:{event(e){m(e)||typeof e.detail=="undefined"||this.$emit("onEvent",e.detail)},play(){this.$refs.lottie&&this.$refs.lottie.play()},pause(){this.$refs.lottie&&this.$refs.lottie.pause()},resume(){this.$refs.lottie&&this.$refs.lottie.resume()},stop(){this.$refs.lottie&&this.$refs.lottie.stop()},setFrame(e){this.$refs.lottie&&this.$refs.lottie.setFrame(e)},setProgress(e){this.$refs.lottie&&this.$refs.lottie.setProgress(e)},setSpeed(e){this.$refs.lottie&&this.$refs.lottie.setSpeed(e)},setEventStep(e){this.$refs.lottie&&this.$refs.lottie.setEventStep(e)}},created(){}};function Gu(e,t,i,n,a,r){let s=(0,Rt.resolveComponent)("nav-anim-lottie");return(0,Rt.openBlock)(),(0,Rt.createBlock)(s,{ref:"lottie",params:r.params,onEvent:r.event},null,8,["params","onEvent"])}var $r=x(Wu,[["render",Gu]]);var Ur="call_evaluate_label_res";function Wr(){return new Promise(e=>{let t=G(Ur),i=Ht();if(m(t)||m(t.res[i])||getApp().globalData.callEvaluateVersion>parseInt(t.version))B.request("/chat/call/tap-reason",{}).then(n=>{let a=n.data.reason_list,r=Ge(JSON.stringify(t));m(r)&&(r={}),m(r.res)&&(r.res={}),r.res[i]=a;let s={version:n.data.version,res:r.res};q(Ur,s);let l=Hr(a);e(l)});else{let n=Hr(t.res[i]);e(n)}})}var Vu=[{id:"es",title:"espa\xF1ol",code:"es"},{id:"en",title:"English",code:"en"},{id:"ar",title:"\u0639\u0631\u0628\u064A",code:"ar"},{id:"fr",title:"Fran\xE7ais",code:"fr"},{id:"pt",title:"Portugu\xEAs",code:"pt"},{id:"vi",title:"Ti\u1EBFng Vi\u1EC7t",code:"vi"},{id:"tr",title:"T\xFCrk",code:"tr"},{id:"it",title:"Italiano",code:"it"},{id:"id",title:"bahasa Indonesia",code:"id"},{id:"de",title:"Deutsch",code:"de"},{id:"ru",title:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",code:"ru"},{id:"ro",title:"Rom\xE2n\u0103",code:"ro"},{id:"ms",title:"Melayu",code:"ms"},{id:"pl",title:"Polski",code:"pl"},{id:"nl",title:"Nederlands",code:"nl"},{id:"th",title:"\u0E44\u0E17\u0E22",code:"th"},{id:"iw",title:"\u05E2\u05B4\u05D1\u05E8\u05B4\u05D9\u05EA",code:"iw"},{id:"ja",title:"\u65E5\u672C",code:"ja"},{id:"hu",title:"Magyar",code:"hu"},{id:"sv",title:"svenska",code:"sv"},{id:"ko",title:"\uD55C\uAD6D\uC5B4 \uACF5\uBD80 \uD574\uC694.",code:"ko"},{id:"uk",title:"\u0443\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430",code:"uk"},{id:"mn",title:"\u041C\u043E\u043D\u0433\u043E\u043B",code:"mn"}];function Gr(){let e=gi(!1),t=-1,i=Ge(JSON.stringify(Vu));if(i.filter((n,a)=>{let r=e==n.code;return r&&(t=a),r}),t!=-1){let n=i[t];i.splice(t,1),i.unshift(n)}return i}function Hr(e){return ae()?e.filter(t=>t.identity!=1):e.filter(t=>t.identity!=2)}var Vr={},jr={props:{src:{type:String,default:""},w:{type:String,default:"0"},h:{type:String,default:"0"}},data(){return{svgaPath:"",isHide:!1}},created(){ke(this.src,e=>{this.svgaPath=e})}};function ju(e,t,i,n,a,r){return(0,b.openBlock)(),(0,b.createElementBlock)("div",{id:"renderScript",class:"view-anim",style:(0,b.normalizeStyle)({width:i.w,height:i.h}),svgaPath:a.svgaPath,"change:svgaPath":e.renderScript.animPathChange,isHide:a.isHide,"change:isHide":e.renderScript.isHideChange},null,12,["svgaPath","change:svgaPath","isHide","change:isHide"])}typeof Vr=="function"&&Vr(jr);var zu=x(jr,[["render",ju]]),Yu={"view-container":{"":{color:"#333333",position:"fixed",zIndex:11111}},center:{"":{flexDirection:"row",alignItems:"center",justifyContent:"flex-start"}},"center-align":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"center-between":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},"view-evaluate":{"":{flex:1,backgroundColor:"#FFFFFF",boxShadow:"0 4rpx 20rpx 0 rgba(0, 0, 0, 0.1), 0 0 12rpx 0 rgba(0, 0, 0, 0.1)",borderRadius:"16rpx",borderWidth:"2rpx",borderStyle:"solid",borderColor:"rgba(0,0,0,0.15)",paddingTop:"24rpx",paddingRight:"20rpx",paddingBottom:"24rpx",paddingLeft:"20rpx",boxSizing:"border-box"}},"view-header":{"":{flexDirection:"row",flex:1,alignItems:"center",justifyContent:"space-between"}},"like-wrap":{"":{height:"60rpx",backgroundColor:"#F1F3F6",borderRadius:"30rpx",paddingTop:0,paddingRight:"16rpx",paddingBottom:0,paddingLeft:"16rpx",marginLeft:"20rpx"}},"split-line":{"":{height:"2rpx",backgroundColor:"rgba(0,0,0,0.1)",transform:"scaleY(0.5)",transformOrigin:"50% 100%",marginTop:"12rpx"}},"split-line-ver":{"":{width:"2rpx",height:"28rpx",backgroundColor:"rgba(0,0,0,0.1)",marginTop:0,marginRight:"12rpx",marginBottom:0,marginLeft:"12rpx"}},"enjoy-text":{"":{lineHeight:"22rpx",marginTop:"10rpx",fontSize:"20rpx",color:"#666666",lines:1,overflow:"hidden",textOverflow:"ellipsis"}},"close-icon":{"":{position:"absolute",top:0,right:0,paddingLeft:"20rpx",paddingBottom:"20rpx"}},"close-bg":{".close-icon ":{minWidth:"16px",minHeight:"16px",width:16,height:16,borderRadius:8,backgroundColor:"#FFFFFF",borderWidth:"2rpx",borderStyle:"solid",borderColor:"rgba(0,0,0,0.1)"}},"report-label":{"":{backgroundColor:"#F1F3F6",borderRadius:"8rpx",paddingTop:0,paddingRight:"28rpx",paddingBottom:0,paddingLeft:"28rpx",minWidth:"max-content",borderWidth:"2rpx",borderStyle:"solid",borderColor:"#F1F3F6",marginTop:"12rpx",marginRight:"12rpx"}},"report-text":{".report-label ":{height:"44rpx",lineHeight:"44rpx",minWidth:"max-content",fontSize:"20rpx"}},active:{"":{"!borderWidth":"2rpx","!borderStyle":"solid","!borderColor":"#FF4477","!backgroundColor":"rgba(255,68,119,0.1)"}},"input-wrap":{"":{height:"56rpx",borderRadius:"4rpx",borderWidth:"2rpx",borderStyle:"solid",borderColor:"rgba(0,0,0,0.1)",paddingTop:0,paddingRight:"12rpx",paddingBottom:0,paddingLeft:"12rpx",marginTop:"12rpx"}},"reason-tips":{"":{marginTop:"10rpx",fontSize:"20rpx",color:"#999999"}},"reason-input":{"":{marginLeft:"16rpx",fontSize:"20rpx",flex:1}},"submit-btn":{"":{backgroundImage:"linear-gradient(to right, #FF00BD, #FF5954)",borderRadius:"12rpx",marginTop:"20rpx",height:"56rpx"}},"submit-text":{".submit-btn ":{textAlign:"center",color:"#FFFFFF",lineHeight:"56rpx",fontSize:"22rpx"}},"nickname-text":{"":{lineHeight:"28rpx",fontSize:"24rpx",fontWeight:"600",lines:1,overflow:"hidden",textOverflow:"ellipsis"}}},Ku={components:{Lottie:$r,LSvga:zu,UniIcons:_e,LImg:$,UniTransition:Oe},props:{id:{type:String,default:""},isTab:{type:Boolean,default:!1},noNavbar:{type:Boolean,default:!1}},data(){return{show:!1,userInfo:{},closeTimer:!1,roomId:0,evaluateId:"",isUnlike:!1,reasonList:[],pageShow:!1,inputReason:"",chooseIds:[],hasClick:!1,scrollViewW:getApp().globalData.window.width-88,windowInfo:getApp().globalData.window,cursorSpacing:uni.upx2px(126),hasLike:!1,hasUnlike:!1,showPath:!1,isFocus:!1,keyboardH:0,eventPathKey:""}},computed:{viewStyle(){let e={};return this.isUnlike?(e.width=this.windowInfo.width+"px",this.isTab||this.noNavbar?e.height=this.windowInfo.height+"px":e.height=this.windowInfo.height-this.windowInfo.statusBarHeight-this.windowInfo.navBarHeight+"px",e.left=0,e.top=0):(e.width=this.windowInfo.width-72+"px",e.bottom=this.contentBottom+"px",e.left="36px"),e},contentStyle(){let e={},t=this.isTab?50:0,i=this.isTab?20:34;if(this.isUnlike){let n=this.windowInfo.safeBottom+t+i;e.position="absolute",e.left="36px",this.isFocus&&(n=this.keyboardH+2),e.bottom=n+"px"}return e.width=this.windowInfo.width-72+"px",e},contentBottom(){if(this.isTab)return 20;let e=this.windowInfo.safeBottom;return e+=34},nicknameWidth(){let t=this.windowInfo.width-88-uni.upx2px(324);return this.ageText&&(t-=uni.upx2px(50)),t},ageText(){let e="";return this.userInfo.birthday&&(e=", "+pi(this.userInfo.birthday)),e},enjoyText(){let e=He(this.userInfo.sex);return u("enjoyCallWithOther",{her:e})},enjoyTextWidth(){return this.windowInfo.width-88-uni.upx2px(324)}},methods:{$str:u,clickView(e){e&&e.stopPropagation();let t=this.$refs.inputReason;t&&t.blur&&t.blur()},clickClose(){this.pageShow&&(uni.hideKeyboard(),uni.offKeyboardHeightChange(this.onKeyboardChange),this.show=!1,this.pageShow=!1,this.$nextTick(()=>{this.inputReason="",this.chooseIds=[],this.hasClick=!1,this.hasLike=!1,this.hasUnlike=!1,this.isUnlike=!1,this.evaluateId="",this.roomId=0,this.userInfo={},this.isFocus=!1}))},clickSubmit(e){if(e&&e.stopPropagation(),m(this.chooseIds)&&m(this.inputReason))bi(u("callEvaluateFeedbackTips")),this.clickClose();else{let t={evaluate_id:this.evaluateId};m(this.chooseIds)||(t.reason=this.chooseIds.join(",")),m(this.inputReason)||(t.content=this.inputReason),B.request("/chat/call/tap-record",t,!0,!0).then(()=>{this.clickClose(!1),bi(u("callEvaluateFeedbackTips"))})}},clickReportItem(e,t){e&&e.stopPropagation();let i=this.chooseIds.indexOf(t);i==-1?this.chooseIds.push(t):this.chooseIds.splice(i,1)},clickLike(e){e&&e.stopPropagation(),!this.hasClick&&(this.hasClick=!0,this.hasLike=!0,this.reqEvaluate(1))},clickUnlike(e){e&&e.stopPropagation(),!this.hasClick&&(this.hasClick=!0,this.hasUnlike=!0,this.$nextTick(()=>{this.reqEvaluate(2).then(()=>Wr()).then(t=>{this.parseReason(t),this.$nextTick(()=>{this.isUnlike=!0})})}))},startTimer(e){this.clearTimer(),this.closeTimer=setTimeout(()=>{this.clearTimer(),this.show=!1},e*1e3)},clearTimer(){this.closeTimer&&clearTimeout(this.closeTimer)},preventHandler(){},onKeyboardChange(e){this.keyboardH=e.height,this.isFocus=e.height>0},reqEvaluate(e){return this.clearTimer(),new Promise(t=>{let i={uid:getApp().globalData.uid,target_uid:this.userInfo.uid,room_id:this.roomId,type:e};B.request("/chat/call/evaluate",i,!1,!0).then(n=>{this.evaluateId=n.data.evaluate_id,e==1?this.startTimer(2):(this.clearTimer(),t())},()=>{this.hasClick=!1,this.startTimer(2)})})},parseReason(e){let t=e.length,i=parseInt(t/2),n=[];for(let a=0;a<t;a+=i)n.push({list:e.slice(a,a+i)});this.reasonList=n},init(e,t){this.userInfo=e,this.roomId=t,this.hasClick=!1,this.pageShow=!0,this.$nextTick(()=>{this.show=!0,this.startTimer(5),uni.onKeyboardHeightChange(this.onKeyboardChange)})}},created(){this.eventPathKey=Qe("fullPath"),uni.$on(`event_${this.eventPathKey}_show_call_evaluate`,this.init),uni.$on(`event_${this.eventPathKey}_close_call_evaluate`,this.clickClose),ke("s/call/evaluate_like.svga"),ke("s/call/evaluate_unlike.svga"),ke("s/call/evaluate_like.json"),ke("s/call/evaluate_unlike.json")},unmounted(){this.clearTimer(),uni.offKeyboardHeightChange(this.onKeyboardChange),uni.$off(`event_${this.eventPathKey}_show_call_evaluate`,this.init),uni.$off(`event_${this.eventPathKey}_close_call_evaluate`,this.clickClose)}};function qu(e,t,i,n,a,r){let s=D((0,b.resolveDynamicComponent)("l-img"),$),l=(0,b.resolveComponent)("lottie"),c=D((0,b.resolveDynamicComponent)("uni-icons"),_e),d=D((0,b.resolveDynamicComponent)("uni-transition"),Oe);return a.pageShow?((0,b.openBlock)(),(0,b.createElementBlock)("view",{key:0,class:"view-container",onClick:t[5]||(t[5]=(...p)=>r.clickView&&r.clickView(...p)),onTouchmove:t[6]||(t[6]=(0,b.withModifiers)((...p)=>r.preventHandler&&r.preventHandler(...p),["stop","prevent"])),style:(0,b.normalizeStyle)(r.viewStyle),renderWhole:!0},[(0,b.createVNode)(d,{"mode-class":"fade",show:a.show,duration:300,style:(0,b.normalizeStyle)(r.contentStyle)},{default:(0,b.withCtx)(()=>[(0,b.createElementVNode)("view",{style:{padding:"8px",position:"relative"}},[(0,b.createElementVNode)("view",{class:"view-evaluate"},[(0,b.createElementVNode)("view",{class:"view-header"},[(0,b.createElementVNode)("view",{class:"center"},[(0,b.createVNode)(s,{src:a.userInfo.small_avatar,w:"62rpx",h:"62rpx",radius:"31rpx",border:"2rpx solid #EEEEEE"},null,8,["src"]),(0,b.createElementVNode)("view",{style:{"margin-left":"16rpx"}},[(0,b.createElementVNode)("view",{class:"center"},[(0,b.createElementVNode)("u-text",{style:(0,b.normalizeStyle)({maxWidth:`${r.nicknameWidth}px`}),class:"nickname-text"},(0,b.toDisplayString)(a.userInfo.nickname),5),r.ageText?((0,b.openBlock)(),(0,b.createElementBlock)("u-text",{key:0,style:{"line-height":"28rpx","font-size":"24rpx","font-weight":"600"}},(0,b.toDisplayString)(r.ageText),1)):(0,b.createCommentVNode)("",!0)]),(0,b.createElementVNode)("u-text",{class:"enjoy-text",style:(0,b.normalizeStyle)({maxWidth:`${r.enjoyTextWidth}px`})},(0,b.toDisplayString)(r.enjoyText),5)])]),(0,b.createElementVNode)("view",{class:"like-wrap center"},[(0,b.createElementVNode)("view",{onClick:t[0]||(t[0]=(...p)=>r.clickLike&&r.clickLike(...p))},[a.hasLike?((0,b.openBlock)(),(0,b.createBlock)(l,{key:1,src:"s/call/evaluate_like.json","auto-play":!0,style:{width:"60rpx",height:"60rpx"}})):((0,b.openBlock)(),(0,b.createBlock)(s,{key:0,onClick:r.clickLike,src:"s/pub/evaluate_like_n.png",w:"60rpx",h:"60rpx"},null,8,["onClick"]))]),(0,b.createElementVNode)("view",{class:"split-line-ver"}),(0,b.createElementVNode)("view",{onClick:t[1]||(t[1]=(...p)=>r.clickUnlike&&r.clickUnlike(...p))},[a.hasUnlike?((0,b.openBlock)(),(0,b.createBlock)(l,{key:1,src:"s/call/evaluate_unlike.json","auto-play":!0,style:{width:"60rpx",height:"60rpx"}})):((0,b.openBlock)(),(0,b.createBlock)(s,{key:0,onClick:r.clickUnlike,src:"s/pub/evaluate_unlike_n.png",w:"60rpx",h:"60rpx"},null,8,["onClick"]))])])]),a.isUnlike?((0,b.openBlock)(),(0,b.createElementBlock)("view",{key:0,class:"m-t-8"},[(0,b.createElementVNode)("view",{class:"split-line"}),(0,b.createElementVNode)("u-text",{class:"reason-tips"},(0,b.toDisplayString)(r.$str("callEvaluateTips")),1),(0,b.createElementVNode)("scroll-view",{scrollX:!0,showScrollbar:!1,style:{"flex-direction":"row",flex:"1"}},[(0,b.createElementVNode)("view",null,[((0,b.openBlock)(!0),(0,b.createElementBlock)(b.Fragment,null,(0,b.renderList)(a.reasonList,(p,f)=>((0,b.openBlock)(),(0,b.createElementBlock)("view",{key:f,class:"center"},[((0,b.openBlock)(!0),(0,b.createElementBlock)(b.Fragment,null,(0,b.renderList)(p.list,(y,R)=>((0,b.openBlock)(),(0,b.createElementBlock)("view",{key:f+"_"+R,onClick:(0,b.withModifiers)(E=>r.clickReportItem(E,y.id),["stop"]),class:(0,b.normalizeClass)(["report-label",[a.chooseIds.indexOf(y.id)!=-1?"active":""]])},[(0,b.createElementVNode)("u-text",{class:"report-text"},(0,b.toDisplayString)(y.title),1)],10,["onClick"]))),128))]))),128))])]),(0,b.createElementVNode)("view",{class:"input-wrap center"},[(0,b.createVNode)(s,{src:"s/pub/evaluate_edit.png",w:"24rpx",h:"24rpx"}),(0,b.createElementVNode)("u-input",{ref:"inputReason",modelValue:a.inputReason,onInput:t[2]||(t[2]=p=>a.inputReason=p.detail.value),type:"text",placeholder:r.$str("callEvaluateInputTips"),cursorSpacing:a.cursorSpacing,adjustPosition:!1,class:"reason-input"},null,40,["modelValue","placeholder","cursorSpacing"])]),(0,b.createElementVNode)("view",{onClick:t[3]||(t[3]=(...p)=>r.clickSubmit&&r.clickSubmit(...p)),class:"submit-btn center-align"},[(0,b.createElementVNode)("u-text",{class:"submit-text"},(0,b.toDisplayString)(r.$str("submit")),1)])])):(0,b.createCommentVNode)("",!0)]),a.isUnlike?((0,b.openBlock)(),(0,b.createElementBlock)("view",{key:0,onClick:t[4]||(t[4]=p=>r.clickClose(!1)),class:"close-icon"},[(0,b.createElementVNode)("view",{class:"close-bg center-align"},[(0,b.createVNode)(c,{type:"closeempty",size:"20rpx",color:"#333333",style:{"margin-top":"2rpx"}})])])):(0,b.createCommentVNode)("",!0)])]),_:1},8,["show","style"])],36)):(0,b.createCommentVNode)("",!0)}var kn=x(Ku,[["render",qu],["styles",[Yu]]]);var wf=z(Y());function Ju(e,t,i,n,a){return new Promise(r=>{getApp().globalData.pluginUpload.singleUpS3({filePath:e,isBase64:t,coverFilePath:i,coverIsBase64:n,ossInfo:a},s=>{r(s)})})}function zr(e){return new Promise(t=>{getApp().globalData.pluginUpload.uploadList(e,i=>{t(i)})})}var Xu=2,Ln="/upload/params-s3";function In(e,t){return new Promise((i,n)=>De(this,null,function*(){let a=[];for(let s=0,l=e.length;s<l;s++){let c=e[s],d={type:c.media_type,flag:t},p=yield fn(c.filePath);p&&(m(p.digest)||(d.md5=p.digest)),a.push(d)}let r={list:a};B.request(Ln,r,!1,!0).then(s=>{let l=[];for(let c=0,d=s.data.list.length;c<d;c++){let p=s.data.list[c];p.is_upload||l.push(p.upload_id)}i({upType:Xu,list:s.data.list,uploadIdList:l})},s=>{ed(r,s),n(s)})}))}function Yr(e,t,i,n,a=null,r=null){return new Promise((s,l)=>De(this,null,function*(){let c=e.replace("file://",""),d={flag:t,type:i};a&&(d.width=a.width,d.height=a.height),r&&(d=Object.assign(d,r));try{if(n){let f=yield fn(c),y="";f&&(y=f.digest),m(y)||(d.md5=y)}let p=yield B.request(Ln,d,!1,!0);if(p.ok==1&&p.data.is_upload)F("log","at common/api-upload.js:73","upload media is_upload true"),s({path:p.data.dir,smallPath:p.data.small_url,uploadId:p.data.upload_id||0});else{let f=p.data.upload_id,y=yield Zu(c,"",p.data);f&&Rn([f]),y.uploadId=f||0,s(y)}}catch(p){let f=qa(p);F("error","at common/api-upload.js:88","upload media fail "+f),Qu(t,d,f),l(p)}}))}function Rn(e){m(e)||B.request("/upload/success",{id:e},!1,!0).then(t=>{F("error","at common/api-upload.js:162","-----> api upload/success response",t)},t=>{F("error","at common/api-upload.js:164","-----> api upload/success response error",t)})}function Zu(e,t,i,n=0,a=0){return new Promise((r,s)=>{Ju(e,n,t,a,i).then(l=>{F("log","at common/api-upload.js:171","upload plugin s3 result",l),(typeof l=="object"?l.success:l)?r({path:i.dir.path,smallPath:i.dir.small_url}):s(`_upModuleS3 ${JSON.stringify(l)}`)})})}function Qu(e,t,i){let n=e=="auth"?"upload_auth":"upload",a=bt(t);B.accessLogExtra(n,`${e} ${a}`,i)}function ed(e,t){B.accessLogApi("upload",Ln,e,t)}function Xr(e){return De(this,null,function*(){try{let t=yield Qr(e.mediaList),i=yield In(t,"album"),n=es(e,t,i),a="/coach/media/add",r={album_list:n.mediaList};if(n.upFileList.length>0){let s={type:i.upType,fileList:n.upFileList,api:a,apiParams:r},l=yield ts(e.id,s,i.uploadIdList,"album");a=l.api,r=l.apiParams}B.request(a,r,!1,!0).then(s=>{uni.$emit("event_album_publish_finish",{status:!0,id:e.id})},()=>{Kr(e.id)})}catch(t){F("error","at com/upload.js:59","app upload album catch",t),Kr(e.id)}})}function Kr(e){F("error","at com/upload.js:65","app upload album publish fail - id = "+e),uni.$emit("event_album_publish_finish",{status:!1,id:e})}function Zr(e){return De(this,null,function*(){try{let t=yield Qr(e.mediaList),i=yield In(t,"moment"),n=es(e,t,i),a="/moment/release",r={content:e.content,medias:n.mediaList,auto_type:e.auto_type};if(n.upFileList.length>0){let l={type:i.upType,fileList:n.upFileList,api:a,apiParams:r},c=yield ts(e.id,l,i.uploadIdList,"moment");a=c.api,r=c.apiParams}if(!m(e.ossList)){e.ossList.length>1&&(e.ossList=e.ossList.reverse());for(let l=0,c=e.ossList.length;l<c;l++)r.medias.unshift(e.ossList[l])}let s=yield B.request(a,r,!1,!0);s.data&&zt(s.data.balance),uni.$emit("event_dynamic_publish_finish",{status:!0,id:e.id,item:{id:s.data.moment_id}})}catch(t){F("error","at com/upload.js:102","app upload dynamic publish catch",t),td(e.id)}})}function td(e){F("error","at com/upload.js:108","app upload dynamic publish fail - id = "+e),uni.$emit("event_dynamic_publish_finish",{status:!1,id:e})}function Qr(e){return De(this,null,function*(){let t=[];for(let i=0,n=e.length;i<n;i++){let a=e[i];a.media_type==w.VIDEO?t.push(yield nd(a.url,a.cover_url,a.width,a.height)):a.media_type==w.PHOTO&&t.push(id(a.url))}return t})}function id(e){return{media_type:w.PHOTO,filePath:e.replace("file://","")}}function nd(e,t,i,n){return De(this,null,function*(){let a=e,r=t,s=yield gn(`${w.isAndroid?"":"file://"}${a}`);if(s?s.size>10*1024*1024:!1){let c=yield hn(a,"medium");c&&(a=plus.io.convertLocalFileSystemURL(c.tempFilePath),r=yield un(a))}return{media_type:w.VIDEO,filePath:a,coverFilePath:r}})}function qr(e,t,i,n){return hi(e,t.filePath),{media_type:w.PHOTO,url:e,width:i.width,height:i.height,img_type:i.img_type||"",upload_id:n||0}}function Jr(e,t,i,n,a){return hi(t,i.coverFilePath),hi(e,i.filePath),{media_type:w.VIDEO,url:e,cover_url:t,width:n.width,height:n.height,duration:n.duration,upload_id:a||0}}function es(e,t,i){let n=[],a=[];for(let r=0,s=t.length;r<s;r++){let l=t[r],c=e.mediaList[r],d=i.list[r];d.is_upload?l.media_type==w.PHOTO?a.push(qr(d.dir,l,c,d.upload_id)):l.media_type==w.VIDEO&&a.push(Jr(d.dir,d.cover_url,l,c,d.upload_id)):(l.ossInfo=d,n.push(l),l.media_type==w.PHOTO?a.push(qr(d.dir.path,l,c,d.upload_id)):l.media_type==w.VIDEO&&a.push(Jr(d.dir.path,d.dir.cover_path,l,c,d.upload_id)))}return{upFileList:n,mediaList:a}}function ts(e,t,i,n){return new Promise((a,r)=>{zr(t).then(s=>{s.status?(a(s),Rn(i)):(B.accessLogExtra("upload",n,s.msg),r(s))})})}function ad(e){let t=`${ln("apps",!1)}agora_log/`;return e==-1?t:`${t}${getApp().globalData.uid}_${e}.log`}function is(e){if(m(e.room_id))return;let t=ad(e.room_id);Yr(t,ka.AGORA,w.TXT,!1,null,{room_id:e.room_id}).then(i=>{mn(t,!0,!1)})}function ns(){F("error","at comExtend/agora-util.js:23","----> \u5220\u9664 \u58F0\u7F51\u65E5\u5FD7");let e=`${ln("apps",!1)}agora_log/`;mn(e)}var Lf=z(Y());function as(e,t){let i=rd();return new Promise(n=>{let a=0;vt(`SELECT * FROM ${i} WHERE uid = ${e.uid} LIMIT 1`).then(r=>{if(r.length>0)if(t&&rn(r[0],e)){a=1;let s=`UPDATE ${i} SET nickname = '${Te(e.nickname)}', avatar = '${e.avatar}', sex = ${te(e.sex)}, birthday = '${ze(e.birthday)}', is_vip = ${te(e.is_vip)}, is_auth = ${te(e.is_auth)}, level = ${te(e.level)}, country_code = '${ze(e.country_code)}', country_flag = '${ze(e.country_flag)}', language = '${ze(e.language)}', hide_vip = ${te(e.hide_vip)}, hide_level = ${te(e.hide_level)}, hide_profile = ${te(e.hide_profile)}, auth_status = ${te(e.auth_status)} WHERE uid = ${e.uid}`;Ve(s).then(()=>{n(a)},()=>{n(a)})}else n(a);else{a=2;let s=`INSERT INTO ${i} (uid, nickname, avatar, sex, birthday, is_vip, is_auth, level, country_code, country_flag, language, hide_vip, hide_level, hide_profile, auth_status) VALUES (${e.uid}, '${Te(e.nickname)}', '${e.avatar}', ${te(e.sex)}, '${ze(e.birthday)}', ${te(e.is_vip)}, ${te(e.is_auth)}, ${te(e.level)}, '${ze(e.country_code)}', '${ze(e.country_flag)}', '${ze(e.language)}', ${te(e.hide_vip)}, ${te(e.hide_level)}, ${te(e.hide_profile)}, ${te(e.auth_status)})`;Ve(s).then(()=>{n(a)},()=>{n(a)})}},()=>{n(a)})})}function rd(){return getApp().globalData.uid==2256587?"tb_user_1":"tb_user"}function sd(e,t){return new Promise(i=>{let n=`SELECT * FROM tb_msg_index WHERE chat_id = ${e} AND chat_type = ${t} LIMIT 1`;vt(n).then(a=>{let r=a[0];r&&(r.msg_content=an(r.msg_content)),i(r)},()=>{i(null)})})}function od(e,t){return new Promise(i=>{let n=ss(e,t);try{let a=`CREATE TABLE IF NOT EXISTS ${n} (id INTEGER PRIMARY KEY AUTOINCREMENT, chat_id INTEGER, chat_type INTEGER, send_uid INTEGER, mtime INTEGER, ctime INTEGER, msg_type INTEGER, msg_content varchar(500), msg_status INTEGER, m_type INTEGER, remark varchar(500))`;Ve(a).then(()=>{Ve(`CREATE index IF NOT EXISTS idx_ctime on ${n} (chat_id, ctime, chat_type)`),Ve(`CREATE index IF NOT EXISTS idx_mtime on ${n} (chat_id, mtime)`),i()})}catch(a){i()}})}function rs(e,t){let i=1;return new Promise(n=>{od(e.chat_id,e.chat_type).then(()=>ld(e)).then(a=>a!=1?(n({isSave:0,isNotice:i}),_t):sd(e.chat_id,e.chat_type)).then(a=>{let r=Ge(e.msg_content),s=typeof e.msg_status=="undefined"?0:Number(e.msg_status);isNaN(s)&&(s=0);let l,c=cd(e,r),d=0,p,f="";m(e.remark)?a&&(f=a.remark||""):f=e.remark,a?(p=a.unread<=0,c?i=0:i=a.msg_notice,a.ctime<e.ctime&&(t&&e.send_uid!=getApp().globalData.uid&&getApp().globalData.curChatId!=e.chat_id?(d=c?0:1,l=`UPDATE tb_msg_index SET unread = ${a.unread+d}, send_uid = ${e.send_uid}, msg_type = ${e.msg_type}, msg_content = '${Te(e.msg_content)}', mtime = ${e.mtime}, ctime = ${e.ctime}, msg_status = ${s}, remark = '${Te(f)}' WHERE chat_id = ${e.chat_id} AND chat_type = ${e.chat_type}`):l=`UPDATE tb_msg_index SET send_uid = ${e.send_uid}, msg_type = ${e.msg_type}, msg_content = '${Te(e.msg_content)}', mtime = ${e.mtime}, ctime = ${e.ctime}, msg_status = ${s}, remark = '${Te(f)}' WHERE chat_id = ${e.chat_id} AND chat_type = ${e.chat_type}`)):(p=!0,i=c?0:1,d=t&&e.send_uid!=getApp().globalData.uid&&!c?1:0,l=`INSERT INTO tb_msg_index (chat_id, chat_type, send_uid, msg_type, msg_content, mtime, ctime, unread, is_top, msg_notice, has_at, msg_status, remark) values (${e.chat_id}, ${e.chat_type}, ${e.send_uid}, ${e.msg_type}, '${Te(e.msg_content)}', ${e.mtime}, ${e.ctime}, ${d}, ${te(e.is_top)}, ${ud(e.msg_notice)}, 0, ${s}, '${Te(f)}')`),m(l)?n({isSave:1,isNotice:0,unread:d,addTabUnread:p}):Ve(l).then(y=>{n({isSave:1,isNotice:i,unread:d,addTabUnread:p})})})})}function ld(e){return new Promise(t=>{let i=ss(e.chat_id,e.chat_type);vt(`SELECT * FROM ${i} WHERE chat_id = ${e.chat_id} AND mtime = ${e.mtime} LIMIT 1`).then(n=>{if(n[0]){t(2);return}e.ctime=dr(e.ctime,e.mtime);let r=`INSERT INTO ${i} (chat_id, chat_type, send_uid, mtime, ctime, msg_type, msg_content, msg_status, m_type, remark) VALUES (${e.chat_id}, ${e.chat_type}, ${e.send_uid}, ${e.mtime}, ${e.ctime}, ${e.msg_type}, '${Te(e.msg_content)}', ${te(e.msg_status)}, 0, '')`;Ve(r).then(()=>{t(1)},()=>{t(0)})},n=>{t(0)})})}function cd(e,t){return e.msg_type==w.M_MATCH_SUCCESS?!0:e.msg_type!=w.M_CALL||e.send_uid==getApp().globalData.uid?!1:t.call_status==2||t.call_status==1}function ud(e){return e==null?1:parseInt(e)}function ss(e,t){let i=dd();if(t==w.M_CHAT_CLUB)return`${i}${e}`;if(e==w.SYSTEM_ID)return`${i}${e}`;let n=Number(e)%10;return`${i}${n}`}function dd(){return"tb_msg_"}var ce=z(Y()),os={data(){return{isShareEnterClose:!1,userInitFinish:getApp().globalData.userInitFinish}},computed:{showShareEnter(){if(getApp().globalData.appCRE==0)return!1;let e=!this.isShareEnterClose&&this.userInitFinish&&getApp().globalData.showShareEnter;if(ae()||!Dt())return e;{let t=G("user_share_enter_status_"+getApp().globalData.uid);return e&&m(t)}},bannerShowLuckyWheel(){return this.userInitFinish?getApp().globalData.prizeWheelShow:!1}},methods:{tabBarChange(e){},onEventUserInit(e){this.userInitFinish=!0,typeof this.onEventUserInitAfter=="function"&&this.onEventUserInitAfter(e)}},onTabItemTap(e){},onShow(){getApp().globalData.curCallId=lt.NONE;let e=getApp().globalData.s.state.pubUnread;At(We.MSG,e),ai(),v("appDialog/executeClubNoticeDialog",{delay:1}),getApp().globalData.isMainTabOnShowFilterAppShow&&getApp().socketCheckConnect(bn.TAB_SHOW),getApp().checkAndroidPayStatus()},onUnload(){uni.$off("event_user_init",this.onEventUserInit),uni.$off("event_close_share_enter")},onLoad(){uni.$on("event_user_init",this.onEventUserInit),uni.$on("event_close_share_enter",()=>{Dt()&&q("user_share_enter_status_"+getApp().globalData.uid,1),this.isShareEnterClose=!0,getApp().globalData.showShareEnter=!1})},onBackPress(e){if(Qa(!1),e.from=="backbutton")return!0}},pd={"share-enter":{"":{position:"fixed",right:0}},"earn-text":{"":{fontSize:"16rpx",fontWeight:"bold",color:"#FFFFFF",position:"absolute",bottom:"40rpx",textAlign:"center",lineHeight:"20rpx",width:"186rpx"}},"close-icon":{"":{paddingTop:"20rpx",paddingRight:"20rpx",paddingBottom:"20rpx",paddingLeft:"20rpx",position:"absolute",top:0,right:"12rpx"}}},md={components:{LImg:$},props:{hasTabBar:{type:Boolean,default:!0}},computed:{marginB(){let e=parseInt(getApp().globalData.window.height*.074),t=uni.upx2px(200),i=16*getApp().globalData.window.scaleH;return e+t+i}},methods:{$str:u,clickThis(e){e&&e.stopPropagation(),ee("/pagesPub/share/index")},clickClose(e){e&&e.stopPropagation(),uni.$emit("event_close_share_enter")}}};function fd(e,t,i,n,a,r){let s=D((0,ce.resolveDynamicComponent)("l-img"),$);return(0,ce.openBlock)(),(0,ce.createElementBlock)("view",{onClick:t[1]||(t[1]=(...l)=>r.clickThis&&r.clickThis(...l)),class:"share-enter",style:(0,ce.normalizeStyle)({bottom:`${r.marginB}px`}),renderWhole:!0},[(0,ce.createElementVNode)("view",{style:{position:"relative",width:"186rpx"}},[(0,ce.createVNode)(s,{onClick:r.clickThis,src:"s/share/home_enter.png",w:"186rpx",h:"180rpx"},null,8,["onClick"]),(0,ce.createElementVNode)("u-text",{class:"earn-text"},(0,ce.toDisplayString)(r.$str("coins.earn")),1),(0,ce.createElementVNode)("view",{onClick:t[0]||(t[0]=(...l)=>r.clickClose&&r.clickClose(...l)),class:"close-icon"},[(0,ce.createVNode)(s,{onClick:r.clickClose,src:"s/share/close.png",w:"26rpx",h:"26rpx"},null,8,["onClick"])])])],4)}var ls=x(md,[["render",fd],["styles",[pd]]]);var cs={data(){return{pubUser:getApp().pubUser,pubAccount:getApp().pubAccount}},methods:{eventVuexWatch(e){F("error","at store/watch.mixin.js:10","event_vuex_watch change "+e),this[e]=getApp()[e],typeof this.onEventVuexWatch=="function"&&this.onEventVuexWatch(e)}},onLoad(){uni.$on("event_vuex_watch",this.eventVuexWatch)},onUnload(){uni.$off("event_vuex_watch",this.eventVuexWatch)}};var le=z(Y());var gd={"uni-status-bar":{"":{height:20}}},hd={name:"UniStatusBar",data(){return{statusBarHeight:20}},mounted(){this.statusBarHeight=uni.getSystemInfoSync().statusBarHeight+"px"}};function _d(e,t,i,n,a,r){return(0,le.openBlock)(),(0,le.createElementBlock)("view",{style:(0,le.normalizeStyle)({height:a.statusBarHeight}),class:"uni-status-bar",renderWhole:!0},[(0,le.renderSlot)(e.$slots,"default")],4)}var bd=x(hd,[["render",_d],["styles",[gd]]]),yd={center:{"":{flexDirection:"row",alignItems:"center"}},navbar:{"":{position:"sticky",top:0}}},us=getApp().globalData.window,wd={components:{UniStatusBar:bd},props:{useBg1_1:{type:Boolean,default:!1}},data(){return{sw:us.width,slotW:us.width-40}},computed:{bg(){return getApp().globalData.themeObj.color.bg2},bgH(){return getApp().globalData.window.statusBarHeight+44}}};function Ad(e,t,i,n,a,r){let s=(0,le.resolveComponent)("uni-status-bar");return(0,le.openBlock)(),(0,le.createElementBlock)("view",{class:"navbar",style:(0,le.normalizeStyle)({width:`${a.sw}px`,background:r.bg}),renderWhole:!0},[(0,le.createVNode)(s),(0,le.createElementVNode)("view",{class:"center",style:{height:"44px",padding:"0 20px"}},[(0,le.renderSlot)(e.$slots,"default")])],4)}var ds=x(wd,[["render",Ad],["styles",[yd]]]);var ue=z(Y());var Sd={"column-center":{"":{flexDirection:"column",alignItems:"center"}}},Td={components:{MText:Le,LImg:$},props:{imgUrl:{type:String,default:""},tip:{type:String,default:""},tipColor:{type:String,default:"desc"}}};function Cd(e,t,i,n,a,r){let s=D((0,ue.resolveDynamicComponent)("l-img"),$),l=(0,ue.resolveComponent)("m-text");return(0,ue.openBlock)(),(0,ue.createElementBlock)("view",{class:"column-center",renderWhole:!0},[(0,ue.createVNode)(s,{src:i.imgUrl,"need-style":1,w:"194rpx",h:"168rpx"},null,8,["src"]),(0,ue.createVNode)(l,{text:i.tip,type:i.tipColor,style:{"text-align":"center","font-size":"28rpx","margin-top":"48rpx","line-height":"40rpx",opacity:".8"}},null,8,["text","type"])])}var Nn=x(Td,[["render",Cd],["styles",[Sd]]]),xd={"column-center":{"":{flexDirection:"column",alignItems:"center"}}},Ed={components:{MText:Le},props:{imgUrl:{type:String,default:""},tip:{type:String,default:""},tipColor:{type:String,default:"desc"}}};function Dd(e,t,i,n,a,r){let s=D((0,ue.resolveDynamicComponent)("l-img"),$),l=(0,ue.resolveComponent)("m-text");return(0,ue.openBlock)(),(0,ue.createElementBlock)("view",{class:"column-center",renderWhole:!0},[(0,ue.createVNode)(s,{src:i.imgUrl,"need-style":1,w:"194rpx",h:"168rpx"},null,8,["src"]),(0,ue.createVNode)(l,{text:i.tip,"use-text":1,type:i.tipColor,style:{"text-align":"center","font-size":"28rpx","margin-top":"48rpx","line-height":"40rpx",opacity:".8"}},null,8,["text","type"])])}var On=x(Ed,[["render",Dd],["styles",[xd]]]);var be=z(Y());var vd=e=>e!==null&&typeof e=="object",kd=["{","}"],Pn=class{constructor(){this._caches=Object.create(null)}interpolate(t,i,n=kd){if(!i)return[t];let a=this._caches[t];return a||(a=Rd(t,n),this._caches[t]=a),Nd(a,i)}},Ld=/^(?:\d)+/,Id=/^(?:\w)+/;function Rd(e,[t,i]){let n=[],a=0,r="";for(;a<e.length;){let s=e[a++];if(s===t){r&&n.push({type:"text",value:r}),r="";let l="";for(s=e[a++];s!==void 0&&s!==i;)l+=s,s=e[a++];let c=s===i,d=Ld.test(l)?"list":c&&Id.test(l)?"named":"unknown";n.push({value:l,type:d})}else r+=s}return r&&n.push({type:"text",value:r}),n}function Nd(e,t){let i=[],n=0,a=Array.isArray(t)?"list":vd(t)?"named":"unknown";if(a==="unknown")return i;for(;n<e.length;){let r=e[n];switch(r.type){case"text":i.push(r.value);break;case"list":i.push(t[parseInt(r.value,10)]);break;case"named":a==="named"&&i.push(t[r.value]);break}n++}return i}var Fn="zh-Hans",ps="zh-Hant",Nt="en",Od="fr",Fd="es",Md=Object.prototype.hasOwnProperty,ms=(e,t)=>Md.call(e,t),Pd=new Pn;function Bd(e,t){return!!t.find(i=>e.indexOf(i)!==-1)}function $d(e,t){return t.find(i=>e.indexOf(i)===0)}function fs(e,t){if(!e)return;if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if(e=e.toLowerCase(),e==="chinese")return Fn;if(e.indexOf("zh")===0)return e.indexOf("-hans")>-1?Fn:e.indexOf("-hant")>-1||Bd(e,["-tw","-hk","-mo","-cht"])?ps:Fn;let i=[Nt,Od,Fd];t&&Object.keys(t).length>0&&(i=Object.keys(t));let n=$d(e,i);if(n)return n}var Bn=class{constructor({locale:t,fallbackLocale:i,messages:n,watcher:a,formater:r}){this.locale=Nt,this.fallbackLocale=Nt,this.message={},this.messages={},this.watchers=[],i&&(this.fallbackLocale=i),this.formater=r||Pd,this.messages=n||{},this.setLocale(t||Nt),a&&this.watchLocale(a)}setLocale(t){let i=this.locale;this.locale=fs(t,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],i!==this.locale&&this.watchers.forEach(n=>{n(this.locale,i)})}getLocale(){return this.locale}watchLocale(t){let i=this.watchers.push(t)-1;return()=>{this.watchers.splice(i,1)}}add(t,i,n=!0){let a=this.messages[t];a?n?Object.assign(a,i):Object.keys(i).forEach(r=>{ms(a,r)||(a[r]=i[r])}):this.messages[t]=i}f(t,i,n){return this.formater.interpolate(t,i,n).join("")}t(t,i,n){let a=this.message;return typeof i=="string"?(i=fs(i,this.messages),i&&(a=this.messages[i])):n=i,ms(a,t)?this.formater.interpolate(a[t],n).join(""):(console.warn(`Cannot translate the value of keypath ${t}. Use the value of keypath as default.`),t)}};function Ud(e,t){e.$watchLocale?e.$watchLocale(i=>{t.setLocale(i)}):e.$watch(()=>e.$locale,i=>{t.setLocale(i)})}function Hd(){return typeof uni!="undefined"&&uni.getLocale?uni.getLocale():typeof global!="undefined"&&global.getLocale?global.getLocale():Nt}function Wd(e,t={},i,n){typeof e!="string"&&([e,t]=[t,e]),typeof e!="string"&&(e=Hd()),typeof i!="string"&&(i=typeof __uniConfig!="undefined"&&__uniConfig.fallbackLocale||Nt);let a=new Bn({locale:e,fallbackLocale:i,messages:t,watcher:n}),r=(s,l)=>{if(typeof getApp!="function")r=function(c,d){return a.t(c,d)};else{let c=!1;r=function(d,p){let f=getApp().$vm;return f&&(f.$locale,c||(c=!0,Ud(f,a))),a.t(d,p)}}return r(s,l)};return{i18n:a,f(s,l,c){return a.f(s,l,c)},t(s,l){return r(s,l)},add(s,l,c=!0){return a.add(s,l,c)},watch(s){return a.watchLocale(s)},getLocale(){return a.getLocale()},setLocale(s){return a.setLocale(s)}}}var Gd={"uni-load-more.contentdown":"Pull up to show more","uni-load-more.contentrefresh":"loading...","uni-load-more.contentnomore":"No more data"},Vd={"uni-load-more.contentdown":"Pull up to show more","uni-load-more.contentrefresh":"Loading...","uni-load-more.contentnomore":"No more data"},jd={"uni-load-more.contentdown":"\u4E0A\u62C9\u986F\u793A\u66F4\u591A","uni-load-more.contentrefresh":"\u6B63\u5728\u52A0\u8F09...","uni-load-more.contentnomore":"\u6C92\u6709\u66F4\u591A\u6578\u64DA\u4E86"},zd={"uni-load-more.contentdown":"Tire hacia arriba para mostrar m\xE1s","uni-load-more.contentrefresh":"cargando...","uni-load-more.contentnomore":"No m\xE1s datos"},Yd={"uni-load-more.contentdown":"\u0627\u0633\u062D\u0628 \u0644\u0623\u0639\u0644\u0649 \u0644\u0625\u0638\u0647\u0627\u0631 \u0627\u0644\u0645\u0632\u064A\u062F","uni-load-more.contentrefresh":"\u062C\u0627\u0631 \u0627\u0644\u062A\u062D\u0645\u064A\u0644...","uni-load-more.contentnomore":"\u0644\u0627 \u0645\u0632\u064A\u062F \u0645\u0646 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"},Kd={"uni-load-more.contentdown":"K\xE9o l\xEAn \u0111\u1EC3 hi\u1EC3n th\u1ECB th\xEAm","uni-load-more.contentrefresh":"\u0111ang t\u1EA3i...","uni-load-more.contentnomore":"Kh\xF4ng c\xF2n d\u1EEF li\u1EC7u"},qd={en:Gd,"zh-Hans":Vd,"zh-Hant":jd,es:zd,ar:Yd,vi:Kd},Jd={"uni-load-more":{"":{flexDirection:"row",height:40,alignItems:"center",justifyContent:"center"}},"uni-load-more__text":{"":{fontSize:14,marginLeft:8}},"uni-load-more__img":{"":{width:24,height:24}},"uni-load-more__img--nvue":{"":{color:"#666666"}},"uni-load-more__img--android":{"":{width:24,height:24,transform:"rotate(0deg)"}},"uni-load-more__img--ios":{"":{width:24,height:24,transform:"rotate(0deg)"}}},gs;setTimeout(()=>{gs=uni.getSystemInfoSync().platform},16);var{t:Mn}=Wd(qd),Xd={name:"UniLoadMore",emits:["clickLoadMore"],props:{status:{type:String,default:"more"},showIcon:{type:Boolean,default:!0},iconType:{type:String,default:"auto"},iconSize:{type:Number,default:24},color:{type:String,default:"#777777"},contentText:{type:Object,default(){return{contentdown:"",contentrefresh:"",contentnomore:""}}},showText:{type:Boolean,default:!1}},data(){return{webviewHide:!1,platform:gs,imgBase64:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzlBMzU3OTlEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzlBMzU3OUFEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDOUEzNTc5N0Q5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDOUEzNTc5OEQ5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pt+ALSwAAA6CSURBVHja1FsLkFZVHb98LM+F5bHL8khA1iSeiyQBCRM+YGqKUnnJTDLGI0BGZlKDIU2MMglUiDApEZvSsZnQtBRJtKwQNKQMFYeRDR10WOLd8ljYXdh+v8v5fR3Od+797t1dnOnO/Ofce77z+J//+b/P+ZqtXbs2sJ9MJhNUV1cHJ06cCJo3bx7EPc2aNcvpy7pWrVoF+/fvDyoqKoI2bdoE9fX1F7TjN8a+EXBn/fkfvw942Tf+wYMHg9mzZwfjxo0LDhw4EPa1x2MbFw/fOGfPng1qa2tzcCkILsLDydq2bRsunpOTMM7TD/W/tZDZhPdeKD+yGxHhdu3aBV27dg3OnDlzMVANMheLAO3btw8KCwuDmpoaX5OxbgUIMEq7K8IcPnw4KCsrC/r37x8cP378/4cAXAB3vqSkJMuiDhTkw+XcuXNhOWbMmKBly5YhUT8xArhyFvP0BfwRsAuwxJZJsm/nzp2DTp06he/OU+cZ64K6o0ePBkOHDg2GDx8e6gEbJ5Q/NHNuAJQ1hgBeHUDlR7nVTkY8rQAvAi4z34vR/mPs1FoRsaCgIJThI0eOBC1atEiFGGV+5MiRoS45efJkqFjJFXV1dQuA012m2WcwTw98fy6CqBdsaiIO4CScrGPHjvk4odhavPquRtFWXEC25VgkREKOCh/qDSq+vn37htzD/mZTOmOc5U7zKzBPEedygWshcDyWvs30igAbU+6oyMgJBCFhwQE0fccxN60Ay9iebbjoDh06hMowjQxT4fXq1SskArmHZpkArvixp/kWzHdMeArExSJEaiXIjjRjRJ4DaAGWpibLzXN3Fm1vA5teBgh3j1Rv3bp1YgKwPdmf2p9zcyNYYgPKMfY0T5f5nNYdw158nJ8QawW4CLKwiOBSEgO/hok2eBydR+3dYH+PLxA5J8Vv0KBBwenTp0P2JWAx6+yFEBfs8lMY+y0SWMBNI9E4ThKi58VKTg3FQZS1RQF1cz27eC0QHMu+3E0SkUowjhVt5VdaWhp07949ZHv2Qd1EjDXM2cla1M0nl3GxAs3J9yREzyTdFVKVFOaE9qRA8GM0WebRuo9JGZKA7Mv2SeS/Z8+eoQ9BArMfFrLGo6jvxbhHbJZnKX2Rzz1O7QhJJ9Cs2ZMaWIyq/zhdeqPNfIoHd58clIQD+JSXl4dKlyIAuBdVXZwFVWKspSSoxE++h8x4k3uCnEhE4I5KwRiFWGOU0QWKiCYLbdoRMRKAu2kQ9vkfLU6dOhX06NEjlH+yMRZSinnuyWnYosVcji8CEA/6Cg2JF+IIUBqnGKUTCNwtwBN4f89RiK1R96DEgO2o0NDmtEdvVFdVVYV+P3UAPUEs6GFwV3PHmXkD4vh74iDFJysVI/MlaQhwKeBNTLYX5VuA8T4/gZxA4MRGFxDB6R7OmYPfyykGRJbyie+XnGYnQIC/coH9+vULiYrxrkL9ZA9+0ykaHIfEpM7ge8TiJ2CsHYwyMfafAF1yCGBHYIbCVDjDjKt7BeB51D+LgQa6OkG7IDYEEtvQ7lnXLKLtLdLuJBpE4gPUXcW2+PkZwOex+4cGDhwYDBkyRL7/HFcEwUGPo/8uWRUpYnfxGHco8HkewLHLyYmAawAPuIFZxhOpDfJQ8gbUv41yORAptMWBNr6oqMhWird5+u+iHmBb2nhjDV7HWBNQTgK8y11l5NetWzc5ULscAtSj7nbNI0skhWeUZCc0W4nyH/jO4Vz0u1IeYhbk4AiwM6tjxIWByHsoZ9qcIBPJd/y+DwPfBESOmCa/QF3WiZHucLlEDpNxcNhmheEOPgdQNx6/VZFQzFZ5TN08AHXQt2Ii3EdyFuUsPtTcGPhW5iMiCNELvz+Gdn9huG4HUJaW/w3g0wxV0XaG7arG2WeKiUWYM4Y7GO5ezshTARbbWGw/DvXkpp/ivVvE0JVoMxN4rpGzJMhE5Pl+xlATsDIqikP9F9D2z3h9nOksEUFhK+qO4rcPkoalMQ/HqJLIyb3F3JdjrCcw1yZ8joyJLR5gCo54etlag7qIoeNh1N1BRYj3DTFJ0elotxPlVzkGuYAmL0VSJVGAJA41c4Z6A3BzTLfn0HYwYKEI6CUAMzZEWvLsIcQOo1AmmyyM72nHJCfYsogflGV6jEk9vyQZXSuq6w4c16NsGcGZbwOPr+H1RkOk2LEzjNepxQkihHSCQ4ynAYNRx2zMKV92CQMWqj8J0BRE8EShxRFN6YrfCRhC0x3r/Zm4IbQCcmJoV0kMamllccR6FjHqUC5F2R/wS2dcymOlfAKOS4KmzQb5cpNC2MC7JhVn5wjXoJ44rYhLh8n0eXOCorJxa7POjbSlCGVczr34/RsAmrcvo9s+wGp3tzVhntxiXiJ4nvEYb4FJkf0O8HocAePmLvCxnL0AORraVekJk6TYjDabRVXfRE2lCN1h6ZQRN1+InUbsCpKwoBZHh0dODN9JBCUffItXxEavTQkUtnfTVAplCWL3JISz29h4NjotnuSsQKJCk8dF+kJR6RARjrqFVmfPnj3ZbK8cIJ0msd6jgHPGtfVTQ8VLmlvh4mct9sobRmPic0DyDQQnx/NlfYUgyz59+oScsH379pAwXABD32nTpoUHIToESeI5mnbE/UqDdyLcafEBf2MCqgC7NwxIbMREJQ0g4D4sfJwnD+AmRrII05cfMWJE+L1169bQr+fip06dGp4oJ83lmYd5wj/EmMa4TaHivo4EeCguYZBnkB5g2aWA69OIEnUHOaGysjIYMGBAMGnSpODYsWPZwCpFmm4lNq+4gSLQA7jcX8DwtjEyRC8wjabnXEx9kfWnTJkSJkAo90xpJVV+FmcVNeYAF5zWngS4C4O91MBxmAv8blLEpbjI5sz9MTdAhcgkCT1RO8mZkAjfiYpTEvStAS53Uw1vAiUGgZ3GpuQEYvoiBqlIan7kSDHnTwJQFNiPu0+5VxCVYhcZIjNrdXUDdp+Eq5AZ3Gkg8QAyVZRZIk4Tl4QAbF9cXJxNYZMAtAokgs4BrNxEpCtteXg7DDTMDKYNSuQdKsnJBek7HxewvxaosWxLYXtw+cJp18217wql4aKCfBNoEu0O5VU+PhctJ0YeXD4C6JQpyrlpSLTojpGGGN5YwNziChdIZLk4lvLcFJ9jMX3QdiImY9bmGQU+TRUL5CHITTRlgF8D9ouD1MfmLoEPl5xokIumZ2cfgMpHt47IW9N64Hsh7wQYYjyIugWuF5fCqYncXRd5vPMWyizzvhi/32+nvG0dZc9vR6fZOu0md5e+uC408FvKSIOZwXlGvxPv95izA2Vtvg1xKFWARI+vMX66HUhpQQb643uW1bSjuTWyw2SBvDrBvjFic1eGGlz5esq3ko9uSIlBRqPuFcCv8F4WIcN12nVaBd0SaYwI6PDDImR11JkqgHcPmQssjxIn6bUshygDFJUTxPMpHk+jfjPgupgdnYV2R/g7xSjtpah8RJBewhwf0gGK6XI92u4wXFEU40afJ4DN4h5LcAd+40HI3JgJecuT0c062W0i2hQJUTcxan3/CMW1PF2K6bbA+Daz4xRs1D3Br1Cm0OihKCqizW78/nXAF/G5TXrEcVzaNMH6CyMswqsAHqDyDLEyou8lwOXnKF8DjI6KjV3KzMBiXkDH8ij/H214J5A596ekrZ3F0zXlWeL7+P5eUrNo3/QwC15uxthuzidy7DzKRwEDaAViiDgKbTbz7CJnzo0bN7pIfIiid8SuPwn25o3QCmpnyjlZkyxPP8EomCJzrGb7GJMx7tNsq4MT2xMUYaiErZOluTzKsnz3gwCeCZyVRZJfYplNEokEjwrPtxlxjeYAk+F1F74VAzPxQRNYYdtpOUvWs8J1sGhBJMNsb7igN8plJs1eSmLIhLKE4rvaCX27gOhLpLOsIzJ7qn/i+wZzcvSOZ23/du8TZjwV8zHIXoP4R3ifBxiFz1dcVpa3aPntPE+c6TmIWE9EtcMmAcPdWAhYhAXxcLOQi9L1WhD1Sc8p1d2oL7XGiRKp8F4A2i8K/nfI+y/gsTDJ/YC/8+AD5Uh04KHiGl+cIFPnBDDrPMjwRGkLXyxO4VGbfQWnDH2v0bVWE3C9QOXlepbgjEfIJQI6XDG3z5ahD9cw2pS78ipB85wyScNTvsVzlzzhL8/jRrnmVjfFJK/m3m4nj9vbgQTguT8XZTjsm672R5uJKEaQmBI/c58gyus8ZDagLpEVSJBIyHp4jn++xqPV71OgQgJYEWOtZ/haxRtKmWOBu8xdBLftWltsY84zE6WIEy/eIOWL+BaayMx+KHtL7EAkqdNDLiEXmEMUHniedtJqg9HmZtfvt26vNi0BdG3Ft3g8ZOf7PAu59TxtzivLNIekyi+wD1i8CuUiD9FXAa8C+/xS3JPmZnomyc7H+fb4/Se0bk41Fel621r4cgVxbq91V4jVqwB7HTe2M7jgB+QWHavZkDRPmZcASoZEmBx6i75bGjPcMdL4/VKGFAGWZkGzPG0XAbdL9A81G5LOmUnC9hHKJeO7dcUMjblSl12867ElFTtaGl20xvvLGPdVz/8TVuU7y0x1PG7vtNg24oz9Uo/Z412++VFWI7Fcog9tu9Lm6gvRmIPv9x1xmQAu6RDkXtbOtlGEmpgD5Nvnyc0dcv0EE6cfdi1HmhMf9wDF3k3gtRvEedhxjpgfqPb9PU9iEJHnyOUA7bQUXh6kq/D7l2iTjWv7XOD530BDr8jIrus+srXjt4MzumJMHuTsBa63YKE1+RR5lBjEikCCnWKWiHdzOgKO+nRIBAF88za/IFmJ3eMZov4CYxGBabcpGL8EYx+SeMXJeRwHNsV/h+vdxeuhEpN3ZyNY78Gm2fknJxVGhyjixPiQvVkNzT1elD9Py/aTAL64Hb9vcYmC9zfdXdT/C1LeGbg4rnBaAihDFJH12W5ulfNCNe/xTsP3bp8ikzJs5BF+5PNfAQYAPaseTdsEcaYAAAAASUVORK5CYII="}},computed:{iconSnowWidth(){return(Math.floor(this.iconSize/24)||1)*2},contentdownText(){return this.contentText.contentdown||Mn("uni-load-more.contentdown")},contentrefreshText(){return this.contentText.contentrefresh||Mn("uni-load-more.contentrefresh")},contentnomoreText(){return this.contentText.contentnomore||Mn("uni-load-more.contentnomore")}},mounted(){var e=getCurrentPages(),t=e[e.length-1],i=t.$getAppWebview();i.addEventListener("hide",()=>{this.webviewHide=!0}),i.addEventListener("show",()=>{this.webviewHide=!1})},methods:{onClick(){this.$emit("clickLoadMore",{detail:{status:this.status}})}}};function Zd(e,t,i,n,a,r){return(0,be.openBlock)(),(0,be.createElementBlock)("view",{class:"uni-load-more",onClick:t[0]||(t[0]=(...s)=>r.onClick&&r.onClick(...s)),renderWhole:!0},[!a.webviewHide&&i.status==="loading"&&i.showIcon?((0,be.openBlock)(),(0,be.createElementBlock)("loading-indicator",{key:0,style:(0,be.normalizeStyle)({color:i.color,width:i.iconSize+"px",height:i.iconSize+"px"}),animating:!0,class:"uni-load-more__img uni-load-more__img--nvue"},null,4)):(0,be.createCommentVNode)("",!0),i.showText?((0,be.openBlock)(),(0,be.createElementBlock)("u-text",{key:1,class:"uni-load-more__text",style:(0,be.normalizeStyle)({color:i.color})},(0,be.toDisplayString)(i.status==="more"?r.contentdownText:i.status==="loading"?r.contentrefreshText:r.contentnomoreText),5)):(0,be.createCommentVNode)("",!0)])}var $n=x(Xd,[["render",Zd],["styles",[Jd]]]);var Me=z(Y()),Qd={"center-align":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"refresh-wrap":{"":{height:"80rpx",color:"#777777"}},loading:{".refresh-wrap ":{width:"50rpx",height:"50rpx",color:"#777777",position:"absolute"}}},ep={props:{bgValue:{type:String,default:""}},emits:["onRefresh"],data(){return{sW:getApp().globalData.window.width,isAndroid:w.isAndroid,isRefreshing:!1,showPullLoading:!1}},computed:{bgColor(){return w.isAndroid?this.bgValue?{backgroundColor:getApp().globalData.themeObj.color[this.bgValue]}:{}:{}}},methods:{onPullingDown(){this.showPullLoading||(this.showPullLoading=!0)},onRefresh(){if(this.isRefreshing)return;this.isRefreshing||(this.isRefreshing=!0);let e=new Date().getTime();this.$emit("onRefresh",e)},refreshFinish(e){let t=new Date().getTime()-e;t<1e3?setTimeout(()=>{this.isRefreshing=!1,this.showPullLoading=!1},1e3-t):(this.isRefreshing=!1,this.showPullLoading=!1)}}};function tp(e,t,i,n,a,r){return(0,Me.openBlock)(),(0,Me.createElementBlock)("refresh",{onRefresh:t[0]||(t[0]=(...s)=>r.onRefresh&&r.onRefresh(...s)),onPullingdown:t[1]||(t[1]=(...s)=>r.onPullingDown&&r.onPullingDown(...s)),display:a.isRefreshing?"show":"hide",class:"center-align refresh-wrap",style:(0,Me.normalizeStyle)([{width:`${a.sW}px`},r.bgColor])},[a.showPullLoading&&!a.isAndroid?((0,Me.openBlock)(),(0,Me.createElementBlock)("loading-indicator",{key:0,class:"loading"})):(0,Me.createCommentVNode)("",!0),(0,Me.createElementVNode)("loading-indicator",{class:"loading"})],44,["display"])}var Un=x(ep,[["render",tp],["styles",[Qd]]]);var g=z(Y());var Pe=z(Y()),ip={"view-info":{"":{height:"40rpx",flexDirection:"row",alignItems:"center",borderRadius:"4rpx"}},point:{"":{width:"14rpx",height:"14rpx",borderRadius:"8rpx",marginRight:"4rpx"}},text:{"":{fontSize:"22rpx",lineHeight:"40rpx",fontWeight:"600"}}},np={components:{MText:Le},props:{status:{type:Number,default:0},upTime:{type:[Number,String],default:0}},data(){return{}},computed:{colorVal(){return getApp().globalData.themeObj.style==K.LIGHT?this.status==1?"#34C759":this.status==2?"#FF9537":"#999999":this.status==1?"#2A9F47":this.status==2?"#CC7732":"#666666"},onlineStr(){return this.status==1?u("available"):this.status==2?u("chatting"):this.status==3?u("anchorSet.rest"):this.upTime==0?u("time.daysAgo",{number:"3"}):fi(this.upTime)}},methods:{}};function ap(e,t,i,n,a,r){let s=(0,Pe.resolveComponent)("m-text");return(0,Pe.openBlock)(),(0,Pe.createElementBlock)("view",{class:"view-info",renderWhole:!0},[(0,Pe.createElementVNode)("view",{class:"point",style:(0,Pe.normalizeStyle)({background:r.colorVal})},null,4),(0,Pe.createVNode)(s,{type:"tip",text:r.onlineStr,style:{"font-size":"24rpx"}},null,8,["text"])])}var Hn=x(np,[["render",ap],["styles",[ip]]]);var Ot=z(Y());var rp={line:{"":{height:"2rpx",transform:"scaleY(0.5)",transformOrigin:"50% 100%"}}},sp={computed:{bgColor(){return getApp().globalData.themeObj.color.line}}};function op(e,t,i,n,a,r){return(0,Ot.openBlock)(),(0,Ot.createElementBlock)("view",{style:(0,Ot.normalizeStyle)({background:r.bgColor}),class:"line",renderWhole:!0},null,4)}var hs=x(sp,[["render",op],["styles",[rp]]]);function _s(...e){return getApp().globalData.s.state.pubAI18n(...e)}var de=z(Y()),lp={"text-act-time":{"":{fontSize:"22rpx"}}},cp={components:{MText:Le},props:{user:{type:Object,default:{}},color:{type:String,default:""},fontSize:{type:String,default:"22rpx"}},computed:{parseStr(){let e=[],t=this.user.rel_online_status==1?"\u{1F7E2}":"\u{1F534}";e.push(t);let i=this.user.uptime<=0?"":sn(parseInt(this.user.uptime),!1);i&&e.push(i);let n=typeof this.user.sort=="undefined"?void 0:Number(this.user.sort);typeof n!="undefined"&&e.push(n);let a=this.user.is_auth?this.user.add_time:this.user.regtime,r=sn(parseInt(a),!1);r&&e.push(r);let s=`${this.user.account_money}\u{1F4B0}`;return e.push(s),e.join("-")}},methods:{clickThis(e){e&&e.stopPropagation(),typeof this.user.sort!="undefined"&&B.request("/admin/user/max-sort",{target_uid:this.user.uid},!0).then(t=>{let i=this.user.is_auth?"currentMaxWeightOfStreamer":"currentMaxWeightOfUser",n=Number(t.data.max_sort);uni.showModal({title:`Weight of ${this.user.nickname}`,content:`${_s(i,{weight:n})}
Current weight: ${Number(this.user.sort)}`,editable:!0,success:a=>{if(a.confirm&&a.content){let r={key:"sort",value:a.content,target_uid:this.user.uid};B.request("/admin/user/update-info",r,!0).then(s=>{this.user.sort=a.content})}}})})}}};function up(e,t,i,n,a,r){let s=(0,de.resolveComponent)("m-text");return i.color?((0,de.openBlock)(),(0,de.createElementBlock)("u-text",{key:0,onClick:t[0]||(t[0]=(0,de.withModifiers)((...l)=>r.clickThis&&r.clickThis(...l),["stop"])),style:(0,de.normalizeStyle)({color:i.color,fontSize:i.fontSize})},(0,de.toDisplayString)(r.parseStr),5)):((0,de.openBlock)(),(0,de.createBlock)(s,{key:1,text:r.parseStr,"use-text":!0,onClick:(0,de.withModifiers)(r.clickThis,["stop"]),style:(0,de.normalizeStyle)({fontSize:i.fontSize})},null,8,["text","onClick","style"]))}var Li=x(cp,[["render",up],["styles",[lp]]]);var dp={center:{"":{flexDirection:"row",alignItems:"center"}},"view-base":{"":{paddingTop:"30rpx",paddingRight:0,paddingBottom:"30rpx",paddingLeft:0,justifyContent:"space-between"}},"view-left":{"":{marginLeft:"30rpx",flexDirection:"row"}},"view-action":{"":{justifyContent:"center",width:"82rpx",height:"82rpx",borderRadius:"41rpx",marginRight:"20rpx"}},"view-eye":{"":{position:"absolute",bottom:0,right:"36rpx"}},"view-label":{"":{paddingTop:0,paddingRight:"10rpx",paddingBottom:0,paddingLeft:"10rpx",height:"40rpx",borderRadius:"4rpx",marginRight:"12rpx"}},text:{".view-label ":{fontSize:"22rpx",fontWeight:"600",lineHeight:"40rpx"}},"view-country":{"":{borderWidth:"2rpx",borderStyle:"solid",borderColor:"#0091FF"}},"text-country":{".view-country ":{color:"#0091FF"}},"view-boost":{"":{position:"absolute",top:0,right:0,height:"40rpx",paddingTop:0,paddingRight:"10rpx",paddingBottom:0,paddingLeft:"8rpx",backgroundImage:"linear-gradient(to bottom right, #4F4C64, #272534)",borderBottomLeftRadius:"16rpx"}},"text-boost":{".view-boost ":{fontSize:"20rpx",color:"#EBD5A3",marginLeft:"4rpx",lineHeight:"40rpx"}},"status-point":{"":{width:"14rpx",height:"14rpx",borderRadius:"7rpx",marginRight:"4rpx"}},"status-line":{"":{marginTop:0,marginRight:"16rpx",marginBottom:0,marginLeft:"16rpx",height:"20rpx",width:"2rpx"}},"media-cover":{"":{width:20,height:28,borderRadius:"2rpx",position:"absolute",zIndex:111,top:1,left:1}},"hide-mask":{"":{position:"absolute",top:0,left:0,borderRadius:"4rpx"}},"shield-view":{"":{position:"absolute",top:1,right:1,paddingLeft:"16rpx",paddingBottom:"16rpx"}}},pp={components:{MText:Le,MLine:hs,UniIcons:_e,OnlineBlock:Hn,LImg:$,UBaseInfo:it,AvatarImg:Ye,AUpStr:Li},emits:["onClickShield","onClickAdminEye"],props:{item:{type:Object,default(){return{}}},type:{type:Number,default:1},hideShield:{type:Boolean,default:!1},isAdmin:{type:[Boolean,Number],default:!1},showAdminExtra:{type:Boolean,default:!1}},data(){return{sW:getApp().globalData.window.width,themeColor:getApp().globalData.themeObj.color,fromType:2}},computed:{actionSrc(){return getApp().globalData.appCRE?this.type==1?"s/pub/chat_msg.png":"s/pub/chat_video.png":""},actionBg(){return getApp().globalData.themeObj.style==K.LIGHT?"rgba(255, 68, 119, 0.08)":"rgba(255, 68, 119, 0.2)"},nameWidth(){let e=hr(this.item,!0,!1,!1);return this.sW-uni.upx2px(30+128+20+e+72+40)},borderColor(){let e=this.item.label;return getApp().globalData.themeObj.style==K.DARK&&!m(e.color_dark)?e.color_dark:e.color},albumMomentInfo(){return this.item.album_moment_info||""},albumInfo(){return m(this.albumMomentInfo)?"":this.albumMomentInfo.album_infos||""},momentInfo(){if(m(this.albumMomentInfo))return"";let e=this.albumMomentInfo.moment_info,t=getApp().globalData.themeObj.style==K.LIGHT?"s/privacy/masker_list.png":"dark/s/privacy/masker_list.png";return this.item.hide_profile==1&&!m(e.medias)&&(e.medias[0].small_url=t),e||""},momentTextW(){let e=this.momentInfo.medias.length*54;return getApp().globalData.window.width-uni.upx2px(320+e)},statusLineBg(){return getApp().globalData.themeObj.style==K.LIGHT?"#AAAAAA":"#555555"},showStatusLineOne(){return this.item.hide_online?!1:!m(this.item.country_code)||!m(this.item.country_flag)||!m(this.item.label)},showStatusLineTwo(){return this.showCountry&&!m(this.item.label)},mediaCoverBg(){return getApp().globalData.themeObj.style==K.LIGHT?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)"},mediaBorder(){return getApp().globalData.themeObj.style==K.LIGHT?"1px solid #EEEEEE":"1px solid #333333"},showCountry(){return!this.item.hide_profile&&(this.item.country_code||this.item.country_flag)}},methods:{$str:u,clickThis(){xt(this.item.uid,!0)},clickEye(){yi(this.item.uid,()=>{this.$emit("onClickAdminEye")})},clickAction(e){e&&e.stopPropagation(),this.type==1?dt(this.item):It(this.item,this.item.video,Tt.QUALITY)},clickShield(e){e&&e.stopPropagation(),this.$emit("onClickShield")}}};function mp(e,t,i,n,a,r){let s=D((0,g.resolveDynamicComponent)("avatar-img"),Ye),l=D((0,g.resolveDynamicComponent)("l-img"),$),c=D((0,g.resolveDynamicComponent)("u-base-info"),it),d=D((0,g.resolveDynamicComponent)("online-block"),Hn),p=(0,g.resolveComponent)("m-text"),f=(0,g.resolveComponent)("a-up-str"),y=D((0,g.resolveDynamicComponent)("uni-icons"),_e),R=(0,g.resolveComponent)("m-line");return(0,g.openBlock)(),(0,g.createElementBlock)("view",{onClick:t[3]||(t[3]=(...E)=>r.clickThis&&r.clickThis(...E)),class:"view-base center",style:(0,g.normalizeStyle)({width:`${a.sW}px`}),renderWhole:!0},[(0,g.createElementVNode)("view",{class:"view-left"},[(0,g.createElementVNode)("view",null,[(0,g.createVNode)(s,{user:i.item,w:"128rpx",h:"186rpx","place-w":"128rpx",radius:"12rpx",border:r.mediaBorder,fromType:a.fromType},null,8,["user","border","fromType"]),i.hideShield?(0,g.createCommentVNode)("",!0):((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:0,onClick:t[0]||(t[0]=(...E)=>r.clickShield&&r.clickShield(...E)),class:"shield-view"},[(0,g.createVNode)(l,{onClick:r.clickShield,src:"s/pub/close_black_80.png",w:"24rpx",h:"24rpx"},null,8,["onClick"])]))]),(0,g.createElementVNode)("view",{style:{"margin-left":"20rpx"}},[(0,g.createElementVNode)("view",{class:"center",style:{height:"50rpx","margin-top":"-6rpx"}},[(0,g.createVNode)(c,{info:i.item,fw:500,"name-size":"32rpx","name-width":`${r.nameWidth}px`},null,8,["info","name-width"])]),(0,g.createElementVNode)("view",{class:"center",style:{"margin-top":"14rpx"}},[i.item.hide_online?(0,g.createCommentVNode)("",!0):((0,g.openBlock)(),(0,g.createBlock)(d,{key:0,status:i.item.online_status,"up-time":i.item.uptime},null,8,["status","up-time"])),r.showStatusLineOne?((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:1,class:"status-line",style:(0,g.normalizeStyle)({background:r.statusLineBg})},null,4)):(0,g.createCommentVNode)("",!0),r.showCountry?((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:2,class:"center"},[i.item.country_flag?((0,g.openBlock)(),(0,g.createBlock)(l,{key:0,src:i.item.country_flag,w:"20rpx",h:"20rpx",radius:"10rpx",style:{"margin-right":"4rpx","box-shadow":"0 0 1px 0 rgba(0, 145, 255, 0.8)"}},null,8,["src"])):(0,g.createCommentVNode)("",!0),i.item.country_code?((0,g.openBlock)(),(0,g.createBlock)(p,{key:1,type:"tip",text:i.item.country_code,style:{"font-size":"24rpx"}},null,8,["text"])):(0,g.createCommentVNode)("",!0)])):(0,g.createCommentVNode)("",!0),r.showStatusLineTwo?((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:3,class:"status-line",style:(0,g.normalizeStyle)({background:r.statusLineBg})},null,4)):(0,g.createCommentVNode)("",!0),i.item.label?((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:4,class:"center"},[(0,g.createVNode)(l,{src:i.item.label.icon,"need-style":1,w:"24rpx",h:"24rpx",style:{"margin-right":"4rpx"}},null,8,["src"]),(0,g.createVNode)(p,{type:"tip",text:i.item.label.title,style:{"font-size":"24rpx"}},null,8,["text"])])):(0,g.createCommentVNode)("",!0)]),r.albumMomentInfo?((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:0,style:{"margin-top":"20rpx"}},[r.albumInfo?((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:0,class:"center"},[((0,g.openBlock)(!0),(0,g.createElementBlock)(g.Fragment,null,(0,g.renderList)(r.albumInfo,(E,H)=>((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:H,style:{"margin-right":"10rpx",position:"relative"}},[(0,g.createVNode)(l,{src:E.small_url,w:"22px",h:"30px",radius:"4rpx","place-type":1,border:r.mediaBorder,"place-font-size":!1,"place-w":"44rpx"},null,8,["src","border"]),i.item.hide_profile&&H<5?((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:0,class:"hide-mask"},[(0,g.createVNode)(l,{src:"s/privacy/masker_list.png","need-style":1,w:"44rpx",h:"60rpx",radius:"4rpx"})])):r.albumMomentInfo.album_count>6&&H==5?((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:1,class:"media-cover center-align",style:{background:"rgba(0, 0, 0, 0.7)"}},[(0,g.createElementVNode)("u-text",{style:{"font-size":"16rpx",color:"#999999"}},(0,g.toDisplayString)(r.albumMomentInfo.album_count),1)])):((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:2,class:"media-cover",style:(0,g.normalizeStyle)({background:r.mediaCoverBg})},null,4))]))),128))])):r.momentInfo?((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:1,class:"center"},[r.momentInfo.medias&&r.momentInfo.medias.length>0?((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:0,class:"center"},[((0,g.openBlock)(!0),(0,g.createElementBlock)(g.Fragment,null,(0,g.renderList)(r.momentInfo.medias,(E,H)=>((0,g.openBlock)(),(0,g.createBlock)(l,{key:H,src:E.small_url,w:"44rpx",h:"60rpx",radius:"4rpx",border:r.mediaBorder,"place-type":1,"place-font-size":!1,"place-w":"44rpx",style:{"margin-right":"10rpx"}},null,8,["src","border"]))),128))])):(0,g.createCommentVNode)("",!0),r.momentInfo.content?((0,g.openBlock)(),(0,g.createBlock)(p,{key:1,text:r.momentInfo.content,type:"desc",style:(0,g.normalizeStyle)([{"font-size":"24rpx","line-height":"30rpx",lines:"1",overflow:"hidden","text-overflow":"ellipsis"},{maxWidth:`${r.momentTextW}px`}])},null,8,["text","style"])):(0,g.createCommentVNode)("",!0)])):(0,g.createCommentVNode)("",!0)])):(0,g.createCommentVNode)("",!0)])]),(0,g.createElementVNode)("view",{style:{position:"absolute",bottom:"0rpx","margin-left":"173rpx"}},[i.isAdmin&&i.showAdminExtra?((0,g.openBlock)(),(0,g.createBlock)(f,{key:0,user:i.item},null,8,["user"])):(0,g.createCommentVNode)("",!0)]),r.actionSrc?((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:0,onClick:t[1]||(t[1]=(...E)=>r.clickAction&&r.clickAction(...E)),class:"view-action center",style:(0,g.normalizeStyle)({background:r.actionBg})},[(0,g.createVNode)(l,{src:r.actionSrc,w:"48rpx",h:"46rpx"},null,8,["src"])],4)):(0,g.createCommentVNode)("",!0),i.isAdmin?((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:1,onClick:t[2]||(t[2]=(0,g.withModifiers)(E=>r.clickEye(E,e.index),["stop"])),class:"view-eye"},[(0,g.createVNode)(y,{type:"eye-slash-filled",size:"20px",color:"#C5C5C5"})])):(0,g.createCommentVNode)("",!0),(0,g.createVNode)(R,{style:{position:"absolute",bottom:"0",right:"0",width:"570rpx"}}),i.item.is_top==1?((0,g.openBlock)(),(0,g.createElementBlock)("view",{key:2,class:"center view-boost"},[(0,g.createVNode)(l,{src:"s/user/rocket_i_yellow.png",w:"24rpx",h:"24rpx"}),(0,g.createElementVNode)("u-text",{class:"text-boost"},(0,g.toDisplayString)(r.$str("boosting")),1)])):(0,g.createCommentVNode)("",!0)],4)}var bs=x(pp,[["render",mp],["styles",[dp]]]);var Ft=z(Y());var fp={components:{UniIcons:_e},props:{type:{type:String,default:"right"},size:{type:String,default:"28rpx"},modeType:{type:String,default:"desc"},color:{type:String,default:""}},computed:{iconColor(){return m(this.color)?getApp().globalData.themeObj.color[this.modeType]:this.color}}};function gp(e,t,i,n,a,r){let s=D((0,Ft.resolveDynamicComponent)("uni-icons"),_e);return(0,Ft.openBlock)(),(0,Ft.createBlock)(s,{type:i.type,size:i.size,color:r.iconColor},null,8,["type","size","color"])}var ys=x(fp,[["render",gp]]);var ie=z(Y());var xe=z(Y()),hp={text:{"":{color:"#333333"}},"text-small":{"":{fontSize:"32rpx",fontWeight:"600"}},"text-big":{"":{fontSize:"80rpx",fontWeight:"800"}}},_p={emits:[],props:{sizeType:{type:Number,default:1},gameInfo:{type:Object,default(){return{}}},draw:{type:Boolean,default:!1}},data(){return{number:1,timer:!1,isDrawing:0,resNumber:0}},watch:{gameInfo:{handler(e,t){mi(e)||typeof t!="undefined"&&e.status==t.status||(F("error","at pagesGame/coms/lottery-number.vue:42","lottery-number watch "+JSON.stringify(e)),e.status==0?this.reset():e.status==1?this.startDrawing():this.showLuckNumber(e.result))},immediate:!0,deep:!0},draw:{handler(e,t){e&&this.startDrawing()}}},computed:{textClass(){return this.sizeType==1?"text-small":"text-big"},imgW(){return this.sizeType==1?"36rpx":"72rpx"}},methods:{clearTimer(){this.timer&&(clearInterval(this.timer),this.timer=!1)},startDrawing(){this.isDrawing=1,this.clearTimer(),this.timer=setInterval(()=>{let e=Ka(0,9);e==this.number&&(e=e+1>9?8:e+1),this.number=e},100)},showLuckNumber(e){this.isDrawing=2,this.clearTimer(),this.resNumber=e},reset(){this.clearTimer(),this.isDrawing=0}},created(){},unmounted(){this.clearTimer()}};function bp(e,t,i,n,a,r){let s=D((0,xe.resolveDynamicComponent)("l-img"),$);return(0,xe.openBlock)(),(0,xe.createElementBlock)("view",{renderWhole:!0},[a.isDrawing==0?((0,xe.openBlock)(),(0,xe.createBlock)(s,{key:0,src:"s/game/lottery-def-1.png",w:r.imgW,h:r.imgW},null,8,["w","h"])):((0,xe.openBlock)(),(0,xe.createElementBlock)("u-text",{key:1,class:(0,xe.normalizeClass)(["text",[r.textClass]])},(0,xe.toDisplayString)(a.isDrawing==1?a.number:a.resNumber),3))])}var ws=x(_p,[["render",bp],["styles",[hp]]]);function As(){B.request("/chat/game/exit",{})}var yp={"view-this":{"":{paddingTop:"10rpx",paddingRight:"10rpx"}},"view-bg":{"":{position:"absolute",bottom:0,left:0}},"view-content":{"":{alignItems:"center",width:"144rpx",height:"96rpx"}},bg:{".view-content ":{width:"132rpx",height:"48rpx",marginTop:"6rpx",backgroundColor:"#FFFFFF",borderTopLeftRadius:"14rpx",borderTopRightRadius:"14rpx",alignItems:"center",justifyContent:"center"}},text:{".view-content ":{fontSize:"20rpx",color:"#FFFFFF",fontWeight:"600",lineHeight:"42rpx"}},"view-close":{"":{position:"absolute",top:0,right:0}}},wp={components:{LotteryNumber:ws},emits:["onClose","onClick"],props:{fromType:{type:Number,default:0},gameInfo:{type:Object,default(){return{}}}},data(){return{isShow:!0,gameObj:{},gameTimer:!1,gameDoingTimeInt:-100,gameLotteryDraw:!1}},computed:{tipStr(){return this.gameObj.status==1||this.gameLotteryDraw?u("drawing"):this.gameObj.status==0?this.gameDoingTimeInt<=0?"":u("game.bettingTime",{number:this.gameDoingTimeInt}):u("winner.num",{number:this.gameObj.winners})}},watch:{gameInfo:{handler(e,t){mi(e)||(this.gameObj=e)},immediate:!0,deep:!0}},methods:{clickClose(e){e&&e.stopPropagation(),this.fromType==0&&As(),this.clearTimer(),this.isShow=!1,this.$emit("onClose"),uni.$emit("event_game_show_window",!1)},clickThis(e){if(e&&e.stopPropagation(),this.fromType==0){let t=Ct(),i=t.indexOf("/pages/call/chat-view");i!=-1?on(t.length-(i+1)):Et()}else this.$emit("onClick");kr(this.fromType==0?"home_click":"call_click",!0)},clearTimer(){this.gameTimer&&(clearInterval(this.gameTimer),this.gameTimer=!1)},onMqttGameLotteryResult(e){this.gameObj=e.game_info},onMqttGameReset(e){this.gameObj=e.game_info},timerFunc(){typeof this.gameObj.status!="undefined"&&(this.gameObj.status==0?(this.gameDoingTimeInt==-100&&(this.gameDoingTimeInt=this.gameObj.draw_time-getApp().getCTime(!0)),this.gameDoingTimeInt-=1,this.gameLotteryDraw=this.gameDoingTimeInt<=0):this.gameObj.status==1?this.gameLotteryDraw=!0:(this.gameLotteryDraw=!1,this.gameDoingTimeInt=-100))},startGameTimer(){this.timerFunc(),this.gameTimer=setInterval(()=>{this.timerFunc()},1e3)},initGame(){B.request("/chat/game/index",{from_type:0}).then(e=>{zt(e.data.account_money),this.gameObj=JSON.parse(JSON.stringify(e.data.game_info)),this.gameObj.status==0&&(this.gameDoingTimeInt=this.gameObj.draw_time-getApp().getCTime(!0),this.$refs.lotteryNumber.reset())})}},created(){this.gameObj=this.gameInfo,this.startGameTimer(),uni.$on("event_game_lottery_result",this.onMqttGameLotteryResult),uni.$on("event_game_reset",this.onMqttGameReset),uni.$on("event_app_show",this.initGame)},unmounted(){F("log","at pagesGame/coms/lottery-view.vue:151","-----> lottery-view destroyed"),this.clearTimer(),uni.$off("event_game_lottery_result",this.onMqttGameLotteryResult),uni.$off("event_game_reset",this.onMqttGameReset),uni.$off("event_app_show",this.initGame)}};function Ap(e,t,i,n,a,r){let s=D((0,ie.resolveDynamicComponent)("l-img"),$),l=(0,ie.resolveComponent)("lottery-number");return a.isShow?((0,ie.openBlock)(),(0,ie.createElementBlock)("view",{key:0,onClick:t[1]||(t[1]=(...c)=>r.clickThis&&r.clickThis(...c)),class:"view-this",renderWhole:!0},[(0,ie.createVNode)(s,{src:"s/game/lottery-bg.png",w:"144rpx",h:"96rpx",style:{position:"absolute",bottom:"0",left:"0"}}),(0,ie.createElementVNode)("view",{class:"view-content"},[(0,ie.createElementVNode)("view",{class:"bg"},[(0,ie.createVNode)(l,{ref:"lotteryNumber","game-info":a.gameObj,draw:a.gameLotteryDraw},null,8,["game-info","draw"])]),(0,ie.createElementVNode)("u-text",{class:"text"},(0,ie.toDisplayString)(r.tipStr),1)]),(0,ie.createVNode)(s,{src:"s/game/close.png",w:"30rpx",h:"28rpx",style:{position:"absolute",top:"0",right:"0"}}),(0,ie.createElementVNode)("view",{onClick:t[0]||(t[0]=(...c)=>r.clickClose&&r.clickClose(...c)),class:"view-close",style:{width:"40rpx",height:"40rpx"}})])):(0,ie.createCommentVNode)("",!0)}var Ss=x(wp,[["render",Ap],["styles",[yp]]]);var dh=z(Mi());var xs=getApp().globalData.window,Ts=xs.width-uni.upx2px(40),Cs=Ue("dom"),Sp={data(){return{sW:xs.width,appName:dn().name,isShowAuthTip:!G("tab_user_auth_tip"),bannerW:Ts,bannerH:parseInt(Ts*.124),bannerShowGame:0,curIndex:1,tabList:[],pageList:[],showRank:!1,callRefuseAnswerCount:0,useBg1_1:!0,statusBarFontColor:"#FFFFFF",themeColor:getApp().globalData.themeObj.color,isAdmin:!1,isShowBoost:!1,boostObj:{},gameInfo:!1,useGrid:!!w.isAndroid,dialogExtra:null,rankBannerList:[],authTipsW:getApp().globalData.window.width-uni.upx2px(120),homeInitFinish:!1,showTopGameEnter:!1,scrollLeft:0,langFilterStr:"",tabSizeList:[],tabScrollW:getApp().globalData.window.width-uni.upx2px(82),curScrollLeft:0}},computed:{showBanner(){return this.bannerShowGame||this.showRank||this.bannerShowLuckyWheel},showAuthTip(){return this.curIndex!=3&&this.isShowAuthTip},tabScrollId(){return this.tabList[this.curIndex].id},viewBg(){return this.themeColor.bg2},modeIconSrc(){return getApp().globalData.themeObj.style==K.LIGHT?"s/pub/moon_b.png":"s/pub/sun_w.png"},lotteryViewBottom(){let e=parseInt(getApp().globalData.window.height*.074),t=uni.upx2px(200),i=16*getApp().globalData.window.scaleH,n=uni.upx2px(180),a=20*getApp().globalData.window.scaleH;return e+t+i+n+a},listSortIcon(){return this.useGrid?"s/pub/user_sort_list_3.png":"s/pub/user_sort_grid_3.png"},viewAuthBg(){return getApp().globalData.themeObj.style==K.LIGHT?"rgba(232, 245, 255, 0.9);":"rgba(0, 29, 51, 0.9)"},gameHallIconSrc(){return getApp().globalData.themeObj.style==K.LIGHT?"s/pub/game_hall_b.png":"s/pub/game_hall.png"},showFilterStr(){return m(this.langFilterStr)?this.filterStr:this.langFilterStr},currentTab(){return this.tabList[this.curIndex]}},methods:{$str:u,clickGameHall(e){e&&e.stopPropagation(),ee("/pagesPub/game-hall/game-hall")},clickRankEnter(e,t){e&&e.stopPropagation(),ee("/pagesPub/ranking-list/ranking-list",{curIdx:t}),Dn(`home_rank_${t==0?"anchor":"user"}`)},clickSortWay(e){e&&e.stopPropagation(),this.useGrid=!this.useGrid;let t=this.useGrid?2:1;q("user_list_sort_"+getApp().globalData.uid,t),this.$nextTick(()=>{for(let i=0,n=this.tabList.length;i<n;i++){let a=this.tabList[i],r=this.useGrid?`page${i}_1`:`page${i}`;!a.isLanguage||a.flag==this.tabList[this.curIndex].flag?this.$refs[r][0].loadData(!0):this.pageList[i].list=[]}})},clickChangeMode(e){e&&e.stopPropagation();let t=getApp().globalData.themeObj.style==K.LIGHT?K.DARK:K.LIGHT;lr(t)},clickSearch(e){e&&e.stopPropagation(),ee("/pagesPub/user/search")},clickAuthTip(){let e=this.pubUser.auth_status;e==1?pt(u("tips"),u("auth.successTips"),"",u("gotIt")):e==2?pt(u("tips"),u("auth.checkingTips"),"",u("gotIt")):ee("/pagesPub/edit/index",{from_auth:1})},clickCloseAuthTip(e){e&&e.stopPropagation(),q("tab_user_auth_tip",1),this.isShowAuthTip=!1},clickGameEnter(e){e&&e.stopPropagation(),Et()},clickTabTitle(e){this.curIndex!=e&&(this.curIndex=e,this.parseFilterStr(),this.parseTabSize(()=>{let t=0,i=0;for(let r=0,s=this.tabSizeList.length;r<s;r++){let l=this.tabSizeList[r].width;i+=l+6,!(r>=e)&&(t+=l+6)}t+=6;let n=this.tabSizeList[e].width,a=this.tabScrollW/2;this.tabSizeList[e].left<=a?(this.scrollLeft=this.curScrollLeft,this.$nextTick(()=>{this.scrollLeft=0})):i-t<=a?(this.scrollLeft=this.curScrollLeft,this.$nextTick(()=>{let r=w.isAndroid?10:2;this.scrollLeft=i-this.tabScrollW+r})):this.scrollLeft=t-(a-n/2)}))},getTabSize(e){return new Promise(t=>{Cs.getComponentRect(this.$refs["tab_"+e][0],i=>{if(i&&i.size){let n=i.size;t({left:n.left,width:n.width})}else t(null)})})},getRefSize(e){return new Promise(t=>{Cs.getComponentRect(this.$refs[e],i=>{i&&i.size?t(i.size):t()})})},parseTabSize(e){return De(this,null,function*(){if(this.tabSizeList.length>0){typeof e=="function"&&e();return}let t=this.$refs.tabScrollView;if(!t)return;this.tabSizeList=[],t.children.length;for(let n=0;n<this.tabList.length;n++){let a=this.tabList[n],r=yield this.getTabSize(a.id);r&&this.tabSizeList.push(r)}typeof e=="function"&&e()})},onScrollView(e){this.curScrollLeft=e.detail.scrollLeft},onClickRefresh(){let e=this.useGrid?`page${this.curIndex}_1`:`page${this.curIndex}`,t=this.$refs[e][0];t&&(t.scrollToTop(!0),t.handleRefresh(()=>{this.$refs.homeRefresh.refreshFinish()}))},onSwiperChange(e){this.clickTabTitle(e.detail.current),this.curIndex=e.detail.current;let t=this.pageList[this.curIndex];if(t.list.length<=0){let i=this.useGrid?`page${this.curIndex}_1`:`page${this.curIndex}`;this.$refs[i][0].loadData(!0,()=>{this.pageList[this.curIndex]=this.$refs[i][0]})}t.onShowListener()},onRankValChange(e){if(this.showTopGameEnter=e.game,this.showRank=e.rank,this.showRank){let t={title:u("rank.ofGuys"),banner:"s/rank/bg_guys_enter_h44.png",curIdx:1,color:"#FDEF94"},i={title:u("rank.ofGirls"),banner:"s/rank/bg_girls_enter_h44.png",curIdx:0,color:"#FFDAED"};ae()?this.rankBannerList=[t,i]:this.rankBannerList=[i,t]}this.homeInitFinish||(this.homeInitFinish=!0,this.$nextTick(()=>{this.onRankGameInitAfter()}))},onRankGameInitAfter(){!this.userInitFinish||!this.homeInitFinish||(!xi(this.useGrid)&&!this.needResetFilter?_i("appDialog/init",{data:this.dialogExtra}):this.$nextTick(()=>{let e={},t=0,i=0;xi(this.useGrid)&&(t+=1,this.getRefSize("gridIcon").then(n=>{e.grid=n,i+=1,i==t&&_i("appDialog/init",{data:this.dialogExtra,homeViewSizeObj:e})})),this.needResetFilter&&(t+=1,this.getRefSize("viewFilter").then(n=>{e.filter=n,i+=1,i==t&&_i("appDialog/init",{data:this.dialogExtra,homeViewSizeObj:e})}))}))},onBoostValChange(e){if(m(e)){this.isShowBoost=!1;return}this.boostObj=e,this.isShowBoost=!0},onEventBoostListener(e){e?(this.curIndex=0,this.pageList[this.curIndex].loadData(!0),this.pageList[1]&&this.pageList[1].loadData(!0)):(this.pageList[0]&&this.pageList[0].loadData(!0),this.pageList[1]&&this.pageList[1].loadData(!0))},onEventGameShowWindow(e){this.gameInfo=e,getApp().globalData.isGameWindowShow=!!this.gameInfo},onEventSayHello(e){return De(this,null,function*(){for(let t=0,i=e.length;t<i;t++){let n=e[t];n.small_avatar&&(n.avatar=n.small_avatar),yield as(n,!1);let a={msg_content:JSON.stringify({content:u("msg.greetTip",{him:He(n.sex),he:Ua(n.sex)})}),mtime:new Date().getTime()*1e3,chat_id:n.uid,send_uid:w.SYSTEM_ID,msg_type:w.M_NOTICE,chat_type:w.M_CHAT_PRI};yield rs(a,!1),uni.$emit("event_msg_index_refresh")}})},onEventMessagePriClose(){getApp().globalData.s.state.message.curSendCont>0&&(v("message/clearSendCount"),setTimeout(()=>{v("appDialog/addDialogNotify",!0)},300))},onEventUserInitAfter(e){this.initFilter(),this.bannerShowGame=getApp().globalData.luckyNumberShow,this.isAdmin=_n(),this.dialogExtra={share:{delay:e.config.share_delay||2,data:e.config.share_reward_tips},pay:e.config.pay_dialog,greet:e.config.greet,authList:e.config.auth_list,notifyTips:e.config.notification_tips,homeFilterSex:this.filterTargetSex},e.secret?(getApp().handleSecret(e.secret,Sn.INIT),e.secret.type==gr.HIDE&&this.onRankGameInitAfter()):this.onRankGameInitAfter(),typeof e.wheel_free_count!="undefined"&&e.wheel_free_count>0&&ee("/pagesDialog/prize-wheel-free",{free_count:e.wheel_free_count}),this.checkFilterDialogByStayDuration()},onEventAppDialogCloseGuide(e){e.from_type==1&&(q("show_guide_cover_grid_"+getApp().globalData.uid,1),this.clickSortWay())},onCallRefuseAnswer(){if(yr()){let e=new Date().getTime();getApp().globalData.s.commit("call/addCallDisturbReceiveCount",e)}},onPaySuccess(){this.bannerShowGame=1,getApp().globalData.luckyNumberShow=1,this.pageList[this.curIndex].loadData(!0)},parseFilterStr(){if(!this.tabList[this.curIndex].isLanguage){this.langFilterStr="";return}let t=this.filterParams.language;if(!t||t.length<=0){this.langFilterStr="";return}let i=this.filterParams.country_code,n=i&&i.length>0?2:1,a=this.filterStr.split(" \xB7 ");a.splice(n,1),this.langFilterStr=a.join(" \xB7 ")},parseLangTab(e){let t=Gr();t=JSON.parse(JSON.stringify(t));for(let i=0,n=t.length;i<n;i++){let a=t[i];a.type=e,a.flag=a.code,a.isLanguage=!0,this.tabList.push(a)}}},onTabItemTap(){},onShow(){let e=this.pageList[this.curIndex];e&&typeof e.onShowListener!="undefined"&&e.onShowListener(),this.tabBarChange(We.USER)},onReady(){for(let e=0,t=this.tabList.length;e<t;e++){let i=this.useGrid?this.$refs[`page${e}_1`]:this.$refs[`page${e}`];i&&this.pageList.push(i[0])}this.pageList[this.curIndex].loadData(!0)},onLoad(){let e=G("user_list_sort_"+getApp().globalData.uid);di(e)||(this.useGrid=e==2),getApp().init();let t=ae()?1:2;this.tabList=[{id:"popular",title:u("popular"),flag:1,type:t,isLanguage:!1},{id:"online",title:u("online"),flag:2,type:t,isLanguage:!1},{id:"new",title:u("new"),flag:3,type:t,isLanguage:!1},{id:"following",title:u("following"),flag:4,type:t,isLanguage:!1}],this.parseLangTab(t),this.initFilter(),this.$nextTick(()=>{this.parseTabSize()}),uni.$on("event_pay_success_coins",this.onPaySuccess),uni.$on("event_pay_success_vip",this.onPaySuccess),uni.$on("event_boost_listener",this.onEventBoostListener),uni.$on("event_game_show_window",this.onEventGameShowWindow),uni.$on("event_app_dialog_close_guide",this.onEventAppDialogCloseGuide),uni.$on("event_app_dialog_seeking_sex_after",this.onEventAppDialogSeekSexAfter),uni.$on("event_route_dialog_close_after",this.onRankGameInitAfter),qe.handleCache(),uni.$on("event_dynamic_publish",i=>{Zr(i)}),uni.$on("event_album_publish",i=>{Xr(i)}),uni.$on("event_agora_log",is),uni.$on("event_call_refuse_answer",this.onCallRefuseAnswer),uni.$on("event_say_hello",this.onEventSayHello),uni.$on("event_message_pri_close",this.onEventMessagePriClose),uni.$on("event_call_close_after_success",this.onEventCallCloseAfterSuccess),uni.$on("event_app_hide",this.onEventAppHide),uni.$on("event_app_show",this.onEventAppShow),ns()},onUnload(){}},Tp=Ue("dom"),Cp={data(){return{isFilterChoose:!1,filterStrW:getApp().globalData.window.width-uni.upx2px(130),filterStr:"",filterObj:{sex:0,country:[],language:[],ageList:[0,42],levelList:[0,199]},filterParams:{},stayDurationCheck:!1,stayDurationTimeout:!1,canShowDialogHello:!1,noCallSuccessStayTimer:!1,noCallSuccessStayMaxDurationByDialogHello:5*60,languageList:[],showFilterTips:!1,hasFilterHistory:!1,filterTipsTop:0,needResetFilter:!1,filterTargetSex:0}},computed:{filterResBg(){return getApp().globalData.themeObj.color.bg3_1}},methods:{clickFilter(){this.onClickFilterTipsClose();let e=this.tabList[this.curIndex],t=e.flag;Z("/pagesDialog/user-filter",{flag:t,isLanguage:e.isLanguage?1:0},"userFilterData",this.filterObj,{onFilterListener:this.onFilterListener})},changeFilterSex(e){e&&e.stopPropagation();let t=this.getDefFilter();this.filterStr=t.filterStr,this.onFilterListener(t),this.saveDefFilter(t),q("user_has_set_filter_"+getApp().globalData.uid,"1");let i=G("user_open_filter_tips_"+getApp().globalData.uid);m(i)&&Tp.getComponentRect(this.$refs.viewFilter,n=>{n&&n.size&&(this.filterTipsTop=n.size.top+22),this.$nextTick(()=>{this.showFilterTips=!0,q("user_open_filter_tips_"+getApp().globalData.uid,"1");let a=setTimeout(()=>{this.onClickFilterTipsClose(),clearTimeout(a)},5e3)})}),Dn("home_filter_set")},onClickFilterTipsClose(){this.showFilterTips&&(this.showFilterTips=!1)},onFilterListener(e){m(e)||(this.isFilterChoose=!0,this.filterStr=e.filterStr,this.filterObj=e.filterObj,this.filterParams=e.apiParams,this.parseFilterStr())},onEventAppDialogSeekSexAfter(e){if(this.stayDurationCheck=!1,typeof e=="undefined")return;let t=G(`user_filter_${getApp().globalData.uid}_v1`),i=e==0?u("all"):ut(e);if(m(t))this.filterStr=i,this.filterParams.sex=e,this.filterObj.sex=e,this.saveFilter({sex:e});else{let n=G(`user_filter_index_${getApp().pubUser.uid}`);n=m(n)?0:Number(n);let a=JSON.parse(JSON.stringify(t[n])),r=a.filterStr.split(" \xB7 ");r[0]=i,this.filterStr=r.join(" \xB7 "),this.filterParams.sex=e,this.filterObj.sex=e;for(let s=0,l=t.length;s<l;s++)if(this.filterStr==t[s].filterStr){q(`user_filter_index_${getApp().pubUser.uid}`,s+"");return}a.filterObj.sex=e,a.apiParams.sex=e,a.filterStr=r.join(" \xB7 "),t.unshift(a),t.length>3&&(t=t.slice(0,3)),q(`user_filter_${getApp().pubUser.uid}_v1`,t),q(`user_filter_index_${getApp().pubUser.uid}`,"0")}},onEventCallCloseAfterSuccess(){this.noCallSuccessStayTimer&&clearInterval(this.noCallSuccessStayTimer),this.canShowDialogHello&&v("appDialog/addDialogHello",10)},onEventAppHide(){this.noCallSuccessStayTimer&&clearInterval(this.noCallSuccessStayTimer)},onEventAppShow(){this.handleNoCallSuccessStayTimer()},handleStayDurationTimeout(){this.stayDurationTimeout&&clearTimeout(this.stayDurationTimeout),this.stayDurationTimeout=setTimeout(()=>{Cn(this.filterObj.sex)&&v("appDialog/addDialogHomeFilter",this.filterParams.sex),clearTimeout(this.stayDurationTimeout)},5*1e3)},handleNoCallSuccessStayTimer(){this.noCallSuccessStayTimer&&clearInterval(this.noCallSuccessStayTimer),this.canShowDialogHello=br(),this.canShowDialogHello&&(this.noCallSuccessStayTimer=setInterval(()=>{this.noCallSuccessStayMaxDurationByDialogHello-=1,!(this.noCallSuccessStayMaxDurationByDialogHello>0)&&(clearInterval(this.noCallSuccessStayTimer),v("appDialog/addDialogHello",0))},1e3))},checkFilterDialogByStayDuration(){getApp().globalData.isFromLoginProfile&&(this.stayDurationCheck=!0)},saveDefFilter(e){if(m(e)||m(e.filterStr))return;let t=[],i=G(`user_filter_${getApp().pubUser.uid}_v1`);m(i)||(t=i);for(let n=0,a=t.length;n<a;n++)if(e.filterStr==t[n].filterStr){q(`user_filter_index_${getApp().pubUser.uid}`,n+"");return}t.unshift(e),t.length>3&&(t=t.slice(0,3)),q(`user_filter_${getApp().pubUser.uid}_v1`,t),q(`user_filter_index_${getApp().pubUser.uid}`,"0")},saveFilter(e){let t={filterObj:{sex:e.sex,country:[],language:[],ageList:[0,42],levelList:[0,199]},apiParams:{sex:e.sex,country_code:[],language:[]},filterStr:e.sex==0?u("all"):ut(e.sex)};q(`user_filter_${getApp().pubUser.uid}_v1`,[t]),q(`user_filter_index_${getApp().pubUser.uid}`,"0")},parseSaveFilter(){let e=G(`user_filter_${getApp().pubUser.uid}`);if(e){for(let t=0,i=e.length;t<i;t++){let n=e[t],a=n.apiParams.country_code;if(a&&a.length>0){n.apiParams.country_code=[],n.filterObj.country=[];let r=n.filterStr.split(" \xB7 ");r.splice(1,1),n.filterStr=r.join(" \xB7 ")}}St(`user_filter_${getApp().pubUser.uid}`),q(`user_filter_${getApp().pubUser.uid}_v1`,e)}},checkHasSetFilter(){let e=G("user_has_set_filter_"+getApp().globalData.uid);return!m(e)},checkNeedResetFilter(e){if(this.checkHasSetFilter())return!1;if(m(e))return!0;let i=this.getDefFilter().apiParams;return this.filterTargetSex=i.sex,e.sex!=i.sex},getDefFilter(){let e=[],t="",i={ageList:[0,42],levelList:[0,199],country:[],language:[]},n={country_code:[],language:[]};if(this.hasFilterHistory){let a=Number(wi(!1));a==3&&(a=getApp().pubUser.sex==2?1:2),t=ut(a),n.sex=a,i.sex=a}else if(this.filterObj.sex==0){let a=Number(wi(!1));a==3&&(a=getApp().pubUser.sex==2?1:2),t=ut(a),n.sex=a,i.sex=a}else t=ut(this.filterObj.sex),n.sex=this.filterObj.sex,i.sex=this.filterObj.sex;return e.push(t),{apiParams:n,filterObj:i,filterStr:e.length>0?e.join(" \xB7 "):""}},initFilter(){if(this.isFilterChoose||this.curIndex==3)return;this.parseSaveFilter();let e=G(`user_filter_${getApp().pubUser.uid}_v1`);if(!di(e)&&typeof e=="object"&&typeof e[0]=="object"){this.hasFilterHistory=!0,this.isFilterChoose=!0;let i=G(`user_filter_index_${getApp().pubUser.uid}`);i=m(i)?0:Number(i);let n=e[i];this.filterParams=n.apiParams,this.filterObj=n.filterObj,this.filterStr=n.filterStr,this.needResetFilter=this.checkNeedResetFilter(this.filterParams);return}this.hasFilterHistory=!1;let t=0;Dt()?t=2:ae()&&(t=1),this.filterParams.sex=t,this.filterObj.sex=t,this.filterStr=t==0?u("all"):ut(t),this.needResetFilter=this.checkNeedResetFilter(this.filterParams)}},onShow(){},onHide(){this.stayDurationTimeout&&clearTimeout(this.stayDurationTimeout)},onLoad(){this.handleNoCallSuccessStayTimer(),uni.$on("event_handle_filter_seeking_sex",this.changeFilterSex)},onUnload(){this.noCallSuccessStayTimer&&clearInterval(this.noCallSuccessStayTimer),this.stayDurationTimeout&&clearTimeout(this.stayDurationTimeout),uni.$off("event_handle_filter_seeking_sex",this.changeFilterSex)}},xp={"boost-view":{"":{position:"fixed",right:"20rpx",flexDirection:"column",alignItems:"center"}},"text-free":{"":{width:"120rpx",height:"40rpx",lineHeight:"40rpx",textAlign:"center",fontSize:"24rpx",fontWeight:"900",color:"#FFFFFF",borderRadius:"8rpx",backgroundColor:"#34C759"}},"view-rocket":{"":{width:"152rpx",height:"140rpx",flexDirection:"column",alignItems:"center"}},"view-bottom":{"":{position:"absolute",bottom:0,width:"152rpx",height:"48rpx",flexDirection:"row",justifyContent:"center"}},"text-boost":{".view-bottom ":{color:"#EBD5A3",fontWeight:"bold",fontSize:"20rpx"}}},Ep=Ue("animation"),Dp={components:{UniTransition:Oe,LImg:$},props:{boostObj:{type:Object,default(){return{}}}},data(){return{timer:!1,isBoosting:!1,remainderTime:0,isChangeStatus:0,vW:uni.upx2px(180),isInitDoing:!1,freeCount:0,isShow:!1,isFreeAnimDoing:!1}},watch:{boostObj:{handler(e,t){this.initData()},deep:!0,immediate:!0},isBoosting:{handler(e,t){getApp().globalData.isBoosting=this.isBoosting},immediate:!0}},computed:{marginB(){return parseInt(getApp().globalData.window.height*.074)},freeStr(){return this.freeCount<=0?"":`${u("free")} x${this.freeCount}`},boostTop(){return{marginTop:`${w.isAndroid?12:6}rpx`}},boostingStr(){return this.isBoosting?this.remainderTime<=0?"00:00:00":jt(this.remainderTime,!0):u("boost")}},methods:{$str:u,clickThis(e){e&&e.stopPropagation();let t={status:this.isBoosting?1:0,freeCount:this.freeCount,price:this.boostObj.price,vipCount:this.boostObj.vip_count,durationMin:this.boostObj.duration,remainderTime:this.remainderTime<0?0:this.remainderTime,minCoins:this.boostObj.min_coins||200};Z("/pagesDialog/boost",t,"boostDialogData",{user:this.boostObj.user_info})},viewChangeAnim(e){if(this.isChangeStatus!=0)return;this.isChangeStatus=1;let t=e?0:this.vW;this.anim({transform:`translateX(${t}px)`},400,0,"linear").then(i=>{this.isChangeStatus=0})},anim(e,t,i,n){return typeof this.$refs.animView=="undefined"?new Promise(a=>{a()}):new Promise(a=>{Ep.transition(this.$refs.animView,{styles:e,duration:t,timingFunction:n,needLayout:!1,delay:i},()=>{a()})})},animFree(){let e=this.$refs.refFree;typeof e=="object"&&(e.step({rotate:8},{duration:300}),e.step({rotate:-8},{duration:300}),e.step({rotate:3},{duration:300}),e.step({rotate:-3},{duration:300}),e.step({rotate:1},{duration:300}),e.step({rotate:-1},{duration:300}),e.step({rotate:0},{duration:300}),e.run(()=>{let t=setTimeout(()=>{this.animFree(),clearTimeout(t)},1500)}))},setBoosting(e){this.remainderTime=e,this.timer&&clearInterval(this.timer),this.timer=setInterval(()=>{this.remainderTime<=0?(this.isBoosting=!1,uni.$emit("event_boost_listener",!1),this.timer&&clearInterval(this.timer)):this.remainderTime-=1},1e3),this.isBoosting=!0},initData(){try{if(this.isInitDoing)return;this.isInitDoing=!0,this.boostObj.exp_time>0?(this.setBoosting(this.boostObj.exp_time),this.isFreeAnimDoing=!1):(this.freeCount=this.boostObj.free_count,this.isBoosting=!1,this.freeCount>0&&!this.isFreeAnimDoing&&(this.isFreeAnimDoing=!0,setTimeout(()=>{this.animFree()},800))),this.isShow=!0,setTimeout(()=>{this.isInitDoing=!1},1e3)}catch(e){this.isInitDoing=!1}}},created(){uni.$on("event_boost_rocket_anim",this.viewChangeAnim),ke("s/user/rocket_fly_2.json")},unmounted(){uni.$off("event_boost_rocket_anim",this.viewChangeAnim)}};function vp(e,t,i,n,a,r){let s=D((0,o.resolveDynamicComponent)("l-img"),$),l=D((0,o.resolveDynamicComponent)("uni-transition"),Oe);return a.isShow?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,onClick:t[0]||(t[0]=(...c)=>r.clickThis&&r.clickThis(...c)),ref:"animView",class:"boost-view",style:(0,o.normalizeStyle)({bottom:`${r.marginB}px`}),renderWhole:!0},[!a.isBoosting&&r.freeStr?((0,o.openBlock)(),(0,o.createBlock)(l,{key:0,ref:"refFree",show:!0,style:{"align-items":"center","padding-top":"10rpx"}},{default:(0,o.withCtx)(()=>[(0,o.createElementVNode)("u-text",{class:"text-free"},(0,o.toDisplayString)(r.freeStr),1),(0,o.createVNode)(s,{src:"s/pub/rect_half_green.png",w:"36rpx",h:"20rpx",style:{"margin-left":"20rpx"}})]),_:1},512)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("view",{class:"view-rocket"},[(0,o.createElementVNode)("view",null,[(0,o.createVNode)(s,{src:"s/user/rocket_bg.png",w:"120rpx",h:"120rpx"}),a.isBoosting?((0,o.openBlock)(),(0,o.createBlock)(s,{key:1,src:"s/user/rocket_float.gif",w:"120rpx",h:"120rpx","is-gif":!0,style:{position:"absolute"}})):((0,o.openBlock)(),(0,o.createBlock)(s,{key:0,src:"s/user/rocket.png",w:"120rpx",h:"120rpx",style:{position:"absolute"}}))]),(0,o.createElementVNode)("view",{class:"view-bottom"},[(0,o.createVNode)(s,{src:"s/user/rocket_content_bg.png",w:"152rpx",h:"48rpx",style:{position:"absolute"}}),(0,o.createElementVNode)("u-text",{class:"text-boost",style:(0,o.normalizeStyle)(r.boostTop)},(0,o.toDisplayString)(r.boostingStr),5)])])],4)):(0,o.createCommentVNode)("",!0)}var kp=x(Dp,[["render",vp],["styles",[xp]]]),Lp={"boost-view":{"":{position:"relative",flexDirection:"column",alignItems:"center",justifyContent:"center",width:60,paddingBottom:"34rpx"}},"text-free":{"":{height:"22rpx",lineHeight:"22rpx",paddingTop:0,paddingRight:"8rpx",paddingBottom:0,paddingLeft:"8rpx",textAlign:"center",fontSize:"16rpx",fontWeight:"900",color:"#FFFFFF",borderRadius:"4rpx",backgroundColor:"#34C759"}},"view-rocket":{"":{width:"152rpx",height:"140rpx",flexDirection:"column",alignItems:"center"}},"view-bottom":{"":{width:"80rpx",height:"28rpx",flexDirection:"row",justifyContent:"center",bottom:"8rpx"}},"text-boost":{".view-bottom ":{color:"#EBD5A3",fontWeight:"bold",fontSize:"16rpx"}},"transform-center":{"":{position:"absolute",bottom:0}}},Ip=Ue("animation"),Rp={components:{UniTransition:Oe,LImg:$},props:{boostObj:{type:Object,default(){return{}}}},data(){return{timer:!1,isBoosting:!1,remainderTime:0,isChangeStatus:0,vW:uni.upx2px(180),isInitDoing:!1,freeCount:0,isShow:!1,isFreeAnimDoing:!1,freeBottom:w.isAndroid?4:0}},watch:{boostObj:{handler(e,t){this.initData()},deep:!0,immediate:!0},isBoosting:{handler(e,t){getApp().globalData.isBoosting=this.isBoosting},immediate:!0}},computed:{freeStr(){return this.freeCount<=0?"":`${u("free")} x${this.freeCount}`},boostTop(){return{marginTop:`${w.isAndroid?4:0}rpx`}},boostingStr(){return this.isBoosting?this.remainderTime<=0?"00:00":jt(this.remainderTime,!1):""},rocketSrc(){return this.isBoosting?"s/pub/rocket_1_s.png":"s/pub/rocket_1.png"}},methods:{$str:u,clickThis(e){e&&e.stopPropagation();let t={status:this.isBoosting?1:0,freeCount:this.freeCount,price:this.boostObj.price,vipCount:this.boostObj.vip_count,durationMin:this.boostObj.duration,remainderTime:this.remainderTime<0?0:this.remainderTime,minCoins:this.boostObj.min_coins||200};Z("/pagesDialog/boost",t,"boostDialogData",{user:this.boostObj.user_info})},viewChangeAnim(e){if(this.isChangeStatus!=0)return;this.isChangeStatus=1;let t=e?0:this.vW;this.anim({transform:`translateX(${t}px)`},400,0,"linear").then(i=>{this.isChangeStatus=0})},anim(e,t,i,n){return typeof this.$refs.animView=="undefined"?new Promise(a=>{a()}):new Promise(a=>{Ip.transition(this.$refs.animView,{styles:e,duration:t,timingFunction:n,needLayout:!1,delay:i},()=>{a()})})},animFree(){let e=this.$refs.refFree;typeof e=="object"&&(e.step({rotate:8},{duration:300}),e.step({rotate:-8},{duration:300}),e.step({rotate:3},{duration:300}),e.step({rotate:-3},{duration:300}),e.step({rotate:1},{duration:300}),e.step({rotate:-1},{duration:300}),e.step({rotate:0},{duration:300}),e.run(()=>{let t=setTimeout(()=>{this.animFree(),clearTimeout(t)},1500)}))},setBoosting(e){this.remainderTime=e,this.timer&&clearInterval(this.timer),this.timer=setInterval(()=>{this.remainderTime<=0?(this.isBoosting=!1,uni.$emit("event_boost_listener",!1),this.timer&&clearInterval(this.timer)):this.remainderTime-=1},1e3),this.isBoosting=!0},initData(){try{if(this.isInitDoing)return;this.isInitDoing=!0,this.boostObj.exp_time>0?(this.setBoosting(this.boostObj.exp_time),this.isFreeAnimDoing=!1):(this.freeCount=this.boostObj.free_count,this.isBoosting=!1,this.freeCount>0&&!this.isFreeAnimDoing&&(this.isFreeAnimDoing=!0,setTimeout(()=>{this.animFree()},800))),this.isShow=!0,setTimeout(()=>{this.isInitDoing=!1},1e3)}catch(e){this.isInitDoing=!1}}},created(){ke("s/user/rocket_fly_2.json")}};function Np(e,t,i,n,a,r){let s=D((0,o.resolveDynamicComponent)("l-img"),$),l=D((0,o.resolveDynamicComponent)("uni-transition"),Oe);return a.isShow?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,ref:"animView",class:"boost-view",renderWhole:!0},[(0,o.createElementVNode)("view",{onClick:t[0]||(t[0]=(...c)=>r.clickThis&&r.clickThis(...c)),style:{"margin-top":"34rpx"}},[(0,o.createVNode)(s,{src:r.rocketSrc,needStyle:1,w:"20px",h:"20px"},null,8,["src"])]),(0,o.createElementVNode)("view",{onClick:t[1]||(t[1]=(...c)=>r.clickThis&&r.clickThis(...c)),class:"transform-center",style:(0,o.normalizeStyle)([{"padding-bottom":"12rpx"},{bottom:`${a.freeBottom}rpx`}])},[!a.isBoosting&&r.freeStr?((0,o.openBlock)(),(0,o.createBlock)(l,{key:0,ref:"refFree",show:!0,style:{"align-items":"flex-start"}},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(s,{src:"s/pub/rect_half_green.png",w:"10rpx",h:"6rpx",style:{"margin-left":"14rpx",transform:"rotate(180deg)"}}),(0,o.createElementVNode)("u-text",{class:"text-free"},(0,o.toDisplayString)(r.freeStr),1)]),_:1},512)):(0,o.createCommentVNode)("",!0)],4),r.boostingStr?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,onClick:t[2]||(t[2]=(...c)=>r.clickThis&&r.clickThis(...c)),class:"transform-center view-bottom"},[(0,o.createVNode)(s,{src:"s/user/rocket_content_bg.png",w:"80rpx",h:"28rpx",style:{position:"absolute"}}),(0,o.createElementVNode)("u-text",{class:"text-boost",style:(0,o.normalizeStyle)(r.boostTop)},(0,o.toDisplayString)(r.boostingStr),5)])):(0,o.createCommentVNode)("",!0)],512)):(0,o.createCommentVNode)("",!0)}var Op=x(Rp,[["render",Np],["styles",[Lp]]]),Fp={"refresh-icon":{"":{position:"fixed",right:"20rpx",width:"92rpx",height:"92rpx",borderRadius:"46rpx",backgroundColor:"rgba(0,0,0,0.3)",flexDirection:"row",alignItems:"center",justifyContent:"center",zIndex:111}}},Mp=Ue("animation"),Pp={emits:["onClickRefresh"],data(){return{refreshIconBottom:parseInt(getApp().globalData.window.height*.084),isChangeStatus:0,vW:uni.upx2px(180),isLoading:!1}},methods:{clickRefresh(){this.needLoading||(this.isChangeStatus=1,this.$emit("onClickRefresh"),this.needLoading=!0,this.loadingAnimation())},refreshFinish(){this.needLoading=!1,this.isChangeStatus==1&&(this.isChangeStatus=0)},loadingAnimation(){this.anim({transform:"rotate(360deg)"},600,0,"linear").then(()=>{this.anim({transform:"rotate(0deg)"},0,0,"linear"),this.needLoading&&this.loadingAnimation()})},viewChangeAnim(e){if(this.isChangeStatus!=0)return;this.isChangeStatus=1;let t=e?0:this.vW;this.anim({transform:`translateX(${t}px)`},400,0,"linear").then(i=>{this.isChangeStatus=0})},anim(e,t,i,n){return typeof this.$refs.animView=="undefined"?new Promise(a=>{a()}):new Promise(a=>{Mp.transition(this.$refs.animView,{styles:e,duration:t,timingFunction:n,needLayout:!1,delay:i},()=>{a()})})}},created(){uni.$on("event_boost_rocket_anim",this.viewChangeAnim)},unmounted(){uni.$off("event_boost_rocket_anim",this.viewChangeAnim)}};function Bp(e,t,i,n,a,r){let s=D((0,o.resolveDynamicComponent)("l-img"),$);return(0,o.openBlock)(),(0,o.createElementBlock)("view",{ref:"animView",onClick:t[0]||(t[0]=(...l)=>r.clickRefresh&&r.clickRefresh(...l)),class:"refresh-icon",style:(0,o.normalizeStyle)({bottom:`${a.refreshIconBottom}px`}),renderWhole:!0},[(0,o.createVNode)(s,{src:"s/pub/refresh.png",w:"48rpx",h:"48rpx"})],4)}var $p=x(Pp,[["render",Bp],["styles",[Fp]]]),Up=Ue("dom"),Es={emits:["onListScroll"],props:{data:{type:Object,default(){return{}}},filterParams:{type:Object,default(){return{}}},isAdmin:{type:[Boolean,Number],default:!1},useGrid:{type:Boolean,default:!1},currentTab:{type:Object,default(){return{}}}},data(){return{isFirst:!0,lastReqTime:0,list:[],page:1,loadMore:"loading",emptyInfo:"",uidObj:{},showLoading:!1,onlineIndex:-1,isScroll:!1,scrollTimer:!1,isRefreshDoing:!1,needShowLoading:!1}},watch:{filterParams:{handler(e,t){if(this.data.flag!=4){if(this.data.isLanguage&&this.currentTab.flag!=this.data.flag){this.list=[],this.isFirst||(this.needShowLoading=!0);return}this.needShowLoading=!1,this.showLoading=!0,this.loadData(!0,()=>{this.showLoading=!1,this.scrollToTop()})}},deep:!0},isScroll:{handler(e,t){uni.$emit("event_boost_rocket_anim",!e)}},useGrid:{handler(e,t){this.data.flag!=4&&(this.showLoading=!0,this.loadData(!0,()=>{this.showLoading=!1}))},deep:!0}},methods:{clickShield(e){let t=this.list[e];ur(t,1,1,()=>{this.list.splice(e,1)})},handleRefresh(e){this.showLoading=!0;let t=new Date().getTime();this.onRefresh(t,()=>{this.showLoading=!1,typeof e=="function"&&e()})},scrollToTop(e=!1){Up.scrollToElement(this.$refs.cellFirst,{animated:e})},onClickAdminEye(e){this.list.splice(e,1)},onListScroll(e){if(this.$emit("onListScroll",e.contentOffset.y),e.contentOffset.y>0){this.isRefreshDoing=!0;return}else if(this.isRefreshDoing){this.isRefreshDoing=!1;return}this.isScroll=!0,this.scrollTimer&&clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(()=>{this.isScroll&&(this.isScroll=!1)},500)},onLoadMore(){this.loadMore!="nomore"&&(this.loadMore="loading",this.page++,this.loadData(!1),this.page==2?this.executeDialogGridGuide():this.page>3)},onRefresh(e,t){this.loadData(!0,()=>{this.$refs.refRefresh&&this.$refs.refRefresh.refreshFinish(e),typeof t=="function"&&t()})},onShowListener(){if(this.isFirst||this.lastReqTime<=0)return;let e=new Date().getTime();parseInt((e-this.lastReqTime)/1e3)<5*60||this.loadData(!0,()=>{this.scrollToTop()})},executeDialogHomeFilter(){this.data.flag!=4&&v("appDialog/addDialogHomeFilter",this.filterParams.sex)},executeDialogGridGuide(){this.data.flag!=4&&v("appDialog/addDialogGridGuide",this.useGrid)},parseList(e,t,i){e&&(this.uidObj={});let n=[];for(let a=0,r=t.length;a<r;a++){let s=t[a];this.uidObj[s.uid]||(n.push(s),this.uidObj[s.uid]=1)}this.isGrid&&this.data.flag!=4&&(this.page!=1||i==1)&&n.length%2!=0&&n.splice(n.length-1,1),e&&(this.list=[]),this.list=[...this.list,...n]},loadData(e,t,i){if(!i&&this.isFirst){this.isFirst=!1;let a=G(`user_list_${this.data.type}_${this.data.flag}_2`);a&&this.parseList(!0,a.list)}e&&(this.page=1);let n={page:this.page,is_grid:this.useGrid?1:0};this.data.isLanguage?n.flag=2:n.flag=this.data.flag,this.data.flag!=4&&(n.filter_list=this.filterParams,n=Ge(JSON.stringify(n)),this.data.isLanguage&&(n.filter_list.language=[this.data.code])),this.onlineIndex!=-1&&(n.online_index=this.onlineIndex),this.needShowLoading&&(this.showLoading=!0),B.request("/home/list",n,!1,!0).then(a=>{typeof a.data.online_index!="undefined"&&(this.onlineIndex=a.data.online_index),this.parseList(e,a.data.list,a.data.has_more),this.emptyInfo&&(this.emptyInfo=""),this.loadMore=a.data.has_more?"loadmore":"nomore",typeof t=="function"&&t(),this.page==1&&!this.data.isLanguage&&q(`user_list_${this.data.type}_${this.data.flag}_2`,a.data),this.lastReqTime=new Date().getTime(),this.$refs.refList.resetLoadmore(),e&&(a.data.game_banned_callback?getApp().globalData.bannedInfos[ri.GAME]=a.data.game_banned_callback.func_data:delete getApp().globalData.bannedInfos[ri.GAME],this.data.flag!=4&&this.$emit("onBoostValChange",a.data.top)),typeof a.data.show_rank!="undefined"&&this.data.flag==2&&this.$emit("onRankValChange",{rank:a.data.show_rank,game:a.data.show_game}),this.needShowLoading&&(this.needShowLoading=!1,this.showLoading=!1)},a=>{if(a.data&&typeof a.data.show_rank!="undefined"&&this.data.flag==2&&this.$emit("onRankValChange",{rank:a.data.show_rank,game:a.data.show_game}),a&&typeof a.ok!="undefined"?this.loadMore="nomore":(this.loadMore="loadmore",this.page>1&&(this.page-=1)),a.data&&typeof a.data.callback=="object"){let r=a.data.callback;r.func_name=="empty_page_config"?(this.list.length>0&&(this.list=[]),this.emptyInfo=r.func_data):this.emptyInfo=""}typeof t=="function"&&t()})}}},Hp={mixins:[Es],components:{NvueRefresh:Un,UserCell:bs,EmptyPage:On},emits:["onRankValChange","onBoostValChange"],data(){return{isGrid:!1}}};function Wp(e,t,i,n,a,r){let s=(0,o.resolveComponent)("nvue-refresh"),l=(0,o.resolveComponent)("user-cell"),c=D((0,o.resolveDynamicComponent)("empty-page"),Nn),d=D((0,o.resolveDynamicComponent)("uni-load-more"),$n);return(0,o.openBlock)(),(0,o.createElementBlock)("list",{ref:"refList",scrollable:!0,showScrollbar:!1,loadmoreoffset:20,offsetAccuracy:20,onLoadmore:t[0]||(t[0]=(...p)=>e.onLoadMore&&e.onLoadMore(...p)),onScroll:t[1]||(t[1]=(...p)=>e.onListScroll&&e.onListScroll(...p)),class:"list-page"},[(0,o.createVNode)(s,{ref:"refRefresh",onOnRefresh:e.onRefresh},null,8,["onOnRefresh"]),(0,o.createElementVNode)("cell",{ref:"cellFirst"},null,512),e.showLoading?((0,o.openBlock)(),(0,o.createElementBlock)("cell",{key:0},[(0,o.createElementVNode)("view",{class:"center-align",style:{height:"80rpx"}},[(0,o.createElementVNode)("loading-indicator",{animating:!0,style:{color:"#333333",width:"40rpx",height:"40rpx"}})])])):(0,o.createCommentVNode)("",!0),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.list,(p,f)=>((0,o.openBlock)(),(0,o.createElementBlock)("cell",{key:`user${f}`},[(0,o.createVNode)(l,{item:p,type:e.data.type,"is-admin":e.isAdmin,"show-admin-extra":!0,onOnClickShield:y=>e.clickShield(f),onOnClickAdminEye:y=>e.onClickAdminEye(f)},null,8,["item","type","is-admin","onOnClickShield","onOnClickAdminEye"])]))),128)),e.emptyInfo?((0,o.openBlock)(),(0,o.createElementBlock)("cell",{key:1},[(0,o.createVNode)(c,{imgUrl:e.emptyInfo.img_url,tip:e.emptyInfo.tip,style:{"margin-top":"160rpx"}},null,8,["imgUrl","tip"])])):e.loadMore!="nomore"?((0,o.openBlock)(),(0,o.createElementBlock)("header",{key:2},[(0,o.createVNode)(d,{status:e.loadMore},null,8,["status"])])):(0,o.createCommentVNode)("",!0)],544)}var Gp=x(Hp,[["render",Wp]]),Vp={center:{"":{flexDirection:"row",alignItems:"center"}},"center-align":{"":{alignItems:"center",justifyContent:"center"}},"column-between":{"":{flexDirection:"column",justifyContent:"space-between"}},"center-between":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},"cover-view":{"":{position:"absolute",top:0,zIndex:111,boxSizing:"border-box",borderRadius:"8rpx"}},"status-view":{"":{backgroundColor:"rgba(0,0,0,0.4)",borderRadius:"20rpx",paddingTop:0,paddingRight:"10rpx",paddingBottom:0,paddingLeft:"10rpx",height:"28rpx"}},point:{".status-view ":{width:"12rpx",height:"12rpx",borderRadius:"6rpx"}},text:{".status-view ":{fontSize:"16rpx",color:"#FFFFFF",marginLeft:"4rpx"},".view-boost ":{fontSize:"20rpx",color:"#EBD5A3"}},"shield-view":{"":{paddingTop:"10rpx",paddingRight:"10rpx",paddingBottom:"10rpx",paddingLeft:"10rpx",marginRight:"-10rpx"}},"shield-icon":{".shield-view ":{backgroundColor:"rgba(0,0,0,0.2)",width:"24rpx",height:"24rpx",lineHeight:"24rpx",borderRadius:"12rpx",paddingTop:"10rpx",paddingRight:"10rpx",paddingBottom:"10rpx",paddingLeft:"10rpx"}},"action-view":{"":{height:"180rpx",flexDirection:"column-reverse",backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.5) 100%)",borderBottomLeftRadius:"8rpx",borderBottomRightRadius:"8rpx",paddingBottom:"16rpx"}},nickname:{".action-view ":{fontSize:"28rpx",lines:1,overflow:"hidden",textOverflow:"ellipsis",color:"#FFFFFF",fontWeight:"600"}},"level-str":{".action-view ":{width:20,lineHeight:20,textAlign:"center",color:"#FFFFFF",position:"absolute",top:0}},"view-action":{"":{width:"88rpx",height:"88rpx",borderRadius:"44rpx",backgroundColor:"#FFF0F5"}},"view-boost":{"":{position:"absolute",paddingLeft:"10rpx",height:"40rpx"}},"view-eye":{"":{position:"absolute",bottom:"110rpx",right:"20rpx"}}},jp={components:{AvatarImg:Ye,AUpStr:Li,LevelVip:Di,UBaseInfo:it,UniIcons:_e,LImg:$},props:{item:{type:Object,default(){return{}}},type:{type:Number,default:1},hideShield:{type:Boolean,default:!1},isAdmin:{type:[Boolean,Number],default:!1},showAdminExtra:{type:Boolean,default:!1}},data(){return{itemW:parseInt((getApp().globalData.window.width-15)/2),itemH:parseInt((getApp().globalData.window.width-15)/2)*1.44,fromType:3,minShowLevel:this.item.is_auth?1:0}},computed:{nicknameW(){let e=0;return this.item.level&&(e+=48),m(this.actionSrc)||(e+=88),this.itemW-24-uni.upx2px(e)},getNickname(){return kt(this.item)},actionSrc(){return getApp().globalData.appCRE?this.type==1?"s/pub/chat_msg.png":"s/pub/chat_video.png":""},colorVal(){return getApp().globalData.themeObj.style==K.LIGHT?this.item.online_status==1?"#34C759":this.item.online_status==2?"#FF9537":"rgba(255, 255, 255, 07)":this.item.online_status==1?"#2A9F47":this.item.online_status==2?"#CC7732":"rgba(255, 255, 255, 07)"},onlineStr(){return this.item.online_status==1?u("available"):this.item.online_status==2?u("chatting"):this.item.online_status==3?u("anchorSet.rest"):this.item.uptime==0?u("time.daysAgo",{number:"3"}):fi(this.item.uptime)},showLevel(){return!this.item.hide_level&&(this.item.level>0||this.item.is_auth)},showVip(){return this.item.is_vip?!this.item.hide_vip:!1},showCountry(){return(!m(this.item.country_code)||!m(this.item.country_flag))&&!this.item.hide_profile},levelSrc(){return this.item.sex==2?"s/pub/level_a.png":"s/pub/level_c.png"},levelSize(){return this.item.level>99?"4px":this.item.level>9?"6px":"7px"},avatarBorder(){return getApp().globalData.themeObj.style==K.LIGHT?"2rpx solid #EEEEEE":"2rpx solid #333333"}},methods:{$str:u,clickThis(){xt(this.item.uid,!0)},clickEye(){yi(this.item.uid,()=>{this.$emit("onClickAdminEye")})},clickShield(e){e&&e.stopPropagation(),this.$emit("onClickShield")},clickAction(e){e&&e.stopPropagation(),this.type==1?dt(this.item):It(this.item,this.item.video,Tt.QUALITY)}}};function zp(e,t,i,n,a,r){let s=D((0,o.resolveDynamicComponent)("avatar-img"),Ye),l=D((0,o.resolveDynamicComponent)("l-img"),$),c=D((0,o.resolveDynamicComponent)("uni-icons"),_e),d=(0,o.resolveComponent)("a-up-str");return(0,o.openBlock)(),(0,o.createElementBlock)("view",{style:(0,o.normalizeStyle)([{height:`${a.itemH}px`},{position:"relative"}]),renderWhole:!0},[(0,o.createVNode)(s,{user:i.item,w:`${a.itemW}px`,h:`${a.itemH}px`,"place-w":`${a.itemW*.7}px`,radius:"8rpx","place-type":2,"place-bottom":"30px",border:r.avatarBorder,fromType:a.fromType},null,8,["user","w","h","place-w","border","fromType"]),(0,o.createElementVNode)("view",{onClick:t[3]||(t[3]=(...p)=>r.clickThis&&r.clickThis(...p)),class:"cover-view column-between",style:(0,o.normalizeStyle)({width:`${a.itemW}px`,height:`${a.itemH}px`})},[(0,o.createElementVNode)("view",{class:"center-between",style:{padding:"16rpx 16rpx 0 16rpx","margin-top":"-10rpx"}},[(0,o.createElementVNode)("view",{class:"center"},[i.item.hide_online?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,class:"status-view center"},[(0,o.createElementVNode)("view",{class:"point",style:(0,o.normalizeStyle)({background:r.colorVal})},null,4),(0,o.createElementVNode)("u-text",{class:"text"},(0,o.toDisplayString)(r.onlineStr),1)])),i.item.label?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:1,class:"status-view center",style:{"margin-left":"6rpx"}},[(0,o.createVNode)(l,{src:i.item.label.icon,"need-style":1,w:"16rpx",h:"16rpx"},null,8,["src"]),(0,o.createElementVNode)("u-text",{class:"text"},(0,o.toDisplayString)(i.item.label.title),1)])):(0,o.createCommentVNode)("",!0)]),i.hideShield?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,onClick:t[0]||(t[0]=(...p)=>r.clickShield&&r.clickShield(...p)),class:"shield-view"},[(0,o.createElementVNode)("view",{class:"shield-icon center-align"},[(0,o.createVNode)(c,{type:"closeempty",color:"#FFFFFF",size:"16rpx"})])]))]),(0,o.createElementVNode)("view",{class:"action-view"},[i.isAdmin&&i.showAdminExtra?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,style:{position:"absolute",bottom:"110rpx","margin-left":"4rpx"}},[(0,o.createVNode)(d,{user:i.item,color:"#FFFFFF","font-size":"20rpx"},null,8,["user"])])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("view",{class:"center-between",style:{"margin-top":"20rpx",padding:"0 8px",height:"88rpx"}},[(0,o.createElementVNode)("view",null,[(0,o.createElementVNode)("view",{class:"center"},[r.showCountry?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,class:"status-view center",style:{"margin-right":"6rpx"}},[i.item.country_flag?((0,o.openBlock)(),(0,o.createBlock)(l,{key:0,src:i.item.country_flag,w:"20rpx",h:"20rpx",radius:"10rpx",style:{"margin-right":"4rpx","box-shadow":"0 0 1px 0 #0091FF"}},null,8,["src"])):(0,o.createCommentVNode)("",!0),i.item.country_code?((0,o.openBlock)(),(0,o.createElementBlock)("u-text",{key:1,class:"text"},(0,o.toDisplayString)(i.item.country_code),1)):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0),r.showVip?((0,o.openBlock)(),(0,o.createBlock)(l,{key:1,src:"s/pub/vip_3.png",w:"54rpx",h:"24rpx",style:{"margin-right":"4rpx"}})):(0,o.createCommentVNode)("",!0),i.item.auth_status==1?((0,o.openBlock)(),(0,o.createBlock)(l,{key:2,src:"s/pub/verified_1.png",w:"24rpx",h:"24rpx"})):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("view",{class:"center",style:{"margin-top":"2px"}},[(0,o.createElementVNode)("u-text",{class:"nickname",style:(0,o.normalizeStyle)({maxWidth:`${r.nicknameW}px`})},(0,o.toDisplayString)(r.getNickname),5),r.showLevel?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,style:{position:"relative","margin-left":"4px"}},[(0,o.createVNode)(l,{src:r.levelSrc,w:"20px",h:"20px"},null,8,["src"]),(0,o.createElementVNode)("u-text",{class:"level-str",style:(0,o.normalizeStyle)({fontSize:r.levelSize})},(0,o.toDisplayString)(i.item.level||a.minShowLevel),5)])):(0,o.createCommentVNode)("",!0)])]),r.actionSrc?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,onClick:t[1]||(t[1]=(...p)=>r.clickAction&&r.clickAction(...p)),class:"view-action center-align"},[(0,o.createVNode)(l,{src:r.actionSrc,onClick:r.clickAction,w:"52rpx",h:"52rpx"},null,8,["src","onClick"])])):(0,o.createCommentVNode)("",!0)]),i.item.is_top==1?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:1,class:"center",style:{position:"relative"}},[(0,o.createVNode)(l,{src:"s/user/boost_grid_bg.png",w:"160rpx",h:"40rpx"}),(0,o.createElementVNode)("view",{class:"center view-boost"},[(0,o.createVNode)(l,{src:"s/user/rocket_i_yellow.png",w:"26rpx",h:"24rpx"}),(0,o.createElementVNode)("u-text",{class:"text"},(0,o.toDisplayString)(r.$str("boosting")),1)])])):(0,o.createCommentVNode)("",!0)]),i.isAdmin?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,onClick:t[2]||(t[2]=(0,o.withModifiers)(p=>r.clickEye(p,e.index),["stop"])),class:"view-eye"},[(0,o.createVNode)(c,{type:"eye-slash-filled",size:"20px",color:"#FFFFFF"})])):(0,o.createCommentVNode)("",!0)],4)],4)}var Yp=x(jp,[["render",zp],["styles",[Vp]]]),Kp={mixins:[Es],components:{NvueRefresh:Un,EmptyPage:On,UserCellGrid:Yp},emits:["onRankValChange","onBoostValChange"],data(){return{isGrid:!0,isAndroid:w.isAndroid}}};function qp(e,t,i,n,a,r){let s=(0,o.resolveComponent)("nvue-refresh"),l=(0,o.resolveComponent)("user-cell-grid"),c=D((0,o.resolveDynamicComponent)("empty-page"),Nn),d=D((0,o.resolveDynamicComponent)("uni-load-more"),$n);return(0,o.openBlock)(),(0,o.createElementBlock)("waterfall",{ref:"refList",scrollable:!0,bounce:!0,showScrollbar:!1,columnCount:2,columnGap:5,leftGap:5,rightGap:5,alwaysScrollableVertical:!0,onLoadmore:t[0]||(t[0]=(...p)=>e.onLoadMore&&e.onLoadMore(...p)),onScroll:t[1]||(t[1]=(...p)=>e.onListScroll&&e.onListScroll(...p)),style:(0,o.normalizeStyle)({marginTop:`${a.isAndroid?-2:0}px`})},[(0,o.createVNode)(s,{ref:"refRefresh",onOnRefresh:e.onRefresh,"bg-value":"bg1_1"},null,8,["onOnRefresh"]),(0,o.createElementVNode)("cell",{ref:"cellFirst",style:(0,o.normalizeStyle)({height:`${a.isAndroid?2:0}px`})},null,4),(0,o.createElementVNode)("cell",{ref:"cellFirst1",style:(0,o.normalizeStyle)({height:`${a.isAndroid?2:0}px`})},null,4),e.showLoading?((0,o.openBlock)(),(0,o.createElementBlock)("header",{key:0},[(0,o.createElementVNode)("view",{class:"center-align",style:{height:"80rpx"}},[(0,o.createElementVNode)("loading-indicator",{animating:!0,style:{color:"#666666",width:"40rpx",height:"40rpx"}})])])):(0,o.createCommentVNode)("",!0),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.list,(p,f)=>((0,o.openBlock)(),(0,o.createElementBlock)("cell",{key:`user${f}`},[(0,o.createVNode)(l,{item:p,type:e.data.type,"is-admin":e.isAdmin,onOnClickShield:y=>e.clickShield(f),onOnClickAdminEye:y=>e.onClickAdminEye(f),"show-admin-extra":!0,style:{"margin-bottom":"5px"}},null,8,["item","type","is-admin","onOnClickShield","onOnClickAdminEye"])]))),128)),e.emptyInfo?((0,o.openBlock)(),(0,o.createElementBlock)("header",{key:1},[(0,o.createVNode)(c,{imgUrl:e.emptyInfo.img_url,tip:e.emptyInfo.tip,style:{"margin-top":"160rpx"}},null,8,["imgUrl","tip"])])):e.loadMore!="nomore"?((0,o.openBlock)(),(0,o.createElementBlock)("header",{key:2},[(0,o.createVNode)(d,{status:e.loadMore},null,8,["status"])])):(0,o.createCommentVNode)("",!0)],36)}var Jp=x(Kp,[["render",qp]]),Xp={"view-tips":{"":{position:"fixed",paddingTop:"10rpx",zIndex:11111}},"view-content":{".view-tips ":{backgroundColor:"#333333",boxShadow:"0 4rpx 20rpx 0 rgba(0, 0, 0, 0.2)",borderRadius:"12rpx",position:"relative",paddingLeft:"16rpx"}},"view-text":{".view-tips ":{color:"#FFFFFF",fontSize:"28rpx",lineHeight:"40rpx"}},"view-arrow":{".view-tips ":{width:"20rpx",height:"20rpx",transform:"rotate(45deg)",backgroundColor:"#333333",right:"28rpx",position:"absolute",top:"4rpx",zIndex:1111}}},Zp={emits:["onClickClose"],components:{UniIcons:_e},methods:{$str:u,clickClose(){this.$emit("onClickClose")}}};function Qp(e,t,i,n,a,r){let s=D((0,o.resolveDynamicComponent)("uni-icons"),_e);return(0,o.openBlock)(),(0,o.createElementBlock)("view",{class:"view-tips",renderWhole:!0},[(0,o.createElementVNode)("view",{class:"view-arrow"}),(0,o.createElementVNode)("view",{class:"center view-content"},[(0,o.createElementVNode)("u-text",{class:"view-text"},(0,o.toDisplayString)(r.$str("filterYouLike")),1),(0,o.createVNode)(s,{onClick:r.clickClose,type:"closeempty",size:"26rpx",color:"#FFFFFF",style:{padding:"16rpx"}},null,8,["onClick"])])])}var em=x(Zp,[["render",Qp],["styles",[Xp]]]),tm={center:{"":{flexDirection:"row",alignItems:"center"}},"column-center":{"":{flexDirection:"column",alignItems:"center",justifyContent:"center"}},"center-align":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"center-between":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},"text-title-top":{"":{fontSize:"40rpx",fontWeight:"700"}},"text-auth":{"":{fontSize:"24rpx",marginLeft:"8rpx",lineHeight:"24rpx",lines:1,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",color:"#FF4477"}},"view-tab":{"":{borderRadius:"8rpx",paddingTop:"8rpx",paddingRight:"20rpx",paddingBottom:"8rpx",paddingLeft:"20rpx",boxSizing:"border-box"}},"text-title":{".view-tab ":{fontSize:"24rpx",lineHeight:"28rpx"}},"tab-bottom-line":{"":{height:"2rpx",backgroundColor:"rgba(0,0,0,0.1)"}},"swiper-user":{"":{flex:1}},"view-filter":{"":{flex:1,paddingTop:0,paddingRight:"16rpx",paddingBottom:0,paddingLeft:"30rpx",flexDirection:"row",alignItems:"center",height:"48rpx"}},"scroll-view":{".view-filter ":{flexDirection:"row",alignItems:"center",marginLeft:"16rpx",flex:1}},"text-content":{".view-filter ":{fontSize:"24rpx",lineHeight:"48rpx"}},"grid-icon":{"":{position:"absolute",right:"10rpx",paddingTop:"20rpx",paddingRight:"20rpx",paddingBottom:"20rpx",paddingLeft:"20rpx",marginTop:"-12rpx"}},"banner-text":{"":{fontSize:"48rpx",fontWeight:"600",textAlign:"center",position:"absolute"}},"christmas-text":{"":{position:"absolute"}},title:{".christmas-text ":{fontSize:"32rpx",fontWeight:"600",color:"#FFFFFF",lineHeight:"32rpx",marginRight:"16rpx"}},tips:{".christmas-text ":{height:"20rpx",lineHeight:"20rpx",backgroundColor:"#FFFFFF",borderRadius:"12rpx",color:"#DF1837",paddingTop:0,paddingRight:"10rpx",paddingBottom:0,paddingLeft:"10rpx",marginTop:"6rpx",fontSize:"16rpx"}},"text-banner-number":{"":{fontSize:"36rpx",fontWeight:"bold",textAlign:"center",position:"absolute",color:"#FFFFFF"}}},im={mixins:[Dr,Sp,Cp,os,cs],components:{HomeRefresh:$p,BoostEnterNew:Op,FilterTips:em,CallEvaluate:kn,ListUser:Gp,ListUserGrid:Jp,ShareEnter:ls,BoostEnter:kp,MText:Le,MIcon:ys,MView:ki,GPageMeta:En,LotteryView:Ss,Navbar:ds}};function nm(e,t,i,n,a,r){let s=D((0,o.resolveDynamicComponent)("g-page-meta"),En),l=(0,o.resolveComponent)("m-text"),c=(0,o.resolveComponent)("boost-enter-new"),d=D((0,o.resolveDynamicComponent)("l-img"),$),p=(0,o.resolveComponent)("navbar"),f=(0,o.resolveComponent)("swiper-item"),y=(0,o.resolveComponent)("swiper"),R=(0,o.resolveComponent)("m-view"),E=(0,o.resolveComponent)("m-icon"),H=(0,o.resolveComponent)("list-user-grid"),L=(0,o.resolveComponent)("list-user"),k=(0,o.resolveComponent)("LotteryView"),W=(0,o.resolveComponent)("share-enter"),U=(0,o.resolveComponent)("home-refresh"),C=D((0,o.resolveDynamicComponent)("notice-view"),Ir),V=D((0,o.resolveDynamicComponent)("msg-notify"),Br),Ee=D((0,o.resolveDynamicComponent)("call-evaluate"),kn),je=(0,o.resolveComponent)("filter-tips");return(0,o.openBlock)(),(0,o.createElementBlock)("scroll-view",{scrollY:!0,showScrollbar:!0,enableBackToTop:!0,bubble:"true",style:{flexDirection:"column"}},[(0,o.createVNode)(s,{useBg1_1:e.useBg1_1},null,8,["useBg1_1"]),(0,o.createElementVNode)("view",{style:{flex:"1"}},[(0,o.createVNode)(p,null,{default:(0,o.withCtx)(()=>[(0,o.createElementVNode)("view",{class:"center-between",style:{flex:"1"}},[(0,o.createElementVNode)("view",{class:"center"},[(0,o.createVNode)(l,{text:e.appName,class:"text-title-top"},null,8,["text"])]),(0,o.createElementVNode)("view",{class:"center"},[e.isShowBoost&&e.curIndex!=3?((0,o.openBlock)(),(0,o.createBlock)(c,{key:0,boostObj:e.boostObj},null,8,["boostObj"])):(0,o.createCommentVNode)("",!0),e.showTopGameEnter?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:1,onClick:t[0]||(t[0]=(...M)=>e.clickGameHall&&e.clickGameHall(...M)),class:"view-search",style:{"margin-right":"40rpx"}},[(0,o.createVNode)(d,{onClick:e.clickGameHall,src:e.gameHallIconSrc,w:"22px",h:"22px"},null,8,["onClick","src"])])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("view",{ref:"modeIcon",onClick:t[1]||(t[1]=(...M)=>e.clickChangeMode&&e.clickChangeMode(...M)),class:"view-search",style:{"margin-right":"20rpx"}},[(0,o.createVNode)(d,{onClick:e.clickChangeMode,src:e.modeIconSrc,w:"22px",h:"22px"},null,8,["onClick","src"])],512),(0,o.createElementVNode)("view",{onClick:t[2]||(t[2]=(...M)=>e.clickSearch&&e.clickSearch(...M)),style:{"padding-left":"20rpx"}},[(0,o.createVNode)(d,{onClick:e.clickSearch,src:"s/pub/search_black.png",needStyle:1,w:"20px",h:"20px"},null,8,["onClick"])])])])]),_:1}),e.showBanner?((0,o.openBlock)(),(0,o.createBlock)(y,{key:0,interval:3e3,circular:!0,autoplay:!0,duration:500,vertical:!0,style:(0,o.normalizeStyle)([{height:`${e.bannerH+4}px`},{"margin-top":"6px"}])},{default:(0,o.withCtx)(()=>[e.bannerShowGame?((0,o.openBlock)(),(0,o.createBlock)(f,{key:0},{default:(0,o.withCtx)(()=>[(0,o.createElementVNode)("view",{class:"center-align",style:{padding:"2px 0"}},[(0,o.createVNode)(d,{onClick:e.clickGameEnter,src:"s/game/bg_enter_h44_1.png",w:`${e.bannerW}px`,h:`${e.bannerH}px`,radius:"8rpx"},null,8,["onClick","w","h"]),(0,o.createElementVNode)("u-text",{onClick:t[3]||(t[3]=(...M)=>e.clickGameEnter&&e.clickGameEnter(...M)),class:"text-banner-number",style:(0,o.normalizeStyle)({lineHeight:`${e.bannerH}px`})},(0,o.toDisplayString)(e.$str("luckyNumbers")),5)])]),_:1})):(0,o.createCommentVNode)("",!0),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.rankBannerList,(M,Q)=>((0,o.openBlock)(),(0,o.createBlock)(f,{key:Q},{default:(0,o.withCtx)(()=>[(0,o.createElementVNode)("view",{class:"center-align",style:{padding:"2px 0"}},[(0,o.createVNode)(d,{onClick:ye=>e.clickRankEnter(ye,M.curIdx),src:M.banner,w:`${e.bannerW}px`,h:`${e.bannerH}px`,radius:"8rpx"},null,8,["onClick","src","w","h"]),(0,o.createElementVNode)("u-text",{onClick:ye=>e.clickRankEnter(ye,M.curIdx),class:"banner-text",style:(0,o.normalizeStyle)({lineHeight:`${e.bannerH}px`,color:M.color})},(0,o.toDisplayString)(M.title),13,["onClick"])])]),_:2},1024))),128))]),_:1},8,["style"])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("view",{style:(0,o.normalizeStyle)([{width:`${e.sW}px`},{"margin-top":"16rpx"}])},[(0,o.createElementVNode)("view",{class:"center",style:(0,o.normalizeStyle)([{width:`${e.sW}px`},{position:"relative"}])},[(0,o.createElementVNode)("scroll-view",{ref:"tabScrollView",scrollX:!0,scrollWithAnimation:!0,showScrollbar:!1,scrollLeft:e.scrollLeft,style:(0,o.normalizeStyle)([{"flex-direction":"row","align-item":"center","margin-bottom":"20rpx"},{width:`${e.tabScrollW}px`}]),onScroll:t[4]||(t[4]=(...M)=>e.onScrollView&&e.onScrollView(...M))},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.tabList,(M,Q)=>((0,o.openBlock)(),(0,o.createElementBlock)("view",{onClick:ye=>e.clickTabTitle(Q),key:`a${Q}`,ref_for:!0,ref:`tab_${M.id}`,id:M.id,style:{"margin-left":"6px"}},[(0,o.createVNode)(R,{type:e.curIndex==Q?"bg2":"bg3",class:"view-tab",style:(0,o.normalizeStyle)({border:e.curIndex==Q?"2rpx solid "+e.themeColor.title:"2rpx solid "+e.themeColor.bg3})},{default:(0,o.withCtx)(()=>[(0,o.createVNode)(l,{text:M.title,type:e.curIndex==Q?"title":"desc",class:(0,o.normalizeClass)(["text-title",{"text-title-active":e.curIndex==Q}])},null,8,["text","type","class"])]),_:2},1032,["type","style"])],8,["onClick","id"]))),128))],44,["scrollLeft"]),(0,o.createElementVNode)("view",{ref:"gridIcon",onClick:t[5]||(t[5]=(...M)=>e.clickSortWay&&e.clickSortWay(...M)),class:"grid-icon"},[(0,o.createVNode)(d,{src:e.listSortIcon,onClick:e.clickSortWay,needStyle:1,w:"32rpx",h:"32rpx"},null,8,["src","onClick"])],512)],4),(0,o.createElementVNode)("view",{class:"tab-bottom-line",style:(0,o.normalizeStyle)({width:`${e.sW}px`})},null,4),e.curIndex!=3?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,onClick:t[6]||(t[6]=(...M)=>e.clickFilter&&e.clickFilter(...M)),ref:"viewFilter",class:"view-filter",style:(0,o.normalizeStyle)({background:e.filterResBg})},[(0,o.createVNode)(d,{src:"s/pub/filter_b.png",needStyle:1,w:"32rpx",h:"32rpx"}),(0,o.createElementVNode)("scroll-view",{scrollX:!0,showScrollbar:!1,class:"scroll-view"},[(0,o.createVNode)(l,{text:e.showFilterStr,class:"text-content"},null,8,["text"])]),(0,o.createElementVNode)("view",{class:"center"},[(0,o.createVNode)(l,{text:e.$str("filter"),type:"desc",style:{"font-size":"20rpx","padding-left":"10rpx"}},null,8,["text"]),(0,o.createVNode)(E,{type:"right",size:"22rpx",modeType:"desc"})])],4)):(0,o.createCommentVNode)("",!0)],4),(0,o.createElementVNode)("view",{style:{position:"relative",flex:"1"}},[(0,o.createVNode)(y,{class:"swiper-user",current:e.curIndex,duration:300,onChange:e.onSwiperChange},{default:(0,o.withCtx)(()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.tabList,(M,Q)=>((0,o.openBlock)(),(0,o.createBlock)(f,{key:M.id},{default:(0,o.withCtx)(()=>[e.useGrid?((0,o.openBlock)(),(0,o.createBlock)(H,{key:0,ref_for:!0,ref:`page${Q}_1`,data:M,filterParams:e.filterParams,isAdmin:e.isAdmin,useGrid:e.useGrid,"current-tab":e.currentTab,onOnRankValChange:e.onRankValChange,onOnBoostValChange:e.onBoostValChange},null,8,["data","filterParams","isAdmin","useGrid","current-tab","onOnRankValChange","onOnBoostValChange"])):((0,o.openBlock)(),(0,o.createBlock)(L,{key:1,ref_for:!0,ref:`page${Q}`,data:M,filterParams:e.filterParams,isAdmin:e.isAdmin,useGrid:e.useGrid,"current-tab":e.currentTab,onOnRankValChange:e.onRankValChange,onOnBoostValChange:e.onBoostValChange},null,8,["data","filterParams","isAdmin","useGrid","current-tab","onOnRankValChange","onOnBoostValChange"]))]),_:2},1024))),128))]),_:1},8,["current","onChange"]),e.showAuthTip?((0,o.openBlock)(),(0,o.createElementBlock)("view",{key:0,class:"center-between",style:(0,o.normalizeStyle)([{background:e.viewAuthBg,width:`${e.sW}px`},{position:"absolute",top:"0","z-index":"111"}])},[(0,o.createElementVNode)("view",{onClick:t[7]||(t[7]=(...M)=>e.clickAuthTip&&e.clickAuthTip(...M)),class:"center",style:{"margin-left":"14rpx"}},[(0,o.createVNode)(d,{src:"s/pub/verified_1.png",needStyle:1,w:"24rpx",h:"24rpx"}),(0,o.createVNode)(l,{text:e.$str("auth.onlyDisplayPass"),type:"action",class:"text-auth",style:(0,o.normalizeStyle)({maxWidth:`${e.authTipsW}px`})},null,8,["text","style"]),(0,o.createVNode)(E,{type:"right",size:"24rpx",modeType:"action"})]),(0,o.createElementVNode)("view",{onClick:t[8]||(t[8]=(...M)=>e.clickCloseAuthTip&&e.clickCloseAuthTip(...M)),style:{padding:"14rpx 20rpx 14rpx 6rpx"}},[(0,o.createVNode)(d,{onClick:e.clickCloseAuthTip,src:"s/user/filter_clear.png",w:"24rpx",h:"24rpx"},null,8,["onClick"])])],4)):(0,o.createCommentVNode)("",!0)]),e.gameInfo?((0,o.openBlock)(),(0,o.createBlock)(k,{key:1,"game-info":e.gameInfo,style:(0,o.normalizeStyle)([{position:"absolute",right:"20rpx"},{bottom:`${e.lotteryViewBottom}px`}])},null,8,["game-info","style"])):(0,o.createCommentVNode)("",!0),e.showShareEnter?((0,o.openBlock)(),(0,o.createBlock)(W,{key:2})):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(U,{ref:"homeRefresh",onOnClickRefresh:e.onClickRefresh},null,8,["onOnClickRefresh"]),(0,o.createVNode)(C,{id:"/pages/user/index",isTab:!0}),(0,o.createVNode)(V,{id:"/pages/user/index"}),(0,o.createVNode)(Ee,{id:"/pages/user/index","is-tab":!0}),e.showFilterTips?((0,o.openBlock)(),(0,o.createBlock)(je,{key:3,onOnClickClose:e.onClickFilterTipsClose,style:(0,o.normalizeStyle)([{right:"20rpx"},{top:`${e.filterTipsTop}px`}])},null,8,["onOnClickClose","style"])):(0,o.createCommentVNode)("",!0)])])}var Ii=x(im,[["render",nm],["styles",[tm]]]);var Wn=plus.webview.currentWebview();if(Wn){let e=parseInt(Wn.id),t="pages/user/index",i={};try{i=JSON.parse(Wn.__query__)}catch(a){}Ii.mpType="page";let n=Vue.createPageApp(Ii,{$store:getApp({allowDefault:!0}).$store,__pageId:e,__pagePath:t,__pageQuery:i});n.provide("__globalStyles",Vue.useCssStyles([...__uniConfig.styles,...Ii.styles||[]])),n.mount("#root")}})();
/*!
  * @intlify/shared v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/message-resolver v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/runtime v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/message-compiler v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/core-base v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * vue-i18n v9.1.9
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */
