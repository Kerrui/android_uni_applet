"use weex:vue";

if (typeof Promise !== 'undefined' && !Promise.prototype.finally) {
  Promise.prototype.finally = function(callback) {
    const promise = this.constructor
    return this.then(
      value => promise.resolve(callback()).then(() => value),
      reason => promise.resolve(callback()).then(() => {
        throw reason
      })
    )
  }
};

if (typeof uni !== 'undefined' && uni && uni.requireGlobal) {
  const global = uni.requireGlobal()
  ArrayBuffer = global.ArrayBuffer
  Int8Array = global.Int8Array
  Uint8Array = global.Uint8Array
  Uint8ClampedArray = global.Uint8ClampedArray
  Int16Array = global.Int16Array
  Uint16Array = global.Uint16Array
  Int32Array = global.Int32Array
  Uint32Array = global.Uint32Array
  Float32Array = global.Float32Array
  Float64Array = global.Float64Array
  BigInt64Array = global.BigInt64Array
  BigUint64Array = global.BigUint64Array
};


(()=>{var hr=Object.create;var gi=Object.defineProperty,_r=Object.defineProperties,br=Object.getOwnPropertyDescriptor,yr=Object.getOwnPropertyDescriptors,Ar=Object.getOwnPropertyNames,yn=Object.getOwnPropertySymbols,wr=Object.getPrototypeOf,wn=Object.prototype.hasOwnProperty,Sr=Object.prototype.propertyIsEnumerable;var An=(e,t,i)=>t in e?gi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,hi=(e,t)=>{for(var i in t||(t={}))wn.call(t,i)&&An(e,i,t[i]);if(yn)for(var i of yn(t))Sr.call(t,i)&&An(e,i,t[i]);return e},Sn=(e,t)=>_r(e,yr(t));var En=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Er=(e,t,i,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Ar(t))!wn.call(e,a)&&a!==i&&gi(e,a,{get:()=>t[a],enumerable:!(n=br(t,a))||n.enumerable});return e};var j=(e,t,i)=>(i=e!=null?hr(wr(e)):{},Er(t||!e||!e.__esModule?gi(i,"default",{value:e,enumerable:!0}):i,e));var Se=(e,t,i)=>new Promise((n,a)=>{var s=o=>{try{l(i.next(o))}catch(d){a(d)}},r=o=>{try{l(i.throw(o))}catch(d){a(d)}},l=o=>o.done?n(o.value):Promise.resolve(o.value).then(s,r);l((i=i.apply(e,t)).next())});var Y=En((Yd,Cn)=>{Cn.exports=Vue});var _i=En((zd,Tn)=>{Tn.exports=uni.Vuex});var ie=j(Y());var R=j(Y()),Kn=j(_i());var Cr=e=>typeof e=="string",Tr="onResize";function Ue(e){return weex.requireModule(e)}function J(e,t,...i){uni.__log__?uni.__log__(e,t,...i):console[e].apply(console,[...i,t])}function P(e,t){return Cr(e)?t:e}var Dr=e=>(t,i=(0,R.getCurrentInstance)())=>{!R.isInSSRComponentSetup&&(0,R.injectHook)(e,t,i)},Jn=Dr(Tr),kr="dev",qn,Xn,Zn,Qn,ea;qn="https://ztest1.candychat.link",Qn="https://mtest2.candychat.link",ea="https://atest3.267girl.com",Xn="https://pic2.candychat.link/",Zn="https://pic3.candychat.link/";var xr={wv:"13.2.0",ENV:kr,apiHost:qn,ossPath:Xn,pApiHost:Qn,oApiHost:ea,ossPicPath:Zn,zT:3,appId:plus.runtime.appid,appV:parseInt(plus.runtime.version.split(".").join("")),OSS_PATH_V:1,OSS_PIC_PATH_V:1,API_HOST_V:1,isAndroid:plus.os.name=="Android",PHOTO:1,VIDEO:2,VOICE:3,TXT:4,SYSTEM_ID:1e7,M_TEXT:1,M_VOICE:2,M_IMG:3,M_GIFT:5,M_NOTICE:6,M_CALL:8,M_RECOMMEND_USER:11,M_RECOMMEND_CLUB:12,M_VIDEO:18,M_GIFT_ASK:21,M_NOTICE_SYS:22,M_EXPRESSION:23,M_LETTER:24,M_PAID_PHOTO:25,M_PAID_VIDEO:26,M_MATCH_SUCCESS:27,M_N_DEF:100,M_N_AUDIT:103,M_N_VIP:104,M_N_RECHARGE:105,M_N_CLUB_AUDIT_REJECT:106,M_N_CLUB_AUDIT:107,M_N_GREETING_AUDIT:115,M_N_SYS_NOTICE:116,M_N_CALL:117,M_N_COOPERATE:118,M_N_WITHDRAW:119,M_N_REPORT_AUDIT:120,M_N_IMG:121,M_N_PRIVACY_CALL:122,M_N_WITHDRAW_NOTICE:123,M_N_WITH_MEDIA:124,M_N_MONITOR:202,M_C_RECHARGE:1001,M_C_CALL_TEXT_AUDIO:1002,M_CHAT_PRI:1,M_CHAT_CLUB:2,M_CHAT_ASS:3,M_CHAT_NOTICE:4,M_CHAT_NOTIFY:5,M_CHAT_CLUB_NOTICE:6,PAY_TYPE_SUCCESS:0,PAY_TYPE_FAIL:1,PAY_TYPE_CANCEL:2,PAY_TYPE_NOT_EXIST:3,PAY_TYPE_NOT_ALLOW:4,PAY_TYPE_ERROR:5,MATCH_PRICE:10},m=xr;var Le={FIND:0,USER:1,MSG:2,MY:3},St={FIND:"/pages/user/index",MSG:"/pages/msg/index",CALL:"/pages/call-history/index",USER:"/pages/user/index",MY:"/pages/my/index"};var W={CREATE:1,JOIN:2,EDIT_NAME:3,MUTE_ALL_MEMBER:4,REMOVE:5,QUIT:6,DISSOLUTION:7,MUTE_MEMBER:8,MUTE_SEND_FAIL:9,INVITE_JOIN:10,SET_FOUNDER:11,SET_MANAGER:12,YOUR_GIFT_RETURN:13,GIFT_HAS_SIGNED:14,SIGN_GIFT:15,SIGN_GIFT_FAIL:16,YOUR_GIFT_SIGNED:17,ACTION_GIFT:18,GIFT_NO_REPLY_RETURN:19,GIFT_NO_ROB_RETURN:20,YOU_GIFT_ROB_OVER:21,GIFT_NO_SIGN_RETURN:22,FIRST_MSG_FEE:23,INVITE_FAILED:24,SIGNED_FOR:25},vi={NOT_REPLY:1,NOT_CHEAT_USER:2},Ir={en:{title:"English",language:"en",code:"en-US"},es:{title:"espa\xF1ol",language:"es",code:"es-ES"},ar:{title:"\u0639\u0631\u0628\u064A",language:"ar",code:"ar-SA"},vi:{title:"Ti\u1EBFng Vi\u1EC7t",language:"vi",code:"vi-VN"},tr:{title:"T\xFCrk\xE7e",language:"tr",code:"tr-TR"},pt:{title:"Portugu\xEAs",language:"pt",code:"pt-PT"}};var vr={ACCOUNT:0,LOGIN:1,MESSAGE:2,RECHARGE:6,MSG_SYSTEM:7,DEVICE:8,IP:9,CALL:10,WITHDRAW:11,JOIN_CLUB:14,CREATE_CLUB:15,COACH_LIST:16,SAY_HELLO_MSG:17,GIFT:18,MATCH:19,MOMENT:20,TASK:21,GAME:22,INVITE:23,CERTIFICATION:24,CONSUME:25,NOTIFICATION:26,RANKING_LIST:27};var jt={GIFT:1,COIN:2,BOX:3};var ta={USER:1,STREAMER:3,AGENT:5};var Nr={DISBAND:1,CHECK_RESULT:2};var Lr=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",He=e=>Lr?Symbol(e):e,Rr=(e,t,i)=>Or({l:e,k:t,s:i}),Or=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),ge=e=>typeof e=="number"&&isFinite(e),Mr=e=>Ni(e)==="[object Date]",Bt=e=>Ni(e)==="[object RegExp]",Vt=e=>B(e)&&Object.keys(e).length===0;function Fr(e,t){typeof console!="undefined"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}var be=Object.assign;function Dn(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}var Pr=Object.prototype.hasOwnProperty;function ia(e,t){return Pr.call(e,t)}var fe=Array.isArray,he=e=>typeof e=="function",v=e=>typeof e=="string",ee=e=>typeof e=="boolean",_e=e=>e!==null&&typeof e=="object",na=Object.prototype.toString,Ni=e=>na.call(e),B=e=>Ni(e)==="[object Object]",$r=e=>e==null?"":fe(e)||B(e)&&e.toString===na?JSON.stringify(e,null,2):String(e);var Br=Object.prototype.hasOwnProperty;function Ur(e,t){return Br.call(e,t)}var $t=e=>e!==null&&typeof e=="object",We=[];We[0]={w:[0],i:[3,0],["["]:[4],o:[7]};We[1]={w:[1],["."]:[2],["["]:[4],o:[7]};We[2]={w:[2],i:[3,0],[0]:[3,0]};We[3]={i:[3,0],[0]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};We[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};We[5]={["'"]:[4,0],o:8,l:[5,0]};We[6]={['"']:[4,0],o:8,l:[6,0]};var Hr=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Wr(e){return Hr.test(e)}function Gr(e){let t=e.charCodeAt(0),i=e.charCodeAt(e.length-1);return t===i&&(t===34||t===39)?e.slice(1,-1):e}function jr(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Vr(e){let t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:Wr(t)?Gr(t):"*"+t}function Yr(e){let t=[],i=-1,n=0,a=0,s,r,l,o,d,f,h,A=[];A[0]=()=>{r===void 0?r=l:r+=l},A[1]=()=>{r!==void 0&&(t.push(r),r=void 0)},A[2]=()=>{A[0](),a++},A[3]=()=>{if(a>0)a--,n=4,A[0]();else{if(a=0,r===void 0||(r=Vr(r),r===!1))return!1;A[1]()}};function D(){let x=e[i+1];if(n===5&&x==="'"||n===6&&x==='"')return i++,l="\\"+x,A[0](),!0}for(;n!==null;)if(i++,s=e[i],!(s==="\\"&&D())){if(o=jr(s),h=We[n],d=h[o]||h.l||8,d===8||(n=d[0],d[1]!==void 0&&(f=A[d[1]],f&&(l=s,f()===!1))))return;if(n===7)return t}}var kn=new Map;function Ut(e,t){if(!$t(e))return null;let i=kn.get(t);if(i||(i=Yr(t),i&&kn.set(t,i)),!i)return null;let n=i.length,a=e,s=0;for(;s<n;){let r=a[i[s]];if(r===void 0)return null;a=r,s++}return a}function wi(e){if(!$t(e))return e;for(let t in e)if(Ur(e,t))if(!t.includes("."))$t(e[t])&&wi(e[t]);else{let i=t.split("."),n=i.length-1,a=e;for(let s=0;s<n;s++)i[s]in a||(a[i[s]]={}),a=a[i[s]];a[i[n]]=e[t],delete e[t],$t(a[i[n]])&&wi(a[i[n]])}return e}var zr=e=>e,Kr=e=>"",Jr="text",qr=e=>e.length===0?"":e.join(""),Xr=$r;function xn(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function Zr(e){let t=ge(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(ge(e.named.count)||ge(e.named.n))?ge(e.named.count)?e.named.count:ge(e.named.n)?e.named.n:t:t}function Qr(e,t){t.count||(t.count=e),t.n||(t.n=e)}function eo(e={}){let t=e.locale,i=Zr(e),n=_e(e.pluralRules)&&v(t)&&he(e.pluralRules[t])?e.pluralRules[t]:xn,a=_e(e.pluralRules)&&v(t)&&he(e.pluralRules[t])?xn:void 0,s=k=>k[n(i,k.length,a)],r=e.list||[],l=k=>r[k],o=e.named||{};ge(e.pluralIndex)&&Qr(i,o);let d=k=>o[k];function f(k){let T=he(e.messages)?e.messages(k):_e(e.messages)?e.messages[k]:!1;return T||(e.parent?e.parent.message(k):Kr)}let h=k=>e.modifiers?e.modifiers[k]:zr,A=B(e.processor)&&he(e.processor.normalize)?e.processor.normalize:qr,D=B(e.processor)&&he(e.processor.interpolate)?e.processor.interpolate:Xr,x=B(e.processor)&&v(e.processor.type)?e.processor.type:Jr,$={list:l,named:d,plural:s,linked:(k,T)=>{let O=f(k)($);return v(T)?h(T)(O):O},message:f,type:x,interpolate:D,normalize:A};return $}function aa(e,t,i={}){let{domain:n,messages:a,args:s}=i,r=e,l=new SyntaxError(String(r));return l.code=e,t&&(l.location=t),l.domain=n,l}var to="9.1.9",Yt=-1,In="";function io(){return{upper:e=>v(e)?e.toUpperCase():e,lower:e=>v(e)?e.toLowerCase():e,capitalize:e=>v(e)?`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`:e}}var no,vn=0;function ao(e={}){let t=v(e.version)?e.version:to,i=v(e.locale)?e.locale:"en-US",n=fe(e.fallbackLocale)||B(e.fallbackLocale)||v(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:i,a=B(e.messages)?e.messages:{[i]:{}},s=B(e.datetimeFormats)?e.datetimeFormats:{[i]:{}},r=B(e.numberFormats)?e.numberFormats:{[i]:{}},l=be({},e.modifiers||{},io()),o=e.pluralRules||{},d=he(e.missing)?e.missing:null,f=ee(e.missingWarn)||Bt(e.missingWarn)?e.missingWarn:!0,h=ee(e.fallbackWarn)||Bt(e.fallbackWarn)?e.fallbackWarn:!0,A=!!e.fallbackFormat,D=!!e.unresolving,x=he(e.postTranslation)?e.postTranslation:null,$=B(e.processor)?e.processor:null,k=ee(e.warnHtmlMessage)?e.warnHtmlMessage:!0,T=!!e.escapeParameter,O=he(e.messageCompiler)?e.messageCompiler:no,F=he(e.onWarn)?e.onWarn:Fr,y=e,C=_e(y.__datetimeFormatters)?y.__datetimeFormatters:new Map,we=_e(y.__numberFormatters)?y.__numberFormatters:new Map,Oe=_e(y.__meta)?y.__meta:{};return vn++,{version:t,cid:vn,locale:i,fallbackLocale:n,messages:a,datetimeFormats:s,numberFormats:r,modifiers:l,pluralRules:o,missing:d,missingWarn:f,fallbackWarn:h,fallbackFormat:A,unresolving:D,postTranslation:x,processor:$,warnHtmlMessage:k,escapeParameter:T,messageCompiler:O,onWarn:F,__datetimeFormatters:C,__numberFormatters:we,__meta:Oe}}function Li(e,t,i,n,a){let{missing:s,onWarn:r}=e;if(s!==null){let l=s(e,i,t,a);return v(l)?l:t}else return t}function Dt(e,t,i){let n=e;n.__localeChainCache||(n.__localeChainCache=new Map);let a=n.__localeChainCache.get(i);if(!a){a=[];let s=[i];for(;fe(s);)s=Nn(a,s,t);let r=fe(t)?t:B(t)?t.default?t.default:null:t;s=v(r)?[r]:r,fe(s)&&Nn(a,s,!1),n.__localeChainCache.set(i,a)}return a}function Nn(e,t,i){let n=!0;for(let a=0;a<t.length&&ee(n);a++){let s=t[a];v(s)&&(n=so(e,t[a],i))}return n}function so(e,t,i){let n,a=t.split("-");do{let s=a.join("-");n=ro(e,s,i),a.splice(-1,1)}while(a.length&&n===!0);return n}function ro(e,t,i){let n=!1;if(!e.includes(t)&&(n=!0,t)){n=t[t.length-1]!=="!";let a=t.replace(/!/g,"");e.push(a),(fe(i)||B(i))&&i[a]&&(n=i[a])}return n}function wt(e,t,i){let n=e;n.__localeChainCache=new Map,Dt(e,i,t)}function ot(e){return aa(e,null,void 0)}var Ln=()=>"",Qe=e=>he(e);function Rn(e,...t){let{fallbackFormat:i,postTranslation:n,unresolving:a,fallbackLocale:s,messages:r}=e,[l,o]=Si(...t),d=ee(o.missingWarn)?o.missingWarn:e.missingWarn,f=ee(o.fallbackWarn)?o.fallbackWarn:e.fallbackWarn,h=ee(o.escapeParameter)?o.escapeParameter:e.escapeParameter,A=!!o.resolvedMessage,D=v(o.default)||ee(o.default)?ee(o.default)?l:o.default:i?l:"",x=i||D!=="",$=v(o.locale)?o.locale:e.locale;h&&oo(o);let[k,T,O]=A?[l,$,r[$]||{}]:lo(e,l,$,s,f,d),F=l;if(!A&&!(v(k)||Qe(k))&&x&&(k=D,F=k),!A&&(!(v(k)||Qe(k))||!v(T)))return a?Yt:l;let y=!1,C=()=>{y=!0},we=Qe(k)?k:sa(e,l,T,k,F,C);if(y)return k;let Oe=fo(e,T,O,o),ae=eo(Oe),Ce=co(e,we,ae);return n?n(Ce):Ce}function oo(e){fe(e.list)?e.list=e.list.map(t=>v(t)?Dn(t):t):_e(e.named)&&Object.keys(e.named).forEach(t=>{v(e.named[t])&&(e.named[t]=Dn(e.named[t]))})}function lo(e,t,i,n,a,s){let{messages:r,onWarn:l}=e,o=Dt(e,n,i),d={},f,h=null,A="translate";for(let D=0;D<o.length&&(f=o[D],d=r[f]||{},(h=Ut(d,t))===null&&(h=d[t]),!(v(h)||he(h)));D++){let x=Li(e,t,f,s,A);x!==t&&(h=x)}return[h,f,d]}function sa(e,t,i,n,a,s){let{messageCompiler:r,warnHtmlMessage:l}=e;if(Qe(n)){let d=n;return d.locale=d.locale||i,d.key=d.key||t,d}let o=r(n,uo(e,i,a,n,l,s));return o.locale=i,o.key=t,o.source=n,o}function co(e,t,i){return t(i)}function Si(...e){let[t,i,n]=e,a={};if(!v(t)&&!ge(t)&&!Qe(t))throw ot(14);let s=ge(t)?String(t):(Qe(t),t);return ge(i)?a.plural=i:v(i)?a.default=i:B(i)&&!Vt(i)?a.named=i:fe(i)&&(a.list=i),ge(n)?a.plural=n:v(n)?a.default=n:B(n)&&be(a,n),[s,a]}function uo(e,t,i,n,a,s){return{warnHtmlMessage:a,onError:r=>{throw s&&s(r),r},onCacheKey:r=>Rr(t,i,r)}}function fo(e,t,i,n){let{modifiers:a,pluralRules:s}=e,l={locale:t,modifiers:a,pluralRules:s,messages:o=>{let d=Ut(i,o);if(v(d)){let f=!1,A=sa(e,o,t,d,o,()=>{f=!0});return f?Ln:A}else return Qe(d)?d:Ln}};return e.processor&&(l.processor=e.processor),n.list&&(l.list=n.list),n.named&&(l.named=n.named),ge(n.plural)&&(l.pluralIndex=n.plural),l}function On(e,...t){let{datetimeFormats:i,unresolving:n,fallbackLocale:a,onWarn:s}=e,{__datetimeFormatters:r}=e,[l,o,d,f]=Ei(...t),h=ee(d.missingWarn)?d.missingWarn:e.missingWarn;ee(d.fallbackWarn)?d.fallbackWarn:e.fallbackWarn;let A=!!d.part,D=v(d.locale)?d.locale:e.locale,x=Dt(e,a,D);if(!v(l)||l==="")return new Intl.DateTimeFormat(D).format(o);let $={},k,T=null,O="datetime format";for(let C=0;C<x.length&&(k=x[C],$=i[k]||{},T=$[l],!B(T));C++)Li(e,l,k,h,O);if(!B(T)||!v(k))return n?Yt:l;let F=`${k}__${l}`;Vt(f)||(F=`${F}__${JSON.stringify(f)}`);let y=r.get(F);return y||(y=new Intl.DateTimeFormat(k,be({},T,f)),r.set(F,y)),A?y.formatToParts(o):y.format(o)}function Ei(...e){let[t,i,n,a]=e,s={},r={},l;if(v(t)){if(!/\d{4}-\d{2}-\d{2}(T.*)?/.test(t))throw ot(16);l=new Date(t);try{l.toISOString()}catch(o){throw ot(16)}}else if(Mr(t)){if(isNaN(t.getTime()))throw ot(15);l=t}else if(ge(t))l=t;else throw ot(14);return v(i)?s.key=i:B(i)&&(s=i),v(n)?s.locale=n:B(n)&&(r=n),B(a)&&(r=a),[s.key||"",l,s,r]}function Mn(e,t,i){let n=e;for(let a in i){let s=`${t}__${a}`;n.__datetimeFormatters.has(s)&&n.__datetimeFormatters.delete(s)}}function Fn(e,...t){let{numberFormats:i,unresolving:n,fallbackLocale:a,onWarn:s}=e,{__numberFormatters:r}=e,[l,o,d,f]=Ci(...t),h=ee(d.missingWarn)?d.missingWarn:e.missingWarn;ee(d.fallbackWarn)?d.fallbackWarn:e.fallbackWarn;let A=!!d.part,D=v(d.locale)?d.locale:e.locale,x=Dt(e,a,D);if(!v(l)||l==="")return new Intl.NumberFormat(D).format(o);let $={},k,T=null,O="number format";for(let C=0;C<x.length&&(k=x[C],$=i[k]||{},T=$[l],!B(T));C++)Li(e,l,k,h,O);if(!B(T)||!v(k))return n?Yt:l;let F=`${k}__${l}`;Vt(f)||(F=`${F}__${JSON.stringify(f)}`);let y=r.get(F);return y||(y=new Intl.NumberFormat(k,be({},T,f)),r.set(F,y)),A?y.formatToParts(o):y.format(o)}function Ci(...e){let[t,i,n,a]=e,s={},r={};if(!ge(t))throw ot(14);let l=t;return v(i)?s.key=i:B(i)&&(s=i),v(n)?s.locale=n:B(n)&&(r=n),B(a)&&(r=a),[s.key||"",l,s,r]}function Pn(e,t,i){let n=e;for(let a in i){let s=`${t}__${a}`;n.__numberFormatters.has(s)&&n.__numberFormatters.delete(s)}}var mo="9.1.9";function Ze(e,...t){return aa(e,null,void 0)}var Ti=He("__transrateVNode"),Di=He("__datetimeParts"),ki=He("__numberParts");He("__enableEmitter");He("__disableEmitter");var po=He("__setPluralRules");He("__intlifyMeta");var ra=He("__injectWithOption"),$n=0;function Bn(e){return(t,i,n,a)=>e(i,n,(0,R.getCurrentInstance)()||void 0,a)}function oa(e,t){let{messages:i,__i18n:n}=t,a=B(i)?i:fe(n)?{}:{[e]:{}};if(fe(n)&&n.forEach(({locale:s,resource:r})=>{s?(a[s]=a[s]||{},Ht(r,a[s])):Ht(r,a)}),t.flatJson)for(let s in a)ia(a,s)&&wi(a[s]);return a}var Ot=e=>!_e(e)||fe(e);function Ht(e,t){if(Ot(e)||Ot(t))throw Ze(20);for(let i in e)ia(e,i)&&(Ot(e[i])||Ot(t[i])?t[i]=e[i]:Ht(e[i],t[i]))}function go(e={}){let{__root:t}=e,i=t===void 0,n=ee(e.inheritLocale)?e.inheritLocale:!0,a=(0,R.ref)(t&&n?t.locale.value:v(e.locale)?e.locale:"en-US"),s=(0,R.ref)(t&&n?t.fallbackLocale.value:v(e.fallbackLocale)||fe(e.fallbackLocale)||B(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:a.value),r=(0,R.ref)(oa(a.value,e)),l=(0,R.ref)(B(e.datetimeFormats)?e.datetimeFormats:{[a.value]:{}}),o=(0,R.ref)(B(e.numberFormats)?e.numberFormats:{[a.value]:{}}),d=t?t.missingWarn:ee(e.missingWarn)||Bt(e.missingWarn)?e.missingWarn:!0,f=t?t.fallbackWarn:ee(e.fallbackWarn)||Bt(e.fallbackWarn)?e.fallbackWarn:!0,h=t?t.fallbackRoot:ee(e.fallbackRoot)?e.fallbackRoot:!0,A=!!e.fallbackFormat,D=he(e.missing)?e.missing:null,x=he(e.missing)?Bn(e.missing):null,$=he(e.postTranslation)?e.postTranslation:null,k=ee(e.warnHtmlMessage)?e.warnHtmlMessage:!0,T=!!e.escapeParameter,O=t?t.modifiers:B(e.modifiers)?e.modifiers:{},F=e.pluralRules||t&&t.pluralRules,y;function C(){return ao({version:mo,locale:a.value,fallbackLocale:s.value,messages:r.value,messageCompiler:function(S){return Te=>Te.normalize([S])},datetimeFormats:l.value,numberFormats:o.value,modifiers:O,pluralRules:F,missing:x===null?void 0:x,missingWarn:d,fallbackWarn:f,fallbackFormat:A,unresolving:!0,postTranslation:$===null?void 0:$,warnHtmlMessage:k,escapeParameter:T,__datetimeFormatters:B(y)?y.__datetimeFormatters:void 0,__numberFormatters:B(y)?y.__numberFormatters:void 0,__v_emitter:B(y)?y.__v_emitter:void 0,__meta:{framework:"vue"}})}y=C(),wt(y,a.value,s.value);function we(){return[a.value,s.value,r.value,l.value,o.value]}let Oe=(0,R.computed)({get:()=>a.value,set:_=>{a.value=_,y.locale=a.value}}),ae=(0,R.computed)({get:()=>s.value,set:_=>{s.value=_,y.fallbackLocale=s.value,wt(y,a.value,_)}}),Ce=(0,R.computed)(()=>r.value),ve=(0,R.computed)(()=>l.value),vt=(0,R.computed)(()=>o.value);function Nt(){return he($)?$:null}function Lt(_){$=_,y.postTranslation=_}function mi(){return D}function Ks(_){_!==null&&(x=Bn(_)),D=_,y.missing=x}function at(_,S,Te,pe,pi,Rt){we();let At;if(At=_(y),ge(At)&&At===Yt){let[gr,jd]=S();return t&&h?pe(t):pi(gr)}else{if(Rt(At))return At;throw Ze(14)}}function _n(..._){return at(S=>Rn(S,..._),()=>Si(..._),"translate",S=>S.t(..._),S=>S,S=>v(S))}function Js(..._){let[S,Te,pe]=_;if(pe&&!_e(pe))throw Ze(15);return _n(S,Te,be({resolvedMessage:!0},pe||{}))}function qs(..._){return at(S=>On(S,..._),()=>Ei(..._),"datetime format",S=>S.d(..._),()=>In,S=>v(S))}function Xs(..._){return at(S=>Fn(S,..._),()=>Ci(..._),"number format",S=>S.n(..._),()=>In,S=>v(S))}function Zs(_){return _.map(S=>v(S)?(0,R.createVNode)(R.Text,null,S,0):S)}let Qs={normalize:Zs,interpolate:_=>_,type:"vnode"};function er(..._){return at(S=>{let Te,pe=S;try{pe.processor=Qs,Te=Rn(pe,..._)}finally{pe.processor=null}return Te},()=>Si(..._),"translate",S=>S[Ti](..._),S=>[(0,R.createVNode)(R.Text,null,S,0)],S=>fe(S))}function tr(..._){return at(S=>Fn(S,..._),()=>Ci(..._),"number format",S=>S[ki](..._),()=>[],S=>v(S)||fe(S))}function ir(..._){return at(S=>On(S,..._),()=>Ei(..._),"datetime format",S=>S[Di](..._),()=>[],S=>v(S)||fe(S))}function nr(_){F=_,y.pluralRules=F}function ar(_,S){let Te=v(S)?S:a.value,pe=bn(Te);return Ut(pe,_)!==null}function sr(_){let S=null,Te=Dt(y,s.value,a.value);for(let pe=0;pe<Te.length;pe++){let pi=r.value[Te[pe]]||{},Rt=Ut(pi,_);if(Rt!=null){S=Rt;break}}return S}function rr(_){let S=sr(_);return S!=null?S:t?t.tm(_)||{}:{}}function bn(_){return r.value[_]||{}}function or(_,S){r.value[_]=S,y.messages=r.value}function lr(_,S){r.value[_]=r.value[_]||{},Ht(S,r.value[_]),y.messages=r.value}function cr(_){return l.value[_]||{}}function ur(_,S){l.value[_]=S,y.datetimeFormats=l.value,Mn(y,_,S)}function dr(_,S){l.value[_]=be(l.value[_]||{},S),y.datetimeFormats=l.value,Mn(y,_,S)}function fr(_){return o.value[_]||{}}function mr(_,S){o.value[_]=S,y.numberFormats=o.value,Pn(y,_,S)}function pr(_,S){o.value[_]=be(o.value[_]||{},S),y.numberFormats=o.value,Pn(y,_,S)}return $n++,t&&((0,R.watch)(t.locale,_=>{n&&(a.value=_,y.locale=_,wt(y,a.value,s.value))}),(0,R.watch)(t.fallbackLocale,_=>{n&&(s.value=_,y.fallbackLocale=_,wt(y,a.value,s.value))})),{id:$n,locale:Oe,fallbackLocale:ae,get inheritLocale(){return n},set inheritLocale(_){n=_,_&&t&&(a.value=t.locale.value,s.value=t.fallbackLocale.value,wt(y,a.value,s.value))},get availableLocales(){return Object.keys(r.value).sort()},messages:Ce,datetimeFormats:ve,numberFormats:vt,get modifiers(){return O},get pluralRules(){return F||{}},get isGlobal(){return i},get missingWarn(){return d},set missingWarn(_){d=_,y.missingWarn=d},get fallbackWarn(){return f},set fallbackWarn(_){f=_,y.fallbackWarn=f},get fallbackRoot(){return h},set fallbackRoot(_){h=_},get fallbackFormat(){return A},set fallbackFormat(_){A=_,y.fallbackFormat=A},get warnHtmlMessage(){return k},set warnHtmlMessage(_){k=_,y.warnHtmlMessage=_},get escapeParameter(){return T},set escapeParameter(_){T=_,y.escapeParameter=_},t:_n,rt:Js,d:qs,n:Xs,te:ar,tm:rr,getLocaleMessage:bn,setLocaleMessage:or,mergeLocaleMessage:lr,getDateTimeFormat:cr,setDateTimeFormat:ur,mergeDateTimeFormat:dr,getNumberFormat:fr,setNumberFormat:mr,mergeNumberFormat:pr,getPostTranslationHandler:Nt,setPostTranslationHandler:Lt,getMissingHandler:mi,setMissingHandler:Ks,[Ti]:er,[ki]:tr,[Di]:ir,[po]:nr,[ra]:e.__injectWithOption}}var Ri={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};be({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>ge(e)||!isNaN(e)}},Ri);function ho({slots:e},t){return t.length===1&&t[0]==="default"?e.default?e.default():[]:t.reduce((i,n)=>{let a=e[n];return a&&(i[n]=a()),i},{})}function la(e,t,i,n){let{slots:a,attrs:s}=t;return()=>{let r={part:!0},l={};e.locale&&(r.locale=e.locale),v(e.format)?r.key=e.format:_e(e.format)&&(v(e.format.key)&&(r.key=e.format.key),l=Object.keys(e.format).reduce((h,A)=>i.includes(A)?be({},h,{[A]:e.format[A]}):h,{}));let o=n(e.value,r,l),d=[r.key];fe(o)?d=o.map((h,A)=>{let D=a[h.type];return D?D({[h.type]:h.value,index:A,parts:o}):[h.value]}):v(o)&&(d=[o]);let f=be({},s);return v(e.tag)?(0,R.h)(e.tag,f,d):_e(e.tag)?(0,R.h)(e.tag,f,d):(0,R.h)(R.Fragment,f,d)}}var _o=["localeMatcher","style","unit","unitDisplay","currency","currencyDisplay","useGrouping","numberingSystem","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","notation","formatMatcher"];be({value:{type:Number,required:!0},format:{type:[String,Object]}},Ri);var bo=["dateStyle","timeStyle","fractionalSecondDigits","calendar","dayPeriod","numberingSystem","localeMatcher","timeZone","hour12","hourCycle","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"];be({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Ri);function Oi(e={}){let t=(0,R.getCurrentInstance)();if(t==null)throw Ze(16);if(!t.appContext.app.__VUE_I18N_SYMBOL__)throw Ze(17);let i=(0,R.inject)(t.appContext.app.__VUE_I18N_SYMBOL__);if(!i)throw Ze(22);let n=i.mode==="composition"?i.global:i.global.__composer,a=Vt(e)?"__i18n"in t.type?"local":"global":e.useScope?e.useScope:"local";if(a==="global"){let l=_e(e.messages)?e.messages:{};"__i18nGlobal"in t.type&&(l=oa(n.locale.value,{messages:l,__i18n:t.type.__i18nGlobal}));let o=Object.keys(l);if(o.length&&o.forEach(d=>{n.mergeLocaleMessage(d,l[d])}),_e(e.datetimeFormats)){let d=Object.keys(e.datetimeFormats);d.length&&d.forEach(f=>{n.mergeDateTimeFormat(f,e.datetimeFormats[f])})}if(_e(e.numberFormats)){let d=Object.keys(e.numberFormats);d.length&&d.forEach(f=>{n.mergeNumberFormat(f,e.numberFormats[f])})}return n}if(a==="parent"){let l=yo(i,t,e.__useComponent);return l==null&&(l=n),l}if(i.mode==="legacy")throw Ze(18);let s=i,r=s.__getInstance(t);if(r==null){let l=t.type,o=be({},e);l.__i18n&&(o.__i18n=l.__i18n),n&&(o.__root=n),r=go(o),Ao(s,t),s.__setInstance(t,r)}return r}function yo(e,t,i=!1){let n=null,a=t.root,s=t.parent;for(;s!=null;){let r=e;if(e.mode==="composition")n=r.__getInstance(s);else{let l=r.__getInstance(s);l!=null&&(n=l.__composer),i&&n&&!n[ra]&&(n=null)}if(n!=null||a===s)break;s=s.parent}return n}function Ao(e,t,i){(0,R.onMounted)(()=>{},t),(0,R.onUnmounted)(()=>{e.__deleteInstance(t)},t)}function Me(e,t,i=!1,n=null){let a=Mi(e,i);n?uni.setStorage({key:a,data:t,success:n}):uni.setStorageSync(a,t)}function q(e,t=!1,i=null){let n=Mi(e,t);if(i)uni.getStorage({key:n,success:i});else return uni.getStorageSync(n)}function zt(e,t=!1){uni.removeStorage({key:Mi(e,t)})}function Mi(e,t){return t?`_a_${e}`:`m_${e}`}function wo(e,t){let i=t;return typeof t=="undefined"&&(i=getApp().globalData.uid),q(e+"_"+i)}var et={NONE:0,WAITING:1,GAME:2,WEEK_UP:3,JUDGE_ROOM:100};var Kt={VIDEO:1,VOICE:2},Fi={CALL:1,ANSWER:2,MATCH_ACCEPT:3,MATCH_CONNECT:4},ca={CALL:1,MATCH:2},ua={DEF:0,NOTIFY:1,CONNECT:2},da={HOME:0,MSG:1,MATCH:2,RECOMMEND:3,MATCH_NOTIFY:4,QUALITY:5,NO_COINS_DIALOG:6,CALL_LOG:7,GAME_MATCH:8,GAME_MATCH_NOTIFY:9,RANKING_LIST:10,PRIVACY_SET_MSG:11,MOMENT:12,CALlING:98,FREE_MIN_POP:99,ANSWER_ERROR:100,END_PAGE:101,APP_NOTIFY:102};function Ge(e){return e==1?u("himLower"):u("herLower")}function fa(e){return e>=12?`1 ${u("yearLower")}`:`${e} ${So(e)}`}function So(e){return e>1?u("monthsLower"):u("monthLower")}function ma(e){return e>1?u("weeksLower"):u("weekLower")}function pa(e){return e>1?u("daysLower"):u("dayLower")}function Eo(e){return e>1?u("hoursLower"):u("hourLower")}function ga(e){return e>1?u("minsLower"):u("minLower")}function ha(e){return e==Kt.VIDEO?u("videoChat"):u("audioChat")}function _a(e){return e==1?u("videoChatLower"):u("audioChatLower")}function Jt(e){return`${e} ${e>1?u("coinsLower"):u("coinLower")}`}function ba(e){return e==1?u("himselfLower"):u("herselfLower")}function kt(e){return e+" "+Eo(e)}function g(e){return typeof e=="undefined"||e==null||e==""}function Co(e){return e===""||e===null}var $e=new Promise(()=>{});function To(e,t,i=""){if(g(e))return"";let n=[];for(let a in e)n.push(a+"="+e[a]);return i+n.join(t)}function Mt(e){return typeof e=="number"?e+"":typeof e=="boolean"?e?"true":"false":g(e)?"null":typeof e=="object"?JSON.stringify(e):e}function se(e){return e.replace(new RegExp("'","gm"),"\uFF07")}function je(e){return e.replace(new RegExp("\uFF07","gm"),"'")}function Ft(e,t){let i={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in i)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,RegExp.$1.length==1?i[n]:("00"+i[n]).substr((""+i[n]).length)));return t}function qt(e,t=18){if(g(e))return"";let i=new Date(Date.parse(e.replace(/-/g,"/"))),n=Math.ceil((new Date().getTime()-i)/31536e6),a=n>1?n-1:n;return a<t?t:a}function Pi(e){return e=parseInt(e),e.toString().length==16?e=Math.round(e/1e3):e<1e10&&(e=e*1e3),e}function Xe(e){return e<10?"0"+e:e}function ya(e,t=!1,i=!1,n=!0){e<1e10&&(e=e*1e3);var a=new Date(e),s=a.getFullYear(),r=a.getMonth()+1,l=a.getDate(),o=a.getHours(),d=a.getMinutes(),f=a.getSeconds();let h=t?`${s}-`:"";if(i)return h+Xe(r)+"-"+Xe(l);{let A=n?":"+Xe(f):"";return h+Xe(r)+"-"+Xe(l)+" "+Xe(o)+":"+Xe(d)+A}}function Xt(e,t=!0,i=!1,n=""){if(g(e))return"";e=Pi(e);let a;n==""?a=new Date:a=Do(n);let s=new Date(e),r=a.getFullYear(),l=a.getMonth()+1,o=a.getDate(),d=s.getFullYear(),f=s.getMonth()+1,h=s.getDate(),A="",D=t?" "+Ft(s,"hh:mm"):"";if(r==d){let T=a.getTime()-e;if(l==f&&o==h)T<60*1e3&&!t?A=u("just"):A=`${u("today")} ${Ft(s,"hh:mm")}`;else{let O=new Date;O.setDate(O.getDate()-1);let F=new Date;if(F.setDate(F.getDate()-2),f==O.getMonth()+1&&h==O.getDate())A=`${u("yesterday")} ${D}`;else{var x=T/36e5;if(x<=7*24){let y=new Array(7),C=i?"Short":"";y[0]=u("week.sun"+C),y[1]=u("week.mon"+C),y[2]=u("week.tues"+C),y[3]=u("week.wed"+C),y[4]=u("week.thur"+C),y[5]=u("week.fri"+C),y[6]=u("week.sat"+C);var $=y[s.getDay()];A=$+" "+D}else A=Ft(s,"M/d")+D}}}else A=Ft(s,"M/d")+D;return A}function Do(e){let t=new Date,i=t.getTime(),s=t.getTimezoneOffset()*6e4+i+36e5*e;return new Date(s)}function Aa(e,t=!1){if(g(e)||e<0||isNaN(e))return t?"00:00:00":"00:00";var i=0,n=0;e>0&&e<10?e="0"+parseInt(e):e<=0?e="00":e>60&&(i=parseInt(e/60)<10?"0"+parseInt(e/60):parseInt(e/60),e=parseInt(e%60)<10?"0"+parseInt(e%60):parseInt(e%60),i>60&&(n=parseInt(i/60)<10?"0"+parseInt(i/60):parseInt(i/60),i=parseInt(i%60)<10?"0"+parseInt(i%60):parseInt(i%60)));var a;return n>0?a=n+":"+i+":"+e:i>0?(a=i+":"+e,t&&(a="00:"+a)):(a="00:"+e,t&&(a="00:"+a)),a}function De(e){try{let t=JSON.parse(e);if(typeof t=="object")return t}catch(t){}return!1}function $i(e,t){for(let i in e)if(t[i]!=null&&e[i]!=t[i])return!0;return!1}function wa(e,t){return Array.from(new Array(t+1).keys()).slice(e)}function ko(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var lt={adminAgencyList:"/pagesAdmin/agency/list",adminAgencyDetail:"/pagesAdmin/agency/agency-detail",adminAgencyEdit:"/pagesAdmin/agency/agency-edit",adminAgencyEditPrice:"/pagesAdmin/agency/agency-edit-price",adminAgencyEditWithdrawInfo:"/pagesAdmin/agency/withdraw-info",adminAgencyEditName:"/pagesAdmin/agency/agency-edit-nickname",adminAgencyEditCountry:"/pagesAdmin/agency/agency-edit-country",adminAgencyEditEmail:"/pagesAdmin/agency/agency-edit-email",adminAgencyEditWhatsApp:"/pagesAdmin/agency/agency-edit-whatsapp",adminAgencyInvited:"/pagesAdmin/agency/invited",adminAgencyListSub:"/pagesAdmin/agency/list-sub",adminAgencyGirlsList:"/pagesAdmin/agency/girls-list",adminAgencyGirlsListSub:"/pagesAdmin/agency/girls-list-sub",adminAgencyDataPanel:"/pagesAdmin/agency/data-panel",adminAgencyDataHistory:"/pagesAdmin/agency/data-history",adminAgencyDataDetail:"/pagesAdmin/agency/data-detail",adminAgencyDataDetailTask:"/pagesAdmin/agency/data-detail-task",adminAgencyWithdrawRecords:"/pagesAdmin/agency/withdraw-records",adminAgencyWalletDetail:"/pagesAdmin/agency/wallet-detail",adminAgencyHandleBan:"/pagesAdmin/agency/handle-ban",adminAgencyHandleDelete:"/pagesAdmin/agency/handle-delete",adminAgencySelected:"/pagesAdmin/agency/selected-agency",adminAgencyStatus:"/pagesAdmin/agency/agency-status",adminAgencySubAgencyList:"/pagesAdmin/agency/sub-agency-list",adminAgencyWithdrawGirlList:"/pagesAdmin/agency/withdraw/girl-list",adminAgencyWithdrawSubAgentList:"/pagesAdmin/agency/withdraw/sub-agent-list",adminAgencyWithdrawSettlementDetail:"/pagesAdmin/agency/withdraw/settlement-detail",adminAgencyWithdrawEntiretyDetail:"/pagesAdmin/agency/withdraw/entirety-detail",adminAgencyWithdrawEntiretyDetailReject:"/pagesAdmin/agency/withdraw/entirety-detail-reject",adminAgencyHistoricalMemberList:"/pagesAdmin/agency/historical-list",adminAgencyWithdrawSubAgentDetail:"/pagesAdmin/agency/withdraw/sub-agent-detail",adminAuditSettlement:"/pagesAdmin/auditNew/settlement",adminAuditSettlementSub:"/pagesAdmin/auditNew/settlement-sub",adminAuditWithdraw:"/pagesAdmin/auditNew/withdraw",adminAuditWithdrawCashList:"/pagesAdmin/audit/withdraw-cash-list",adminWallet:"/pagesAdmin/wallet/wallet",adminWalletCoinStat:"/pagesAdmin/wallet/coin-stat",adminAgencyAnchorDetail:"/pagesAdmin/agencyManager/anchor-detail",adminChannelBackend:"/pagesAdmin/channel/channel-backend",adminAuditAgencyAvatar:"/pagesAdmin/auditNew/agency-avatar",adminAuditAgencyName:"/pagesAdmin/auditNew/agency-name",adminAuditCheckAllUnderReview:"/pagesAdmin/audit/check-all-under-review",adminPermissionWebManage:"/pagesAdmin/more/permission-web-manage",adminPermissionList:"/pagesAdmin/more/permission-list",adminPermissionEdit:"/pagesAdmin/more/permission-edit",adminPermissionNewAccount:"/pagesAdmin/more/permission-new-account",adminPermissionChooseRole:"/pagesAdmin/more/permission-choose-role",adminPermissionNewRole:"/pagesAdmin/more/permission-new-role",adminWhiteList:"/pagesAdmin/more/white-list",adminCallEvaluationList:"/pagesAdmin/user/call-evaluation-list",adminWarnDeviceUser:"/pagesAdmin/user/ban-device-user",adminWarnList:"/pagesAdmin/audit/warn-list",adminVersionUseList:"/pagesAdmin/more/version-use-list",adminAuditSettlementReview:"/pagesAdmin/auditNew/settlement-review",adminAuditWithdrawReview:"/pagesAdmin/auditNew/withdraw-review",adminClubApplication:"/pagesAdmin/auditNew/club-application",adminClubModification:"/pagesAdmin/auditNew/club-modification",adminClubManagement:"/pagesAdmin/club/management",warningDialog:"/pagesDialog/warning",homeFilterSexGuide:"/pagesDialog/home-filter-sex-guide",club:"/pagesClub/club",clubReachLevel:"/pagesDialog/club-reach-level",clubStatusRemind:"/pagesDialog/club-status-remind",clubApplyCreate:"/pagesClub/apply-create",clubCreateSuccess:"/pagesClub/create-success",clubRules:"/pagesDialog/club-rules",clubApplicationList:"/pagesClub/application-list",clubWarning:"/pagesDialog/club-warning",clubDisband:"/pagesDialog/club-disband",adminClubManagementSub:"/pagesAdmin/club/management-sub",adminClubTodayNew:"/pagesAdmin/club/club-today-new",adminClubNormal:"/pagesAdmin/club/club-normal",adminClubManageGirls:"/pagesAdmin/club/club-manage-girls",adminClubOperator:"/pagesAdmin/club/club-operator",adminClubDisbanded:"/pagesAdmin/club/club-disbanded",adminClubMemberList:"/pagesAdmin/club/member-new",adminClubInfo:"/pagesAdmin/club/detail-new",adminCLubWarning:"/pagesAdmin/club/warning",adminClubOperatorLog:"/pagesAdmin/club/operation-log",adminClubPersonalApplication:"/pagesAdmin/auditNew/club-application-personal",adminOutsourcingIndex:"/pagesAdmin/more/outsourcing/index",adminOutsourcingPermissionList:"/pagesAdmin/more/outsourcing/permission-list",adminOutsourcingNewRole:"/pagesAdmin/more/outsourcing/new-role",adminOutsourcingEditRole:"/pagesAdmin/more/outsourcing/edit-role",adminRefundDetail:"/pagesAdmin/refund/detail"};function Sa(e,t){let i=lt[e];return i||(i=e),i+To(t,"&","?")}function U(e,t=null,i=null,n=!1){let a=Sa(e,t),s={url:a,fail:r=>{J("error","at common/route.js:107",`\u6253\u5F00\u9875\u9762\u5931\u8D25${a} ${JSON.stringify(r)}`),getApp().globalData.appCRE&&a.startsWith("/pagesAdmin")&&m.zT!=3&&H.request("/sign/reload-route",{},!0)}};n&&(s=Object.assign(s,n)),i!=null&&(s.events=i),uni.navigateTo(s)}function z(e,t,i,n,a=null){let r={url:Sa(e,t),success(l){l.eventChannel.emit(i,n)}};a!=null&&(r.events=a),uni.navigateTo(r)}function xo(e=1,t="",i=""){let n={delta:e};t&&(n.animationType=t),i&&(n.animationDuration=i),uni.navigateBack(n)}function Io(e){g(e)||uni.switchTab({url:e})}function Zt(){let e=[],t=getCurrentPages();for(let i=0,n=t.length;i<n;i++){let a=t[i].$page;e.push(a.path)}return e}function Ve(e="path"){let t=getCurrentPages(),i=t[t.length-1];if(!i)return"";let n=i.$page;return n?n[e]:""}function Ea(e){switch(e){case"admin":U("/pagesAdmin/home");break;case"agent":U("/pagesAdmin/stat/history",{title:"Agency Data",from_type:11});break}}function Ca(e,t){e==getApp().globalData.uid?t&&Io(St.MY):U("/pages/main/user-home",{uid:e})}function Bi(e,t=null,i=null){let a={uid:typeof e=="object"?e.uid:e};i&&(a=Object.assign(a,i)),z("/pagesMsg/pri/chat",a,"priData",{user:e,extra:t})}function Ui(e,t=null){let n={id:typeof e=="object"?e.club_id:e};t&&(n=Object.assign(n,t)),z("/pagesMsg/club/chat",n,"clubData",{club:e})}function Ta(){Xo(vr.GAME,!0)||z("/pages/call/chat-view",{},"callViewData",{isGame:!0})}function Da(e,t=0,i=0){if(g(e))return;if(t&&i){Ui(e);return}U("/pagesClub/info",{id:e,isMember:t})}function ka(){U(lt.club)}function xa(e,t=!0){return e.startsWith("http")?e:e.startsWith("file://")?t?e:e.replace("file://",""):e.startsWith("/storage/")||e.startsWith("/var/mobile/")?t?`file://${e}`:e:e.startsWith("_doc/uniapp")?t?e:plus.io.convertLocalFileSystemURL(e):e.indexOf("apps/__UNI")!=-1?e:!1}function Hi(e,t){return getApp().globalData.curChatId==e&&getApp().globalData.curChatType==t}function Ia(e){if(m.isAndroid)try{let t=plus.android.runtimeMainActivity();t&&t.moveTaskToBack(e)}catch(t){}}var vo=[{key:"tr",title:"T\xFCrk"},{key:"pt",title:"Portugu\xEAs"}];function Ct(e=!0){let t=q("language_app_key");if(!e||!Co(t))return t;let i=Wi(!1),n=Ir[i];return g(n)?"en":i}function Wi(e){let t=uni.getAppBaseInfo().language;return g(t)?e?"en-US":"en":e?t:t.split("-")[0]}function No(){return q("call_automatic_source_language")||Ct()}function Lo(){return!!q("call_automatic_open")}function u(...e){return getApp().globalData.s.state.pubI18n(...e)}function va(e){function t(r,l,o){for(;0<o--;)r.push(l)}function i(r,l){return r<<l|r>>>32-l}function n(r,l,o){return r^l^o}function a(r,l){var o=(l&65535)+(r&65535),d=(l>>>16)+(r>>>16)+(o>>>16);return(d&65535)<<16|o&65535}var s="0123456789abcdef";return function(r){for(var l=[],o=r.length*4,d,f=0;f<o;f++)d=r[f>>2]>>(3-f%4)*8,l.push(s.charAt(d>>4&15)+s.charAt(d&15));return l.join("")}(function(r,l){var o,d,f,h,A,D=r.length,x=1732584193,$=4023233417,k=2562383102,T=271733878,O=3285377520,F=[];t(F,1518500249,20),t(F,1859775393,20),t(F,2400959708,20),t(F,3395469782,20),r[l>>5]|=128<<24-l%32,r[(l+65>>9<<4)+15]=l;for(var y=0;y<D;y+=16){o=x,d=$,f=k,h=T,A=O;for(var C=0,we=[];C<80;C++){we[C]=C<16?r[C+y]:i(we[C-3]^we[C-8]^we[C-14]^we[C-16],1);var Oe=function(ae,Ce,ve,vt,Nt){var Lt=(Nt&65535)+(ae&65535)+(Ce&65535)+(ve&65535)+(vt&65535),mi=(Nt>>>16)+(ae>>>16)+(Ce>>>16)+(ve>>>16)+(vt>>>16)+(Lt>>>16);return(mi&65535)<<16|Lt&65535}(C<20?function(ae,Ce,ve){return ae&Ce^~ae&ve}(d,f,h):C<40?n(d,f,h):C<60?function(ae,Ce,ve){return ae&Ce^ae&ve^Ce&ve}(d,f,h):n(d,f,h),A,F[C],we[C],i(o,5));A=h,h=f,f=i(d,30),d=o,o=Oe}x=a(x,o),$=a($,d),k=a(k,f),T=a(T,h),O=a(O,A)}return[x,$,k,T,O]}(function(r){for(var l=[],o=255,d=r.length*8,f=0;f<d;f+=8)l[f>>5]|=(r.charCodeAt(f/8)&o)<<24-f%32;return l}(e).slice(),e.length*8))}function Na(e,t,i=!0){return Ra(getApp().globalData.ossPicPath,e,t,i)}function Re(e,t,i=!0){return Ra(getApp().globalData.ossPath,e,t,i)}function La(e){if(g(e)||e.startsWith("http"))return;let i=`img_${va(e)}`,n=q(i);zt(i),n&&uni.removeSavedFile({filePath:n})}function Ra(e,t,i,n=!0){if(g(t))return"";if(t.startsWith("http")||t.startsWith("file://"))return t;if(t.startsWith("/var/mobile/"))return"file://"+t;if(t.startsWith("/storage/"))return t;let s=`img_${va(t)}`,r=q(s);if(r){let o={filePath:r,fail(d){Ro(`\u7F13\u5B58\u68C0\u6D4B\u5931\u8D25${t}`,d),zt(s),typeof i=="function"&&i(e+t)},success(d){}};return typeof i=="function"&&(o.success=function(){i(r)}),uni.getFileInfo(o),r}let l=e+t;return getApp().globalData.picCacheObj[s]||(getApp().globalData.picCacheObj[s]=1,typeof i=="function"&&!n&&i(l),Yo(l).then(o=>{Me(s,o),typeof i=="function"&&n&&i(o),delete getApp().globalData.picCacheObj[s]}).catch(()=>{})),l}function Ro(e,t){J("error","at common/cache.js:118",`cache ${e}`,t)}var Ne={CANDY_CHAT_I:"__UNI__CB903B1",CANDY_CHAT_A:"__UNI__564E31A",CHAT_NOW_A:"__UNI__DB0D401",CHAT_NOW_DEV:"__UNI__DEED62E",HOT_FACE_A:"__UNI__0D44E11",HOT_FACE_DEV:"__UNI__58DBD61",LOVE_SKY:"__UNI__0EE5E5E",DEV:"__UNI__3932C1F",DEV2:"__UNI__9C66D76"};function it(){let e=plus.runtime.appid,t,i,n,a,s,r,l,o;switch(e){case Ne.CANDY_CHAT_I:case Ne.CANDY_CHAT_A:t="Candy Chat",i="https://apps.apple.com/us/app/id1596210708",n="s/logo/CandyChat.png",a="Fanfanzhijiao Network Technology Co., Ltd.",s="fanfanzhijiao2021@163.com",r="https://sites.google.com/view/candy-chat-terms-policy/terms-of-use?authuser=0",l="https://sites.google.com/view/candy-chat-terms-policy/privacy-policy?authuser=0",o="s/pub/sys_notice_bg_candy_chat.png";break;case Ne.CHAT_NOW_A:case Ne.CHAT_NOW_DEV:t="Chat Now",i="https://apps.apple.com/us/app/id1596210708",n="s/logo/ChatNow.png",a="Fanfanzhijiao Network Technology Co., Ltd.",s="atree0120@gmail.com",r="https://sites.google.com/view/chats-now/privacy-policy",l="https://sites.google.com/view/chats-now/user-agreement?authuser=0",o="s/pub/sys_notice_bg_chat_now.png";break;case Ne.HOT_FACE_A:case Ne.HOT_FACE_DEV:t="HotFace",i="https://apps.apple.com/us/app/id1596210708",n="s/logo/HotFace.png",a="Fanfanzhijiao Network Technology Co., Ltd.",s="atree0120@gmail.com",r="https://sites.google.com/view/meu-agreement/user-agreement?authuser=0",l="https://sites.google.com/view/meu-agreement/privacy-policy?authuser=0",o="s/pub/sys_notice_bg_hot_face.png";break;case Ne.LOVE_SKY:t="LoveSky",i="",n="s/logo/lovesky.png",a="Fanfanzhijiao Network Technology Co., Ltd.",s="fanfanzhijiao2021@163.com",r="https://sites.google.com/view/lovesky-terms-of-use/terms-of-use?authuser=0",l="https://sites.google.com/view/lovesky-privacy-policy/privacy-policy?authuser=0";break;case Ne.DEV:case Ne.DEV2:t="Candy Chat Dev",i="https://apps.apple.com/us/app/id1596210708",n="s/logo/qialiao@3x.png",a="Liuyi Cool Technology Co., Ltd.",s="support_matchstar@163.com",r="https://sites.google.com/view/lovesky-terms-of-use/terms-of-use?authuser=0",l="https://sites.google.com/view/lovesky-privacy-policy/privacy-policy?authuser=0",o="s/pub/sys_notice_bg_candy_chat.png";break}return{name:t,iosStore:i,logo:n,cName:a,cMail:s,agreement:r,privacy:l,sysNoticeBg:o}}function Oo(){return getApp().globalData.pluginTool.vpnConnected()}function Mo(e){return getApp().globalData.pluginTool.permissionStatusSync({permission:e})}function Fo(e){return getApp().globalData.pluginTool.permissionOpenSetting({permission:e})}function Po(){return getApp().globalData.pluginTool.permissionCheckAll()}function $o(){return getApp().globalData.pluginTool.locationAuthorizationStatusSync()}var K={ALBUM:1,CAMERA:2,VIDEO:3,MICROPHONE:4,NOTIFY:5,LOCATION:6,DRAW_OVERLAYS:7,ALBUM_AND_CAMERA:101};function Bo(e,t,i){if(getApp().globalData.uid!=0)return new Promise(n=>{let a;if(i==null?a=Oa():a=i,a==null){n();return}let s={fromType:e,showClose:t,resList:a[0]};z("/pagesDialog/check-permission",null,"permissionData",s,{onCloseListener:()=>{n()}})})}function Oa(){let e=[],t=!0;if(m.isAndroid){let s=Po();e.push({key:"notice",value:s.notice,permission:K.NOTIFY}),e.push({key:"camera",value:s.camera,permission:K.CAMERA}),e.push({key:"voice",value:s.voice,permission:K.MICROPHONE}),e.push({key:"album",value:s.storage,permission:K.ALBUM})}else e.push({key:"notice",value:$a(),permission:K.NOTIFY}),e.push({key:"camera",value:Go(),permission:K.CAMERA}),e.push({key:"voice",value:Pa(),permission:K.MICROPHONE}),e.push({key:"album",value:jo(),permission:K.ALBUM});for(let s=0,r=e.length;s<r;s++)if(!e[s].value){t=!1;break}let i={};for(let s=0,r=e.length;s<r;s++){let l=e[s];i[l.key]=l.value?1:0}i.auto_translate=getApp().globalData.translateAuto?1:0;let n=Lo()?1:0,a=No();return i.audio_translate=n,i.audio_language=a,H.request("/user/sync-permission",i),[e,t]}function Qt(e){if(e==K.NOTIFY)return m.isAndroid?bi(e):$a();if(e==K.MICROPHONE)return m.isAndroid?bi(e):Pa();if(e==K.ALBUM_AND_CAMERA){let i=Oa()[0];return i?i[1].value&&i[3].value:!0}else if(e==K.LOCATION)return m.isAndroid?bi(e):$o();return!0}function Ma(e){m.isAndroid?Uo(Fa(e)):Wo()}function bi(e){let t=Fa(e);return Mo(t)}function Uo(e){if(g(e)){Ho();return}Fo(e)}function Ho(){var e=plus.android.importClass("android.content.Intent"),t=plus.android.importClass("android.provider.Settings"),i=plus.android.importClass("android.net.Uri"),n=plus.android.runtimeMainActivity(),a=new e;a.setAction(t.ACTION_APPLICATION_DETAILS_SETTINGS);var s=i.fromParts("package",n.getPackageName(),null);a.setData(s),n.startActivity(a)}function Fa(e){switch(e){case K.LOCATION:return["android.permission.ACCESS_FINE_LOCATION","android.permission.ACCESS_COARSE_LOCATION"];case K.ALBUM:case K.VIDEO:return["android.permission.READ_MEDIA_IMAGES","android.permission.READ_MEDIA_VIDEO"];case K.MICROPHONE:return["android.permission.RECORD_AUDIO"];case K.CAMERA:return["android.permission.CAMERA"];case K.NOTIFY:return["android.permission.POST_NOTIFICATIONS"]}}function Wo(){var e=plus.ios.import("UIApplication"),t=e.sharedApplication(),i=plus.ios.import("NSURL"),n=i.URLWithString("app-settings:");t.openURL(n),plus.ios.deleteObject(n),plus.ios.deleteObject(i),plus.ios.deleteObject(t)}function Pa(){let e=plus.ios.importClass("AVCaptureDevice"),t=e.authorizationStatusForMediaType("soun");return plus.ios.deleteObject(e),t==3}function Go(){let e=plus.ios.importClass("AVCaptureDevice"),t=e.authorizationStatusForMediaType("vide");return plus.ios.deleteObject(e),t==3}function jo(){var e=!1,t=plus.ios.import("PHPhotoLibrary"),i=t.authorizationStatus();return(i==3||i==4)&&(e=!0),plus.ios.deleteObject(t),e}function $a(){var e=!1,t=plus.ios.import("UIApplication"),i=t.sharedApplication(),n=0;if(i.currentUserNotificationSettings){var a=i.currentUserNotificationSettings();n=a.plusGetAttribute("types"),e=n!=0,plus.ios.deleteObject(a)}else n=i.enabledRemoteNotificationTypes(),e=n!=0;return plus.ios.deleteObject(i),plus.ios.deleteObject(t),e}function Ba(e,t){getApp().globalData.s.commit("setPubValue",{name:e,value:t})}function I(e,t){getApp().globalData.s.commit(e,t)}function dt(e,t){e==Le.MSG&&getApp().setNumberBadge(),t>0?uni.setTabBarBadge({index:e,text:t+""}):uni.removeTabBarBadge({index:e})}function Vo(e,t=!0){t?uni.showTabBarRedDot({index:e}):uni.hideTabBarRedDot({index:e})}function Yo(e){return new Promise((t,i)=>{uni.downloadFile({url:e}).then(n=>!n||n.statusCode!=200||!n.tempFilePath?(i(),new Promise(()=>{})):uni.saveFile({tempFilePath:n.tempFilePath})).then(n=>{!n||!n.savedFilePath?i():t(n.savedFilePath)}).catch(n=>{J("error","at common/common.js:65","downloadFile error "+JSON.stringify(n))})})}function Un(e,t){t?plus.runtime.openWeb(e):plus.runtime.openURL(e)}function ei(e,t,i,n=u("confirm")){Ye(e,t,i,"",n,!1)}function zo(e){return["Si, desbloquear","Reenviar Completar"].indexOf(e)!=-1}function Ye(e,t,i,n,a=u("confirm"),s=!0,r=u("cancel"),l=!1){let o=!1;if(!m.isAndroid&&(o=zo(a),o)){let d=a;a=r,r=d}uni.showModal({title:e,content:t,showCancel:s,cancelText:r,confirmText:a,editable:l,success(d){d.confirm?o?typeof n=="function"&&n():typeof i=="function"&&i(d):d.cancel&&(o?typeof i=="function"&&i(d):typeof n=="function"&&n())}})}function ti(e,t="none",i="center"){uni.showToast({title:e,duration:2e3,icon:t,position:i})}var ye={LIGHT:1,DARK:2};function Ua(e,t=1,i=!0){if(e=Number(e),isNaN(e))return!0;let n=getApp().pubAccount.money-e*t;return n>=0?!0:(i&&Ko(Math.abs(n),0),!1)}function Ko(e,t=0,i,n){let s=q("coin_callback"),r={};r.order_source=typeof i=="undefined"?0:i,r.click_type=typeof n=="undefined"?0:n,s?(r.fromType=t,r.diffCoin=e,z("/pages/coin/coin-dialog",r,"coinDialogData",s)):(r.from_type=t,r.diff_coin=e,H.request("/pay/coin/callback",r,!0))}function Jo(e){let t=getApp().pubUser.seeking_sex;return e?t:t==0?getApp().pubUser.sex==1?2:1:t}function te(){return getApp().globalData.s.state.pubUser.is_auth}function ii(){return!te()&&getApp().pubUser.recharge_money>0}function ni(){let e=getApp().globalData.admin;return e&&e.permission&&e.permission.kefu}function qo(){let e=getApp().globalData.admin;return e&&e.permission&&e.permission.check_all}function Gi(){let e=getApp().globalData.admin;return!e||!e.permission?"":e.permission.console}function xt(){let e=getApp().globalData.admin;return!g(e)&&e.type==1}function Xo(e,t){let i=getApp().globalData.bannedInfos[e];if(g(i))return!1;if(t){if(I("appDialog/addDialogBan",i),Ve()=="/pagesDialog/banned")return;I("appDialog/executeBanWarningDialog")}return!0}var tt={DEFAULT:1e4,FAIL:0,SUCCESS:1,DISCONNECT:6,RECONNECT:7},It={INIT:"init",APP_SHOW:"app_show",TAB_SHOW:"tab_show",MSG_INDEX_REFRESH:"msg_index_refresh",STOP_TAKING_RECOVERY:"stop_taking_recovery",CATCH_MSG_SYNC:"sync_catch",API_CALL_BACK:"api_call_back",RECONNECT_LISTENER:"reconnect_listener",RECONNECT_LOCAL:"reconnect_local"};function Zo(e){return new Promise((t,i)=>{getApp().globalData.pluginDB.selectSql({sql:e},n=>{n.status==1?t(n.rows):(J("error","at comExtend/plugin-DB.js:44","db \u63D2\u4EF6 select \u6267\u884C \u9519\u8BEF "+n.message),i(n.message))})})}function Qo(e){return new Promise((t,i)=>{getApp().globalData.pluginDB.executeSql({sql:e},n=>{n.status==1?t(n.rows):(J("error","at comExtend/plugin-DB.js:57","db \u63D2\u4EF6 execute \u6267\u884C \u9519\u8BEF "+n.message),i(n.message))})})}function re(e,t){return new Promise((i,n)=>{Qo(e).then(a=>{i(a)},a=>{n(),t||Ya("execute",a,e)})})}function Q(e,t){return new Promise((i,n)=>{Zo(e).then(a=>{i(a)},a=>{n(),t||Ya("select",a,e)})})}function Ha(e){return new Promise(t=>{let i=`SELECT name FROM sqlite_master WHERE type = 'table' AND name = '${e}'`;Q(i).then(n=>{t(n.length>0)},n=>{t(!1)})})}function V(e){return g(e)?0:parseInt(e)}function Fe(e){return g(e)?"":e}function Wa(e,t){return g(e)?Math.round(t/1e3):(e+"").length==16?Math.round(e/1e3):e}function el(e,t){let i=e.length,n,a,s,r;if(i>t)a=!0,n=t,s=e[i-2].ctime,r=e[i-2].mtime;else{a=!1,n=i;let l=e[i-1];g(l)?(s=0,r=0):(s=l.ctime,r=l.mtime)}return{rows:e,hasMore:a,forLen:n,ctime:s,mtime:r}}function Ga(e,t){let i=el(e,t);for(let n=0,a=i.forLen;n<a;n++){let s=i.rows[n];s&&(s.msg_content=je(s.msg_content))}return i}function tl(){return getApp().globalData.pluginMqtt.checkStatusSync()?tt.SUCCESS:tt.FAIL}function ai(){return tl()}function il(){return ai()==tt.SUCCESS}var ut={getUserDesc(){let e=getApp().pubUser;return Object.keys(e).length<=3?"\u672A\u767B\u5F55":[e.uid,e.is_auth?"\u4E3B\u64AD":"\u7528\u6237",`\u7B49\u7EA7-${e.level}`,`vip${e.is_vip?"\u662F":"\u5426"}`,`\u5145\u503C${e.recharge_money}`,`\u4F59\u989D${getApp().pubAccount.money}`,`\u540E\u53F0\u8EAB\u4EFD${nl()}`].join("|")},getActionDesc(){let e=Zt(),t=e.length;return[`\u9875\u9762: ${(t>5?e.slice(t-5):e).join(",")}`,`${getApp().globalData.catchApiUrlList.join(",")}`].join("|")},getEnvironsDesc(){let e=getApp().globalData.ua.split("|"),t=[`${e[1]}`,`app\u7248\u672C${e[2]}`,`zip\u7248\u672C${e[3]}-${e[13]}`,`${e[6]}`,`\u54C1\u724C${e[11]}`,`\u578B\u53F7${e[12]}`,`\u7F51\u7EDC${getApp().globalData.network.type}`,`MQTT${il()?"\u662F":"\u5426"}`],i=Oo();return typeof i!="undefined"&&t.push(`VPN${i?"\u662F":"\u5426"}`),t.join("|")}};function nl(){if(xt())return"\u8D85\u7BA1";let e=[];return ni()&&e.push("\u5BA2\u670D"),qo()&&e.push("\u5BA1\u6838"),e.length<=0?"\u65E0":e.join("\u548C")}var yi=0;function al(e){return rl(sl(ol(e)))}function sl(e){return cl(ul(ll(e),e.length*8))}function rl(e){try{}catch(s){yi=0}for(var t=yi?"0123456789ABCDEF":"0123456789abcdef",i="",n,a=0;a<e.length;a++)n=e.charCodeAt(a),i+=t.charAt(n>>>4&15)+t.charAt(n&15);return i}function ol(e){for(var t="",i=-1,n,a;++i<e.length;)n=e.charCodeAt(i),a=i+1<e.length?e.charCodeAt(i+1):0,55296<=n&&n<=56319&&56320<=a&&a<=57343&&(n=65536+((n&1023)<<10)+(a&1023),i++),n<=127?t+=String.fromCharCode(n):n<=2047?t+=String.fromCharCode(192|n>>>6&31,128|n&63):n<=65535?t+=String.fromCharCode(224|n>>>12&15,128|n>>>6&63,128|n&63):n<=2097151&&(t+=String.fromCharCode(240|n>>>18&7,128|n>>>12&63,128|n>>>6&63,128|n&63));return t}function ll(e){for(var t=Array(e.length>>2),i=0;i<t.length;i++)t[i]=0;for(var i=0;i<e.length*8;i+=8)t[i>>5]|=(e.charCodeAt(i/8)&255)<<i%32;return t}function cl(e){for(var t="",i=0;i<e.length*32;i+=8)t+=String.fromCharCode(e[i>>5]>>>i%32&255);return t}function ul(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var i=1732584193,n=-271733879,a=-1732584194,s=271733878,r=0;r<e.length;r+=16){var l=i,o=n,d=a,f=s;i=le(i,n,a,s,e[r+0],7,-680876936),s=le(s,i,n,a,e[r+1],12,-389564586),a=le(a,s,i,n,e[r+2],17,606105819),n=le(n,a,s,i,e[r+3],22,-1044525330),i=le(i,n,a,s,e[r+4],7,-176418897),s=le(s,i,n,a,e[r+5],12,1200080426),a=le(a,s,i,n,e[r+6],17,-1473231341),n=le(n,a,s,i,e[r+7],22,-45705983),i=le(i,n,a,s,e[r+8],7,1770035416),s=le(s,i,n,a,e[r+9],12,-1958414417),a=le(a,s,i,n,e[r+10],17,-42063),n=le(n,a,s,i,e[r+11],22,-1990404162),i=le(i,n,a,s,e[r+12],7,1804603682),s=le(s,i,n,a,e[r+13],12,-40341101),a=le(a,s,i,n,e[r+14],17,-1502002290),n=le(n,a,s,i,e[r+15],22,1236535329),i=ce(i,n,a,s,e[r+1],5,-165796510),s=ce(s,i,n,a,e[r+6],9,-1069501632),a=ce(a,s,i,n,e[r+11],14,643717713),n=ce(n,a,s,i,e[r+0],20,-373897302),i=ce(i,n,a,s,e[r+5],5,-701558691),s=ce(s,i,n,a,e[r+10],9,38016083),a=ce(a,s,i,n,e[r+15],14,-660478335),n=ce(n,a,s,i,e[r+4],20,-405537848),i=ce(i,n,a,s,e[r+9],5,568446438),s=ce(s,i,n,a,e[r+14],9,-1019803690),a=ce(a,s,i,n,e[r+3],14,-187363961),n=ce(n,a,s,i,e[r+8],20,1163531501),i=ce(i,n,a,s,e[r+13],5,-1444681467),s=ce(s,i,n,a,e[r+2],9,-51403784),a=ce(a,s,i,n,e[r+7],14,1735328473),n=ce(n,a,s,i,e[r+12],20,-1926607734),i=ue(i,n,a,s,e[r+5],4,-378558),s=ue(s,i,n,a,e[r+8],11,-2022574463),a=ue(a,s,i,n,e[r+11],16,1839030562),n=ue(n,a,s,i,e[r+14],23,-35309556),i=ue(i,n,a,s,e[r+1],4,-1530992060),s=ue(s,i,n,a,e[r+4],11,1272893353),a=ue(a,s,i,n,e[r+7],16,-155497632),n=ue(n,a,s,i,e[r+10],23,-1094730640),i=ue(i,n,a,s,e[r+13],4,681279174),s=ue(s,i,n,a,e[r+0],11,-358537222),a=ue(a,s,i,n,e[r+3],16,-722521979),n=ue(n,a,s,i,e[r+6],23,76029189),i=ue(i,n,a,s,e[r+9],4,-640364487),s=ue(s,i,n,a,e[r+12],11,-421815835),a=ue(a,s,i,n,e[r+15],16,530742520),n=ue(n,a,s,i,e[r+2],23,-995338651),i=de(i,n,a,s,e[r+0],6,-198630844),s=de(s,i,n,a,e[r+7],10,1126891415),a=de(a,s,i,n,e[r+14],15,-1416354905),n=de(n,a,s,i,e[r+5],21,-57434055),i=de(i,n,a,s,e[r+12],6,1700485571),s=de(s,i,n,a,e[r+3],10,-1894986606),a=de(a,s,i,n,e[r+10],15,-1051523),n=de(n,a,s,i,e[r+1],21,-2054922799),i=de(i,n,a,s,e[r+8],6,1873313359),s=de(s,i,n,a,e[r+15],10,-30611744),a=de(a,s,i,n,e[r+6],15,-1560198380),n=de(n,a,s,i,e[r+13],21,1309151649),i=de(i,n,a,s,e[r+4],6,-145523070),s=de(s,i,n,a,e[r+11],10,-1120210379),a=de(a,s,i,n,e[r+2],15,718787259),n=de(n,a,s,i,e[r+9],21,-343485551),i=Be(i,l),n=Be(n,o),a=Be(a,d),s=Be(s,f)}return Array(i,n,a,s)}function si(e,t,i,n,a,s){return Be(dl(Be(Be(t,e),Be(n,s)),a),i)}function le(e,t,i,n,a,s,r){return si(t&i|~t&n,e,t,a,s,r)}function ce(e,t,i,n,a,s,r){return si(t&n|i&~n,e,t,a,s,r)}function ue(e,t,i,n,a,s,r){return si(t^i^n,e,t,a,s,r)}function de(e,t,i,n,a,s,r){return si(i^(t|~n),e,t,a,s,r)}function Be(e,t){var i=(e&65535)+(t&65535),n=(e>>16)+(t>>16)+(i>>16);return n<<16|i&65535}function dl(e,t){return e<<t|e>>>32-t}var xi={md5:function(e){return al(e)}};function ja(){return"tb_error_log"}function fl(e,t){return new Promise(i=>{let n=`SELECT * FROM ${ja()} WHERE status = ${V(e)} AND identify = '${t}' ORDER BY id DESC LIMIT 1`;Q(n,!0).then(a=>{i(a[0])})})}function ml(e,t,i,n,a,s,r,l,o,d){return fl(e,t).then(f=>{if(f)return Promise.resolve(!0);let h=`INSERT INTO ${ja()} (status, identify, grade, flag, user_desc, action_desc, environs_desc, error_desc, create_time, exp_time) values (${V(e)}, '${t}', ${i}, '${n}', '${se(a)}', '${se(s)}', '${se(r)}', '${se(l)}', ${V(o)}, ${V(d)})`;return re(h,!0)})}var ri={CRASH:1,USER:11,API_FAIL:12,API_ERROR:13,MSG_SYNC:14,DB_PLUGIN:15,FRAME:21,LISTENER:31,BUG_DB_GET_NONE:201,BUG_MSG_SYNC_PLUGIN_LOSS:202,BUG_MSG_SYNC_JS_LOSS:203},oi={CRASH:"crash",MEMORY:"memory",LISTENER:"listener",FRAME_API:"frame_api",API:"api",DB:"db",PAYMENT:"payment",AUTH_FACE:"auth_face",CHAT_CALL:"chat_call",HOT_UPDATE:"hot_update",MESSAGE_PARSE:"message_parse",BUG:"bug"};function Va(){return getApp().globalData.uid==0?!1:m.zT==3?!0:m.appId==Ne.CHAT_NOW_A||m.ENV=="dev"}var pl=1e3;function gl(e,t){try{if(!Va())return;let i=Wt(t),n=`api-${e} ${i}`;J("error","at comCatch/catch-save.js:15","catch api fail "+n);let a=Vi(n);bl().then(s=>{let r;typeof s=="boolean"?r="\u6D4B\u8BD5\u8C37\u6B4C\u6210\u529F":r=`\u6D4B\u8BD5\u8C37\u6B4C\u5931\u8D25-${Wt(s)}`,a.errorDesc=`${a.errorDesc} - ${r}`,Yi(ri.API_FAIL,oi.API,a)})}catch(i){}}function hl(e,t,i){try{if(!Va())return;let n=Wt(i);n=n.substring(0,120);let a=`statusCode-${i.statusCode}-${n}-api-${e}-${JSON.stringify(t)}`;J("error","at comCatch/catch-save.js:37","catch api error "+a);let s=Vi(a);Yi(ri.API_ERROR,oi.API,s)}catch(n){}}function Ya(e,t,i){try{if(i.indexOf("tb_error_log")!=-1)return;let n=`${e} - ${t}`;i&&(n+=` - ${i}`),J("error","at comCatch/catch-save.js:74","catch db "+n),_l(ri.DB_PLUGIN,oi.DB,n)}catch(n){}}function ji(e,t,i,n){try{let a=Wt(e),s=JSON.stringify(t),r=JSON.stringify(i),l=JSON.stringify(n);a=`${a} | ${s} | ${r} | ${l}`,J("error","at comCatch/catch-save.js:118","catch message parse "+a);let o=Vi(a);Yi(ri.USER,oi.MESSAGE_PARSE,o)}catch(a){}}function Wt(e){if(!e)return"";let t=JSON.stringify(e);return(typeof t!="string"||t=="{}")&&(t=e.toString()),t}function Vi(e){return{identify:xi.md5(e),errorDesc:e,userDesc:ut.getUserDesc(),actionDesc:ut.getActionDesc(),environsDesc:ut.getEnvironsDesc(),expTime:0}}function Yi(e,t,i){ml(0,i.identify,e,t,i.userDesc,i.actionDesc,i.environsDesc,i.errorDesc,new Date().getTime(),i.expTime)}function _l(e,t,i){let n=[],a=new Date().getTime();if(a-getApp().globalData.catchApiLastReqTime<=pl)return;getApp().globalData.catchApiLastReqTime=a,n.push({grade:e,flag:t,user_desc:ut.getUserDesc(),action_desc:ut.getActionDesc(),environs_desc:ut.getEnvironsDesc(),error_desc:i,create_time:a,createTimeStr:ya(a)});let s={log_list:n};H.request("/monitor/record-exception-log",s)}function bl(){return new Promise(e=>{uni.request({url:"https://google.com",method:"GET",timeout:5e3,success(t){e(!0)},fail(t){e(t)}})})}var yl=["/monitor/index","/chat/call/log","/chat/msg/mq-log","/user/sync-permission","/monitor/record-exception-log"],Hn=["/monitor/record-exception-log"],Wn=5,Pt={invoke(e,t){if(yl.indexOf(e)!=-1)return;let i="";i+=`\u63A5\u53E3=${e};`,i+=`\u53C2\u6570=${JSON.stringify(t)}`,i+=`\u65F6\u95F4=${ya(new Date().getTime())}`,getApp().globalData.catchApiUrlList.push(`\u3010${i}\u3011`);let n=getApp().globalData.catchApiUrlList.length;n>Wn&&(getApp().globalData.catchApiUrlList=getApp().globalData.catchApiUrlList.slice(n-Wn))},error(e,t,i){Hn.indexOf(e)==-1&&getApp().globalData.network.isConnected&&(!i||typeof i.statusCode=="undefined"||hl(e,t,i))},fail(e,t){Hn.indexOf(e)==-1&&getApp().globalData.network.isConnected&&gl(e,t)}},Al={INIT:1,OPEN:2,CALLBACK:3,SOCKET:4,LOGIN:5};function za(e,t=!0,i=!0,n=!0){if(!e)return 0;let a=0;return!e.hide_level&&e.level>0&&(a+=56),!e.hide_vip&&e.is_vip&&(a+=64),g(e.birthday)||(a+=50),t&&e.auth_status==1&&(a+=32),i&&!g(e.country_code)&&!e.hide_profile&&(n?a+=88:a+=44),a}function Ka(e,t=!1){if(!t&&e.hide_profile){let i=e.uid%9999;return i<1e3&&(i="0"+i),u("mysteryer")+i}else return e.nickname||""}function li(e,t="small_avatar",i=!1,n=1){if(!i&&e.hide_profile)return wl(n);{if(e[t])return e[t];let a=t=="small_avatar"?"avatar":"small_avatar";return e[a]}}function wl(e){return e==2?"s/privacy/masker_list_card.png":e==3?"s/privacy/masker_card.png":"s/privacy/masker_avatar.png"}function Gt(){if(getApp().pubUnreadMy.moment>0){dt(Le.MY,getApp().pubUnreadMy.moment);return}dt(Le.MY,0),Vo(Le.MY,getApp().pubUnreadMy.fans>0)}var w={PERMISSION:"permission",PERFECT_DATA:"perfect_data",REST:"rest",HOME_FILTER:"home_filter",GRID_GUIDE:"grid_guide",NOTIFY:"notify",HELLO:"hello",SHARE:"share",LANGUAGE_UP:"language_up",RAMADAN:"ramadan",MSG_DISTURB:"msg_disturb",CALL_DISTURB:"call_disturb",BAN:"ban",WARNING:"warning",HOME_SEX_FILTER:"home_sex_filter",CLUB_RESULT:"club_result",CLUB_DISBAND:"club_disband"},Sl={[w.HOME_FILTER]:"seeking_sex_open_time",[w.GRID_GUIDE]:"dialog_show_time_grid_guide",[w.NOTIFY]:"dialog_show_time_notify",[w.HELLO]:"dialog_show_time_hello"},Ii=-99,Tt=-100,El={[w.HOME_FILTER]:1,[w.HOME_SEX_FILTER]:1,[w.GRID_GUIDE]:1,[w.NOTIFY]:2,[w.SHARE]:3,[w.HELLO]:4,[w.LANGUAGE_UP]:5,[w.RAMADAN]:6},zi={[w.PERMISSION]:1,[w.PERFECT_DATA]:2,[w.REST]:3,[w.HOME_FILTER]:4,[w.HOME_SEX_FILTER]:4,[w.GRID_GUIDE]:4,[w.NOTIFY]:5,[w.SHARE]:7,[w.LANGUAGE_UP]:8};function Cl(e){return kl(w.HOME_FILTER,21600)?!1:Jo(!1)!=e}function Tl(e){return m.isAndroid||e||q(Ki(w.GRID_GUIDE))?!1:!q("user_list_sort_"+getApp().globalData.uid)}function Ja(){return Qt(K.NOTIFY)?!1:!Dl()}function qa(){let e=q(`dialog_message_disturb_${getApp().globalData.uid}`);return g(e)&&!te()&&!getApp().globalData.isBoosting}function Dl(){let e=wo(`${w.NOTIFY}_show_status`);if(!g(e))return!0;let t=q(Ki(w.NOTIFY));return!g(t)}function Ki(e){return`${Sl[e]}_${getApp().globalData.uid}`}function kl(e,t){let i=q(Ki(e));if(!i)return!1;let n=new Date().getTime();return n<=i?!1:parseInt((n-i)/1e3)<=t}var Gn=!1,st=!1,Pe=0,Et={appDialogList:[],appDialogStop:!1,appDialogCurKey:"",appDialogHelloData:!1,appBanDialogList:[],appClubResultList:[],appDialogIsShowBan:!1,appBanDialogCurKey:"",appWarningDialogCurKey:"",appClubResultCurKey:""},xl={setDialogHelloData(e,t){e.appDialogHelloData=t},setDialogCurKey(e,t){e.appDialogCurKey=t},setDialogList(e,t){e.appDialogList=t,e.appDialogList.sort((i,n)=>i.sort-n.sort)},sortDialogList(e){e.appDialogList.sort((t,i)=>t.sort-i.sort)},resetDialogItem(e,t){let i=e.appDialogList.findIndex(n=>n.key==t.key);i!=-1&&(e.appDialogList[i].hasExec=!1,e.appDialogList[i].delay=t.delay)},resetClubResultDialogItem(e,t){let i=e.appClubResultList.findIndex(n=>n.key==t.key);i!=-1&&(e.appClubResultList[i].hasExec=!1)},delDialogItem(e,t){g(e.appDialogList)||e.appDialogList.splice(t,1)},delDialogItemByKey(e,t){if(g(e.appDialogList))return;let i=e.appDialogList.findIndex(n=>n.key==t);i!=-1&&e.appDialogList.splice(i,1)},clearDialog(e){e.appDialogStop=!0,e.appDialogList=[]},executeDialog(e,t){if(e.appBanDialogCurKey||e.appWarningDialogCurKey||e.appClubResultCurKey||g(e.appDialogList)||e.appDialogStop)return;let i=e.appDialogList[0];g(i)||i.hasExec||i.isCanExecute&&(e.appDialogList[0].hasExec=!0,Ai[i.funcName](i).then(()=>{e.appDialogCurKey="";let n=e.appDialogList.indexOf(i);n!=-1&&I("appDialog/delDialogItem",n),I("appDialog/executeDialog","execute then")}))},addDialog(e,t){let i=t.key;e.appDialogStop=!0;let n=e.appDialogList.findIndex(a=>a.key==i);if(n!=-1){if(e.appDialogList[n].isAdd){e.appDialogStop=!1,e.appDialogCurKey||I("appDialog/executeDialog");return}e.appDialogList[n].isAdd=!0,e.appDialogList[n].addTime=new Date().getTime(),e.appDialogList[n].isCanExecute=!0}else{let a=te()?1:2,s;switch(i){case w.HOME_FILTER:s=Ml(a,!0);break;case w.HELLO:s=jn(t.delay);break;case w.MSG_DISTURB:s=Pl(t.delay);break;case w.CALL_DISTURB:s=$l(t.delay);break;default:e.appDialogStop=!1,e.appDialogCurKey||I("appDialog/executeDialog");return}s.isAdd=!0,s.addTime=new Date().getTime(),e.appDialogList.push(s)}e.appDialogList.sort((a,s)=>a.sort==s.sort?s.addTime-a.addTime||(a.isCanExecute?Tt:0):a.sort-s.sort),!e.appDialogCurKey&&(e.appDialogCurKey=i,e.appDialogStop=!1,I("appDialog/executeDialog"))},addDialogHomeFilter(e,t){getApp().globalData.appCRE==0||!Cl(t)||I("appDialog/addDialog",{key:w.HOME_FILTER})},addDialogHomeSexFilter(e,t){getApp().globalData.appCRE!=0&&(I("appDialog/addDialog",{key:w.HOME_SEX_FILTER,value:t}),I("appDialog/sortDialogList"))},addDialogGridGuide(e,t){let i=e.appDialogList.findIndex(a=>a.key==w.GRID_GUIDE);if(Tl(t)){if(i==-1)return;I("appDialog/addDialog",{key:w.GRID_GUIDE})}else i!=-1&&I("appDialog/delDialogItem",i)},addDialogNotify(e,t){t&&!Ja()||U("/pagesDialog/open-sys-notice")},addDialogHello(e,t){if(getApp().globalData.appCRE==0||Gn)return;Gn=!0;let i=e.appDialogList[0];if(i&&i.key==w.SHARE){Pe=30;let n=jn(Pe);n.sort=nt(te()?1:2,w.SHARE+1),n.isAdd=!0,n.addTime=new Date().getTime(),e.appDialogList.push(n),e.appDialogList.sort((a,s)=>a.sort==s.sort?s.addTime-a.addTime||(a.isCanExecute?Tt:0):a.sort-s.sort);return}Pe=t,I("appDialog/addDialog",{key:w.HELLO,delay:t})},addDialogMsgDisturb(e,t){I("appDialog/addDialog",{key:w.MSG_DISTURB,delay:t})},addDialogCallDisturb(e,t){I("appDialog/addDialog",{key:w.CALL_DISTURB,delay:t})},delBanDialogItem(e){g(Et.appBanDialogList)||Et.appBanDialogList.splice(e,1)},delClubResultDialogItem(e){g(Et.appClubResultList)||Et.appClubResultList.splice(e,1)},addDialogBan(e,t){let i=Bl(t);e.appDialogIsShowBan?uni.$emit("event_refresh_banned_data",t):(e.appBanDialogList.push(i),I("appDialog/sortBanWarningDialog"))},addDialogWarning(e,t){if(e.appBanDialogList.map(a=>a.sort).indexOf(Number(t.id))!=-1)return;let n;t.from_type==2?n=Hl(t):n=Ul(t),e.appBanDialogList.push(n),!(e.appBanDialogCurKey||e.appWarningDialogCurKey)&&I("appDialog/executeBanWarningDialog")},addDialogClubNoticeDialog(e,t){let i,n,a=e.appClubResultList.map(s=>s.key);t.type==Nr.CHECK_RESULT?(n=w.CLUB_RESULT+"_"+t.club_id,a.indexOf(n)==-1&&(i=Gl(t))):(n=w.CLUB_DISBAND+"_"+t.club_id,a.indexOf(n)==-1&&(i=Wl(t))),i&&e.appClubResultList.push(i),!(e.appBanDialogCurKey||e.appWarningDialogCurKey)&&(e.appClubResultCurKey||I("appDialog/executeClubNoticeDialog"))},executeBanWarningDialog(e){if(g(e.appBanDialogList)){I("appDialog/executeClubNoticeDialog");return}let t=e.appBanDialogList[0];if(g(t)||t.hasExec)return;let i=getApp().globalData.curCallId>et.WAITING;if(i){t.isBan&&uni.$emit("event_banned_close_chat");return}e.appBanDialogList[0].hasExec=!i||!t.isBan,e.appDialogIsShowBan=t.isBan,t.isBan?e.appBanDialogCurKey="ban":e.appWarningDialogCurKey="warning",Ai[t.funcName](t).then(n=>{if(t.isBan){if(e.appBanDialogCurKey="",e.appDialogIsShowBan=!1,n==1){let a=e.appBanDialogList.indexOf(t);a!=-1&&I("appDialog/delBanDialogItem",a)}}else{e.appWarningDialogCurKey="";let a=e.appBanDialogList.indexOf(t);a!=-1&&I("appDialog/delBanDialogItem",a)}I("appDialog/executeBanWarningDialog","execute then")})},executeClubNoticeDialog(e,t){if(e.appBanDialogCurKey||e.appWarningDialogCurKey)return;if(g(e.appClubResultList)){I("appDialog/executeDialog");return}let i=e.appClubResultList[0];g(i)||i.hasExec||getApp().globalData.curCallId>et.WAITING||(e.appClubResultCurKey="club_result",e.appClubResultList[0].hasExec=!0,t&&t.delay&&(i.delay=t.delay),Ai[i.funcName](i).then(()=>{e.appClubResultCurKey="";let a=e.appClubResultList.indexOf(i);a!=-1&&I("appDialog/delClubResultDialogItem",a),I("appDialog/executeClubNoticeDialog","execute then")}))},sortBanWarningDialog(e){let t=e.appBanDialogList.filter(n=>n.sort==Ii),i=e.appBanDialogList.filter(n=>n.sort!=Ii);i=i.sort((n,a)=>n.sort-a.sort),e.appBanDialogList=[...t,...i]}},Il={init(i,n){return Se(this,arguments,function*({state:e},t){J("error","at store/modules/app-dialog.js:326","------> init dialog list, data ",t);let a=[];te()?a=Ll(t.data,t.homeViewSizeObj):a=Nl(t.data,t.homeViewSizeObj),I("appDialog/setDialogList",a),I("appDialog/executeDialog")})}},vl={namespaced:!0,state:Et,mutations:xl,actions:Il};function Nl(e,t){permissionGetAllStatus();let i=[],n=Xa(2,t,e.homeFilterSex);n&&i.push(n);let a=Za(2,t);a&&i.push(a);let s=Qa(2,e.share);s&&i.push(s);let r=es(2);r&&i.push(r);let l=Fl(2,e.notifyTips);return l&&i.push(l),i}function Ll(e,t){let i=[],n=Rl(e.authList);n&&i.push(n);let a=Ol();a&&i.push(a);let s=Xa(2,t,e.homeFilterSex);s&&i.push(s);let r=Za(1,t);r&&i.push(r);let l=5,o=Qa(1,e.share,l);o&&i.push(o);let d=es(1);return d&&i.push(d),i}function Rl(e){return typeof e=="undefined"?null:{key:w.PERFECT_DATA,sort:zi[w.PERFECT_DATA],delay:0,data:e,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecutePerfectData"}}function Ol(){return ts()||!getApp().pubUser.is_rest?null:{key:w.REST,sort:zi[w.REST],delay:0,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteRest"}}function Ml(e,t){return{key:w.HOME_FILTER,sort:nt(e,w.HOME_FILTER),delay:0,data:{},hasExec:!1,isCanExecute:t,addTime:new Date().getTime(),funcName:"_dialogExecuteHomeFilter"}}function Xa(e,t,i){return getApp().globalData.appCRE==0||!t||!t.filter?null:{key:w.HOME_SEX_FILTER,sort:nt(e,w.HOME_SEX_FILTER),delay:0,data:{value:i,size:t.filter},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteHomeSexFilter"}}function Za(e,t){if(getApp().globalData.appCRE==0)return null;let i="grid";if(!t||!t[i])return null;let n={sizeList:[{key:i,size:t[i]}],from_type:1};return{key:w.GRID_GUIDE,sort:nt(e,w.GRID_GUIDE),delay:0,data:n,hasExec:!1,isCanExecute:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteGridGuide"}}function Qa(e,t,i=5){return getApp().globalData.appCRE==0||g(t)||getApp().globalData.launchCount<3||ii()?null:{key:w.SHARE,sort:nt(e,w.SHARE),delay:i,data:t,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteShare"}}function jn(e){return{key:w.HELLO,sort:Tt,delay:e,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteHello"}}function es(e){let t=q("user_switch_language_status");if(t)return null;let i=Ct(!1);if(t||g(i))return null;let n=vo.map(r=>r.key),a=Ct();if(n.indexOf(a)!=-1)return null;let s=Wi(!1);return n.indexOf(s)==-1?null:{key:w.LANGUAGE_UP,sort:nt(e,w.LANGUAGE_UP),delay:5,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteLanguageUp"}}function Fl(e,t){return g(t)||q(`stop_notify_${getApp().globalData.uid}_${t.time}`)||!Qt(K.NOTIFY)?null:{key:w.RAMADAN,sort:nt(e,w.RAMADAN),delay:5,data:t,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteRamadan"}}function Pl(e){return{key:w.MSG_DISTURB,sort:Tt,delay:e,data:{from_type:1},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteMsgDisturb"}}function $l(e){return{key:w.CALL_DISTURB,sort:Tt,delay:e,data:{from_type:2},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteCallDisturb"}}function Bl(e){return{key:w.BAN,sort:Ii,data:e,delay:e.delay||0,hasExec:!1,isBan:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteBan"}}function Ul(e){return{key:w.WARNING,sort:Number(e.id),data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteWarning"}}function Hl(e){return{key:w.WARNING,sort:Number(e.id),data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubWarning"}}function Wl(e){return{key:w.CLUB_DISBAND+"_"+e.club_id,data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubDisband"}}function Gl(e){return{key:w.CLUB_RESULT+"_"+e.club_id,data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubResult"}}var Ai={_dialogExecutePermission(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),Ie(e.key,e.delay,0)&&(I("appDialog/setDialogCurKey",w.PERMISSION),Bo(1,!1,e.permissionRes).then(()=>{t()}))},e.delay*1e3)})},_dialogExecutePerfectData(e){return new Promise(t=>{I("appDialog/setDialogCurKey",w.PERFECT_DATA),z("/pagesDialog/complete-content-first",{},"DataCompleteContentFirst",e.data,{onCloseListener(){t()}})})},_dialogExecuteRest(){return new Promise(e=>{I("appDialog/setDialogCurKey",w.REST),Ye(u("tips"),u("anchor.rest.openedTip"),()=>{let t={user_info:{is_rest:0}};H.request("/user/update-info",t,!0,!0).then(i=>{Ba("pubUser.is_rest",0),ei(u("tips"),u("anchor.rest.turnOff"),()=>{e()},u("gotIt"))},()=>{e()})},()=>{e()},u("startWorking"))})},_dialogExecuteHomeFilter(e){return new Promise(t=>{Ie(e.key,e.delay,St.USER)&&(I("appDialog/setDialogCurKey",w.HOME_FILTER),U("/pagesDialog/seeking-sex-guide",{},{onCloseChooseSeekingSex:i=>{uni.$emit("event_app_dialog_seeking_sex_after",i),t()}}))})},_dialogExecuteHomeSexFilter(e){return new Promise(t=>{Ie(e.key,e.delay,St.USER)&&(I("appDialog/setDialogCurKey",w.HOME_SEX_FILTER),U(lt.homeFilterSexGuide,{params:JSON.stringify(e.data)},{onCloseListener:()=>{uni.$emit("event_handle_filter_seeking_sex"),t()}}))})},_dialogExecuteGridGuide(e){return new Promise(t=>{if(!Ie(e.key,e.delay,St.USER))return;I("appDialog/setDialogCurKey",w.GRID_GUIDE);let i=e.data.sizeList;U("/pagesDialog/guide-cover",{list:encodeURIComponent(JSON.stringify(i))},{onCloseGuideCover:()=>{uni.$emit("event_app_dialog_close_guide",{from_type:e.data.from_type}),t()}})})},_dialogExecuteShare(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),Ie(e.key,e.delay,0)&&(I("appDialog/setDialogCurKey",w.SHARE),z("/pagesDialog/share",{},"shareData",e.data.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteLanguageUp(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),Ie(e.key,e.delay,0)&&(I("appDialog/setDialogCurKey",w.LANGUAGE_UP),Me("user_switch_language_status","1"),U("/pagesDialog/switch-language-remind",{},{onCloseListener(){t()}}))},e.delay*1e3)})},_dialogExecuteRamadan(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),Ie(e.key,e.delay,0)&&(I("appDialog/setDialogCurKey",w.RAMADAN),z("/pagesDialog/stop-notify",{},"dataStopNotify",e.data,{onCloseListener(){t()}}))},e.delay*1e3)})},_dialogExecuteHello(e){return new Promise(t=>{Yl().then(i=>{if(!i){t();return}if(st&&clearInterval(st),e.delay<=0||Pe<=0){if(!Ie(e.key,Pe,0))return;I("appDialog/setDialogCurKey",w.HELLO),Vn(i,()=>{t()});return}st=setInterval(()=>{if(!Ie(e.key,Pe,0)){st&&clearInterval(st);return}Pe-=1,Pe<=0&&(clearInterval(st),I("appDialog/setDialogCurKey",w.HELLO),Vn(i,()=>{t()}))},1e3)})})},_dialogExecuteMsgDisturb(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),Ie(e.key,e.delay,St.MSG)&&(I("appDialog/setDialogCurKey",w.MSG_DISTURB),U("/pagesDialog/disturb-def",e.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteCallDisturb(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),Ie(e.key,e.delay,0)&&(I("appDialog/setDialogCurKey",w.CALL_DISTURB),U("/pagesDialog/disturb-def",e.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteBan(e){return new Promise(t=>{let i=e.exp_time;if(parseInt(new Date().getTime()/1e3)>i){t();return}let n=setTimeout(()=>{clearTimeout(n);let a=e.data.from_cache?1:0;z("/pagesDialog/banned",{from_cache:a},"bannedDialogData",e.data,{onCloseListener:s=>{t(s)}})},e.delay*1e3)})},_dialogExecuteWarning(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),z("/pagesDialog/warning",{},"warningDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubWarning(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),z(lt.clubWarning,{},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubDisband(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),z(lt.clubDisband,{},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubResult(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),z(lt.clubStatusRemind,{from_type:2},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})}};function Ie(e,t,i){let n;return i==0?n=jl():n=Vl(i),getApp().globalData.isGestureBacking||getApp().globalData.s.state.appDialog.appDialogStop||ts()||!n?(I("appDialog/resetDialogItem",{key:e,delay:t}),!1):!0}function ts(){return getApp().globalData.uid==0}function jl(){return getCurrentPages().length==1}function Vl(e){let t=Zt();return t.length==1&&t[0]==e}function nt(e,t){return e==1?zi[t]:El[t]}function Yl(){return new Promise(e=>{let t=getApp().globalData.s.state.appDialog.appDialogHelloData;t?e(t):H.request("/user/greet-coach-list",{},!1,!0).then(i=>{g(i.data)||g(i.data.list)?e(null):(I("appDialog/setDialogHelloData",i.data),e(i.data))},i=>{e(null)})})}function Vn(e,t){z("/pagesDialog/quality-user",{},"qualityUserData",e,{onCloseListener:i=>{i&&Ja()?setTimeout(()=>{I("appDialog/addDialogNotify")},2300):t()}})}var zl={curSendCont:0,msgMtimeList:[]},Kl=60,Yn=6,Jl={addSendCount(e){e.curSendCont+=1},clearSendCount(e){e.curSendCont=0},addMsgDisturbSaveCount(e,t){let i=e.msgMtimeList.length;if(e.msgMtimeList.length<Yn&&(e.msgMtimeList.push(t/1e6),i=e.msgMtimeList.length),i>=Yn){let n=e.msgMtimeList[0];e.msgMtimeList[i-1]-n<=Kl&&I("appDialog/addDialogMsgDisturb",2),e.msgMtimeList.splice(0,1)}}},ql={namespaced:!0,state:zl,mutations:Jl},Xl={callMtimeList:[]},Zl=60,zn=3,Ql={addCallDisturbReceiveCount(e,t){let i=e.callMtimeList.length;if(e.callMtimeList.length<zn&&(e.callMtimeList.push(t/1e3),i=e.callMtimeList.length),i>=zn){let n=e.callMtimeList[0];e.callMtimeList[i-1]-n<=Zl&&I("appDialog/addDialogCallDisturb",2),e.callMtimeList.splice(0,1)}},clearCallDisturbReceiveMtime(e){e.callMtimeList=[]}},ec={namespaced:!0,state:Xl,mutations:Ql},ct=q("pubData");ct||(ct={});var tc=["pubToken","pubUser","pubAccount","pubPrivacy"],ic=function(e,t){if(tc.indexOf(e)==-1)return;let i=q("pubData");i=i||{},i[e]=t,Me("pubData",i),["pubUser","pubAccount"].indexOf(e)!=-1?uni.$emit("event_vuex_watch",e):uni.$emit(`event_vuex_watch_${e}`)},nc=(0,Kn.createStore)({state:{pubToken:ct.pubToken||"",pubUser:ct.pubUser||{nickname:"",uid:0,avatar:""},pubAccount:ct.pubAccount||{money:0},pubPrivacy:ct.pubPrivacy||{},pubUnread:0,pubUnreadMy:{fans:0,moment:0,moment_type:1},pubI18n:"",pubAI18n:""},mutations:{setPubValue(e,t){let i=t.name.split("."),n="",a=i.length;if(a>=2){let s=e[i[0]];for(let r=1;r<a-1;r++)s=s[i[r]];s[i[a-1]]=t.value,n=i[0]}else e[t.name]=t.value,n=t.name;ic(n,e[n])},initUnread(e,t){let i=parseInt(t);i<0&&(i=0),e.pubUnread=i,dt(Le.MSG,e.pubUnread),uni.$emit("event_vuex_watch_pub_unread",i)},setUnread(e,t){let i=parseInt(t);if(isNaN(i)||i==0)return;let n=e.pubUnread+i;n<0&&(n=0),e.pubUnread=n,dt(Le.MSG,e.pubUnread),uni.$emit("event_vuex_watch_pub_unread",n)},initUnreadMy(e,t){let i=e.pubUnreadMy;typeof t.fans!="undefined"&&(i.fans=Number(t.fans)),typeof t.moment!="undefined"&&(i.moment=Number(t.moment)),typeof t.moment_type!="undefined"&&(i.moment_type=Number(t.moment_type)),e.pubUnreadMy=i,Gt(),uni.$emit("event_vuex_watch_pubUnreadMy",i)},setUnreadMy(e,t){let i=e.pubUnreadMy;for(let n in t)i[n]=t[n];e.pubUnreadMy=i,Gt(),uni.$emit("event_vuex_watch_pubUnreadMy",i)}},modules:{appDialog:vl,message:ql,call:ec}}),rt={handleCache(){let e=rt.getCache();g(e)||(e=De(e),!rt.checkIsShow()&&(e.from_cache=1,I("appDialog/addDialogBan",e),I("appDialog/executeBanWarningDialog")))},checkIsShow(){return Ve()=="/pagesDialog/banned"},setCache(e){let t=JSON.stringify(e);Me(rt.getCacheKey(),t)},getCache(){return q(rt.getCacheKey())},getCacheKey(){return`banned_data_${nc.state.pubUser.uid}`},removeCache(){zt(rt.getCacheKey())}},H={setToken(e){g(e)||Ba("pubToken",e)},isLogin(){let e=getApp().globalData.s.state;return!g(e.pubToken)&&e.pubUser.uid},requestOutsourcing(e,t,i,n,a=!1){return H.requestBase(e,t,i,n,a,3)},requestManager(e,t,i,n,a=!1){return H.requestBase(e,t,i,n,a,2)},request(e,t,i,n,a=!1){return H.requestBase(e,t,i,n,a,1)},requestBase(e,t,i,n,a=!1,s){return new Promise((r,l)=>{let o=!1;try{o=getApp().globalData.s.state.pubToken}catch(D){J("error","at common/api.js:35","request token catch "+JSON.stringify(D))}let d={"content-type":"application/json",ua:getApp().globalData.ua},f;s==1?(f=getApp().globalData.apiHost,o&&(d.auth=`Bearer ${o}`)):s==2?(f=getApp().globalData.pApiHost,o&&(d.Authorization=`Bearer ${o}`)):s==3&&(f=getApp().globalData.oApiHost,o&&(d.Authorization=`Bearer ${o}`));let h=!1;if(i)if(i=="refresh")h=!0;else{let D={mask:!0};typeof i=="string"&&(D.title=i),uni.showLoading(D)}Pt.invoke(e,t);let A=uc(t);uni.request({url:f+e,method:"POST",header:d,data:A,dataType:"json",timeout:1e4,complete(D){if(i&&uni.hideLoading(),J("log","at common/api.js:74",`request ${e} obj ${JSON.stringify(t)}`),D.statusCode==200){let x=D.data;if(x.data&&typeof x.data.callback=="object"&&(H.handleCallback(x.data.callback),a))return $e;if(x.ok===99)return getApp().loginOut(),$e;if(x.ok==-98)return cc(x.data),n&&l(x),$e;if(g(x.msg)||ti(x.msg),x.ok>0){r(x);return}n&&l(x)}else if(h&&uni.stopPullDownRefresh(),n)l(D),Pt.error(e,t,D);else return Pt.error(e,t,D),$e},fail(D){Pt.fail(e,D)}})})},handleCallback(e){switch(e.func_name){case"alert":ac(e.func_data);break;case"open":sc(e.func_data);break;case"vip_alert":z("/pages/vip/vip-dialog",null,"vipDialogData",e.func_data);break;case"recharge_alert":let t={fromType:e.func_data.from_type,diffCoin:e.func_data.diff_coin||0};t.order_source=typeof e.func_data.order_source=="undefined"?0:e.func_data.order_source,t.click_type=typeof e.func_data.click_type=="undefined"?0:e.func_data.click_type,z("/pages/coin/coin-dialog",t,"coinDialogData",e.func_data);break;case"close":xo();break;case"banned_alert":let i=e.func_data.exp_time;if(parseInt(new Date().getTime()/1e3)>i||(I("appDialog/addDialogBan",e.func_data),rt.setCache(e.func_data),Ve()=="/pagesDialog/banned"))return;let a=setTimeout(()=>{clearTimeout(a),I("appDialog/executeBanWarningDialog")},e.delay*1e3);break;case"reconnect_mqtt":getApp().socketReconnect(It.API_CALL_BACK,e.func_data);break;case"reload_route":getApp().handleSecret(e.func_data,Al.CALLBACK,{});break;case"event":rc(e.func_data);break;case"api":oc(e.func_data);break;case"sensitive_alert":z("/pagesDialog/sensitive-check",null,"sensitiveData",e.func_data),uni.hideKeyboard();break;case"free_coins":z("/pagesDialog/coins-free",{coin:e.func_data.free_coins},"coinsFree",{},{});break}},accessLog(e,t){this.request("/other/access-log",{api_name:e,content:Mt(t)})},accessLogExtra(e,t,i){let n=`${Mt(t)} ${Mt(i)}`;this.request("/other/access-log",{api_name:e,content:n})},accessLogApi(e,t,i,n){let a=`url:${t} p:${JSON.stringify(i)} res ${Mt(n)}`;H.accessLog(e,a)}};function ac(e){let t=e.enter_func,i=e.cancel_title,n=e.enter_title,a=e.cancel_func,s=!g(i);uni.hideKeyboard(),uni.showModal({title:e.title,content:e.msg,showCancel:s,cancelText:s?i:u("cancel"),confirmText:n||u("ok"),complete(r){r.confirm?g(t)||H.handleCallback(t):r.cancel&&(g(a)||H.handleCallback(a))}})}function sc(e){let t=e.page_name,i=e.data;t=="inside_web"?Un(i.route,!0):t=="safari"?Un(i.route,!1):t=="web"?U(i.route):t=="native"?lc(i.route):t=="chat"&&(Zt().indexOf("/pages/call/chat-view")==-1?Bi(i.user_info):uni.$emit("event_no_connect_close_listener",{action:"chat_pri",user:i.user_info}))}function rc(e){let t=e.event_key;if(g(t))return;let i=e.data;g(i)?uni.$emit(t):uni.$emit(t,i)}function oc(e){if(e.type==1){let i={user_info:{is_rest:0}};H.request("/user/update-info",i,!0).then(()=>{getApp().pubUser.is_rest=0,ei(u("tips"),u("anchorTurnedOffRest"),"",u("gotIt"))})}}function lc(e){return new Function("return "+e)()}function cc(e){Zt().indexOf("/pagesDialog/stop_taking")==-1&&(getApp().globalData.appStopTaking=!0,getApp().socketDisconnect(),z("/pagesDialog/stop_taking",{},"stopTakingData",e))}function uc(e){try{g(e)&&(e={}),e.times=new Date().getTime();let t=Object.keys(e).sort(),i={};for(let a=0,s=t.length;a<s;a++)i[t[a]]=e[t[a]];let n=is(i).substr(1);return i.sign=xi.md5(`${xi.md5(n)}fMHjgD94yoc6TbB7sGoA`),i}catch(t){return e}}function is(e,t){if(e==null)return"";try{let i="",n=typeof e;if(n=="string"||n=="number")i+="&"+t+"="+ko(e);else if(n=="boolean")i+="&"+t+"="+(e?1:0);else for(let a in e){let s=t==null?a:t+dc(a);i+=is(e[a],s)}return i}catch(i){return""}}function dc(e){return`${encodeURIComponent("[")}${e}${encodeURIComponent("]")}`}var L=(e,t)=>{let i=e.__vccOpts||e;for(let[n,a]of t)i[n]=a;return i};var fc=["titleIcon","titleIconRadius","subtitleText","subtitleSize","subtitleColor","subtitleOverflow","titleAlign","backgroundImage","backgroundRepeat","blurEffect"],mc={props:{title:{type:String,default:""},titleIcon:{type:String,default:""},titleIconRadius:{type:String,default:""},subtitleText:{type:String,default:""},subtitleSize:{type:String,default:""},subtitleColor:{type:String,default:""},subtitleOverflow:{type:String,default:""},titleAlign:{type:String,default:""},backgroundImage:{type:String,default:""},backgroundRepeat:{type:String,default:""},blurEffect:{type:String,default:""},loading:{type:Boolean,default:!1},frontColor:{type:String,default:"#ffffff"},backgroundColor:{type:String,default:"#000000"},colorAnimationDuration:{type:Number,default:0},colorAnimationTimingFunc:{type:String,default:"linear"}},created(){let e=getCurrentPages(),t=e[e.length-1];this.__$page=t,this.$watch("title",()=>{this.setNavigationBarTitle()}),this.$watch("loading",()=>{this.setNavigationBarLoading()}),this.$watch(()=>[this.frontColor,this.backgroundColor,this.colorAnimationDuration,this.colorAnimationTimingFunc],()=>{this.setNavigationBarColor()}),this.__$webview=t.$getAppWebview(),fc.forEach(i=>{let n={};(this[i]||this[i].length>0)&&(n[i]=this[i]),this.setTitleNView(n),this.$watch(i,a=>{let s={};s[i]=a,this.setTitleNView(s)})})},beforeMount(){this.title&&this.setNavigationBarTitle(),this.setNavigationBarLoading(),this.setNavigationBarColor()},methods:{setNavigationBarTitle(){uni.setNavigationBarTitle({__page__:this.__$page,title:this.title})},setNavigationBarLoading(){uni[(this.loading?"show":"hide")+"NavigationBarLoading"]({__page__:this.__$page})},setNavigationBarColor(){uni.setNavigationBarColor({__page__:this.__$page,frontColor:this.frontColor,backgroundColor:this.backgroundColor,animation:{duration:this.colorAnimationDuration,timingFunc:this.colorAnimationTimingFunc}})},setTitleNView(e){let t=this.__$webview,i=t.getStyle();i&&i.titleNView&&t.setStyle({titleNView:e})}}};function pc(e,t,i,n,a,s){return(0,ie.openBlock)(),(0,ie.createElementBlock)("view",{style:{display:"none"},renderWhole:!0})}var gc=L(mc,[["render",pc]]),hc={name:"PageMeta",setup(e,{emit:t}){Jn(i=>{t("resize",i)})},props:{backgroundTextStyle:{type:String,default:"dark",validator(e){return["dark","light"].indexOf(e)!==-1}},backgroundColor:{type:String,default:"#ffffff"},backgroundColorTop:{type:String,default:"#ffffff"},backgroundColorBottom:{type:String,default:"#ffffff"},scrollTop:{type:String,default:""},scrollDuration:{type:Number,default:300},pageStyle:{type:String,default:""},enablePullDownRefresh:{type:[Boolean,String],default:!1},rootFontSize:{type:String,default:""}},created(){let e=getCurrentPages()[0];this.$pageVm=e.$vm||e,this._currentWebview=e.$getAppWebview(),this.enablePullDownRefresh&&this.setPullDownRefresh(this._currentWebview,!0),this.$watch("enablePullDownRefresh",t=>{this.setPullDownRefresh(this._currentWebview,t)}),this.$watch("backgroundTextStyle",()=>{this.setBackgroundTextStyle()}),this.$watch(()=>[this.rootFontSize,this.pageStyle],()=>{this.setPageMeta()}),this.$watch(()=>[this.backgroundColor,this.backgroundColorTop,this.backgroundColorBottom],()=>{this.setBackgroundColor()}),this.$watch(()=>[this.scrollTop,this.scrollDuration],()=>{this.pageScrollTo()})},beforeMount(){this.setBackgroundColor(),(this.rootFontSize||this.pageStyle)&&this.setPageMeta(),this.backgroundTextStyle&&this.setBackgroundTextStyle()},mounted(){this.scrollTop&&this.pageScrollTo()},methods:{setPullDownRefresh(e,t){e.setStyle({pullToRefresh:{support:t,style:plus.os.name==="Android"?"circle":"default"}})},setPageMeta(){uni.setPageMeta({pageStyle:this.pageStyle,rootFontSize:this.rootFontSize})},setBackgroundTextStyle(){},setBackgroundColor(){},pageScrollTo(){let e=String(this.scrollTop);e.indexOf("rpx")!==-1&&(e=uni.upx2px(e.replace("rpx",""))),e=parseFloat(e),!isNaN(e)&&uni.pageScrollTo({scrollTop:e,duration:this.scrollDuration,success:()=>{}})}}};function _c(e,t,i,n,a,s){return(0,ie.openBlock)(),(0,ie.createElementBlock)("view",{style:{display:"none"},renderWhole:!0},[(0,ie.renderSlot)(e.$slots,"default")])}var bc=L(hc,[["render",_c]]),yc={props:{useBg1_1:{type:Boolean,default:!1},otherStyle:{type:String,default:""},enableRefresh:{type:Boolean,default:!1},title:{type:String,default:""}},data(){return{themeObj:getApp().globalData.themeObj}},computed:{style(){let e=`background:${this.useBg1_1?this.themeObj.color.bg1_1:this.themeObj.color.bg1};`;return g(this.otherStyle)||(e=e+this.otherStyle),e},navBarFontColor(){return this.themeObj.style==ye.LIGHT?"#000000":"#FFFFFF"},navBarBgColor(){return this.themeObj.color.bg2}}};function Ac(e,t,i,n,a,s){let r=P((0,ie.resolveDynamicComponent)("navigation-bar"),gc),l=P((0,ie.resolveDynamicComponent)("page-meta"),bc);return(0,ie.openBlock)(),(0,ie.createBlock)(l,{"page-style":s.style,"enable-pull-down-refresh":i.enableRefresh},{default:(0,ie.withCtx)(()=>[(0,ie.createVNode)(r,{title:i.title,"background-color":s.navBarBgColor,"front-color":s.navBarFontColor},null,8,["title","background-color","front-color"])]),_:1},8,["page-style","enable-pull-down-refresh"])}var Ji=L(yc,[["render",Ac]]),ns={data(){return{themeObj:getApp().globalData.themeObj,webStyle:!1,currentWebview:!1,loadTitleViewCount:0}},computed:{pageBgColor(){return this.useBg1_1?this.themeObj.color.bg1_1:this.themeObj.color.bg1},pageBg(){return{background:this.pageBgColor}},navBarFontColor(){return this.themeObj.style==ye.LIGHT?"#000000":"#FFFFFF"}},methods:{initNavBarRBtn(e,t,i,n=""){this._setNavBar(e,t,i?this.themeObj.color.barBtn:this.themeObj.color.barBtnN,"14px",n)},initNavBarRBtnText(e,t,i="",n="14px"){let a=i||this.navBarFontColor;this._setNavBar(e,t,a,n)},initNavBarRBtnType(e,t,i){let n=i||(this.themeObj.style==ye.LIGHT?"#000000":"#FFFFFF");this._setNavBarType(e,t,n)},initNavBarRBtnTextIcon(e,t,i="22px"){let n=this.themeObj.style==ye.LIGHT?"#000000":"#FFFFFF";this._setNavBar(e,t,n,i)},initNavBarRImg(e,t){this._setNavBarImg(e,t)},initNavBarImgStyle(e,t){this._setNavBarImgStyle(e,t)},setNavBarRBtnStatus(e,t){this._setNavBarColor(e,t?this.themeObj.color.barBtn:this.themeObj.color.barBtnN)},setNavBarTitle(e){this._setNavBarTitle(e)},_setNavBarImgStyle(e,t){let i=this.webStyle.titleNView;if(i&&i.tags&&i.tags[t]){let n=i.tags[t].position,a=Object.assign(n,e);i.tags[t].position=a,this.currentWebview.setStyle({titleNView:i})}},_setNavBar(e,t,i,n,a){let s=this.webStyle.titleNView;a&&(s.titleText=a),s&&s.buttons&&s.buttons[t]&&(s.buttons[t].text=e,s.buttons[t].color=i,s.buttons[t].fontSize=n,this.currentWebview.setStyle({titleNView:s}))},_setNavBarType(e,t,i){let n=this.webStyle.titleNView;n&&n.buttons&&n.buttons[t]&&(n.buttons[t].type=e,n.buttons[t].color=i,this.currentWebview.setStyle({titleNView:n}))},_setNavBarImg(e,t){let i=this.webStyle.titleNView;i&&i.tags&&i.tags[t]&&(i.tags[t].src=e,this.currentWebview.setStyle({titleNView:i}))},_setNavBarColor(e,t){let i=this.webStyle.titleNView;i&&i.buttons&&i.buttons[e]&&(i.buttons[e].color=t,this.currentWebview.setStyle({titleNView:i}))},_setNavBarTitle(e=""){let t=this.webStyle.titleNView;t&&e&&(t.titleText=e,this.currentWebview.setStyle({titleNView:t}))},_setViewBg(e,t,i){try{if(this.webStyle=this.currentWebview.getStyle(),i&&typeof this.webStyle.titleNView=="undefined"&&this.loadTitleViewCount<10){this.loadTitleViewCount+=1,setTimeout(()=>{this._setViewBg(e,t)},100);return}this.webStyle.titleNView?(this.webStyle.titleNView.splitLine&&(this.webStyle.titleNView.splitLine.color=e),this.webStyle.titleNView.titleColor&&(this.webStyle.titleNView.titleColor=this.navBarFontColor),this.webStyle.titleNView.backgroundColor&&(this.webStyle.titleNView.backgroundColor=this.themeObj.color.bg2),this.currentWebview.setStyle({titleNView:this.webStyle.titleNView})):uni.setNavigationBarColor({frontColor:this.navBarFontColor}),this.webStyle.background=t,this.currentWebview.setStyle({background:t})}catch(n){J("error","at coms/theme.mixin.js:133","error theme.mixin.js catch ...",n)}}},onReady(){let e,t;this.themeObj.style==ye.LIGHT?e="rgba(230,230,230,0.5)":e=this.themeObj.color.bg2,t=this.useBg1_1?this.themeObj.color.bg1_1:this.themeObj.color.bg1;let i=getCurrentPages(),n=i[i.length-1];if(!n)return;this.currentWebview=n.$getAppWebview();let a,s=this.currentWebview.getNavigationbar();g(s)||Object.keys(s).length<=0?a=!0:a=!1,this._setViewBg(e,t,a)}};var c=j(Y());var G=j(Y()),wc={"l-img":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"place-img":{"":{position:"absolute",top:0,left:0}},"text-place":{"":{color:"#999999",position:"absolute",bottom:0,textAlign:"center"}}},Sc={name:"LImg",emits:["click","onError","onLoad"],props:{src:{type:String,default:""},mode:{type:String,default:"aspectFill"},w:{type:String,default:"0"},h:{type:String,default:"0"},radius:{type:String,default:"0"},lazyLoad:{type:Boolean,default:!1},fade:{type:Boolean,default:!0},placeType:{type:Number,default:0},placeW:{type:String,default:""},placeFontSize:{type:[String,Boolean],default:""},placeBottom:{type:String,default:""},border:{type:String,default:""},otherStyle:{type:Object,default(){return{}}},click:{type:Boolean,default:!0},isGif:{type:Boolean,default:!1},needStyle:{type:[String,Number],default:0},useCache:{type:Boolean,default:!1},fitWH:{type:String,default:""}},data(){return{errorCount:1,path:"",refresh:!0,darkDir:"",isLoad:!1,fitStr:""}},watch:{src(){this.isLoad=!1,this.path=this.parse()}},computed:{placeSrc(){return this.placeType==1?"/static/img_load_s.png":this.placeType==2?"/static/img_load_b.png":""},placeViewStyle(){let e={width:this.placeW,height:this.placeW,position:"relative"};return this.placeBottom&&(e.marginBottom=this.placeBottom),e},placeFontSizeVal(){return this.placeFontSize===!1?"":this.placeFontSize?this.placeFontSize:this.placeType==2?"24rpx":"16rpx"},borderStyle(){if(this.border=="")return{};let e={},t=this.border.split(" ");return e.borderWidth=t[0],e.borderStyle=t[1],e.borderColor=t[2],e},viewStyle(){let e={width:this.w,minWidth:this.w,height:this.h,minHeight:this.h};return this.setRadius(e)},imgStyle(){let e={width:this.w,height:this.h};return e=Object.assign(e,this.otherStyle),this.setRadius(e)},ossPathOriginal(){return this.isGif?getApp().globalData.ossPath:getApp().globalData.ossPicPath}},methods:{$str:u,clickImg(e){this.click&&this.$emit("click",e)},setRadius(e){let t=this.radius.split(" ");return t.length<=1?e.borderRadius=this.radius:(e.borderTopLeftRadius=t[0],e.borderTopRightRadius=t[1],e.borderBottomRightRadius=t[2],e.borderBottomLeftRadius=t[3]),e},onLoadError(){if(this.path){if(this.path.startsWith("http")){if(this.errorCount>2){this.isError=!0,this.$emit("onError");return}this.errorCount+=1,this.refresh=!1,setTimeout(()=>{this.refresh=!0},500);return}this.path=this.ossPathOriginal+this.darkDir+this.src,La(this.darkDir+this.src)}},onLoad(){this.isLoad=!0,this.$emit("onLoad")},parse(){let e;if(e=0,this.src.startsWith("/static"))return this.src;if(this.src.startsWith("s/")){let t=getApp().getAppFilePath(this.darkDir+this.src,e);if(!g(t))return t}return this.useCache||e&&m.isAndroid?this.isGif?Re(this.fitStr+this.darkDir+this.src):Na(this.fitStr+this.darkDir+this.src):this.src.startsWith("file://")?this.src:this.src.startsWith("/var/mobile/")?"file://"+this.src:this.src.startsWith("/storage/")?this.src:this.ossPathOriginal+this.fitStr+this.darkDir+this.src}},created(){this.needStyle==1&&getApp().globalData.themeObj.style==ye.DARK?this.darkDir="dark/":this.darkDir="",this.fitWH&&this.src.indexOf("fit-in")==-1&&(this.fitStr="fit-in/"+this.fitWH+"/"),this.path=this.parse()}};function Ec(e,t,i,n,a,s){return(0,G.openBlock)(),(0,G.createElementBlock)("view",{class:"l-img",onClick:t[2]||(t[2]=(...r)=>s.clickImg&&s.clickImg(...r)),style:(0,G.normalizeStyle)([s.viewStyle,s.borderStyle]),renderWhole:!0},[(0,G.createElementVNode)("view",{class:"l-img",style:(0,G.normalizeStyle)([{position:"relative"},s.viewStyle])},[i.placeType&&!a.isLoad?((0,G.openBlock)(),(0,G.createElementBlock)("view",{key:0,style:(0,G.normalizeStyle)(s.placeViewStyle)},[(0,G.createElementVNode)("u-image",{src:s.placeSrc,style:(0,G.normalizeStyle)({width:i.placeW,height:i.placeW})},null,12,["src"]),s.placeFontSizeVal?((0,G.openBlock)(),(0,G.createElementBlock)("u-text",{key:0,class:"text-place",style:(0,G.normalizeStyle)({fontSize:s.placeFontSizeVal,width:i.placeW})},(0,G.toDisplayString)(s.$str("loading"))+"...",5)):(0,G.createCommentVNode)("",!0)],4)):(0,G.createCommentVNode)("",!0),a.refresh?((0,G.openBlock)(),(0,G.createElementBlock)("u-image",{key:1,onError:t[0]||(t[0]=(...r)=>s.onLoadError&&s.onLoadError(...r)),onLoad:t[1]||(t[1]=(...r)=>s.onLoad&&s.onLoad(...r)),src:a.path,mode:i.mode,lazyLoad:i.lazyLoad,fadeShow:i.fade,style:(0,G.normalizeStyle)([s.imgStyle,s.borderStyle]),class:"place-img"},null,44,["src","mode","lazyLoad","fadeShow"])):(0,G.createCommentVNode)("",!0)],4)],4)}var X=L(Sc,[["render",Ec],["styles",[wc]]]);var M=j(Y()),Cc={},os={},as=Ue("bindingx"),Tc=Ue("dom"),Dc=Ue("animation");os={data(){return{}},watch:{show(e){this.autoClose||this.stop||(this.stop=!0,e?this.open(e):this.close())},leftOptions(){this.getSelectorQuery(),this.init()},rightOptions(e){this.init()}},created(){this.swipeaction=this.getSwipeAction(),this.swipeaction.children!==void 0&&this.swipeaction.children.push(this)},mounted(){this.box=this.getEl(this.$refs["selector-box--hock"]),this.selector=this.getEl(this.$refs["selector-content--hock"]),this.leftButton=this.getEl(this.$refs["selector-left-button--hock"]),this.rightButton=this.getEl(this.$refs["selector-right-button--hock"]),this.init()},methods:{init(){this.$nextTick(()=>{this.x=0,this.button={show:!1},setTimeout(()=>{this.getSelectorQuery()},200)})},onClick(e,t,i){this.$emit("click",{content:t,index:e,position:i})},touchstart(e){if(this.disabled||this.stop)return;this.stop=!0,this.autoClose&&this.swipeaction.closeOther(this);let t=this.button.left.width,i=this.button.right.width,n=this.range(this.x,-i,t),a=this.range(this.x-t,-t,0),s=this.range(this.x+i,0,i);this.eventpan=as.bind({anchor:this.box,eventType:"pan",props:[{element:this.selector,property:"transform.translateX",expression:n},{element:this.leftButton,property:"transform.translateX",expression:a},{element:this.rightButton,property:"transform.translateX",expression:s}]},r=>{r.state==="end"&&(this.x=r.deltaX+this.x,this.isclick=!0,this.bindTiming(r.deltaX))})},touchend(e){this.isopen!=="none"&&!this.isclick&&this.open("none")},bindTiming(e){let t=this.x,i=this.button.left.width,n=this.button.right.width,a=this.threshold;!this.isopen||this.isopen==="none"?t>a?this.open("left"):t<-a?this.open("right"):this.open("none"):e>-i&&e<0||e>n?e>-a&&e<0||e-n>a?this.open("left"):this.open("none"):e<a&&e>0||e+i<-a?this.open("right"):this.open("none")},range(e,t,i){return`min(max(x+${e}, ${t}), ${i})`},open(e){this.animation(e)},close(){this.animation("none")},animation(e){let t=this.button.left.width,i=this.button.right.width;switch(this.eventpan&&this.eventpan.token&&as.unbind({token:this.eventpan.token,eventType:"pan"}),e){case"left":Promise.all([this.move(this.selector,t),this.move(this.leftButton,0),this.move(this.rightButton,i*2)]).then(()=>{this.setEmit(t,e)});break;case"right":Promise.all([this.move(this.selector,-i),this.move(this.leftButton,-t*2),this.move(this.rightButton,0)]).then(()=>{this.setEmit(-i,e)});break;default:Promise.all([this.move(this.selector,0),this.move(this.leftButton,-t),this.move(this.rightButton,i)]).then(()=>{this.setEmit(0,e)})}},setEmit(e,t){let i=this.button.left.width,n=this.button.right.width;this.isopen=this.isopen||"none",this.stop=!1,this.isclick=!1,this.isopen!==t&&this.x!==e&&(t==="left"&&i>0&&this.$emit("change","left"),t==="right"&&n>0&&this.$emit("change","right"),t==="none"&&this.$emit("change","none")),this.x=e,this.isopen=t},move(e,t){return new Promise((i,n)=>{Dc.transition(e,{styles:{transform:`translateX(${t})`},duration:150,timingFunction:"linear",needLayout:!1,delay:0},function(a){i(a)})})},getEl(e){return e.ref},getSelectorQuery(){Promise.all([this.getDom("left"),this.getDom("right")]).then(e=>{let t="none";this.autoClose?t="none":t=this.show,t==="none"||this.open(t)})},getDom(e){return new Promise((t,i)=>{Tc.getComponentRect(this.$refs[`selector-${e}-button--hock`],n=>{n?(this.button[e]=n.size,t(n)):i()})})}}};var kc=os,xc={},Ic={"uni-swipe":{"":{position:"relative"}},"uni-swipe_box":{"":{position:"relative"}},"uni-swipe_text--center":{"":{width:100}},"uni-swipe_button-group":{"":{flexDirection:"row",position:"absolute",top:0,bottom:0}},"button-group--left":{"":{left:0,transform:"translateX(-100%)"}},"button-group--right":{"":{right:0,transform:"translateX(100%)"}},"uni-swipe_button":{"":{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",paddingTop:0,paddingRight:20,paddingBottom:0,paddingLeft:20}},"uni-swipe_button-text":{"":{fontSize:14}},ani:{"":{transitionProperty:"transform",transitionDuration:300,transitionTimingFunction:"cubic-bezier(0.165,0.84,0.44,1)"}},"@TRANSITION":{ani:{property:"transform",duration:300,timingFunction:"cubic-bezier(0.165,0.84,0.44,1)"}}},ss={},rs={},qi={mixins:[Cc,kc,xc],emits:["click","change"],props:{show:{type:String,default:"none"},disabled:{type:Boolean,default:!1},autoClose:{type:Boolean,default:!0},threshold:{type:Number,default:20},leftOptions:{type:Array,default(){return[]}},rightOptions:{type:Array,default(){return[]}}},unmounted(){this.__isUnmounted=!0,this.uninstall()},methods:{uninstall(){this.swipeaction&&this.swipeaction.children.forEach((e,t)=>{e===this&&this.swipeaction.children.splice(t,1)})},getSwipeAction(e="uniSwipeAction"){let t=this.$parent,i=t.$options.name;for(;i!==e;){if(t=t.$parent,!t)return!1;i=t.$options.name}return t}}};function vc(e,t,i,n,a,s){return(0,M.openBlock)(),(0,M.createElementBlock)("view",{ref:"selector-box--hock",class:"uni-swipe",onHorizontalpan:t[0]||(t[0]=(...r)=>e.touchstart&&e.touchstart(...r)),onTouchend:t[1]||(t[1]=(...r)=>e.touchend&&e.touchend(...r)),renderWhole:!0},[(0,M.createElementVNode)("view",{ref:"selector-left-button--hock",class:"uni-swipe_button-group button-group--left"},[(0,M.renderSlot)(e.$slots,"left",{},()=>[((0,M.openBlock)(!0),(0,M.createElementBlock)(M.Fragment,null,(0,M.renderList)(i.leftOptions,(r,l)=>((0,M.openBlock)(),(0,M.createElementBlock)("view",{key:l,style:(0,M.normalizeStyle)({backgroundColor:r.style&&r.style.backgroundColor?r.style.backgroundColor:"#C7C6CD"}),class:"uni-swipe_button button-hock",onClick:(0,M.withModifiers)(o=>e.onClick(l,r,"left"),["stop"])},[(0,M.createElementVNode)("u-text",{class:"uni-swipe_button-text",style:(0,M.normalizeStyle)({color:r.style&&r.style.color?r.style.color:"#FFFFFF",fontSize:r.style&&r.style.fontSize?r.style.fontSize:"16px"})},(0,M.toDisplayString)(r.text),5)],12,["onClick"]))),128))])],512),(0,M.createElementVNode)("view",{ref:"selector-right-button--hock",class:"uni-swipe_button-group button-group--right"},[(0,M.renderSlot)(e.$slots,"right",{},()=>[((0,M.openBlock)(!0),(0,M.createElementBlock)(M.Fragment,null,(0,M.renderList)(i.rightOptions,(r,l)=>((0,M.openBlock)(),(0,M.createElementBlock)("view",{key:l,style:(0,M.normalizeStyle)({backgroundColor:r.style&&r.style.backgroundColor?r.style.backgroundColor:"#C7C6CD"}),class:"uni-swipe_button button-hock",onClick:(0,M.withModifiers)(o=>e.onClick(l,r,"right"),["stop"])},[(0,M.createElementVNode)("u-text",{class:"uni-swipe_button-text",style:(0,M.normalizeStyle)({color:r.style&&r.style.color?r.style.color:"#FFFFFF",fontSize:r.style&&r.style.fontSize?r.style.fontSize:"16px"})},(0,M.toDisplayString)(r.text),5)],12,["onClick"]))),128))])],512),(0,M.createElementVNode)("view",{ref:"selector-content--hock",class:"uni-swipe_box"},[(0,M.renderSlot)(e.$slots,"default")],512)],544)}typeof ss=="function"&&ss(qi);typeof rs=="function"&&rs(qi);var Xi=L(qi,[["render",vc],["styles",[Ic]]]),Nc={name:"uniSwipeAction",data(){return{}},created(){this.children=[]},methods:{resize(){this.children.forEach(e=>{e.init()})},closeAll(){this.children.forEach(e=>{e.close()})},closeOther(e){this.openItem&&this.openItem!==e&&this.openItem.close(),this.openItem=e}}};function Lc(e,t,i,n,a,s){return(0,M.openBlock)(),(0,M.createElementBlock)("view",{renderWhole:!0},[(0,M.renderSlot)(e.$slots,"default")])}var Zi=L(Nc,[["render",Lc]]);var me=j(Y());var Rc=e=>e!==null&&typeof e=="object",Oc=["{","}"],tn=class{constructor(){this._caches=Object.create(null)}interpolate(t,i,n=Oc){if(!i)return[t];let a=this._caches[t];return a||(a=Pc(t,n),this._caches[t]=a),$c(a,i)}},Mc=/^(?:\d)+/,Fc=/^(?:\w)+/;function Pc(e,[t,i]){let n=[],a=0,s="";for(;a<e.length;){let r=e[a++];if(r===t){s&&n.push({type:"text",value:s}),s="";let l="";for(r=e[a++];r!==void 0&&r!==i;)l+=r,r=e[a++];let o=r===i,d=Mc.test(l)?"list":o&&Fc.test(l)?"named":"unknown";n.push({value:l,type:d})}else s+=r}return s&&n.push({type:"text",value:s}),n}function $c(e,t){let i=[],n=0,a=Array.isArray(t)?"list":Rc(t)?"named":"unknown";if(a==="unknown")return i;for(;n<e.length;){let s=e[n];switch(s.type){case"text":i.push(s.value);break;case"list":i.push(t[parseInt(s.value,10)]);break;case"named":a==="named"&&i.push(t[s.value]);break}n++}return i}var Qi="zh-Hans",ls="zh-Hant",ft="en",Bc="fr",Uc="es",Hc=Object.prototype.hasOwnProperty,cs=(e,t)=>Hc.call(e,t),Wc=new tn;function Gc(e,t){return!!t.find(i=>e.indexOf(i)!==-1)}function jc(e,t){return t.find(i=>e.indexOf(i)===0)}function us(e,t){if(!e)return;if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if(e=e.toLowerCase(),e==="chinese")return Qi;if(e.indexOf("zh")===0)return e.indexOf("-hans")>-1?Qi:e.indexOf("-hant")>-1||Gc(e,["-tw","-hk","-mo","-cht"])?ls:Qi;let i=[ft,Bc,Uc];t&&Object.keys(t).length>0&&(i=Object.keys(t));let n=jc(e,i);if(n)return n}var nn=class{constructor({locale:t,fallbackLocale:i,messages:n,watcher:a,formater:s}){this.locale=ft,this.fallbackLocale=ft,this.message={},this.messages={},this.watchers=[],i&&(this.fallbackLocale=i),this.formater=s||Wc,this.messages=n||{},this.setLocale(t||ft),a&&this.watchLocale(a)}setLocale(t){let i=this.locale;this.locale=us(t,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],i!==this.locale&&this.watchers.forEach(n=>{n(this.locale,i)})}getLocale(){return this.locale}watchLocale(t){let i=this.watchers.push(t)-1;return()=>{this.watchers.splice(i,1)}}add(t,i,n=!0){let a=this.messages[t];a?n?Object.assign(a,i):Object.keys(i).forEach(s=>{cs(a,s)||(a[s]=i[s])}):this.messages[t]=i}f(t,i,n){return this.formater.interpolate(t,i,n).join("")}t(t,i,n){let a=this.message;return typeof i=="string"?(i=us(i,this.messages),i&&(a=this.messages[i])):n=i,cs(a,t)?this.formater.interpolate(a[t],n).join(""):(console.warn(`Cannot translate the value of keypath ${t}. Use the value of keypath as default.`),t)}};function Vc(e,t){e.$watchLocale?e.$watchLocale(i=>{t.setLocale(i)}):e.$watch(()=>e.$locale,i=>{t.setLocale(i)})}function Yc(){return typeof uni!="undefined"&&uni.getLocale?uni.getLocale():typeof global!="undefined"&&global.getLocale?global.getLocale():ft}function zc(e,t={},i,n){typeof e!="string"&&([e,t]=[t,e]),typeof e!="string"&&(e=Yc()),typeof i!="string"&&(i=typeof __uniConfig!="undefined"&&__uniConfig.fallbackLocale||ft);let a=new nn({locale:e,fallbackLocale:i,messages:t,watcher:n}),s=(r,l)=>{if(typeof getApp!="function")s=function(o,d){return a.t(o,d)};else{let o=!1;s=function(d,f){let h=getApp().$vm;return h&&(h.$locale,o||(o=!0,Vc(h,a))),a.t(d,f)}}return s(r,l)};return{i18n:a,f(r,l,o){return a.f(r,l,o)},t(r,l){return s(r,l)},add(r,l,o=!0){return a.add(r,l,o)},watch(r){return a.watchLocale(r)},getLocale(){return a.getLocale()},setLocale(r){return a.setLocale(r)}}}var Kc={"uni-load-more.contentdown":"Pull up to show more","uni-load-more.contentrefresh":"loading...","uni-load-more.contentnomore":"No more data"},Jc={"uni-load-more.contentdown":"Pull up to show more","uni-load-more.contentrefresh":"Loading...","uni-load-more.contentnomore":"No more data"},qc={"uni-load-more.contentdown":"\u4E0A\u62C9\u986F\u793A\u66F4\u591A","uni-load-more.contentrefresh":"\u6B63\u5728\u52A0\u8F09...","uni-load-more.contentnomore":"\u6C92\u6709\u66F4\u591A\u6578\u64DA\u4E86"},Xc={"uni-load-more.contentdown":"Tire hacia arriba para mostrar m\xE1s","uni-load-more.contentrefresh":"cargando...","uni-load-more.contentnomore":"No m\xE1s datos"},Zc={"uni-load-more.contentdown":"\u0627\u0633\u062D\u0628 \u0644\u0623\u0639\u0644\u0649 \u0644\u0625\u0638\u0647\u0627\u0631 \u0627\u0644\u0645\u0632\u064A\u062F","uni-load-more.contentrefresh":"\u062C\u0627\u0631 \u0627\u0644\u062A\u062D\u0645\u064A\u0644...","uni-load-more.contentnomore":"\u0644\u0627 \u0645\u0632\u064A\u062F \u0645\u0646 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"},Qc={"uni-load-more.contentdown":"K\xE9o l\xEAn \u0111\u1EC3 hi\u1EC3n th\u1ECB th\xEAm","uni-load-more.contentrefresh":"\u0111ang t\u1EA3i...","uni-load-more.contentnomore":"Kh\xF4ng c\xF2n d\u1EEF li\u1EC7u"},eu={en:Kc,"zh-Hans":Jc,"zh-Hant":qc,es:Xc,ar:Zc,vi:Qc},tu={"uni-load-more":{"":{flexDirection:"row",height:40,alignItems:"center",justifyContent:"center"}},"uni-load-more__text":{"":{fontSize:14,marginLeft:8}},"uni-load-more__img":{"":{width:24,height:24}},"uni-load-more__img--nvue":{"":{color:"#666666"}},"uni-load-more__img--android":{"":{width:24,height:24,transform:"rotate(0deg)"}},"uni-load-more__img--ios":{"":{width:24,height:24,transform:"rotate(0deg)"}}},ds;setTimeout(()=>{ds=uni.getSystemInfoSync().platform},16);var{t:en}=zc(eu),iu={name:"UniLoadMore",emits:["clickLoadMore"],props:{status:{type:String,default:"more"},showIcon:{type:Boolean,default:!0},iconType:{type:String,default:"auto"},iconSize:{type:Number,default:24},color:{type:String,default:"#777777"},contentText:{type:Object,default(){return{contentdown:"",contentrefresh:"",contentnomore:""}}},showText:{type:Boolean,default:!1}},data(){return{webviewHide:!1,platform:ds,imgBase64:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzlBMzU3OTlEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzlBMzU3OUFEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDOUEzNTc5N0Q5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDOUEzNTc5OEQ5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pt+ALSwAAA6CSURBVHja1FsLkFZVHb98LM+F5bHL8khA1iSeiyQBCRM+YGqKUnnJTDLGI0BGZlKDIU2MMglUiDApEZvSsZnQtBRJtKwQNKQMFYeRDR10WOLd8ljYXdh+v8v5fR3Od+797t1dnOnO/Ofce77z+J//+b/P+ZqtXbs2sJ9MJhNUV1cHJ06cCJo3bx7EPc2aNcvpy7pWrVoF+/fvDyoqKoI2bdoE9fX1F7TjN8a+EXBn/fkfvw942Tf+wYMHg9mzZwfjxo0LDhw4EPa1x2MbFw/fOGfPng1qa2tzcCkILsLDydq2bRsunpOTMM7TD/W/tZDZhPdeKD+yGxHhdu3aBV27dg3OnDlzMVANMheLAO3btw8KCwuDmpoaX5OxbgUIMEq7K8IcPnw4KCsrC/r37x8cP378/4cAXAB3vqSkJMuiDhTkw+XcuXNhOWbMmKBly5YhUT8xArhyFvP0BfwRsAuwxJZJsm/nzp2DTp06he/OU+cZ64K6o0ePBkOHDg2GDx8e6gEbJ5Q/NHNuAJQ1hgBeHUDlR7nVTkY8rQAvAi4z34vR/mPs1FoRsaCgIJThI0eOBC1atEiFGGV+5MiRoS45efJkqFjJFXV1dQuA012m2WcwTw98fy6CqBdsaiIO4CScrGPHjvk4odhavPquRtFWXEC25VgkREKOCh/qDSq+vn37htzD/mZTOmOc5U7zKzBPEedygWshcDyWvs30igAbU+6oyMgJBCFhwQE0fccxN60Ay9iebbjoDh06hMowjQxT4fXq1SskArmHZpkArvixp/kWzHdMeArExSJEaiXIjjRjRJ4DaAGWpibLzXN3Fm1vA5teBgh3j1Rv3bp1YgKwPdmf2p9zcyNYYgPKMfY0T5f5nNYdw158nJ8QawW4CLKwiOBSEgO/hok2eBydR+3dYH+PLxA5J8Vv0KBBwenTp0P2JWAx6+yFEBfs8lMY+y0SWMBNI9E4ThKi58VKTg3FQZS1RQF1cz27eC0QHMu+3E0SkUowjhVt5VdaWhp07949ZHv2Qd1EjDXM2cla1M0nl3GxAs3J9yREzyTdFVKVFOaE9qRA8GM0WebRuo9JGZKA7Mv2SeS/Z8+eoQ9BArMfFrLGo6jvxbhHbJZnKX2Rzz1O7QhJJ9Cs2ZMaWIyq/zhdeqPNfIoHd58clIQD+JSXl4dKlyIAuBdVXZwFVWKspSSoxE++h8x4k3uCnEhE4I5KwRiFWGOU0QWKiCYLbdoRMRKAu2kQ9vkfLU6dOhX06NEjlH+yMRZSinnuyWnYosVcji8CEA/6Cg2JF+IIUBqnGKUTCNwtwBN4f89RiK1R96DEgO2o0NDmtEdvVFdVVYV+P3UAPUEs6GFwV3PHmXkD4vh74iDFJysVI/MlaQhwKeBNTLYX5VuA8T4/gZxA4MRGFxDB6R7OmYPfyykGRJbyie+XnGYnQIC/coH9+vULiYrxrkL9ZA9+0ykaHIfEpM7ge8TiJ2CsHYwyMfafAF1yCGBHYIbCVDjDjKt7BeB51D+LgQa6OkG7IDYEEtvQ7lnXLKLtLdLuJBpE4gPUXcW2+PkZwOex+4cGDhwYDBkyRL7/HFcEwUGPo/8uWRUpYnfxGHco8HkewLHLyYmAawAPuIFZxhOpDfJQ8gbUv41yORAptMWBNr6oqMhWird5+u+iHmBb2nhjDV7HWBNQTgK8y11l5NetWzc5ULscAtSj7nbNI0skhWeUZCc0W4nyH/jO4Vz0u1IeYhbk4AiwM6tjxIWByHsoZ9qcIBPJd/y+DwPfBESOmCa/QF3WiZHucLlEDpNxcNhmheEOPgdQNx6/VZFQzFZ5TN08AHXQt2Ii3EdyFuUsPtTcGPhW5iMiCNELvz+Gdn9huG4HUJaW/w3g0wxV0XaG7arG2WeKiUWYM4Y7GO5ezshTARbbWGw/DvXkpp/ivVvE0JVoMxN4rpGzJMhE5Pl+xlATsDIqikP9F9D2z3h9nOksEUFhK+qO4rcPkoalMQ/HqJLIyb3F3JdjrCcw1yZ8joyJLR5gCo54etlag7qIoeNh1N1BRYj3DTFJ0elotxPlVzkGuYAmL0VSJVGAJA41c4Z6A3BzTLfn0HYwYKEI6CUAMzZEWvLsIcQOo1AmmyyM72nHJCfYsogflGV6jEk9vyQZXSuq6w4c16NsGcGZbwOPr+H1RkOk2LEzjNepxQkihHSCQ4ynAYNRx2zMKV92CQMWqj8J0BRE8EShxRFN6YrfCRhC0x3r/Zm4IbQCcmJoV0kMamllccR6FjHqUC5F2R/wS2dcymOlfAKOS4KmzQb5cpNC2MC7JhVn5wjXoJ44rYhLh8n0eXOCorJxa7POjbSlCGVczr34/RsAmrcvo9s+wGp3tzVhntxiXiJ4nvEYb4FJkf0O8HocAePmLvCxnL0AORraVekJk6TYjDabRVXfRE2lCN1h6ZQRN1+InUbsCpKwoBZHh0dODN9JBCUffItXxEavTQkUtnfTVAplCWL3JISz29h4NjotnuSsQKJCk8dF+kJR6RARjrqFVmfPnj3ZbK8cIJ0msd6jgHPGtfVTQ8VLmlvh4mct9sobRmPic0DyDQQnx/NlfYUgyz59+oScsH379pAwXABD32nTpoUHIToESeI5mnbE/UqDdyLcafEBf2MCqgC7NwxIbMREJQ0g4D4sfJwnD+AmRrII05cfMWJE+L1169bQr+fip06dGp4oJ83lmYd5wj/EmMa4TaHivo4EeCguYZBnkB5g2aWA69OIEnUHOaGysjIYMGBAMGnSpODYsWPZwCpFmm4lNq+4gSLQA7jcX8DwtjEyRC8wjabnXEx9kfWnTJkSJkAo90xpJVV+FmcVNeYAF5zWngS4C4O91MBxmAv8blLEpbjI5sz9MTdAhcgkCT1RO8mZkAjfiYpTEvStAS53Uw1vAiUGgZ3GpuQEYvoiBqlIan7kSDHnTwJQFNiPu0+5VxCVYhcZIjNrdXUDdp+Eq5AZ3Gkg8QAyVZRZIk4Tl4QAbF9cXJxNYZMAtAokgs4BrNxEpCtteXg7DDTMDKYNSuQdKsnJBek7HxewvxaosWxLYXtw+cJp18217wql4aKCfBNoEu0O5VU+PhctJ0YeXD4C6JQpyrlpSLTojpGGGN5YwNziChdIZLk4lvLcFJ9jMX3QdiImY9bmGQU+TRUL5CHITTRlgF8D9ouD1MfmLoEPl5xokIumZ2cfgMpHt47IW9N64Hsh7wQYYjyIugWuF5fCqYncXRd5vPMWyizzvhi/32+nvG0dZc9vR6fZOu0md5e+uC408FvKSIOZwXlGvxPv95izA2Vtvg1xKFWARI+vMX66HUhpQQb643uW1bSjuTWyw2SBvDrBvjFic1eGGlz5esq3ko9uSIlBRqPuFcCv8F4WIcN12nVaBd0SaYwI6PDDImR11JkqgHcPmQssjxIn6bUshygDFJUTxPMpHk+jfjPgupgdnYV2R/g7xSjtpah8RJBewhwf0gGK6XI92u4wXFEU40afJ4DN4h5LcAd+40HI3JgJecuT0c062W0i2hQJUTcxan3/CMW1PF2K6bbA+Daz4xRs1D3Br1Cm0OihKCqizW78/nXAF/G5TXrEcVzaNMH6CyMswqsAHqDyDLEyou8lwOXnKF8DjI6KjV3KzMBiXkDH8ij/H214J5A596ekrZ3F0zXlWeL7+P5eUrNo3/QwC15uxthuzidy7DzKRwEDaAViiDgKbTbz7CJnzo0bN7pIfIiid8SuPwn25o3QCmpnyjlZkyxPP8EomCJzrGb7GJMx7tNsq4MT2xMUYaiErZOluTzKsnz3gwCeCZyVRZJfYplNEokEjwrPtxlxjeYAk+F1F74VAzPxQRNYYdtpOUvWs8J1sGhBJMNsb7igN8plJs1eSmLIhLKE4rvaCX27gOhLpLOsIzJ7qn/i+wZzcvSOZ23/du8TZjwV8zHIXoP4R3ifBxiFz1dcVpa3aPntPE+c6TmIWE9EtcMmAcPdWAhYhAXxcLOQi9L1WhD1Sc8p1d2oL7XGiRKp8F4A2i8K/nfI+y/gsTDJ/YC/8+AD5Uh04KHiGl+cIFPnBDDrPMjwRGkLXyxO4VGbfQWnDH2v0bVWE3C9QOXlepbgjEfIJQI6XDG3z5ahD9cw2pS78ipB85wyScNTvsVzlzzhL8/jRrnmVjfFJK/m3m4nj9vbgQTguT8XZTjsm672R5uJKEaQmBI/c58gyus8ZDagLpEVSJBIyHp4jn++xqPV71OgQgJYEWOtZ/haxRtKmWOBu8xdBLftWltsY84zE6WIEy/eIOWL+BaayMx+KHtL7EAkqdNDLiEXmEMUHniedtJqg9HmZtfvt26vNi0BdG3Ft3g8ZOf7PAu59TxtzivLNIekyi+wD1i8CuUiD9FXAa8C+/xS3JPmZnomyc7H+fb4/Se0bk41Fel621r4cgVxbq91V4jVqwB7HTe2M7jgB+QWHavZkDRPmZcASoZEmBx6i75bGjPcMdL4/VKGFAGWZkGzPG0XAbdL9A81G5LOmUnC9hHKJeO7dcUMjblSl12867ElFTtaGl20xvvLGPdVz/8TVuU7y0x1PG7vtNg24oz9Uo/Z412++VFWI7Fcog9tu9Lm6gvRmIPv9x1xmQAu6RDkXtbOtlGEmpgD5Nvnyc0dcv0EE6cfdi1HmhMf9wDF3k3gtRvEedhxjpgfqPb9PU9iEJHnyOUA7bQUXh6kq/D7l2iTjWv7XOD530BDr8jIrus+srXjt4MzumJMHuTsBa63YKE1+RR5lBjEikCCnWKWiHdzOgKO+nRIBAF88za/IFmJ3eMZov4CYxGBabcpGL8EYx+SeMXJeRwHNsV/h+vdxeuhEpN3ZyNY78Gm2fknJxVGhyjixPiQvVkNzT1elD9Py/aTAL64Hb9vcYmC9zfdXdT/C1LeGbg4rnBaAihDFJH12W5ulfNCNe/xTsP3bp8ikzJs5BF+5PNfAQYAPaseTdsEcaYAAAAASUVORK5CYII="}},computed:{iconSnowWidth(){return(Math.floor(this.iconSize/24)||1)*2},contentdownText(){return this.contentText.contentdown||en("uni-load-more.contentdown")},contentrefreshText(){return this.contentText.contentrefresh||en("uni-load-more.contentrefresh")},contentnomoreText(){return this.contentText.contentnomore||en("uni-load-more.contentnomore")}},mounted(){var e=getCurrentPages(),t=e[e.length-1],i=t.$getAppWebview();i.addEventListener("hide",()=>{this.webviewHide=!0}),i.addEventListener("show",()=>{this.webviewHide=!1})},methods:{onClick(){this.$emit("clickLoadMore",{detail:{status:this.status}})}}};function nu(e,t,i,n,a,s){return(0,me.openBlock)(),(0,me.createElementBlock)("view",{class:"uni-load-more",onClick:t[0]||(t[0]=(...r)=>s.onClick&&s.onClick(...r)),renderWhole:!0},[!a.webviewHide&&i.status==="loading"&&i.showIcon?((0,me.openBlock)(),(0,me.createElementBlock)("loading-indicator",{key:0,style:(0,me.normalizeStyle)({color:i.color,width:i.iconSize+"px",height:i.iconSize+"px"}),animating:!0,class:"uni-load-more__img uni-load-more__img--nvue"},null,4)):(0,me.createCommentVNode)("",!0),i.showText?((0,me.openBlock)(),(0,me.createElementBlock)("u-text",{key:1,class:"uni-load-more__text",style:(0,me.normalizeStyle)({color:i.color})},(0,me.toDisplayString)(i.status==="more"?s.contentdownText:i.status==="loading"?s.contentrefreshText:s.contentnomoreText),5)):(0,me.createCommentVNode)("",!0)])}var fs=L(iu,[["render",nu],["styles",[tu]]]);var E=j(Y());var ze=j(Y());var au={id:"2852637",name:"uniui\u56FE\u6807\u5E93",font_family:"uniicons",css_prefix_text:"uniui-",description:"",glyphs:[{icon_id:"25027049",name:"yanse",font_class:"color",unicode:"e6cf",unicode_decimal:59087},{icon_id:"25027048",name:"wallet",font_class:"wallet",unicode:"e6b1",unicode_decimal:59057},{icon_id:"25015720",name:"settings-filled",font_class:"settings-filled",unicode:"e6ce",unicode_decimal:59086},{icon_id:"25015434",name:"shimingrenzheng-filled",font_class:"auth-filled",unicode:"e6cc",unicode_decimal:59084},{icon_id:"24934246",name:"shop-filled",font_class:"shop-filled",unicode:"e6cd",unicode_decimal:59085},{icon_id:"24934159",name:"staff-filled-01",font_class:"staff-filled",unicode:"e6cb",unicode_decimal:59083},{icon_id:"24932461",name:"VIP-filled",font_class:"vip-filled",unicode:"e6c6",unicode_decimal:59078},{icon_id:"24932462",name:"plus_circle_fill",font_class:"plus-filled",unicode:"e6c7",unicode_decimal:59079},{icon_id:"24932463",name:"folder_add-filled",font_class:"folder-add-filled",unicode:"e6c8",unicode_decimal:59080},{icon_id:"24932464",name:"yanse-filled",font_class:"color-filled",unicode:"e6c9",unicode_decimal:59081},{icon_id:"24932465",name:"tune-filled",font_class:"tune-filled",unicode:"e6ca",unicode_decimal:59082},{icon_id:"24932455",name:"a-rilidaka-filled",font_class:"calendar-filled",unicode:"e6c0",unicode_decimal:59072},{icon_id:"24932456",name:"notification-filled",font_class:"notification-filled",unicode:"e6c1",unicode_decimal:59073},{icon_id:"24932457",name:"wallet-filled",font_class:"wallet-filled",unicode:"e6c2",unicode_decimal:59074},{icon_id:"24932458",name:"paihangbang-filled",font_class:"medal-filled",unicode:"e6c3",unicode_decimal:59075},{icon_id:"24932459",name:"gift-filled",font_class:"gift-filled",unicode:"e6c4",unicode_decimal:59076},{icon_id:"24932460",name:"fire-filled",font_class:"fire-filled",unicode:"e6c5",unicode_decimal:59077},{icon_id:"24928001",name:"refreshempty",font_class:"refreshempty",unicode:"e6bf",unicode_decimal:59071},{icon_id:"24926853",name:"location-ellipse",font_class:"location-filled",unicode:"e6af",unicode_decimal:59055},{icon_id:"24926735",name:"person-filled",font_class:"person-filled",unicode:"e69d",unicode_decimal:59037},{icon_id:"24926703",name:"personadd-filled",font_class:"personadd-filled",unicode:"e698",unicode_decimal:59032},{icon_id:"24923351",name:"back",font_class:"back",unicode:"e6b9",unicode_decimal:59065},{icon_id:"24923352",name:"forward",font_class:"forward",unicode:"e6ba",unicode_decimal:59066},{icon_id:"24923353",name:"arrowthinright",font_class:"arrow-right",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923353",name:"arrowthinright",font_class:"arrowthinright",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrow-left",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrowthinleft",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923355",name:"arrowthinup",font_class:"arrow-up",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923355",name:"arrowthinup",font_class:"arrowthinup",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923356",name:"arrowthindown",font_class:"arrow-down",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923356",name:"arrowthindown",font_class:"arrowthindown",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923349",name:"arrowdown",font_class:"bottom",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923349",name:"arrowdown",font_class:"arrowdown",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923346",name:"arrowright",font_class:"right",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923346",name:"arrowright",font_class:"arrowright",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923347",name:"arrowup",font_class:"top",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923347",name:"arrowup",font_class:"arrowup",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923348",name:"arrowleft",font_class:"left",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923348",name:"arrowleft",font_class:"arrowleft",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923334",name:"eye",font_class:"eye",unicode:"e651",unicode_decimal:58961},{icon_id:"24923335",name:"eye-filled",font_class:"eye-filled",unicode:"e66a",unicode_decimal:58986},{icon_id:"24923336",name:"eye-slash",font_class:"eye-slash",unicode:"e6b3",unicode_decimal:59059},{icon_id:"24923337",name:"eye-slash-filled",font_class:"eye-slash-filled",unicode:"e6b4",unicode_decimal:59060},{icon_id:"24923305",name:"info-filled",font_class:"info-filled",unicode:"e649",unicode_decimal:58953},{icon_id:"24923299",name:"reload-01",font_class:"reload",unicode:"e6b2",unicode_decimal:59058},{icon_id:"24923195",name:"mic_slash_fill",font_class:"micoff-filled",unicode:"e6b0",unicode_decimal:59056},{icon_id:"24923165",name:"map-pin-ellipse",font_class:"map-pin-ellipse",unicode:"e6ac",unicode_decimal:59052},{icon_id:"24923166",name:"map-pin",font_class:"map-pin",unicode:"e6ad",unicode_decimal:59053},{icon_id:"24923167",name:"location",font_class:"location",unicode:"e6ae",unicode_decimal:59054},{icon_id:"24923064",name:"starhalf",font_class:"starhalf",unicode:"e683",unicode_decimal:59011},{icon_id:"24923065",name:"star",font_class:"star",unicode:"e688",unicode_decimal:59016},{icon_id:"24923066",name:"star-filled",font_class:"star-filled",unicode:"e68f",unicode_decimal:59023},{icon_id:"24899646",name:"a-rilidaka",font_class:"calendar",unicode:"e6a0",unicode_decimal:59040},{icon_id:"24899647",name:"fire",font_class:"fire",unicode:"e6a1",unicode_decimal:59041},{icon_id:"24899648",name:"paihangbang",font_class:"medal",unicode:"e6a2",unicode_decimal:59042},{icon_id:"24899649",name:"font",font_class:"font",unicode:"e6a3",unicode_decimal:59043},{icon_id:"24899650",name:"gift",font_class:"gift",unicode:"e6a4",unicode_decimal:59044},{icon_id:"24899651",name:"link",font_class:"link",unicode:"e6a5",unicode_decimal:59045},{icon_id:"24899652",name:"notification",font_class:"notification",unicode:"e6a6",unicode_decimal:59046},{icon_id:"24899653",name:"staff",font_class:"staff",unicode:"e6a7",unicode_decimal:59047},{icon_id:"24899654",name:"VIP",font_class:"vip",unicode:"e6a8",unicode_decimal:59048},{icon_id:"24899655",name:"folder_add",font_class:"folder-add",unicode:"e6a9",unicode_decimal:59049},{icon_id:"24899656",name:"tune",font_class:"tune",unicode:"e6aa",unicode_decimal:59050},{icon_id:"24899657",name:"shimingrenzheng",font_class:"auth",unicode:"e6ab",unicode_decimal:59051},{icon_id:"24899565",name:"person",font_class:"person",unicode:"e699",unicode_decimal:59033},{icon_id:"24899566",name:"email-filled",font_class:"email-filled",unicode:"e69a",unicode_decimal:59034},{icon_id:"24899567",name:"phone-filled",font_class:"phone-filled",unicode:"e69b",unicode_decimal:59035},{icon_id:"24899568",name:"phone",font_class:"phone",unicode:"e69c",unicode_decimal:59036},{icon_id:"24899570",name:"email",font_class:"email",unicode:"e69e",unicode_decimal:59038},{icon_id:"24899571",name:"personadd",font_class:"personadd",unicode:"e69f",unicode_decimal:59039},{icon_id:"24899558",name:"chatboxes-filled",font_class:"chatboxes-filled",unicode:"e692",unicode_decimal:59026},{icon_id:"24899559",name:"contact",font_class:"contact",unicode:"e693",unicode_decimal:59027},{icon_id:"24899560",name:"chatbubble-filled",font_class:"chatbubble-filled",unicode:"e694",unicode_decimal:59028},{icon_id:"24899561",name:"contact-filled",font_class:"contact-filled",unicode:"e695",unicode_decimal:59029},{icon_id:"24899562",name:"chatboxes",font_class:"chatboxes",unicode:"e696",unicode_decimal:59030},{icon_id:"24899563",name:"chatbubble",font_class:"chatbubble",unicode:"e697",unicode_decimal:59031},{icon_id:"24881290",name:"upload-filled",font_class:"upload-filled",unicode:"e68e",unicode_decimal:59022},{icon_id:"24881292",name:"upload",font_class:"upload",unicode:"e690",unicode_decimal:59024},{icon_id:"24881293",name:"weixin",font_class:"weixin",unicode:"e691",unicode_decimal:59025},{icon_id:"24881274",name:"compose",font_class:"compose",unicode:"e67f",unicode_decimal:59007},{icon_id:"24881275",name:"qq",font_class:"qq",unicode:"e680",unicode_decimal:59008},{icon_id:"24881276",name:"download-filled",font_class:"download-filled",unicode:"e681",unicode_decimal:59009},{icon_id:"24881277",name:"pengyouquan",font_class:"pyq",unicode:"e682",unicode_decimal:59010},{icon_id:"24881279",name:"sound",font_class:"sound",unicode:"e684",unicode_decimal:59012},{icon_id:"24881280",name:"trash-filled",font_class:"trash-filled",unicode:"e685",unicode_decimal:59013},{icon_id:"24881281",name:"sound-filled",font_class:"sound-filled",unicode:"e686",unicode_decimal:59014},{icon_id:"24881282",name:"trash",font_class:"trash",unicode:"e687",unicode_decimal:59015},{icon_id:"24881284",name:"videocam-filled",font_class:"videocam-filled",unicode:"e689",unicode_decimal:59017},{icon_id:"24881285",name:"spinner-cycle",font_class:"spinner-cycle",unicode:"e68a",unicode_decimal:59018},{icon_id:"24881286",name:"weibo",font_class:"weibo",unicode:"e68b",unicode_decimal:59019},{icon_id:"24881288",name:"videocam",font_class:"videocam",unicode:"e68c",unicode_decimal:59020},{icon_id:"24881289",name:"download",font_class:"download",unicode:"e68d",unicode_decimal:59021},{icon_id:"24879601",name:"help",font_class:"help",unicode:"e679",unicode_decimal:59001},{icon_id:"24879602",name:"navigate-filled",font_class:"navigate-filled",unicode:"e67a",unicode_decimal:59002},{icon_id:"24879603",name:"plusempty",font_class:"plusempty",unicode:"e67b",unicode_decimal:59003},{icon_id:"24879604",name:"smallcircle",font_class:"smallcircle",unicode:"e67c",unicode_decimal:59004},{icon_id:"24879605",name:"minus-filled",font_class:"minus-filled",unicode:"e67d",unicode_decimal:59005},{icon_id:"24879606",name:"micoff",font_class:"micoff",unicode:"e67e",unicode_decimal:59006},{icon_id:"24879588",name:"closeempty",font_class:"closeempty",unicode:"e66c",unicode_decimal:58988},{icon_id:"24879589",name:"clear",font_class:"clear",unicode:"e66d",unicode_decimal:58989},{icon_id:"24879590",name:"navigate",font_class:"navigate",unicode:"e66e",unicode_decimal:58990},{icon_id:"24879591",name:"minus",font_class:"minus",unicode:"e66f",unicode_decimal:58991},{icon_id:"24879592",name:"image",font_class:"image",unicode:"e670",unicode_decimal:58992},{icon_id:"24879593",name:"mic",font_class:"mic",unicode:"e671",unicode_decimal:58993},{icon_id:"24879594",name:"paperplane",font_class:"paperplane",unicode:"e672",unicode_decimal:58994},{icon_id:"24879595",name:"close",font_class:"close",unicode:"e673",unicode_decimal:58995},{icon_id:"24879596",name:"help-filled",font_class:"help-filled",unicode:"e674",unicode_decimal:58996},{icon_id:"24879597",name:"plus-filled",font_class:"paperplane-filled",unicode:"e675",unicode_decimal:58997},{icon_id:"24879598",name:"plus",font_class:"plus",unicode:"e676",unicode_decimal:58998},{icon_id:"24879599",name:"mic-filled",font_class:"mic-filled",unicode:"e677",unicode_decimal:58999},{icon_id:"24879600",name:"image-filled",font_class:"image-filled",unicode:"e678",unicode_decimal:59e3},{icon_id:"24855900",name:"locked-filled",font_class:"locked-filled",unicode:"e668",unicode_decimal:58984},{icon_id:"24855901",name:"info",font_class:"info",unicode:"e669",unicode_decimal:58985},{icon_id:"24855903",name:"locked",font_class:"locked",unicode:"e66b",unicode_decimal:58987},{icon_id:"24855884",name:"camera-filled",font_class:"camera-filled",unicode:"e658",unicode_decimal:58968},{icon_id:"24855885",name:"chat-filled",font_class:"chat-filled",unicode:"e659",unicode_decimal:58969},{icon_id:"24855886",name:"camera",font_class:"camera",unicode:"e65a",unicode_decimal:58970},{icon_id:"24855887",name:"circle",font_class:"circle",unicode:"e65b",unicode_decimal:58971},{icon_id:"24855888",name:"checkmarkempty",font_class:"checkmarkempty",unicode:"e65c",unicode_decimal:58972},{icon_id:"24855889",name:"chat",font_class:"chat",unicode:"e65d",unicode_decimal:58973},{icon_id:"24855890",name:"circle-filled",font_class:"circle-filled",unicode:"e65e",unicode_decimal:58974},{icon_id:"24855891",name:"flag",font_class:"flag",unicode:"e65f",unicode_decimal:58975},{icon_id:"24855892",name:"flag-filled",font_class:"flag-filled",unicode:"e660",unicode_decimal:58976},{icon_id:"24855893",name:"gear-filled",font_class:"gear-filled",unicode:"e661",unicode_decimal:58977},{icon_id:"24855894",name:"home",font_class:"home",unicode:"e662",unicode_decimal:58978},{icon_id:"24855895",name:"home-filled",font_class:"home-filled",unicode:"e663",unicode_decimal:58979},{icon_id:"24855896",name:"gear",font_class:"gear",unicode:"e664",unicode_decimal:58980},{icon_id:"24855897",name:"smallcircle-filled",font_class:"smallcircle-filled",unicode:"e665",unicode_decimal:58981},{icon_id:"24855898",name:"map-filled",font_class:"map-filled",unicode:"e666",unicode_decimal:58982},{icon_id:"24855899",name:"map",font_class:"map",unicode:"e667",unicode_decimal:58983},{icon_id:"24855825",name:"refresh-filled",font_class:"refresh-filled",unicode:"e656",unicode_decimal:58966},{icon_id:"24855826",name:"refresh",font_class:"refresh",unicode:"e657",unicode_decimal:58967},{icon_id:"24855808",name:"cloud-upload",font_class:"cloud-upload",unicode:"e645",unicode_decimal:58949},{icon_id:"24855809",name:"cloud-download-filled",font_class:"cloud-download-filled",unicode:"e646",unicode_decimal:58950},{icon_id:"24855810",name:"cloud-download",font_class:"cloud-download",unicode:"e647",unicode_decimal:58951},{icon_id:"24855811",name:"cloud-upload-filled",font_class:"cloud-upload-filled",unicode:"e648",unicode_decimal:58952},{icon_id:"24855813",name:"redo",font_class:"redo",unicode:"e64a",unicode_decimal:58954},{icon_id:"24855814",name:"images-filled",font_class:"images-filled",unicode:"e64b",unicode_decimal:58955},{icon_id:"24855815",name:"undo-filled",font_class:"undo-filled",unicode:"e64c",unicode_decimal:58956},{icon_id:"24855816",name:"more",font_class:"more",unicode:"e64d",unicode_decimal:58957},{icon_id:"24855817",name:"more-filled",font_class:"more-filled",unicode:"e64e",unicode_decimal:58958},{icon_id:"24855818",name:"undo",font_class:"undo",unicode:"e64f",unicode_decimal:58959},{icon_id:"24855819",name:"images",font_class:"images",unicode:"e650",unicode_decimal:58960},{icon_id:"24855821",name:"paperclip",font_class:"paperclip",unicode:"e652",unicode_decimal:58962},{icon_id:"24855822",name:"settings",font_class:"settings",unicode:"e653",unicode_decimal:58963},{icon_id:"24855823",name:"search",font_class:"search",unicode:"e654",unicode_decimal:58964},{icon_id:"24855824",name:"redo-filled",font_class:"redo-filled",unicode:"e655",unicode_decimal:58965},{icon_id:"24841702",name:"list",font_class:"list",unicode:"e644",unicode_decimal:58948},{icon_id:"24841489",name:"mail-open-filled",font_class:"mail-open-filled",unicode:"e63a",unicode_decimal:58938},{icon_id:"24841491",name:"hand-thumbsdown-filled",font_class:"hand-down-filled",unicode:"e63c",unicode_decimal:58940},{icon_id:"24841492",name:"hand-thumbsdown",font_class:"hand-down",unicode:"e63d",unicode_decimal:58941},{icon_id:"24841493",name:"hand-thumbsup-filled",font_class:"hand-up-filled",unicode:"e63e",unicode_decimal:58942},{icon_id:"24841494",name:"hand-thumbsup",font_class:"hand-up",unicode:"e63f",unicode_decimal:58943},{icon_id:"24841496",name:"heart-filled",font_class:"heart-filled",unicode:"e641",unicode_decimal:58945},{icon_id:"24841498",name:"mail-open",font_class:"mail-open",unicode:"e643",unicode_decimal:58947},{icon_id:"24841488",name:"heart",font_class:"heart",unicode:"e639",unicode_decimal:58937},{icon_id:"24839963",name:"loop",font_class:"loop",unicode:"e633",unicode_decimal:58931},{icon_id:"24839866",name:"pulldown",font_class:"pulldown",unicode:"e632",unicode_decimal:58930},{icon_id:"24813798",name:"scan",font_class:"scan",unicode:"e62a",unicode_decimal:58922},{icon_id:"24813786",name:"bars",font_class:"bars",unicode:"e627",unicode_decimal:58919},{icon_id:"24813788",name:"cart-filled",font_class:"cart-filled",unicode:"e629",unicode_decimal:58921},{icon_id:"24813790",name:"checkbox",font_class:"checkbox",unicode:"e62b",unicode_decimal:58923},{icon_id:"24813791",name:"checkbox-filled",font_class:"checkbox-filled",unicode:"e62c",unicode_decimal:58924},{icon_id:"24813794",name:"shop",font_class:"shop",unicode:"e62f",unicode_decimal:58927},{icon_id:"24813795",name:"headphones",font_class:"headphones",unicode:"e630",unicode_decimal:58928},{icon_id:"24813796",name:"cart",font_class:"cart",unicode:"e631",unicode_decimal:58929}]},su="/static/uniicons.ttf",ru={"uni-icons":{"":{fontFamily:"uniicons",textDecoration:"none",textAlign:"center"}}},ou=weex.requireModule("dom");ou.addRule("fontFace",{fontFamily:"uniicons",src:"url('"+su+"')"});var lu={name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""}},data(){return{icons:au.glyphs}},computed:{unicode(){let e=this.icons.find(t=>t.font_class===this.type);return e?unescape(`%u${e.unicode}`):""}},methods:{_onClick(e){this.$emit("click",e)}}};function cu(e,t,i,n,a,s){return(0,ze.openBlock)(),(0,ze.createElementBlock)("u-text",{style:(0,ze.normalizeStyle)({color:i.color,"font-size":i.size}),class:"uni-icons",onClick:t[0]||(t[0]=(...r)=>s._onClick&&s._onClick(...r))},(0,ze.toDisplayString)(s.unicode),5)}var Ke=L(lu,[["render",cu],["styles",[ru]]]);var mt=j(Y());var uu={emits:["click"],components:{LImg:X},props:{user:{type:Object,default(){return{}}},w:{type:String,default:"0"},h:{type:String,default:"0"},radius:{type:String,default:"0"},setKey:{type:String,default:"small_avatar"},border:{type:String,default:""},placeType:{type:Number,default:1},placeW:{type:String,default:""},placeFontSize:{type:[String,Boolean],default:""},placeBottom:{type:String,default:""},click:{type:Boolean,default:!0},fromAdmin:{type:[Boolean,Number],default:!1},fromType:{type:Number,default:1},fade:{type:Boolean,default:!0}},computed:{avatarUrl(){return li(this.user,this.setKey,this.fromAdmin,this.fromType)}},methods:{clickAvatar(e){this.click&&this.$emit("click",e)}}};function du(e,t,i,n,a,s){let r=P((0,mt.resolveDynamicComponent)("l-img"),X);return(0,mt.openBlock)(),(0,mt.createBlock)(r,{onClick:s.clickAvatar,src:s.avatarUrl,w:i.w,h:i.h,radius:i.radius,border:i.border,"place-type":i.placeType,"place-w":i.placeW,"place-font-size":i.placeFontSize,"place-bottom":i.placeBottom,fade:i.fade},null,8,["onClick","src","w","h","radius","border","place-type","place-w","place-font-size","place-bottom","fade"])}var an=L(uu,[["render",du]]);function fu(){return getApp().globalData.appCRE||Ua(40,1,!1)?!0:(Ye(u("tips"),u("call40CoinsTip"),()=>{U("/pages/coin/coins")},"","Purchase"),!1)}function ms(e,t,i){fu()&&mu(ca.CALL,Kt.VIDEO,Fi.CALL,e,t,null,i,ua.DEF)}function mu(e,t,i,n,a,s,r,l){if(J("error","at comCall/call.js:48","_openCall "+getApp().globalData.curCallId),g(n))return;if(n.uid==getApp().globalData.uid){if(i!=Fi.CALL)return;ei(u("tips"),u("noCallSelf"),"",u("gotIt"));return}if(getApp().globalData.curCallId!=et.NONE)return;getApp().globalData.curCallId=et.WEEK_UP;let o=pu(e,t,i,n,a,s,r,l);z("/pages/call/chat-view",{},"callViewData",o)}function pu(e,t,i,n,a,s,r,l){let o={user:n,roomType:e,callType:t,actionType:i,fromType:r,videoInfo:a,openType:l};return a&&(o.videoInfo=a),s&&(o.roomInfo=s,s.isGame&&(o.isGame=s.isGame)),o}var gu=Ue("animation"),hu={props:{id:{type:String,default:""},isTab:{type:Boolean,default:!1}},data(){return{sW:getApp().globalData.window.width,left:-getApp().globalData.window.width,show:!1,data:{},userInfo:{},club:{},animDoing:!1,animationData:{},list:[],listTwo:[]}},computed:{bottom(){let e=getApp().globalData.window.height*.2;return this.isTab?e-getApp().globalData.window.tabBarHeight-getApp().globalData.window.safeBottom:e},viewBg(){return getApp().globalData.themeObj.style==ye.LIGHT?"#000000":"#444444"}},methods:{clickThis(e){if(e&&e.stopPropagation(),this.data.type==6||this.data.type==8){let t=te()?this.userInfo.uid:this.data.to_user.uid;this.openUserHome(t)}else if(this.data.type==9)Ta();else if(this.data.type==13)U("/pagesMsg/notice/chat");else if(this.data.type==11||this.data.type==14)this.openClub();else if(this.data.type==15)ms(this.userInfo,null,da.RECOMMEND);else if(this.data.type==17){if(Ve()=="/pagesPub/luck-draw/index")return;U("/pagesPub/luck-draw/index")}else this.openUserHome(this.userInfo.uid)},clickItem(e,t){if(e&&e.stopPropagation(),t.uid){if(this.data.type==17){if(Ve()=="/pagesPub/luck-draw/index")return;U("/pagesPub/luck-draw/index");return}this.openUserHome(t.uid)}else t.clubId&&this.openClub()},openUserHome(e){Ca(e)},openClub(){Da(this.club.club_id,parseInt(this.club.is_member)==1?1:0,1)},anim(e,t,i,n){return new Promise(a=>{gu.transition(this.$refs.animView,{styles:e,duration:t,timingFunction:n,needLayout:!1,delay:i},()=>{a()})})},startAnimIn(){return this.anim({transform:`translateX(${this.sW}px)`},1e3,0,"ease-out")},startAnimOut(){return this.anim({opacity:"0"},1e3,4e3,"linear")},startAnimReset(){return this.anim({opacity:"1",transform:`translateX(-${this.sW}px)`},50,0,"linear")},startAnimH5(e){let t=uni.createAnimation({timingFunction:"linear"});t.translateX(this.sW).step({duration:500,timingFunction:"ease-out"}),m.isAndroid?t.translateX(-this.sW).opacity(0).step({duration:1e3,delay:4e3}):(t.opacity(0).step({duration:1e3,delay:4e3}),t.translateX(-this.sW).step({duration:50})),t.opacity(1).step({duration:50}),this.animationData=t.export(),setTimeout(()=>{e()},6e3)},getTextItem(e,t,i,n){let a={color:t||"#0091FF"};return i!=0&&(a.maxWidth=`${i}rpx`),{type:1,text:e,extra:n,style:a}},getImgItem(e,t,i,n,a){return{type:2,url:e,width:"48rpx",height:"48rpx",radius:t||"4rpx",extra:a,style:{marginLeft:`${n}rpx`,marginRight:`${i}rpx`}}},getRightItem(){return{type:3}},getUserList(e,t){return[this.getImgItem(e.small_avatar,"","8",0,{uid:e.uid}),this.getTextItem(e.nickname,"",t,{uid:e.uid})]},getClubList(e,t){return[this.getImgItem(e.club_logo,"","8",0,{clubId:e.club_id}),this.getTextItem(e.club_name,"",t,{clubId:e.club_id})]},parseList(e,t){let i=[],n=e.split(/(\[%\w+%\])/).filter(function(a){return a!==""});for(let a=0,s=n.length;a<s;a++){let r=n[a];if(r.startsWith("[%")){let o=r.replace(/[\s+,\[%,%\]]/g,""),d=t[o];d&&(i=[...i,...d])}else{let o={};i.push({type:0,content:r,style:o})}}return i},parseVip(){let e;return this.data.date_type==1?e=fa(this.data.vip_time):this.data.date_type==2?e=ma(this.data.vip_time):this.data.date_type==3&&(e=pa(this.data.vip_time)),this.parseList(u("noticeS.vip"),{name:this.getUserList(this.userInfo,"140"),time:[{type:0,content:e}]})},parseRecharge(){return this.parseList(u("noticeS.recharge"),{name:this.getUserList(this.userInfo,"140"),coin:[{type:0,content:this.data.money}]})},parseChecked(){return this.parseList(u("noticeS.check"),{name:this.getUserList(this.userInfo,"140")})},parseFollow(){return this.parseList(u("noticeS.follow"),{name:this.getUserList(this.userInfo,"140")})},parseOnline(){return this.parseList(u("noticeS.online"),{name:this.getUserList(this.userInfo,"140")})},parseCall(){let e=parseInt(this.data.call_duration);e=isNaN(e)?1:Math.ceil(e/60);let t=`${e} ${ga(e)}`;return this.listTwo=this.parseList(u("noticeS.callTwo",{time:t}),{name:[this.getTextItem(this.data.to_user.nickname,"","140",{uid:this.data.to_user.uid})]}),this.parseList(u("noticeS.callOne",{chatType:_a(this.data.call_type)}),{name:this.getUserList(this.userInfo,"140"),avatar:[this.getImgItem(this.data.to_user.small_avatar,"","8",0,{uid:this.data.to_user.uid})]})},parseGift(){return this.parseList(u("noticeS.gift"),{user:this.getUserList(this.userInfo,"140"),to_user:this.getUserList(this.data.to_user,"140"),gift:[this.getImgItem(this.data.gift_icon,0,0,0,null),{type:0,content:`x${this.data.gift_num}`}]})},parseGameLucky(){return this.listTwo=this.parseList(u("noticeS.gameLuckyTwo",{number:this.data.bonus}),{}),this.parseList(u("noticeS.gameLuckyOne"),{name:this.getUserList(this.userInfo,"140")})},parseRankingRecommend(){return this.listTwo=[this.getImgItem(this.userInfo.small_avatar,0,"8",0,{uid:this.userInfo.uid}),this.getTextItem(this.userInfo.nickname,"","240",{uid:this.userInfo.uid}),this.getRightItem()],this.parseList(u("noticeS.rankingRecommend",{number:this.data.rank}),{})},parseClubGift(){return this.listTwo=[{type:0,content:u("noticeS.clubGift2")},this.getRightItem()],this.parseList(u("noticeS.clubGift1"),{club:this.getClubList(this.club,"180")})},parseClubInvite(){let e=this.parseList(u("noticeS.clubInvite"),{user:this.getUserList(this.userInfo,"100"),club:this.getClubList(this.club,"120")});return e.push(this.getRightItem()),e},parseClubRecommend(){let e=this.parseList(u("noticeS.clubRecommend"),{club:this.getClubList(this.club,"140")});return e.push(this.getRightItem()),e},parseCallRecommend(){return this.listTwo=this.parseList(u("noticeS.callRecommend2",{whom:Ge(this.userInfo.sex)}),{}),this.parseList(u("noticeS.callRecommend1"),{user:this.getUserList(this.userInfo,"120")})},parseBoostUser(){return this.listTwo=this.parseList(u("noticeS.boostUser2"),{}),this.parseList(u("noticeS.boostUser1",{himself:ba(this.userInfo.sex)}),{user:this.getUserList(this.userInfo,"120")})},parsePrizeWheel(){let e,t;if(this.data.bonus_list.length>1)e=!1;else{let i=this.data.bonus_list[0];i.type==jt.BOX?(e=i.result.type==jt.GIFT,t=i.result):(e=i.type==jt.GIFT,t=i)}return e?this.listTwo=this.parseList(u("noticeS.prizeWheelTwo"),{prize:[this.getImgItem(t.icon,0,0,0,null),{type:0,content:t.num>1?`x${t.num}`:""}]}):this.listTwo=this.parseList(u("noticeS.prizeWheelTwo"),{prize:[this.getTextItem(Jt(this.data.total_bonus),"#FFFFFF",0,{})]}),this.parseList(u("noticeS.prizeWheelOne"),{user:this.getUserList(this.userInfo,"120")})},parseNodes(){switch(this.data.type){case 1:return this.listTwo=[],this.parseVip();case 2:return this.listTwo=[],this.parseRecharge();case 3:return this.listTwo=[],this.parseChecked();case 4:return this.listTwo=[],this.parseFollow();case 5:return this.listTwo=[],this.parseOnline();case 6:return this.parseCall();case 8:return this.listTwo=[],this.parseGift();case 9:return this.parseGameLucky();case 10:return this.parseRankingRecommend();case 11:return this.parseClubGift();case 13:return this.listTwo=[],this.parseClubInvite();case 14:return this.listTwo=[],this.parseClubRecommend();case 15:return getApp().globalData.appCRE?this.parseCallRecommend():null;case 16:return this.parseBoostUser();case 17:return this.parsePrizeWheel();default:return null}},parseData(e,t){this.list=[],this.data=e,this.userInfo=this.data.user_info,this.club=this.data.club_info;let i=this.parseNodes();if(i==null){typeof t=="function"&&t(!1);return}this.list=i,this.$nextTick(()=>{t(!0)})},open(e){e.type==17&&e.user_info.uid==getApp().globalData.uid||this.animDoing||(this.animDoing=!0,this.show=!0,this.parseData(e,t=>{if(!t){this.animDoing=!1;return}let i=setTimeout(()=>{this.animDoing&&(this.animDoing=!1)},1e4);this.startAnimIn().then(()=>this.startAnimOut()).then(()=>this.startAnimReset()).then(()=>{clearTimeout(i),this.show=!1,this.animDoing=!1})}))}},created(){uni.$on(`event_${this.id}`,this.open)},unmounted(){uni.$off(`event_${this.id}`,this.open)}},_u={"view-notice":{"":{borderRadius:"8rpx",paddingTop:"10rpx",paddingRight:"10rpx",paddingBottom:"10rpx",paddingLeft:"10rpx"}},"view-content":{"":{alignItems:"center",flexWrap:"wrap",flexDirection:"row"}},text:{"":{fontSize:"24rpx"}},"text-def":{"":{color:"#FFFFFF"}},"text-s":{"":{lines:1,textOverflow:"ellipsis",wordWrap:"anywhere"}}},bu={mixins:[hu]};function yu(e,t,i,n,a,s){let r=P((0,E.resolveDynamicComponent)("l-img"),X),l=P((0,E.resolveDynamicComponent)("uni-icons"),Ke);return(0,E.openBlock)(),(0,E.createElementBlock)("view",{style:(0,E.normalizeStyle)([{bottom:`${e.bottom}px`},{position:"fixed",left:"0","z-index":"9999"}]),renderWhole:!0},[e.show?((0,E.openBlock)(),(0,E.createElementBlock)("view",{key:0,ref:"animView",onClick:t[0]||(t[0]=(...o)=>e.clickThis&&e.clickThis(...o)),animation:e.animationData,class:"view-notice",style:(0,E.normalizeStyle)({left:`${e.left}px`,background:e.viewBg})},[(0,E.createElementVNode)("view",{style:{"align-items":"center","flex-direction":"row"}},[(0,E.createElementVNode)("view",null,[(0,E.createElementVNode)("view",{class:"view-content"},[((0,E.openBlock)(!0),(0,E.createElementBlock)(E.Fragment,null,(0,E.renderList)(e.list,(o,d)=>((0,E.openBlock)(),(0,E.createElementBlock)("view",{key:d},[o.type==0?((0,E.openBlock)(),(0,E.createElementBlock)("u-text",{key:0,class:"text text-def",style:(0,E.normalizeStyle)(o.style)},(0,E.toDisplayString)(o.content),5)):o.type==1?((0,E.openBlock)(),(0,E.createElementBlock)("u-text",{key:1,onClick:(0,E.withModifiers)(f=>e.clickItem(f,o.extra),["stop"]),class:"text text-s",style:(0,E.normalizeStyle)(o.style)},(0,E.toDisplayString)(o.text),13,["onClick"])):o.type==2?((0,E.openBlock)(),(0,E.createBlock)(r,{key:2,onClick:(0,E.withModifiers)(f=>e.clickItem(f,o.extra),["stop"]),src:o.url,w:o.width,h:o.height,radius:o.radius,style:(0,E.normalizeStyle)(o.style)},null,8,["onClick","src","w","h","radius","style"])):o.type==3?((0,E.openBlock)(),(0,E.createBlock)(l,{key:3,type:"right",size:"26rpx",color:"rgba(255,255,255,0.6)"})):(0,E.createCommentVNode)("",!0)]))),128))]),e.listTwo.length>0?((0,E.openBlock)(),(0,E.createElementBlock)("view",{key:0,class:"view-content",style:{"margin-top":"4rpx"}},[((0,E.openBlock)(!0),(0,E.createElementBlock)(E.Fragment,null,(0,E.renderList)(e.listTwo,(o,d)=>((0,E.openBlock)(),(0,E.createElementBlock)("view",{key:"a"+d},[o.type==0?((0,E.openBlock)(),(0,E.createElementBlock)("u-text",{key:0,class:"text text-def",style:(0,E.normalizeStyle)(o.style)},(0,E.toDisplayString)(o.content),5)):o.type==1?((0,E.openBlock)(),(0,E.createElementBlock)("u-text",{key:1,onClick:(0,E.withModifiers)(f=>e.clickItem(f,o.extra),["stop"]),class:"text text-s",style:(0,E.normalizeStyle)(o.style)},(0,E.toDisplayString)(o.text),13,["onClick"])):o.type==2?((0,E.openBlock)(),(0,E.createBlock)(r,{key:2,onClick:(0,E.withModifiers)(f=>e.clickItem(f,o.extra),["stop"]),src:o.url,w:o.width,h:o.height,radius:o.radius,style:(0,E.normalizeStyle)(o.style)},null,8,["onClick","src","w","h","radius","style"])):o.type==3?((0,E.openBlock)(),(0,E.createBlock)(l,{key:3,type:"right",size:"26rpx",color:"rgba(255,255,255,0.6)"})):(0,E.createCommentVNode)("",!0)]))),128))])):(0,E.createCommentVNode)("",!0)]),e.data.type==15?((0,E.openBlock)(),(0,E.createBlock)(r,{key:0,onClick:e.clickThis,src:"s/call/video_def.png",w:"48rpx",h:"48rpx",style:{"margin-left":"16rpx"}},null,8,["onClick"])):(0,E.createCommentVNode)("",!0)])],12,["animation"])):(0,E.createCommentVNode)("",!0)],4)}var ps=L(bu,[["render",yu],["styles",[_u]]]);var b=j(Y());var ke=j(Y());var Au=Ue("animation"),ci=class{constructor(t,i){this.options=t,this.animation=uni.createAnimation(t),this.currentStepAnimates={},this.next=0,this.$=i}_nvuePushAnimates(t,i){let n=this.currentStepAnimates[this.next],a={};if(n?a=n:a={styles:{},config:{}},hs.includes(t)){a.styles.transform||(a.styles.transform="");let s="";t==="rotate"&&(s="deg"),a.styles.transform+=`${t}(${i+s}) `}else a.styles[t]=`${i}`;this.currentStepAnimates[this.next]=a}_animateRun(t={},i={}){let n=this.$.$refs.ani.ref;if(n)return new Promise((a,s)=>{Au.transition(n,hi({styles:t},i),r=>{a()})})}_nvueNextAnimate(t,i=0,n){let a=t[i];if(a){let{styles:s,config:r}=a;this._animateRun(s,r).then(()=>{i+=1,this._nvueNextAnimate(t,i,n)})}else this.currentStepAnimates={},typeof n=="function"&&n(),this.isEnd=!0}step(t={}){return this.currentStepAnimates[this.next].config=Object.assign({},this.options,t),this.currentStepAnimates[this.next].styles.transformOrigin=this.currentStepAnimates[this.next].config.transformOrigin,this.next++,this}run(t){this.isEnd=!1,this.$.$refs.ani&&this.$.$refs.ani.ref&&(this._nvueNextAnimate(this.currentStepAnimates,0,t),this.next=0)}},hs=["matrix","matrix3d","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","translate","translate3d","translateX","translateY","translateZ"],wu=["opacity","backgroundColor"],Su=["width","height","left","right","top","bottom"];hs.concat(wu,Su).forEach(e=>{ci.prototype[e]=function(...t){return this._nvuePushAnimates(e,t),this}});function gs(e,t){if(t)return clearTimeout(t.timer),new ci(e,t)}var Eu={name:"uniTransition",emits:["click","change"],props:{show:{type:Boolean,default:!1},modeClass:{type:[Array,String],default(){return"fade"}},duration:{type:Number,default:300},styles:{type:Object,default(){return{}}},customClass:{type:String,default:""}},data(){return{isShow:!1,transform:"",opacity:1,animationData:{},durationTime:300,config:{}}},watch:{show:{handler(e){e?this.open():this.isShow&&this.close()},immediate:!0}},computed:{stylesObject(){let e=Sn(hi({},this.styles),{"transition-duration":this.duration/1e3+"s"}),t="";for(let i in e){let n=this.toLine(i);t+=n+":"+e[i]+";"}return t},transformStyles(){return"transform:"+this.transform+";opacity:"+this.opacity+";"+this.stylesObject}},created(){this.config={duration:this.duration,timingFunction:"ease",transformOrigin:"50% 50%",delay:0},this.durationTime=this.duration},methods:{init(e={}){e.duration&&(this.durationTime=e.duration),this.animation=gs(Object.assign(this.config,e),this)},onClick(){this.$emit("click",{detail:this.isShow})},step(e,t={}){if(this.animation){for(let i in e)try{typeof e[i]=="object"?this.animation[i](...e[i]):this.animation[i](e[i])}catch(n){J("error","at uni_modules/uni-transition/components/uni-transition/uni-transition.vue:139",`\u65B9\u6CD5 ${i} \u4E0D\u5B58\u5728`)}return this.animation.step(t),this}},run(e){this.animation&&this.animation.run(e)},open(){clearTimeout(this.timer),this.transform="",this.isShow=!0;let{opacity:e,transform:t}=this.styleInit(!1);typeof e!="undefined"&&(this.opacity=e),this.transform=t,this.$nextTick(()=>{this.timer=setTimeout(()=>{this.animation=gs(this.config,this),this.tranfromInit(!1).step(),this.animation.run(),this.$emit("change",{detail:this.isShow})},20)})},close(e){this.animation&&this.tranfromInit(!0).step().run(()=>{this.isShow=!1,this.animationData=null,this.animation=null;let{opacity:t,transform:i}=this.styleInit(!1);this.opacity=t||1,this.transform=i,this.$emit("change",{detail:this.isShow})})},styleInit(e){let t={transform:""},i=(n,a)=>{a==="fade"?t.opacity=this.animationType(n)[a]:t.transform+=this.animationType(n)[a]+" "};return typeof this.modeClass=="string"?i(e,this.modeClass):this.modeClass.forEach(n=>{i(e,n)}),t},tranfromInit(e){let t=(i,n)=>{let a=null;n==="fade"?a=i?0:1:(a=i?"-100%":"0",n==="zoom-in"&&(a=i?.8:1),n==="zoom-out"&&(a=i?1.2:1),n==="slide-right"&&(a=i?"100%":"0"),n==="slide-bottom"&&(a=i?"100%":"0")),this.animation[this.animationMode()[n]](a)};return typeof this.modeClass=="string"?t(e,this.modeClass):this.modeClass.forEach(i=>{t(e,i)}),this.animation},animationType(e){return{fade:e?1:0,"slide-top":`translateY(${e?"0":"-100%"})`,"slide-right":`translateX(${e?"0":"100%"})`,"slide-bottom":`translateY(${e?"0":"100%"})`,"slide-left":`translateX(${e?"0":"-100%"})`,"zoom-in":`scaleX(${e?1:.8}) scaleY(${e?1:.8})`,"zoom-out":`scaleX(${e?1:1.2}) scaleY(${e?1:1.2})`}},animationMode(){return{fade:"opacity","slide-top":"translateY","slide-right":"translateX","slide-bottom":"translateY","slide-left":"translateX","zoom-in":"scale","zoom-out":"scale"}},toLine(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}}};function Cu(e,t,i,n,a,s){return a.isShow?((0,ke.openBlock)(),(0,ke.createElementBlock)("view",{key:0,ref:"ani",animation:a.animationData,class:(0,ke.normalizeClass)(i.customClass),style:(0,ke.normalizeStyle)(s.transformStyles),onClick:t[0]||(t[0]=(...r)=>s.onClick&&s.onClick(...r)),renderWhole:!0},[(0,ke.renderSlot)(e.$slots,"default")],14,["animation"])):(0,ke.createCommentVNode)("",!0)}var sn=L(Eu,[["render",Cu]]);var pt=j(Y()),Tu={emits:["onEvent"],props:{src:{type:String,default:""},autoPlay:{type:Boolean,default:!1},loops:{type:Number,default:0},repeatMode:{type:Number,default:1},frame:{type:Number,default:0},progress:{type:Number,default:0},speed:{type:Number,default:1},eventStep:{type:Boolean,default:!1}},data(){return{refView:null}},computed:{params(){return{src:xa(Re(this.src),!1),autoPlay:this.autoPlay,loops:this.loops,repeatMode:this.repeatMode,initFrame:this.frame,progress:this.progress,speed:this.speed,eventStep:this.eventStep}}},methods:{event(e){g(e)||typeof e.detail=="undefined"||this.$emit("onEvent",e.detail)},play(){this.$refs.lottie&&this.$refs.lottie.play()},pause(){this.$refs.lottie&&this.$refs.lottie.pause()},resume(){this.$refs.lottie&&this.$refs.lottie.resume()},stop(){this.$refs.lottie&&this.$refs.lottie.stop()},setFrame(e){this.$refs.lottie&&this.$refs.lottie.setFrame(e)},setProgress(e){this.$refs.lottie&&this.$refs.lottie.setProgress(e)},setSpeed(e){this.$refs.lottie&&this.$refs.lottie.setSpeed(e)},setEventStep(e){this.$refs.lottie&&this.$refs.lottie.setEventStep(e)}},created(){}};function Du(e,t,i,n,a,s){let r=(0,pt.resolveComponent)("nav-anim-lottie");return(0,pt.openBlock)(),(0,pt.createBlock)(r,{ref:"lottie",params:s.params,onEvent:s.event},null,8,["params","onEvent"])}var _s=L(Tu,[["render",Du]]);var bs="call_evaluate_label_res";function As(){return new Promise(e=>{let t=q(bs),i=Ct();if(g(t)||g(t.res[i])||getApp().globalData.callEvaluateVersion>parseInt(t.version))H.request("/chat/call/tap-reason",{}).then(n=>{let a=n.data.reason_list,s=De(JSON.stringify(t));g(s)&&(s={}),g(s.res)&&(s.res={}),s.res[i]=a;let r={version:n.data.version,res:s.res};Me(bs,r);let l=ys(a);e(l)});else{let n=ys(t.res[i]);e(n)}})}function ys(e){return te()?e.filter(t=>t.identity!=1):e.filter(t=>t.identity!=2)}var ws={},Ss={props:{src:{type:String,default:""},w:{type:String,default:"0"},h:{type:String,default:"0"}},data(){return{svgaPath:"",isHide:!1}},created(){Re(this.src,e=>{this.svgaPath=e})}};function ku(e,t,i,n,a,s){return(0,b.openBlock)(),(0,b.createElementBlock)("div",{id:"renderScript",class:"view-anim",style:(0,b.normalizeStyle)({width:i.w,height:i.h}),svgaPath:a.svgaPath,"change:svgaPath":e.renderScript.animPathChange,isHide:a.isHide,"change:isHide":e.renderScript.isHideChange},null,12,["svgaPath","change:svgaPath","isHide","change:isHide"])}typeof ws=="function"&&ws(Ss);var xu=L(Ss,[["render",ku]]),Iu={"view-container":{"":{color:"#333333",position:"fixed",zIndex:11111}},center:{"":{flexDirection:"row",alignItems:"center",justifyContent:"flex-start"}},"center-align":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"center-between":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},"view-evaluate":{"":{flex:1,backgroundColor:"#FFFFFF",boxShadow:"0 4rpx 20rpx 0 rgba(0, 0, 0, 0.1), 0 0 12rpx 0 rgba(0, 0, 0, 0.1)",borderRadius:"16rpx",borderWidth:"2rpx",borderStyle:"solid",borderColor:"rgba(0,0,0,0.15)",paddingTop:"24rpx",paddingRight:"20rpx",paddingBottom:"24rpx",paddingLeft:"20rpx",boxSizing:"border-box"}},"view-header":{"":{flexDirection:"row",flex:1,alignItems:"center",justifyContent:"space-between"}},"like-wrap":{"":{height:"60rpx",backgroundColor:"#F1F3F6",borderRadius:"30rpx",paddingTop:0,paddingRight:"16rpx",paddingBottom:0,paddingLeft:"16rpx",marginLeft:"20rpx"}},"split-line":{"":{height:"2rpx",backgroundColor:"rgba(0,0,0,0.1)",transform:"scaleY(0.5)",transformOrigin:"50% 100%",marginTop:"12rpx"}},"split-line-ver":{"":{width:"2rpx",height:"28rpx",backgroundColor:"rgba(0,0,0,0.1)",marginTop:0,marginRight:"12rpx",marginBottom:0,marginLeft:"12rpx"}},"enjoy-text":{"":{lineHeight:"22rpx",marginTop:"10rpx",fontSize:"20rpx",color:"#666666",lines:1,overflow:"hidden",textOverflow:"ellipsis"}},"close-icon":{"":{position:"absolute",top:0,right:0,paddingLeft:"20rpx",paddingBottom:"20rpx"}},"close-bg":{".close-icon ":{minWidth:"16px",minHeight:"16px",width:16,height:16,borderRadius:8,backgroundColor:"#FFFFFF",borderWidth:"2rpx",borderStyle:"solid",borderColor:"rgba(0,0,0,0.1)"}},"report-label":{"":{backgroundColor:"#F1F3F6",borderRadius:"8rpx",paddingTop:0,paddingRight:"28rpx",paddingBottom:0,paddingLeft:"28rpx",minWidth:"max-content",borderWidth:"2rpx",borderStyle:"solid",borderColor:"#F1F3F6",marginTop:"12rpx",marginRight:"12rpx"}},"report-text":{".report-label ":{height:"44rpx",lineHeight:"44rpx",minWidth:"max-content",fontSize:"20rpx"}},active:{"":{"!borderWidth":"2rpx","!borderStyle":"solid","!borderColor":"#FF4477","!backgroundColor":"rgba(255,68,119,0.1)"}},"input-wrap":{"":{height:"56rpx",borderRadius:"4rpx",borderWidth:"2rpx",borderStyle:"solid",borderColor:"rgba(0,0,0,0.1)",paddingTop:0,paddingRight:"12rpx",paddingBottom:0,paddingLeft:"12rpx",marginTop:"12rpx"}},"reason-tips":{"":{marginTop:"10rpx",fontSize:"20rpx",color:"#999999"}},"reason-input":{"":{marginLeft:"16rpx",fontSize:"20rpx",flex:1}},"submit-btn":{"":{backgroundImage:"linear-gradient(to right, #FF00BD, #FF5954)",borderRadius:"12rpx",marginTop:"20rpx",height:"56rpx"}},"submit-text":{".submit-btn ":{textAlign:"center",color:"#FFFFFF",lineHeight:"56rpx",fontSize:"22rpx"}},"nickname-text":{"":{lineHeight:"28rpx",fontSize:"24rpx",fontWeight:"600",lines:1,overflow:"hidden",textOverflow:"ellipsis"}}},vu={components:{Lottie:_s,LSvga:xu,UniIcons:Ke,LImg:X,UniTransition:sn},props:{id:{type:String,default:""},isTab:{type:Boolean,default:!1},noNavbar:{type:Boolean,default:!1}},data(){return{show:!1,userInfo:{},closeTimer:!1,roomId:0,evaluateId:"",isUnlike:!1,reasonList:[],pageShow:!1,inputReason:"",chooseIds:[],hasClick:!1,scrollViewW:getApp().globalData.window.width-88,windowInfo:getApp().globalData.window,cursorSpacing:uni.upx2px(126),hasLike:!1,hasUnlike:!1,showPath:!1,isFocus:!1,keyboardH:0,eventPathKey:""}},computed:{viewStyle(){let e={};return this.isUnlike?(e.width=this.windowInfo.width+"px",this.isTab||this.noNavbar?e.height=this.windowInfo.height+"px":e.height=this.windowInfo.height-this.windowInfo.statusBarHeight-this.windowInfo.navBarHeight+"px",e.left=0,e.top=0):(e.width=this.windowInfo.width-72+"px",e.bottom=this.contentBottom+"px",e.left="36px"),e},contentStyle(){let e={},t=this.isTab?50:0,i=this.isTab?20:34;if(this.isUnlike){let n=this.windowInfo.safeBottom+t+i;e.position="absolute",e.left="36px",this.isFocus&&(n=this.keyboardH+2),e.bottom=n+"px"}return e.width=this.windowInfo.width-72+"px",e},contentBottom(){if(this.isTab)return 20;let e=this.windowInfo.safeBottom;return e+=34},nicknameWidth(){let t=this.windowInfo.width-88-uni.upx2px(324);return this.ageText&&(t-=uni.upx2px(50)),t},ageText(){let e="";return this.userInfo.birthday&&(e=", "+qt(this.userInfo.birthday)),e},enjoyText(){let e=Ge(this.userInfo.sex);return u("enjoyCallWithOther",{her:e})},enjoyTextWidth(){return this.windowInfo.width-88-uni.upx2px(324)}},methods:{$str:u,clickView(e){e&&e.stopPropagation();let t=this.$refs.inputReason;t&&t.blur&&t.blur()},clickClose(){this.pageShow&&(uni.hideKeyboard(),uni.offKeyboardHeightChange(this.onKeyboardChange),this.show=!1,this.pageShow=!1,this.$nextTick(()=>{this.inputReason="",this.chooseIds=[],this.hasClick=!1,this.hasLike=!1,this.hasUnlike=!1,this.isUnlike=!1,this.evaluateId="",this.roomId=0,this.userInfo={},this.isFocus=!1}))},clickSubmit(e){if(e&&e.stopPropagation(),g(this.chooseIds)&&g(this.inputReason))ti(u("callEvaluateFeedbackTips")),this.clickClose();else{let t={evaluate_id:this.evaluateId};g(this.chooseIds)||(t.reason=this.chooseIds.join(",")),g(this.inputReason)||(t.content=this.inputReason),H.request("/chat/call/tap-record",t,!0,!0).then(()=>{this.clickClose(!1),ti(u("callEvaluateFeedbackTips"))})}},clickReportItem(e,t){e&&e.stopPropagation();let i=this.chooseIds.indexOf(t);i==-1?this.chooseIds.push(t):this.chooseIds.splice(i,1)},clickLike(e){e&&e.stopPropagation(),!this.hasClick&&(this.hasClick=!0,this.hasLike=!0,this.reqEvaluate(1))},clickUnlike(e){e&&e.stopPropagation(),!this.hasClick&&(this.hasClick=!0,this.hasUnlike=!0,this.$nextTick(()=>{this.reqEvaluate(2).then(()=>As()).then(t=>{this.parseReason(t),this.$nextTick(()=>{this.isUnlike=!0})})}))},startTimer(e){this.clearTimer(),this.closeTimer=setTimeout(()=>{this.clearTimer(),this.show=!1},e*1e3)},clearTimer(){this.closeTimer&&clearTimeout(this.closeTimer)},preventHandler(){},onKeyboardChange(e){this.keyboardH=e.height,this.isFocus=e.height>0},reqEvaluate(e){return this.clearTimer(),new Promise(t=>{let i={uid:getApp().globalData.uid,target_uid:this.userInfo.uid,room_id:this.roomId,type:e};H.request("/chat/call/evaluate",i,!1,!0).then(n=>{this.evaluateId=n.data.evaluate_id,e==1?this.startTimer(2):(this.clearTimer(),t())},()=>{this.hasClick=!1,this.startTimer(2)})})},parseReason(e){let t=e.length,i=parseInt(t/2),n=[];for(let a=0;a<t;a+=i)n.push({list:e.slice(a,a+i)});this.reasonList=n},init(e,t){this.userInfo=e,this.roomId=t,this.hasClick=!1,this.pageShow=!0,this.$nextTick(()=>{this.show=!0,this.startTimer(5),uni.onKeyboardHeightChange(this.onKeyboardChange)})}},created(){this.eventPathKey=Ve("fullPath"),uni.$on(`event_${this.eventPathKey}_show_call_evaluate`,this.init),uni.$on(`event_${this.eventPathKey}_close_call_evaluate`,this.clickClose),Re("s/call/evaluate_like.svga"),Re("s/call/evaluate_unlike.svga"),Re("s/call/evaluate_like.json"),Re("s/call/evaluate_unlike.json")},unmounted(){this.clearTimer(),uni.offKeyboardHeightChange(this.onKeyboardChange),uni.$off(`event_${this.eventPathKey}_show_call_evaluate`,this.init),uni.$off(`event_${this.eventPathKey}_close_call_evaluate`,this.clickClose)}};function Nu(e,t,i,n,a,s){let r=P((0,b.resolveDynamicComponent)("l-img"),X),l=(0,b.resolveComponent)("lottie"),o=P((0,b.resolveDynamicComponent)("uni-icons"),Ke),d=P((0,b.resolveDynamicComponent)("uni-transition"),sn);return a.pageShow?((0,b.openBlock)(),(0,b.createElementBlock)("view",{key:0,class:"view-container",onClick:t[5]||(t[5]=(...f)=>s.clickView&&s.clickView(...f)),onTouchmove:t[6]||(t[6]=(0,b.withModifiers)((...f)=>s.preventHandler&&s.preventHandler(...f),["stop","prevent"])),style:(0,b.normalizeStyle)(s.viewStyle),renderWhole:!0},[(0,b.createVNode)(d,{"mode-class":"fade",show:a.show,duration:300,style:(0,b.normalizeStyle)(s.contentStyle)},{default:(0,b.withCtx)(()=>[(0,b.createElementVNode)("view",{style:{padding:"8px",position:"relative"}},[(0,b.createElementVNode)("view",{class:"view-evaluate"},[(0,b.createElementVNode)("view",{class:"view-header"},[(0,b.createElementVNode)("view",{class:"center"},[(0,b.createVNode)(r,{src:a.userInfo.small_avatar,w:"62rpx",h:"62rpx",radius:"31rpx",border:"2rpx solid #EEEEEE"},null,8,["src"]),(0,b.createElementVNode)("view",{style:{"margin-left":"16rpx"}},[(0,b.createElementVNode)("view",{class:"center"},[(0,b.createElementVNode)("u-text",{style:(0,b.normalizeStyle)({maxWidth:`${s.nicknameWidth}px`}),class:"nickname-text"},(0,b.toDisplayString)(a.userInfo.nickname),5),s.ageText?((0,b.openBlock)(),(0,b.createElementBlock)("u-text",{key:0,style:{"line-height":"28rpx","font-size":"24rpx","font-weight":"600"}},(0,b.toDisplayString)(s.ageText),1)):(0,b.createCommentVNode)("",!0)]),(0,b.createElementVNode)("u-text",{class:"enjoy-text",style:(0,b.normalizeStyle)({maxWidth:`${s.enjoyTextWidth}px`})},(0,b.toDisplayString)(s.enjoyText),5)])]),(0,b.createElementVNode)("view",{class:"like-wrap center"},[(0,b.createElementVNode)("view",{onClick:t[0]||(t[0]=(...f)=>s.clickLike&&s.clickLike(...f))},[a.hasLike?((0,b.openBlock)(),(0,b.createBlock)(l,{key:1,src:"s/call/evaluate_like.json","auto-play":!0,style:{width:"60rpx",height:"60rpx"}})):((0,b.openBlock)(),(0,b.createBlock)(r,{key:0,onClick:s.clickLike,src:"s/pub/evaluate_like_n.png",w:"60rpx",h:"60rpx"},null,8,["onClick"]))]),(0,b.createElementVNode)("view",{class:"split-line-ver"}),(0,b.createElementVNode)("view",{onClick:t[1]||(t[1]=(...f)=>s.clickUnlike&&s.clickUnlike(...f))},[a.hasUnlike?((0,b.openBlock)(),(0,b.createBlock)(l,{key:1,src:"s/call/evaluate_unlike.json","auto-play":!0,style:{width:"60rpx",height:"60rpx"}})):((0,b.openBlock)(),(0,b.createBlock)(r,{key:0,onClick:s.clickUnlike,src:"s/pub/evaluate_unlike_n.png",w:"60rpx",h:"60rpx"},null,8,["onClick"]))])])]),a.isUnlike?((0,b.openBlock)(),(0,b.createElementBlock)("view",{key:0,class:"m-t-8"},[(0,b.createElementVNode)("view",{class:"split-line"}),(0,b.createElementVNode)("u-text",{class:"reason-tips"},(0,b.toDisplayString)(s.$str("callEvaluateTips")),1),(0,b.createElementVNode)("scroll-view",{scrollX:!0,showScrollbar:!1,style:{"flex-direction":"row",flex:"1"}},[(0,b.createElementVNode)("view",null,[((0,b.openBlock)(!0),(0,b.createElementBlock)(b.Fragment,null,(0,b.renderList)(a.reasonList,(f,h)=>((0,b.openBlock)(),(0,b.createElementBlock)("view",{key:h,class:"center"},[((0,b.openBlock)(!0),(0,b.createElementBlock)(b.Fragment,null,(0,b.renderList)(f.list,(A,D)=>((0,b.openBlock)(),(0,b.createElementBlock)("view",{key:h+"_"+D,onClick:(0,b.withModifiers)(x=>s.clickReportItem(x,A.id),["stop"]),class:(0,b.normalizeClass)(["report-label",[a.chooseIds.indexOf(A.id)!=-1?"active":""]])},[(0,b.createElementVNode)("u-text",{class:"report-text"},(0,b.toDisplayString)(A.title),1)],10,["onClick"]))),128))]))),128))])]),(0,b.createElementVNode)("view",{class:"input-wrap center"},[(0,b.createVNode)(r,{src:"s/pub/evaluate_edit.png",w:"24rpx",h:"24rpx"}),(0,b.createElementVNode)("u-input",{ref:"inputReason",modelValue:a.inputReason,onInput:t[2]||(t[2]=f=>a.inputReason=f.detail.value),type:"text",placeholder:s.$str("callEvaluateInputTips"),cursorSpacing:a.cursorSpacing,adjustPosition:!1,class:"reason-input"},null,40,["modelValue","placeholder","cursorSpacing"])]),(0,b.createElementVNode)("view",{onClick:t[3]||(t[3]=(...f)=>s.clickSubmit&&s.clickSubmit(...f)),class:"submit-btn center-align"},[(0,b.createElementVNode)("u-text",{class:"submit-text"},(0,b.toDisplayString)(s.$str("submit")),1)])])):(0,b.createCommentVNode)("",!0)]),a.isUnlike?((0,b.openBlock)(),(0,b.createElementBlock)("view",{key:0,onClick:t[4]||(t[4]=f=>s.clickClose(!1)),class:"close-icon"},[(0,b.createElementVNode)("view",{class:"close-bg center-align"},[(0,b.createVNode)(o,{type:"closeempty",size:"20rpx",color:"#333333",style:{"margin-top":"2rpx"}})])])):(0,b.createCommentVNode)("",!0)])]),_:1},8,["show","style"])],36)):(0,b.createCommentVNode)("",!0)}var rn=L(vu,[["render",Nu],["styles",[Iu]]]);var ne=j(Y());var Lu={"uni-status-bar":{"":{height:20}}},Ru={name:"UniStatusBar",data(){return{statusBarHeight:20}},mounted(){this.statusBarHeight=uni.getSystemInfoSync().statusBarHeight+"px"}};function Ou(e,t,i,n,a,s){return(0,ne.openBlock)(),(0,ne.createElementBlock)("view",{style:(0,ne.normalizeStyle)({height:a.statusBarHeight}),class:"uni-status-bar",renderWhole:!0},[(0,ne.renderSlot)(e.$slots,"default")],4)}var Mu=L(Ru,[["render",Ou],["styles",[Lu]]]),Fu={center:{"":{flexDirection:"row",alignItems:"center"}},navbar:{"":{position:"sticky",top:0}}},Es=getApp().globalData.window,Pu={components:{UniStatusBar:Mu},props:{useBg1_1:{type:Boolean,default:!1}},data(){return{sw:Es.width,slotW:Es.width-40}},computed:{bg(){return getApp().globalData.themeObj.color.bg2},bgH(){return getApp().globalData.window.statusBarHeight+44}}};function $u(e,t,i,n,a,s){let r=(0,ne.resolveComponent)("uni-status-bar");return(0,ne.openBlock)(),(0,ne.createElementBlock)("view",{class:"navbar",style:(0,ne.normalizeStyle)({width:`${a.sw}px`,background:s.bg}),renderWhole:!0},[(0,ne.createVNode)(r),(0,ne.createElementVNode)("view",{class:"center",style:{height:"44px",padding:"0 20px"}},[(0,ne.renderSlot)(e.$slots,"default")])],4)}var Cs=L(Pu,[["render",$u],["styles",[Fu]]]);var Je=j(Y());var Bu={props:{type:{type:String,default:"bg2"}},computed:{bgColor(){return getApp().globalData.themeObj.color[this.type]}}};function Uu(e,t,i,n,a,s){return(0,Je.openBlock)(),(0,Je.createElementBlock)("view",{style:(0,Je.normalizeStyle)({background:s.bgColor}),renderWhole:!0},[(0,Je.renderSlot)(e.$slots,"default")],4)}var on=L(Bu,[["render",Uu]]);var qe=j(Y());var Hu={props:{text:{type:[String,Number],default:""},type:{type:String,default:"title"},useText:{type:[Number,Boolean],default:!1},colorVal:{type:String,default:""}},computed:{color(){return this.colorVal?this.colorVal:getApp().globalData.themeObj.color[this.type]}}};function Wu(e,t,i,n,a,s){return(0,qe.openBlock)(),(0,qe.createElementBlock)("u-text",{style:(0,qe.normalizeStyle)({color:s.color})},(0,qe.toDisplayString)(i.text),5)}var ui=L(Hu,[["render",Wu]]);function gt(e,t,i,n){let a=parseInt(e.msg_type),s=e.contentObj||De(e.msg_content);switch(a){case m.M_TEXT:if(s.content)return s.content;let r=s.text;if(s.info)for(let h=0,A=s.info.length;h<A;h++)r=r.replace("[x]",s.info[h].text);return r;case m.M_VOICE:return`${Ee(a)} ${Aa(s.voice_duration)}`;case m.M_GIFT:if(s.from_type==5){let h=s.to_user_info?"@"+s.to_user_info.nickname:"@"+u("all"),A=s.to_user_info?u("msg.giftISentYou"):u("msg.giftISent");return`${Ee(a)} ${h} ${A} ${s.number} ${s.title}`}return s.from_type==6?`${Ee(a)} ${u("msg.giftISent")} ${s.number} ${s.title}`:`${Ee(a)} ${u("msg.giftISentYou")} ${s.number} ${s.title}`;case m.M_NOTICE:if(!g(s.key)){let h="";return e.chat_type==m.M_CHAT_PRI?h=ju(s):h=Gu(s,i,n),h?typeof h=="string"?`${Ee(a)} ${h}`:`${Ee(a)} ${Ae(h)}`:Ee(a)}return`${Ee(a)} ${s.content}`;case m.M_CALL:let l=e.send_uid==getApp().globalData.uid,o=Yu(s.call_status,l,t,s.duration);return`[${ha(s.call_type)}] ${o}`;case m.M_GIFT_ASK:let d;return e.send_uid==getApp().globalData.uid?d=`${u("msg.giftAskedOtherFor",{whom:Ge(t.sex)})} ${s.title}`:d=u("msg.giftAskText"),`${Ee(a)} ${d}`;case m.M_NOTICE_SYS:let f="";return s.content?f=s.content:s.text&&(f=Ae(s)),`${Ee(a)} ${f}`;case m.M_PAID_PHOTO:case m.M_PAID_VIDEO:return`${Ee(a)} ${s.content||""}`;case m.M_RECOMMEND_USER:return e.chat_type==m.M_CHAT_CLUB?u("msg.recommendUserToEvery"):u("msg.recommendUserToYou");case m.M_RECOMMEND_CLUB:return e.chat_type==m.M_CHAT_CLUB?u("msg.recommendClubToEvery"):u("msg.recommendClubToYou");default:return Vu(a,s)}}function Gu(e,t,i){let n,a,s,r,l=!1,o=e.uid_arr,d=getApp().globalData.uid;try{switch(e.key){case W.CREATE:if(e.uid==getApp().globalData.uid){let T=e.identity==ta.USER;n=Ku(T),s=[{action:2,id:i.club_id,member:1}],l=!0}else n=u("msg.clubCreate"),s=[{action:1,id:e.uid}];a={nickname:N(t[o[0]].nickname),club_name:N(i.club_name)};break;case W.JOIN:a={nickname:N(t[o[0]].nickname)},o[0]==getApp().globalData.uid?(n=Ts(),a.club_name=N(i.club_name),l=!0,s=[{action:2,id:i.club_id,member:i.is_member}]):(n=u("msg.clubJoin"),s=[{action:1,id:t[o[0]].uid}]);break;case W.EDIT_NAME:n=u("msg.clubEditName"),e.uid==getApp().globalData.uid?(a={nickname:{text:u("you")}},s=[{action:2,id:i.club_id,member:1}]):(a={nickname:N(t[o[0]].nickname)},s=[{action:1,id:t[o[0]].uid}]),a.club_name=N(e.club_name);break;case W.MUTE_ALL_MEMBER:e.uid==getApp().globalData.uid?r=e.is_mute?u("msg.clubMuteAllOnF"):u("msg.clubMuteAllOffF"):(n=e.is_mute?u("msg.clubMuteAllOn"):u("msg.clubMuteAllOff"),a={nickname:N(t[o[0]].nickname)},s=[{action:1,id:t[o[0]].uid}]);break;case W.REMOVE:let f;e.founder==getApp().globalData.uid?(f=t[e.uid],n=u("msg.clubRemoveMemberF")):(f=t[e.founder],n=u("msg.clubRemoveMember")),a={nickname:N(f.nickname)},s=[{action:1,id:f.uid}];break;case W.QUIT:n=u("msg.clubMemberQuit"),a={nickname:N(t[o[0]].nickname)},s=[{action:1,id:t[o[0]].uid}];break;case W.DISSOLUTION:e.from_admin==1?r=u("msg.clubDissolveAdmin"):(n=u("msg.clubDissolve"),a={nickname:N(t[o[0]].nickname)},s=[{action:1,id:t[o[0]].uid}]);break;case W.MUTE_MEMBER:let h;e.founder==getApp().globalData.uid?(h=t[e.uid],e.is_mute?n=u("msg.clubMuteOnF"):n=u("msg.clubMuteOffF")):(h=t[e.founder],e.is_mute?n=u("msg.clubMuteMemberTips"):n=u("msg.clubMuteOff")),a={nickname:N(h.nickname)},s=[{action:1,id:h.uid}];break;case W.MUTE_SEND_FAIL:n=e.is_mute==2?u("msg.clubMuteAllTips"):u("msg.clubMuteMemberTips"),a={nickname:N(t[o[0]].nickname)},s=[{action:1,id:t[o[0]].uid}];break;case W.INVITE_JOIN:let A=Array.isArray(e.uid);if(A?s=[{action:2,id:i.club_id,member:i.is_member}]:s=[{action:1,id:e.uid}],e.founder==getApp().globalData.uid){n=u("msg.clubInvite");let T;if(A){T="";for(let O=0,F=e.uid.length;O<F;O++){let y=t[e.uid[O]];y&&(T+=`${y.nickname}${O>=F-1?"":", "}`)}}else T=t[e.uid].nickname;a={nickname:{text:u("you")},invited_name:N(T)}}else{let T=A?e.uid.indexOf(getApp().globalData.uid)!=-1:e.uid==getApp().globalData.uid,O="";if(A)if(T)O=getApp().pubUser.nickname;else for(let F=0,y=e.uid.length;F<y;F++){let C=t[e.uid[F]];C&&(O+=`${C.nickname}${F>=y-1?"":", "}`)}else O=T?getApp().pubUser.nickname:t[e.uid].nickname;T?(n=Ts(),a={nickname:N(O),club_name:N(i.club_name)},l=!0):(n=u("msg.clubInvite"),a={nickname:N(t[e.founder].nickname),invited_name:N(O)})}break;case W.SET_FOUNDER:e.uid==getApp().globalData.uid?r=u("msg.clubSetFounderF"):(n=u("msg.clubSetFounder"),a={nickname:N(t[e.uid].nickname)},s=[{action:1,id:e.uid}]);break;case W.SET_MANAGER:let D=t[e.uid],x=t[e.founder];e.status==1?e.uid==getApp().globalData.uid?(n=u("msg.clubAdminSetF"),a={nickname:N(x.nickname)},s=[{action:1,id:x.uid}]):(n=u("msg.clubAdminSet"),a={nickname:N(D.nickname),founder_name:N(x.nickname,"#888196")},s=[{action:1,id:D.uid}]):e.uid==getApp().globalData.uid?(n=u("msg.clubAdminCancelF"),a={nickname:N(x.nickname)},s=[{action:1,id:x.uid}]):(n=u("msg.clubAdminCancel"),a={nickname:N(D.nickname),founder_name:N(x.nickname,"#888196")},s=[{action:1,id:D.uid}]);break;case W.YOUR_GIFT_RETURN:e.from_type==5?e.uid?(n=u("msg.clubGiftReturnPrivate"),a={nickname:N(t[e.uid].nickname)},s=[{action:1,id:e.uid}]):r=u("msg.clubGiftReturnAll"):e.from_type==6&&(r=u("msg.clubGiftReturnNone"));break;case W.GIFT_HAS_SIGNED:if(d==e.uid)n=u("msg.giftSignedFromYou"),a={nickname:N(t[e.to_uid].nickname)},s=[{action:1,id:e.to_uid}];else if(d==e.to_uid){n=u("msg.giftYouSignedFrom");let T=e.income>1?u("coinsLower"):u("coinLower");a={nickname:N(t[e.uid].nickname),income:N(e.income,"#888196"),coin_str:N(T,"#888196")},s=[{action:1,id:e.uid}]}break;case W.SIGN_GIFT:r=u("msg.giftYouSigned");break;case W.SIGN_GIFT_FAIL:r=u("msg.giftLateAndBeenSigned");break;case W.YOUR_GIFT_SIGNED:r=u("msg.giftBeenSignedFromYou");break;case W.ACTION_GIFT:let $=e.from_type==6?u("msg.giftRobbedLower"):u("receivedLower");e.uid==getApp().globalData.uid?(n=u("msg.clubGiftRobSend",{robOrReceive:$}),a={nickname:N(t[e.to_uid].nickname),gift_name:N(e.gift_name,"#FB4476")},s=[{action:1,id:e.to_uid}]):e.to_uid==getApp().globalData.uid?(n=u("msg.clubGiftRobReceive",{rob:$,income:e.income,min:parseInt(e.reply_time/60)}),a={gift_name:N(e.gift_name,"#FB4476"),nickname:N(t[e.uid].nickname)},s=[{action:1,id:e.uid}]):(n=u("msg.clubGiftRobPasserby",{robOrReceive:$}),a={nickname:N(t[e.to_uid].nickname),gift_name:N(e.gift_name,"#FB4476"),from_name:N(t[e.uid].nickname)},s=[{action:1,id:e.uid}]);break;case W.GIFT_NO_REPLY_RETURN:if(e.uid==getApp().globalData.uid)n=u("msg.clubGiftNoReplyS",{min:parseInt(e.reply_time/60),income:e.income}),a={nickname:N(t[e.to_uid].nickname),gift_name:N(e.gift_name,"#FB4476")},s=[{action:1,id:e.to_uid}];else{let T=t[e.uid],O=parseInt(e.reply_time/60);n=e.from_type==6?u("msg.clubGiftNoReplyRFRob",{number:O}):u("msg.clubGiftNoReplyRFReceive",{number:O}),a={nickname:N(T.nickname),gift_name:N(e.gift_name,"#FB4476"),from_name:N(T.nickname)},s=[{action:1,id:e.uid}]}break;case W.GIFT_NO_ROB_RETURN:n=u("msg.clubGiftNoRobReturn",{number:e.income}),a={gift_name:N(e.gift_name,"#FB4476")};break;case W.YOU_GIFT_ROB_OVER:n=u("msg.clubGiftRobOver"),a={gift_name:N(e.gift_name,"#FB4476")};break;case W.GIFT_NO_SIGN_RETURN:if(e.to_uid==0)n=u("msg.clubGiftNoSignReturnAll",{number:e.income}),a={gift_name:N(e.gift_name,"#FB4476")};else{let T=t[e.to_uid];n=u("msg.clubGiftNoSignReturn",{other_str:Ge(T.sex),income:e.income}),a={nickname:N(T.nickname),gift_name:N(e.gift_name,"#FB4476")}}break;case W.FIRST_MSG_FEE:r=u("msg.clubSendConsumeCoinTips",{number:Jt(e.msg_price||1)});break;case W.INVITE_FAILED:let k="";for(let T=0,O=e.uid.length;T<O;T++){let F=t[e.uid[T]];F&&(k+=`${F.nickname}${T>=O-1?"":", "}`)}n=e.uid.length>1?u("club.inviteUsersFailedTips"):u("club.inviteUserFailedTips"),a={invited_name:N(k)};break;case W.SIGNED_FOR:n=u("giftSignedTips"),a={gift_name:N(e.gift_name),nickname:N(e.receiver_name)},s=[{action:1,id:e.to_uid}];break;default:return""}}catch(f){return ji(f,e,t,i),"New Message"}return r||{text:n,info:a,click:s,isLong:l}}function ju(e){let t;try{switch(e.key){case vi.NOT_REPLY:t=u("msg.notReplyCountTips",{count:e.count});break;case vi.NOT_CHEAT_USER:t=u("msg.notCheatUserTips");break;default:return""}}catch(i){return ji(i,e,{},{}),"New Message"}return t||""}function N(e,t="#0091FF"){return{text:e,color:t}}function Vu(e,t){switch(e){case m.M_N_DEF:return t.tips?`${Ee(e)} ${t.tips}`:`[${t.title||u("notice")}] ${Ae(t)}`;case m.M_N_AUDIT:return`[${t.title}] ${t.tips}`;case m.M_N_VIP:case m.M_N_RECHARGE:return`[${t.title}] ${Ae(t)}`;case m.M_N_GREETING_AUDIT:return`[${t.title}] ${t.tips}`;case m.M_N_SYS_NOTICE:let i=t.title;return t.tips?`[${i}] ${t.tips}`:`[${i}] ${Ae(t)}`;case m.M_N_CALL:return`[${t.title}] ${u("msg.revenueCoins")}:${t.total_income}`;case m.M_N_COOPERATE:return`[${u("msg.cooperate")}] ${u("msg.cooperateTips")}`;case m.M_N_WITHDRAW:let n="";return t.tips?n=t.tips:t.text&&(n=Ae(t)),`[${t.title}] ${n}`;case m.M_N_MONITOR:let a=t.title||u("msg.secretaryNotice"),s=t.tips||Ae(t);return`[${a}] ${s}`;case m.M_N_REPORT_AUDIT:return`[${t.title}] ${t.content}`;case m.M_N_CLUB_AUDIT_REJECT:case m.M_N_CLUB_AUDIT:let r="";return t.text?r=Ae(t):t.content&&(r=t.content),`[${t.title||u("msg.secretaryNotice")}] ${r}`;case m.M_N_IMG:let o="";return t.content?o=t.content:t.text&&(o=Ae(t)),o;case m.M_N_PRIVACY_CALL:let d="";return t.tips?d=t.tips:t.text&&(d=Ae(t)),`[${t.title}] ${d}`;case m.M_N_WITHDRAW_NOTICE:let f="";return t.tips?f=t.tips:t.text&&(f=Ae(t)),`[${t.title}] ${f}`;case m.M_N_WITH_MEDIA:let h="";return t.tips?h=t.tips:t.text&&(h=Ae(t)),`[${t.title}] ${h}`;default:return Ee(e)}}function Ae(e){if(g(e.info))return"";let t=Object.keys(e.info);for(let i=0,n=t.length;i<n;i++){let a=t[i];e.text=e.text.replace("[%"+a+"%]",` ${e.info[a].text} `)}return e.text}function Ds(e){if(g(e.info))return"";for(let t=0,i=e.info.length;t<i;t++)e.text=e.text.replace("[x]",` ${e.info[t].text} `);return e.text}function Yu(e,t,i,n){if(e==0)return u("cancelled");if(e==1)return t?u("msg.callDeclinedBy",{nickname:Ge(i)}):u("declined");if(e==2)return`${u("duration")}: ${n}`;if(e==3)return t?u("msg.callNotAnswer"):u("cancelled")}function Ee(e){return{2:`[${u("voice")}]`,3:`[${u("picture")}]`,5:`[${u("gift")}]`,6:`[${u("notice")}]`,18:`[${u("video")}]`,21:`[${u("msg.askForGift")}]`,22:`[${u("msg.systemNotice")}]`,23:`[${u("msg.sticker")}]`,25:`[${u("msg.feePhoto")}]`,26:`[${u("msg.feeVideo")}]`,27:`[${u("msg.matchSuccess")}]`,100:`[${u("msg.systemNotice")}]`}[e]||"["+u("msg.newNews")+"]"}function ht(e){let t={},i=Object.keys(e).sort(function(n,a){return e[a].sortTime-e[n].sortTime});for(let n=0,a=i.length;n<a;n++)t[i[n]]=e[i[n]];return t}function ks(e){return!e||!e.income||!e.income_uid||!e.can_sign||e.income<=0||e.income_uid!=getApp().globalData.uid?!1:e.income}function xs(e){let t=[u("clubRules.prohibitionClause1"),u("clubRules.prohibitionClause2"),u("clubRules.prohibitionClause3"),u("clubRules.prohibitionClause4")];e||(t.push(u("clubRules.prohibitionClause5")),t.push(u("clubRules.prohibitionClause6"))),t.push(u("clubRules.prohibitionClause7")),t.push(u("clubRules.prohibitionClause8")),t.push(u("clubRules.prohibitionClause9"));let i="";for(let n=0,a=t.length;n<a;n++){let s=n+1+". "+t[n]+`
`;i+=s}return i}function zu(){let e=[u("clubRules.belowTips1",{hour_text:kt(24)}),u("clubRules.belowTips2",{ban_hour_text:kt(12),mute_hour_text:kt(24)}),u("clubRules.belowTips3",{hour_text:kt(24),disband_text:u("clubRules.beDisbanded"),ban_create_text:u("clubRules.nowAllowCreateClub")})],t="";for(let i=0,n=e.length;i<n;i++){let a=i<n-1?`
`:"",s="- "+e[i]+a;t+=s}return t}function Ku(e){let t="";return t=`${u("msg.clubHaveCreatedFounder")}
`,t+=`${u("clubRules.readCarefully")}
`,t+=`${u("clubRules.notTalkBelowContent")}
`,t+=`${xs(e)}`,t+=`${u("clubRules.punishedTips")}
`,t+=`${zu()}`,t}function Ts(){let e="";return e=`${u("msg.clubJoinSelf")}
`,e+=`${u("clubRules.readCarefully")}
`,e+=`${u("clubRules.notTalkBelowContent")}
`,e+=`${xs(!te())}`,e+=`${u("msg.chatManner")}
`,e+=`${u("msg.chatReportedWillBanned")}
`,e+=`${u("msg.chatClubReportTip")}`,e}var zf=j(Y());function Is(e,t){let i=ln();return new Promise(n=>{let a=0;Q(`SELECT * FROM ${i} WHERE uid = ${e.uid} LIMIT 1`).then(s=>{if(s.length>0)if(t&&$i(s[0],e)){a=1;let r=`UPDATE ${i} SET nickname = '${se(e.nickname)}', avatar = '${e.avatar}', sex = ${V(e.sex)}, birthday = '${Fe(e.birthday)}', is_vip = ${V(e.is_vip)}, is_auth = ${V(e.is_auth)}, level = ${V(e.level)}, country_code = '${Fe(e.country_code)}', country_flag = '${Fe(e.country_flag)}', language = '${Fe(e.language)}', hide_vip = ${V(e.hide_vip)}, hide_level = ${V(e.hide_level)}, hide_profile = ${V(e.hide_profile)}, auth_status = ${V(e.auth_status)} WHERE uid = ${e.uid}`;re(r).then(()=>{n(a)},()=>{n(a)})}else n(a);else{a=2;let r=`INSERT INTO ${i} (uid, nickname, avatar, sex, birthday, is_vip, is_auth, level, country_code, country_flag, language, hide_vip, hide_level, hide_profile, auth_status) VALUES (${e.uid}, '${se(e.nickname)}', '${e.avatar}', ${V(e.sex)}, '${Fe(e.birthday)}', ${V(e.is_vip)}, ${V(e.is_auth)}, ${V(e.level)}, '${Fe(e.country_code)}', '${Fe(e.country_flag)}', '${Fe(e.language)}', ${V(e.hide_vip)}, ${V(e.hide_level)}, ${V(e.hide_profile)}, ${V(e.auth_status)})`;re(r).then(()=>{n(a)},()=>{n(a)})}},()=>{n(a)})})}function vs(e){return new Promise(t=>{let i=Array.isArray(e),n=0,a=i?e.length:Object.keys(e).length;for(let s in e){let r=e[s];Is(r,!0).then(()=>{n+=1,n>=a&&t()})}})}function _t(e,t=!0){let i=ln();return new Promise(n=>{if(e==0){n(null);return}if(e==m.SYSTEM_ID){let a=it();n({uid:m.SYSTEM_ID,nickname:a.name,avatar:a.logo,sex:1});return}Q(`SELECT * FROM ${i} WHERE uid = ${e} LIMIT 1`).then(a=>{let s=a[0];if(g(s)&&e==m.SYSTEM_ID){n({uid:m.SYSTEM_ID,avatar:it().logo,nickname:it().nickname});return}if(s&&(s.nickname=je(s.nickname)),g(s)&&e!=m.SYSTEM_ID){if(!t){n(null);return}H.request("/user/info",{target_uid:e,extra:"extra"},!1,!0).then(r=>{r.data&&r.data.user_info?(s=r.data.user_info,s.small_avatar&&(s.avatar=s.small_avatar),n(s),Is(s,!0)):n(null)},()=>{n(null)})}else n(s)},()=>{n(null)})})}function Ns(e,t=!0){let i=ln();return new Promise(n=>{if(t&&(e=e.filter(r=>!g(r))),e.length<=0){n({});return}let a={},s=`SELECT * FROM ${i} WHERE uid IN (${e.join(",")}) LIMIT ${e.length}`;Q(s).then(r=>{for(let l=0,o=r.length;l<o;l++){let d=r[l];d&&(d.nickname=je(d.nickname),a[d.uid]=d)}n(a)})})}function ln(){return getApp().globalData.uid==2256587?"tb_user_1":"tb_user"}var p=j(Y());var Ju={"view-this":{"":{flexDirection:"row",alignItems:"center",position:"relative",marginRight:"8rpx"}},"text-level":{"":{width:"50rpx",lineHeight:"50rpx",textAlign:"center",color:"#FFFFFF",position:"absolute",top:0}}},qu={props:{info:{type:Object,default(){return{}}},vipAlways:{type:Boolean,default:!1},levelAlways:{type:Boolean,default:!1},hideVip:{type:Boolean,default:!1}},computed:{show(){return this.info.is_auth||this.info.level>0||this.showVip||this.levelAlways},showVip(){return this.hideVip?!1:this.info.is_vip?this.info.hide_vip?this.vipAlways:!0:!1},showLevel(){return!this.info.hide_level&&(this.info.level>0||this.info.is_auth)?!0:this.levelAlways},levelStr(){let e=this.info.is_auth?1:0;return this.info.level<=0?e:this.info.level},levelSrc(){return this.info.sex==2?"s/pub/level_a.png":"s/pub/level_c.png"},levelSize(){return this.info.level>99?"10rpx":this.info.level>9?"14rpx":"16rpx"},levelWeight(){return this.info.level>99?"bold":"normal"}}};function Xu(e,t,i,n,a,s){let r=P((0,p.resolveDynamicComponent)("l-img"),X);return s.show?((0,p.openBlock)(),(0,p.createElementBlock)("view",{key:0,class:"view-this",renderWhole:!0},[s.showLevel?((0,p.openBlock)(),(0,p.createElementBlock)("view",{key:0},[(0,p.createVNode)(r,{src:s.levelSrc,w:"50rpx",h:"50rpx"},null,8,["src"]),(0,p.createElementVNode)("u-text",{class:"text-level",style:(0,p.normalizeStyle)({fontSize:s.levelSize,fontWeight:s.levelWeight})},(0,p.toDisplayString)(s.levelStr),5)])):(0,p.createCommentVNode)("",!0),s.showVip?((0,p.openBlock)(),(0,p.createBlock)(r,{key:1,src:"s/pub/vip_3.png",w:"56rpx",h:"24rpx",style:{"margin-left":"8rpx"}})):(0,p.createCommentVNode)("",!0)])):(0,p.createCommentVNode)("",!0)}var Ls=L(qu,[["render",Xu],["styles",[Ju]]]),Zu={center:{"":{alignItems:"center",flexDirection:"row"}},"m-l-4":{"":{marginLeft:"8rpx"}},"m-r-4":{"":{marginRight:"8rpx"}}},Qu={props:{user:{type:Object,default(){return{}}},imgW:{type:Number,default:40},imgH:{type:Number,default:26},fontSize:{type:Number,default:24},color:{type:String,default:""},showName:{type:Boolean,default:!1},showCode:{type:Boolean,default:!0},desc:{type:Boolean,default:!1}},computed:{defClass(){let e={fontSize:`${this.fontSize}rpx`};return g(this.color)?e.color=getApp().globalData.themeObj.color.title:e.color=this.color,e}}};function ed(e,t,i,n,a,s){let r=P((0,p.resolveDynamicComponent)("l-img"),X);return i.user.country_code&&!i.desc?((0,p.openBlock)(),(0,p.createElementBlock)("view",{key:0,class:"center"},[(0,p.createVNode)(r,{src:i.user.country_flag,w:`${i.imgW}rpx`,h:`${i.imgH}rpx`},null,8,["src","w","h"]),i.showCode&&i.user.country_code?((0,p.openBlock)(),(0,p.createElementBlock)("u-text",{key:0,class:"m-l-4",style:(0,p.normalizeStyle)(s.defClass)},(0,p.toDisplayString)(i.user.country_code.toUpperCase()),5)):(0,p.createCommentVNode)("",!0),i.showName&&i.user.country_name?((0,p.openBlock)(),(0,p.createElementBlock)("u-text",{key:1,class:"m-l-4",style:(0,p.normalizeStyle)(s.defClass)},(0,p.toDisplayString)(i.user.country_name),5)):(0,p.createCommentVNode)("",!0)])):i.user.country_code?((0,p.openBlock)(),(0,p.createElementBlock)("view",{key:1,class:"center m-r-4"},[i.showName&&i.user.country_name?((0,p.openBlock)(),(0,p.createElementBlock)("u-text",{key:0,class:"m-r-4",style:(0,p.normalizeStyle)(s.defClass)},(0,p.toDisplayString)(i.user.country_name),5)):(0,p.createCommentVNode)("",!0),i.showCode&&i.user.country_code?((0,p.openBlock)(),(0,p.createElementBlock)("u-text",{key:1,class:"m-r-4",style:(0,p.normalizeStyle)(s.defClass)},(0,p.toDisplayString)(i.user.country_code.toUpperCase()),5)):(0,p.createCommentVNode)("",!0),(0,p.createVNode)(r,{src:i.user.country_flag,w:`${i.imgW}rpx`,h:`${i.imgH}rpx`},null,8,["src","w","h"])])):(0,p.createCommentVNode)("",!0)}var Rs=L(Qu,[["render",ed],["styles",[Zu]]]),td={"user-info":{"":{flexDirection:"row",alignItems:"center"}},"nickname-nvue":{"":{lines:1,textOverflow:"ellipsis",wordWrap:"anywhere"}},"m-r-4":{"":{marginRight:"8rpx"}},"text-official":{"":{lineHeight:"28rpx",backgroundColor:"#34C759",borderRadius:"4rpx",paddingTop:0,paddingRight:"8rpx",paddingBottom:0,paddingLeft:"8rpx",color:"#FFFFFF",fontSize:"20rpx",fontStyle:"italic",fontWeight:"700",marginRight:"8rpx"}}},id={components:{LImg:X,CountryCode:Rs,LevelVip:Ls},props:{info:{type:Object,default(){return{}}},noName:{type:Number,default:0},nameColor:{type:String,default:""},nameSize:{type:String,default:"26rpx"},nameWidth:{type:String,default:"300rpx"},fw:{type:[String,Number],default:"400"},desc:{type:Boolean,default:!1},isAdmin:{type:Number,default:0},showAge:{type:Boolean,default:!0},showAuth:{type:Boolean,default:!0},showCountry:{type:Boolean,default:!1},showCountryCode:{type:Boolean,default:!0},levelAlways:{type:Boolean,default:!1}},computed:{officialStr(){return this.info.auth_status==9?u("official"):""},age(){if(!this.showAge||g(this.info.birthday)||this.info.hide_profile)return"";let e=qt(this.info.birthday);return g(e)||isNaN(e)?"":`${this.noName?"":", "}${e}`},nicknameText(){return Ka(this.info,this.isAdmin)},showCountryInfo(){return this.showCountry&&this.info.hide_profile!=1},nicknameColor(){return g(this.nameColor)?getApp().globalData.themeObj.color.title:this.nameColor}}};function nd(e,t,i,n,a,s){let r=P((0,p.resolveDynamicComponent)("level-vip"),Ls),l=P((0,p.resolveDynamicComponent)("country-code"),Rs),o=P((0,p.resolveDynamicComponent)("l-img"),X);return(0,p.openBlock)(),(0,p.createElementBlock)("view",{renderWhole:!0},[i.desc?((0,p.openBlock)(),(0,p.createElementBlock)("view",{key:1,class:"user-info",style:{"justify-content":"flex-end"}},[s.officialStr?((0,p.openBlock)(),(0,p.createElementBlock)("u-text",{key:0,class:"text-official"},(0,p.toDisplayString)(s.officialStr),1)):((0,p.openBlock)(),(0,p.createElementBlock)("view",{key:1,class:"user-info"},[i.showAuth&&i.info.auth_status==1?((0,p.openBlock)(),(0,p.createBlock)(o,{key:0,src:"s/pub/verified_1.png",w:"24rpx",h:"24rpx",style:{"margin-right":"8rpx"}})):(0,p.createCommentVNode)("",!0),s.showCountryInfo?((0,p.openBlock)(),(0,p.createBlock)(l,{key:1,user:i.info,color:s.nicknameColor,desc:i.desc,"show-code":i.showCountryCode},null,8,["user","color","desc","show-code"])):(0,p.createCommentVNode)("",!0),(0,p.createVNode)(r,{info:i.info,"vip-always":i.isAdmin==1,"level-always":i.levelAlways,style:{"margin-right":"8rpx"}},null,8,["info","vip-always","level-always"])])),i.noName?(0,p.createCommentVNode)("",!0):((0,p.openBlock)(),(0,p.createElementBlock)("u-text",{key:2,class:(0,p.normalizeClass)(["nickname-nvue",[s.age?"":"m-r-4"]]),style:(0,p.normalizeStyle)({color:s.nicknameColor,fontSize:i.nameSize,maxWidth:i.nameWidth,fontWeight:i.fw})},(0,p.toDisplayString)(s.nicknameText),7)),s.age?((0,p.openBlock)(),(0,p.createElementBlock)("u-text",{key:3,class:"nickname-nvue",style:(0,p.normalizeStyle)({color:s.nicknameColor,fontSize:i.nameSize,fontWeight:i.fw})},(0,p.toDisplayString)(s.age),5)):(0,p.createCommentVNode)("",!0)])):((0,p.openBlock)(),(0,p.createElementBlock)("view",{key:0,class:"user-info"},[i.noName?(0,p.createCommentVNode)("",!0):((0,p.openBlock)(),(0,p.createElementBlock)("u-text",{key:0,class:(0,p.normalizeClass)(["nickname-nvue",[s.age?"":"m-r-4"]]),style:(0,p.normalizeStyle)({color:s.nicknameColor,fontSize:i.nameSize,maxWidth:i.nameWidth,fontWeight:i.fw})},(0,p.toDisplayString)(s.nicknameText),7)),s.age?((0,p.openBlock)(),(0,p.createElementBlock)("u-text",{key:1,class:"nickname-nvue m-r-4",style:(0,p.normalizeStyle)({color:s.nicknameColor,fontSize:i.nameSize,fontWeight:i.fw})},(0,p.toDisplayString)(s.age),5)):(0,p.createCommentVNode)("",!0),s.officialStr?((0,p.openBlock)(),(0,p.createElementBlock)("u-text",{key:2,class:"text-official"},(0,p.toDisplayString)(s.officialStr),1)):((0,p.openBlock)(),(0,p.createElementBlock)("view",{key:3,class:"user-info"},[(0,p.createVNode)(r,{info:i.info,"vip-always":i.isAdmin==1,"level-always":i.levelAlways,style:{"margin-right":"8rpx"}},null,8,["info","vip-always","level-always"]),s.showCountryInfo?((0,p.openBlock)(),(0,p.createBlock)(l,{key:0,user:i.info,color:s.nicknameColor,"show-code":i.showCountryCode,style:{"margin-right":"8rpx"}},null,8,["user","color","show-code"])):(0,p.createCommentVNode)("",!0),i.showAuth&&i.info.auth_status==1?((0,p.openBlock)(),(0,p.createBlock)(o,{key:1,src:"s/pub/verified_1.png",w:"24rpx",h:"24rpx",style:{"margin-right":"8rpx"}})):(0,p.createCommentVNode)("",!0)]))]))])}var cn=L(id,[["render",nd],["styles",[td]]]);var bt=j(Y());var ad={line:{"":{height:"2rpx",transform:"scaleY(0.5)",transformOrigin:"50% 100%"}}},sd={computed:{bgColor(){return getApp().globalData.themeObj.color.line}}};function rd(e,t,i,n,a,s){return(0,bt.openBlock)(),(0,bt.createElementBlock)("view",{style:(0,bt.normalizeStyle)({background:s.bgColor}),class:"line",renderWhole:!0},null,4)}var Os=L(sd,[["render",rd],["styles",[ad]]]);var xe=j(Y()),od={"center-align":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"refresh-wrap":{"":{height:"80rpx",color:"#777777"}},loading:{".refresh-wrap ":{width:"50rpx",height:"50rpx",color:"#777777",position:"absolute"}}},ld={props:{bgValue:{type:String,default:""}},emits:["onRefresh"],data(){return{sW:getApp().globalData.window.width,isAndroid:m.isAndroid,isRefreshing:!1,showPullLoading:!1}},computed:{bgColor(){return m.isAndroid?this.bgValue?{backgroundColor:getApp().globalData.themeObj.color[this.bgValue]}:{}:{}}},methods:{onPullingDown(){this.showPullLoading||(this.showPullLoading=!0)},onRefresh(){if(this.isRefreshing)return;this.isRefreshing||(this.isRefreshing=!0);let e=new Date().getTime();this.$emit("onRefresh",e)},refreshFinish(e){let t=new Date().getTime()-e;t<1e3?setTimeout(()=>{this.isRefreshing=!1,this.showPullLoading=!1},1e3-t):(this.isRefreshing=!1,this.showPullLoading=!1)}}};function cd(e,t,i,n,a,s){return(0,xe.openBlock)(),(0,xe.createElementBlock)("refresh",{onRefresh:t[0]||(t[0]=(...r)=>s.onRefresh&&s.onRefresh(...r)),onPullingdown:t[1]||(t[1]=(...r)=>s.onPullingDown&&s.onPullingDown(...r)),display:a.isRefreshing?"show":"hide",class:"center-align refresh-wrap",style:(0,xe.normalizeStyle)([{width:`${a.sW}px`},s.bgColor])},[a.showPullLoading&&!a.isAndroid?((0,xe.openBlock)(),(0,xe.createElementBlock)("loading-indicator",{key:0,class:"loading"})):(0,xe.createCommentVNode)("",!0),(0,xe.createElementVNode)("loading-indicator",{class:"loading"})],44,["display"])}var Ms=L(ld,[["render",cd],["styles",[od]]]);function un(e){return new Promise(t=>{Q(`SELECT * FROM tb_club WHERE club_id = ${e} LIMIT 1`).then(i=>{let n=i[0];n&&(n.club_name=je(n.club_name)),t(n)},function(){t(null)})})}function Fs(e,t=!0){return new Promise(i=>{let n={};if(t&&(e=e.filter(a=>!g(a))),e.length<=0)i(n);else{let a=`SELECT * FROM tb_club WHERE club_id IN (${e.join(",")}) LIMIT ${e.length}`;Q(a).then(s=>{for(let r=0,l=s.length;r<l;r++){let o=s[r];o&&(o.club_name=je(o.club_name),n[o.club_id]=o)}i(n)})}})}var ud=18;function di(e,t){return new Promise(i=>{let n=`SELECT * FROM tb_msg_index WHERE chat_id = ${e} AND chat_type = ${t} LIMIT 1`;Q(n).then(a=>{let s=a[0];s&&(s.msg_content=je(s.msg_content)),i(s)},()=>{i(null)})})}function dn(e,t){return new Promise(i=>{let n=t||ud,a=n+1,s;e==0?s=`SELECT * FROM tb_msg_index WHERE chat_type != ${m.M_CHAT_NOTICE} ORDER BY is_top DESC, ctime DESC LIMIT 0, ${a}`:s=`SELECT * FROM tb_msg_index WHERE chat_type != ${m.M_CHAT_NOTICE} AND ctime < ${e} ORDER BY is_top DESC, ctime DESC LIMIT 0, ${a}`,Q(s).then(r=>{i(Ga(r,n))},r=>{i({rows:[],hasMore:!1,forLen:0,ctime:0,mtime:0})})})}function Ps(){return new Promise(e=>{let t={unread:0,pri:0,club:0,ass:0,notice:0,notify:0,club_notice:0};Q("SELECT * FROM tb_msg_index WHERE unread > 0").then(i=>{let n=i.length;if(n<=0){e(t);return}let a=[];for(let r=0,l=n;r<l;r++){let o=i[r];o&&o.msg_notice!=0&&a.push(o)}if(a.length<=0){e(t);return}let s=0;for(let r=0,l=a.length;r<l;r++){let o=a[r];o.chat_type==m.M_CHAT_CLUB?un(o.chat_id).then(d=>{g(d)||(t.club+=o.unread),s+=1,s==l&&(t.unread=t.pri+t.club+t.notice+t.notify+t.ass+t.club_notice,e(t))}):_t(o.chat_id).then(d=>{o.chat_type==m.M_CHAT_PRI&&!g(d)?t.pri+=o.unread:o.chat_type==m.M_CHAT_NOTICE?t.notice+=o.unread:o.chat_type==m.M_CHAT_NOTIFY?t.notify+=o.unread:o.chat_type==m.M_CHAT_CLUB_NOTICE?t.club_notice+=o.unread:t.ass+=o.unread,s+=1,s==l&&(t.unread=t.pri+t.club+t.notice+t.notify+t.ass+t.club_notice,e(t))})}},()=>{e(t)})})}function $s(){return new Promise(e=>{Q("SELECT count(*) as count from tb_msg_index WHERE unread > 0 AND msg_notice > 0").then(t=>{g(t)?e(0):e(t[0].count)},()=>{e(0)})})}function fn(e,t){return new Promise(i=>{let n=`DELETE FROM tb_msg_index WHERE chat_id = ${e} AND chat_type = ${t}`;re(n).then(()=>{pd(e,t),i()},()=>{i()})})}function Bs(){return Se(this,null,function*(){try{let e=yield dd([m.M_CHAT_CLUB]);if(e&&e.length>0)for(let n=0,a=e.length;n<a;n++){let s=e[n];yield fn(s.chat_id,s.chat_type)}let t=`DELETE FROM tb_msg_index WHERE chat_type = ${m.M_CHAT_PRI}`;yield re(t);let i=wa(0,9);for(let n=0,a=i.length;n<a;n++){let s=i[n];yield re("DROP TABLE IF EXISTS tb_msg_"+s)}}catch(e){}})}function dd(e){return Q(`SELECT * FROM tb_msg_index WHERE chat_type IN (${e.join(",")})`)}function mn(e,t,i){return new Promise(n=>{let a=`UPDATE tb_msg_index SET msg_content = '${se(i)}' WHERE chat_id = ${e} AND chat_type = ${t}`;re(a).then(s=>{n()},()=>{n()})})}function Us(){return new Promise(e=>{re("UPDATE tb_msg_index SET unread = 0 WHERE unread > 0").then(i=>{e()},()=>{e()})})}function Hs(e){return Q(`SELECT * FROM tb_msg_index WHERE chat_type IN (${e.join(",")}) ORDER BY mtime DESC LIMIT 1`)}function fd(e,t){return new Promise(i=>{let n=pn(e,t);try{let a=`CREATE TABLE IF NOT EXISTS ${n} (id INTEGER PRIMARY KEY AUTOINCREMENT, chat_id INTEGER, chat_type INTEGER, send_uid INTEGER, mtime INTEGER, ctime INTEGER, msg_type INTEGER, msg_content varchar(500), msg_status INTEGER, m_type INTEGER, remark varchar(500))`;re(a).then(()=>{re(`CREATE index IF NOT EXISTS idx_ctime on ${n} (chat_id, ctime, chat_type)`),re(`CREATE index IF NOT EXISTS idx_mtime on ${n} (chat_id, mtime)`),i()})}catch(a){i()}})}function Ws(e,t){let i=1;return new Promise(n=>{fd(e.chat_id,e.chat_type).then(()=>md(e)).then(a=>a!=1?(n({isSave:0,isNotice:i}),$e):di(e.chat_id,e.chat_type)).then(a=>{let s=De(e.msg_content),r=typeof e.msg_status=="undefined"?0:Number(e.msg_status);isNaN(r)&&(r=0);let l,o=gd(e,s),d=0,f,h="";g(e.remark)?a&&(h=a.remark||""):h=e.remark,a?(f=a.unread<=0,o?i=0:i=a.msg_notice,a.ctime<e.ctime&&(t&&e.send_uid!=getApp().globalData.uid&&getApp().globalData.curChatId!=e.chat_id?(d=o?0:1,l=`UPDATE tb_msg_index SET unread = ${a.unread+d}, send_uid = ${e.send_uid}, msg_type = ${e.msg_type}, msg_content = '${se(e.msg_content)}', mtime = ${e.mtime}, ctime = ${e.ctime}, msg_status = ${r}, remark = '${se(h)}' WHERE chat_id = ${e.chat_id} AND chat_type = ${e.chat_type}`):l=`UPDATE tb_msg_index SET send_uid = ${e.send_uid}, msg_type = ${e.msg_type}, msg_content = '${se(e.msg_content)}', mtime = ${e.mtime}, ctime = ${e.ctime}, msg_status = ${r}, remark = '${se(h)}' WHERE chat_id = ${e.chat_id} AND chat_type = ${e.chat_type}`)):(f=!0,i=o?0:1,d=t&&e.send_uid!=getApp().globalData.uid&&!o?1:0,l=`INSERT INTO tb_msg_index (chat_id, chat_type, send_uid, msg_type, msg_content, mtime, ctime, unread, is_top, msg_notice, has_at, msg_status, remark) values (${e.chat_id}, ${e.chat_type}, ${e.send_uid}, ${e.msg_type}, '${se(e.msg_content)}', ${e.mtime}, ${e.ctime}, ${d}, ${V(e.is_top)}, ${hd(e.msg_notice)}, 0, ${r}, '${se(h)}')`),g(l)?n({isSave:1,isNotice:0,unread:d,addTabUnread:f}):re(l).then(A=>{n({isSave:1,isNotice:i,unread:d,addTabUnread:f})})})})}function md(e){return new Promise(t=>{let i=pn(e.chat_id,e.chat_type);Q(`SELECT * FROM ${i} WHERE chat_id = ${e.chat_id} AND mtime = ${e.mtime} LIMIT 1`).then(n=>{if(n[0]){t(2);return}e.ctime=Wa(e.ctime,e.mtime);let s=`INSERT INTO ${i} (chat_id, chat_type, send_uid, mtime, ctime, msg_type, msg_content, msg_status, m_type, remark) VALUES (${e.chat_id}, ${e.chat_type}, ${e.send_uid}, ${e.mtime}, ${e.ctime}, ${e.msg_type}, '${se(e.msg_content)}', ${V(e.msg_status)}, 0, '')`;re(s).then(()=>{t(1)},()=>{t(0)})},n=>{t(0)})})}function pd(e,t){return Se(this,null,function*(){try{let i=pn(e,t);if(!(yield Ha(i)))return!1;yield re(`DELETE FROM ${i} WHERE chat_id = ${e}`)}catch(i){return!1}})}function gd(e,t){return e.msg_type==m.M_MATCH_SUCCESS?!0:e.msg_type!=m.M_CALL||e.send_uid==getApp().globalData.uid?!1:t.call_status==2||t.call_status==1}function hd(e){return e==null?1:parseInt(e)}function pn(e,t){let i=_d();if(t==m.M_CHAT_CLUB)return`${i}${e}`;if(e==m.SYSTEM_ID)return`${i}${e}`;let n=Number(e)%10;return`${i}${n}`}function _d(){return"tb_msg_"}var om=j(Y());function Gs(){return new Promise(e=>{let t,i;bd().then(n=>(t=n,Q("SELECT * FROM tb_msg_sys_index_v1 ORDER BY ctime DESC LIMIT 1"))).then(n=>n.length<=0?(e({item:null,unread:0}),$e):(i=n[0],_t(i.chat_id))).then(n=>{i.unread=t,e({item:i,user:n,unread:t})})})}function bd(){return new Promise(e=>{let t=0;Q("SELECT * FROM tb_msg_sys_index_v1 WHERE unread > 0").then(i=>{let n=i.length;if(n<=0){e(t);return}for(let a=0,s=n;a<s;a++)t+=i[a].unread;e(t)})})}var oe=j(Y()),js={data(){return{isShareEnterClose:!1,userInitFinish:getApp().globalData.userInitFinish}},computed:{showShareEnter(){if(getApp().globalData.appCRE==0)return!1;let e=!this.isShareEnterClose&&this.userInitFinish&&getApp().globalData.showShareEnter;if(te()||!ii())return e;{let t=q("user_share_enter_status_"+getApp().globalData.uid);return e&&g(t)}},bannerShowLuckyWheel(){return this.userInitFinish?getApp().globalData.prizeWheelShow:!1}},methods:{tabBarChange(e){},onEventUserInit(e){this.userInitFinish=!0,typeof this.onEventUserInitAfter=="function"&&this.onEventUserInitAfter(e)}},onTabItemTap(e){},onShow(){getApp().globalData.curCallId=et.NONE;let e=getApp().globalData.s.state.pubUnread;dt(Le.MSG,e),Gt(),I("appDialog/executeClubNoticeDialog",{delay:1}),getApp().globalData.isMainTabOnShowFilterAppShow&&getApp().socketCheckConnect(It.TAB_SHOW),getApp().checkAndroidPayStatus()},onUnload(){uni.$off("event_user_init",this.onEventUserInit),uni.$off("event_close_share_enter")},onLoad(){uni.$on("event_user_init",this.onEventUserInit),uni.$on("event_close_share_enter",()=>{ii()&&Me("user_share_enter_status_"+getApp().globalData.uid,1),this.isShareEnterClose=!0,getApp().globalData.showShareEnter=!1})},onBackPress(e){if(Ia(!1),e.from=="backbutton")return!0}},yd={"share-enter":{"":{position:"fixed",right:0}},"earn-text":{"":{fontSize:"16rpx",fontWeight:"bold",color:"#FFFFFF",position:"absolute",bottom:"40rpx",textAlign:"center",lineHeight:"20rpx",width:"186rpx"}},"close-icon":{"":{paddingTop:"20rpx",paddingRight:"20rpx",paddingBottom:"20rpx",paddingLeft:"20rpx",position:"absolute",top:0,right:"12rpx"}}},Ad={components:{LImg:X},props:{hasTabBar:{type:Boolean,default:!0}},computed:{marginB(){let e=parseInt(getApp().globalData.window.height*.074),t=uni.upx2px(200),i=16*getApp().globalData.window.scaleH;return e+t+i}},methods:{$str:u,clickThis(e){e&&e.stopPropagation(),U("/pagesPub/share/index")},clickClose(e){e&&e.stopPropagation(),uni.$emit("event_close_share_enter")}}};function wd(e,t,i,n,a,s){let r=P((0,oe.resolveDynamicComponent)("l-img"),X);return(0,oe.openBlock)(),(0,oe.createElementBlock)("view",{onClick:t[1]||(t[1]=(...l)=>s.clickThis&&s.clickThis(...l)),class:"share-enter",style:(0,oe.normalizeStyle)({bottom:`${s.marginB}px`}),renderWhole:!0},[(0,oe.createElementVNode)("view",{style:{position:"relative",width:"186rpx"}},[(0,oe.createVNode)(r,{onClick:s.clickThis,src:"s/share/home_enter.png",w:"186rpx",h:"180rpx"},null,8,["onClick"]),(0,oe.createElementVNode)("u-text",{class:"earn-text"},(0,oe.toDisplayString)(s.$str("coins.earn")),1),(0,oe.createElementVNode)("view",{onClick:t[0]||(t[0]=(...l)=>s.clickClose&&s.clickClose(...l)),class:"close-icon"},[(0,oe.createVNode)(r,{onClick:s.clickClose,src:"s/share/close.png",w:"26rpx",h:"26rpx"},null,8,["onClick"])])])],4)}var Vs=L(Ad,[["render",wd],["styles",[yd]]]);var yt=j(Y());var Sd={components:{UniIcons:Ke},props:{type:{type:String,default:"right"},size:{type:String,default:"28rpx"},modeType:{type:String,default:"desc"},color:{type:String,default:""}},computed:{iconColor(){return g(this.color)?getApp().globalData.themeObj.color[this.modeType]:this.color}}};function Ed(e,t,i,n,a,s){let r=P((0,yt.resolveDynamicComponent)("uni-icons"),Ke);return(0,yt.openBlock)(),(0,yt.createBlock)(r,{type:i.type,size:i.size,color:s.iconColor},null,8,["type","size","color"])}var Ys=L(Sd,[["render",Ed]]);var Pm=j(_i());var Cd={"uni-badge--x":{"":{position:"relative"}},"uni-badge--absolute":{"":{position:"absolute"}},"uni-badge--small":{"":{transform:"scale(0.8)",transformOrigin:"center center"}},"uni-badge":{"":{justifyContent:"center",flexDirection:"row",height:20,lineHeight:18,color:"#ffffff",borderRadius:100,borderWidth:1,borderStyle:"solid",borderColor:"rgba(0,0,0,0)",backgroundColor:"rgba(0,0,0,0)",textAlign:"center",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSize:12},".with-border":{borderWidth:1,borderStyle:"solid",borderColor:"#ffffff"}},"uni-badge--info":{"":{color:"#ffffff",backgroundColor:"#909399"}},"uni-badge--primary":{"":{backgroundColor:"#2979ff"}},"uni-badge--success":{"":{backgroundColor:"#4cd964"}},"uni-badge--warning":{"":{backgroundColor:"#f0ad4e"}},"uni-badge--error":{"":{backgroundColor:"#dd524d"}},"uni-badge--inverted":{"":{paddingTop:0,paddingRight:5,paddingBottom:0,paddingLeft:0,color:"#909399"}},"uni-badge--info-inverted":{"":{color:"#909399",backgroundColor:"rgba(0,0,0,0)"}},"uni-badge--primary-inverted":{"":{color:"#2979ff",backgroundColor:"rgba(0,0,0,0)"}},"uni-badge--success-inverted":{"":{color:"#4cd964",backgroundColor:"rgba(0,0,0,0)"}},"uni-badge--warning-inverted":{"":{color:"#f0ad4e",backgroundColor:"rgba(0,0,0,0)"}},"uni-badge--error-inverted":{"":{color:"#dd524d",backgroundColor:"rgba(0,0,0,0)"}}},Td={name:"UniBadge",emits:["click"],props:{type:{type:String,default:"error"},inverted:{type:Boolean,default:!1},isDot:{type:Boolean,default:!1},maxNum:{type:Number,default:99},absolute:{type:String,default:""},offset:{type:Array,default(){return[0,0]}},text:{type:[String,Number],default:""},size:{type:String,default:"small"},customStyle:{type:Object,default(){return{}}},widthBorder:{type:Boolean,default:!1}},data(){return{}},computed:{width(){return String(this.text).length*8+12},classNames(){let{inverted:e,type:t,size:i,absolute:n}=this;return[e?"uni-badge--"+t+"-inverted":"","uni-badge--"+t,"uni-badge--"+i,n?"uni-badge--absolute":""].join(" ")},positionStyle(){if(!this.absolute)return{};let e=this.width/2,t=10;this.isDot&&(e=5,t=5);let i=`${-e+this.offset[0]}px`,n=`${-t+this.offset[1]}px`,a={rightTop:{right:i,top:n},rightBottom:{right:i,bottom:n},leftBottom:{left:i,bottom:n},leftTop:{left:i,top:n}},s=a[this.absolute];return s||a.rightTop},badgeWidth(){return{width:`${this.width}px`}},dotStyle(){return this.isDot?{width:"10px",height:"10px",borderRadius:"10px"}:{}},displayValue(){let{isDot:e,text:t,maxNum:i}=this;return e?"":Number(t)>i?`${i}+`:t}},methods:{onClick(){this.$emit("click")}}};function Dd(e,t,i,n,a,s){return(0,c.openBlock)(),(0,c.createElementBlock)("view",{class:"uni-badge--x",renderWhole:!0},[(0,c.renderSlot)(e.$slots,"default"),i.text?((0,c.openBlock)(),(0,c.createElementBlock)("u-text",{key:0,class:(0,c.normalizeClass)([[s.classNames,i.widthBorder?"with-border":""],"uni-badge"]),style:(0,c.normalizeStyle)([s.badgeWidth,s.positionStyle,i.customStyle,s.dotStyle]),onClick:t[0]||(t[0]=r=>s.onClick())},(0,c.toDisplayString)(s.displayValue),7)):(0,c.createCommentVNode)("",!0)])}var gn=L(Td,[["render",Dd],["styles",[Cd]]]),kd={center:{"":{flexDirection:"row",alignItems:"center"}}},xd={components:{MText:ui,MView:on,LImg:X},data(){return{msg:"",type:-1,textW:getApp().globalData.window.width-uni.upx2px(144)-80,showData:{}}},computed:{triangleLeft(){let e=(getApp().globalData.window.width-uni.upx2px(52)-30)/4,t=8;if(this.type==1)return(e-t)/2+1;if(this.type==2)return(e-t)/2+e+10+1;if(this.type==3)return(e-t)/2+e*2+20+1}},methods:{clickItem(){this.type==2?te()?U("/pagesMsg/notice/chat",{chat_type:this.showData.chat_type}):U("/pagesPub/my/privacy-setting"):this.type==3?U("/pagesMsg/ass/chat"):U("/pagesMsg/notice/chat",{chat_type:this.showData.chat_type})},parseMsgContent(e){let t=JSON.parse(e.msg_content);if(t.content)return t.content;if(t.tips)return t.tips;if(t.text)return t.text.indexOf("[x]")!=-1?Ds(t):Ae(t);if(e.msg_type==m.M_IMG)return`[${u("picture")}]`;if(e.msg_type==m.M_VIDEO)return`[${u("video")}]`;if(e.msg_type==m.M_EXPRESSION)return`[${u("msg.sticker")}]`;if(e.msg_type==m.M_RECOMMEND_CLUB)return u("msg.recommendClubToYou");if(e.msg_type==m.M_RECOMMEND_USER)return u("msg.recommendUserToYou");if(e.msg_type==m.M_N_CALL){let i=t.call_type==1?u("videoChatLower"):u("audioChatLower");return u("msg.noticeIncomeCallWithOther",{chat_type:i,nickname:t.target_user.nickname})}else return e.msg_type==m.M_N_COOPERATE?u("msg.cooperateTips"):""},initData(e){let t={text:""};if(e.is_disturb)this.type=2,e.status?(t.icon="s/msg/index_disturb_s.png",t.text=u("user.turnOnDoNotDisturbTips")):(t.icon="s/msg/index_disturb_n.png",t.text=u("user.turnOffDoNotDisturbTips")),t.is_disturb=1,t.time=Xt(new Date().getTime());else{let i="",n="";e.chat_type==m.M_CHAT_NOTICE?(this.type=te()?2:1,n=u("notice")):e.chat_type==m.M_CHAT_NOTIFY?(this.type=1,n=u("announcement")):e.chat_type==m.M_CHAT_ASS&&(this.type=3,n=u("customerService")),i=this.parseMsgContent(e),t.text=g(n)?i:n+": "+i,t.time=Xt(e.ctime),e.send_uid==getApp().globalData.uid?(t.icon=li(getApp().pubUser),this.msg=t):e.send_uid==m.SYSTEM_ID?(t.icon=it().logo,this.msg=t):e.chat_type==m.M_CHAT_ASS&&e.send_uid!=getApp().globalData.uid?(t.icon=it().logo,this.msg=t):_t(e.send_uid).then(a=>{t.icon=a.avatar,this.msg=t})}this.showData=e}}};function Id(e,t,i,n,a,s){let r=(0,c.resolveComponent)("m-view"),l=P((0,c.resolveDynamicComponent)("l-img"),X),o=(0,c.resolveComponent)("m-text");return a.msg?((0,c.openBlock)(),(0,c.createBlock)(r,{key:0,onClick:s.clickItem,style:{"padding-top":"6rpx",position:"relative","margin-top":"10rpx"}},{default:(0,c.withCtx)(()=>[(0,c.createVNode)(r,{type:"bg3",style:(0,c.normalizeStyle)([{left:`${s.triangleLeft}px`},{width:"6px",height:"6px",position:"absolute",top:"0",transform:"rotate(45deg)"}])},null,8,["style"]),(0,c.createVNode)(r,{type:"bg3",style:{"border-radius":"12rpx",padding:"8rpx 20rpx","flex-direction":"row","align-items":"center","justify-content":"space-between"}},{default:(0,c.withCtx)(()=>[(0,c.createElementVNode)("view",{class:"center",style:{height:"40rpx"}},[a.msg.is_disturb?((0,c.openBlock)(),(0,c.createBlock)(l,{key:0,src:a.msg.icon,"need-style":1,w:"24rpx",h:"24rpx"},null,8,["src"])):a.msg.icon?((0,c.openBlock)(),(0,c.createBlock)(l,{key:1,src:a.msg.icon,w:"40rpx",h:"40rpx",radius:"20rpx",border:"2rpx solid #FFFFFF"},null,8,["src"])):(0,c.createCommentVNode)("",!0),(0,c.createVNode)(o,{text:a.msg.text,style:(0,c.normalizeStyle)([{"margin-left":"12rpx","font-size":"20rpx",lines:"1",overflow:"hidden","text-overflow":"ellipsis",flex:"1"},{width:`${a.textW}px`}])},null,8,["text","style"])]),(0,c.createVNode)(o,{text:a.msg.time,type:"tip",style:{"font-size":"16rpx","margin-left":"20rpx"}},null,8,["text"])]),_:1})]),_:1},8,["onClick"])):(0,c.createCommentVNode)("",!0)}var vd=L(xd,[["render",Id],["styles",[kd]]]),Nd={center:{"":{flexDirection:"row",alignItems:"center"}},"center-align":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"column-center":{"":{flexDirection:"column",alignItems:"center",justifyContent:"center"}},"center-between":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},"column-between":{"":{flexDirection:"column",justifyContent:"space-between"}},"msg-item":{"":{height:"156rpx",paddingTop:0,paddingRight:"30rpx",paddingBottom:0,paddingLeft:"30rpx"}},"club-logo":{"":{position:"relative",width:"96rpx",height:"126rpx"}},"club-label":{"":{backgroundColor:"#FF953F",borderRadius:"12rpx",position:"absolute",paddingTop:"4rpx",paddingRight:"6rpx",paddingBottom:"4rpx",paddingLeft:"6rpx",bottom:"10rpx"}},"msg-content":{"":{height:"96rpx",marginLeft:"20rpx",flex:1}}},Ld={components:{MLine:Os,MText:ui,UniBadge:gn,LImg:X,UBaseInfo:cn,AvatarImg:an},props:{user:{type:Object,default(){return{}}},club:{type:Object,default(){return{}}},item:{type:Object,default(){return{}}},indexStr:{type:String,default:""}},computed:{itemBg(){let e=getApp().globalData.themeObj;return this.item.is_top?e.style==ye.LIGHT?"#F8F9FB":e.color.bg3_1:"transparent"},badgeStyle(){let e=getApp().globalData.themeObj,t={fontSize:"24rpx"};return t.color=this.item.msg_notice==0&&e.style==ye.DARK?"#999999":"#FFFFFF",this.item.chat_type==m.M_CHAT_CLUB?t.backgroundColor=this.item.msg_notice==1?"#FF3B30":e.style==ye.LIGHT?"#CCCCCC":"#444444":t.backgroundColor="#FF3B30",t},isKefuItem(){return this.item.chat_type==m.M_CHAT_ASS&&this.item.chat_id!=m.SYSTEM_ID},showLine(){return this.item.chat_id!=m.SYSTEM_ID||this.item.chat_type==m.M_CHAT_ASS},nameWidth(){let e=this.getTime.length*8,t=uni.upx2px(176)+e;return this.item.chat_type==m.M_CHAT_PRI?t+=uni.upx2px(za(this.user)):this.item.msg_notice==0&&(t+=uni.upx2px(36)),getApp().globalData.window.width-t+"px"},getTime(){return Xt(this.item.ctime,!0,!0)},getText(){if(this.item.chat_type==m.M_CHAT_PRI)return this.indexStr;{let e="",t="";return!this.item.has_at&&this.item.msg_notice==0&&this.item.unread>0&&(e=`[${this.item.unread}] `),this.user.uid!=m.SYSTEM_ID&&this.user.uid!=getApp().globalData.uid&&(t=`${this.user.nickname}: `),e+t+this.indexStr}},hasIncome(){return ks(De(this.item.msg_content))},contentW(){let e=getApp().globalData.window.width-uni.upx2px(230);return this.item.is_top&&(e-=uni.upx2px(50)),e},isLanguageArabic(){return getApp().globalData.languageKey=="ar"}},methods:{$str:u,clickItem(){let e,t;this.item.chat_type==m.M_CHAT_PRI?(this.user&&this.user.uid?(e=this.user,t=!1):(e={uid:this.item.chat_id},t=!0),Bi(e,null,{refreshUser:t})):(this.club&&this.club.club_id?(e=this.club,t=!1):(e={club_id:this.item.chat_id},t=!0),Ui(e,{refreshClub:t}))}}};function Rd(e,t,i,n,a,s){let r=P((0,c.resolveDynamicComponent)("l-img"),X),l=P((0,c.resolveDynamicComponent)("avatar-img"),an),o=(0,c.resolveComponent)("m-text"),d=P((0,c.resolveDynamicComponent)("u-base-info"),cn),f=P((0,c.resolveDynamicComponent)("uni-badge"),gn),h=(0,c.resolveComponent)("m-line");return(0,c.openBlock)(),(0,c.createElementBlock)("view",{style:(0,c.normalizeStyle)({backgroundColor:`${s.itemBg}`}),renderWhole:!0},[(0,c.createElementVNode)("view",{onClick:t[0]||(t[0]=(...A)=>s.clickItem&&s.clickItem(...A)),class:"msg-item center"},[i.item.chat_type==2?((0,c.openBlock)(),(0,c.createElementBlock)("view",{key:0,class:"column-center club-logo"},[(0,c.createVNode)(r,{src:i.club.club_logo,"fit-w-h":"100x100",w:"96rpx",h:"96rpx",radius:"48rpx"},null,8,["src"]),(0,c.createElementVNode)("view",{class:"club-label center-align"},[(0,c.createVNode)(r,{src:"s/msg/club_text.png",w:"44rpx",h:"16rpx"})])])):((0,c.openBlock)(),(0,c.createBlock)(l,{key:1,onClick:(0,c.withModifiers)(s.clickItem,["stop"]),"from-admin":s.isKefuItem,user:i.user,w:"96rpx",h:"96rpx",radius:"48rpx",setKey:"avatar","place-w":"80rpx","place-font-size":!1},null,8,["onClick","from-admin","user"])),(0,c.createElementVNode)("view",{class:"msg-content column-between"},[(0,c.createElementVNode)("view",{class:"center-between",style:{height:"50rpx",flex:"1","margin-top":"-10rpx"}},[i.item.chat_type==2?((0,c.openBlock)(),(0,c.createElementBlock)("view",{key:0,class:"center"},[(0,c.createVNode)(o,{text:i.club.club_name,style:(0,c.normalizeStyle)([{"font-size":"30rpx","font-weight":"600",lines:"1",overflow:"hidden","text-overflow":"ellipsis"},{maxWidth:`${s.nameWidth}`}])},null,8,["text","style"]),i.item.msg_notice==0?((0,c.openBlock)(),(0,c.createBlock)(r,{key:0,src:"s/club/index_mute_3.png",w:"20rpx",h:"20rpx",style:{"margin-left":"16rpx"}})):(0,c.createCommentVNode)("",!0)])):((0,c.openBlock)(),(0,c.createBlock)(d,{key:1,info:i.user,"show-country":!0,nameSize:"30rpx",nameWidth:s.nameWidth,fw:"600"},null,8,["info","nameWidth"])),(0,c.createVNode)(o,{text:s.getTime,type:"desc",style:{"font-size":"24rpx"}},null,8,["text"])]),(0,c.createElementVNode)("view",{class:"center-between"},[i.item.chat_type==1&&s.hasIncome?((0,c.openBlock)(),(0,c.createElementBlock)("view",{key:0,class:"center"},[s.isLanguageArabic?((0,c.openBlock)(),(0,c.createBlock)(o,{key:0,text:s.$str("msg.replyMsgCoin")+"]",type:"coin",style:{"font-size":"24rpx","line-height":"18px"}},null,8,["text"])):((0,c.openBlock)(),(0,c.createBlock)(o,{key:1,text:"["+s.$str("msg.replyMsgCoin"),type:"coin",style:{"font-size":"24rpx","line-height":"18px"}},null,8,["text"])),(0,c.createVNode)(r,{src:"s/my/i_coins.png",w:"22rpx",h:"22rpx",style:{"margin-left":"2rpx","margin-right":"2rpx"}}),(0,c.createVNode)(o,{text:"]",type:"coin",style:{"font-size":"24rpx","line-height":"18px"}})])):((0,c.openBlock)(),(0,c.createElementBlock)("view",{key:1,class:"center"},[i.item.msg_status==1?((0,c.openBlock)(),(0,c.createBlock)(r,{key:0,src:"s/pub/i-error.png",w:"20rpx",h:"20rpx",style:{"margin-right":"6rpx"}})):(0,c.createCommentVNode)("",!0),(0,c.createVNode)(o,{text:s.getText,type:"tip",style:(0,c.normalizeStyle)([{maxWidth:`${s.contentW}px`},{lines:"1","font-size":"24rpx","line-height":"20px",overflow:"hidden","text-overflow":"ellipsis"}])},null,8,["text","style"])])),(0,c.createElementVNode)("view",{class:"center"},[i.item.is_top?((0,c.openBlock)(),(0,c.createBlock)(r,{key:0,src:"s/club/list_sticky_top.png",w:"20rpx",h:"20rpx",style:{"margin-right":"12rpx"}})):(0,c.createCommentVNode)("",!0),(0,c.createVNode)(f,{text:i.item.unread,"max-num":99999,size:"small","custom-style":s.badgeStyle},null,8,["text","custom-style"])])])])]),s.showLine?((0,c.openBlock)(),(0,c.createBlock)(h,{key:0,style:{"margin-left":"146rpx"}})):(0,c.createCommentVNode)("",!0)],4)}var Od=L(Ld,[["render",Rd],["styles",[Nd]]]),Z={getObjKey(e,t){return e==m.SYSTEM_ID?t==m.M_CHAT_NOTICE?1:t==m.M_CHAT_ASS?2:`m_${e}_${t}`:`m_${e}_${t}`},getIndexCTime(e,t){return Se(this,null,function*(){if(e)return 0;let i=0,n,a=Object.keys(t);return a.length>0&&(n=t[a[a.length-1]].item,i=n.ctime),typeof i=="undefined"?(yield di(n.chat_id,n.chat_type)).ctime:i})},getMsgIndexList(e,t){return Se(this,null,function*(){let i=yield Z.getIndexCTime(e,t),n=yield dn(i);if(n.forLen<=0)return n;let a=Md(n);if(a.indexMoreNoCount==n.forLen)return n;let s={last_sync_mtime:0,top_mtime:a.indexMoreMTime};try{let r=yield H.request("/chat/msg/sync",s,!1,!0);if(r.data&&r.data.list.length>0)for(let l=0,o=r.data.list.length;l<o;l++){let d=r.data.list[l];if(g(d.list))continue;d.user_infos&&(yield vs(d.user_infos));let f=d.list[0];f.unread=d.unread,yield Ws(f,!1)}return a.indexMoreChatId&&a.indexMoreDelContent&&(yield mn(a.indexMoreChatId,a.indexMoreChatType,JSON.stringify(a.indexMoreDelContent))),yield Fd(r.data.income_coins_list),dn(i)}catch(r){return J("error","at pages/msg/msg.js:63","-----> \u83B7\u53D6\u6D88\u606Findex\u5931\u8D25 "+JSON.stringify(r)),n}})},getMsgItem(e,t,i,n=null,a=null){let s={id:e,item:t,user:i,sortTime:t.is_top?t.ctime*10:t.ctime};return g(n)||(s.club=n),t.chat_type==m.M_CHAT_PRI?(t.chat_type==m.M_CHAT_ASS&&t.chat_id!=m.SYSTEM_ID&&t.chat_id!=t.send_uid&&(s.indexStr=`\u5BA2\u670D\uFF1A${gt(t,i)}`),s.indexStr=gt(t,i)):s.indexStr=gt(t,i,a,n),s},getPriItem(e,t,i){return t.chat_id==m.SYSTEM_ID&&t.chat_type==m.M_CHAT_ASS&&(i.nickname=u("customerService")),{id:e,item:t,user:i,sortTime:t.ctime,indexStr:gt(t,i)}},getClubItem(e,t,i,n,a){return{id:e,item:t,club:i,user:n,sortTime:t.is_top==1?t.ctime*10:t.ctime,indexStr:gt(t,n,a,i)}},getPriDBItem(e,t){return{chat_id:e.chat_id,chat_type:e.chat_type,send_uid:e.send_uid,msg_type:e.msg_type,msg_content:e.msg_content,mtime:e.mtime,ctime:Pi(e.ctime),unread:t,msg_status:e.msg_status}},getClubDBItem(e,t,i){let n=Z.getPriDBItem(e,t);return n.is_top=i.is_top||0,n.msg_notice=typeof i.msg_notice!="undefined"?i.msg_notice:1,n}};function Md(e){let t=0,i,n,a,s;for(let r=0,l=e.forLen;r<l;r++){let o=e.rows[r],d=De(o.msg_content);d&&d.index_more?(s=o.mtime,n=o.chat_id,a=o.chat_type,delete d.index_more,i=d):t+=1}return{indexMoreNoCount:t,indexMoreDelContent:i,indexMoreChatId:n,indexMoreChatType:a,indexMoreMTime:s}}function Fd(e){let t=0;return new Promise(i=>{if(g(e)){i();return}for(let n=0,a=e.length;n<a;n++){let s=e[n];mn(s.chat_id,m.M_CHAT_PRI,s.msg_content).then(()=>{t++,t>=e.length&&i()},()=>{t++,t>=e.length&&i()})}})}var zs=getApp().globalData.window,Pd={data(){return{enterItemW:(zs.width-uni.upx2px(52)-30)/4,emptyBtnW:zs.width-40,statusBarFontColor:"#FFFFFF",showNotice:!1,msgObj:{},userInfos:{},clubInfos:{},initFinish:!1,loadMore:"loading",loadContent:{contentrefresh:" ",contentnomore:" "},unreadRes:{},badgeStyle:{backgroundColor:"#FF3B30",color:"#FFFFFF",fontSize:"24rpx"},badgePosition:{position:"absolute",top:0,marginLeft:"30rpx"},isAuth:te(),socketStatus:tt.DEFAULT,showManager:!1,adminConsole:"",clickTitleCount:0,clickTitleTimer:!1}},computed:{socketBgColor(){return this.socketStatus==tt.SUCCESS?"#34C759":this.socketStatus==tt.FAIL?"#FF014C":"#666666"}},methods:{$str:u,clickTitle(){this.clickTitleCount<=0&&(this.clickTitleTimer=setTimeout(()=>{this.clickTitleCount=0,clearTimeout(this.clickTitleTimer)},2e3)),this.clickTitleCount>=5?(H.request("/chat/msg/mq-status",{}).then(e=>{uni.showToast({title:"Send",duration:3e3,icon:"none",position:"center"})}),this.clickTitleCount=0,clearTimeout(this.clickTitleTimer)):this.clickTitleCount++},clickAdminTask(e){e&&e.stopPropagation(),xt()&&U("/pagesPub/my/daily-task")},clickConsole(e){e&&e.stopPropagation(),this.adminConsole&&Ea(this.adminConsole)},clickDelete(e,t){e&&e.stopPropagation(),Ye(u("tips"),u("msg.deleteIndexTips"),()=>{let i=De(JSON.stringify(this.msgObj)),n=i[t].item;delete i[t],this.msgObj=i,fn(n.chat_id,n.chat_type),H.request("/chat/msg/delete",{chat_id:n.chat_id,chat_type:n.chat_type,mtime:0})},"",this.$str("delete"))},clickOpenNotice(){Ma(K.NOTIFY)},clickNoticeChat(e,t){e&&e.stopPropagation(),U("/pagesMsg/notice/chat",{chat_type:t})},clickMsgClear(e){e&&e.stopPropagation();let t=[{key:"unread",title:u("msg.unreadSetRead")},{key:"chat",title:u("msg.delAllChats")}];z("/pagesDialog/home-action-sheet",{is_upload:0},"homeActionData",{action:t},{onActionClick:i=>{i.key=="unread"?Ye(u("msg.confirmRead"),u("msg.confirmReadTips"),()=>{Us().then(()=>{this.initMsgIndex(!0)})},"",u("confirm")):Ye(u("msg.delAllChats"),u("msg.delAllChatsTips"),()=>{uni.showLoading({mask:!0}),Bs().then(()=>{this.initMsgIndex(!0)}).finally(()=>{uni.hideLoading()}),H.request("/chat/msg/delete",{chat_id:0,chat_type:[m.M_CHAT_PRI,m.M_CHAT_CLUB],mtime:0})},"",u("confirm"))}})},clickDisturb(){U("/pagesPub/my/privacy-setting")},clickService(e){e&&e.stopPropagation(),ni()?U("/pagesAdmin/msg/kefu-index"):U("/pagesMsg/ass/chat")},clickNewChat(e){e&&e.stopPropagation(),ka()},changeOpenNotice(){this.showNotice=!Qt(K.NOTIFY)},updateEnterUnread(e,t){let i=e.chat_type,n="";i==m.M_CHAT_NOTICE?n="notice":i==m.M_CHAT_NOTIFY?n="notify":i==m.M_CHAT_CLUB_NOTICE?n="club_notice":i==m.M_CHAT_ASS&&(n="ass");let a=t&&e.send_uid!=getApp().globalData.uid&&!Hi(e.chat_id,i)?1:0;this.unreadRes.unread=this.unreadRes.unread+a,this.unreadRes[n]=this.unreadRes[n]+a},updatePriIndex(e,t){return Se(this,null,function*(){let i=Z.getObjKey(e.chat_id,e.chat_type),n=e.user_info;n&&(this.userInfos[n.uid]=n);let a=t&&e.send_uid!=getApp().globalData.uid&&!Hi(e.chat_id,e.chat_type)?1:0,s=this.msgObj[i],r;s?r=s.item.unread+a:(s=yield di(e.chat_id,e.chat_type),r=s.unread);let l=Z.getPriDBItem(e,r);this.msgObj[i]=Z.getPriItem(i,l,n),this.msgObj=JSON.parse(JSON.stringify(ht(this.msgObj)))})},updateClubIndex(e,t){return Se(this,null,function*(){let i=Z.getObjKey(e.chat_id,e.chat_type),n=e.user_infos[e.send_uid];this.userInfos=Object.assign(this.userInfos,e.user_infos);let a=this.msgObj[i],s;if(a?(e.club_info.is_top=a.item.is_top,e.club_info.msg_notice=a.item.msg_notice,e.club_info.club_uid=a.club.club_uid,s=e.club_info):s=yield un(e.chat_id),g(s))return;this.clubInfos[e.chat_id]=s;let r=t?1:0,l=(a?a.item.unread:0)+r,o=Z.getClubDBItem(e,l,s);this.msgObj[i]=Z.getClubItem(i,o,s,n,this.userInfos),this.msgObj=JSON.parse(JSON.stringify(ht(this.msgObj)))})},updatePriIndexSend(e){let t=e.user_info;if(!t)return;this.userInfos[t.uid]=t;let i=Z.getObjKey(e.chat_id,e.chat_type),n=this.msgObj[i],a=n?n.item.unread:0,s=Z.getPriDBItem(e,a);this.msgObj[i]=Z.getPriItem(i,s,t),this.msgObj=JSON.parse(JSON.stringify(ht(this.msgObj)))},updateClubIndexSend(e){let t=e.user_info;this.userInfos[t.uid]=t,this.clubInfos[e.club_info]=e.club_info;let i=Z.getObjKey(e.chat_id,e.chat_type),n=this.msgObj[i],a=n?n.item.unread:0,s=Z.getClubDBItem(e,a,e.club_info);this.msgObj[i]=Z.getClubItem(i,s,e.club_info,t,this.userInfos),this.msgObj=JSON.parse(JSON.stringify(ht(this.msgObj)))},setUnread(){Ps().then(e=>(this.unreadRes=e,$s())).then(e=>(getApp().globalData.s.commit("initUnread",e),this.showMsgDisturbDialog(),this.initMsgTips(),this.initKefu())).then(()=>{J("error","at pages/msg/index.mixin.js:247","------> msgIndex unread finish ...")})},setNewestMsgTips(){let e=this.isAuth==1?[4,5,3]:[4,3];Hs(e).then(t=>{this.$refs.msgContentTips.initData(t[0])})},setPrivacyNoticeTips(){let e=JSON.parse(JSON.stringify(this.pubPrivacy.notice));e.is_disturb=1,this.$refs.msgContentTips.initData(e)},showMsgDisturbDialog(){let e=getApp().globalData.s.state.pubUnread;qa()&&e>=getApp().globalData.msgDisturbUnread&&I("appDialog/addDialogMsgDisturb",2)},onPubPrivacyWatchAfter(){this.setPrivacyNoticeTips()},onLoadMore(){return Se(this,null,function*(){this.loadMore!="nomore"&&(this.loadMore="loading",yield this.initMsgIndex(!1))})},onRefresh(e){return Se(this,null,function*(){yield this.initMsgIndex(!0),this.$refs.nvueRefresh.refreshFinish(e),this.socketStatus=ai(),getApp().socketCheckConnect(It.MSG_INDEX_REFRESH)})},initKefu(){return new Promise(e=>{if(!ni()){e();return}Gs().then(t=>{t.item!=null&&(this.unreadRes.ass=t.unread,parseInt(t.unread)>0&&getApp().globalData.s.commit("setUnread",1))})})},initMsgTips(){this.unreadRes.unread>0?this.setNewestMsgTips():Object.keys(this.pubPrivacy.notice)>0&&this.pubPrivacy.notice.status==1?this.setPrivacyNoticeTips():this.setNewestMsgTips()},initMsgIndex(e){return Se(this,null,function*(){e&&this.setUnread();let t=yield Z.getMsgIndexList(e,this.msgObj),i=[],n=[],a=[];for(let l=0,o=t.forLen;l<o;l++){let d=t.rows[l];if(i.push(d),d.chat_type==m.M_CHAT_PRI)n.indexOf(d.chat_id)==-1&&n.push(d.chat_id);else{a.indexOf(d.chat_id)==-1&&a.push(d.chat_id),g(this.userInfos[d.send_uid])&&n.indexOf(d.send_uid)==-1&&n.push(d.send_uid);let f=De(d.msg_content);if(d.contentObj=f,!g(f.uid_arr))for(let h=0,A=f.uid_arr.length;h<A;h++){let D=f.uid_arr[h];g(this.userInfos[D])&&n.indexOf(D)==-1&&n.push(D)}}}this.loadMore=t.hasMore?"loadmore":"nomore";let s=yield Ns(n,!1);this.userInfos=Object.assign(this.userInfos,s);let r=yield Fs(a,!1);this.clubInfos=Object.assign(this.clubInfos,r),e&&(this.msgObj={});for(let l=0,o=i.length;l<o;l++){let d=i[l],f=Z.getObjKey(d.chat_id,d.chat_type);if(d.chat_type==m.M_CHAT_PRI){let h=this.userInfos[d.chat_id];this.msgObj[f]=Z.getMsgItem(f,d,h)}else if(d.chat_type==m.M_CHAT_CLUB){let h=this.clubInfos[d.chat_id],A=this.userInfos[d.send_uid];if(g(A))continue;this.msgObj[f]=Z.getMsgItem(f,d,A,h,this.userInfos)}}return this.msgObj=ht(this.msgObj),this.$nextTick(()=>{this.$refs.msgIndexList.resetLoadmore()}),this.initFinish=!0,!0})},onEventUserInitAfter(){this.showManager=xt(),this.adminConsole=Gi()},onEventSyncFinish(){this.initMsgIndex(!0).then(()=>{uni.$emit("event_sync_finish_index"),uni.$emit("event_sync_finish_index_club")})},onEventSyncAssFinish(){this.setUnread()}},onTabItemTap(){},onShow(){this.tabBarChange(Le.MSG),this.changeOpenNotice(),this.showMsgDisturbDialog()},onLoad(){this.showManager=xt(),this.adminConsole=Gi(),this.initMsgIndex(!0).then(e=>{uni.$on("event_socket_status",t=>{this.socketStatus=t}),this.socketStatus=ai()}),uni.$on("event_msg_index",(e,t)=>{e.chat_type==m.M_CHAT_PRI?this.updatePriIndex(e,t):e.chat_type==m.M_CHAT_CLUB?this.updateClubIndex(e,t):this.updateEnterUnread(e,t),[m.M_CHAT_NOTICE,m.M_CHAT_NOTIFY,m.M_CHAT_ASS].indexOf(Number(e.chat_type))!=-1&&this.$refs.msgContentTips.initData(e)}),uni.$on("event_msg_index_send",(e,t)=>{e.chat_type==m.M_CHAT_PRI?this.updatePriIndexSend(e):e.chat_type==m.M_CHAT_CLUB?this.updateClubIndexSend(e):e.chat_type==m.M_CHAT_ASS&&this.$refs.msgContentTips.initData(e)}),uni.$on("event_msg_index_unread",e=>{if(e.chatType==m.M_CHAT_NOTICE)this.unreadRes.notice=0;else if(e.chatType==m.M_CHAT_NOTIFY)this.unreadRes.notify=0;else if(e.chatType==m.M_CHAT_ASS)this.unreadRes.ass=0;else if(e.chatType==m.M_CHAT_CLUB_NOTICE)this.unreadRes.club_notice=0;else{let t=Z.getObjKey(e.chatId,e.chatType),i=this.msgObj[t];if(g(i))return;i.item.unread=0}getApp().globalData.s.commit("setUnread",-1)}),uni.$on("event_msg_index_ass",(e,t)=>{if(e.refresh){this.setUnread();return}if(e.clearUnread){this.unreadRes.ass=this.unreadRes.ass-e.clearUnread,this.unreadRes.ass<=0&&getApp().globalData.s.commit("setUnread",-1),this.unreadRes.ass<0&&this.initMsgIndex(!0);return}let i=t||0;this.unreadRes.ass=this.unreadRes.ass+i,i>0&&(this.unreadRes.ass==i&&getApp().globalData.s.commit("setUnread",1),this.$refs.msgContentTips.initData(e))}),uni.$on("event_msg_index_club_disband",e=>{this.initMsgIndex(!0)}),uni.$on("event_sync_finish",this.onEventSyncFinish),uni.$on("event_sync_ass_finish",this.onEventSyncAssFinish),uni.$on("event_msg_index_refresh",()=>{this.initMsgIndex(!0)}),uni.$on("event_refresh_index_item_info",e=>{let t=Z.getObjKey(e.chat_id,e.chat_type);e.chat_type==m.M_CHAT_PRI?this.msgObj[t].user=e.user:e.chat_type==m.M_CHAT_CLUB&&(this.msgObj[t].club=e.club)}),uni.$on("event_change_club_msg_index",e=>{let t=Z.getObjKey(e.club_id,m.M_CHAT_CLUB);g(this.msgObj[t])||g(this.msgObj[t].club)||(this.msgObj[t].club[e.key]=e.value)})},onUnload(){uni.$off("event_msg_index_unread"),uni.$off("event_msg_index_send"),uni.$off("event_msg_index"),uni.$off("event_msg_index_ass"),uni.$off("event_msg_index_club_disband"),uni.$off("event_sync_finish",this.onEventSyncFinish),uni.$off("event_sync_ass_finish",this.onEventSyncAssFinish),uni.$off("event_msg_index_refresh"),uni.$off("event_refresh_index_item_info"),uni.$off("event_change_club_msg_index")}},$d={data(){return{pubPrivacy:getApp().pubPrivacy}},methods:{onPubPrivacyWatch(){this.pubPrivacy=getApp().pubPrivacy,typeof this.onPubPrivacyWatchAfter=="function"&&this.onPubPrivacyWatchAfter()}},onLoad(){uni.$on("event_vuex_watch_pubPrivacy",this.onPubPrivacyWatch)},onUnload(){uni.$off("event_vuex_watch_pubPrivacy",this.onPubPrivacyWatch)},created(){uni.$on("event_vuex_watch_pubPrivacy",this.onPubPrivacyWatch)},destroyed(){uni.$off("event_vuex_watch_pubPrivacy",this.onPubPrivacyWatch)},unmounted(){uni.$off("event_vuex_watch_pubPrivacy",this.onPubPrivacyWatch)}},Bd={center:{"":{flexDirection:"row",alignItems:"center"}},"center-align":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"center-between":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},"column-center":{"":{flexDirection:"column",alignItems:"center"}},title:{"":{fontSize:"40rpx",lineHeight:"56rpx",fontWeight:"600"}},"icon-view":{"":{paddingTop:0,paddingRight:"20rpx",paddingBottom:0,paddingLeft:"20rpx",position:"relative",height:44}},"list-wrap":{"":{flex:1}},"enter-wrap":{"":{position:"sticky",top:0,paddingTop:"8rpx"}},"notice-open":{".enter-wrap ":{paddingTop:"12rpx",paddingRight:"26rpx",paddingBottom:"12rpx",paddingLeft:"26rpx",flex:1,marginBottom:"8rpx"}},tips:{".enter-wrap .notice-open ":{fontSize:"24rpx",lineHeight:"34rpx",marginRight:"20rpx"}},btn:{".enter-wrap .notice-open ":{height:"48rpx",lineHeight:"48rpx",backgroundColor:"#FF4477",borderRadius:"8rpx",paddingTop:0,paddingRight:"14rpx",paddingBottom:0,paddingLeft:"14rpx",color:"#FFFFFF",fontSize:"24rpx"}},"enter-content":{".enter-wrap ":{paddingTop:"20rpx",paddingRight:"26rpx",paddingBottom:"20rpx",paddingLeft:"26rpx"}},item:{".enter-wrap .enter-content ":{paddingTop:"10rpx",paddingRight:0,paddingBottom:"10rpx",paddingLeft:0,borderRadius:"12rpx",position:"relative"}},"item-title":{".enter-wrap .enter-content .item ":{marginTop:"8rpx",fontSize:"16rpx",textAlign:"center",lineHeight:"22rpx"}},"empty-person-wrap":{"":{paddingTop:"130rpx"}},"empty-tips":{".empty-person-wrap ":{fontSize:"28rpx",textAlign:"center",marginTop:"60rpx"}},badge:{"":{position:"absolute",top:0,marginLeft:"30rpx"}},"right-options":{"":{marginLeft:"10rpx",width:"140rpx",backgroundColor:"#FF014C",borderTopLeftRadius:8,borderTopRightRadius:0,borderBottomRightRadius:0,borderBottomLeftRadius:8}},"view-online":{"":{width:"12rpx",height:"12rpx",borderWidth:"2rpx",borderStyle:"solid",borderColor:"#FFFFFF",borderRadius:"6rpx",position:"absolute",top:"18rpx",left:"2rpx"}}},Ud={mixins:[ns,Pd,js,$d],components:{CallEvaluate:rn,Navbar:Cs,MsgContentTips:vd,MsgItem:Od,NvueRefresh:Ms,UniSwipeAction:Zi,UniSwipeActionItem:Xi,ShareEnter:Vs,GPageMeta:Ji,MText:ui,MIcon:Ys,MView:on}};function Hd(e,t,i,n,a,s){let r=P((0,c.resolveDynamicComponent)("g-page-meta"),Ji),l=(0,c.resolveComponent)("m-text"),o=P((0,c.resolveDynamicComponent)("l-img"),X),d=(0,c.resolveComponent)("navbar"),f=(0,c.resolveComponent)("m-view"),h=P((0,c.resolveDynamicComponent)("uni-badge"),gn),A=(0,c.resolveComponent)("msg-content-tips"),D=(0,c.resolveComponent)("nvue-refresh"),x=(0,c.resolveComponent)("msg-item"),$=P((0,c.resolveDynamicComponent)("uni-swipe-action-item"),Xi),k=P((0,c.resolveDynamicComponent)("uni-swipe-action"),Zi),T=P((0,c.resolveDynamicComponent)("uni-load-more"),fs),O=(0,c.resolveComponent)("share-enter"),F=P((0,c.resolveDynamicComponent)("notice-view"),ps),y=P((0,c.resolveDynamicComponent)("call-evaluate"),rn);return(0,c.openBlock)(),(0,c.createElementBlock)("scroll-view",{scrollY:!0,showScrollbar:!0,enableBackToTop:!0,bubble:"true",style:{flexDirection:"column"}},[(0,c.createVNode)(r),(0,c.createElementVNode)("view",{style:{flex:"1"}},[(0,c.createVNode)(d,null,{default:(0,c.withCtx)(()=>[(0,c.createElementVNode)("view",{class:"center-between",style:{flex:"1"}},[(0,c.createElementVNode)("view",{class:"center"},[(0,c.createVNode)(l,{onClick:e.clickTitle,text:e.$str("message"),class:"title"},null,8,["onClick","text"])]),(0,c.createElementVNode)("view",{class:"center"},[e.showManager?((0,c.openBlock)(),(0,c.createElementBlock)("view",{key:0,onClick:t[0]||(t[0]=(...C)=>e.clickAdminTask&&e.clickAdminTask(...C)),class:"center icon-view",style:{"margin-right":"12rpx"}},[(0,c.createVNode)(o,{onClick:e.clickAdminTask,needStyle:1,src:"s/pub/task_i.png",w:"40rpx",h:"40rpx"},null,8,["onClick"])])):(0,c.createCommentVNode)("",!0),e.adminConsole?((0,c.openBlock)(),(0,c.createElementBlock)("view",{key:1,onClick:t[1]||(t[1]=(...C)=>e.clickConsole&&e.clickConsole(...C)),class:"center icon-view",style:{"margin-right":"12rpx"}},[(0,c.createVNode)(o,{onClick:e.clickConsole,needStyle:1,src:"s/manager/manage_enter.png",w:"40rpx",h:"40rpx"},null,8,["onClick"])])):(0,c.createCommentVNode)("",!0),(0,c.createElementVNode)("view",{onClick:t[2]||(t[2]=(...C)=>e.clickNewChat&&e.clickNewChat(...C)),class:"center icon-view"},[(0,c.createVNode)(o,{onClick:e.clickNewChat,needStyle:1,src:"s/msg/index_new_chat_1.png",w:"40rpx",h:"40rpx"},null,8,["onClick"])]),(0,c.createElementVNode)("view",{onClick:t[3]||(t[3]=(...C)=>e.clickMsgClear&&e.clickMsgClear(...C)),class:"center icon-view",style:{"margin-left":"20rpx","margin-right":"-20rpx"}},[(0,c.createVNode)(o,{onClick:e.clickMsgClear,needStyle:1,src:"s/msg/index_broom.png",w:"40rpx",h:"40rpx"},null,8,["onClick"])])])])]),_:1}),(0,c.createVNode)(f,{type:"bg1",class:"enter-wrap"},{default:(0,c.withCtx)(()=>[e.showNotice?((0,c.openBlock)(),(0,c.createBlock)(f,{key:0,type:"bg2",onClick:e.clickOpenNotice,class:"notice-open center-between"},{default:(0,c.withCtx)(()=>[(0,c.createVNode)(l,{text:e.$str("msg.turnOnNoticeTips"),class:"tips"},null,8,["text"]),(0,c.createElementVNode)("u-text",{class:"btn"},(0,c.toDisplayString)(e.$str("turnOn")),1)]),_:1},8,["onClick"])):(0,c.createCommentVNode)("",!0),(0,c.createVNode)(f,{type:"bg2",class:"enter-content"},{default:(0,c.withCtx)(()=>[(0,c.createElementVNode)("view",{class:"center-between"},[e.isAuth!=1?((0,c.openBlock)(),(0,c.createBlock)(f,{key:0,onClick:t[4]||(t[4]=C=>e.clickNoticeChat(C,4)),type:"bg3",class:"item column-center",style:(0,c.normalizeStyle)({width:`${e.enterItemW}px`})},{default:(0,c.withCtx)(()=>[(0,c.createVNode)(o,{src:"s/msg/index_notice.png",needStyle:1,w:"40rpx",h:"40rpx"}),(0,c.createVNode)(l,{text:e.$str("notice"),class:"item-title"},null,8,["text"]),(0,c.createVNode)(h,{text:e.unreadRes.notice,maxNum:99999,size:"small",style:(0,c.normalizeStyle)(e.badgePosition),customStyle:e.badgeStyle},null,8,["text","style","customStyle"])]),_:1},8,["style"])):(0,c.createCommentVNode)("",!0),e.isAuth!=1?((0,c.openBlock)(),(0,c.createBlock)(f,{key:1,onClick:e.clickDisturb,type:"bg3",class:"item column-center",style:(0,c.normalizeStyle)({width:`${e.enterItemW}px`})},{default:(0,c.withCtx)(()=>[(0,c.createVNode)(o,{src:e.pubPrivacy.notice.status?"s/msg/no_disturb_s.png":"s/msg/no_disturb.png",needStyle:1,w:"40rpx",h:"40rpx"},null,8,["src"]),(0,c.createVNode)(l,{text:e.$str("disturb"),class:"item-title"},null,8,["text"])]),_:1},8,["onClick","style"])):(0,c.createCommentVNode)("",!0),e.isAuth==1?((0,c.openBlock)(),(0,c.createBlock)(f,{key:2,onClick:t[5]||(t[5]=C=>e.clickNoticeChat(C,5)),type:"bg3",class:"item column-center",style:(0,c.normalizeStyle)({width:`${e.enterItemW}px`})},{default:(0,c.withCtx)(()=>[(0,c.createVNode)(o,{src:"s/msg/index_announcement.png",needStyle:1,w:"40rpx",h:"40rpx"}),(0,c.createVNode)(l,{text:e.$str("announcement"),class:"item-title"},null,8,["text"]),(0,c.createVNode)(h,{text:e.unreadRes.notify,maxNum:99999,size:"small",style:(0,c.normalizeStyle)(e.badgePosition),customStyle:e.badgeStyle},null,8,["text","style","customStyle"])]),_:1},8,["style"])):(0,c.createCommentVNode)("",!0),e.isAuth==1?((0,c.openBlock)(),(0,c.createBlock)(f,{key:3,onClick:t[6]||(t[6]=C=>e.clickNoticeChat(C,4)),type:"bg3",class:"item column-center",style:(0,c.normalizeStyle)({width:`${e.enterItemW}px`})},{default:(0,c.withCtx)(()=>[(0,c.createVNode)(o,{src:"s/msg/index_notice.png",needStyle:1,w:"40rpx",h:"40rpx"}),(0,c.createVNode)(l,{text:e.$str("notice"),class:"item-title"},null,8,["text"]),(0,c.createVNode)(h,{text:e.unreadRes.notice,maxNum:99999,size:"small",style:(0,c.normalizeStyle)(e.badgePosition),customStyle:e.badgeStyle},null,8,["text","style","customStyle"])]),_:1},8,["style"])):(0,c.createCommentVNode)("",!0),(0,c.createVNode)(f,{onClick:e.clickService,type:"bg3",class:"item column-center",style:(0,c.normalizeStyle)({width:`${e.enterItemW}px`})},{default:(0,c.withCtx)(()=>[(0,c.createVNode)(o,{onClick:e.clickService,needStyle:1,src:"s/msg/index_service.png",w:"40rpx",h:"40rpx"},null,8,["onClick"]),(0,c.createVNode)(l,{text:e.$str("service"),class:"item-title"},null,8,["text"]),(0,c.createVNode)(h,{text:e.unreadRes.ass,maxNum:99999,size:"small",style:(0,c.normalizeStyle)(e.badgePosition),customStyle:e.badgeStyle},null,8,["text","style","customStyle"]),(0,c.createElementVNode)("view",{style:{width:"40rpx",height:"40rpx",position:"absolute"}},[(0,c.createElementVNode)("view",{class:"view-online",style:(0,c.normalizeStyle)({background:e.socketBgColor})},null,4)])]),_:1},8,["onClick","style"]),(0,c.createVNode)(f,{onClick:t[7]||(t[7]=C=>e.clickNoticeChat(C,6)),type:"bg3",class:"item column-center",style:(0,c.normalizeStyle)({width:`${e.enterItemW}px`})},{default:(0,c.withCtx)(()=>[(0,c.createVNode)(o,{src:"s/msg/club_applied.png",needStyle:1,w:"40rpx",h:"40rpx"}),(0,c.createVNode)(l,{text:e.$str("club.applied"),class:"item-title"},null,8,["text"]),(0,c.createVNode)(h,{text:e.unreadRes.club_notice,maxNum:99999,size:"small",style:(0,c.normalizeStyle)(e.badgePosition),customStyle:e.badgeStyle},null,8,["text","style","customStyle"])]),_:1},8,["style"])]),(0,c.createVNode)(A,{ref:"msgContentTips"},null,512)]),_:1})]),_:1}),(0,c.createVNode)(f,{type:"bg1_1",style:{flex:"1","margin-top":"4px"}},{default:(0,c.withCtx)(()=>[(0,c.createElementVNode)("list",{ref:"msgIndexList",scrollable:!0,showScrollbar:!1,onLoadmore:t[8]||(t[8]=(...C)=>e.onLoadMore&&e.onLoadMore(...C)),loadmoreoffset:20,offsetAccuracy:10,class:"list-wrap"},[(0,c.createVNode)(D,{ref:"nvueRefresh",onOnRefresh:e.onRefresh},null,8,["onOnRefresh"]),(0,c.createElementVNode)("cell",null,[(0,c.createVNode)(k,null,{default:(0,c.withCtx)(()=>[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(e.msgObj,(C,we,Oe)=>((0,c.openBlock)(),(0,c.createBlock)($,{key:Oe},{right:(0,c.withCtx)(()=>[(0,c.createElementVNode)("view",{onClick:ae=>e.clickDelete(ae,C.id),class:"right-options center-align"},[(0,c.createVNode)(o,{onClick:ae=>e.clickDelete(ae,C.id),src:"s/msg/msg-delete.png",w:"44rpx",h:"44rpx"},null,8,["onClick"])],8,["onClick"])]),default:(0,c.withCtx)(()=>[(0,c.createVNode)(x,{user:C.user,club:C.club,item:C.item,indexStr:C.indexStr},null,8,["user","club","item","indexStr"])]),_:2},1024))),128))]),_:1})]),e.initFinish&&Object.keys(e.msgObj).length<=0?((0,c.openBlock)(),(0,c.createElementBlock)("cell",{key:0,class:"column-center empty-person-wrap"},[(0,c.createVNode)(o,{src:"s/msg/msg_index_person_gray.png",needStyle:1,w:"330rpx",h:"264rpx"}),(0,c.createVNode)(l,{text:e.$str("msg.indexEmptyPersonTips"),type:"desc",class:"empty-tips"},null,8,["text"])])):(0,c.createCommentVNode)("",!0),e.loadMore!="nomore"?((0,c.openBlock)(),(0,c.createElementBlock)("header",{key:1},[(0,c.createVNode)(T,{status:e.loadMore,contentText:e.loadContent,color:"#777777"},null,8,["status","contentText"])])):(0,c.createCommentVNode)("",!0)],544)]),_:1}),e.showShareEnter?((0,c.openBlock)(),(0,c.createBlock)(O,{key:0})):(0,c.createCommentVNode)("",!0),(0,c.createVNode)(F,{id:"/pages/msg/index",isTab:!0}),(0,c.createVNode)(y,{id:"/pages/msg/index","is-tab":!0})])])}var fi=L(Ud,[["render",Hd],["styles",[Bd]]]);var hn=plus.webview.currentWebview();if(hn){let e=parseInt(hn.id),t="pages/msg/index",i={};try{i=JSON.parse(hn.__query__)}catch(a){}fi.mpType="page";let n=Vue.createPageApp(fi,{$store:getApp({allowDefault:!0}).$store,__pageId:e,__pagePath:t,__pageQuery:i});n.provide("__globalStyles",Vue.useCssStyles([...__uniConfig.styles,...fi.styles||[]])),n.mount("#root")}})();
/*!
  * @intlify/shared v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/message-resolver v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/runtime v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/message-compiler v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/core-base v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * vue-i18n v9.1.9
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */
