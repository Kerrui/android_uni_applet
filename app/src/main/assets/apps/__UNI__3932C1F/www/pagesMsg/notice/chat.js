"use weex:vue";

if (typeof Promise !== 'undefined' && !Promise.prototype.finally) {
  Promise.prototype.finally = function(callback) {
    const promise = this.constructor
    return this.then(
      value => promise.resolve(callback()).then(() => value),
      reason => promise.resolve(callback()).then(() => {
        throw reason
      })
    )
  }
};

if (typeof uni !== 'undefined' && uni && uni.requireGlobal) {
  const global = uni.requireGlobal()
  ArrayBuffer = global.ArrayBuffer
  Int8Array = global.Int8Array
  Uint8Array = global.Uint8Array
  Uint8ClampedArray = global.Uint8ClampedArray
  Int16Array = global.Int16Array
  Uint16Array = global.Uint16Array
  Int32Array = global.Int32Array
  Uint32Array = global.Uint32Array
  Float32Array = global.Float32Array
  Float64Array = global.Float64Array
  BigInt64Array = global.BigInt64Array
  BigUint64Array = global.BigUint64Array
};


(()=>{var co=Object.create;var Zi=Object.defineProperty,uo=Object.defineProperties,po=Object.getOwnPropertyDescriptor,mo=Object.getOwnPropertyDescriptors,fo=Object.getOwnPropertyNames,aa=Object.getOwnPropertySymbols,go=Object.getPrototypeOf,ra=Object.prototype.hasOwnProperty,ho=Object.prototype.propertyIsEnumerable;var sa=(e,t,i)=>t in e?Zi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,Qi=(e,t)=>{for(var i in t||(t={}))ra.call(t,i)&&sa(e,i,t[i]);if(aa)for(var i of aa(t))ho.call(t,i)&&sa(e,i,t[i]);return e},oa=(e,t)=>uo(e,mo(t));var la=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var _o=(e,t,i,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of fo(t))!ra.call(e,n)&&n!==i&&Zi(e,n,{get:()=>t[n],enumerable:!(a=po(t,n))||a.enumerable});return e};var K=(e,t,i)=>(i=e!=null?co(go(e)):{},_o(t||!e||!e.__esModule?Zi(i,"default",{value:e,enumerable:!0}):i,e));var Ae=(e,t,i)=>new Promise((a,n)=>{var s=c=>{try{l(i.next(c))}catch(u){n(u)}},o=c=>{try{l(i.throw(c))}catch(u){n(u)}},l=c=>c.done?a(c.value):Promise.resolve(c.value).then(s,o);l((i=i.apply(e,t)).next())});var q=la((nf,ca)=>{ca.exports=Vue});var en=la((af,ua)=>{ua.exports=uni.Vuex});var ce=K(q());var P=K(q()),Fa=K(en());var yo=e=>typeof e=="string",bo="onResize";function Le(e){return weex.requireModule(e)}function F(e,t,...i){uni.__log__?uni.__log__(e,t,...i):console[e].apply(console,[...i,t])}function S(e,t){return yo(e)?t:e}var xo=e=>(t,i=(0,P.getCurrentInstance)())=>{!P.isInSSRComponentSetup&&(0,P.injectHook)(e,t,i)},Pa=xo(bo),wo="dev",Ba,Ua,Ha,Wa,Ga;Ba="https://ztest1.candychat.link",Wa="https://mtest2.candychat.link",Ga="https://atest3.267girl.com",Ua="https://pic2.candychat.link/",Ha="https://pic3.candychat.link/";var To={wv:"13.2.0",ENV:wo,apiHost:Ba,ossPath:Ua,pApiHost:Wa,oApiHost:Ga,ossPicPath:Ha,zT:3,appId:plus.runtime.appid,appV:parseInt(plus.runtime.version.split(".").join("")),OSS_PATH_V:1,OSS_PIC_PATH_V:1,API_HOST_V:1,isAndroid:plus.os.name=="Android",PHOTO:1,VIDEO:2,VOICE:3,TXT:4,SYSTEM_ID:1e7,M_TEXT:1,M_VOICE:2,M_IMG:3,M_GIFT:5,M_NOTICE:6,M_CALL:8,M_RECOMMEND_USER:11,M_RECOMMEND_CLUB:12,M_VIDEO:18,M_GIFT_ASK:21,M_NOTICE_SYS:22,M_EXPRESSION:23,M_LETTER:24,M_PAID_PHOTO:25,M_PAID_VIDEO:26,M_MATCH_SUCCESS:27,M_N_DEF:100,M_N_AUDIT:103,M_N_VIP:104,M_N_RECHARGE:105,M_N_CLUB_AUDIT_REJECT:106,M_N_CLUB_AUDIT:107,M_N_GREETING_AUDIT:115,M_N_SYS_NOTICE:116,M_N_CALL:117,M_N_COOPERATE:118,M_N_WITHDRAW:119,M_N_REPORT_AUDIT:120,M_N_IMG:121,M_N_PRIVACY_CALL:122,M_N_WITHDRAW_NOTICE:123,M_N_WITH_MEDIA:124,M_N_MONITOR:202,M_C_RECHARGE:1001,M_C_CALL_TEXT_AUDIO:1002,M_CHAT_PRI:1,M_CHAT_CLUB:2,M_CHAT_ASS:3,M_CHAT_NOTICE:4,M_CHAT_NOTIFY:5,M_CHAT_CLUB_NOTICE:6,PAY_TYPE_SUCCESS:0,PAY_TYPE_FAIL:1,PAY_TYPE_CANCEL:2,PAY_TYPE_NOT_EXIST:3,PAY_TYPE_NOT_ALLOW:4,PAY_TYPE_ERROR:5,MATCH_PRICE:10},m=To;var Dt={FIND:0,USER:1,MSG:2,MY:3},zt={FIND:"/pages/user/index",MSG:"/pages/msg/index",CALL:"/pages/call-history/index",USER:"/pages/user/index",MY:"/pages/my/index"};var vt={AGORA:"agora",DB:"db",MESSAGE:"message",AVATAR:"avatar",REPORT:"report",FEEDBACK:"feedback",WITHDRAW:"withdraw",CLUB:"club",BANNED:"banned",WARNING:"warning",ALBUM:"album",AUTH:"auth",LOG:"log"};var Ao={en:{title:"English",language:"en",code:"en-US"},es:{title:"espa\xF1ol",language:"es",code:"es-ES"},ar:{title:"\u0639\u0631\u0628\u064A",language:"ar",code:"ar-SA"},vi:{title:"Ti\u1EBFng Vi\u1EC7t",language:"vi",code:"vi-VN"},tr:{title:"T\xFCrk\xE7e",language:"tr",code:"tr-TR"},pt:{title:"Portugu\xEAs",language:"pt",code:"pt-PT"}};var Lt={ACCOUNT:0,LOGIN:1,MESSAGE:2,RECHARGE:6,MSG_SYSTEM:7,DEVICE:8,IP:9,CALL:10,WITHDRAW:11,JOIN_CLUB:14,CREATE_CLUB:15,COACH_LIST:16,SAY_HELLO_MSG:17,GIFT:18,MATCH:19,MOMENT:20,TASK:21,GAME:22,INVITE:23,CERTIFICATION:24,CONSUME:25,NOTIFICATION:26,RANKING_LIST:27},Qt={SUCCESS:0,FAIL:1,SEND_HIDE:2,KEFU_DEL:3,USER_DEL:4},da={SUPER:1,KEFU:2},_i={GIFT:1,COIN:2,BOX:3};var $a={MOMENT:1,SIGN:2,CHECK_SIGN:3,MESSAGE:4,CHECK_NICKNAME:5,CALL:6,CLUB_INTRO:7,CHECK_CLUB_NAME:8,CHECK_CLUB_INTRO:9,REPORT:10,FEEDBACK:11,FEE_ALBUM:12,GREET:13,SENSITIVE:14,MSG_PRI:15,MSG_CLUB:16,MSG_SYS:17,MSG_KEFU:18,GAME_MSG:19,CHECK_CLUB_NAME_V1:20,CHECK_CLUB_INTRO_V1:21,CHECK_CLUB_REASON:22,CLUB_NAME:23,CLUB_APPLICATION_REASON:24,BANNED_REASON:25,WARNING_REASON:26};var Co={DISBAND:1,CHECK_RESULT:2};var So=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",st=e=>So?Symbol(e):e,ko=(e,t,i)=>Do({l:e,k:t,s:i}),Do=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Ce=e=>typeof e=="number"&&isFinite(e),Eo=e=>_n(e)==="[object Date]",mi=e=>_n(e)==="[object RegExp]",yi=e=>V(e)&&Object.keys(e).length===0;function vo(e,t){typeof console!="undefined"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}var De=Object.assign;function pa(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}var Lo=Object.prototype.hasOwnProperty;function Va(e,t){return Lo.call(e,t)}var _e=Array.isArray,Se=e=>typeof e=="function",I=e=>typeof e=="string",le=e=>typeof e=="boolean",ke=e=>e!==null&&typeof e=="object",ja=Object.prototype.toString,_n=e=>ja.call(e),V=e=>_n(e)==="[object Object]",Io=e=>e==null?"":_e(e)||V(e)&&e.toString===ja?JSON.stringify(e,null,2):String(e);var Mo=Object.prototype.hasOwnProperty;function No(e,t){return Mo.call(e,t)}var pi=e=>e!==null&&typeof e=="object",rt=[];rt[0]={w:[0],i:[3,0],["["]:[4],o:[7]};rt[1]={w:[1],["."]:[2],["["]:[4],o:[7]};rt[2]={w:[2],i:[3,0],[0]:[3,0]};rt[3]={i:[3,0],[0]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};rt[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};rt[5]={["'"]:[4,0],o:8,l:[5,0]};rt[6]={['"']:[4,0],o:8,l:[6,0]};var Ro=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Oo(e){return Ro.test(e)}function Fo(e){let t=e.charCodeAt(0),i=e.charCodeAt(e.length-1);return t===i&&(t===34||t===39)?e.slice(1,-1):e}function Po(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Bo(e){let t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:Oo(t)?Fo(t):"*"+t}function Uo(e){let t=[],i=-1,a=0,n=0,s,o,l,c,u,d,g,h=[];h[0]=()=>{o===void 0?o=l:o+=l},h[1]=()=>{o!==void 0&&(t.push(o),o=void 0)},h[2]=()=>{h[0](),n++},h[3]=()=>{if(n>0)n--,a=4,h[0]();else{if(n=0,o===void 0||(o=Bo(o),o===!1))return!1;h[1]()}};function _(){let v=e[i+1];if(a===5&&v==="'"||a===6&&v==='"')return i++,l="\\"+v,h[0](),!0}for(;a!==null;)if(i++,s=e[i],!(s==="\\"&&_())){if(c=Po(s),g=rt[a],u=g[c]||g.l||8,u===8||(a=u[0],u[1]!==void 0&&(d=h[u[1]],d&&(l=s,d()===!1))))return;if(a===7)return t}}var ma=new Map;function fi(e,t){if(!pi(e))return null;let i=ma.get(t);if(i||(i=Uo(t),i&&ma.set(t,i)),!i)return null;let a=i.length,n=e,s=0;for(;s<a;){let o=n[i[s]];if(o===void 0)return null;n=o,s++}return n}function rn(e){if(!pi(e))return e;for(let t in e)if(No(e,t))if(!t.includes("."))pi(e[t])&&rn(e[t]);else{let i=t.split("."),a=i.length-1,n=e;for(let s=0;s<a;s++)i[s]in n||(n[i[s]]={}),n=n[i[s]];n[i[a]]=e[t],delete e[t],pi(n[i[a]])&&rn(n[i[a]])}return e}var Ho=e=>e,Wo=e=>"",Go="text",$o=e=>e.length===0?"":e.join(""),Vo=Io;function fa(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function jo(e){let t=Ce(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(Ce(e.named.count)||Ce(e.named.n))?Ce(e.named.count)?e.named.count:Ce(e.named.n)?e.named.n:t:t}function zo(e,t){t.count||(t.count=e),t.n||(t.n=e)}function Yo(e={}){let t=e.locale,i=jo(e),a=ke(e.pluralRules)&&I(t)&&Se(e.pluralRules[t])?e.pluralRules[t]:fa,n=ke(e.pluralRules)&&I(t)&&Se(e.pluralRules[t])?fa:void 0,s=L=>L[a(i,L.length,n)],o=e.list||[],l=L=>o[L],c=e.named||{};Ce(e.pluralIndex)&&zo(i,c);let u=L=>c[L];function d(L){let U=Se(e.messages)?e.messages(L):ke(e.messages)?e.messages[L]:!1;return U||(e.parent?e.parent.message(L):Wo)}let g=L=>e.modifiers?e.modifiers[L]:Ho,h=V(e.processor)&&Se(e.processor.normalize)?e.processor.normalize:$o,_=V(e.processor)&&Se(e.processor.interpolate)?e.processor.interpolate:Vo,v=V(e.processor)&&I(e.processor.type)?e.processor.type:Go,R={list:l,named:u,plural:s,linked:(L,U)=>{let J=d(L)(R);return I(U)?g(U)(J):J},message:d,type:v,interpolate:_,normalize:h};return R}function za(e,t,i={}){let{domain:a,messages:n,args:s}=i,o=e,l=new SyntaxError(String(o));return l.code=e,t&&(l.location=t),l.domain=a,l}var Ko="9.1.9",bi=-1,ga="";function Jo(){return{upper:e=>I(e)?e.toUpperCase():e,lower:e=>I(e)?e.toLowerCase():e,capitalize:e=>I(e)?`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`:e}}var qo,ha=0;function Xo(e={}){let t=I(e.version)?e.version:Ko,i=I(e.locale)?e.locale:"en-US",a=_e(e.fallbackLocale)||V(e.fallbackLocale)||I(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:i,n=V(e.messages)?e.messages:{[i]:{}},s=V(e.datetimeFormats)?e.datetimeFormats:{[i]:{}},o=V(e.numberFormats)?e.numberFormats:{[i]:{}},l=De({},e.modifiers||{},Jo()),c=e.pluralRules||{},u=Se(e.missing)?e.missing:null,d=le(e.missingWarn)||mi(e.missingWarn)?e.missingWarn:!0,g=le(e.fallbackWarn)||mi(e.fallbackWarn)?e.fallbackWarn:!0,h=!!e.fallbackFormat,_=!!e.unresolving,v=Se(e.postTranslation)?e.postTranslation:null,R=V(e.processor)?e.processor:null,L=le(e.warnHtmlMessage)?e.warnHtmlMessage:!0,U=!!e.escapeParameter,J=Se(e.messageCompiler)?e.messageCompiler:qo,j=Se(e.onWarn)?e.onWarn:vo,C=e,G=ke(C.__datetimeFormatters)?C.__datetimeFormatters:new Map,xe=ke(C.__numberFormatters)?C.__numberFormatters:new Map,Ye=ke(C.__meta)?C.__meta:{};return ha++,{version:t,cid:ha,locale:i,fallbackLocale:a,messages:n,datetimeFormats:s,numberFormats:o,modifiers:l,pluralRules:c,missing:u,missingWarn:d,fallbackWarn:g,fallbackFormat:h,unresolving:_,postTranslation:v,processor:R,warnHtmlMessage:L,escapeParameter:U,messageCompiler:J,onWarn:j,__datetimeFormatters:G,__numberFormatters:xe,__meta:Ye}}function yn(e,t,i,a,n){let{missing:s,onWarn:o}=e;if(s!==null){let l=s(e,i,t,n);return I(l)?l:t}else return t}function ei(e,t,i){let a=e;a.__localeChainCache||(a.__localeChainCache=new Map);let n=a.__localeChainCache.get(i);if(!n){n=[];let s=[i];for(;_e(s);)s=_a(n,s,t);let o=_e(t)?t:V(t)?t.default?t.default:null:t;s=I(o)?[o]:o,_e(s)&&_a(n,s,!1),a.__localeChainCache.set(i,n)}return n}function _a(e,t,i){let a=!0;for(let n=0;n<t.length&&le(a);n++){let s=t[n];I(s)&&(a=Zo(e,t[n],i))}return a}function Zo(e,t,i){let a,n=t.split("-");do{let s=n.join("-");a=Qo(e,s,i),n.splice(-1,1)}while(n.length&&a===!0);return a}function Qo(e,t,i){let a=!1;if(!e.includes(t)&&(a=!0,t)){a=t[t.length-1]!=="!";let n=t.replace(/!/g,"");e.push(n),(_e(i)||V(i))&&i[n]&&(a=i[n])}return a}function jt(e,t,i){let a=e;a.__localeChainCache=new Map,ei(e,i,t)}function Ct(e){return za(e,null,void 0)}var ya=()=>"",gt=e=>Se(e);function ba(e,...t){let{fallbackFormat:i,postTranslation:a,unresolving:n,fallbackLocale:s,messages:o}=e,[l,c]=on(...t),u=le(c.missingWarn)?c.missingWarn:e.missingWarn,d=le(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,g=le(c.escapeParameter)?c.escapeParameter:e.escapeParameter,h=!!c.resolvedMessage,_=I(c.default)||le(c.default)?le(c.default)?l:c.default:i?l:"",v=i||_!=="",R=I(c.locale)?c.locale:e.locale;g&&el(c);let[L,U,J]=h?[l,R,o[R]||{}]:tl(e,l,R,s,d,u),j=l;if(!h&&!(I(L)||gt(L))&&v&&(L=_,j=L),!h&&(!(I(L)||gt(L))||!I(U)))return n?bi:l;let C=!1,G=()=>{C=!0},xe=gt(L)?L:Ya(e,l,U,L,j,G);if(C)return L;let Ye=al(e,U,J,c),pe=Yo(Ye),we=il(e,xe,pe);return a?a(we):we}function el(e){_e(e.list)?e.list=e.list.map(t=>I(t)?pa(t):t):ke(e.named)&&Object.keys(e.named).forEach(t=>{I(e.named[t])&&(e.named[t]=pa(e.named[t]))})}function tl(e,t,i,a,n,s){let{messages:o,onWarn:l}=e,c=ei(e,a,i),u={},d,g=null,h="translate";for(let _=0;_<c.length&&(d=c[_],u=o[d]||{},(g=fi(u,t))===null&&(g=u[t]),!(I(g)||Se(g)));_++){let v=yn(e,t,d,s,h);v!==t&&(g=v)}return[g,d,u]}function Ya(e,t,i,a,n,s){let{messageCompiler:o,warnHtmlMessage:l}=e;if(gt(a)){let u=a;return u.locale=u.locale||i,u.key=u.key||t,u}let c=o(a,nl(e,i,n,a,l,s));return c.locale=i,c.key=t,c.source=a,c}function il(e,t,i){return t(i)}function on(...e){let[t,i,a]=e,n={};if(!I(t)&&!Ce(t)&&!gt(t))throw Ct(14);let s=Ce(t)?String(t):(gt(t),t);return Ce(i)?n.plural=i:I(i)?n.default=i:V(i)&&!yi(i)?n.named=i:_e(i)&&(n.list=i),Ce(a)?n.plural=a:I(a)?n.default=a:V(a)&&De(n,a),[s,n]}function nl(e,t,i,a,n,s){return{warnHtmlMessage:n,onError:o=>{throw s&&s(o),o},onCacheKey:o=>ko(t,i,o)}}function al(e,t,i,a){let{modifiers:n,pluralRules:s}=e,l={locale:t,modifiers:n,pluralRules:s,messages:c=>{let u=fi(i,c);if(I(u)){let d=!1,h=Ya(e,c,t,u,c,()=>{d=!0});return d?ya:h}else return gt(u)?u:ya}};return e.processor&&(l.processor=e.processor),a.list&&(l.list=a.list),a.named&&(l.named=a.named),Ce(a.plural)&&(l.pluralIndex=a.plural),l}function xa(e,...t){let{datetimeFormats:i,unresolving:a,fallbackLocale:n,onWarn:s}=e,{__datetimeFormatters:o}=e,[l,c,u,d]=ln(...t),g=le(u.missingWarn)?u.missingWarn:e.missingWarn;le(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;let h=!!u.part,_=I(u.locale)?u.locale:e.locale,v=ei(e,n,_);if(!I(l)||l==="")return new Intl.DateTimeFormat(_).format(c);let R={},L,U=null,J="datetime format";for(let G=0;G<v.length&&(L=v[G],R=i[L]||{},U=R[l],!V(U));G++)yn(e,l,L,g,J);if(!V(U)||!I(L))return a?bi:l;let j=`${L}__${l}`;yi(d)||(j=`${j}__${JSON.stringify(d)}`);let C=o.get(j);return C||(C=new Intl.DateTimeFormat(L,De({},U,d)),o.set(j,C)),h?C.formatToParts(c):C.format(c)}function ln(...e){let[t,i,a,n]=e,s={},o={},l;if(I(t)){if(!/\d{4}-\d{2}-\d{2}(T.*)?/.test(t))throw Ct(16);l=new Date(t);try{l.toISOString()}catch(c){throw Ct(16)}}else if(Eo(t)){if(isNaN(t.getTime()))throw Ct(15);l=t}else if(Ce(t))l=t;else throw Ct(14);return I(i)?s.key=i:V(i)&&(s=i),I(a)?s.locale=a:V(a)&&(o=a),V(n)&&(o=n),[s.key||"",l,s,o]}function wa(e,t,i){let a=e;for(let n in i){let s=`${t}__${n}`;a.__datetimeFormatters.has(s)&&a.__datetimeFormatters.delete(s)}}function Ta(e,...t){let{numberFormats:i,unresolving:a,fallbackLocale:n,onWarn:s}=e,{__numberFormatters:o}=e,[l,c,u,d]=cn(...t),g=le(u.missingWarn)?u.missingWarn:e.missingWarn;le(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;let h=!!u.part,_=I(u.locale)?u.locale:e.locale,v=ei(e,n,_);if(!I(l)||l==="")return new Intl.NumberFormat(_).format(c);let R={},L,U=null,J="number format";for(let G=0;G<v.length&&(L=v[G],R=i[L]||{},U=R[l],!V(U));G++)yn(e,l,L,g,J);if(!V(U)||!I(L))return a?bi:l;let j=`${L}__${l}`;yi(d)||(j=`${j}__${JSON.stringify(d)}`);let C=o.get(j);return C||(C=new Intl.NumberFormat(L,De({},U,d)),o.set(j,C)),h?C.formatToParts(c):C.format(c)}function cn(...e){let[t,i,a,n]=e,s={},o={};if(!Ce(t))throw Ct(14);let l=t;return I(i)?s.key=i:V(i)&&(s=i),I(a)?s.locale=a:V(a)&&(o=a),V(n)&&(o=n),[s.key||"",l,s,o]}function Aa(e,t,i){let a=e;for(let n in i){let s=`${t}__${n}`;a.__numberFormatters.has(s)&&a.__numberFormatters.delete(s)}}var sl="9.1.9";function ft(e,...t){return za(e,null,void 0)}var un=st("__transrateVNode"),dn=st("__datetimeParts"),pn=st("__numberParts");st("__enableEmitter");st("__disableEmitter");var rl=st("__setPluralRules");st("__intlifyMeta");var Ka=st("__injectWithOption"),Ca=0;function Sa(e){return(t,i,a,n)=>e(i,a,(0,P.getCurrentInstance)()||void 0,n)}function Ja(e,t){let{messages:i,__i18n:a}=t,n=V(i)?i:_e(a)?{}:{[e]:{}};if(_e(a)&&a.forEach(({locale:s,resource:o})=>{s?(n[s]=n[s]||{},gi(o,n[s])):gi(o,n)}),t.flatJson)for(let s in n)Va(n,s)&&rn(n[s]);return n}var ci=e=>!ke(e)||_e(e);function gi(e,t){if(ci(e)||ci(t))throw ft(20);for(let i in e)Va(e,i)&&(ci(e[i])||ci(t[i])?t[i]=e[i]:gi(e[i],t[i]))}function ol(e={}){let{__root:t}=e,i=t===void 0,a=le(e.inheritLocale)?e.inheritLocale:!0,n=(0,P.ref)(t&&a?t.locale.value:I(e.locale)?e.locale:"en-US"),s=(0,P.ref)(t&&a?t.fallbackLocale.value:I(e.fallbackLocale)||_e(e.fallbackLocale)||V(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:n.value),o=(0,P.ref)(Ja(n.value,e)),l=(0,P.ref)(V(e.datetimeFormats)?e.datetimeFormats:{[n.value]:{}}),c=(0,P.ref)(V(e.numberFormats)?e.numberFormats:{[n.value]:{}}),u=t?t.missingWarn:le(e.missingWarn)||mi(e.missingWarn)?e.missingWarn:!0,d=t?t.fallbackWarn:le(e.fallbackWarn)||mi(e.fallbackWarn)?e.fallbackWarn:!0,g=t?t.fallbackRoot:le(e.fallbackRoot)?e.fallbackRoot:!0,h=!!e.fallbackFormat,_=Se(e.missing)?e.missing:null,v=Se(e.missing)?Sa(e.missing):null,R=Se(e.postTranslation)?e.postTranslation:null,L=le(e.warnHtmlMessage)?e.warnHtmlMessage:!0,U=!!e.escapeParameter,J=t?t.modifiers:V(e.modifiers)?e.modifiers:{},j=e.pluralRules||t&&t.pluralRules,C;function G(){return Xo({version:sl,locale:n.value,fallbackLocale:s.value,messages:o.value,messageCompiler:function(A){return Ne=>Ne.normalize([A])},datetimeFormats:l.value,numberFormats:c.value,modifiers:J,pluralRules:j,missing:v===null?void 0:v,missingWarn:u,fallbackWarn:d,fallbackFormat:h,unresolving:!0,postTranslation:R===null?void 0:R,warnHtmlMessage:L,escapeParameter:U,__datetimeFormatters:V(C)?C.__datetimeFormatters:void 0,__numberFormatters:V(C)?C.__numberFormatters:void 0,__v_emitter:V(C)?C.__v_emitter:void 0,__meta:{framework:"vue"}})}C=G(),jt(C,n.value,s.value);function xe(){return[n.value,s.value,o.value,l.value,c.value]}let Ye=(0,P.computed)({get:()=>n.value,set:b=>{n.value=b,C.locale=n.value}}),pe=(0,P.computed)({get:()=>s.value,set:b=>{s.value=b,C.fallbackLocale=s.value,jt(C,n.value,b)}}),we=(0,P.computed)(()=>o.value),Me=(0,P.computed)(()=>l.value),xt=(0,P.computed)(()=>c.value);function wt(){return Se(R)?R:null}function Ke(b){R=b,C.postTranslation=b}function $t(){return _}function Ji(b){b!==null&&(v=Sa(b)),_=b,C.missing=v}function x(b,A,Ne,Te,Xi,li){xe();let Vt;if(Vt=b(C),Ce(Vt)&&Vt===bi){let[lo,ef]=A();return t&&g?Te(t):Xi(lo)}else{if(li(Vt))return Vt;throw ft(14)}}function W(...b){return x(A=>ba(A,...b),()=>on(...b),"translate",A=>A.t(...b),A=>A,A=>I(A))}function qi(...b){let[A,Ne,Te]=b;if(Te&&!ke(Te))throw ft(15);return W(A,Ne,De({resolvedMessage:!0},Te||{}))}function $r(...b){return x(A=>xa(A,...b),()=>ln(...b),"datetime format",A=>A.d(...b),()=>ga,A=>I(A))}function Vr(...b){return x(A=>Ta(A,...b),()=>cn(...b),"number format",A=>A.n(...b),()=>ga,A=>I(A))}function jr(b){return b.map(A=>I(A)?(0,P.createVNode)(P.Text,null,A,0):A)}let zr={normalize:jr,interpolate:b=>b,type:"vnode"};function Yr(...b){return x(A=>{let Ne,Te=A;try{Te.processor=zr,Ne=ba(Te,...b)}finally{Te.processor=null}return Ne},()=>on(...b),"translate",A=>A[un](...b),A=>[(0,P.createVNode)(P.Text,null,A,0)],A=>_e(A))}function Kr(...b){return x(A=>Ta(A,...b),()=>cn(...b),"number format",A=>A[pn](...b),()=>[],A=>I(A)||_e(A))}function Jr(...b){return x(A=>xa(A,...b),()=>ln(...b),"datetime format",A=>A[dn](...b),()=>[],A=>I(A)||_e(A))}function qr(b){j=b,C.pluralRules=j}function Xr(b,A){let Ne=I(A)?A:n.value,Te=na(Ne);return fi(Te,b)!==null}function Zr(b){let A=null,Ne=ei(C,s.value,n.value);for(let Te=0;Te<Ne.length;Te++){let Xi=o.value[Ne[Te]]||{},li=fi(Xi,b);if(li!=null){A=li;break}}return A}function Qr(b){let A=Zr(b);return A!=null?A:t?t.tm(b)||{}:{}}function na(b){return o.value[b]||{}}function eo(b,A){o.value[b]=A,C.messages=o.value}function to(b,A){o.value[b]=o.value[b]||{},gi(A,o.value[b]),C.messages=o.value}function io(b){return l.value[b]||{}}function no(b,A){l.value[b]=A,C.datetimeFormats=l.value,wa(C,b,A)}function ao(b,A){l.value[b]=De(l.value[b]||{},A),C.datetimeFormats=l.value,wa(C,b,A)}function so(b){return c.value[b]||{}}function ro(b,A){c.value[b]=A,C.numberFormats=c.value,Aa(C,b,A)}function oo(b,A){c.value[b]=De(c.value[b]||{},A),C.numberFormats=c.value,Aa(C,b,A)}return Ca++,t&&((0,P.watch)(t.locale,b=>{a&&(n.value=b,C.locale=b,jt(C,n.value,s.value))}),(0,P.watch)(t.fallbackLocale,b=>{a&&(s.value=b,C.fallbackLocale=b,jt(C,n.value,s.value))})),{id:Ca,locale:Ye,fallbackLocale:pe,get inheritLocale(){return a},set inheritLocale(b){a=b,b&&t&&(n.value=t.locale.value,s.value=t.fallbackLocale.value,jt(C,n.value,s.value))},get availableLocales(){return Object.keys(o.value).sort()},messages:we,datetimeFormats:Me,numberFormats:xt,get modifiers(){return J},get pluralRules(){return j||{}},get isGlobal(){return i},get missingWarn(){return u},set missingWarn(b){u=b,C.missingWarn=u},get fallbackWarn(){return d},set fallbackWarn(b){d=b,C.fallbackWarn=d},get fallbackRoot(){return g},set fallbackRoot(b){g=b},get fallbackFormat(){return h},set fallbackFormat(b){h=b,C.fallbackFormat=h},get warnHtmlMessage(){return L},set warnHtmlMessage(b){L=b,C.warnHtmlMessage=b},get escapeParameter(){return U},set escapeParameter(b){U=b,C.escapeParameter=b},t:W,rt:qi,d:$r,n:Vr,te:Xr,tm:Qr,getLocaleMessage:na,setLocaleMessage:eo,mergeLocaleMessage:to,getDateTimeFormat:io,setDateTimeFormat:no,mergeDateTimeFormat:ao,getNumberFormat:so,setNumberFormat:ro,mergeNumberFormat:oo,getPostTranslationHandler:wt,setPostTranslationHandler:Ke,getMissingHandler:$t,setMissingHandler:Ji,[un]:Yr,[pn]:Kr,[dn]:Jr,[rl]:qr,[Ka]:e.__injectWithOption}}var bn={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};De({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>Ce(e)||!isNaN(e)}},bn);function ll({slots:e},t){return t.length===1&&t[0]==="default"?e.default?e.default():[]:t.reduce((i,a)=>{let n=e[a];return n&&(i[a]=n()),i},{})}function qa(e,t,i,a){let{slots:n,attrs:s}=t;return()=>{let o={part:!0},l={};e.locale&&(o.locale=e.locale),I(e.format)?o.key=e.format:ke(e.format)&&(I(e.format.key)&&(o.key=e.format.key),l=Object.keys(e.format).reduce((g,h)=>i.includes(h)?De({},g,{[h]:e.format[h]}):g,{}));let c=a(e.value,o,l),u=[o.key];_e(c)?u=c.map((g,h)=>{let _=n[g.type];return _?_({[g.type]:g.value,index:h,parts:c}):[g.value]}):I(c)&&(u=[c]);let d=De({},s);return I(e.tag)?(0,P.h)(e.tag,d,u):ke(e.tag)?(0,P.h)(e.tag,d,u):(0,P.h)(P.Fragment,d,u)}}var cl=["localeMatcher","style","unit","unitDisplay","currency","currencyDisplay","useGrouping","numberingSystem","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","notation","formatMatcher"];De({value:{type:Number,required:!0},format:{type:[String,Object]}},bn);var ul=["dateStyle","timeStyle","fractionalSecondDigits","calendar","dayPeriod","numberingSystem","localeMatcher","timeZone","hour12","hourCycle","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"];De({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},bn);function xn(e={}){let t=(0,P.getCurrentInstance)();if(t==null)throw ft(16);if(!t.appContext.app.__VUE_I18N_SYMBOL__)throw ft(17);let i=(0,P.inject)(t.appContext.app.__VUE_I18N_SYMBOL__);if(!i)throw ft(22);let a=i.mode==="composition"?i.global:i.global.__composer,n=yi(e)?"__i18n"in t.type?"local":"global":e.useScope?e.useScope:"local";if(n==="global"){let l=ke(e.messages)?e.messages:{};"__i18nGlobal"in t.type&&(l=Ja(a.locale.value,{messages:l,__i18n:t.type.__i18nGlobal}));let c=Object.keys(l);if(c.length&&c.forEach(u=>{a.mergeLocaleMessage(u,l[u])}),ke(e.datetimeFormats)){let u=Object.keys(e.datetimeFormats);u.length&&u.forEach(d=>{a.mergeDateTimeFormat(d,e.datetimeFormats[d])})}if(ke(e.numberFormats)){let u=Object.keys(e.numberFormats);u.length&&u.forEach(d=>{a.mergeNumberFormat(d,e.numberFormats[d])})}return a}if(n==="parent"){let l=dl(i,t,e.__useComponent);return l==null&&(l=a),l}if(i.mode==="legacy")throw ft(18);let s=i,o=s.__getInstance(t);if(o==null){let l=t.type,c=De({},e);l.__i18n&&(c.__i18n=l.__i18n),a&&(c.__root=a),o=ol(c),pl(s,t),s.__setInstance(t,o)}return o}function dl(e,t,i=!1){let a=null,n=t.root,s=t.parent;for(;s!=null;){let o=e;if(e.mode==="composition")a=o.__getInstance(s);else{let l=o.__getInstance(s);l!=null&&(a=l.__composer),i&&a&&!a[Ka]&&(a=null)}if(a!=null||n===s)break;s=s.parent}return a}function pl(e,t,i){(0,P.onMounted)(()=>{},t),(0,P.onUnmounted)(()=>{e.__deleteInstance(t)},t)}function ue(e,t,i=!1,a=null){let n=wn(e,i);a?uni.setStorage({key:n,data:t,success:a}):uni.setStorageSync(n,t)}function te(e,t=!1,i=null){let a=wn(e,t);if(i)uni.getStorage({key:a,success:i});else return uni.getStorageSync(a)}function It(e,t=!1){uni.removeStorage({key:wn(e,t)})}function wn(e,t){return t?`_a_${e}`:`m_${e}`}function ml(e,t){let i=t;return typeof t=="undefined"&&(i=getApp().globalData.uid),te(e+"_"+i)}var Jt={NONE:0,WAITING:1,GAME:2,WEEK_UP:3,JUDGE_ROOM:100};var xi={VIDEO:1,VOICE:2},Tn={CALL:1,ANSWER:2,MATCH_ACCEPT:3,MATCH_CONNECT:4},Xa={CALL:1,MATCH:2},Za={DEF:0,NOTIFY:1,CONNECT:2},wi={HOME:0,MSG:1,MATCH:2,RECOMMEND:3,MATCH_NOTIFY:4,QUALITY:5,NO_COINS_DIALOG:6,CALL_LOG:7,GAME_MATCH:8,GAME_MATCH_NOTIFY:9,RANKING_LIST:10,PRIVACY_SET_MSG:11,MOMENT:12,CALlING:98,FREE_MIN_POP:99,ANSWER_ERROR:100,END_PAGE:101,APP_NOTIFY:102};function Qa(e){return e==1?p("hisLower"):p("herLower")}function ti(e){return e==1?p("himLower"):p("herLower")}function es(e){return e==1?p("he"):p("she")}function ts(e){return e>=12?`1 ${p("yearLower")}`:`${e} ${fl(e)}`}function fl(e){return e>1?p("monthsLower"):p("monthLower")}function is(e){return e>1?p("weeksLower"):p("weekLower")}function ns(e){return e>1?p("daysLower"):p("dayLower")}function as(e){return e>1?p("minsLower"):p("minLower")}function ss(e){return e==1?p("videoChatLower"):p("audioChatLower")}function An(e){return`${e} ${e>1?p("coinsLower"):p("coinLower")}`}function gl(e){return e>1?p("time.hoursAgo",{number:e}):p("time.hourAgo",{number:e})}function ka(e){return e>1?p("time.daysAgo",{number:e}):p("time.dayAgo",{number:e})}function Da(e){return e>1?p("time.minutesAgo",{number:e}):p("time.minuteAgo",{number:e})}function rs(e){return e==1?p("himselfLower"):p("herselfLower")}function f(e){return typeof e=="undefined"||e==null||e==""}function hl(e){return e===""||e===null}var qe=new Promise(()=>{});function _l(e,t,i=""){if(f(e))return"";let a=[];for(let n in e)a.push(n+"="+e[n]);return i+a.join(t)}function St(e){return typeof e=="number"?e+"":typeof e=="boolean"?e?"true":"false":f(e)?"null":typeof e=="object"?JSON.stringify(e):e}function ae(e){return e.replace(new RegExp("'","gm"),"\uFF07")}function Mt(e){return e.replace(new RegExp("\uFF07","gm"),"'")}function ui(e,t){let i={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in i)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,RegExp.$1.length==1?i[a]:("00"+i[a]).substr((""+i[a]).length)));return t}function Ti(e,t=18){if(f(e))return"";let i=new Date(Date.parse(e.replace(/-/g,"/"))),a=Math.ceil((new Date().getTime()-i)/31536e6),n=a>1?a-1:a;return n<t?t:n}function yl(e){return e=parseInt(e),e.toString().length==16?e=Math.round(e/1e3):e<1e10&&(e=e*1e3),e}function mt(e){return e<10?"0"+e:e}function os(e,t=!1,i=!1,a=!0){e<1e10&&(e=e*1e3);var n=new Date(e),s=n.getFullYear(),o=n.getMonth()+1,l=n.getDate(),c=n.getHours(),u=n.getMinutes(),d=n.getSeconds();let g=t?`${s}-`:"";if(i)return g+mt(o)+"-"+mt(l);{let h=a?":"+mt(d):"";return g+mt(o)+"-"+mt(l)+" "+mt(c)+":"+mt(u)+h}}function Cn(e,t=!0,i=!1,a=""){if(f(e))return"";e=yl(e);let n;a==""?n=new Date:n=bl(a);let s=new Date(e),o=n.getFullYear(),l=n.getMonth()+1,c=n.getDate(),u=s.getFullYear(),d=s.getMonth()+1,g=s.getDate(),h="",_=t?" "+ui(s,"hh:mm"):"";if(o==u){let U=n.getTime()-e;if(l==d&&c==g)U<60*1e3&&!t?h=p("just"):h=`${p("today")} ${ui(s,"hh:mm")}`;else{let J=new Date;J.setDate(J.getDate()-1);let j=new Date;if(j.setDate(j.getDate()-2),d==J.getMonth()+1&&g==J.getDate())h=`${p("yesterday")} ${_}`;else{var v=U/36e5;if(v<=7*24){let C=new Array(7),G=i?"Short":"";C[0]=p("week.sun"+G),C[1]=p("week.mon"+G),C[2]=p("week.tues"+G),C[3]=p("week.wed"+G),C[4]=p("week.thur"+G),C[5]=p("week.fri"+G),C[6]=p("week.sat"+G);var R=C[s.getDay()];h=R+" "+_}else h=ui(s,"M/d")+_}}}else h=ui(s,"M/d")+_;return h}function bl(e){let t=new Date,i=t.getTime(),s=t.getTimezoneOffset()*6e4+i+36e5*e;return new Date(s)}function ii(e,t=!1){if(f(e)||e<0||isNaN(e))return t?"00:00:00":"00:00";var i=0,a=0;e>0&&e<10?e="0"+parseInt(e):e<=0?e="00":e>60&&(i=parseInt(e/60)<10?"0"+parseInt(e/60):parseInt(e/60),e=parseInt(e%60)<10?"0"+parseInt(e%60):parseInt(e%60),i>60&&(a=parseInt(i/60)<10?"0"+parseInt(i/60):parseInt(i/60),i=parseInt(i%60)<10?"0"+parseInt(i%60):parseInt(i%60)));var n;return a>0?n=a+":"+i+":"+e:i>0?(n=i+":"+e,t&&(n="00:"+n)):(n="00:"+e,t&&(n="00:"+n)),n}function Ai(e,t,i){return Math.abs(e-t)>i*60*1e3}function z(e){try{let t=JSON.parse(e);if(typeof t=="object")return t}catch(t){}return!1}function Ci(e){let t=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi;return e.match(t)}function Sn(e,t){for(let i in e)if(t[i]!=null&&e[i]!=t[i])return!0;return!1}function ls(){return Math.random().toString(36).substr(2)}function Nt(e){return!!(e.startsWith("file://")||e.startsWith("/var/mobile/")||e.indexOf("apps/__UNI")!=-1||e.startsWith("/storage/")||e.startsWith("_doc/uniapp_temp"))}function cs(e,t=3,i=0){let a=60,n=a*60,s=n*24,c=Date.parse(new Date).toString().substr(0,10)-e;if(c<0)return Da(1);let u=c/s,d=c/n,g=c/a;if(u>t)return ka(t);if(u>=1&&u<t)return ka(parseInt(u));if(d>=1&&d<24)return gl(parseInt(d));if(g>=0&&g<60){if(i!=0&&g<=i)return p("online");let h=parseInt(g);return Da(h==0?1:h)}}var tn={};function xl(e,t=500,i="throttle"){let a=e.name;f(a)&&(a=i),!tn[a]&&(tn[a]=!0,e(),setTimeout(function(){tn[a]=""},t))}function kn(e,t,i=1e4){return e<=0||t<=0?[108,192]:(t>e?(t=t*108/e,t>i&&(t=i),e=108):(t=t*148/e,e=148),[e,t])}function us(e){if(!e)return"";let t=JSON.stringify(e);return(typeof t!="string"||t=="{}")&&(t=e.toString()),t}function wl(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var $e={adminAgencyList:"/pagesAdmin/agency/list",adminAgencyDetail:"/pagesAdmin/agency/agency-detail",adminAgencyEdit:"/pagesAdmin/agency/agency-edit",adminAgencyEditPrice:"/pagesAdmin/agency/agency-edit-price",adminAgencyEditWithdrawInfo:"/pagesAdmin/agency/withdraw-info",adminAgencyEditName:"/pagesAdmin/agency/agency-edit-nickname",adminAgencyEditCountry:"/pagesAdmin/agency/agency-edit-country",adminAgencyEditEmail:"/pagesAdmin/agency/agency-edit-email",adminAgencyEditWhatsApp:"/pagesAdmin/agency/agency-edit-whatsapp",adminAgencyInvited:"/pagesAdmin/agency/invited",adminAgencyListSub:"/pagesAdmin/agency/list-sub",adminAgencyGirlsList:"/pagesAdmin/agency/girls-list",adminAgencyGirlsListSub:"/pagesAdmin/agency/girls-list-sub",adminAgencyDataPanel:"/pagesAdmin/agency/data-panel",adminAgencyDataHistory:"/pagesAdmin/agency/data-history",adminAgencyDataDetail:"/pagesAdmin/agency/data-detail",adminAgencyDataDetailTask:"/pagesAdmin/agency/data-detail-task",adminAgencyWithdrawRecords:"/pagesAdmin/agency/withdraw-records",adminAgencyWalletDetail:"/pagesAdmin/agency/wallet-detail",adminAgencyHandleBan:"/pagesAdmin/agency/handle-ban",adminAgencyHandleDelete:"/pagesAdmin/agency/handle-delete",adminAgencySelected:"/pagesAdmin/agency/selected-agency",adminAgencyStatus:"/pagesAdmin/agency/agency-status",adminAgencySubAgencyList:"/pagesAdmin/agency/sub-agency-list",adminAgencyWithdrawGirlList:"/pagesAdmin/agency/withdraw/girl-list",adminAgencyWithdrawSubAgentList:"/pagesAdmin/agency/withdraw/sub-agent-list",adminAgencyWithdrawSettlementDetail:"/pagesAdmin/agency/withdraw/settlement-detail",adminAgencyWithdrawEntiretyDetail:"/pagesAdmin/agency/withdraw/entirety-detail",adminAgencyWithdrawEntiretyDetailReject:"/pagesAdmin/agency/withdraw/entirety-detail-reject",adminAgencyHistoricalMemberList:"/pagesAdmin/agency/historical-list",adminAgencyWithdrawSubAgentDetail:"/pagesAdmin/agency/withdraw/sub-agent-detail",adminAuditSettlement:"/pagesAdmin/auditNew/settlement",adminAuditSettlementSub:"/pagesAdmin/auditNew/settlement-sub",adminAuditWithdraw:"/pagesAdmin/auditNew/withdraw",adminAuditWithdrawCashList:"/pagesAdmin/audit/withdraw-cash-list",adminWallet:"/pagesAdmin/wallet/wallet",adminWalletCoinStat:"/pagesAdmin/wallet/coin-stat",adminAgencyAnchorDetail:"/pagesAdmin/agencyManager/anchor-detail",adminChannelBackend:"/pagesAdmin/channel/channel-backend",adminAuditAgencyAvatar:"/pagesAdmin/auditNew/agency-avatar",adminAuditAgencyName:"/pagesAdmin/auditNew/agency-name",adminAuditCheckAllUnderReview:"/pagesAdmin/audit/check-all-under-review",adminPermissionWebManage:"/pagesAdmin/more/permission-web-manage",adminPermissionList:"/pagesAdmin/more/permission-list",adminPermissionEdit:"/pagesAdmin/more/permission-edit",adminPermissionNewAccount:"/pagesAdmin/more/permission-new-account",adminPermissionChooseRole:"/pagesAdmin/more/permission-choose-role",adminPermissionNewRole:"/pagesAdmin/more/permission-new-role",adminWhiteList:"/pagesAdmin/more/white-list",adminCallEvaluationList:"/pagesAdmin/user/call-evaluation-list",adminWarnDeviceUser:"/pagesAdmin/user/ban-device-user",adminWarnList:"/pagesAdmin/audit/warn-list",adminVersionUseList:"/pagesAdmin/more/version-use-list",adminAuditSettlementReview:"/pagesAdmin/auditNew/settlement-review",adminAuditWithdrawReview:"/pagesAdmin/auditNew/withdraw-review",adminClubApplication:"/pagesAdmin/auditNew/club-application",adminClubModification:"/pagesAdmin/auditNew/club-modification",adminClubManagement:"/pagesAdmin/club/management",warningDialog:"/pagesDialog/warning",homeFilterSexGuide:"/pagesDialog/home-filter-sex-guide",club:"/pagesClub/club",clubReachLevel:"/pagesDialog/club-reach-level",clubStatusRemind:"/pagesDialog/club-status-remind",clubApplyCreate:"/pagesClub/apply-create",clubCreateSuccess:"/pagesClub/create-success",clubRules:"/pagesDialog/club-rules",clubApplicationList:"/pagesClub/application-list",clubWarning:"/pagesDialog/club-warning",clubDisband:"/pagesDialog/club-disband",adminClubManagementSub:"/pagesAdmin/club/management-sub",adminClubTodayNew:"/pagesAdmin/club/club-today-new",adminClubNormal:"/pagesAdmin/club/club-normal",adminClubManageGirls:"/pagesAdmin/club/club-manage-girls",adminClubOperator:"/pagesAdmin/club/club-operator",adminClubDisbanded:"/pagesAdmin/club/club-disbanded",adminClubMemberList:"/pagesAdmin/club/member-new",adminClubInfo:"/pagesAdmin/club/detail-new",adminCLubWarning:"/pagesAdmin/club/warning",adminClubOperatorLog:"/pagesAdmin/club/operation-log",adminClubPersonalApplication:"/pagesAdmin/auditNew/club-application-personal",adminOutsourcingIndex:"/pagesAdmin/more/outsourcing/index",adminOutsourcingPermissionList:"/pagesAdmin/more/outsourcing/permission-list",adminOutsourcingNewRole:"/pagesAdmin/more/outsourcing/new-role",adminOutsourcingEditRole:"/pagesAdmin/more/outsourcing/edit-role",adminRefundDetail:"/pagesAdmin/refund/detail"};function ds(e,t){let i=$e[e];return i||(i=e),i+_l(t,"&","?")}function $(e,t=null,i=null,a=!1){let n=ds(e,t),s={url:n,fail:o=>{F("error","at common/route.js:107",`\u6253\u5F00\u9875\u9762\u5931\u8D25${n} ${JSON.stringify(o)}`),getApp().globalData.appCRE&&n.startsWith("/pagesAdmin")&&m.zT!=3&&M.request("/sign/reload-route",{},!0)}};a&&(s=Object.assign(s,a)),i!=null&&(s.events=i),uni.navigateTo(s)}function ne(e,t,i,a,n=null){let o={url:ds(e,t),success(l){l.eventChannel.emit(i,a)}};n!=null&&(o.events=n),uni.navigateTo(o)}function Tl(e=1,t="",i=""){let a={delta:e};t&&(a.animationType=t),i&&(a.animationDuration=i),uni.navigateBack(a)}function Al(e){f(e)||uni.switchTab({url:e})}function Rt(){let e=[],t=getCurrentPages();for(let i=0,a=t.length;i<a;i++){let n=t[i].$page;e.push(n.path)}return e}function ot(e="path"){let t=getCurrentPages(),i=t[t.length-1];if(!i)return"";let a=i.$page;return a?a[e]:""}function Si(e){let t=Vl();t&&(t==da.SUPER?$("/pagesAdmin/user/info",{uid:e}):t==da.KEFU&&$("/pagesAdmin/user/info-sub",{user_detail:t,uid:e}))}function ki(e,t){e==getApp().globalData.uid?t&&Al(zt.MY):$("/pages/main/user-home",{uid:e})}function Cl(e,t=null,i=null){let n={uid:typeof e=="object"?e.uid:e};i&&(n=Object.assign(n,i)),ne("/pagesMsg/pri/chat",n,"priData",{user:e,extra:t})}function Dn(e,t=null){let a={id:typeof e=="object"?e.club_id:e};t&&(a=Object.assign(a,t)),ne("/pagesMsg/club/chat",a,"clubData",{club:e})}function ps(e){$("/pagesMsg/ass/chat",e)}function ms(){Ft(Lt.GAME,!0)||ne("/pages/call/chat-view",{},"callViewData",{isGame:!0})}function Ot(e,t=0,i=0){if(f(e))return;if(t&&i){Dn(e);return}$("/pagesClub/info",{id:e,isMember:t})}function fs(){$($e.club)}function Kt(e,t=!0){return e.startsWith("http")?e:e.startsWith("file://")?t?e:e.replace("file://",""):e.startsWith("/storage/")||e.startsWith("/var/mobile/")?t?`file://${e}`:e:e.startsWith("_doc/uniapp")?t?e:plus.io.convertLocalFileSystemURL(e):e.indexOf("apps/__UNI")!=-1?e:!1}function gs(e){e&&e.height>0&&(getApp().globalData.keyboardH=e.height)}var Sl=[{key:"tr",title:"T\xFCrk"},{key:"pt",title:"Portugu\xEAs"}];function qt(e=!0){let t=te("language_app_key");if(!e||!hl(t))return t;let i=En(!1),a=Ao[i];return f(a)?"en":i}function En(e){let t=uni.getAppBaseInfo().language;return f(t)?e?"en-US":"en":e?t:t.split("-")[0]}function vn(e){getApp().globalData.translateAuto!=e&&(e&&!te("translate_auto_open_first")&&(uni.showModal({title:p("tips"),content:p("msg.translateAutoOpenMsgTips"),showCancel:!1,confirmText:p("gotIt")}),ue("translate_auto_open_first",1)),ue("translate_auto_close",e?0:1),getApp().globalData.translateAuto=e,uni.$emit("event_translate_auto_change",e),M.request("/user/sync-permission",{auto_translate:e?1:0}))}function hs(e){return getApp().globalData.translateAuto?getApp().globalData.translateKey!=e:!1}function _s(){uni.showModal({title:p("tips"),content:p("msg.translateAutoCloseTips"),showCancel:!0,cancelText:p("cancel"),confirmText:p("turnOff"),success(e){e.confirm&&vn(!1)}})}function kl(){return te("call_automatic_source_language")||qt()}function Dl(){return!!te("call_automatic_open")}function p(...e){return getApp().globalData.s.state.pubI18n(...e)}function Ln(e){function t(o,l,c){for(;0<c--;)o.push(l)}function i(o,l){return o<<l|o>>>32-l}function a(o,l,c){return o^l^c}function n(o,l){var c=(l&65535)+(o&65535),u=(l>>>16)+(o>>>16)+(c>>>16);return(u&65535)<<16|c&65535}var s="0123456789abcdef";return function(o){for(var l=[],c=o.length*4,u,d=0;d<c;d++)u=o[d>>2]>>(3-d%4)*8,l.push(s.charAt(u>>4&15)+s.charAt(u&15));return l.join("")}(function(o,l){var c,u,d,g,h,_=o.length,v=1732584193,R=4023233417,L=2562383102,U=271733878,J=3285377520,j=[];t(j,1518500249,20),t(j,1859775393,20),t(j,2400959708,20),t(j,3395469782,20),o[l>>5]|=128<<24-l%32,o[(l+65>>9<<4)+15]=l;for(var C=0;C<_;C+=16){c=v,u=R,d=L,g=U,h=J;for(var G=0,xe=[];G<80;G++){xe[G]=G<16?o[G+C]:i(xe[G-3]^xe[G-8]^xe[G-14]^xe[G-16],1);var Ye=function(pe,we,Me,xt,wt){var Ke=(wt&65535)+(pe&65535)+(we&65535)+(Me&65535)+(xt&65535),$t=(wt>>>16)+(pe>>>16)+(we>>>16)+(Me>>>16)+(xt>>>16)+(Ke>>>16);return($t&65535)<<16|Ke&65535}(G<20?function(pe,we,Me){return pe&we^~pe&Me}(u,d,g):G<40?a(u,d,g):G<60?function(pe,we,Me){return pe&we^pe&Me^we&Me}(u,d,g):a(u,d,g),h,j[G],xe[G],i(c,5));h=g,g=d,d=i(u,30),u=c,c=Ye}v=n(v,c),R=n(R,u),L=n(L,d),U=n(U,g),J=n(J,h)}return[v,R,L,U,J]}(function(o){for(var l=[],c=255,u=o.length*8,d=0;d<u;d+=8)l[d>>5]|=(o.charCodeAt(d/8)&c)<<24-d%32;return l}(e).slice(),e.length*8))}function ht(e,t,i=!0){return xs(getApp().globalData.ossPicPath,e,t,i)}function Oe(e,t,i=!0){return xs(getApp().globalData.ossPath,e,t,i)}function Ze(e,t){uni.saveFile({tempFilePath:t}).then(i=>{if(!i||!i.savedFilePath)return;let a=Ln(e);ue(`img_${a}`,i.savedFilePath),ws("tempFile success")})}function ys(e){return f(e)?"":e.substr(0,5)==="_doc/"||e.substr(0,4)==="http"?e:getApp().globalData.ossPath+e}function bs(e){if(f(e)||e.startsWith("http"))return;let i=`img_${Ln(e)}`,a=te(i);It(i),a&&uni.removeSavedFile({filePath:a})}function xs(e,t,i,a=!0){if(f(t))return"";if(t.startsWith("http")||t.startsWith("file://"))return t;if(t.startsWith("/var/mobile/"))return"file://"+t;if(t.startsWith("/storage/"))return t;let s=`img_${Ln(t)}`,o=te(s);if(o){let c={filePath:o,fail(u){ws(`\u7F13\u5B58\u68C0\u6D4B\u5931\u8D25${t}`,u),It(s),typeof i=="function"&&i(e+t)},success(u){}};return typeof i=="function"&&(c.success=function(){i(o)}),uni.getFileInfo(c),o}let l=e+t;return getApp().globalData.picCacheObj[s]||(getApp().globalData.picCacheObj[s]=1,typeof i=="function"&&!a&&i(l),Bl(l).then(c=>{ue(s,c),typeof i=="function"&&a&&i(c),delete getApp().globalData.picCacheObj[s]}).catch(()=>{})),l}function ws(e,t){F("error","at common/cache.js:118",`cache ${e}`,t)}function Ts(e,t,i){return new Promise(a=>{let n=e;n.startsWith("_doc")&&(n=plus.io.convertLocalFileSystemURL(n)),getApp().globalData.pluginImageBrowser.getVideoCover({url:n},s=>{El(`getVideoCover ${s}`),a(s)})})}function As(e,t){let i=e.msg_type==m.M_VIDEO||e.msg_type==m.M_PAID_VIDEO,a;if(i){let n=t.small_url||t.cover_url||t.cover,s=t.cover_url||t.cover,o=t.url;o.startsWith("_doc")&&(o=plus.io.convertLocalFileSystemURL(o)),a=Re(!0,n,o,s)}else{let n=t.small_url||t.image_url;a=Re(!1,n,t.image_url)}return a}function Re(e,t,i,a="1",n=0,s=0){let o,l=Kt(t,!1);if(l)o=l;else{let d;if(m.isAndroid,d=!1,d){let g=ht(t);o=g.startsWith("http")?g:plus.io.convertLocalFileSystemURL(g)}else o=m.ossPicPath+t}let c=Kt(i,!1)||`${getApp().globalData.ossPath}${i}`,u=e?Kt(a,!1)||`${getApp().globalData.ossPicPath}${a}`:a;return{isVideo:e,thumbnailUrl:o||"",url:c,coverUrl:u,width:n,height:s}}function Ve(e,t,i=1){getApp().globalData.filterAppHide=!0,xl(function(){let a=JSON.parse(JSON.stringify(e));getApp().globalData.pluginImageBrowser.openBrowser({info:a,index:t,showIndicator:i},n=>{F("info","at comExtend/plugin-image-browser.js:80","Preview.preview "+JSON.stringify(n))})},500,"previewImage")}function El(e,t){F("error","at comExtend/plugin-image-browser.js:90",`preview media ${e}`,t)}var Je={CANDY_CHAT_I:"__UNI__CB903B1",CANDY_CHAT_A:"__UNI__564E31A",CHAT_NOW_A:"__UNI__DB0D401",CHAT_NOW_DEV:"__UNI__DEED62E",HOT_FACE_A:"__UNI__0D44E11",HOT_FACE_DEV:"__UNI__58DBD61",LOVE_SKY:"__UNI__0EE5E5E",DEV:"__UNI__3932C1F",DEV2:"__UNI__9C66D76"};function Di(){let e=plus.runtime.appid,t,i,a,n,s,o,l,c;switch(e){case Je.CANDY_CHAT_I:case Je.CANDY_CHAT_A:t="Candy Chat",i="https://apps.apple.com/us/app/id1596210708",a="s/logo/CandyChat.png",n="Fanfanzhijiao Network Technology Co., Ltd.",s="fanfanzhijiao2021@163.com",o="https://sites.google.com/view/candy-chat-terms-policy/terms-of-use?authuser=0",l="https://sites.google.com/view/candy-chat-terms-policy/privacy-policy?authuser=0",c="s/pub/sys_notice_bg_candy_chat.png";break;case Je.CHAT_NOW_A:case Je.CHAT_NOW_DEV:t="Chat Now",i="https://apps.apple.com/us/app/id1596210708",a="s/logo/ChatNow.png",n="Fanfanzhijiao Network Technology Co., Ltd.",s="atree0120@gmail.com",o="https://sites.google.com/view/chats-now/privacy-policy",l="https://sites.google.com/view/chats-now/user-agreement?authuser=0",c="s/pub/sys_notice_bg_chat_now.png";break;case Je.HOT_FACE_A:case Je.HOT_FACE_DEV:t="HotFace",i="https://apps.apple.com/us/app/id1596210708",a="s/logo/HotFace.png",n="Fanfanzhijiao Network Technology Co., Ltd.",s="atree0120@gmail.com",o="https://sites.google.com/view/meu-agreement/user-agreement?authuser=0",l="https://sites.google.com/view/meu-agreement/privacy-policy?authuser=0",c="s/pub/sys_notice_bg_hot_face.png";break;case Je.LOVE_SKY:t="LoveSky",i="",a="s/logo/lovesky.png",n="Fanfanzhijiao Network Technology Co., Ltd.",s="fanfanzhijiao2021@163.com",o="https://sites.google.com/view/lovesky-terms-of-use/terms-of-use?authuser=0",l="https://sites.google.com/view/lovesky-privacy-policy/privacy-policy?authuser=0";break;case Je.DEV:case Je.DEV2:t="Candy Chat Dev",i="https://apps.apple.com/us/app/id1596210708",a="s/logo/qialiao@3x.png",n="Liuyi Cool Technology Co., Ltd.",s="support_matchstar@163.com",o="https://sites.google.com/view/lovesky-terms-of-use/terms-of-use?authuser=0",l="https://sites.google.com/view/lovesky-privacy-policy/privacy-policy?authuser=0",c="s/pub/sys_notice_bg_candy_chat.png";break}return{name:t,iosStore:i,logo:a,cName:n,cMail:s,agreement:o,privacy:l,sysNoticeBg:c}}function vl(){return getApp().globalData.pluginTool.vpnConnected()}function Ll(e){return getApp().globalData.pluginTool.permissionStatusSync({permission:e})}function Il(){return getApp().globalData.pluginTool.permissionCheckAll()}function Ml(){return getApp().globalData.pluginTool.locationAuthorizationStatusSync()}var re={ALBUM:1,CAMERA:2,VIDEO:3,MICROPHONE:4,NOTIFY:5,LOCATION:6,DRAW_OVERLAYS:7,ALBUM_AND_CAMERA:101};function Nl(e,t,i){if(getApp().globalData.uid!=0)return new Promise(a=>{let n;if(i==null?n=Cs():n=i,n==null){a();return}let s={fromType:e,showClose:t,resList:n[0]};ne("/pagesDialog/check-permission",null,"permissionData",s,{onCloseListener:()=>{a()}})})}function Cs(){let e=[],t=!0;if(m.isAndroid){let s=Il();e.push({key:"notice",value:s.notice,permission:re.NOTIFY}),e.push({key:"camera",value:s.camera,permission:re.CAMERA}),e.push({key:"voice",value:s.voice,permission:re.MICROPHONE}),e.push({key:"album",value:s.storage,permission:re.ALBUM})}else e.push({key:"notice",value:Ds(),permission:re.NOTIFY}),e.push({key:"camera",value:Ol(),permission:re.CAMERA}),e.push({key:"voice",value:ks(),permission:re.MICROPHONE}),e.push({key:"album",value:Fl(),permission:re.ALBUM});for(let s=0,o=e.length;s<o;s++)if(!e[s].value){t=!1;break}let i={};for(let s=0,o=e.length;s<o;s++){let l=e[s];i[l.key]=l.value?1:0}i.auto_translate=getApp().globalData.translateAuto?1:0;let a=Dl()?1:0,n=kl();return i.audio_translate=a,i.audio_language=n,M.request("/user/sync-permission",i),[e,t]}function Ss(e){if(e==re.NOTIFY)return m.isAndroid?nn(e):Ds();if(e==re.MICROPHONE)return m.isAndroid?nn(e):ks();if(e==re.ALBUM_AND_CAMERA){let i=Cs()[0];return i?i[1].value&&i[3].value:!0}else if(e==re.LOCATION)return m.isAndroid?nn(e):Ml();return!0}function nn(e){let t=Rl(e);return Ll(t)}function Rl(e){switch(e){case re.LOCATION:return["android.permission.ACCESS_FINE_LOCATION","android.permission.ACCESS_COARSE_LOCATION"];case re.ALBUM:case re.VIDEO:return["android.permission.READ_MEDIA_IMAGES","android.permission.READ_MEDIA_VIDEO"];case re.MICROPHONE:return["android.permission.RECORD_AUDIO"];case re.CAMERA:return["android.permission.CAMERA"];case re.NOTIFY:return["android.permission.POST_NOTIFICATIONS"]}}function ks(){let e=plus.ios.importClass("AVCaptureDevice"),t=e.authorizationStatusForMediaType("soun");return plus.ios.deleteObject(e),t==3}function Ol(){let e=plus.ios.importClass("AVCaptureDevice"),t=e.authorizationStatusForMediaType("vide");return plus.ios.deleteObject(e),t==3}function Fl(){var e=!1,t=plus.ios.import("PHPhotoLibrary"),i=t.authorizationStatus();return(i==3||i==4)&&(e=!0),plus.ios.deleteObject(t),e}function Ds(){var e=!1,t=plus.ios.import("UIApplication"),i=t.sharedApplication(),a=0;if(i.currentUserNotificationSettings){var n=i.currentUserNotificationSettings();a=n.plusGetAttribute("types"),e=a!=0,plus.ios.deleteObject(n)}else a=i.enabledRemoteNotificationTypes(),e=a!=0;return plus.ios.deleteObject(i),plus.ios.deleteObject(t),e}function ni(e,t){getApp().globalData.s.commit("setPubValue",{name:e,value:t})}function O(e,t){getApp().globalData.s.commit(e,t)}function hi(e,t){e==Dt.MSG&&getApp().setNumberBadge(),t>0?uni.setTabBarBadge({index:e,text:t+""}):uni.removeTabBarBadge({index:e})}function Pl(e,t=!0){t?uni.showTabBarRedDot({index:e}):uni.hideTabBarRedDot({index:e})}function Bl(e){return new Promise((t,i)=>{uni.downloadFile({url:e}).then(a=>!a||a.statusCode!=200||!a.tempFilePath?(i(),new Promise(()=>{})):uni.saveFile({tempFilePath:a.tempFilePath})).then(a=>{!a||!a.savedFilePath?i():t(a.savedFilePath)}).catch(a=>{F("error","at common/common.js:65","downloadFile error "+JSON.stringify(a))})})}function In(e,t="md5"){return new Promise(i=>{uni.getFileInfo({filePath:e,digestAlgorithm:t,success(a){i(a)},fail(){i(null)}})})}function Xt(e,t){t?plus.runtime.openWeb(e):plus.runtime.openURL(e)}function Ei(e){e!=""&&uni.setClipboardData({data:e+"",success(){ai(p("copied"))}})}function Qe(e,t,i,a=p("confirm")){Fe(e,t,i,"",a,!1)}function Ul(e){return["Si, desbloquear","Reenviar Completar"].indexOf(e)!=-1}function Fe(e,t,i,a,n=p("confirm"),s=!0,o=p("cancel"),l=!1){let c=!1;if(!m.isAndroid&&(c=Ul(n),c)){let u=n;n=o,o=u}uni.showModal({title:e,content:t,showCancel:s,cancelText:o,confirmText:n,editable:l,success(u){u.confirm?c?typeof a=="function"&&a():typeof i=="function"&&i(u):u.cancel&&(c?typeof i=="function"&&i(u):typeof a=="function"&&a())}})}function ai(e,t="none",i="center"){uni.showToast({title:e,duration:2e3,icon:t,position:i})}function Es(e){return new Promise(t=>{plus.io.getVideoInfo({filePath:e,success(i){t(i)},fail(i){t(`getVideoInfo ${JSON.stringify(i)}`)}})})}function vs(e,t){return new Promise((i,a)=>{uni.compressVideo({src:e,quality:t,success(n){F("log","at common/common.js:226","videoCompress res "+JSON.stringify(n)),i(n)},fail(n){F("log","at common/common.js:230","videoCompress error "+JSON.stringify(n)),a(`videoCompress ${JSON.stringify(n)}`)}})})}var Z={LIGHT:1,DARK:2};function si(e){let t=Number(e);if(isNaN(t)){F("error","at common/user.js:35","\u5237\u65B0\u4F59\u989D\u5931\u8D25");return}ni("pubAccount.money",t),F("error","at common/user.js:39",`\u5237\u65B0\u4F59\u989D ${t}`)}function Ls(e,t=1,i=!0){if(e=Number(e),isNaN(e))return!0;let a=getApp().pubAccount.money-e*t;return a>=0?!0:(i&&vi(Math.abs(a),0),!1)}function Is(e,t=1,i=!0,a=!1){if(e=Number(e),isNaN(e))return 1;let n=getApp().pubAccount.money-e*t;return n>=0?1:getApp().pubAccount.free_coins>0?(a&&M.request("/pay/coin/free",{},!0),2):(i&&vi(Math.abs(n),0),0)}function vi(e,t=0,i,a){let s=te("coin_callback"),o={};o.order_source=typeof i=="undefined"?0:i,o.click_type=typeof a=="undefined"?0:a,s?(o.fromType=t,o.diffCoin=e,ne("/pages/coin/coin-dialog",o,"coinDialogData",s)):(o.from_type=t,o.diff_coin=e,M.request("/pay/coin/callback",o,!0))}function Hl(e){let t=getApp().pubUser.seeking_sex;return e?t:t==0?getApp().pubUser.sex==1?2:1:t}function ve(){return getApp().globalData.s.state.pubUser.is_auth}function Wl(){return!ve()&&getApp().pubUser.recharge_money>0}function Gl(){let e=getApp().globalData.admin;return e&&e.permission&&e.permission.kefu}function $l(){let e=getApp().globalData.admin;return e&&e.permission&&e.permission.check_all}function Vl(){let e=getApp().globalData.admin;return!e||!e.permission?0:e.permission.user_detail}function Mn(){let e=getApp().globalData.admin;return!f(e)&&e.type==1}function Ft(e,t){let i=getApp().globalData.bannedInfos[e];if(f(i))return!1;if(t){if(O("appDialog/addDialogBan",i),ot()=="/pagesDialog/banned")return;O("appDialog/executeBanWarningDialog")}return!0}function Ms(e){if(ve()){if(e.send_limit_level&&e.send_limit_level>0){let t={level:e.send_limit_level,sex:e.sex,from_type:4};return $("/pagesDialog/level-limit-def",t),!0}return e.send_alert_tips?(Qe(p("tips"),e.send_alert_tips,"",p("gotIt")),!0):!1}}var mn={DEFAULT:1e4,FAIL:0,SUCCESS:1,DISCONNECT:6,RECONNECT:7},jl={INIT:"init",APP_SHOW:"app_show",TAB_SHOW:"tab_show",MSG_INDEX_REFRESH:"msg_index_refresh",STOP_TAKING_RECOVERY:"stop_taking_recovery",CATCH_MSG_SYNC:"sync_catch",API_CALL_BACK:"api_call_back",RECONNECT_LISTENER:"reconnect_listener",RECONNECT_LOCAL:"reconnect_local"};function zl(e){return new Promise((t,i)=>{getApp().globalData.pluginDB.selectSql({sql:e},a=>{a.status==1?t(a.rows):(F("error","at comExtend/plugin-DB.js:44","db \u63D2\u4EF6 select \u6267\u884C \u9519\u8BEF "+a.message),i(a.message))})})}function Yl(e){return new Promise((t,i)=>{getApp().globalData.pluginDB.executeSql({sql:e},a=>{a.status==1?t(a.rows):(F("error","at comExtend/plugin-DB.js:57","db \u63D2\u4EF6 execute \u6267\u884C \u9519\u8BEF "+a.message),i(a.message))})})}function ye(e,t){return new Promise((i,a)=>{Yl(e).then(n=>{i(n)},n=>{a(),t||Fs("execute",n,e)})})}function je(e,t){return new Promise((i,a)=>{zl(e).then(n=>{i(n)},n=>{a(),t||Fs("select",n,e)})})}function X(e){return f(e)?0:parseInt(e)}function et(e){return f(e)?"":e}function Nn(e,t){return f(e)?Math.round(t/1e3):(e+"").length==16?Math.round(e/1e3):e}function Kl(e,t){let i=e.length,a,n,s,o;if(i>t)n=!0,a=t,s=e[i-2].ctime,o=e[i-2].mtime;else{n=!1,a=i;let l=e[i-1];f(l)?(s=0,o=0):(s=l.ctime,o=l.mtime)}return{rows:e,hasMore:n,forLen:a,ctime:s,mtime:o}}function Ns(e,t){let i=Kl(e,t);for(let a=0,n=i.forLen;a<n;a++){let s=i.rows[a];s&&(s.msg_content=Mt(s.msg_content))}return i}function Jl(){return getApp().globalData.pluginMqtt.checkStatusSync()?mn.SUCCESS:mn.FAIL}function ql(){return Jl()}function Rn(){return ql()==mn.SUCCESS}var Et={getUserDesc(){let e=getApp().pubUser;return Object.keys(e).length<=3?"\u672A\u767B\u5F55":[e.uid,e.is_auth?"\u4E3B\u64AD":"\u7528\u6237",`\u7B49\u7EA7-${e.level}`,`vip${e.is_vip?"\u662F":"\u5426"}`,`\u5145\u503C${e.recharge_money}`,`\u4F59\u989D${getApp().pubAccount.money}`,`\u540E\u53F0\u8EAB\u4EFD${Xl()}`].join("|")},getActionDesc(){let e=Rt(),t=e.length;return[`\u9875\u9762: ${(t>5?e.slice(t-5):e).join(",")}`,`${getApp().globalData.catchApiUrlList.join(",")}`].join("|")},getEnvironsDesc(){let e=getApp().globalData.ua.split("|"),t=[`${e[1]}`,`app\u7248\u672C${e[2]}`,`zip\u7248\u672C${e[3]}-${e[13]}`,`${e[6]}`,`\u54C1\u724C${e[11]}`,`\u578B\u53F7${e[12]}`,`\u7F51\u7EDC${getApp().globalData.network.type}`,`MQTT${Rn()?"\u662F":"\u5426"}`],i=vl();return typeof i!="undefined"&&t.push(`VPN${i?"\u662F":"\u5426"}`),t.join("|")}};function Xl(){if(Mn())return"\u8D85\u7BA1";let e=[];return Gl()&&e.push("\u5BA2\u670D"),$l()&&e.push("\u5BA1\u6838"),e.length<=0?"\u65E0":e.join("\u548C")}var an=0;function Zl(e){return ec(Ql(tc(e)))}function Ql(e){return nc(ac(ic(e),e.length*8))}function ec(e){try{}catch(s){an=0}for(var t=an?"0123456789ABCDEF":"0123456789abcdef",i="",a,n=0;n<e.length;n++)a=e.charCodeAt(n),i+=t.charAt(a>>>4&15)+t.charAt(a&15);return i}function tc(e){for(var t="",i=-1,a,n;++i<e.length;)a=e.charCodeAt(i),n=i+1<e.length?e.charCodeAt(i+1):0,55296<=a&&a<=56319&&56320<=n&&n<=57343&&(a=65536+((a&1023)<<10)+(n&1023),i++),a<=127?t+=String.fromCharCode(a):a<=2047?t+=String.fromCharCode(192|a>>>6&31,128|a&63):a<=65535?t+=String.fromCharCode(224|a>>>12&15,128|a>>>6&63,128|a&63):a<=2097151&&(t+=String.fromCharCode(240|a>>>18&7,128|a>>>12&63,128|a>>>6&63,128|a&63));return t}function ic(e){for(var t=Array(e.length>>2),i=0;i<t.length;i++)t[i]=0;for(var i=0;i<e.length*8;i+=8)t[i>>5]|=(e.charCodeAt(i/8)&255)<<i%32;return t}function nc(e){for(var t="",i=0;i<e.length*32;i+=8)t+=String.fromCharCode(e[i>>5]>>>i%32&255);return t}function ac(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var i=1732584193,a=-271733879,n=-1732584194,s=271733878,o=0;o<e.length;o+=16){var l=i,c=a,u=n,d=s;i=me(i,a,n,s,e[o+0],7,-680876936),s=me(s,i,a,n,e[o+1],12,-389564586),n=me(n,s,i,a,e[o+2],17,606105819),a=me(a,n,s,i,e[o+3],22,-1044525330),i=me(i,a,n,s,e[o+4],7,-176418897),s=me(s,i,a,n,e[o+5],12,1200080426),n=me(n,s,i,a,e[o+6],17,-1473231341),a=me(a,n,s,i,e[o+7],22,-45705983),i=me(i,a,n,s,e[o+8],7,1770035416),s=me(s,i,a,n,e[o+9],12,-1958414417),n=me(n,s,i,a,e[o+10],17,-42063),a=me(a,n,s,i,e[o+11],22,-1990404162),i=me(i,a,n,s,e[o+12],7,1804603682),s=me(s,i,a,n,e[o+13],12,-40341101),n=me(n,s,i,a,e[o+14],17,-1502002290),a=me(a,n,s,i,e[o+15],22,1236535329),i=fe(i,a,n,s,e[o+1],5,-165796510),s=fe(s,i,a,n,e[o+6],9,-1069501632),n=fe(n,s,i,a,e[o+11],14,643717713),a=fe(a,n,s,i,e[o+0],20,-373897302),i=fe(i,a,n,s,e[o+5],5,-701558691),s=fe(s,i,a,n,e[o+10],9,38016083),n=fe(n,s,i,a,e[o+15],14,-660478335),a=fe(a,n,s,i,e[o+4],20,-405537848),i=fe(i,a,n,s,e[o+9],5,568446438),s=fe(s,i,a,n,e[o+14],9,-1019803690),n=fe(n,s,i,a,e[o+3],14,-187363961),a=fe(a,n,s,i,e[o+8],20,1163531501),i=fe(i,a,n,s,e[o+13],5,-1444681467),s=fe(s,i,a,n,e[o+2],9,-51403784),n=fe(n,s,i,a,e[o+7],14,1735328473),a=fe(a,n,s,i,e[o+12],20,-1926607734),i=ge(i,a,n,s,e[o+5],4,-378558),s=ge(s,i,a,n,e[o+8],11,-2022574463),n=ge(n,s,i,a,e[o+11],16,1839030562),a=ge(a,n,s,i,e[o+14],23,-35309556),i=ge(i,a,n,s,e[o+1],4,-1530992060),s=ge(s,i,a,n,e[o+4],11,1272893353),n=ge(n,s,i,a,e[o+7],16,-155497632),a=ge(a,n,s,i,e[o+10],23,-1094730640),i=ge(i,a,n,s,e[o+13],4,681279174),s=ge(s,i,a,n,e[o+0],11,-358537222),n=ge(n,s,i,a,e[o+3],16,-722521979),a=ge(a,n,s,i,e[o+6],23,76029189),i=ge(i,a,n,s,e[o+9],4,-640364487),s=ge(s,i,a,n,e[o+12],11,-421815835),n=ge(n,s,i,a,e[o+15],16,530742520),a=ge(a,n,s,i,e[o+2],23,-995338651),i=he(i,a,n,s,e[o+0],6,-198630844),s=he(s,i,a,n,e[o+7],10,1126891415),n=he(n,s,i,a,e[o+14],15,-1416354905),a=he(a,n,s,i,e[o+5],21,-57434055),i=he(i,a,n,s,e[o+12],6,1700485571),s=he(s,i,a,n,e[o+3],10,-1894986606),n=he(n,s,i,a,e[o+10],15,-1051523),a=he(a,n,s,i,e[o+1],21,-2054922799),i=he(i,a,n,s,e[o+8],6,1873313359),s=he(s,i,a,n,e[o+15],10,-30611744),n=he(n,s,i,a,e[o+6],15,-1560198380),a=he(a,n,s,i,e[o+13],21,1309151649),i=he(i,a,n,s,e[o+4],6,-145523070),s=he(s,i,a,n,e[o+11],10,-1120210379),n=he(n,s,i,a,e[o+2],15,718787259),a=he(a,n,s,i,e[o+9],21,-343485551),i=at(i,l),a=at(a,c),n=at(n,u),s=at(s,d)}return Array(i,a,n,s)}function Li(e,t,i,a,n,s){return at(sc(at(at(t,e),at(a,s)),n),i)}function me(e,t,i,a,n,s,o){return Li(t&i|~t&a,e,t,n,s,o)}function fe(e,t,i,a,n,s,o){return Li(t&a|i&~a,e,t,n,s,o)}function ge(e,t,i,a,n,s,o){return Li(t^i^a,e,t,n,s,o)}function he(e,t,i,a,n,s,o){return Li(i^(t|~a),e,t,n,s,o)}function at(e,t){var i=(e&65535)+(t&65535),a=(e>>16)+(t>>16)+(i>>16);return a<<16|i&65535}function sc(e,t){return e<<t|e>>>32-t}var fn={md5:function(e){return Zl(e)}};function Rs(){return"tb_error_log"}function rc(e,t){return new Promise(i=>{let a=`SELECT * FROM ${Rs()} WHERE status = ${X(e)} AND identify = '${t}' ORDER BY id DESC LIMIT 1`;je(a,!0).then(n=>{i(n[0])})})}function oc(e,t,i,a,n,s,o,l,c,u){return rc(e,t).then(d=>{if(d)return Promise.resolve(!0);let g=`INSERT INTO ${Rs()} (status, identify, grade, flag, user_desc, action_desc, environs_desc, error_desc, create_time, exp_time) values (${X(e)}, '${t}', ${i}, '${a}', '${ae(n)}', '${ae(s)}', '${ae(o)}', '${ae(l)}', ${X(c)}, ${X(u)})`;return ye(g,!0)})}var On={CRASH:1,USER:11,API_FAIL:12,API_ERROR:13,MSG_SYNC:14,DB_PLUGIN:15,FRAME:21,LISTENER:31,BUG_DB_GET_NONE:201,BUG_MSG_SYNC_PLUGIN_LOSS:202,BUG_MSG_SYNC_JS_LOSS:203},Fn={CRASH:"crash",MEMORY:"memory",LISTENER:"listener",FRAME_API:"frame_api",API:"api",DB:"db",PAYMENT:"payment",AUTH_FACE:"auth_face",CHAT_CALL:"chat_call",HOT_UPDATE:"hot_update",MESSAGE_PARSE:"message_parse",BUG:"bug"};function Os(){return getApp().globalData.uid==0?!1:m.zT==3?!0:m.appId==Je.CHAT_NOW_A||m.ENV=="dev"}var lc=1e3;function cc(e,t){try{if(!Os())return;let i=gn(t),a=`api-${e} ${i}`;F("error","at comCatch/catch-save.js:15","catch api fail "+a);let n=Ps(a);pc().then(s=>{let o;typeof s=="boolean"?o="\u6D4B\u8BD5\u8C37\u6B4C\u6210\u529F":o=`\u6D4B\u8BD5\u8C37\u6B4C\u5931\u8D25-${gn(s)}`,n.errorDesc=`${n.errorDesc} - ${o}`,Bs(On.API_FAIL,Fn.API,n)})}catch(i){}}function uc(e,t,i){try{if(!Os())return;let a=gn(i);a=a.substring(0,120);let n=`statusCode-${i.statusCode}-${a}-api-${e}-${JSON.stringify(t)}`;F("error","at comCatch/catch-save.js:37","catch api error "+n);let s=Ps(n);Bs(On.API_ERROR,Fn.API,s)}catch(a){}}function Fs(e,t,i){try{if(i.indexOf("tb_error_log")!=-1)return;let a=`${e} - ${t}`;i&&(a+=` - ${i}`),F("error","at comCatch/catch-save.js:74","catch db "+a),dc(On.DB_PLUGIN,Fn.DB,a)}catch(a){}}function gn(e){if(!e)return"";let t=JSON.stringify(e);return(typeof t!="string"||t=="{}")&&(t=e.toString()),t}function Ps(e){return{identify:fn.md5(e),errorDesc:e,userDesc:Et.getUserDesc(),actionDesc:Et.getActionDesc(),environsDesc:Et.getEnvironsDesc(),expTime:0}}function Bs(e,t,i){oc(0,i.identify,e,t,i.userDesc,i.actionDesc,i.environsDesc,i.errorDesc,new Date().getTime(),i.expTime)}function dc(e,t,i){let a=[],n=new Date().getTime();if(n-getApp().globalData.catchApiLastReqTime<=lc)return;getApp().globalData.catchApiLastReqTime=n,a.push({grade:e,flag:t,user_desc:Et.getUserDesc(),action_desc:Et.getActionDesc(),environs_desc:Et.getEnvironsDesc(),error_desc:i,create_time:n,createTimeStr:os(n)});let s={log_list:a};M.request("/monitor/record-exception-log",s)}function pc(){return new Promise(e=>{uni.request({url:"https://google.com",method:"GET",timeout:5e3,success(t){e(!0)},fail(t){e(t)}})})}var mc=["/monitor/index","/chat/call/log","/chat/msg/mq-log","/user/sync-permission","/monitor/record-exception-log"],Ea=["/monitor/record-exception-log"],va=5,di={invoke(e,t){if(mc.indexOf(e)!=-1)return;let i="";i+=`\u63A5\u53E3=${e};`,i+=`\u53C2\u6570=${JSON.stringify(t)}`,i+=`\u65F6\u95F4=${os(new Date().getTime())}`,getApp().globalData.catchApiUrlList.push(`\u3010${i}\u3011`);let a=getApp().globalData.catchApiUrlList.length;a>va&&(getApp().globalData.catchApiUrlList=getApp().globalData.catchApiUrlList.slice(a-va))},error(e,t,i){Ea.indexOf(e)==-1&&getApp().globalData.network.isConnected&&(!i||typeof i.statusCode=="undefined"||uc(e,t,i))},fail(e,t){Ea.indexOf(e)==-1&&getApp().globalData.network.isConnected&&cc(e,t)}},fc={INIT:1,OPEN:2,CALLBACK:3,SOCKET:4,LOGIN:5};function Us(e,t=!0,i=!0,a=!0){if(!e)return 0;let n=0;return!e.hide_level&&e.level>0&&(n+=56),!e.hide_vip&&e.is_vip&&(n+=64),f(e.birthday)||(n+=50),t&&e.auth_status==1&&(n+=32),i&&!f(e.country_code)&&!e.hide_profile&&(a?n+=88:n+=44),n}function Ii(e,t=!1){if(!t&&e.hide_profile){let i=e.uid%9999;return i<1e3&&(i="0"+i),p("mysteryer")+i}else return e.nickname||""}function Hs(e,t="small_avatar",i=!1,a=1){if(!i&&e.hide_profile)return gc(a);{if(e[t])return e[t];let n=t=="small_avatar"?"avatar":"small_avatar";return e[n]}}function gc(e){return e==2?"s/privacy/masker_list_card.png":e==3?"s/privacy/masker_card.png":"s/privacy/masker_avatar.png"}function La(){if(getApp().pubUnreadMy.moment>0){hi(Dt.MY,getApp().pubUnreadMy.moment);return}hi(Dt.MY,0),Pl(Dt.MY,getApp().pubUnreadMy.fans>0)}var T={PERMISSION:"permission",PERFECT_DATA:"perfect_data",REST:"rest",HOME_FILTER:"home_filter",GRID_GUIDE:"grid_guide",NOTIFY:"notify",HELLO:"hello",SHARE:"share",LANGUAGE_UP:"language_up",RAMADAN:"ramadan",MSG_DISTURB:"msg_disturb",CALL_DISTURB:"call_disturb",BAN:"ban",WARNING:"warning",HOME_SEX_FILTER:"home_sex_filter",CLUB_RESULT:"club_result",CLUB_DISBAND:"club_disband"},hc={[T.HOME_FILTER]:"seeking_sex_open_time",[T.GRID_GUIDE]:"dialog_show_time_grid_guide",[T.NOTIFY]:"dialog_show_time_notify",[T.HELLO]:"dialog_show_time_hello"},hn=-99,Zt=-100,_c={[T.HOME_FILTER]:1,[T.HOME_SEX_FILTER]:1,[T.GRID_GUIDE]:1,[T.NOTIFY]:2,[T.SHARE]:3,[T.HELLO]:4,[T.LANGUAGE_UP]:5,[T.RAMADAN]:6},Pn={[T.PERMISSION]:1,[T.PERFECT_DATA]:2,[T.REST]:3,[T.HOME_FILTER]:4,[T.HOME_SEX_FILTER]:4,[T.GRID_GUIDE]:4,[T.NOTIFY]:5,[T.SHARE]:7,[T.LANGUAGE_UP]:8};function yc(e){return wc(T.HOME_FILTER,21600)?!1:Hl(!1)!=e}function bc(e){return m.isAndroid||e||te(Bn(T.GRID_GUIDE))?!1:!te("user_list_sort_"+getApp().globalData.uid)}function Ws(){return Ss(re.NOTIFY)?!1:!xc()}function xc(){let e=ml(`${T.NOTIFY}_show_status`);if(!f(e))return!0;let t=te(Bn(T.NOTIFY));return!f(t)}function Bn(e){return`${hc[e]}_${getApp().globalData.uid}`}function wc(e,t){let i=te(Bn(e));if(!i)return!1;let a=new Date().getTime();return a<=i?!1:parseInt((a-i)/1e3)<=t}var Ia=!1,Tt=!1,nt=0,Yt={appDialogList:[],appDialogStop:!1,appDialogCurKey:"",appDialogHelloData:!1,appBanDialogList:[],appClubResultList:[],appDialogIsShowBan:!1,appBanDialogCurKey:"",appWarningDialogCurKey:"",appClubResultCurKey:""},Tc={setDialogHelloData(e,t){e.appDialogHelloData=t},setDialogCurKey(e,t){e.appDialogCurKey=t},setDialogList(e,t){e.appDialogList=t,e.appDialogList.sort((i,a)=>i.sort-a.sort)},sortDialogList(e){e.appDialogList.sort((t,i)=>t.sort-i.sort)},resetDialogItem(e,t){let i=e.appDialogList.findIndex(a=>a.key==t.key);i!=-1&&(e.appDialogList[i].hasExec=!1,e.appDialogList[i].delay=t.delay)},resetClubResultDialogItem(e,t){let i=e.appClubResultList.findIndex(a=>a.key==t.key);i!=-1&&(e.appClubResultList[i].hasExec=!1)},delDialogItem(e,t){f(e.appDialogList)||e.appDialogList.splice(t,1)},delDialogItemByKey(e,t){if(f(e.appDialogList))return;let i=e.appDialogList.findIndex(a=>a.key==t);i!=-1&&e.appDialogList.splice(i,1)},clearDialog(e){e.appDialogStop=!0,e.appDialogList=[]},executeDialog(e,t){if(e.appBanDialogCurKey||e.appWarningDialogCurKey||e.appClubResultCurKey||f(e.appDialogList)||e.appDialogStop)return;let i=e.appDialogList[0];f(i)||i.hasExec||i.isCanExecute&&(e.appDialogList[0].hasExec=!0,sn[i.funcName](i).then(()=>{e.appDialogCurKey="";let a=e.appDialogList.indexOf(i);a!=-1&&O("appDialog/delDialogItem",a),O("appDialog/executeDialog","execute then")}))},addDialog(e,t){let i=t.key;e.appDialogStop=!0;let a=e.appDialogList.findIndex(n=>n.key==i);if(a!=-1){if(e.appDialogList[a].isAdd){e.appDialogStop=!1,e.appDialogCurKey||O("appDialog/executeDialog");return}e.appDialogList[a].isAdd=!0,e.appDialogList[a].addTime=new Date().getTime(),e.appDialogList[a].isCanExecute=!0}else{let n=ve()?1:2,s;switch(i){case T.HOME_FILTER:s=vc(n,!0);break;case T.HELLO:s=Ma(t.delay);break;case T.MSG_DISTURB:s=Ic(t.delay);break;case T.CALL_DISTURB:s=Mc(t.delay);break;default:e.appDialogStop=!1,e.appDialogCurKey||O("appDialog/executeDialog");return}s.isAdd=!0,s.addTime=new Date().getTime(),e.appDialogList.push(s)}e.appDialogList.sort((n,s)=>n.sort==s.sort?s.addTime-n.addTime||(n.isCanExecute?Zt:0):n.sort-s.sort),!e.appDialogCurKey&&(e.appDialogCurKey=i,e.appDialogStop=!1,O("appDialog/executeDialog"))},addDialogHomeFilter(e,t){getApp().globalData.appCRE==0||!yc(t)||O("appDialog/addDialog",{key:T.HOME_FILTER})},addDialogHomeSexFilter(e,t){getApp().globalData.appCRE!=0&&(O("appDialog/addDialog",{key:T.HOME_SEX_FILTER,value:t}),O("appDialog/sortDialogList"))},addDialogGridGuide(e,t){let i=e.appDialogList.findIndex(n=>n.key==T.GRID_GUIDE);if(bc(t)){if(i==-1)return;O("appDialog/addDialog",{key:T.GRID_GUIDE})}else i!=-1&&O("appDialog/delDialogItem",i)},addDialogNotify(e,t){t&&!Ws()||$("/pagesDialog/open-sys-notice")},addDialogHello(e,t){if(getApp().globalData.appCRE==0||Ia)return;Ia=!0;let i=e.appDialogList[0];if(i&&i.key==T.SHARE){nt=30;let a=Ma(nt);a.sort=_t(ve()?1:2,T.SHARE+1),a.isAdd=!0,a.addTime=new Date().getTime(),e.appDialogList.push(a),e.appDialogList.sort((n,s)=>n.sort==s.sort?s.addTime-n.addTime||(n.isCanExecute?Zt:0):n.sort-s.sort);return}nt=t,O("appDialog/addDialog",{key:T.HELLO,delay:t})},addDialogMsgDisturb(e,t){O("appDialog/addDialog",{key:T.MSG_DISTURB,delay:t})},addDialogCallDisturb(e,t){O("appDialog/addDialog",{key:T.CALL_DISTURB,delay:t})},delBanDialogItem(e){f(Yt.appBanDialogList)||Yt.appBanDialogList.splice(e,1)},delClubResultDialogItem(e){f(Yt.appClubResultList)||Yt.appClubResultList.splice(e,1)},addDialogBan(e,t){let i=Nc(t);e.appDialogIsShowBan?uni.$emit("event_refresh_banned_data",t):(e.appBanDialogList.push(i),O("appDialog/sortBanWarningDialog"))},addDialogWarning(e,t){if(e.appBanDialogList.map(n=>n.sort).indexOf(Number(t.id))!=-1)return;let a;t.from_type==2?a=Oc(t):a=Rc(t),e.appBanDialogList.push(a),!(e.appBanDialogCurKey||e.appWarningDialogCurKey)&&O("appDialog/executeBanWarningDialog")},addDialogClubNoticeDialog(e,t){let i,a,n=e.appClubResultList.map(s=>s.key);t.type==Co.CHECK_RESULT?(a=T.CLUB_RESULT+"_"+t.club_id,n.indexOf(a)==-1&&(i=Pc(t))):(a=T.CLUB_DISBAND+"_"+t.club_id,n.indexOf(a)==-1&&(i=Fc(t))),i&&e.appClubResultList.push(i),!(e.appBanDialogCurKey||e.appWarningDialogCurKey)&&(e.appClubResultCurKey||O("appDialog/executeClubNoticeDialog"))},executeBanWarningDialog(e){if(f(e.appBanDialogList)){O("appDialog/executeClubNoticeDialog");return}let t=e.appBanDialogList[0];if(f(t)||t.hasExec)return;let i=getApp().globalData.curCallId>Jt.WAITING;if(i){t.isBan&&uni.$emit("event_banned_close_chat");return}e.appBanDialogList[0].hasExec=!i||!t.isBan,e.appDialogIsShowBan=t.isBan,t.isBan?e.appBanDialogCurKey="ban":e.appWarningDialogCurKey="warning",sn[t.funcName](t).then(a=>{if(t.isBan){if(e.appBanDialogCurKey="",e.appDialogIsShowBan=!1,a==1){let n=e.appBanDialogList.indexOf(t);n!=-1&&O("appDialog/delBanDialogItem",n)}}else{e.appWarningDialogCurKey="";let n=e.appBanDialogList.indexOf(t);n!=-1&&O("appDialog/delBanDialogItem",n)}O("appDialog/executeBanWarningDialog","execute then")})},executeClubNoticeDialog(e,t){if(e.appBanDialogCurKey||e.appWarningDialogCurKey)return;if(f(e.appClubResultList)){O("appDialog/executeDialog");return}let i=e.appClubResultList[0];f(i)||i.hasExec||getApp().globalData.curCallId>Jt.WAITING||(e.appClubResultCurKey="club_result",e.appClubResultList[0].hasExec=!0,t&&t.delay&&(i.delay=t.delay),sn[i.funcName](i).then(()=>{e.appClubResultCurKey="";let n=e.appClubResultList.indexOf(i);n!=-1&&O("appDialog/delClubResultDialogItem",n),O("appDialog/executeClubNoticeDialog","execute then")}))},sortBanWarningDialog(e){let t=e.appBanDialogList.filter(a=>a.sort==hn),i=e.appBanDialogList.filter(a=>a.sort!=hn);i=i.sort((a,n)=>a.sort-n.sort),e.appBanDialogList=[...t,...i]}},Ac={init(i,a){return Ae(this,arguments,function*({state:e},t){F("error","at store/modules/app-dialog.js:326","------> init dialog list, data ",t);let n=[];ve()?n=kc(t.data,t.homeViewSizeObj):n=Sc(t.data,t.homeViewSizeObj),O("appDialog/setDialogList",n),O("appDialog/executeDialog")})}},Cc={namespaced:!0,state:Yt,mutations:Tc,actions:Ac};function Sc(e,t){permissionGetAllStatus();let i=[],a=Gs(2,t,e.homeFilterSex);a&&i.push(a);let n=$s(2,t);n&&i.push(n);let s=Vs(2,e.share);s&&i.push(s);let o=js(2);o&&i.push(o);let l=Lc(2,e.notifyTips);return l&&i.push(l),i}function kc(e,t){let i=[],a=Dc(e.authList);a&&i.push(a);let n=Ec();n&&i.push(n);let s=Gs(2,t,e.homeFilterSex);s&&i.push(s);let o=$s(1,t);o&&i.push(o);let l=5,c=Vs(1,e.share,l);c&&i.push(c);let u=js(1);return u&&i.push(u),i}function Dc(e){return typeof e=="undefined"?null:{key:T.PERFECT_DATA,sort:Pn[T.PERFECT_DATA],delay:0,data:e,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecutePerfectData"}}function Ec(){return zs()||!getApp().pubUser.is_rest?null:{key:T.REST,sort:Pn[T.REST],delay:0,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteRest"}}function vc(e,t){return{key:T.HOME_FILTER,sort:_t(e,T.HOME_FILTER),delay:0,data:{},hasExec:!1,isCanExecute:t,addTime:new Date().getTime(),funcName:"_dialogExecuteHomeFilter"}}function Gs(e,t,i){return getApp().globalData.appCRE==0||!t||!t.filter?null:{key:T.HOME_SEX_FILTER,sort:_t(e,T.HOME_SEX_FILTER),delay:0,data:{value:i,size:t.filter},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteHomeSexFilter"}}function $s(e,t){if(getApp().globalData.appCRE==0)return null;let i="grid";if(!t||!t[i])return null;let a={sizeList:[{key:i,size:t[i]}],from_type:1};return{key:T.GRID_GUIDE,sort:_t(e,T.GRID_GUIDE),delay:0,data:a,hasExec:!1,isCanExecute:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteGridGuide"}}function Vs(e,t,i=5){return getApp().globalData.appCRE==0||f(t)||getApp().globalData.launchCount<3||Wl()?null:{key:T.SHARE,sort:_t(e,T.SHARE),delay:i,data:t,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteShare"}}function Ma(e){return{key:T.HELLO,sort:Zt,delay:e,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteHello"}}function js(e){let t=te("user_switch_language_status");if(t)return null;let i=qt(!1);if(t||f(i))return null;let a=Sl.map(o=>o.key),n=qt();if(a.indexOf(n)!=-1)return null;let s=En(!1);return a.indexOf(s)==-1?null:{key:T.LANGUAGE_UP,sort:_t(e,T.LANGUAGE_UP),delay:5,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteLanguageUp"}}function Lc(e,t){return f(t)||te(`stop_notify_${getApp().globalData.uid}_${t.time}`)||!Ss(re.NOTIFY)?null:{key:T.RAMADAN,sort:_t(e,T.RAMADAN),delay:5,data:t,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteRamadan"}}function Ic(e){return{key:T.MSG_DISTURB,sort:Zt,delay:e,data:{from_type:1},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteMsgDisturb"}}function Mc(e){return{key:T.CALL_DISTURB,sort:Zt,delay:e,data:{from_type:2},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteCallDisturb"}}function Nc(e){return{key:T.BAN,sort:hn,data:e,delay:e.delay||0,hasExec:!1,isBan:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteBan"}}function Rc(e){return{key:T.WARNING,sort:Number(e.id),data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteWarning"}}function Oc(e){return{key:T.WARNING,sort:Number(e.id),data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubWarning"}}function Fc(e){return{key:T.CLUB_DISBAND+"_"+e.club_id,data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubDisband"}}function Pc(e){return{key:T.CLUB_RESULT+"_"+e.club_id,data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubResult"}}var sn={_dialogExecutePermission(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),Ge(e.key,e.delay,0)&&(O("appDialog/setDialogCurKey",T.PERMISSION),Nl(1,!1,e.permissionRes).then(()=>{t()}))},e.delay*1e3)})},_dialogExecutePerfectData(e){return new Promise(t=>{O("appDialog/setDialogCurKey",T.PERFECT_DATA),ne("/pagesDialog/complete-content-first",{},"DataCompleteContentFirst",e.data,{onCloseListener(){t()}})})},_dialogExecuteRest(){return new Promise(e=>{O("appDialog/setDialogCurKey",T.REST),Fe(p("tips"),p("anchor.rest.openedTip"),()=>{let t={user_info:{is_rest:0}};M.request("/user/update-info",t,!0,!0).then(i=>{ni("pubUser.is_rest",0),Qe(p("tips"),p("anchor.rest.turnOff"),()=>{e()},p("gotIt"))},()=>{e()})},()=>{e()},p("startWorking"))})},_dialogExecuteHomeFilter(e){return new Promise(t=>{Ge(e.key,e.delay,zt.USER)&&(O("appDialog/setDialogCurKey",T.HOME_FILTER),$("/pagesDialog/seeking-sex-guide",{},{onCloseChooseSeekingSex:i=>{uni.$emit("event_app_dialog_seeking_sex_after",i),t()}}))})},_dialogExecuteHomeSexFilter(e){return new Promise(t=>{Ge(e.key,e.delay,zt.USER)&&(O("appDialog/setDialogCurKey",T.HOME_SEX_FILTER),$($e.homeFilterSexGuide,{params:JSON.stringify(e.data)},{onCloseListener:()=>{uni.$emit("event_handle_filter_seeking_sex"),t()}}))})},_dialogExecuteGridGuide(e){return new Promise(t=>{if(!Ge(e.key,e.delay,zt.USER))return;O("appDialog/setDialogCurKey",T.GRID_GUIDE);let i=e.data.sizeList;$("/pagesDialog/guide-cover",{list:encodeURIComponent(JSON.stringify(i))},{onCloseGuideCover:()=>{uni.$emit("event_app_dialog_close_guide",{from_type:e.data.from_type}),t()}})})},_dialogExecuteShare(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),Ge(e.key,e.delay,0)&&(O("appDialog/setDialogCurKey",T.SHARE),ne("/pagesDialog/share",{},"shareData",e.data.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteLanguageUp(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),Ge(e.key,e.delay,0)&&(O("appDialog/setDialogCurKey",T.LANGUAGE_UP),ue("user_switch_language_status","1"),$("/pagesDialog/switch-language-remind",{},{onCloseListener(){t()}}))},e.delay*1e3)})},_dialogExecuteRamadan(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),Ge(e.key,e.delay,0)&&(O("appDialog/setDialogCurKey",T.RAMADAN),ne("/pagesDialog/stop-notify",{},"dataStopNotify",e.data,{onCloseListener(){t()}}))},e.delay*1e3)})},_dialogExecuteHello(e){return new Promise(t=>{Hc().then(i=>{if(!i){t();return}if(Tt&&clearInterval(Tt),e.delay<=0||nt<=0){if(!Ge(e.key,nt,0))return;O("appDialog/setDialogCurKey",T.HELLO),Na(i,()=>{t()});return}Tt=setInterval(()=>{if(!Ge(e.key,nt,0)){Tt&&clearInterval(Tt);return}nt-=1,nt<=0&&(clearInterval(Tt),O("appDialog/setDialogCurKey",T.HELLO),Na(i,()=>{t()}))},1e3)})})},_dialogExecuteMsgDisturb(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),Ge(e.key,e.delay,zt.MSG)&&(O("appDialog/setDialogCurKey",T.MSG_DISTURB),$("/pagesDialog/disturb-def",e.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteCallDisturb(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),Ge(e.key,e.delay,0)&&(O("appDialog/setDialogCurKey",T.CALL_DISTURB),$("/pagesDialog/disturb-def",e.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteBan(e){return new Promise(t=>{let i=e.exp_time;if(parseInt(new Date().getTime()/1e3)>i){t();return}let a=setTimeout(()=>{clearTimeout(a);let n=e.data.from_cache?1:0;ne("/pagesDialog/banned",{from_cache:n},"bannedDialogData",e.data,{onCloseListener:s=>{t(s)}})},e.delay*1e3)})},_dialogExecuteWarning(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),ne("/pagesDialog/warning",{},"warningDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubWarning(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),ne($e.clubWarning,{},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubDisband(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),ne($e.clubDisband,{},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubResult(e){return new Promise(t=>{let i=setTimeout(()=>{clearTimeout(i),ne($e.clubStatusRemind,{from_type:2},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})}};function Ge(e,t,i){let a;return i==0?a=Bc():a=Uc(i),getApp().globalData.isGestureBacking||getApp().globalData.s.state.appDialog.appDialogStop||zs()||!a?(O("appDialog/resetDialogItem",{key:e,delay:t}),!1):!0}function zs(){return getApp().globalData.uid==0}function Bc(){return getCurrentPages().length==1}function Uc(e){let t=Rt();return t.length==1&&t[0]==e}function _t(e,t){return e==1?Pn[t]:_c[t]}function Hc(){return new Promise(e=>{let t=getApp().globalData.s.state.appDialog.appDialogHelloData;t?e(t):M.request("/user/greet-coach-list",{},!1,!0).then(i=>{f(i.data)||f(i.data.list)?e(null):(O("appDialog/setDialogHelloData",i.data),e(i.data))},i=>{e(null)})})}function Na(e,t){ne("/pagesDialog/quality-user",{},"qualityUserData",e,{onCloseListener:i=>{i&&Ws()?setTimeout(()=>{O("appDialog/addDialogNotify")},2300):t()}})}var Wc={curSendCont:0,msgMtimeList:[]},Gc=60,Ra=6,$c={addSendCount(e){e.curSendCont+=1},clearSendCount(e){e.curSendCont=0},addMsgDisturbSaveCount(e,t){let i=e.msgMtimeList.length;if(e.msgMtimeList.length<Ra&&(e.msgMtimeList.push(t/1e6),i=e.msgMtimeList.length),i>=Ra){let a=e.msgMtimeList[0];e.msgMtimeList[i-1]-a<=Gc&&O("appDialog/addDialogMsgDisturb",2),e.msgMtimeList.splice(0,1)}}},Vc={namespaced:!0,state:Wc,mutations:$c},jc={callMtimeList:[]},zc=60,Oa=3,Yc={addCallDisturbReceiveCount(e,t){let i=e.callMtimeList.length;if(e.callMtimeList.length<Oa&&(e.callMtimeList.push(t/1e3),i=e.callMtimeList.length),i>=Oa){let a=e.callMtimeList[0];e.callMtimeList[i-1]-a<=zc&&O("appDialog/addDialogCallDisturb",2),e.callMtimeList.splice(0,1)}},clearCallDisturbReceiveMtime(e){e.callMtimeList=[]}},Kc={namespaced:!0,state:jc,mutations:Yc},kt=te("pubData");kt||(kt={});var Jc=["pubToken","pubUser","pubAccount","pubPrivacy"],qc=function(e,t){if(Jc.indexOf(e)==-1)return;let i=te("pubData");i=i||{},i[e]=t,ue("pubData",i),["pubUser","pubAccount"].indexOf(e)!=-1?uni.$emit("event_vuex_watch",e):uni.$emit(`event_vuex_watch_${e}`)},Xc=(0,Fa.createStore)({state:{pubToken:kt.pubToken||"",pubUser:kt.pubUser||{nickname:"",uid:0,avatar:""},pubAccount:kt.pubAccount||{money:0},pubPrivacy:kt.pubPrivacy||{},pubUnread:0,pubUnreadMy:{fans:0,moment:0,moment_type:1},pubI18n:"",pubAI18n:""},mutations:{setPubValue(e,t){let i=t.name.split("."),a="",n=i.length;if(n>=2){let s=e[i[0]];for(let o=1;o<n-1;o++)s=s[i[o]];s[i[n-1]]=t.value,a=i[0]}else e[t.name]=t.value,a=t.name;qc(a,e[a])},initUnread(e,t){let i=parseInt(t);i<0&&(i=0),e.pubUnread=i,hi(Dt.MSG,e.pubUnread),uni.$emit("event_vuex_watch_pub_unread",i)},setUnread(e,t){let i=parseInt(t);if(isNaN(i)||i==0)return;let a=e.pubUnread+i;a<0&&(a=0),e.pubUnread=a,hi(Dt.MSG,e.pubUnread),uni.$emit("event_vuex_watch_pub_unread",a)},initUnreadMy(e,t){let i=e.pubUnreadMy;typeof t.fans!="undefined"&&(i.fans=Number(t.fans)),typeof t.moment!="undefined"&&(i.moment=Number(t.moment)),typeof t.moment_type!="undefined"&&(i.moment_type=Number(t.moment_type)),e.pubUnreadMy=i,La(),uni.$emit("event_vuex_watch_pubUnreadMy",i)},setUnreadMy(e,t){let i=e.pubUnreadMy;for(let a in t)i[a]=t[a];e.pubUnreadMy=i,La(),uni.$emit("event_vuex_watch_pubUnreadMy",i)}},modules:{appDialog:Cc,message:Vc,call:Kc}}),At={handleCache(){let e=At.getCache();f(e)||(e=z(e),!At.checkIsShow()&&(e.from_cache=1,O("appDialog/addDialogBan",e),O("appDialog/executeBanWarningDialog")))},checkIsShow(){return ot()=="/pagesDialog/banned"},setCache(e){let t=JSON.stringify(e);ue(At.getCacheKey(),t)},getCache(){return te(At.getCacheKey())},getCacheKey(){return`banned_data_${Xc.state.pubUser.uid}`},removeCache(){It(At.getCacheKey())}},M={setToken(e){f(e)||ni("pubToken",e)},isLogin(){let e=getApp().globalData.s.state;return!f(e.pubToken)&&e.pubUser.uid},requestOutsourcing(e,t,i,a,n=!1){return M.requestBase(e,t,i,a,n,3)},requestManager(e,t,i,a,n=!1){return M.requestBase(e,t,i,a,n,2)},request(e,t,i,a,n=!1){return M.requestBase(e,t,i,a,n,1)},requestBase(e,t,i,a,n=!1,s){return new Promise((o,l)=>{let c=!1;try{c=getApp().globalData.s.state.pubToken}catch(_){F("error","at common/api.js:35","request token catch "+JSON.stringify(_))}let u={"content-type":"application/json",ua:getApp().globalData.ua},d;s==1?(d=getApp().globalData.apiHost,c&&(u.auth=`Bearer ${c}`)):s==2?(d=getApp().globalData.pApiHost,c&&(u.Authorization=`Bearer ${c}`)):s==3&&(d=getApp().globalData.oApiHost,c&&(u.Authorization=`Bearer ${c}`));let g=!1;if(i)if(i=="refresh")g=!0;else{let _={mask:!0};typeof i=="string"&&(_.title=i),uni.showLoading(_)}di.invoke(e,t);let h=au(t);uni.request({url:d+e,method:"POST",header:u,data:h,dataType:"json",timeout:1e4,complete(_){if(i&&uni.hideLoading(),F("log","at common/api.js:74",`request ${e} obj ${JSON.stringify(t)}`),_.statusCode==200){let v=_.data;if(v.data&&typeof v.data.callback=="object"&&(M.handleCallback(v.data.callback),n))return qe;if(v.ok===99)return getApp().loginOut(),qe;if(v.ok==-98)return nu(v.data),a&&l(v),qe;if(f(v.msg)||ai(v.msg),v.ok>0){o(v);return}a&&l(v)}else if(g&&uni.stopPullDownRefresh(),a)l(_),di.error(e,t,_);else return di.error(e,t,_),qe},fail(_){di.fail(e,_)}})})},handleCallback(e){switch(e.func_name){case"alert":Zc(e.func_data);break;case"open":Qc(e.func_data);break;case"vip_alert":ne("/pages/vip/vip-dialog",null,"vipDialogData",e.func_data);break;case"recharge_alert":let t={fromType:e.func_data.from_type,diffCoin:e.func_data.diff_coin||0};t.order_source=typeof e.func_data.order_source=="undefined"?0:e.func_data.order_source,t.click_type=typeof e.func_data.click_type=="undefined"?0:e.func_data.click_type,ne("/pages/coin/coin-dialog",t,"coinDialogData",e.func_data);break;case"close":Tl();break;case"banned_alert":let i=e.func_data.exp_time;if(parseInt(new Date().getTime()/1e3)>i||(O("appDialog/addDialogBan",e.func_data),At.setCache(e.func_data),ot()=="/pagesDialog/banned"))return;let n=setTimeout(()=>{clearTimeout(n),O("appDialog/executeBanWarningDialog")},e.delay*1e3);break;case"reconnect_mqtt":getApp().socketReconnect(jl.API_CALL_BACK,e.func_data);break;case"reload_route":getApp().handleSecret(e.func_data,fc.CALLBACK,{});break;case"event":eu(e.func_data);break;case"api":tu(e.func_data);break;case"sensitive_alert":ne("/pagesDialog/sensitive-check",null,"sensitiveData",e.func_data),uni.hideKeyboard();break;case"free_coins":ne("/pagesDialog/coins-free",{coin:e.func_data.free_coins},"coinsFree",{},{});break}},accessLog(e,t){this.request("/other/access-log",{api_name:e,content:St(t)})},accessLogExtra(e,t,i){let a=`${St(t)} ${St(i)}`;this.request("/other/access-log",{api_name:e,content:a})},accessLogApi(e,t,i,a){let n=`url:${t} p:${JSON.stringify(i)} res ${St(a)}`;M.accessLog(e,n)}};function Zc(e){let t=e.enter_func,i=e.cancel_title,a=e.enter_title,n=e.cancel_func,s=!f(i);uni.hideKeyboard(),uni.showModal({title:e.title,content:e.msg,showCancel:s,cancelText:s?i:p("cancel"),confirmText:a||p("ok"),complete(o){o.confirm?f(t)||M.handleCallback(t):o.cancel&&(f(n)||M.handleCallback(n))}})}function Qc(e){let t=e.page_name,i=e.data;t=="inside_web"?Xt(i.route,!0):t=="safari"?Xt(i.route,!1):t=="web"?$(i.route):t=="native"?iu(i.route):t=="chat"&&(Rt().indexOf("/pages/call/chat-view")==-1?Cl(i.user_info):uni.$emit("event_no_connect_close_listener",{action:"chat_pri",user:i.user_info}))}function eu(e){let t=e.event_key;if(f(t))return;let i=e.data;f(i)?uni.$emit(t):uni.$emit(t,i)}function tu(e){if(e.type==1){let i={user_info:{is_rest:0}};M.request("/user/update-info",i,!0).then(()=>{getApp().pubUser.is_rest=0,Qe(p("tips"),p("anchorTurnedOffRest"),"",p("gotIt"))})}}function iu(e){return new Function("return "+e)()}function nu(e){Rt().indexOf("/pagesDialog/stop_taking")==-1&&(getApp().globalData.appStopTaking=!0,getApp().socketDisconnect(),ne("/pagesDialog/stop_taking",{},"stopTakingData",e))}function au(e){try{f(e)&&(e={}),e.times=new Date().getTime();let t=Object.keys(e).sort(),i={};for(let n=0,s=t.length;n<s;n++)i[t[n]]=e[t[n]];let a=Ys(i).substr(1);return i.sign=fn.md5(`${fn.md5(a)}fMHjgD94yoc6TbB7sGoA`),i}catch(t){return e}}function Ys(e,t){if(e==null)return"";try{let i="",a=typeof e;if(a=="string"||a=="number")i+="&"+t+"="+wl(e);else if(a=="boolean")i+="&"+t+"="+(e?1:0);else for(let n in e){let s=t==null?n:t+su(n);i+=Ys(e[n],s)}return i}catch(i){return""}}function su(e){return`${encodeURIComponent("[")}${e}${encodeURIComponent("]")}`}var E=(e,t)=>{let i=e.__vccOpts||e;for(let[a,n]of t)i[a]=n;return i};var ru=["titleIcon","titleIconRadius","subtitleText","subtitleSize","subtitleColor","subtitleOverflow","titleAlign","backgroundImage","backgroundRepeat","blurEffect"],ou={props:{title:{type:String,default:""},titleIcon:{type:String,default:""},titleIconRadius:{type:String,default:""},subtitleText:{type:String,default:""},subtitleSize:{type:String,default:""},subtitleColor:{type:String,default:""},subtitleOverflow:{type:String,default:""},titleAlign:{type:String,default:""},backgroundImage:{type:String,default:""},backgroundRepeat:{type:String,default:""},blurEffect:{type:String,default:""},loading:{type:Boolean,default:!1},frontColor:{type:String,default:"#ffffff"},backgroundColor:{type:String,default:"#000000"},colorAnimationDuration:{type:Number,default:0},colorAnimationTimingFunc:{type:String,default:"linear"}},created(){let e=getCurrentPages(),t=e[e.length-1];this.__$page=t,this.$watch("title",()=>{this.setNavigationBarTitle()}),this.$watch("loading",()=>{this.setNavigationBarLoading()}),this.$watch(()=>[this.frontColor,this.backgroundColor,this.colorAnimationDuration,this.colorAnimationTimingFunc],()=>{this.setNavigationBarColor()}),this.__$webview=t.$getAppWebview(),ru.forEach(i=>{let a={};(this[i]||this[i].length>0)&&(a[i]=this[i]),this.setTitleNView(a),this.$watch(i,n=>{let s={};s[i]=n,this.setTitleNView(s)})})},beforeMount(){this.title&&this.setNavigationBarTitle(),this.setNavigationBarLoading(),this.setNavigationBarColor()},methods:{setNavigationBarTitle(){uni.setNavigationBarTitle({__page__:this.__$page,title:this.title})},setNavigationBarLoading(){uni[(this.loading?"show":"hide")+"NavigationBarLoading"]({__page__:this.__$page})},setNavigationBarColor(){uni.setNavigationBarColor({__page__:this.__$page,frontColor:this.frontColor,backgroundColor:this.backgroundColor,animation:{duration:this.colorAnimationDuration,timingFunc:this.colorAnimationTimingFunc}})},setTitleNView(e){let t=this.__$webview,i=t.getStyle();i&&i.titleNView&&t.setStyle({titleNView:e})}}};function lu(e,t,i,a,n,s){return(0,ce.openBlock)(),(0,ce.createElementBlock)("view",{style:{display:"none"},renderWhole:!0})}var cu=E(ou,[["render",lu]]),uu={name:"PageMeta",setup(e,{emit:t}){Pa(i=>{t("resize",i)})},props:{backgroundTextStyle:{type:String,default:"dark",validator(e){return["dark","light"].indexOf(e)!==-1}},backgroundColor:{type:String,default:"#ffffff"},backgroundColorTop:{type:String,default:"#ffffff"},backgroundColorBottom:{type:String,default:"#ffffff"},scrollTop:{type:String,default:""},scrollDuration:{type:Number,default:300},pageStyle:{type:String,default:""},enablePullDownRefresh:{type:[Boolean,String],default:!1},rootFontSize:{type:String,default:""}},created(){let e=getCurrentPages()[0];this.$pageVm=e.$vm||e,this._currentWebview=e.$getAppWebview(),this.enablePullDownRefresh&&this.setPullDownRefresh(this._currentWebview,!0),this.$watch("enablePullDownRefresh",t=>{this.setPullDownRefresh(this._currentWebview,t)}),this.$watch("backgroundTextStyle",()=>{this.setBackgroundTextStyle()}),this.$watch(()=>[this.rootFontSize,this.pageStyle],()=>{this.setPageMeta()}),this.$watch(()=>[this.backgroundColor,this.backgroundColorTop,this.backgroundColorBottom],()=>{this.setBackgroundColor()}),this.$watch(()=>[this.scrollTop,this.scrollDuration],()=>{this.pageScrollTo()})},beforeMount(){this.setBackgroundColor(),(this.rootFontSize||this.pageStyle)&&this.setPageMeta(),this.backgroundTextStyle&&this.setBackgroundTextStyle()},mounted(){this.scrollTop&&this.pageScrollTo()},methods:{setPullDownRefresh(e,t){e.setStyle({pullToRefresh:{support:t,style:plus.os.name==="Android"?"circle":"default"}})},setPageMeta(){uni.setPageMeta({pageStyle:this.pageStyle,rootFontSize:this.rootFontSize})},setBackgroundTextStyle(){},setBackgroundColor(){},pageScrollTo(){let e=String(this.scrollTop);e.indexOf("rpx")!==-1&&(e=uni.upx2px(e.replace("rpx",""))),e=parseFloat(e),!isNaN(e)&&uni.pageScrollTo({scrollTop:e,duration:this.scrollDuration,success:()=>{}})}}};function du(e,t,i,a,n,s){return(0,ce.openBlock)(),(0,ce.createElementBlock)("view",{style:{display:"none"},renderWhole:!0},[(0,ce.renderSlot)(e.$slots,"default")])}var pu=E(uu,[["render",du]]),mu={props:{useBg1_1:{type:Boolean,default:!1},otherStyle:{type:String,default:""},enableRefresh:{type:Boolean,default:!1},title:{type:String,default:""}},data(){return{themeObj:getApp().globalData.themeObj}},computed:{style(){let e=`background:${this.useBg1_1?this.themeObj.color.bg1_1:this.themeObj.color.bg1};`;return f(this.otherStyle)||(e=e+this.otherStyle),e},navBarFontColor(){return this.themeObj.style==Z.LIGHT?"#000000":"#FFFFFF"},navBarBgColor(){return this.themeObj.color.bg2}}};function fu(e,t,i,a,n,s){let o=S((0,ce.resolveDynamicComponent)("navigation-bar"),cu),l=S((0,ce.resolveDynamicComponent)("page-meta"),pu);return(0,ce.openBlock)(),(0,ce.createBlock)(l,{"page-style":s.style,"enable-pull-down-refresh":i.enableRefresh},{default:(0,ce.withCtx)(()=>[(0,ce.createVNode)(o,{title:i.title,"background-color":s.navBarBgColor,"front-color":s.navBarFontColor},null,8,["title","background-color","front-color"])]),_:1},8,["page-style","enable-pull-down-refresh"])}var Un=E(mu,[["render",fu]]),Ks={data(){return{themeObj:getApp().globalData.themeObj,webStyle:!1,currentWebview:!1,loadTitleViewCount:0}},computed:{pageBgColor(){return this.useBg1_1?this.themeObj.color.bg1_1:this.themeObj.color.bg1},pageBg(){return{background:this.pageBgColor}},navBarFontColor(){return this.themeObj.style==Z.LIGHT?"#000000":"#FFFFFF"}},methods:{initNavBarRBtn(e,t,i,a=""){this._setNavBar(e,t,i?this.themeObj.color.barBtn:this.themeObj.color.barBtnN,"14px",a)},initNavBarRBtnText(e,t,i="",a="14px"){let n=i||this.navBarFontColor;this._setNavBar(e,t,n,a)},initNavBarRBtnType(e,t,i){let a=i||(this.themeObj.style==Z.LIGHT?"#000000":"#FFFFFF");this._setNavBarType(e,t,a)},initNavBarRBtnTextIcon(e,t,i="22px"){let a=this.themeObj.style==Z.LIGHT?"#000000":"#FFFFFF";this._setNavBar(e,t,a,i)},initNavBarRImg(e,t){this._setNavBarImg(e,t)},initNavBarImgStyle(e,t){this._setNavBarImgStyle(e,t)},setNavBarRBtnStatus(e,t){this._setNavBarColor(e,t?this.themeObj.color.barBtn:this.themeObj.color.barBtnN)},setNavBarTitle(e){this._setNavBarTitle(e)},_setNavBarImgStyle(e,t){let i=this.webStyle.titleNView;if(i&&i.tags&&i.tags[t]){let a=i.tags[t].position,n=Object.assign(a,e);i.tags[t].position=n,this.currentWebview.setStyle({titleNView:i})}},_setNavBar(e,t,i,a,n){let s=this.webStyle.titleNView;n&&(s.titleText=n),s&&s.buttons&&s.buttons[t]&&(s.buttons[t].text=e,s.buttons[t].color=i,s.buttons[t].fontSize=a,this.currentWebview.setStyle({titleNView:s}))},_setNavBarType(e,t,i){let a=this.webStyle.titleNView;a&&a.buttons&&a.buttons[t]&&(a.buttons[t].type=e,a.buttons[t].color=i,this.currentWebview.setStyle({titleNView:a}))},_setNavBarImg(e,t){let i=this.webStyle.titleNView;i&&i.tags&&i.tags[t]&&(i.tags[t].src=e,this.currentWebview.setStyle({titleNView:i}))},_setNavBarColor(e,t){let i=this.webStyle.titleNView;i&&i.buttons&&i.buttons[e]&&(i.buttons[e].color=t,this.currentWebview.setStyle({titleNView:i}))},_setNavBarTitle(e=""){let t=this.webStyle.titleNView;t&&e&&(t.titleText=e,this.currentWebview.setStyle({titleNView:t}))},_setViewBg(e,t,i){try{if(this.webStyle=this.currentWebview.getStyle(),i&&typeof this.webStyle.titleNView=="undefined"&&this.loadTitleViewCount<10){this.loadTitleViewCount+=1,setTimeout(()=>{this._setViewBg(e,t)},100);return}this.webStyle.titleNView?(this.webStyle.titleNView.splitLine&&(this.webStyle.titleNView.splitLine.color=e),this.webStyle.titleNView.titleColor&&(this.webStyle.titleNView.titleColor=this.navBarFontColor),this.webStyle.titleNView.backgroundColor&&(this.webStyle.titleNView.backgroundColor=this.themeObj.color.bg2),this.currentWebview.setStyle({titleNView:this.webStyle.titleNView})):uni.setNavigationBarColor({frontColor:this.navBarFontColor}),this.webStyle.background=t,this.currentWebview.setStyle({background:t})}catch(a){F("error","at coms/theme.mixin.js:133","error theme.mixin.js catch ...",a)}}},onReady(){let e,t;this.themeObj.style==Z.LIGHT?e="rgba(230,230,230,0.5)":e=this.themeObj.color.bg2,t=this.useBg1_1?this.themeObj.color.bg1_1:this.themeObj.color.bg1;let i=getCurrentPages(),a=i[i.length-1];if(!a)return;this.currentWebview=a.$getAppWebview();let n,s=this.currentWebview.getNavigationbar();f(s)||Object.keys(s).length<=0?n=!0:n=!1,this._setViewBg(e,t,n)}};var r=K(q());var be=K(q());var gu=e=>e!==null&&typeof e=="object",hu=["{","}"],Gn=class{constructor(){this._caches=Object.create(null)}interpolate(t,i,a=hu){if(!i)return[t];let n=this._caches[t];return n||(n=bu(t,a),this._caches[t]=n),xu(n,i)}},_u=/^(?:\d)+/,yu=/^(?:\w)+/;function bu(e,[t,i]){let a=[],n=0,s="";for(;n<e.length;){let o=e[n++];if(o===t){s&&a.push({type:"text",value:s}),s="";let l="";for(o=e[n++];o!==void 0&&o!==i;)l+=o,o=e[n++];let c=o===i,u=_u.test(l)?"list":c&&yu.test(l)?"named":"unknown";a.push({value:l,type:u})}else s+=o}return s&&a.push({type:"text",value:s}),a}function xu(e,t){let i=[],a=0,n=Array.isArray(t)?"list":gu(t)?"named":"unknown";if(n==="unknown")return i;for(;a<e.length;){let s=e[a];switch(s.type){case"text":i.push(s.value);break;case"list":i.push(t[parseInt(s.value,10)]);break;case"named":n==="named"&&i.push(t[s.value]);break}a++}return i}var Hn="zh-Hans",Js="zh-Hant",Pt="en",wu="fr",Tu="es",Au=Object.prototype.hasOwnProperty,qs=(e,t)=>Au.call(e,t),Cu=new Gn;function Su(e,t){return!!t.find(i=>e.indexOf(i)!==-1)}function ku(e,t){return t.find(i=>e.indexOf(i)===0)}function Xs(e,t){if(!e)return;if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if(e=e.toLowerCase(),e==="chinese")return Hn;if(e.indexOf("zh")===0)return e.indexOf("-hans")>-1?Hn:e.indexOf("-hant")>-1||Su(e,["-tw","-hk","-mo","-cht"])?Js:Hn;let i=[Pt,wu,Tu];t&&Object.keys(t).length>0&&(i=Object.keys(t));let a=ku(e,i);if(a)return a}var $n=class{constructor({locale:t,fallbackLocale:i,messages:a,watcher:n,formater:s}){this.locale=Pt,this.fallbackLocale=Pt,this.message={},this.messages={},this.watchers=[],i&&(this.fallbackLocale=i),this.formater=s||Cu,this.messages=a||{},this.setLocale(t||Pt),n&&this.watchLocale(n)}setLocale(t){let i=this.locale;this.locale=Xs(t,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],i!==this.locale&&this.watchers.forEach(a=>{a(this.locale,i)})}getLocale(){return this.locale}watchLocale(t){let i=this.watchers.push(t)-1;return()=>{this.watchers.splice(i,1)}}add(t,i,a=!0){let n=this.messages[t];n?a?Object.assign(n,i):Object.keys(i).forEach(s=>{qs(n,s)||(n[s]=i[s])}):this.messages[t]=i}f(t,i,a){return this.formater.interpolate(t,i,a).join("")}t(t,i,a){let n=this.message;return typeof i=="string"?(i=Xs(i,this.messages),i&&(n=this.messages[i])):a=i,qs(n,t)?this.formater.interpolate(n[t],a).join(""):(console.warn(`Cannot translate the value of keypath ${t}. Use the value of keypath as default.`),t)}};function Du(e,t){e.$watchLocale?e.$watchLocale(i=>{t.setLocale(i)}):e.$watch(()=>e.$locale,i=>{t.setLocale(i)})}function Eu(){return typeof uni!="undefined"&&uni.getLocale?uni.getLocale():typeof global!="undefined"&&global.getLocale?global.getLocale():Pt}function vu(e,t={},i,a){typeof e!="string"&&([e,t]=[t,e]),typeof e!="string"&&(e=Eu()),typeof i!="string"&&(i=typeof __uniConfig!="undefined"&&__uniConfig.fallbackLocale||Pt);let n=new $n({locale:e,fallbackLocale:i,messages:t,watcher:a}),s=(o,l)=>{if(typeof getApp!="function")s=function(c,u){return n.t(c,u)};else{let c=!1;s=function(u,d){let g=getApp().$vm;return g&&(g.$locale,c||(c=!0,Du(g,n))),n.t(u,d)}}return s(o,l)};return{i18n:n,f(o,l,c){return n.f(o,l,c)},t(o,l){return s(o,l)},add(o,l,c=!0){return n.add(o,l,c)},watch(o){return n.watchLocale(o)},getLocale(){return n.getLocale()},setLocale(o){return n.setLocale(o)}}}var Lu={"uni-load-more.contentdown":"Pull up to show more","uni-load-more.contentrefresh":"loading...","uni-load-more.contentnomore":"No more data"},Iu={"uni-load-more.contentdown":"Pull up to show more","uni-load-more.contentrefresh":"Loading...","uni-load-more.contentnomore":"No more data"},Mu={"uni-load-more.contentdown":"\u4E0A\u62C9\u986F\u793A\u66F4\u591A","uni-load-more.contentrefresh":"\u6B63\u5728\u52A0\u8F09...","uni-load-more.contentnomore":"\u6C92\u6709\u66F4\u591A\u6578\u64DA\u4E86"},Nu={"uni-load-more.contentdown":"Tire hacia arriba para mostrar m\xE1s","uni-load-more.contentrefresh":"cargando...","uni-load-more.contentnomore":"No m\xE1s datos"},Ru={"uni-load-more.contentdown":"\u0627\u0633\u062D\u0628 \u0644\u0623\u0639\u0644\u0649 \u0644\u0625\u0638\u0647\u0627\u0631 \u0627\u0644\u0645\u0632\u064A\u062F","uni-load-more.contentrefresh":"\u062C\u0627\u0631 \u0627\u0644\u062A\u062D\u0645\u064A\u0644...","uni-load-more.contentnomore":"\u0644\u0627 \u0645\u0632\u064A\u062F \u0645\u0646 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"},Ou={"uni-load-more.contentdown":"K\xE9o l\xEAn \u0111\u1EC3 hi\u1EC3n th\u1ECB th\xEAm","uni-load-more.contentrefresh":"\u0111ang t\u1EA3i...","uni-load-more.contentnomore":"Kh\xF4ng c\xF2n d\u1EEF li\u1EC7u"},Fu={en:Lu,"zh-Hans":Iu,"zh-Hant":Mu,es:Nu,ar:Ru,vi:Ou},Pu={"uni-load-more":{"":{flexDirection:"row",height:40,alignItems:"center",justifyContent:"center"}},"uni-load-more__text":{"":{fontSize:14,marginLeft:8}},"uni-load-more__img":{"":{width:24,height:24}},"uni-load-more__img--nvue":{"":{color:"#666666"}},"uni-load-more__img--android":{"":{width:24,height:24,transform:"rotate(0deg)"}},"uni-load-more__img--ios":{"":{width:24,height:24,transform:"rotate(0deg)"}}},Zs;setTimeout(()=>{Zs=uni.getSystemInfoSync().platform},16);var{t:Wn}=vu(Fu),Bu={name:"UniLoadMore",emits:["clickLoadMore"],props:{status:{type:String,default:"more"},showIcon:{type:Boolean,default:!0},iconType:{type:String,default:"auto"},iconSize:{type:Number,default:24},color:{type:String,default:"#777777"},contentText:{type:Object,default(){return{contentdown:"",contentrefresh:"",contentnomore:""}}},showText:{type:Boolean,default:!1}},data(){return{webviewHide:!1,platform:Zs,imgBase64:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzlBMzU3OTlEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzlBMzU3OUFEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDOUEzNTc5N0Q5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDOUEzNTc5OEQ5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pt+ALSwAAA6CSURBVHja1FsLkFZVHb98LM+F5bHL8khA1iSeiyQBCRM+YGqKUnnJTDLGI0BGZlKDIU2MMglUiDApEZvSsZnQtBRJtKwQNKQMFYeRDR10WOLd8ljYXdh+v8v5fR3Od+797t1dnOnO/Ofce77z+J//+b/P+ZqtXbs2sJ9MJhNUV1cHJ06cCJo3bx7EPc2aNcvpy7pWrVoF+/fvDyoqKoI2bdoE9fX1F7TjN8a+EXBn/fkfvw942Tf+wYMHg9mzZwfjxo0LDhw4EPa1x2MbFw/fOGfPng1qa2tzcCkILsLDydq2bRsunpOTMM7TD/W/tZDZhPdeKD+yGxHhdu3aBV27dg3OnDlzMVANMheLAO3btw8KCwuDmpoaX5OxbgUIMEq7K8IcPnw4KCsrC/r37x8cP378/4cAXAB3vqSkJMuiDhTkw+XcuXNhOWbMmKBly5YhUT8xArhyFvP0BfwRsAuwxJZJsm/nzp2DTp06he/OU+cZ64K6o0ePBkOHDg2GDx8e6gEbJ5Q/NHNuAJQ1hgBeHUDlR7nVTkY8rQAvAi4z34vR/mPs1FoRsaCgIJThI0eOBC1atEiFGGV+5MiRoS45efJkqFjJFXV1dQuA012m2WcwTw98fy6CqBdsaiIO4CScrGPHjvk4odhavPquRtFWXEC25VgkREKOCh/qDSq+vn37htzD/mZTOmOc5U7zKzBPEedygWshcDyWvs30igAbU+6oyMgJBCFhwQE0fccxN60Ay9iebbjoDh06hMowjQxT4fXq1SskArmHZpkArvixp/kWzHdMeArExSJEaiXIjjRjRJ4DaAGWpibLzXN3Fm1vA5teBgh3j1Rv3bp1YgKwPdmf2p9zcyNYYgPKMfY0T5f5nNYdw158nJ8QawW4CLKwiOBSEgO/hok2eBydR+3dYH+PLxA5J8Vv0KBBwenTp0P2JWAx6+yFEBfs8lMY+y0SWMBNI9E4ThKi58VKTg3FQZS1RQF1cz27eC0QHMu+3E0SkUowjhVt5VdaWhp07949ZHv2Qd1EjDXM2cla1M0nl3GxAs3J9yREzyTdFVKVFOaE9qRA8GM0WebRuo9JGZKA7Mv2SeS/Z8+eoQ9BArMfFrLGo6jvxbhHbJZnKX2Rzz1O7QhJJ9Cs2ZMaWIyq/zhdeqPNfIoHd58clIQD+JSXl4dKlyIAuBdVXZwFVWKspSSoxE++h8x4k3uCnEhE4I5KwRiFWGOU0QWKiCYLbdoRMRKAu2kQ9vkfLU6dOhX06NEjlH+yMRZSinnuyWnYosVcji8CEA/6Cg2JF+IIUBqnGKUTCNwtwBN4f89RiK1R96DEgO2o0NDmtEdvVFdVVYV+P3UAPUEs6GFwV3PHmXkD4vh74iDFJysVI/MlaQhwKeBNTLYX5VuA8T4/gZxA4MRGFxDB6R7OmYPfyykGRJbyie+XnGYnQIC/coH9+vULiYrxrkL9ZA9+0ykaHIfEpM7ge8TiJ2CsHYwyMfafAF1yCGBHYIbCVDjDjKt7BeB51D+LgQa6OkG7IDYEEtvQ7lnXLKLtLdLuJBpE4gPUXcW2+PkZwOex+4cGDhwYDBkyRL7/HFcEwUGPo/8uWRUpYnfxGHco8HkewLHLyYmAawAPuIFZxhOpDfJQ8gbUv41yORAptMWBNr6oqMhWird5+u+iHmBb2nhjDV7HWBNQTgK8y11l5NetWzc5ULscAtSj7nbNI0skhWeUZCc0W4nyH/jO4Vz0u1IeYhbk4AiwM6tjxIWByHsoZ9qcIBPJd/y+DwPfBESOmCa/QF3WiZHucLlEDpNxcNhmheEOPgdQNx6/VZFQzFZ5TN08AHXQt2Ii3EdyFuUsPtTcGPhW5iMiCNELvz+Gdn9huG4HUJaW/w3g0wxV0XaG7arG2WeKiUWYM4Y7GO5ezshTARbbWGw/DvXkpp/ivVvE0JVoMxN4rpGzJMhE5Pl+xlATsDIqikP9F9D2z3h9nOksEUFhK+qO4rcPkoalMQ/HqJLIyb3F3JdjrCcw1yZ8joyJLR5gCo54etlag7qIoeNh1N1BRYj3DTFJ0elotxPlVzkGuYAmL0VSJVGAJA41c4Z6A3BzTLfn0HYwYKEI6CUAMzZEWvLsIcQOo1AmmyyM72nHJCfYsogflGV6jEk9vyQZXSuq6w4c16NsGcGZbwOPr+H1RkOk2LEzjNepxQkihHSCQ4ynAYNRx2zMKV92CQMWqj8J0BRE8EShxRFN6YrfCRhC0x3r/Zm4IbQCcmJoV0kMamllccR6FjHqUC5F2R/wS2dcymOlfAKOS4KmzQb5cpNC2MC7JhVn5wjXoJ44rYhLh8n0eXOCorJxa7POjbSlCGVczr34/RsAmrcvo9s+wGp3tzVhntxiXiJ4nvEYb4FJkf0O8HocAePmLvCxnL0AORraVekJk6TYjDabRVXfRE2lCN1h6ZQRN1+InUbsCpKwoBZHh0dODN9JBCUffItXxEavTQkUtnfTVAplCWL3JISz29h4NjotnuSsQKJCk8dF+kJR6RARjrqFVmfPnj3ZbK8cIJ0msd6jgHPGtfVTQ8VLmlvh4mct9sobRmPic0DyDQQnx/NlfYUgyz59+oScsH379pAwXABD32nTpoUHIToESeI5mnbE/UqDdyLcafEBf2MCqgC7NwxIbMREJQ0g4D4sfJwnD+AmRrII05cfMWJE+L1169bQr+fip06dGp4oJ83lmYd5wj/EmMa4TaHivo4EeCguYZBnkB5g2aWA69OIEnUHOaGysjIYMGBAMGnSpODYsWPZwCpFmm4lNq+4gSLQA7jcX8DwtjEyRC8wjabnXEx9kfWnTJkSJkAo90xpJVV+FmcVNeYAF5zWngS4C4O91MBxmAv8blLEpbjI5sz9MTdAhcgkCT1RO8mZkAjfiYpTEvStAS53Uw1vAiUGgZ3GpuQEYvoiBqlIan7kSDHnTwJQFNiPu0+5VxCVYhcZIjNrdXUDdp+Eq5AZ3Gkg8QAyVZRZIk4Tl4QAbF9cXJxNYZMAtAokgs4BrNxEpCtteXg7DDTMDKYNSuQdKsnJBek7HxewvxaosWxLYXtw+cJp18217wql4aKCfBNoEu0O5VU+PhctJ0YeXD4C6JQpyrlpSLTojpGGGN5YwNziChdIZLk4lvLcFJ9jMX3QdiImY9bmGQU+TRUL5CHITTRlgF8D9ouD1MfmLoEPl5xokIumZ2cfgMpHt47IW9N64Hsh7wQYYjyIugWuF5fCqYncXRd5vPMWyizzvhi/32+nvG0dZc9vR6fZOu0md5e+uC408FvKSIOZwXlGvxPv95izA2Vtvg1xKFWARI+vMX66HUhpQQb643uW1bSjuTWyw2SBvDrBvjFic1eGGlz5esq3ko9uSIlBRqPuFcCv8F4WIcN12nVaBd0SaYwI6PDDImR11JkqgHcPmQssjxIn6bUshygDFJUTxPMpHk+jfjPgupgdnYV2R/g7xSjtpah8RJBewhwf0gGK6XI92u4wXFEU40afJ4DN4h5LcAd+40HI3JgJecuT0c062W0i2hQJUTcxan3/CMW1PF2K6bbA+Daz4xRs1D3Br1Cm0OihKCqizW78/nXAF/G5TXrEcVzaNMH6CyMswqsAHqDyDLEyou8lwOXnKF8DjI6KjV3KzMBiXkDH8ij/H214J5A596ekrZ3F0zXlWeL7+P5eUrNo3/QwC15uxthuzidy7DzKRwEDaAViiDgKbTbz7CJnzo0bN7pIfIiid8SuPwn25o3QCmpnyjlZkyxPP8EomCJzrGb7GJMx7tNsq4MT2xMUYaiErZOluTzKsnz3gwCeCZyVRZJfYplNEokEjwrPtxlxjeYAk+F1F74VAzPxQRNYYdtpOUvWs8J1sGhBJMNsb7igN8plJs1eSmLIhLKE4rvaCX27gOhLpLOsIzJ7qn/i+wZzcvSOZ23/du8TZjwV8zHIXoP4R3ifBxiFz1dcVpa3aPntPE+c6TmIWE9EtcMmAcPdWAhYhAXxcLOQi9L1WhD1Sc8p1d2oL7XGiRKp8F4A2i8K/nfI+y/gsTDJ/YC/8+AD5Uh04KHiGl+cIFPnBDDrPMjwRGkLXyxO4VGbfQWnDH2v0bVWE3C9QOXlepbgjEfIJQI6XDG3z5ahD9cw2pS78ipB85wyScNTvsVzlzzhL8/jRrnmVjfFJK/m3m4nj9vbgQTguT8XZTjsm672R5uJKEaQmBI/c58gyus8ZDagLpEVSJBIyHp4jn++xqPV71OgQgJYEWOtZ/haxRtKmWOBu8xdBLftWltsY84zE6WIEy/eIOWL+BaayMx+KHtL7EAkqdNDLiEXmEMUHniedtJqg9HmZtfvt26vNi0BdG3Ft3g8ZOf7PAu59TxtzivLNIekyi+wD1i8CuUiD9FXAa8C+/xS3JPmZnomyc7H+fb4/Se0bk41Fel621r4cgVxbq91V4jVqwB7HTe2M7jgB+QWHavZkDRPmZcASoZEmBx6i75bGjPcMdL4/VKGFAGWZkGzPG0XAbdL9A81G5LOmUnC9hHKJeO7dcUMjblSl12867ElFTtaGl20xvvLGPdVz/8TVuU7y0x1PG7vtNg24oz9Uo/Z412++VFWI7Fcog9tu9Lm6gvRmIPv9x1xmQAu6RDkXtbOtlGEmpgD5Nvnyc0dcv0EE6cfdi1HmhMf9wDF3k3gtRvEedhxjpgfqPb9PU9iEJHnyOUA7bQUXh6kq/D7l2iTjWv7XOD530BDr8jIrus+srXjt4MzumJMHuTsBa63YKE1+RR5lBjEikCCnWKWiHdzOgKO+nRIBAF88za/IFmJ3eMZov4CYxGBabcpGL8EYx+SeMXJeRwHNsV/h+vdxeuhEpN3ZyNY78Gm2fknJxVGhyjixPiQvVkNzT1elD9Py/aTAL64Hb9vcYmC9zfdXdT/C1LeGbg4rnBaAihDFJH12W5ulfNCNe/xTsP3bp8ikzJs5BF+5PNfAQYAPaseTdsEcaYAAAAASUVORK5CYII="}},computed:{iconSnowWidth(){return(Math.floor(this.iconSize/24)||1)*2},contentdownText(){return this.contentText.contentdown||Wn("uni-load-more.contentdown")},contentrefreshText(){return this.contentText.contentrefresh||Wn("uni-load-more.contentrefresh")},contentnomoreText(){return this.contentText.contentnomore||Wn("uni-load-more.contentnomore")}},mounted(){var e=getCurrentPages(),t=e[e.length-1],i=t.$getAppWebview();i.addEventListener("hide",()=>{this.webviewHide=!0}),i.addEventListener("show",()=>{this.webviewHide=!1})},methods:{onClick(){this.$emit("clickLoadMore",{detail:{status:this.status}})}}};function Uu(e,t,i,a,n,s){return(0,be.openBlock)(),(0,be.createElementBlock)("view",{class:"uni-load-more",onClick:t[0]||(t[0]=(...o)=>s.onClick&&s.onClick(...o)),renderWhole:!0},[!n.webviewHide&&i.status==="loading"&&i.showIcon?((0,be.openBlock)(),(0,be.createElementBlock)("loading-indicator",{key:0,style:(0,be.normalizeStyle)({color:i.color,width:i.iconSize+"px",height:i.iconSize+"px"}),animating:!0,class:"uni-load-more__img uni-load-more__img--nvue"},null,4)):(0,be.createCommentVNode)("",!0),i.showText?((0,be.openBlock)(),(0,be.createElementBlock)("u-text",{key:1,class:"uni-load-more__text",style:(0,be.normalizeStyle)({color:i.color})},(0,be.toDisplayString)(i.status==="more"?s.contentdownText:i.status==="loading"?s.contentrefreshText:s.contentnomoreText),5)):(0,be.createCommentVNode)("",!0)])}var Qs=E(Bu,[["render",Uu],["styles",[Pu]]]);var Q=K(q()),Hu={"l-img":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"place-img":{"":{position:"absolute",top:0,left:0}},"text-place":{"":{color:"#999999",position:"absolute",bottom:0,textAlign:"center"}}},Wu={name:"LImg",emits:["click","onError","onLoad"],props:{src:{type:String,default:""},mode:{type:String,default:"aspectFill"},w:{type:String,default:"0"},h:{type:String,default:"0"},radius:{type:String,default:"0"},lazyLoad:{type:Boolean,default:!1},fade:{type:Boolean,default:!0},placeType:{type:Number,default:0},placeW:{type:String,default:""},placeFontSize:{type:[String,Boolean],default:""},placeBottom:{type:String,default:""},border:{type:String,default:""},otherStyle:{type:Object,default(){return{}}},click:{type:Boolean,default:!0},isGif:{type:Boolean,default:!1},needStyle:{type:[String,Number],default:0},useCache:{type:Boolean,default:!1},fitWH:{type:String,default:""}},data(){return{errorCount:1,path:"",refresh:!0,darkDir:"",isLoad:!1,fitStr:""}},watch:{src(){this.isLoad=!1,this.path=this.parse()}},computed:{placeSrc(){return this.placeType==1?"/static/img_load_s.png":this.placeType==2?"/static/img_load_b.png":""},placeViewStyle(){let e={width:this.placeW,height:this.placeW,position:"relative"};return this.placeBottom&&(e.marginBottom=this.placeBottom),e},placeFontSizeVal(){return this.placeFontSize===!1?"":this.placeFontSize?this.placeFontSize:this.placeType==2?"24rpx":"16rpx"},borderStyle(){if(this.border=="")return{};let e={},t=this.border.split(" ");return e.borderWidth=t[0],e.borderStyle=t[1],e.borderColor=t[2],e},viewStyle(){let e={width:this.w,minWidth:this.w,height:this.h,minHeight:this.h};return this.setRadius(e)},imgStyle(){let e={width:this.w,height:this.h};return e=Object.assign(e,this.otherStyle),this.setRadius(e)},ossPathOriginal(){return this.isGif?getApp().globalData.ossPath:getApp().globalData.ossPicPath}},methods:{$str:p,clickImg(e){this.click&&this.$emit("click",e)},setRadius(e){let t=this.radius.split(" ");return t.length<=1?e.borderRadius=this.radius:(e.borderTopLeftRadius=t[0],e.borderTopRightRadius=t[1],e.borderBottomRightRadius=t[2],e.borderBottomLeftRadius=t[3]),e},onLoadError(){if(this.path){if(this.path.startsWith("http")){if(this.errorCount>2){this.isError=!0,this.$emit("onError");return}this.errorCount+=1,this.refresh=!1,setTimeout(()=>{this.refresh=!0},500);return}this.path=this.ossPathOriginal+this.darkDir+this.src,bs(this.darkDir+this.src)}},onLoad(){this.isLoad=!0,this.$emit("onLoad")},parse(){let e;if(e=0,this.src.startsWith("/static"))return this.src;if(this.src.startsWith("s/")){let t=getApp().getAppFilePath(this.darkDir+this.src,e);if(!f(t))return t}return this.useCache||e&&m.isAndroid?this.isGif?Oe(this.fitStr+this.darkDir+this.src):ht(this.fitStr+this.darkDir+this.src):this.src.startsWith("file://")?this.src:this.src.startsWith("/var/mobile/")?"file://"+this.src:this.src.startsWith("/storage/")?this.src:this.ossPathOriginal+this.fitStr+this.darkDir+this.src}},created(){this.needStyle==1&&getApp().globalData.themeObj.style==Z.DARK?this.darkDir="dark/":this.darkDir="",this.fitWH&&this.src.indexOf("fit-in")==-1&&(this.fitStr="fit-in/"+this.fitWH+"/"),this.path=this.parse()}};function Gu(e,t,i,a,n,s){return(0,Q.openBlock)(),(0,Q.createElementBlock)("view",{class:"l-img",onClick:t[2]||(t[2]=(...o)=>s.clickImg&&s.clickImg(...o)),style:(0,Q.normalizeStyle)([s.viewStyle,s.borderStyle]),renderWhole:!0},[(0,Q.createElementVNode)("view",{class:"l-img",style:(0,Q.normalizeStyle)([{position:"relative"},s.viewStyle])},[i.placeType&&!n.isLoad?((0,Q.openBlock)(),(0,Q.createElementBlock)("view",{key:0,style:(0,Q.normalizeStyle)(s.placeViewStyle)},[(0,Q.createElementVNode)("u-image",{src:s.placeSrc,style:(0,Q.normalizeStyle)({width:i.placeW,height:i.placeW})},null,12,["src"]),s.placeFontSizeVal?((0,Q.openBlock)(),(0,Q.createElementBlock)("u-text",{key:0,class:"text-place",style:(0,Q.normalizeStyle)({fontSize:s.placeFontSizeVal,width:i.placeW})},(0,Q.toDisplayString)(s.$str("loading"))+"...",5)):(0,Q.createCommentVNode)("",!0)],4)):(0,Q.createCommentVNode)("",!0),n.refresh?((0,Q.openBlock)(),(0,Q.createElementBlock)("u-image",{key:1,onError:t[0]||(t[0]=(...o)=>s.onLoadError&&s.onLoadError(...o)),onLoad:t[1]||(t[1]=(...o)=>s.onLoad&&s.onLoad(...o)),src:n.path,mode:i.mode,lazyLoad:i.lazyLoad,fadeShow:i.fade,style:(0,Q.normalizeStyle)([s.imgStyle,s.borderStyle]),class:"place-img"},null,44,["src","mode","lazyLoad","fadeShow"])):(0,Q.createCommentVNode)("",!0)],4)],4)}var N=E(Wu,[["render",Gu],["styles",[Hu]]]);var de=K(q());var lt=K(q());var $u={props:{text:{type:[String,Number],default:""},type:{type:String,default:"title"},useText:{type:[Number,Boolean],default:!1},colorVal:{type:String,default:""}},computed:{color(){return this.colorVal?this.colorVal:getApp().globalData.themeObj.color[this.type]}}};function Vu(e,t,i,a,n,s){return(0,lt.openBlock)(),(0,lt.createElementBlock)("u-text",{style:(0,lt.normalizeStyle)({color:s.color})},(0,lt.toDisplayString)(i.text),5)}var ee=E($u,[["render",Vu]]);var ju={"column-center":{"":{flexDirection:"column",alignItems:"center"}}},zu={components:{MText:ee,LImg:N},props:{imgUrl:{type:String,default:""},tip:{type:String,default:""},tipColor:{type:String,default:"desc"}}};function Yu(e,t,i,a,n,s){let o=S((0,de.resolveDynamicComponent)("l-img"),N),l=(0,de.resolveComponent)("m-text");return(0,de.openBlock)(),(0,de.createElementBlock)("view",{class:"column-center",renderWhole:!0},[(0,de.createVNode)(o,{src:i.imgUrl,"need-style":1,w:"194rpx",h:"168rpx"},null,8,["src"]),(0,de.createVNode)(l,{text:i.tip,type:i.tipColor,style:{"text-align":"center","font-size":"28rpx","margin-top":"48rpx","line-height":"40rpx",opacity:".8"}},null,8,["text","type"])])}var er=E(zu,[["render",Yu],["styles",[ju]]]),Ku={"column-center":{"":{flexDirection:"column",alignItems:"center"}}},Ju={components:{MText:ee},props:{imgUrl:{type:String,default:""},tip:{type:String,default:""},tipColor:{type:String,default:"desc"}}};function qu(e,t,i,a,n,s){let o=S((0,de.resolveDynamicComponent)("l-img"),N),l=(0,de.resolveComponent)("m-text");return(0,de.openBlock)(),(0,de.createElementBlock)("view",{class:"column-center",renderWhole:!0},[(0,de.createVNode)(o,{src:i.imgUrl,"need-style":1,w:"194rpx",h:"168rpx"},null,8,["src"]),(0,de.createVNode)(l,{text:i.tip,"use-text":1,type:i.tipColor,style:{"text-align":"center","font-size":"28rpx","margin-top":"48rpx","line-height":"40rpx",opacity:".8"}},null,8,["text","type"])])}var tr=E(Ju,[["render",qu],["styles",[Ku]]]);var k=K(q());var ct=K(q());var Xu={id:"2852637",name:"uniui\u56FE\u6807\u5E93",font_family:"uniicons",css_prefix_text:"uniui-",description:"",glyphs:[{icon_id:"25027049",name:"yanse",font_class:"color",unicode:"e6cf",unicode_decimal:59087},{icon_id:"25027048",name:"wallet",font_class:"wallet",unicode:"e6b1",unicode_decimal:59057},{icon_id:"25015720",name:"settings-filled",font_class:"settings-filled",unicode:"e6ce",unicode_decimal:59086},{icon_id:"25015434",name:"shimingrenzheng-filled",font_class:"auth-filled",unicode:"e6cc",unicode_decimal:59084},{icon_id:"24934246",name:"shop-filled",font_class:"shop-filled",unicode:"e6cd",unicode_decimal:59085},{icon_id:"24934159",name:"staff-filled-01",font_class:"staff-filled",unicode:"e6cb",unicode_decimal:59083},{icon_id:"24932461",name:"VIP-filled",font_class:"vip-filled",unicode:"e6c6",unicode_decimal:59078},{icon_id:"24932462",name:"plus_circle_fill",font_class:"plus-filled",unicode:"e6c7",unicode_decimal:59079},{icon_id:"24932463",name:"folder_add-filled",font_class:"folder-add-filled",unicode:"e6c8",unicode_decimal:59080},{icon_id:"24932464",name:"yanse-filled",font_class:"color-filled",unicode:"e6c9",unicode_decimal:59081},{icon_id:"24932465",name:"tune-filled",font_class:"tune-filled",unicode:"e6ca",unicode_decimal:59082},{icon_id:"24932455",name:"a-rilidaka-filled",font_class:"calendar-filled",unicode:"e6c0",unicode_decimal:59072},{icon_id:"24932456",name:"notification-filled",font_class:"notification-filled",unicode:"e6c1",unicode_decimal:59073},{icon_id:"24932457",name:"wallet-filled",font_class:"wallet-filled",unicode:"e6c2",unicode_decimal:59074},{icon_id:"24932458",name:"paihangbang-filled",font_class:"medal-filled",unicode:"e6c3",unicode_decimal:59075},{icon_id:"24932459",name:"gift-filled",font_class:"gift-filled",unicode:"e6c4",unicode_decimal:59076},{icon_id:"24932460",name:"fire-filled",font_class:"fire-filled",unicode:"e6c5",unicode_decimal:59077},{icon_id:"24928001",name:"refreshempty",font_class:"refreshempty",unicode:"e6bf",unicode_decimal:59071},{icon_id:"24926853",name:"location-ellipse",font_class:"location-filled",unicode:"e6af",unicode_decimal:59055},{icon_id:"24926735",name:"person-filled",font_class:"person-filled",unicode:"e69d",unicode_decimal:59037},{icon_id:"24926703",name:"personadd-filled",font_class:"personadd-filled",unicode:"e698",unicode_decimal:59032},{icon_id:"24923351",name:"back",font_class:"back",unicode:"e6b9",unicode_decimal:59065},{icon_id:"24923352",name:"forward",font_class:"forward",unicode:"e6ba",unicode_decimal:59066},{icon_id:"24923353",name:"arrowthinright",font_class:"arrow-right",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923353",name:"arrowthinright",font_class:"arrowthinright",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrow-left",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrowthinleft",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923355",name:"arrowthinup",font_class:"arrow-up",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923355",name:"arrowthinup",font_class:"arrowthinup",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923356",name:"arrowthindown",font_class:"arrow-down",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923356",name:"arrowthindown",font_class:"arrowthindown",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923349",name:"arrowdown",font_class:"bottom",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923349",name:"arrowdown",font_class:"arrowdown",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923346",name:"arrowright",font_class:"right",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923346",name:"arrowright",font_class:"arrowright",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923347",name:"arrowup",font_class:"top",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923347",name:"arrowup",font_class:"arrowup",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923348",name:"arrowleft",font_class:"left",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923348",name:"arrowleft",font_class:"arrowleft",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923334",name:"eye",font_class:"eye",unicode:"e651",unicode_decimal:58961},{icon_id:"24923335",name:"eye-filled",font_class:"eye-filled",unicode:"e66a",unicode_decimal:58986},{icon_id:"24923336",name:"eye-slash",font_class:"eye-slash",unicode:"e6b3",unicode_decimal:59059},{icon_id:"24923337",name:"eye-slash-filled",font_class:"eye-slash-filled",unicode:"e6b4",unicode_decimal:59060},{icon_id:"24923305",name:"info-filled",font_class:"info-filled",unicode:"e649",unicode_decimal:58953},{icon_id:"24923299",name:"reload-01",font_class:"reload",unicode:"e6b2",unicode_decimal:59058},{icon_id:"24923195",name:"mic_slash_fill",font_class:"micoff-filled",unicode:"e6b0",unicode_decimal:59056},{icon_id:"24923165",name:"map-pin-ellipse",font_class:"map-pin-ellipse",unicode:"e6ac",unicode_decimal:59052},{icon_id:"24923166",name:"map-pin",font_class:"map-pin",unicode:"e6ad",unicode_decimal:59053},{icon_id:"24923167",name:"location",font_class:"location",unicode:"e6ae",unicode_decimal:59054},{icon_id:"24923064",name:"starhalf",font_class:"starhalf",unicode:"e683",unicode_decimal:59011},{icon_id:"24923065",name:"star",font_class:"star",unicode:"e688",unicode_decimal:59016},{icon_id:"24923066",name:"star-filled",font_class:"star-filled",unicode:"e68f",unicode_decimal:59023},{icon_id:"24899646",name:"a-rilidaka",font_class:"calendar",unicode:"e6a0",unicode_decimal:59040},{icon_id:"24899647",name:"fire",font_class:"fire",unicode:"e6a1",unicode_decimal:59041},{icon_id:"24899648",name:"paihangbang",font_class:"medal",unicode:"e6a2",unicode_decimal:59042},{icon_id:"24899649",name:"font",font_class:"font",unicode:"e6a3",unicode_decimal:59043},{icon_id:"24899650",name:"gift",font_class:"gift",unicode:"e6a4",unicode_decimal:59044},{icon_id:"24899651",name:"link",font_class:"link",unicode:"e6a5",unicode_decimal:59045},{icon_id:"24899652",name:"notification",font_class:"notification",unicode:"e6a6",unicode_decimal:59046},{icon_id:"24899653",name:"staff",font_class:"staff",unicode:"e6a7",unicode_decimal:59047},{icon_id:"24899654",name:"VIP",font_class:"vip",unicode:"e6a8",unicode_decimal:59048},{icon_id:"24899655",name:"folder_add",font_class:"folder-add",unicode:"e6a9",unicode_decimal:59049},{icon_id:"24899656",name:"tune",font_class:"tune",unicode:"e6aa",unicode_decimal:59050},{icon_id:"24899657",name:"shimingrenzheng",font_class:"auth",unicode:"e6ab",unicode_decimal:59051},{icon_id:"24899565",name:"person",font_class:"person",unicode:"e699",unicode_decimal:59033},{icon_id:"24899566",name:"email-filled",font_class:"email-filled",unicode:"e69a",unicode_decimal:59034},{icon_id:"24899567",name:"phone-filled",font_class:"phone-filled",unicode:"e69b",unicode_decimal:59035},{icon_id:"24899568",name:"phone",font_class:"phone",unicode:"e69c",unicode_decimal:59036},{icon_id:"24899570",name:"email",font_class:"email",unicode:"e69e",unicode_decimal:59038},{icon_id:"24899571",name:"personadd",font_class:"personadd",unicode:"e69f",unicode_decimal:59039},{icon_id:"24899558",name:"chatboxes-filled",font_class:"chatboxes-filled",unicode:"e692",unicode_decimal:59026},{icon_id:"24899559",name:"contact",font_class:"contact",unicode:"e693",unicode_decimal:59027},{icon_id:"24899560",name:"chatbubble-filled",font_class:"chatbubble-filled",unicode:"e694",unicode_decimal:59028},{icon_id:"24899561",name:"contact-filled",font_class:"contact-filled",unicode:"e695",unicode_decimal:59029},{icon_id:"24899562",name:"chatboxes",font_class:"chatboxes",unicode:"e696",unicode_decimal:59030},{icon_id:"24899563",name:"chatbubble",font_class:"chatbubble",unicode:"e697",unicode_decimal:59031},{icon_id:"24881290",name:"upload-filled",font_class:"upload-filled",unicode:"e68e",unicode_decimal:59022},{icon_id:"24881292",name:"upload",font_class:"upload",unicode:"e690",unicode_decimal:59024},{icon_id:"24881293",name:"weixin",font_class:"weixin",unicode:"e691",unicode_decimal:59025},{icon_id:"24881274",name:"compose",font_class:"compose",unicode:"e67f",unicode_decimal:59007},{icon_id:"24881275",name:"qq",font_class:"qq",unicode:"e680",unicode_decimal:59008},{icon_id:"24881276",name:"download-filled",font_class:"download-filled",unicode:"e681",unicode_decimal:59009},{icon_id:"24881277",name:"pengyouquan",font_class:"pyq",unicode:"e682",unicode_decimal:59010},{icon_id:"24881279",name:"sound",font_class:"sound",unicode:"e684",unicode_decimal:59012},{icon_id:"24881280",name:"trash-filled",font_class:"trash-filled",unicode:"e685",unicode_decimal:59013},{icon_id:"24881281",name:"sound-filled",font_class:"sound-filled",unicode:"e686",unicode_decimal:59014},{icon_id:"24881282",name:"trash",font_class:"trash",unicode:"e687",unicode_decimal:59015},{icon_id:"24881284",name:"videocam-filled",font_class:"videocam-filled",unicode:"e689",unicode_decimal:59017},{icon_id:"24881285",name:"spinner-cycle",font_class:"spinner-cycle",unicode:"e68a",unicode_decimal:59018},{icon_id:"24881286",name:"weibo",font_class:"weibo",unicode:"e68b",unicode_decimal:59019},{icon_id:"24881288",name:"videocam",font_class:"videocam",unicode:"e68c",unicode_decimal:59020},{icon_id:"24881289",name:"download",font_class:"download",unicode:"e68d",unicode_decimal:59021},{icon_id:"24879601",name:"help",font_class:"help",unicode:"e679",unicode_decimal:59001},{icon_id:"24879602",name:"navigate-filled",font_class:"navigate-filled",unicode:"e67a",unicode_decimal:59002},{icon_id:"24879603",name:"plusempty",font_class:"plusempty",unicode:"e67b",unicode_decimal:59003},{icon_id:"24879604",name:"smallcircle",font_class:"smallcircle",unicode:"e67c",unicode_decimal:59004},{icon_id:"24879605",name:"minus-filled",font_class:"minus-filled",unicode:"e67d",unicode_decimal:59005},{icon_id:"24879606",name:"micoff",font_class:"micoff",unicode:"e67e",unicode_decimal:59006},{icon_id:"24879588",name:"closeempty",font_class:"closeempty",unicode:"e66c",unicode_decimal:58988},{icon_id:"24879589",name:"clear",font_class:"clear",unicode:"e66d",unicode_decimal:58989},{icon_id:"24879590",name:"navigate",font_class:"navigate",unicode:"e66e",unicode_decimal:58990},{icon_id:"24879591",name:"minus",font_class:"minus",unicode:"e66f",unicode_decimal:58991},{icon_id:"24879592",name:"image",font_class:"image",unicode:"e670",unicode_decimal:58992},{icon_id:"24879593",name:"mic",font_class:"mic",unicode:"e671",unicode_decimal:58993},{icon_id:"24879594",name:"paperplane",font_class:"paperplane",unicode:"e672",unicode_decimal:58994},{icon_id:"24879595",name:"close",font_class:"close",unicode:"e673",unicode_decimal:58995},{icon_id:"24879596",name:"help-filled",font_class:"help-filled",unicode:"e674",unicode_decimal:58996},{icon_id:"24879597",name:"plus-filled",font_class:"paperplane-filled",unicode:"e675",unicode_decimal:58997},{icon_id:"24879598",name:"plus",font_class:"plus",unicode:"e676",unicode_decimal:58998},{icon_id:"24879599",name:"mic-filled",font_class:"mic-filled",unicode:"e677",unicode_decimal:58999},{icon_id:"24879600",name:"image-filled",font_class:"image-filled",unicode:"e678",unicode_decimal:59e3},{icon_id:"24855900",name:"locked-filled",font_class:"locked-filled",unicode:"e668",unicode_decimal:58984},{icon_id:"24855901",name:"info",font_class:"info",unicode:"e669",unicode_decimal:58985},{icon_id:"24855903",name:"locked",font_class:"locked",unicode:"e66b",unicode_decimal:58987},{icon_id:"24855884",name:"camera-filled",font_class:"camera-filled",unicode:"e658",unicode_decimal:58968},{icon_id:"24855885",name:"chat-filled",font_class:"chat-filled",unicode:"e659",unicode_decimal:58969},{icon_id:"24855886",name:"camera",font_class:"camera",unicode:"e65a",unicode_decimal:58970},{icon_id:"24855887",name:"circle",font_class:"circle",unicode:"e65b",unicode_decimal:58971},{icon_id:"24855888",name:"checkmarkempty",font_class:"checkmarkempty",unicode:"e65c",unicode_decimal:58972},{icon_id:"24855889",name:"chat",font_class:"chat",unicode:"e65d",unicode_decimal:58973},{icon_id:"24855890",name:"circle-filled",font_class:"circle-filled",unicode:"e65e",unicode_decimal:58974},{icon_id:"24855891",name:"flag",font_class:"flag",unicode:"e65f",unicode_decimal:58975},{icon_id:"24855892",name:"flag-filled",font_class:"flag-filled",unicode:"e660",unicode_decimal:58976},{icon_id:"24855893",name:"gear-filled",font_class:"gear-filled",unicode:"e661",unicode_decimal:58977},{icon_id:"24855894",name:"home",font_class:"home",unicode:"e662",unicode_decimal:58978},{icon_id:"24855895",name:"home-filled",font_class:"home-filled",unicode:"e663",unicode_decimal:58979},{icon_id:"24855896",name:"gear",font_class:"gear",unicode:"e664",unicode_decimal:58980},{icon_id:"24855897",name:"smallcircle-filled",font_class:"smallcircle-filled",unicode:"e665",unicode_decimal:58981},{icon_id:"24855898",name:"map-filled",font_class:"map-filled",unicode:"e666",unicode_decimal:58982},{icon_id:"24855899",name:"map",font_class:"map",unicode:"e667",unicode_decimal:58983},{icon_id:"24855825",name:"refresh-filled",font_class:"refresh-filled",unicode:"e656",unicode_decimal:58966},{icon_id:"24855826",name:"refresh",font_class:"refresh",unicode:"e657",unicode_decimal:58967},{icon_id:"24855808",name:"cloud-upload",font_class:"cloud-upload",unicode:"e645",unicode_decimal:58949},{icon_id:"24855809",name:"cloud-download-filled",font_class:"cloud-download-filled",unicode:"e646",unicode_decimal:58950},{icon_id:"24855810",name:"cloud-download",font_class:"cloud-download",unicode:"e647",unicode_decimal:58951},{icon_id:"24855811",name:"cloud-upload-filled",font_class:"cloud-upload-filled",unicode:"e648",unicode_decimal:58952},{icon_id:"24855813",name:"redo",font_class:"redo",unicode:"e64a",unicode_decimal:58954},{icon_id:"24855814",name:"images-filled",font_class:"images-filled",unicode:"e64b",unicode_decimal:58955},{icon_id:"24855815",name:"undo-filled",font_class:"undo-filled",unicode:"e64c",unicode_decimal:58956},{icon_id:"24855816",name:"more",font_class:"more",unicode:"e64d",unicode_decimal:58957},{icon_id:"24855817",name:"more-filled",font_class:"more-filled",unicode:"e64e",unicode_decimal:58958},{icon_id:"24855818",name:"undo",font_class:"undo",unicode:"e64f",unicode_decimal:58959},{icon_id:"24855819",name:"images",font_class:"images",unicode:"e650",unicode_decimal:58960},{icon_id:"24855821",name:"paperclip",font_class:"paperclip",unicode:"e652",unicode_decimal:58962},{icon_id:"24855822",name:"settings",font_class:"settings",unicode:"e653",unicode_decimal:58963},{icon_id:"24855823",name:"search",font_class:"search",unicode:"e654",unicode_decimal:58964},{icon_id:"24855824",name:"redo-filled",font_class:"redo-filled",unicode:"e655",unicode_decimal:58965},{icon_id:"24841702",name:"list",font_class:"list",unicode:"e644",unicode_decimal:58948},{icon_id:"24841489",name:"mail-open-filled",font_class:"mail-open-filled",unicode:"e63a",unicode_decimal:58938},{icon_id:"24841491",name:"hand-thumbsdown-filled",font_class:"hand-down-filled",unicode:"e63c",unicode_decimal:58940},{icon_id:"24841492",name:"hand-thumbsdown",font_class:"hand-down",unicode:"e63d",unicode_decimal:58941},{icon_id:"24841493",name:"hand-thumbsup-filled",font_class:"hand-up-filled",unicode:"e63e",unicode_decimal:58942},{icon_id:"24841494",name:"hand-thumbsup",font_class:"hand-up",unicode:"e63f",unicode_decimal:58943},{icon_id:"24841496",name:"heart-filled",font_class:"heart-filled",unicode:"e641",unicode_decimal:58945},{icon_id:"24841498",name:"mail-open",font_class:"mail-open",unicode:"e643",unicode_decimal:58947},{icon_id:"24841488",name:"heart",font_class:"heart",unicode:"e639",unicode_decimal:58937},{icon_id:"24839963",name:"loop",font_class:"loop",unicode:"e633",unicode_decimal:58931},{icon_id:"24839866",name:"pulldown",font_class:"pulldown",unicode:"e632",unicode_decimal:58930},{icon_id:"24813798",name:"scan",font_class:"scan",unicode:"e62a",unicode_decimal:58922},{icon_id:"24813786",name:"bars",font_class:"bars",unicode:"e627",unicode_decimal:58919},{icon_id:"24813788",name:"cart-filled",font_class:"cart-filled",unicode:"e629",unicode_decimal:58921},{icon_id:"24813790",name:"checkbox",font_class:"checkbox",unicode:"e62b",unicode_decimal:58923},{icon_id:"24813791",name:"checkbox-filled",font_class:"checkbox-filled",unicode:"e62c",unicode_decimal:58924},{icon_id:"24813794",name:"shop",font_class:"shop",unicode:"e62f",unicode_decimal:58927},{icon_id:"24813795",name:"headphones",font_class:"headphones",unicode:"e630",unicode_decimal:58928},{icon_id:"24813796",name:"cart",font_class:"cart",unicode:"e631",unicode_decimal:58929}]},Zu="/static/uniicons.ttf",Qu={"uni-icons":{"":{fontFamily:"uniicons",textDecoration:"none",textAlign:"center"}}},ed=weex.requireModule("dom");ed.addRule("fontFace",{fontFamily:"uniicons",src:"url('"+Zu+"')"});var td={name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""}},data(){return{icons:Xu.glyphs}},computed:{unicode(){let e=this.icons.find(t=>t.font_class===this.type);return e?unescape(`%u${e.unicode}`):""}},methods:{_onClick(e){this.$emit("click",e)}}};function id(e,t,i,a,n,s){return(0,ct.openBlock)(),(0,ct.createElementBlock)("u-text",{style:(0,ct.normalizeStyle)({color:i.color,"font-size":i.size}),class:"uni-icons",onClick:t[0]||(t[0]=(...o)=>s._onClick&&s._onClick(...o))},(0,ct.toDisplayString)(s.unicode),5)}var Xe=E(td,[["render",id],["styles",[Qu]]]);var Bt=K(q());var ir={};function Vn(e,t="",i={}){if(nd()&&typeof ir.fbEvent!="undefined")try{ir.fbEvent({event:e,valueToSum:t,params:i},function(){F("info","at comEvent/event.js:17",`fbEvent ${e} success`)},function(){F("error","at comEvent/event.js:19",`fbEvent ${e} error`)})}catch(a){}}function nd(){return!(!m.isAndroid&&m.appV<133)}function Mi(e,t){t==1?Vn("gift_total_click"):t==2&&Vn("gift_total_success"),Vn(`gift_${e}`)}var Ni={MSG:1,CALL:2,HOME:3,GAME:4,CLUB:5,GRAB:6,MOMENT:8};var ad={};function Ri(){return new Promise(e=>{M.request("/chat/gift/bag",{}).then(t=>{let i=t.data.list||[],a=rd(i),n={list:i,count:a};ue("gift_bag_"+getApp().globalData.uid,n),od(i),sd(i),e(n)})})}function sd(e){let t="gift_bag_swipe_current_"+getApp().globalData.uid,i="gift_bag_current_info_"+getApp().globalData.uid,a=te(t),n=te(i);if(f(e))a&&It(t),n&&It(i);else if(!n)ue(i,e[0]);else{let s="";for(let o=0,l=e.length;o<l;o++){let c=e[o];c.gift_id==n.gift_id&&(s=c)}f(s)?ue(i,e[0]):ue(i,s)}}function rd(e){let t=0;for(let i=0,a=e.length;i<a;i++)t+=e[i].num;return t}function od(e){for(let t=0,i=e.length;t<i;t++){let a=e[t];ad[a.gift_id]=a}}var ld={emits:["click"],components:{LImg:N},props:{user:{type:Object,default(){return{}}},w:{type:String,default:"0"},h:{type:String,default:"0"},radius:{type:String,default:"0"},setKey:{type:String,default:"small_avatar"},border:{type:String,default:""},placeType:{type:Number,default:1},placeW:{type:String,default:""},placeFontSize:{type:[String,Boolean],default:""},placeBottom:{type:String,default:""},click:{type:Boolean,default:!0},fromAdmin:{type:[Boolean,Number],default:!1},fromType:{type:Number,default:1},fade:{type:Boolean,default:!0}},computed:{avatarUrl(){return Hs(this.user,this.setKey,this.fromAdmin,this.fromType)}},methods:{clickAvatar(e){this.click&&this.$emit("click",e)}}};function cd(e,t,i,a,n,s){let o=S((0,Bt.resolveDynamicComponent)("l-img"),N);return(0,Bt.openBlock)(),(0,Bt.createBlock)(o,{onClick:s.clickAvatar,src:s.avatarUrl,w:i.w,h:i.h,radius:i.radius,border:i.border,"place-type":i.placeType,"place-w":i.placeW,"place-font-size":i.placeFontSize,"place-bottom":i.placeBottom,fade:i.fade},null,8,["onClick","src","w","h","radius","border","place-type","place-w","place-font-size","place-bottom","fade"])}var yt=E(ld,[["render",cd]]);function ud(){return getApp().globalData.appCRE||Ls(40,1,!1)?!0:(Fe(p("tips"),p("call40CoinsTip"),()=>{$("/pages/coin/coins")},"","Purchase"),!1)}function Oi(e,t,i){ud()&&dd(Xa.CALL,xi.VIDEO,Tn.CALL,e,t,null,i,Za.DEF)}function dd(e,t,i,a,n,s,o,l){if(F("error","at comCall/call.js:48","_openCall "+getApp().globalData.curCallId),f(a))return;if(a.uid==getApp().globalData.uid){if(i!=Tn.CALL)return;Qe(p("tips"),p("noCallSelf"),"",p("gotIt"));return}if(getApp().globalData.curCallId!=Jt.NONE)return;getApp().globalData.curCallId=Jt.WEEK_UP;let c=pd(e,t,i,a,n,s,o,l);ne("/pages/call/chat-view",{},"callViewData",c)}function pd(e,t,i,a,n,s,o,l){let c={user:a,roomType:e,callType:t,actionType:i,fromType:o,videoInfo:n,openType:l};return n&&(c.videoInfo=n),s&&(c.roomInfo=s,s.isGame&&(c.isGame=s.isGame)),c}var md=Le("animation"),fd={props:{id:{type:String,default:""},isTab:{type:Boolean,default:!1}},data(){return{sW:getApp().globalData.window.width,left:-getApp().globalData.window.width,show:!1,data:{},userInfo:{},club:{},animDoing:!1,animationData:{},list:[],listTwo:[]}},computed:{bottom(){let e=getApp().globalData.window.height*.2;return this.isTab?e-getApp().globalData.window.tabBarHeight-getApp().globalData.window.safeBottom:e},viewBg(){return getApp().globalData.themeObj.style==Z.LIGHT?"#000000":"#444444"}},methods:{clickThis(e){if(e&&e.stopPropagation(),this.data.type==6||this.data.type==8){let t=ve()?this.userInfo.uid:this.data.to_user.uid;this.openUserHome(t)}else if(this.data.type==9)ms();else if(this.data.type==13)$("/pagesMsg/notice/chat");else if(this.data.type==11||this.data.type==14)this.openClub();else if(this.data.type==15)Oi(this.userInfo,null,wi.RECOMMEND);else if(this.data.type==17){if(ot()=="/pagesPub/luck-draw/index")return;$("/pagesPub/luck-draw/index")}else this.openUserHome(this.userInfo.uid)},clickItem(e,t){if(e&&e.stopPropagation(),t.uid){if(this.data.type==17){if(ot()=="/pagesPub/luck-draw/index")return;$("/pagesPub/luck-draw/index");return}this.openUserHome(t.uid)}else t.clubId&&this.openClub()},openUserHome(e){ki(e)},openClub(){Ot(this.club.club_id,parseInt(this.club.is_member)==1?1:0,1)},anim(e,t,i,a){return new Promise(n=>{md.transition(this.$refs.animView,{styles:e,duration:t,timingFunction:a,needLayout:!1,delay:i},()=>{n()})})},startAnimIn(){return this.anim({transform:`translateX(${this.sW}px)`},1e3,0,"ease-out")},startAnimOut(){return this.anim({opacity:"0"},1e3,4e3,"linear")},startAnimReset(){return this.anim({opacity:"1",transform:`translateX(-${this.sW}px)`},50,0,"linear")},startAnimH5(e){let t=uni.createAnimation({timingFunction:"linear"});t.translateX(this.sW).step({duration:500,timingFunction:"ease-out"}),m.isAndroid?t.translateX(-this.sW).opacity(0).step({duration:1e3,delay:4e3}):(t.opacity(0).step({duration:1e3,delay:4e3}),t.translateX(-this.sW).step({duration:50})),t.opacity(1).step({duration:50}),this.animationData=t.export(),setTimeout(()=>{e()},6e3)},getTextItem(e,t,i,a){let n={color:t||"#0091FF"};return i!=0&&(n.maxWidth=`${i}rpx`),{type:1,text:e,extra:a,style:n}},getImgItem(e,t,i,a,n){return{type:2,url:e,width:"48rpx",height:"48rpx",radius:t||"4rpx",extra:n,style:{marginLeft:`${a}rpx`,marginRight:`${i}rpx`}}},getRightItem(){return{type:3}},getUserList(e,t){return[this.getImgItem(e.small_avatar,"","8",0,{uid:e.uid}),this.getTextItem(e.nickname,"",t,{uid:e.uid})]},getClubList(e,t){return[this.getImgItem(e.club_logo,"","8",0,{clubId:e.club_id}),this.getTextItem(e.club_name,"",t,{clubId:e.club_id})]},parseList(e,t){let i=[],a=e.split(/(\[%\w+%\])/).filter(function(n){return n!==""});for(let n=0,s=a.length;n<s;n++){let o=a[n];if(o.startsWith("[%")){let c=o.replace(/[\s+,\[%,%\]]/g,""),u=t[c];u&&(i=[...i,...u])}else{let c={};i.push({type:0,content:o,style:c})}}return i},parseVip(){let e;return this.data.date_type==1?e=ts(this.data.vip_time):this.data.date_type==2?e=is(this.data.vip_time):this.data.date_type==3&&(e=ns(this.data.vip_time)),this.parseList(p("noticeS.vip"),{name:this.getUserList(this.userInfo,"140"),time:[{type:0,content:e}]})},parseRecharge(){return this.parseList(p("noticeS.recharge"),{name:this.getUserList(this.userInfo,"140"),coin:[{type:0,content:this.data.money}]})},parseChecked(){return this.parseList(p("noticeS.check"),{name:this.getUserList(this.userInfo,"140")})},parseFollow(){return this.parseList(p("noticeS.follow"),{name:this.getUserList(this.userInfo,"140")})},parseOnline(){return this.parseList(p("noticeS.online"),{name:this.getUserList(this.userInfo,"140")})},parseCall(){let e=parseInt(this.data.call_duration);e=isNaN(e)?1:Math.ceil(e/60);let t=`${e} ${as(e)}`;return this.listTwo=this.parseList(p("noticeS.callTwo",{time:t}),{name:[this.getTextItem(this.data.to_user.nickname,"","140",{uid:this.data.to_user.uid})]}),this.parseList(p("noticeS.callOne",{chatType:ss(this.data.call_type)}),{name:this.getUserList(this.userInfo,"140"),avatar:[this.getImgItem(this.data.to_user.small_avatar,"","8",0,{uid:this.data.to_user.uid})]})},parseGift(){return this.parseList(p("noticeS.gift"),{user:this.getUserList(this.userInfo,"140"),to_user:this.getUserList(this.data.to_user,"140"),gift:[this.getImgItem(this.data.gift_icon,0,0,0,null),{type:0,content:`x${this.data.gift_num}`}]})},parseGameLucky(){return this.listTwo=this.parseList(p("noticeS.gameLuckyTwo",{number:this.data.bonus}),{}),this.parseList(p("noticeS.gameLuckyOne"),{name:this.getUserList(this.userInfo,"140")})},parseRankingRecommend(){return this.listTwo=[this.getImgItem(this.userInfo.small_avatar,0,"8",0,{uid:this.userInfo.uid}),this.getTextItem(this.userInfo.nickname,"","240",{uid:this.userInfo.uid}),this.getRightItem()],this.parseList(p("noticeS.rankingRecommend",{number:this.data.rank}),{})},parseClubGift(){return this.listTwo=[{type:0,content:p("noticeS.clubGift2")},this.getRightItem()],this.parseList(p("noticeS.clubGift1"),{club:this.getClubList(this.club,"180")})},parseClubInvite(){let e=this.parseList(p("noticeS.clubInvite"),{user:this.getUserList(this.userInfo,"100"),club:this.getClubList(this.club,"120")});return e.push(this.getRightItem()),e},parseClubRecommend(){let e=this.parseList(p("noticeS.clubRecommend"),{club:this.getClubList(this.club,"140")});return e.push(this.getRightItem()),e},parseCallRecommend(){return this.listTwo=this.parseList(p("noticeS.callRecommend2",{whom:ti(this.userInfo.sex)}),{}),this.parseList(p("noticeS.callRecommend1"),{user:this.getUserList(this.userInfo,"120")})},parseBoostUser(){return this.listTwo=this.parseList(p("noticeS.boostUser2"),{}),this.parseList(p("noticeS.boostUser1",{himself:rs(this.userInfo.sex)}),{user:this.getUserList(this.userInfo,"120")})},parsePrizeWheel(){let e,t;if(this.data.bonus_list.length>1)e=!1;else{let i=this.data.bonus_list[0];i.type==_i.BOX?(e=i.result.type==_i.GIFT,t=i.result):(e=i.type==_i.GIFT,t=i)}return e?this.listTwo=this.parseList(p("noticeS.prizeWheelTwo"),{prize:[this.getImgItem(t.icon,0,0,0,null),{type:0,content:t.num>1?`x${t.num}`:""}]}):this.listTwo=this.parseList(p("noticeS.prizeWheelTwo"),{prize:[this.getTextItem(An(this.data.total_bonus),"#FFFFFF",0,{})]}),this.parseList(p("noticeS.prizeWheelOne"),{user:this.getUserList(this.userInfo,"120")})},parseNodes(){switch(this.data.type){case 1:return this.listTwo=[],this.parseVip();case 2:return this.listTwo=[],this.parseRecharge();case 3:return this.listTwo=[],this.parseChecked();case 4:return this.listTwo=[],this.parseFollow();case 5:return this.listTwo=[],this.parseOnline();case 6:return this.parseCall();case 8:return this.listTwo=[],this.parseGift();case 9:return this.parseGameLucky();case 10:return this.parseRankingRecommend();case 11:return this.parseClubGift();case 13:return this.listTwo=[],this.parseClubInvite();case 14:return this.listTwo=[],this.parseClubRecommend();case 15:return getApp().globalData.appCRE?this.parseCallRecommend():null;case 16:return this.parseBoostUser();case 17:return this.parsePrizeWheel();default:return null}},parseData(e,t){this.list=[],this.data=e,this.userInfo=this.data.user_info,this.club=this.data.club_info;let i=this.parseNodes();if(i==null){typeof t=="function"&&t(!1);return}this.list=i,this.$nextTick(()=>{t(!0)})},open(e){e.type==17&&e.user_info.uid==getApp().globalData.uid||this.animDoing||(this.animDoing=!0,this.show=!0,this.parseData(e,t=>{if(!t){this.animDoing=!1;return}let i=setTimeout(()=>{this.animDoing&&(this.animDoing=!1)},1e4);this.startAnimIn().then(()=>this.startAnimOut()).then(()=>this.startAnimReset()).then(()=>{clearTimeout(i),this.show=!1,this.animDoing=!1})}))}},created(){uni.$on(`event_${this.id}`,this.open)},unmounted(){uni.$off(`event_${this.id}`,this.open)}},gd={"view-notice":{"":{borderRadius:"8rpx",paddingTop:"10rpx",paddingRight:"10rpx",paddingBottom:"10rpx",paddingLeft:"10rpx"}},"view-content":{"":{alignItems:"center",flexWrap:"wrap",flexDirection:"row"}},text:{"":{fontSize:"24rpx"}},"text-def":{"":{color:"#FFFFFF"}},"text-s":{"":{lines:1,textOverflow:"ellipsis",wordWrap:"anywhere"}}},hd={mixins:[fd]};function _d(e,t,i,a,n,s){let o=S((0,k.resolveDynamicComponent)("l-img"),N),l=S((0,k.resolveDynamicComponent)("uni-icons"),Xe);return(0,k.openBlock)(),(0,k.createElementBlock)("view",{style:(0,k.normalizeStyle)([{bottom:`${e.bottom}px`},{position:"fixed",left:"0","z-index":"9999"}]),renderWhole:!0},[e.show?((0,k.openBlock)(),(0,k.createElementBlock)("view",{key:0,ref:"animView",onClick:t[0]||(t[0]=(...c)=>e.clickThis&&e.clickThis(...c)),animation:e.animationData,class:"view-notice",style:(0,k.normalizeStyle)({left:`${e.left}px`,background:e.viewBg})},[(0,k.createElementVNode)("view",{style:{"align-items":"center","flex-direction":"row"}},[(0,k.createElementVNode)("view",null,[(0,k.createElementVNode)("view",{class:"view-content"},[((0,k.openBlock)(!0),(0,k.createElementBlock)(k.Fragment,null,(0,k.renderList)(e.list,(c,u)=>((0,k.openBlock)(),(0,k.createElementBlock)("view",{key:u},[c.type==0?((0,k.openBlock)(),(0,k.createElementBlock)("u-text",{key:0,class:"text text-def",style:(0,k.normalizeStyle)(c.style)},(0,k.toDisplayString)(c.content),5)):c.type==1?((0,k.openBlock)(),(0,k.createElementBlock)("u-text",{key:1,onClick:(0,k.withModifiers)(d=>e.clickItem(d,c.extra),["stop"]),class:"text text-s",style:(0,k.normalizeStyle)(c.style)},(0,k.toDisplayString)(c.text),13,["onClick"])):c.type==2?((0,k.openBlock)(),(0,k.createBlock)(o,{key:2,onClick:(0,k.withModifiers)(d=>e.clickItem(d,c.extra),["stop"]),src:c.url,w:c.width,h:c.height,radius:c.radius,style:(0,k.normalizeStyle)(c.style)},null,8,["onClick","src","w","h","radius","style"])):c.type==3?((0,k.openBlock)(),(0,k.createBlock)(l,{key:3,type:"right",size:"26rpx",color:"rgba(255,255,255,0.6)"})):(0,k.createCommentVNode)("",!0)]))),128))]),e.listTwo.length>0?((0,k.openBlock)(),(0,k.createElementBlock)("view",{key:0,class:"view-content",style:{"margin-top":"4rpx"}},[((0,k.openBlock)(!0),(0,k.createElementBlock)(k.Fragment,null,(0,k.renderList)(e.listTwo,(c,u)=>((0,k.openBlock)(),(0,k.createElementBlock)("view",{key:"a"+u},[c.type==0?((0,k.openBlock)(),(0,k.createElementBlock)("u-text",{key:0,class:"text text-def",style:(0,k.normalizeStyle)(c.style)},(0,k.toDisplayString)(c.content),5)):c.type==1?((0,k.openBlock)(),(0,k.createElementBlock)("u-text",{key:1,onClick:(0,k.withModifiers)(d=>e.clickItem(d,c.extra),["stop"]),class:"text text-s",style:(0,k.normalizeStyle)(c.style)},(0,k.toDisplayString)(c.text),13,["onClick"])):c.type==2?((0,k.openBlock)(),(0,k.createBlock)(o,{key:2,onClick:(0,k.withModifiers)(d=>e.clickItem(d,c.extra),["stop"]),src:c.url,w:c.width,h:c.height,radius:c.radius,style:(0,k.normalizeStyle)(c.style)},null,8,["onClick","src","w","h","radius","style"])):c.type==3?((0,k.openBlock)(),(0,k.createBlock)(l,{key:3,type:"right",size:"26rpx",color:"rgba(255,255,255,0.6)"})):(0,k.createCommentVNode)("",!0)]))),128))])):(0,k.createCommentVNode)("",!0)]),e.data.type==15?((0,k.openBlock)(),(0,k.createBlock)(o,{key:0,onClick:e.clickThis,src:"s/call/video_def.png",w:"48rpx",h:"48rpx",style:{"margin-left":"16rpx"}},null,8,["onClick"])):(0,k.createCommentVNode)("",!0)])],12,["animation"])):(0,k.createCommentVNode)("",!0)],4)}var nr=E(hd,[["render",_d],["styles",[gd]]]);var w=K(q());var Pe=K(q());var yd=Le("animation"),Fi=class{constructor(t,i){this.options=t,this.animation=uni.createAnimation(t),this.currentStepAnimates={},this.next=0,this.$=i}_nvuePushAnimates(t,i){let a=this.currentStepAnimates[this.next],n={};if(a?n=a:n={styles:{},config:{}},sr.includes(t)){n.styles.transform||(n.styles.transform="");let s="";t==="rotate"&&(s="deg"),n.styles.transform+=`${t}(${i+s}) `}else n.styles[t]=`${i}`;this.currentStepAnimates[this.next]=n}_animateRun(t={},i={}){let a=this.$.$refs.ani.ref;if(a)return new Promise((n,s)=>{yd.transition(a,Qi({styles:t},i),o=>{n()})})}_nvueNextAnimate(t,i=0,a){let n=t[i];if(n){let{styles:s,config:o}=n;this._animateRun(s,o).then(()=>{i+=1,this._nvueNextAnimate(t,i,a)})}else this.currentStepAnimates={},typeof a=="function"&&a(),this.isEnd=!0}step(t={}){return this.currentStepAnimates[this.next].config=Object.assign({},this.options,t),this.currentStepAnimates[this.next].styles.transformOrigin=this.currentStepAnimates[this.next].config.transformOrigin,this.next++,this}run(t){this.isEnd=!1,this.$.$refs.ani&&this.$.$refs.ani.ref&&(this._nvueNextAnimate(this.currentStepAnimates,0,t),this.next=0)}},sr=["matrix","matrix3d","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","translate","translate3d","translateX","translateY","translateZ"],bd=["opacity","backgroundColor"],xd=["width","height","left","right","top","bottom"];sr.concat(bd,xd).forEach(e=>{Fi.prototype[e]=function(...t){return this._nvuePushAnimates(e,t),this}});function ar(e,t){if(t)return clearTimeout(t.timer),new Fi(e,t)}var wd={name:"uniTransition",emits:["click","change"],props:{show:{type:Boolean,default:!1},modeClass:{type:[Array,String],default(){return"fade"}},duration:{type:Number,default:300},styles:{type:Object,default(){return{}}},customClass:{type:String,default:""}},data(){return{isShow:!1,transform:"",opacity:1,animationData:{},durationTime:300,config:{}}},watch:{show:{handler(e){e?this.open():this.isShow&&this.close()},immediate:!0}},computed:{stylesObject(){let e=oa(Qi({},this.styles),{"transition-duration":this.duration/1e3+"s"}),t="";for(let i in e){let a=this.toLine(i);t+=a+":"+e[i]+";"}return t},transformStyles(){return"transform:"+this.transform+";opacity:"+this.opacity+";"+this.stylesObject}},created(){this.config={duration:this.duration,timingFunction:"ease",transformOrigin:"50% 50%",delay:0},this.durationTime=this.duration},methods:{init(e={}){e.duration&&(this.durationTime=e.duration),this.animation=ar(Object.assign(this.config,e),this)},onClick(){this.$emit("click",{detail:this.isShow})},step(e,t={}){if(this.animation){for(let i in e)try{typeof e[i]=="object"?this.animation[i](...e[i]):this.animation[i](e[i])}catch(a){F("error","at uni_modules/uni-transition/components/uni-transition/uni-transition.vue:139",`\u65B9\u6CD5 ${i} \u4E0D\u5B58\u5728`)}return this.animation.step(t),this}},run(e){this.animation&&this.animation.run(e)},open(){clearTimeout(this.timer),this.transform="",this.isShow=!0;let{opacity:e,transform:t}=this.styleInit(!1);typeof e!="undefined"&&(this.opacity=e),this.transform=t,this.$nextTick(()=>{this.timer=setTimeout(()=>{this.animation=ar(this.config,this),this.tranfromInit(!1).step(),this.animation.run(),this.$emit("change",{detail:this.isShow})},20)})},close(e){this.animation&&this.tranfromInit(!0).step().run(()=>{this.isShow=!1,this.animationData=null,this.animation=null;let{opacity:t,transform:i}=this.styleInit(!1);this.opacity=t||1,this.transform=i,this.$emit("change",{detail:this.isShow})})},styleInit(e){let t={transform:""},i=(a,n)=>{n==="fade"?t.opacity=this.animationType(a)[n]:t.transform+=this.animationType(a)[n]+" "};return typeof this.modeClass=="string"?i(e,this.modeClass):this.modeClass.forEach(a=>{i(e,a)}),t},tranfromInit(e){let t=(i,a)=>{let n=null;a==="fade"?n=i?0:1:(n=i?"-100%":"0",a==="zoom-in"&&(n=i?.8:1),a==="zoom-out"&&(n=i?1.2:1),a==="slide-right"&&(n=i?"100%":"0"),a==="slide-bottom"&&(n=i?"100%":"0")),this.animation[this.animationMode()[a]](n)};return typeof this.modeClass=="string"?t(e,this.modeClass):this.modeClass.forEach(i=>{t(e,i)}),this.animation},animationType(e){return{fade:e?1:0,"slide-top":`translateY(${e?"0":"-100%"})`,"slide-right":`translateX(${e?"0":"100%"})`,"slide-bottom":`translateY(${e?"0":"100%"})`,"slide-left":`translateX(${e?"0":"-100%"})`,"zoom-in":`scaleX(${e?1:.8}) scaleY(${e?1:.8})`,"zoom-out":`scaleX(${e?1:1.2}) scaleY(${e?1:1.2})`}},animationMode(){return{fade:"opacity","slide-top":"translateY","slide-right":"translateX","slide-bottom":"translateY","slide-left":"translateX","zoom-in":"scale","zoom-out":"scale"}},toLine(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}}};function Td(e,t,i,a,n,s){return n.isShow?((0,Pe.openBlock)(),(0,Pe.createElementBlock)("view",{key:0,ref:"ani",animation:n.animationData,class:(0,Pe.normalizeClass)(i.customClass),style:(0,Pe.normalizeStyle)(s.transformStyles),onClick:t[0]||(t[0]=(...o)=>s.onClick&&s.onClick(...o)),renderWhole:!0},[(0,Pe.renderSlot)(e.$slots,"default")],14,["animation"])):(0,Pe.createCommentVNode)("",!0)}var jn=E(wd,[["render",Td]]);var Ut=K(q()),Ad={emits:["onEvent"],props:{src:{type:String,default:""},autoPlay:{type:Boolean,default:!1},loops:{type:Number,default:0},repeatMode:{type:Number,default:1},frame:{type:Number,default:0},progress:{type:Number,default:0},speed:{type:Number,default:1},eventStep:{type:Boolean,default:!1}},data(){return{refView:null}},computed:{params(){return{src:Kt(Oe(this.src),!1),autoPlay:this.autoPlay,loops:this.loops,repeatMode:this.repeatMode,initFrame:this.frame,progress:this.progress,speed:this.speed,eventStep:this.eventStep}}},methods:{event(e){f(e)||typeof e.detail=="undefined"||this.$emit("onEvent",e.detail)},play(){this.$refs.lottie&&this.$refs.lottie.play()},pause(){this.$refs.lottie&&this.$refs.lottie.pause()},resume(){this.$refs.lottie&&this.$refs.lottie.resume()},stop(){this.$refs.lottie&&this.$refs.lottie.stop()},setFrame(e){this.$refs.lottie&&this.$refs.lottie.setFrame(e)},setProgress(e){this.$refs.lottie&&this.$refs.lottie.setProgress(e)},setSpeed(e){this.$refs.lottie&&this.$refs.lottie.setSpeed(e)},setEventStep(e){this.$refs.lottie&&this.$refs.lottie.setEventStep(e)}},created(){}};function Cd(e,t,i,a,n,s){let o=(0,Ut.resolveComponent)("nav-anim-lottie");return(0,Ut.openBlock)(),(0,Ut.createBlock)(o,{ref:"lottie",params:s.params,onEvent:s.event},null,8,["params","onEvent"])}var rr=E(Ad,[["render",Cd]]);var or="call_evaluate_label_res";function cr(){return new Promise(e=>{let t=te(or),i=qt();if(f(t)||f(t.res[i])||getApp().globalData.callEvaluateVersion>parseInt(t.version))M.request("/chat/call/tap-reason",{}).then(a=>{let n=a.data.reason_list,s=z(JSON.stringify(t));f(s)&&(s={}),f(s.res)&&(s.res={}),s.res[i]=n;let o={version:a.data.version,res:s.res};ue(or,o);let l=lr(n);e(l)});else{let a=lr(t.res[i]);e(a)}})}function lr(e){return ve()?e.filter(t=>t.identity!=1):e.filter(t=>t.identity!=2)}var ur={},dr={props:{src:{type:String,default:""},w:{type:String,default:"0"},h:{type:String,default:"0"}},data(){return{svgaPath:"",isHide:!1}},created(){Oe(this.src,e=>{this.svgaPath=e})}};function Sd(e,t,i,a,n,s){return(0,w.openBlock)(),(0,w.createElementBlock)("div",{id:"renderScript",class:"view-anim",style:(0,w.normalizeStyle)({width:i.w,height:i.h}),svgaPath:n.svgaPath,"change:svgaPath":e.renderScript.animPathChange,isHide:n.isHide,"change:isHide":e.renderScript.isHideChange},null,12,["svgaPath","change:svgaPath","isHide","change:isHide"])}typeof ur=="function"&&ur(dr);var kd=E(dr,[["render",Sd]]),Dd={"view-container":{"":{color:"#333333",position:"fixed",zIndex:11111}},center:{"":{flexDirection:"row",alignItems:"center",justifyContent:"flex-start"}},"center-align":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"center-between":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},"view-evaluate":{"":{flex:1,backgroundColor:"#FFFFFF",boxShadow:"0 4rpx 20rpx 0 rgba(0, 0, 0, 0.1), 0 0 12rpx 0 rgba(0, 0, 0, 0.1)",borderRadius:"16rpx",borderWidth:"2rpx",borderStyle:"solid",borderColor:"rgba(0,0,0,0.15)",paddingTop:"24rpx",paddingRight:"20rpx",paddingBottom:"24rpx",paddingLeft:"20rpx",boxSizing:"border-box"}},"view-header":{"":{flexDirection:"row",flex:1,alignItems:"center",justifyContent:"space-between"}},"like-wrap":{"":{height:"60rpx",backgroundColor:"#F1F3F6",borderRadius:"30rpx",paddingTop:0,paddingRight:"16rpx",paddingBottom:0,paddingLeft:"16rpx",marginLeft:"20rpx"}},"split-line":{"":{height:"2rpx",backgroundColor:"rgba(0,0,0,0.1)",transform:"scaleY(0.5)",transformOrigin:"50% 100%",marginTop:"12rpx"}},"split-line-ver":{"":{width:"2rpx",height:"28rpx",backgroundColor:"rgba(0,0,0,0.1)",marginTop:0,marginRight:"12rpx",marginBottom:0,marginLeft:"12rpx"}},"enjoy-text":{"":{lineHeight:"22rpx",marginTop:"10rpx",fontSize:"20rpx",color:"#666666",lines:1,overflow:"hidden",textOverflow:"ellipsis"}},"close-icon":{"":{position:"absolute",top:0,right:0,paddingLeft:"20rpx",paddingBottom:"20rpx"}},"close-bg":{".close-icon ":{minWidth:"16px",minHeight:"16px",width:16,height:16,borderRadius:8,backgroundColor:"#FFFFFF",borderWidth:"2rpx",borderStyle:"solid",borderColor:"rgba(0,0,0,0.1)"}},"report-label":{"":{backgroundColor:"#F1F3F6",borderRadius:"8rpx",paddingTop:0,paddingRight:"28rpx",paddingBottom:0,paddingLeft:"28rpx",minWidth:"max-content",borderWidth:"2rpx",borderStyle:"solid",borderColor:"#F1F3F6",marginTop:"12rpx",marginRight:"12rpx"}},"report-text":{".report-label ":{height:"44rpx",lineHeight:"44rpx",minWidth:"max-content",fontSize:"20rpx"}},active:{"":{"!borderWidth":"2rpx","!borderStyle":"solid","!borderColor":"#FF4477","!backgroundColor":"rgba(255,68,119,0.1)"}},"input-wrap":{"":{height:"56rpx",borderRadius:"4rpx",borderWidth:"2rpx",borderStyle:"solid",borderColor:"rgba(0,0,0,0.1)",paddingTop:0,paddingRight:"12rpx",paddingBottom:0,paddingLeft:"12rpx",marginTop:"12rpx"}},"reason-tips":{"":{marginTop:"10rpx",fontSize:"20rpx",color:"#999999"}},"reason-input":{"":{marginLeft:"16rpx",fontSize:"20rpx",flex:1}},"submit-btn":{"":{backgroundImage:"linear-gradient(to right, #FF00BD, #FF5954)",borderRadius:"12rpx",marginTop:"20rpx",height:"56rpx"}},"submit-text":{".submit-btn ":{textAlign:"center",color:"#FFFFFF",lineHeight:"56rpx",fontSize:"22rpx"}},"nickname-text":{"":{lineHeight:"28rpx",fontSize:"24rpx",fontWeight:"600",lines:1,overflow:"hidden",textOverflow:"ellipsis"}}},Ed={components:{Lottie:rr,LSvga:kd,UniIcons:Xe,LImg:N,UniTransition:jn},props:{id:{type:String,default:""},isTab:{type:Boolean,default:!1},noNavbar:{type:Boolean,default:!1}},data(){return{show:!1,userInfo:{},closeTimer:!1,roomId:0,evaluateId:"",isUnlike:!1,reasonList:[],pageShow:!1,inputReason:"",chooseIds:[],hasClick:!1,scrollViewW:getApp().globalData.window.width-88,windowInfo:getApp().globalData.window,cursorSpacing:uni.upx2px(126),hasLike:!1,hasUnlike:!1,showPath:!1,isFocus:!1,keyboardH:0,eventPathKey:""}},computed:{viewStyle(){let e={};return this.isUnlike?(e.width=this.windowInfo.width+"px",this.isTab||this.noNavbar?e.height=this.windowInfo.height+"px":e.height=this.windowInfo.height-this.windowInfo.statusBarHeight-this.windowInfo.navBarHeight+"px",e.left=0,e.top=0):(e.width=this.windowInfo.width-72+"px",e.bottom=this.contentBottom+"px",e.left="36px"),e},contentStyle(){let e={},t=this.isTab?50:0,i=this.isTab?20:34;if(this.isUnlike){let a=this.windowInfo.safeBottom+t+i;e.position="absolute",e.left="36px",this.isFocus&&(a=this.keyboardH+2),e.bottom=a+"px"}return e.width=this.windowInfo.width-72+"px",e},contentBottom(){if(this.isTab)return 20;let e=this.windowInfo.safeBottom;return e+=34},nicknameWidth(){let t=this.windowInfo.width-88-uni.upx2px(324);return this.ageText&&(t-=uni.upx2px(50)),t},ageText(){let e="";return this.userInfo.birthday&&(e=", "+Ti(this.userInfo.birthday)),e},enjoyText(){let e=ti(this.userInfo.sex);return p("enjoyCallWithOther",{her:e})},enjoyTextWidth(){return this.windowInfo.width-88-uni.upx2px(324)}},methods:{$str:p,clickView(e){e&&e.stopPropagation();let t=this.$refs.inputReason;t&&t.blur&&t.blur()},clickClose(){this.pageShow&&(uni.hideKeyboard(),uni.offKeyboardHeightChange(this.onKeyboardChange),this.show=!1,this.pageShow=!1,this.$nextTick(()=>{this.inputReason="",this.chooseIds=[],this.hasClick=!1,this.hasLike=!1,this.hasUnlike=!1,this.isUnlike=!1,this.evaluateId="",this.roomId=0,this.userInfo={},this.isFocus=!1}))},clickSubmit(e){if(e&&e.stopPropagation(),f(this.chooseIds)&&f(this.inputReason))ai(p("callEvaluateFeedbackTips")),this.clickClose();else{let t={evaluate_id:this.evaluateId};f(this.chooseIds)||(t.reason=this.chooseIds.join(",")),f(this.inputReason)||(t.content=this.inputReason),M.request("/chat/call/tap-record",t,!0,!0).then(()=>{this.clickClose(!1),ai(p("callEvaluateFeedbackTips"))})}},clickReportItem(e,t){e&&e.stopPropagation();let i=this.chooseIds.indexOf(t);i==-1?this.chooseIds.push(t):this.chooseIds.splice(i,1)},clickLike(e){e&&e.stopPropagation(),!this.hasClick&&(this.hasClick=!0,this.hasLike=!0,this.reqEvaluate(1))},clickUnlike(e){e&&e.stopPropagation(),!this.hasClick&&(this.hasClick=!0,this.hasUnlike=!0,this.$nextTick(()=>{this.reqEvaluate(2).then(()=>cr()).then(t=>{this.parseReason(t),this.$nextTick(()=>{this.isUnlike=!0})})}))},startTimer(e){this.clearTimer(),this.closeTimer=setTimeout(()=>{this.clearTimer(),this.show=!1},e*1e3)},clearTimer(){this.closeTimer&&clearTimeout(this.closeTimer)},preventHandler(){},onKeyboardChange(e){this.keyboardH=e.height,this.isFocus=e.height>0},reqEvaluate(e){return this.clearTimer(),new Promise(t=>{let i={uid:getApp().globalData.uid,target_uid:this.userInfo.uid,room_id:this.roomId,type:e};M.request("/chat/call/evaluate",i,!1,!0).then(a=>{this.evaluateId=a.data.evaluate_id,e==1?this.startTimer(2):(this.clearTimer(),t())},()=>{this.hasClick=!1,this.startTimer(2)})})},parseReason(e){let t=e.length,i=parseInt(t/2),a=[];for(let n=0;n<t;n+=i)a.push({list:e.slice(n,n+i)});this.reasonList=a},init(e,t){this.userInfo=e,this.roomId=t,this.hasClick=!1,this.pageShow=!0,this.$nextTick(()=>{this.show=!0,this.startTimer(5),uni.onKeyboardHeightChange(this.onKeyboardChange)})}},created(){this.eventPathKey=ot("fullPath"),uni.$on(`event_${this.eventPathKey}_show_call_evaluate`,this.init),uni.$on(`event_${this.eventPathKey}_close_call_evaluate`,this.clickClose),Oe("s/call/evaluate_like.svga"),Oe("s/call/evaluate_unlike.svga"),Oe("s/call/evaluate_like.json"),Oe("s/call/evaluate_unlike.json")},unmounted(){this.clearTimer(),uni.offKeyboardHeightChange(this.onKeyboardChange),uni.$off(`event_${this.eventPathKey}_show_call_evaluate`,this.init),uni.$off(`event_${this.eventPathKey}_close_call_evaluate`,this.clickClose)}};function vd(e,t,i,a,n,s){let o=S((0,w.resolveDynamicComponent)("l-img"),N),l=(0,w.resolveComponent)("lottie"),c=S((0,w.resolveDynamicComponent)("uni-icons"),Xe),u=S((0,w.resolveDynamicComponent)("uni-transition"),jn);return n.pageShow?((0,w.openBlock)(),(0,w.createElementBlock)("view",{key:0,class:"view-container",onClick:t[5]||(t[5]=(...d)=>s.clickView&&s.clickView(...d)),onTouchmove:t[6]||(t[6]=(0,w.withModifiers)((...d)=>s.preventHandler&&s.preventHandler(...d),["stop","prevent"])),style:(0,w.normalizeStyle)(s.viewStyle),renderWhole:!0},[(0,w.createVNode)(u,{"mode-class":"fade",show:n.show,duration:300,style:(0,w.normalizeStyle)(s.contentStyle)},{default:(0,w.withCtx)(()=>[(0,w.createElementVNode)("view",{style:{padding:"8px",position:"relative"}},[(0,w.createElementVNode)("view",{class:"view-evaluate"},[(0,w.createElementVNode)("view",{class:"view-header"},[(0,w.createElementVNode)("view",{class:"center"},[(0,w.createVNode)(o,{src:n.userInfo.small_avatar,w:"62rpx",h:"62rpx",radius:"31rpx",border:"2rpx solid #EEEEEE"},null,8,["src"]),(0,w.createElementVNode)("view",{style:{"margin-left":"16rpx"}},[(0,w.createElementVNode)("view",{class:"center"},[(0,w.createElementVNode)("u-text",{style:(0,w.normalizeStyle)({maxWidth:`${s.nicknameWidth}px`}),class:"nickname-text"},(0,w.toDisplayString)(n.userInfo.nickname),5),s.ageText?((0,w.openBlock)(),(0,w.createElementBlock)("u-text",{key:0,style:{"line-height":"28rpx","font-size":"24rpx","font-weight":"600"}},(0,w.toDisplayString)(s.ageText),1)):(0,w.createCommentVNode)("",!0)]),(0,w.createElementVNode)("u-text",{class:"enjoy-text",style:(0,w.normalizeStyle)({maxWidth:`${s.enjoyTextWidth}px`})},(0,w.toDisplayString)(s.enjoyText),5)])]),(0,w.createElementVNode)("view",{class:"like-wrap center"},[(0,w.createElementVNode)("view",{onClick:t[0]||(t[0]=(...d)=>s.clickLike&&s.clickLike(...d))},[n.hasLike?((0,w.openBlock)(),(0,w.createBlock)(l,{key:1,src:"s/call/evaluate_like.json","auto-play":!0,style:{width:"60rpx",height:"60rpx"}})):((0,w.openBlock)(),(0,w.createBlock)(o,{key:0,onClick:s.clickLike,src:"s/pub/evaluate_like_n.png",w:"60rpx",h:"60rpx"},null,8,["onClick"]))]),(0,w.createElementVNode)("view",{class:"split-line-ver"}),(0,w.createElementVNode)("view",{onClick:t[1]||(t[1]=(...d)=>s.clickUnlike&&s.clickUnlike(...d))},[n.hasUnlike?((0,w.openBlock)(),(0,w.createBlock)(l,{key:1,src:"s/call/evaluate_unlike.json","auto-play":!0,style:{width:"60rpx",height:"60rpx"}})):((0,w.openBlock)(),(0,w.createBlock)(o,{key:0,onClick:s.clickUnlike,src:"s/pub/evaluate_unlike_n.png",w:"60rpx",h:"60rpx"},null,8,["onClick"]))])])]),n.isUnlike?((0,w.openBlock)(),(0,w.createElementBlock)("view",{key:0,class:"m-t-8"},[(0,w.createElementVNode)("view",{class:"split-line"}),(0,w.createElementVNode)("u-text",{class:"reason-tips"},(0,w.toDisplayString)(s.$str("callEvaluateTips")),1),(0,w.createElementVNode)("scroll-view",{scrollX:!0,showScrollbar:!1,style:{"flex-direction":"row",flex:"1"}},[(0,w.createElementVNode)("view",null,[((0,w.openBlock)(!0),(0,w.createElementBlock)(w.Fragment,null,(0,w.renderList)(n.reasonList,(d,g)=>((0,w.openBlock)(),(0,w.createElementBlock)("view",{key:g,class:"center"},[((0,w.openBlock)(!0),(0,w.createElementBlock)(w.Fragment,null,(0,w.renderList)(d.list,(h,_)=>((0,w.openBlock)(),(0,w.createElementBlock)("view",{key:g+"_"+_,onClick:(0,w.withModifiers)(v=>s.clickReportItem(v,h.id),["stop"]),class:(0,w.normalizeClass)(["report-label",[n.chooseIds.indexOf(h.id)!=-1?"active":""]])},[(0,w.createElementVNode)("u-text",{class:"report-text"},(0,w.toDisplayString)(h.title),1)],10,["onClick"]))),128))]))),128))])]),(0,w.createElementVNode)("view",{class:"input-wrap center"},[(0,w.createVNode)(o,{src:"s/pub/evaluate_edit.png",w:"24rpx",h:"24rpx"}),(0,w.createElementVNode)("u-input",{ref:"inputReason",modelValue:n.inputReason,onInput:t[2]||(t[2]=d=>n.inputReason=d.detail.value),type:"text",placeholder:s.$str("callEvaluateInputTips"),cursorSpacing:n.cursorSpacing,adjustPosition:!1,class:"reason-input"},null,40,["modelValue","placeholder","cursorSpacing"])]),(0,w.createElementVNode)("view",{onClick:t[3]||(t[3]=(...d)=>s.clickSubmit&&s.clickSubmit(...d)),class:"submit-btn center-align"},[(0,w.createElementVNode)("u-text",{class:"submit-text"},(0,w.toDisplayString)(s.$str("submit")),1)])])):(0,w.createCommentVNode)("",!0)]),n.isUnlike?((0,w.openBlock)(),(0,w.createElementBlock)("view",{key:0,onClick:t[4]||(t[4]=d=>s.clickClose(!1)),class:"close-icon"},[(0,w.createElementVNode)("view",{class:"close-bg center-align"},[(0,w.createVNode)(c,{type:"closeempty",size:"20rpx",color:"#333333",style:{"margin-top":"2rpx"}})])])):(0,w.createCommentVNode)("",!0)])]),_:1},8,["show","style"])],36)):(0,w.createCommentVNode)("",!0)}var zn=E(Ed,[["render",vd],["styles",[Dd]]]);var pr={data(){return{__isPopGestureBack:!1}},methods:{__getWebview(){return plus.webview.currentWebview()},__webviewPopGestureListener(e){let t=e.progress>=50;getApp().globalData.isGestureBacking=t,this.__isPopGestureBack=t}},onReady(){m.isAndroid||this.__getWebview().addEventListener("popGesture",this.__webviewPopGestureListener)},onUnload(){if(m.isAndroid)return;getApp().globalData.isGestureBacking=!1,this.__isPopGestureBack=!1;let e=this.__getWebview();typeof e!="undefined"&&e.removeEventListener("popGesture",this.__webviewPopGestureListener)}};var Qf=K(q());function Ld(e,t,i,a,n){return new Promise(s=>{getApp().globalData.pluginUpload.singleUpS3({filePath:e,isBase64:t,coverFilePath:i,coverIsBase64:a,ossInfo:n},o=>{s(o)})})}var mr="/upload/params-s3";function Pi(e,t,i,a,n=null,s=null){return new Promise((o,l)=>Ae(this,null,function*(){let c=e.replace("file://",""),u={flag:t,type:i};n&&(u.width=n.width,u.height=n.height),s&&(u=Object.assign(u,s));try{if(a){let g=yield In(c),h="";g&&(h=g.digest),f(h)||(u.md5=h)}let d=yield M.request(mr,u,!1,!0);if(d.ok==1&&d.data.is_upload)F("log","at common/api-upload.js:73","upload media is_upload true"),o({path:d.data.dir,smallPath:d.data.small_url,uploadId:d.data.upload_id||0});else{let g=d.data.upload_id,h=yield gr(c,"",d.data);g&&fr([g]),h.uploadId=g||0,o(h)}}catch(d){let g=us(d);F("error","at common/api-upload.js:88","upload media fail "+g),hr(t,u,g),l(d)}}))}function Yn(e,t,i,a,n,s=!0,o=null,l=!0){return Ae(this,null,function*(){let c={};try{t.startsWith("_doc")&&(t=plus.io.convertLocalFileSystemURL(t));let u={},d=m.isAndroid?t:`file://${t}`,g=t,h=i;if(c={flag:e,type:m.VIDEO},o&&(c.width=o.width,c.height=o.height),l){let R=yield In(g),L="";R&&(L=R.digest),f(L)||(c.md5=L)}let _=yield M.request(mr,c,!1,!0);F("log","at common/api-upload.js:118","upload video params response",_);let v;if(_.ok==1&&_.data.is_upload)return{url:_.data.dir,coverUrl:_.data.cover_url,smallUrl:_.data.small_url,uploadId:_.data.upload_id||0};{_.data&&(v=_.data.upload_id);let R=yield Es(d);if(s&&R?R.size>8*1024*1024:!1){let U=yield vs(d,"medium");g=plus.io.convertLocalFileSystemURL(U.tempFilePath),h=yield Ts(g,a,n)}return g=g.replace("file://",""),h=h.replace("file://",""),u={url:_.data.dir.path,coverUrl:_.data.dir.cover_path,smallUrl:_.data.dir.small_url,uploadId:_.data.upload_id||0},yield gr(g,h,_.data),v&&fr([v]),u}}catch(u){throw F("error","at common/api-upload.js:150","upload video error",u),hr(e,c,u),u}})}function fr(e){f(e)||M.request("/upload/success",{id:e},!1,!0).then(t=>{F("error","at common/api-upload.js:162","-----> api upload/success response",t)},t=>{F("error","at common/api-upload.js:164","-----> api upload/success response error",t)})}function gr(e,t,i,a=0,n=0){return new Promise((s,o)=>{Ld(e,a,t,n,i).then(l=>{F("log","at common/api-upload.js:171","upload plugin s3 result",l),(typeof l=="object"?l.success:l)?s({path:i.dir.path,smallPath:i.dir.small_url}):o(`_upModuleS3 ${JSON.stringify(l)}`)})})}function hr(e,t,i){let a=e=="auth"?"upload_auth":"upload",n=St(t);M.accessLogExtra(a,`${e} ${n}`,i)}var ng=K(q()),it={AD:1,AD_SPREAD:2,CONTACT:3,MARK_ID:4,WHITE_LINK:5,PORNOGRAPHIC:6},Ht={MSG:1,MOMENT:2,NICKNAME:3,SIGN:4,CLUB_NAME:5,CLUB_INTRO:6,MSG_CALL:7,MSG_CLUB:8};function _r(e,t){try{let i=e.toLocaleLowerCase(),a=!1,n=getApp().globalData.sensitiveWordsObj[it.AD];if(a=Bi(n,i),a)return tt(!0,n.type,a);let s=Ci(i);if(s){if(Id(s))return tt(!1,it.WHITE_LINK,"");if(i.indexOf("apps.apple.com")!=-1||i.indexOf("play.google.com")!=-1){let c=getApp().globalData.sensitiveWordsObj[it.MARK_ID];if(a=c.words.findDfa(i),a)return tt(!0,c.type,a)}let l=getApp().globalData.sensitiveWordsObj[it.AD_SPREAD];return a=Bi(l,i),a?tt(!0,l.type,a):tt(!0,it.WHITE_LINK,s[0])}let o=Md(i);if(o)return tt(!0,it.CONTACT,o);if([Ht.MSG,Ht.MSG_CLUB,Ht.MSG_CALL].indexOf(t)==-1){let l=getApp().globalData.sensitiveWordsObj[it.PORNOGRAPHIC];if(a=Bi(l,i),a)return tt(!0,l.type,a)}return tt(!1,0,"")}catch(i){return F("error","at comSensitive/sensitive-check.js:56","sensitive check catch "+JSON.stringify(i)),tt(!1,-1,"")}}function tt(e,t,i){return F("error","at comSensitive/sensitive-check.js:62",`sensitive check ${e} type = ${t} find = ${i}`),{has:e,type:t,find:i}}function Id(e){let t=getApp().globalData.sensitiveWordsObj[it.WHITE_LINK];for(let i=0,a=e.length;i<a;i++)if(!t.words.containsDfa(e[i]))return!1;return!0}function Md(e){let t=!1,i=/[\d\w]+\b@[a-zA-ZA-z0-9]+\.[a-z]+/g;if(t=e.match(i),t)return t[0];let a=/^[0-9]{8,}$/;if(t=e.match(a),t)return t[0];let n=/\+(([0123456789]{6,})+)/g;if(t=e.match(n),t)return t[0];let s=/(@)((\w|=|\?|\.|\/|&|-|:|%)+)/g;if(t=e.match(s),t)return t[0];let o=getApp().globalData.sensitiveWordsObj[it.CONTACT],l=Bi(o,e);return l||!1}function Bi(e,t){let i=e.words.wordsWithIndex(t);if(i.length<=0)return!1;for(let a=0,n=i.length;a<n;a++){let s=i[a],o=Nd(t,s.text,s.start,s.end);if(o)return o}return!1}function Nd(e,t,i,a){try{if(e.length==t.length)return t;let n=i==0,s=a==e.length,o=i==0?0:i-1,l=a==e.length?a:a+1,c=e.substring(o,l),u=`('|"| |#|@|{|}|\\||/|\\(|\\)|\\[|\\])`,d=`('|"| |#|@|{|}|\\||/|\\(|\\)|\\[|\\]|,|\\.|:)`,g;return n?g=new RegExp(t+d,"g"):s?g=new RegExp(u+t,"g"):g=new RegExp(u+t+d,"g"),c.match(g)?c:!1}catch(n){return F("error","at comSensitive/sensitive-check.js:138","sensitive _checkContext catch "+JSON.stringify(n)),!1}}function Ui(e,t,i=""){f(e.svga_url)||Rt().indexOf("/pagesDialog/anim")==-1&&Oe(e.svga_url,a=>{F("error","at comGift/gift-anim.js:10","showGiftAnim path "+a),$("/pagesDialog/anim",{path:a,showClose:t?1:0,flag:i})},!1)}var og=K(q());function yr(e,t){let i=Jn();return new Promise(a=>{let n=0;je(`SELECT * FROM ${i} WHERE uid = ${e.uid} LIMIT 1`).then(s=>{if(s.length>0)if(t&&Sn(s[0],e)){n=1;let o=`UPDATE ${i} SET nickname = '${ae(e.nickname)}', avatar = '${e.avatar}', sex = ${X(e.sex)}, birthday = '${et(e.birthday)}', is_vip = ${X(e.is_vip)}, is_auth = ${X(e.is_auth)}, level = ${X(e.level)}, country_code = '${et(e.country_code)}', country_flag = '${et(e.country_flag)}', language = '${et(e.language)}', hide_vip = ${X(e.hide_vip)}, hide_level = ${X(e.hide_level)}, hide_profile = ${X(e.hide_profile)}, auth_status = ${X(e.auth_status)} WHERE uid = ${e.uid}`;ye(o).then(()=>{a(n)},()=>{a(n)})}else a(n);else{n=2;let o=`INSERT INTO ${i} (uid, nickname, avatar, sex, birthday, is_vip, is_auth, level, country_code, country_flag, language, hide_vip, hide_level, hide_profile, auth_status) VALUES (${e.uid}, '${ae(e.nickname)}', '${e.avatar}', ${X(e.sex)}, '${et(e.birthday)}', ${X(e.is_vip)}, ${X(e.is_auth)}, ${X(e.level)}, '${et(e.country_code)}', '${et(e.country_flag)}', '${et(e.language)}', ${X(e.hide_vip)}, ${X(e.hide_level)}, ${X(e.hide_profile)}, ${X(e.auth_status)})`;ye(o).then(()=>{a(n)},()=>{a(n)})}},()=>{a(n)})})}function br(e){return new Promise(t=>{let i=Array.isArray(e),a=0,n=i?e.length:Object.keys(e).length;for(let s in e){let o=e[s];yr(o,!0).then(()=>{a+=1,a>=n&&t()})}})}function Kn(e,t=!0){let i=Jn();return new Promise(a=>{if(e==0){a(null);return}if(e==m.SYSTEM_ID){let n=Di();a({uid:m.SYSTEM_ID,nickname:n.name,avatar:n.logo,sex:1});return}je(`SELECT * FROM ${i} WHERE uid = ${e} LIMIT 1`).then(n=>{let s=n[0];if(f(s)&&e==m.SYSTEM_ID){a({uid:m.SYSTEM_ID,avatar:Di().logo,nickname:Di().nickname});return}if(s&&(s.nickname=Mt(s.nickname)),f(s)&&e!=m.SYSTEM_ID){if(!t){a(null);return}M.request("/user/info",{target_uid:e,extra:"extra"},!1,!0).then(o=>{o.data&&o.data.user_info?(s=o.data.user_info,s.small_avatar&&(s.avatar=s.small_avatar),a(s),yr(s,!0)):a(null)},()=>{a(null)})}else a(s)},()=>{a(null)})})}function xr(e,t=!0){let i=Jn();return new Promise(a=>{if(t&&(e=e.filter(o=>!f(o))),e.length<=0){a({});return}let n={},s=`SELECT * FROM ${i} WHERE uid IN (${e.join(",")}) LIMIT ${e.length}`;je(s).then(o=>{for(let l=0,c=o.length;l<c;l++){let u=o[l];u&&(u.nickname=Mt(u.nickname),n[u.uid]=u)}a(n)})})}function Jn(){return getApp().globalData.uid==2256587?"tb_user_1":"tb_user"}function Hi(e,t){return new Promise(i=>{let a=`SELECT * FROM tb_msg_index WHERE chat_id = ${e} AND chat_type = ${t} LIMIT 1`;je(a).then(n=>{let s=n[0];s&&(s.msg_content=Mt(s.msg_content)),i(s)},()=>{i(null)})})}function Wi(e,t,i=0){return new Promise(a=>{Ar(e,t).then(()=>Hi(e,t)).then(n=>{if(n&&n.unread!=i){let s=`UPDATE tb_msg_index SET unread = ${X(i)} WHERE chat_id = ${e} AND chat_type = ${t}`;ye(s),a(n.unread)}else a(0)})})}function Tr(e,t,i={}){return new Promise(a=>{if(Object.keys(i).length<=0)return;let n=[];for(let l in i){let c=i[l],u=l+" = "+c;n.push(u)}let o=`UPDATE tb_msg_index SET ${n.join(", ")} WHERE chat_id = ${e} AND chat_type = ${t}`;ye(o).then(()=>{a(1)},()=>{a(0)})})}var wr=20;function Ar(e,t){return new Promise(i=>{let a=dt(e,t);try{let n=`CREATE TABLE IF NOT EXISTS ${a} (id INTEGER PRIMARY KEY AUTOINCREMENT, chat_id INTEGER, chat_type INTEGER, send_uid INTEGER, mtime INTEGER, ctime INTEGER, msg_type INTEGER, msg_content varchar(500), msg_status INTEGER, m_type INTEGER, remark varchar(500))`;ye(n).then(()=>{ye(`CREATE index IF NOT EXISTS idx_ctime on ${a} (chat_id, ctime, chat_type)`),ye(`CREATE index IF NOT EXISTS idx_mtime on ${a} (chat_id, mtime)`),i()})}catch(n){i()}})}function bt(e,t){let i=1;return new Promise(a=>{Ar(e.chat_id,e.chat_type).then(()=>ut(e)).then(n=>n!=1?(a({isSave:0,isNotice:i}),qe):Hi(e.chat_id,e.chat_type)).then(n=>{let s=z(e.msg_content),o=typeof e.msg_status=="undefined"?0:Number(e.msg_status);isNaN(o)&&(o=0);let l,c=Od(e,s),u=0,d,g="";f(e.remark)?n&&(g=n.remark||""):g=e.remark,n?(d=n.unread<=0,c?i=0:i=n.msg_notice,n.ctime<e.ctime&&(t&&e.send_uid!=getApp().globalData.uid&&getApp().globalData.curChatId!=e.chat_id?(u=c?0:1,l=`UPDATE tb_msg_index SET unread = ${n.unread+u}, send_uid = ${e.send_uid}, msg_type = ${e.msg_type}, msg_content = '${ae(e.msg_content)}', mtime = ${e.mtime}, ctime = ${e.ctime}, msg_status = ${o}, remark = '${ae(g)}' WHERE chat_id = ${e.chat_id} AND chat_type = ${e.chat_type}`):l=`UPDATE tb_msg_index SET send_uid = ${e.send_uid}, msg_type = ${e.msg_type}, msg_content = '${ae(e.msg_content)}', mtime = ${e.mtime}, ctime = ${e.ctime}, msg_status = ${o}, remark = '${ae(g)}' WHERE chat_id = ${e.chat_id} AND chat_type = ${e.chat_type}`)):(d=!0,i=c?0:1,u=t&&e.send_uid!=getApp().globalData.uid&&!c?1:0,l=`INSERT INTO tb_msg_index (chat_id, chat_type, send_uid, msg_type, msg_content, mtime, ctime, unread, is_top, msg_notice, has_at, msg_status, remark) values (${e.chat_id}, ${e.chat_type}, ${e.send_uid}, ${e.msg_type}, '${ae(e.msg_content)}', ${e.mtime}, ${e.ctime}, ${u}, ${X(e.is_top)}, ${Fd(e.msg_notice)}, 0, ${o}, '${ae(g)}')`),f(l)?a({isSave:1,isNotice:0,unread:u,addTabUnread:d}):ye(l).then(h=>{a({isSave:1,isNotice:i,unread:u,addTabUnread:d})})})})}function ut(e){return new Promise(t=>{let i=dt(e.chat_id,e.chat_type);je(`SELECT * FROM ${i} WHERE chat_id = ${e.chat_id} AND mtime = ${e.mtime} LIMIT 1`).then(a=>{if(a[0]){t(2);return}e.ctime=Nn(e.ctime,e.mtime);let s=`INSERT INTO ${i} (chat_id, chat_type, send_uid, mtime, ctime, msg_type, msg_content, msg_status, m_type, remark) VALUES (${e.chat_id}, ${e.chat_type}, ${e.send_uid}, ${e.mtime}, ${e.ctime}, ${e.msg_type}, '${ae(e.msg_content)}', ${X(e.msg_status)}, 0, '')`;ye(s).then(()=>{t(1)},()=>{t(0)})},a=>{t(0)})})}function qn(e,t,i){return new Promise(a=>{let n=dt(e,t),s,o=wr+1;i==0?e!=m.SYSTEM_ID?s=`SELECT * FROM ${n} WHERE chat_id = ${e} ORDER BY ctime DESC LIMIT 0, ${o}`:s=`SELECT * FROM ${n} WHERE chat_type = ${t} ORDER BY ctime DESC LIMIT 0, ${o}`:e!=m.SYSTEM_ID?s=`SELECT * FROM ${n} WHERE chat_id = ${e} AND ctime < ${i} ORDER BY ctime DESC LIMIT 0, ${o}`:s=`SELECT * FROM ${n} WHERE ctime < ${i} AND chat_type = ${t} ORDER BY ctime DESC LIMIT 0, ${o}`,je(s).then(l=>{a(Ns(l,wr))})})}function Cr(e,t,i,a,n=!1){return new Promise(s=>{let o=`SELECT * FROM ${dt(e,t)} WHERE chat_id = ${e} AND ctime > ${i} AND chat_type = ${t} ORDER BY ctime ${n?"DESC":""} LIMIT ${a}`;je(o).then(l=>{s(l)})})}function Rd(e,t,i){return new Promise(a=>{let n=dt(e,t);je(`SELECT * FROM ${n} WHERE chat_id = ${i.chat_id} AND mtime = ${i.mtime} LIMIT 1`).then(s=>{if(s[0])a();else{i.ctime=Nn(i.ctime,i.mtime);let o=`INSERT INTO ${n} (chat_id,chat_type,send_uid,mtime,ctime,msg_type,msg_content,msg_status,m_type,remark) VALUES (${e},${t},${i.send_uid},${i.mtime},${i.ctime},${i.msg_type},'${ae(i.msg_content)}',${X(i.msg_status)},0,'')`;ye(o).then(l=>{a()},function(l){a()})}},()=>{a()})})}function Sr(e,t,i){return new Promise(a=>{let n=i.length,s=0;for(let o=0,l=i.length;o<l;o++)Rd(e,t,i[o]).then(()=>{s+=1,s==n&&a()})})}function Wt(e,t,i,a,n=0,s=!0){return new Promise(o=>{let l=dt(e,t),c;n==0?s?c=`UPDATE ${l} SET msg_content = '${ae(a)}' WHERE chat_id = ${e} AND ctime = ${i}`:c=`UPDATE ${l} SET msg_content = '${ae(a)}' WHERE chat_id = ${e} AND mtime = ${i}`:c=`UPDATE ${l} SET msg_content = '${ae(a)}' WHERE id = ${n}`,ye(c).then(u=>{o()})})}function kr(e,t,i,a=0){return new Promise(n=>{let s=dt(e,t),o;a==0?o=`DELETE FROM ${s} WHERE chat_id = ${e} AND mtime = ${i}`:o=`DELETE FROM ${s} WHERE chat_id = ${e} AND ctime = ${a}`,ye(o).then(l=>{n()})})}function Dr(e,t,i,a={}){return new Promise(n=>{if(Object.keys(a).length<=0)return;let s=dt(e,t),o=[];for(let u in a){let d=a[u],g=u+" = "+d;o.push(g)}let l=o.join(", "),c=`UPDATE ${s} SET ${l} WHERE mtime = ${i}`;ye(c).then(()=>{n(1)},()=>{n(0)})})}function Od(e,t){return e.msg_type==m.M_MATCH_SUCCESS?!0:e.msg_type!=m.M_CALL||e.send_uid==getApp().globalData.uid?!1:t.call_status==2||t.call_status==1}function Fd(e){return e==null?1:parseInt(e)}function dt(e,t){let i=Pd();if(t==m.M_CHAT_CLUB)return`${i}${e}`;if(e==m.SYSTEM_ID)return`${i}${e}`;let a=Number(e)%10;return`${i}${a}`}function Pd(){return"tb_msg_"}function Bd(e,t){Fe(p("tips"),p("anchor.rest.turnOffTip"),()=>{let i={user_info:{is_rest:0}};M.request("/user/update-info",i,!0).then(()=>{typeof e=="function"&&e(),ni("pubUser.is_rest",0),Qe(p("tips"),p("anchor.rest.turnOff"),"",p("gotIt"))})},()=>{typeof t=="function"&&t()},p("turnOff"))}function Er(){return!ve()||getApp().pubUser.is_rest!=1?!1:(uni.hideKeyboard(),Bd(!1,!1),!0)}function ri(e){return{2:`[${p("voice")}]`,3:`[${p("picture")}]`,5:`[${p("gift")}]`,6:`[${p("notice")}]`,18:`[${p("video")}]`,21:`[${p("msg.askForGift")}]`,22:`[${p("msg.systemNotice")}]`,23:`[${p("msg.sticker")}]`,25:`[${p("msg.feePhoto")}]`,26:`[${p("msg.feeVideo")}]`,27:`[${p("msg.matchSuccess")}]`,100:`[${p("msg.systemNotice")}]`}[e]||"["+p("msg.newNews")+"]"}function vr(e){let t=z(e.msg_content),i="",a="";switch(e.msg_type){case m.M_TEXT:if(t.text){let o=t.text;for(let l=0,c=t.info.length;l<c;l++){let u=t.info[l];o=o.replace("[x]",u.text)}return o}else return t.content;case m.M_IMG:return ri(e.msg_type);case m.M_VIDEO:return i=ri(e.msg_type),a=ii(Math.round(t.duration)),i+" "+a;case m.M_RECOMMEND_USER:return i="["+p("user")+"]",i+" "+t.nickname;case m.M_RECOMMEND_CLUB:return i="["+p("club")+"]",i+" "+t.club_name;case m.M_VOICE:return i="["+p("audio")+"]",a=ii(Math.round(t.voice_duration)),i+" "+a;case m.M_CALL:return"["+(t.call_type==xi.VIDEO?p("videoChat"):p("audioChat"))+"]";case m.M_GIFT_ASK:return ri(e.msg_type);case m.M_GIFT:i=ri(e.msg_type);let s=t.number>1?" "+t.number:"";return i+s+" "+t.title;case m.M_EXPRESSION:return ri(e.msg_type);default:return""}}function Lr(e){let t=z(e.msg_content);switch(e.msg_type){case m.M_IMG:return{img_url:t.image_url,small_url:t.small_url,media_type:m.PHOTO};case m.M_VIDEO:return{cover_url:t.cover,small_url:t.small_url,video_url:t.url,media_type:m.VIDEO};case m.M_GIFT_ASK:case m.M_GIFT:return{img_url:t.icon,small_url:t.icon,media_type:m.PHOTO};case m.M_RECOMMEND_CLUB:return{img_url:t.club_logo,small_url:t.club_logo,media_type:m.PHOTO};case m.M_RECOMMEND_USER:return{img_url:t.avatar,small_url:t.avatar,media_type:m.PHOTO};case m.M_EXPRESSION:return{img_url:t.path,small_url:t.path,media_type:m.PHOTO};default:return""}}var ie=K(q()),Ud={wrap:{"":{position:"fixed",alignItems:"center",flexDirection:"row",paddingTop:0,paddingRight:"4rpx",paddingBottom:0,paddingLeft:"4rpx"}},cover:{"":{zIndex:111,position:"fixed",backgroundColor:"rgba(0,0,0,0)"}},popover:{"":{borderRadius:"8rpx",textAlign:"center",zIndex:111,position:"relative"}},triangle:{"":{width:"28rpx",height:"28rpx",transform:"rotate(45deg)",position:"absolute",zIndex:11}}},Hd=Le("dom"),Wd={emits:["onClickOther"],props:{size:{type:Object,default(){return{}}},minMargin:{type:[String,Number],default:15},bgColor:{type:String,default:"#FFFFFF"},direction:{type:String,default:"above"},boxShadow:{type:String,default:"0 4rpx 8rpx 0 rgba(0, 0, 0, 0.09)"},triBoxShadow:{type:String,default:"0 4rpx 4rpx 0 rgba(0, 0, 0, 0.09)"},triangleIsTop:{type:Boolean,default:!0}},computed:{getStyle(){return{top:this.getTop()[0]+"px",height:this.popFatherHeight+"px",opacity:this.opacity,left:this.getSide()[0]+"px"}},getTriangleStyle(){return{top:this.getTop()[1]+"px",left:this.getSide()[1]+"px","background-color":this.bgColor}},triangleBoxShadow(){return f(this.boxShadow)?"":this.triangleBoxShadow}},data(){return{opacity:0,popWidth:0,popHeight:0,show:!1,showPop:!1,popFatherHeight:0,coverWidth:getApp().globalData.window.width,coverHeight:getApp().globalData.window.height}},methods:{getTop(){let e,t,i=this.size.top,a=this.size.height,n=this.size.bottom;if(this.direction=="above")i<this.popFatherHeight+10?(e=i+a+6,t=2):(e=i-this.popFatherHeight-6,t=this.popHeight);else if(this.direction=="below"){let s=getApp().globalData.window;this.coverHeight-s.statusBarHeight-s.safeBottom-44-50-n<this.popFatherHeight+10?(e=i-this.popFatherHeight-6,t=this.popHeight):(e=i+a+6,t=2)}return[e,t]},getSide(){let e=this.coverWidth,t=this.size,i=this.popWidth/2,a=t.left+(t.width-12)/2,n,s;return i>=a?(n=this.minMargin,s=a-this.minMargin):this.size.left+this.popWidth>=e?(n=e-this.popWidth-this.minMargin,s=t.left-n+t.width/2-7):(n=a-i+5,s=i-6),[n,s]},clickOther(){this.show=!1,this.$emit("onClickOther")},getPopHeight(){var e=this;Hd.getComponentRect(e.$refs.popContent,t=>{if(t&&t.size){let i=t.size;e.popWidth=i.width,e.popHeight=i.height,e.popFatherHeight=i.height+18,e.opacity=1}})},open(){var e=this;e.show=!0,e.opacity=0;let t=setTimeout(function(){e.getPopHeight(),clearTimeout(t)},100)},close(){this.show&&(this.show=!1)}}};function Gd(e,t,i,a,n,s){return n.show?((0,ie.openBlock)(),(0,ie.createElementBlock)("view",{key:0,onClick:t[0]||(t[0]=(...o)=>s.clickOther&&s.clickOther(...o)),class:"cover",style:(0,ie.normalizeStyle)({width:n.coverWidth+"px",height:n.coverHeight+"px"}),renderWhole:!0},[(0,ie.createElementVNode)("view",{style:(0,ie.normalizeStyle)(s.getStyle),class:"wrap"},[(0,ie.createElementVNode)("view",{class:"triangle",style:(0,ie.normalizeStyle)([s.getTriangleStyle,{boxShadow:s.triangleBoxShadow}])},null,4),i.triangleIsTop?((0,ie.openBlock)(),(0,ie.createElementBlock)("view",{key:0,class:"triangle",style:(0,ie.normalizeStyle)([s.getTriangleStyle])},null,4)):(0,ie.createCommentVNode)("",!0),(0,ie.createElementVNode)("view",{ref:"popContent",class:"popover",style:(0,ie.normalizeStyle)({"background-color":i.bgColor,boxShadow:i.boxShadow})},[(0,ie.renderSlot)(e.$slots,"default")],4),i.triangleIsTop?(0,ie.createCommentVNode)("",!0):((0,ie.openBlock)(),(0,ie.createElementBlock)("view",{key:1,class:"triangle",style:(0,ie.normalizeStyle)([s.getTriangleStyle])},null,4))],4)],4)):(0,ie.createCommentVNode)("",!0)}var Ir=E(Wd,[["render",Gd],["styles",[Ud]]]);var se=K(q());function ze(...e){return getApp().globalData.s.state.pubAI18n(...e)}var Gi=0,$i=0,H={titleTimeCheck:5,parseMessageHasMore(e,t){let i=0,a,n,s,o;for(let l=0,c=e.forLen;l<c;l++){let u=e.rows[l],d=z(u.msg_content);if(d&&d.has_more){o=u.mtime;let g=e.rows[l+1];g?s=g.mtime:s=0,n=u.id,delete d.has_more,a=d;break}else i+=1}return e.forLen==0&&(s=0,o=t),{msgMtime:s,msgLastMTime:o,countNoHasMore:i,detailIdHasMore:n,contentDelHasMore:a}},parseSendData(e,t,i,a){let n=getApp().getCTime();return{chat_id:e,chat_type:t,send_uid:getApp().globalData.uid,msg_type:i,msg_content:a,ctime:n,mtime:n}},parseItem(e,t,i){let a=e.send_uid==getApp().globalData.uid,n,s,o;return e.chat_type==m.M_CHAT_CLUB?(n=e.contentObj||z(e.msg_content),s=t[e.send_uid],o=t):(n=z(e.msg_content),s=a?getApp().globalData.s.state.pubUser:t,o=a?t:getApp().globalData.s.state.pubUser),{mId:e.id,chat_id:e.chat_id,chat_type:e.chat_type,send_uid:e.send_uid,mtime:e.mtime,ctime:e.ctime,msg_type:e.msg_type,msg_content:e.msg_content,msg_status:e.msg_status||0,m_type:0,isSend:a,user:s,target_user:o,content:n,showTime:Cn(e.ctime),remark:z(e.remark),club:i}},parseMsgTime(e){return{msg_type:1e3,ctime:e,showTime:Cn(e)}},getHistoryTitleTime(e,t=H.titleTimeCheck){let i=-1;if(Gi==0)return Gi=e,null;i=Gi;let a=null;return Ai(i,e,t)&&(a=H.parseMsgTime(i)),Gi=e,a},getAddTitleTime(e,t=H.titleTimeCheck){if($i==0)return $i=e,null;let i=null;return Ai($i,e,t)&&(i=H.parseMsgTime(e),$i=e),i},parseDataText(e){let t=Ci(e);if(f(t))return{content:e};let i={action:5,url:t[0]},a=[];for(let n=0,s=t.length;n<s;n++){let o=t[n];e=e.replace(o,"[x]"),a.push({text:o,color:"#0000FF"})}return{text:e,info:a,click:i}},parseDataVoice(e,t){return{voice_url:e,voice_duration:t}},parseDataPicture(e,t,i,a){return{image_url:e,image_width:t,image_height:i,small_url:a}},parseDataPicturePaid(e,t,i,a,n){return{media_type:m.PHOTO,image_url:e,image_width:t,image_height:i,small_url:a,content:n,price:getApp().globalData.feePhotoPrice,check_status:1}},parseDataExpression(e,t,i){return{path:e,image_width:t,image_height:i}},parseDataRecommendClub(e){return{club_id:e.club_id,club_logo:e.club_logo,club_name:e.club_name,intro:e.intro}},parseDataRecommendUser(e){return{uid:e.uid,nickname:e.nickname,avatar:e.small_avatar,sex:e.sex,birthday:e.birthday,level:e.level,is_auth:e.is_auth,is_vip:e.is_vip}},parseDataVideo(e,t,i,a,n,s){return{url:e,cover:t,small_url:i,width:a,height:n,duration:s}},parseDataVideoPaid(e,t,i,a,n,s,o){return{media_type:m.VIDEO,url:e,cover_url:i,small_url:t,width:a,height:n,duration:s,content:o,price:getApp().globalData.feeVideoPrice,check_status:1}},uploadVoice(e,t,i,a,n){let s=t.startsWith("_doc")?plus.io.convertLocalFileSystemURL(t):t;Pi(s,vt.MESSAGE,m.VOICE,!1).then(o=>{let l=JSON.stringify(this.parseDataVoice(o.path,i));e.msg_content=l,a(l)},()=>{n(e)})},uploadPicture(e,t,i,a,n,s){Pi(t,vt.MESSAGE,m.PHOTO,!0,{width:i,height:a}).then(o=>{let l=t.replace("file://","");Ze(o.path,l),Ze(o.smallPath,l);let c=this.parseDataPicture(o.path,i,a,o.smallPath);o.uploadId&&(c.upload_id=o.uploadId);let u=JSON.stringify(c);e.msg_content=u,n(u,o)},()=>{s(e)})},uploadVideo(e,t,i,a,n,s,o,l){Yn(vt.MESSAGE,t,i,a,n,!0,{width:a,height:n}).then(c=>{let u=i.replace("file://","");Ze(c.smallUrl,u),Ze(c.coverUrl,u);let d=this.parseDataVideo(c.url,c.coverUrl,c.smallUrl,a,n,s);c.uploadId&&(d.upload_id=c.uploadId);let g=JSON.stringify(d);e.msg_content=g,o(g,c)},()=>{l(e)})},uploadPicturePaid(e,t,i,a,n,s,o){Pi(t,vt.MESSAGE,m.PHOTO,!0,{width:i,height:a}).then(l=>{let c=t.replace("file://","");Ze(l.path,c),Ze(l.smallPath,c);let u=JSON.stringify(this.parseDataPicturePaid(l.path,i,a,l.smallPath,n));e.msg_content=u,s(u,l)},()=>{o(e)})},uploadVideoPaid(e,t,i,a,n,s,o,l,c){Yn(vt.MESSAGE,t,i,a,n,!0,{width:a,height:n}).then(u=>{let d=i.replace("file://","");Ze(u.smallUrl,d),Ze(u.coverUrl,d);let g=JSON.stringify(this.parseDataVideoPaid(u.url,u.smallUrl,u.coverUrl,a,n,s,o));e.msg_content=g,l(g,u)},()=>{c(e)})}},oi=m.M_CHAT_PRI,Ee={init(e){oi=e},getList(e,t,i,a){return Ae(this,null,function*(){let n=yield qn(e,t,i);if(n.forLen==0)return n;let s=H.parseMessageHasMore(n,a);if(n.forLen!=0&&s.countNoHasMore==n.forLen)return n;let o={mtime:s.msgMtime,last_mtime:s.msgLastMTime,chat_id:e,chat_type:t},l;try{l=yield M.request("/chat/msg/sync-detail",o,!1,!0)}catch(c){l={data:{list:[]}}}return l.data&&l.data.list.length>0&&(yield Sr(e,t,l.data.list),t==m.M_CHAT_CLUB&&l.data.user_infos&&(yield br(l.data.user_infos))),s.detailIdHasMore&&s.contentDelHasMore&&(yield Wt(e,t,0,JSON.stringify(s.contentDelHasMore),s.detailIdHasMore)),qn(e,t,i)})},getSendData(e,t,i){return H.parseSendData(e,oi,t,i)},_send(e,t,i=!1,a=!1){let n={chat_id:t.chat_id,chat_type:t.chat_type,data:{msg_content:e,msg_type:t.msg_type}};a&&(n.data=Object.assign(n.data,a)),t.mtime=(Number(t.mtime)*1e3).toString(),bt(t,!1).then(()=>{typeof this.sendMsgBefore=="function"&&this.sendMsgBefore(t,i),M.request("/chat/msg/send",n,!1,!0).then(s=>{this._sendAfterSuccess(t,s,i)},s=>{this._sendAfterFail(t,s,i)})})},_sendAfterSuccess(e,t,i){if(t&&t.ok==1){let a=e.mtime;if(e.msg_status=0,e.mtime=t.data.mtime,t.data){if(t.data.msg_index_content)(e.msg_type==m.M_PAID_PHOTO||e.msg_type==m.M_PAID_VIDEO)&&(t.data.msg_index_content.check_status=1),e.msg_content=JSON.stringify(t.data.msg_index_content);else if(t.data.income){let n=z(e.msg_content);n.income=t.data.income,n.income_uid=getApp().globalData.uid,e.msg_content=JSON.stringify(n)}}Rr(e,a),Vd(e.mtime),this.sendMsgFinish(!0,e,i,t),si(t.data.balance)}else this._sendAfterFail(e,t,i)},_sendAfterFail(e,t,i){let a=e.mtime;if(e.msg_status=1,e.mtime=getApp().getCTime()*1e3,Rr(e,a),this.sendMsgFinish(!1,e,i,t),t&&t.ok==0){if(uni.hideKeyboard(),e.chat_type==m.M_CHAT_CLUB){if(typeof t.data.is_mute!="undefined"){let n={key:9,is_mute:t.data.is_mute,uid_arr:[e.club_info.club_uid]},s=this.getSendData(e.chat_id,m.M_NOTICE,JSON.stringify(n));s.send_uid=m.SYSTEM_ID,this.sendMsg(s,!1),ut(s)}else if(typeof t.data.is_member!="undefined"&&t.data.is_member==0){let n={key:5,uid:getApp().globalData.uid,founder:e.club_info.club_uid,uid_arr:[getApp().globalData.uid,e.club_info.club_uid]},s=this.getSendData(e.chat_id,m.M_NOTICE,JSON.stringify(n));s.send_uid=m.SYSTEM_ID,this.sendMsg(s,!1),ut(s)}else if(typeof t.data.is_disband!="undefined"&&t.data.is_disband==1){let n={key:7,uid:e.club_info.club_uid,uid_arr:[e.club_info.club_uid]},s=this.getSendData(e.chat_id,m.M_NOTICE,JSON.stringify(n));s.send_uid=m.SYSTEM_ID,this.sendMsg(s,!1),ut(s)}}}else if(t&&t.ok==-1){let n="";t.data&&t.data.tips&&(n=t.data.tips);let s=this.getSendData(e.chat_id,m.M_C_RECHARGE,JSON.stringify({type:2,tips:n}));s.send_uid=m.SYSTEM_ID,this.sendMsg(s,!1),ut(s)}else if(t&&t.ok==-2){let n=this.getSendData(e.chat_id,m.M_NOTICE,JSON.stringify({content:t.data.tips}));n.send_uid=m.SYSTEM_ID,this.sendMsg(n,!1),ut(n)}if(t&&t.data&&t.data.callback&&t.data.callback.func_name=="recharge_alert"){let n=this.getSendData(e.chat_id,m.M_C_RECHARGE,JSON.stringify({type:1,coins:t.data.msg_price||1}));n.send_uid=m.SYSTEM_ID,this.sendMsg(n,!1),ut(n)}},sendText(e,t,i="",a=null){if(f(t))return;let n,s=!1,o=!1;if(oi==m.M_CHAT_PRI||oi==m.M_CHAT_CLUB){let u=oi==m.M_CHAT_PRI?Ht.MSG:Ht.MSG_CLUB;o=_r(t,u)}if(o&&o.has){let u=H.parseDataText(t);u.sensitive_type=o.type,Ee.replyMsgData&&(u.reply=Ee.replyMsgData),n=JSON.stringify(u),s={sensitive_type:o.type,sensitive_text:o.find}}else{let u=H.parseDataText(t);Ee.replyMsgData&&(u.reply=Ee.replyMsgData),n=JSON.stringify(u)}let l=this.getSendData(e,m.M_TEXT,n);this.sendMsg(l);let c={content:t};Ee.replyMsgData&&(c.reply=Ee.replyMsgData,Ee.replyMsgData=""),i&&(c.gift_record=i),a&&(c=Object.assign(c,a)),this._send(JSON.stringify(c),l,!1,s)},sendVoice(e,t,i){let a=JSON.stringify(H.parseDataVoice(t,i)),n=this.getSendData(e,m.M_VOICE,a);this.sendMsg(n),H.uploadVoice(n,t,i,s=>{this._send(s,n)},s=>{this._sendAfterFail(s,null)})},sendRecommendClub(e,t){let i=JSON.stringify(H.parseDataRecommendClub(t)),a=this.getSendData(e,m.M_RECOMMEND_CLUB,i);this.sendMsg(a),this._send(i,a)},sendRecommendUser(e,t){let i=JSON.stringify(H.parseDataRecommendUser(t)),a=this.getSendData(e,m.M_RECOMMEND_USER,i);this.sendMsg(a),this._send(i,a)},sendPicture(e,t,i,a){let n=JSON.stringify(H.parseDataPicture(t,i,a,t)),s=this.getSendData(e,m.M_IMG,n);this.sendMsg(s),H.uploadPicture(s,t,i,a,o=>{this._send(o,s)},o=>{this._sendAfterFail(o,null)})},sendVideo(e,t,i,a,n,s){let o=`file://${i}`,l=JSON.stringify(H.parseDataVideo(t,o,o,a,n,s)),c=this.getSendData(e,m.M_VIDEO,l);this.sendMsg(c),H.uploadVideo(c,t,i,a,n,s,u=>{this._send(u,c)},u=>{this._sendAfterFail(u,null)})},sendPaidPhoto(e,t,i,a,n){let s=JSON.stringify(H.parseDataPicturePaid(t,i,a,t,n)),o=this.getSendData(e,m.M_PAID_PHOTO,s);this.sendMsg(o),H.uploadPicturePaid(o,t,i,a,n,(l,c)=>{this.reqSendPaidMedia(o,Xn(e,n,i,a,c.path))},l=>{this._sendAfterFail(l,null)})},sendPaidVideo(e,t,i,a,n,s,o){let l=`file://${i}`,c=JSON.stringify(H.parseDataVideoPaid(t,l,l,a,n,s,o)),u=this.getSendData(e,m.M_PAID_VIDEO,c);this.sendMsg(u),H.uploadVideoPaid(u,t,i,a,n,s,o,(d,g)=>{this.reqSendPaidMedia(u,Zn(e,o,a,n,s,g.url,g.coverUrl))},d=>{this._sendAfterFail(d,null)})},sendGift(e,t){if(Object.keys(t).length<=0)return;let i={gift_id:t.gift_id,icon:t.icon,price:t.price,title:t.title,number:t.count,svga_url:t.svga_url},a=1;if(t.gift_source)i.gift_source=1,Ui(t,!0);else{if(a=Is(t.price),a==0)return;a==1&&Ui(t,!0)}let n,s=JSON.stringify(i);n=this.getSendData(e,m.M_GIFT,s),this.sendMsg(n),this.reqSendGift(n,Mr(e,t),!1)},sendClubGift(e,t){if(Object.keys(t).length<=0)return;let i={gift_id:t.gift_id,icon:t.icon,price:t.price,title:t.title,number:t.count,svga_url:t.svga_url,to_uid:t.to_uid};Ui(t,!0),i.from_type=t.from_type?t.from_type:Ni.CLUB,t.gift_source&&(i.gift_source=1);let a=[],n={};if(t.user_list)for(let o=0,l=t.user_list.length;o<l;o++){let c=t.user_list[o];i.to_user_info=c,n=this.getSendData(e,m.M_GIFT,JSON.stringify(i)),this.sendMsg(n),a.push(n)}else n=this.getSendData(e,m.M_GIFT,JSON.stringify(i)),this.sendMsg(n),a=[n];let s=Nr(e,t,t.count);this.reqSendClubGift(a,s)},sendAskGift(e,t){if(Object.keys(t).length<=0)return;let i={gift_id:t.gift_id,icon:t.icon,price:t.price,title:t.title},a=this.getSendData(e,m.M_GIFT_ASK,JSON.stringify(i));this.sendMsg(a),this.reqSendGiftAsk(a,{gift_id:t.gift_id,to_uid:e})},sendExpressionImg(e,t,i,a){let n=JSON.stringify(H.parseDataExpression(t,i,a,t)),s=this.getSendData(e,m.M_EXPRESSION,n);this.sendMsg(s),this._send(n,s)},reqSendClubGift(e,t,i=!1){$d(e).then(()=>{M.request("/chat/gift/send",t,!1,!0,!1).then(a=>{si(a.data.balance);for(let n=0,s=e.length;n<s;n++)this._sendAfterSuccess(e[n],a,i);Mi("chat_success",2),a.data.from_bag&&Ri()},()=>{for(let a=0,n=e.length;a<n;a++)this._sendAfterFail(e[a],!1,i)})})},reqSendGift(e,t,i=!1){e.mtime=(Number(e.mtime)*1e3).toString(),bt(e,!1).then(()=>{M.request("/chat/gift/send",t,!1,!0,!1).then(a=>{si(a.data.balance),this._sendAfterSuccess(e,a,i),Mi("chat_success",2),a.data.from_bag&&Ri()},a=>{this._sendAfterFail(e,!1,i)})})},reqSendGiftAsk(e,t,i=!1){e.mtime=(Number(e.mtime)*1e3).toString(),bt(e,!1).then(()=>{M.request("/chat/gift/ask",t,!1,!0).then(a=>{this._sendAfterSuccess(e,a,i)},()=>{this._sendAfterFail(e,!1,i)})})},reqSendPaidMedia(e,t,i=!1){M.request("/chat/album/send",t,!1,!0,!1).then(a=>{this._sendAfterSuccess(e,a,i)},a=>{a&&a.data&&typeof a.data.callback=="object"||this._sendAfterFail(e,!1,i)})},resend(e){if(e.ctime=getApp().getCTime(),e.mtime=e.ctime*1e3,e.msg_status=0,this.sendMsg(e),e.msg_type==m.M_VOICE){let t=z(e.msg_content);Nt(t.voice_url)?H.uploadVoice(e,t.voice_url,t.voice_duration,i=>{this._send(i,e,!0)},i=>{this._sendAfterFail(i,null,!0)}):this._send(e.msg_content,e,!0)}else if(e.msg_type==m.M_IMG){let t=z(e.msg_content);Nt(t.image_url)?H.uploadPicture(e,t.image_url,t.image_width,t.image_height,i=>{this._send(i,e,!0)},i=>{this._sendAfterFail(i,null,!0)}):this._send(e.msg_content,e,!0)}else if(e.msg_type==m.M_VIDEO){let t=z(e.msg_content);Nt(t.url)?H.uploadVideo(e,t.url,t.cover,t.width,t.height,t.duration,i=>{this._send(i,e,!0)},i=>{this._sendAfterFail(i,null,!0)}):this._send(e.msg_content,e,!0)}else if(e.msg_type==m.M_GIFT){let t=z(e.msg_content);if(!t)return;let i={};e.chat_type==m.M_CHAT_CLUB?i=Nr(e.chat_id,t,t.number):(t.count=t.number,i=Mr(e.chat_id,t)),this.reqSendGift(e,i,!0)}else if(e.msg_type==m.M_GIFT_ASK){let t=z(e.msg_content);this.reqSendGiftAsk(e,{gift_id:t.gift_id,to_uid:e.chat_id},!0)}else if(e.msg_type==m.M_PAID_PHOTO){let t=z(e.msg_content);Nt(t.image_url)?H.uploadPicturePaid(e,t.image_url,t.image_width,t.image_height,t.content,(i,a)=>{this.reqSendPaidMedia(e,Xn(e.chat_id,t.content,t.image_width,t.image_height,a.path),!0)},i=>{this._sendAfterFail(i,null,!0)}):this.reqSendPaidMedia(e,Xn(e.chat_id,t.content,t.image_width,t.image_height,t.image_url),!0)}else if(e.msg_type==m.M_PAID_VIDEO){let t=z(e.msg_content);Nt(t.url)?H.uploadVideoPaid(e,t.url,t.cover_url,t.width,t.height,t.duration,t.content,(i,a)=>{this.reqSendPaidMedia(e,Zn(e.chat_id,t.content,t.width,t.height,t.duration,a.url,a.coverUrl))},i=>{this._sendAfterFail(i,null)}):this.reqSendPaidMedia(e,Zn(e.chat_id,t.content,t.width,t.height,t.duration,t.url,t.cover_url))}else this._send(e.msg_content,e,!0)},replyMsgData:""};function Mr(e,t){let i={from_type:Ni.MSG,gift_id:t.gift_id,to_uid:e,action:1,number:t.count};return typeof t.gift_source!="undefined"&&(i.gift_source=t.gift_source),typeof t.from_ask!="undefined"&&(i.from_ask=t.from_ask),i}function Nr(e,t,i){let a={from_type:Ni.CLUB,gift_id:t.gift_id,to_uid:t.to_uid,action:1,number:i,club_id:e};return t.gift_source&&(a.gift_source=1),a}function Xn(e,t,i,a,n){return{chat_id:e,media_type:m.PHOTO,content:t||"",media:{width:i,height:a,photo_url:n}}}function Zn(e,t,i,a,n,s,o){return{chat_id:e,media_type:m.VIDEO,content:t||"",media:{width:i,height:a,duration:n,video_url:s,photo_url:o}}}function $d(e){return new Promise(t=>{let i=e.length,a=0;for(let n=0;n<i;n++){let s=e[n];s.mtime=(Number(s.mtime)*1e3).toString(),bt(s,!1).then(()=>{a+=1,a==i&&t()})}})}function Rr(e,t){let i={mtime:e.mtime,msg_status:e.msg_status,msg_content:`'${ae(e.msg_content)}'`};Dr(e.chat_id,e.chat_type,t,i).then(()=>Hi(e.chat_id,e.chat_type)).then(a=>a?a.mtime!=t?qe:Tr(e.chat_id,e.chat_type,i):qe).then(a=>{typeof a!="undefined"&&a==1&&uni.$emit("event_msg_index_send",e)})}function Vd(e){let t=te(`msg_index_sync_time_${getApp().globalData.uid}`);e>=t&&Rn()&&(getApp().globalData.adminKefuDBSyncDoing||ue(`msg_index_sync_time_${getApp().globalData.uid}`,e))}var Vi=getApp().globalData.window,Or=Le("dom"),jd=Le("animation"),ji=0,Fr={data(){return{indexCTime:0,indexMTime:0,messageNone:1,navBarTitle:"",showMask:!0,sw:Vi.width,viewHeight:Vi.height-Vi.statusBarHeight-44,msgBarHeight:Vi.safeBottom+uni.upx2px(104),scrollable:!0,historyList:[],addList:[],previewList:[],previewKeyList:[],isAddTitleClick:!1,failObj:{},inputHeight:uni.upx2px(35),itemHeightLast:10,itemHeightFirst:10,changeHTop:0,changeHBottom:0,barActionHeight:0,barSlotShow:!0,barSlotH:0,barSlotHeight:uni.upx2px(84),replyMsgData:"",replyMsgMtime:""}},computed:{classRotate(){return this.messageNone?"":"rotate-list"},mutedTips(){return this.muteMaskType==1?p("msg.mutedYouTip"):p("msg.mutedAllTip")}},methods:{clickBarGift(){this.checkClubMuted()||this.$refs.giftSheet.open(this.chatId)},clickBarUser(){this.checkClubMuted()||ne("/pagesPub/user/user-list",{from_type:3},"data",{},{onRecommendListener:this.onRecommendListener})},clickBarClub(){this.checkClubMuted()||ne("/pagesClub/search",{type:2},"data",{},{onRecommendListener:this.onRecommendListener})},clickMsgList(e){e&&e.stopPropagation(),this.$refs.msgBar&&this.$refs.msgBar.hide()},clickPicture(e){let t=this.previewKeyList.indexOf(e.pKey);t!=-1&&Ve(this.previewList,t,0)},clickFail(e,t,i){!e||e.chat_id!=this.chatId||e.chat_type!=this.chatType||this.chatType==m.M_CHAT_ASS&&Ft(Lt.MSG_SYSTEM,!1)||Er()||Ms(this.user)||Fe(p("tips"),p("msg.resendTips"),()=>{let a=this.failObj[e.ctime];f(a)&&(a=e);let n;if(i==1?n=this.historyList[t-1]:n=this.addList[t+1],this.onMsgAction(1,i,t,e),n){let s=!1;n.msg_type==m.M_C_RECHARGE?s=!0:n.msg_type==m.M_NOTICE&&(s=[5,7,9].indexOf(n.content.key)!=-1),s&&this.$nextTick(()=>{let o=this.$refs[`msg${n.ctime}`][0].index;typeof o!="undefined"&&this.onMsgAction(1,i,o,n)})}this.scrollBottom(),this.resend(a)},"",p("resend"))},checkClubMuted(){return this.chatType==m.M_CHAT_CLUB&&this.muteMaskType>0?(Qe(p("tips"),this.mutedTips,"",p("gotIt")),!0):!1},sendMsgFinish(e,t,i,a){try{if(this.$refs[`msg${t.ctime}`][0].hideLoading(t.mtime),a&&a.data&&a.data.income&&this.$refs[`msg${t.ctime}`][0].showIncome(a.data.income),this.chatType!=m.M_CHAT_CLUB?t.user_info=this.user:(t.club_info=this.club,t.user_info=this.userInfos[getApp().globalData.uid]),e){delete this.failObj[t.ctime],typeof this.sendMsgFinishAfter=="function"&&this.sendMsgFinishAfter(t,a);return}this.handleFail(t)}catch(n){F("error","at pagesMsg/chat.mixin.js:145","sendMsgFinish catch error ---> ",n)}},sendMsgBefore(e,t){try{this.chatType!=m.M_CHAT_CLUB?e.user_info=this.user:(e.club_info=this.club,e.user_info=this.userInfos[getApp().globalData.uid]),uni.$emit("event_msg_index_send",e,t)}catch(i){F("error","at pagesMsg/chat.mixin.js:158","sendMsgBefore catch error ---> ",i)}},clearIndexUnread(){Wi(this.chatId,this.chatType).then(e=>{e<=0||uni.$emit("event_msg_index_unread",{chatId:this.chatId,chatType:this.chatType,unread:e})})},clearReplyMsgData(){f(this.replyMsgData)||(this.replyMsgData="",this.barSlotHeight-=uni.upx2px(88))},animDef(e,t,i,a=!1,n){jd.transition(e,{styles:t,duration:i,timingFunction:"ease",needLayout:a,delay:0},()=>{typeof n=="function"&&n()})},addPreviewInfo(e,t){if([m.M_IMG,m.M_VIDEO,m.M_PAID_PHOTO,m.M_PAID_VIDEO].indexOf(Number(e.msg_type))==-1)return null;if(!((e.msg_type==m.M_PAID_PHOTO||e.msg_type==m.M_PAID_VIDEO)&&e.content.check_status==0))try{let i=ls(),a=e.content,n=As(e,a);return t==1?(this.previewList.unshift(n),this.previewKeyList.unshift(i)):(this.previewList.push(n),this.previewKeyList.push(i)),i}catch(i){return null}},addMsgTimeByFirst(){let e=this.historyList[this.historyList.length-1];e==null||e.msg_type==1e3||this.historyList.push(H.parseMsgTime(e.ctime))},addMsgTimeByLast(e,t=H.titleTimeCheck){if(ji==0){let i=this.addList.length>0?this.addList[this.addList.length-1]:this.historyList[0];!f(i)&&i.ctime&&(ji=i.ctime)}Ai(ji,e,t)&&(this.addList.push(H.parseMsgTime(e)),ji=e)},addMsgTranslateTip(e,t=!1){if(e&&t){if(te("translate_auto_msg"))return;ue("translate_auto_msg",1)}let i=e?p("msg.translateAutoOpenMsgTips"):p("msg.translateAutoCloseMsgTips"),a=H.parseSendData(this.chatId,m.M_CHAT_PRI,m.M_NOTICE,JSON.stringify({content:i})),n=getApp().getCTime();a.ctime=n,a.mtime=n*1e3,a.send_uid=1;let s=H.parseItem(a,getApp().pubUser);t?this.messageNone?this.addList.push(s):this.historyList.unshift(s):this.addList.push(s)},addMsg(e,t,i){let a;e.chat_type==m.M_CHAT_CLUB?(this.userInfos=Object.assign(this.userInfos,e.user_infos),a=H.parseItem(e,this.userInfos,this.club)):a=H.parseItem(e,t,{}),this.addMsgTimeByLast(a.ctime);let n=this.addPreviewInfo(a,2);n&&(a.pKey=n),this.addList.push(a),this.$nextTick(()=>{this.messageNone&&this.scrollBottom(),typeof i=="function"&&i()})},setCurChat(e){e?(getApp().globalData.curChatId==this.chatId&&(getApp().globalData.curChatId=0),getApp().globalData.curChatType==this.chatType&&(getApp().globalData.curChatType=0)):(getApp().globalData.curChatId=this.chatId,getApp().globalData.curChatType=this.chatType)},changeBarSlot(e){if(!(this.barSlotH<=0)&&this.barSlotShow!=e&&!(e&&this.barActionHeight>0))if(this.barSlotShow=e,this.messageNone){let t={transform:`translateY(${e?0:this.barSlotH}px)`};this.animDef(this.$refs.refBarSlot,t,m.isAndroid?10:200,!0)}else if(m.isAndroid)this.barSlotHeight=e?this.barSlotH:0;else{let t={height:`${e?this.barSlotH:0}px`};this.animDef(this.$refs.refBarSlot,t,200,!0)}},parseMsgItem(e,t,i,a){if(i==1){let o=H.getHistoryTitleTime(t.ctime);o!=null&&a!=0&&e.push(o)}else{let o=H.getAddTitleTime(t.ctime);o!=null&&e.push(o)}let n;t.chat_type==m.M_CHAT_CLUB?n=H.parseItem(t,this.userInfos,this.club):n=H.parseItem(t,this.user,{});let s=this.addPreviewInfo(n,i);s&&(n.pKey=s),e.push(n)},handleFail(e){this.failObj[e.ctime]=e,this.$refs[`msg${e.ctime}`][0].showFail()},handleGetUsers(e){return new Promise(t=>Ae(this,null,function*(){let i=[];for(let a=0,n=e.length;a<n;a++){let s=e[a],o=z(s.msg_content);if(s.contentObj=o,o.uid_arr)for(let l=0,c=o.uid_arr.length;l<c;l++)!this.userInfos[o.uid_arr[l]]&&i.indexOf(o.uid_arr[l])==-1&&i.push(o.uid_arr[l]);o.tran_text&&(this.tranTextLen+=1),!this.userInfos[s.send_uid]&&i.indexOf(s.send_uid)==-1&&i.push(s.send_uid)}if(i.length>0){let a=yield xr(i,!1);this.userInfos=Object.assign(this.userInfos,a),t()}else t()}))},handleSyncFinish(){return Ae(this,null,function*(){F("error","at pagesMsg/chat.mixin.js:331","--------> \u6267\u884C\u6D88\u606F\u540C\u6B65\u7ED3\u675F \u5237\u65B0\u6D88\u606F\u3002\u3002\u3002");let e;this.addList.length>0?e=this.addList[this.addList.length-1]:this.historyList.length>0?e=this.historyList[0]:e=null;let t=e?e.ctime:0,i;Cr(this.chatId,this.chatType,t,40).then(a=>!a.length||a.length<=0?qe:(i=a,this.handleGetUsers(a))).then(()=>{this.clearIndexUnread();let a=!1,n=-1;for(let u=0,d=i.length;u<d;u++){let g=i[u],h=z(g.msg_content);if(a=h?h.has_more:!1,a){n=u;break}}let s=i;if(a&&(s=i.slice(n+1,i.length),this.previewList=[],this.previewKeyList=[]),typeof this.syncFinish=="function"){this.syncFinish(a,s);return}let o=this.addList.length,l=[];for(let u=0,d=s.length;u<d;u++)this.parseMsgItem(l,s[u],2,u);if(this.addList=[...this.addList,...l],this.$nextTick(()=>{this.scrollBottom(),typeof this.handleSyncFinishNext=="function"&&this.handleSyncFinishNext()}),!a)return;this.historyList=[],this.addList.splice(0,o);let c=s[0];this.indexCTime=c.ctime,this.indexMTime=c.mtime,typeof this.handleSyncFinishNext=="function"&&this.handleSyncFinishNext()})})},scrollBottom(e=!1){let t=this.messageNone?"cellNew":"cellLast";this.scrollList(this.$refs[t],e)},scrollList(e,t=!0){Or.scrollToElement(e,{animated:t})},getReplyMsgNickname(e){return e.chat_type==m.M_CHAT_ASS?e.chat_id==m.SYSTEM_ID&&e.send_uid!=getApp().globalData.uid?p("customerService"):e.chat_id!=m.SYSTEM_ID&&e.send_uid!=e.chat_id?p("customerService"):e.user.nickname:e.user.nickname},getSaveReplyMsg(e){let t=vr(e),i=Lr(e);return{nickname:this.getReplyMsgNickname(e),ctime:e.ctime,mtime:e.mtime,msg_type:e.msg_type,content:t,img:i}},onClickTextReplyContent(e){let t=this.$refs["cell"+e.mtime];if(!t)return;Or.scrollToElement(t[0],{animated:!0,offset:0});let i=setTimeout(()=>{this.replyMsgMtime=e.mtime;let a=setTimeout(()=>{this.replyMsgMtime="",clearTimeout(a)},500);clearTimeout(i)},300)},onClickMsgBarReplyClose(){this.clearReplyMsgData(),Ee.replyMsgData&&(Ee.replyMsgData="")},onTranslateAutoChange(e){this.addMsgTranslateTip(e,!1)},onRecordFinish(e){F("error","at pagesMsg/chat.mixin.js:443","-----> msg onRecordFinish "+JSON.stringify(e)),this.onRecordFinishNext(e)},onKeyboardChange(e){let t=e.height>0;t&&this.scrollBottom(),this.changeBarSlot(!t),this.onKeyboardChangeNext(t,e.height),gs(e)},onRecommendListener(e,t){e==2?Ee.sendRecommendClub(this.chatId,t):e==1&&Ee.sendRecommendUser(this.chatId,t)},onMsgItemPopListener(e){e.data.isAdmin||!e.data||e.data.chat_id!=this.chatId||e.data.chat_type!=this.chatType||this.$refs.msgItemPop.open(e)},onMsgItemPopDel(e){this.onMsgAction(1,e.listType,e.index,e.msgData)},onMsgItemPopReply(e){this.onMsgAction(2,e.listType,e.index,e.msgData)},onGiftSheetChange(e){if(e.show){if(this.barActionHeight>0)return;let t=e.height-this.msgBarHeight;this.messageNone?(this.changeHBottom=t,this.$nextTick(()=>{this.scrollBottom()})):this.changeHTop=t}else this.changeHTop=0,this.changeHBottom=0},onMsgAction(e,t,i,a){if(!(a.chat_id!=this.chatId||a.chat_type!=this.chatType))if(e==1){if(i<0)return;t==1?this.historyList.splice(i,1):this.addList.splice(i,1),kr(a.chat_id,a.chat_type,0,a.ctime);let n=this.previewKeyList.indexOf(a.pKey);if(n==-1)return;this.previewList.splice(n,1),this.previewKeyList.splice(n,1)}else e==2&&(f(this.replyMsgData)&&(this.barSlotHeight=this.barSlotHeight+uni.upx2px(88)),this.replyMsgData=a,Ee.replyMsgData=this.getSaveReplyMsg(a),this.$refs.msgBar.focus())},onActionOpen(e,t){this.barActionHeight=t,this.$nextTick(()=>{if(e)this.messageNone&&this.scrollBottom();else{let i=setTimeout(()=>{this.messageNone&&this.scrollBottom(),clearTimeout(i)},100)}this.changeBarSlot(!e),this.onActionOpenNext(e,t)})},onInputLineChange(){this.messageNone&&this.scrollBottom()},initTitle(){this.chatType!=m.M_CHAT_CLUB&&this.initNavBarRBtnType("menu",0),this.isAddTitleClick||(this.currentWebview.getTitleNView().addEventListener("click",this.clickTitle,!1),this.isAddTitleClick=!0)}},onShow(){this.setCurChat(!1)},onHide(){this.setCurChat(!0),uni.hideKeyboard()},onLoad(){uni.$on("event_translate_auto_change",this.onTranslateAutoChange)},onUnload(){uni.$off("event_translate_auto_change",this.onTranslateAutoChange),this.setCurChat(!0)}},zd={"view-content":{"":{flexDirection:"row",alignItems:"center"}},"op-item":{"":{height:"72rpx",width:"146rpx",textAlign:"center",lineHeight:"72rpx",fontSize:"28rpx"}},"op-text":{"":{height:"72rpx",width:"146rpx",textAlign:"center",lineHeight:"72rpx",fontSize:"28rpx",color:"#FFFFFF"}}},Yd={emits:["onMsgItemPopDel","onMsgItemPopReply"],data(){return{size:{},msgData:{},msgListType:0,msgIndex:0,contentList:[],fromAdmin:!1,fromKefu:!1}},computed:{viewBg(){return getApp().globalData.themeObj.style==Z.LIGHT?"#444444":"#555555"}},methods:{clickItem(e){switch(e){case"delete":this.$emit("onMsgItemPopDel",{msgData:this.msgData,listType:this.msgListType,index:this.msgIndex});break;case"report":$("/pagesPub/my/report",{type:1,targetId:this.msgData.send_uid});break;case"copy":let t=this.msgData.content.content;if(this.msgData.content.text){t=this.msgData.content.text;for(let i=0,a=this.msgData.content.info.length;i<a;i++)t=t.replace("[x]",this.msgData.content.info[i].text)}Ei(t);break;case"admin_del":Fe(ze("tips"),ze("deleteMsgForAllTip"),()=>{let i={chat_id:this.msgData.chat_id,chat_type:this.msgData.chat_type,mtime:this.msgData.mtime,target_uid:this.msgData.uid};i.target_uid=this.msgData.chat_type==1?this.msgData.uid:this.msgData.send_uid,M.request("/admin/msg/delete",i,!0).then(()=>{this.$emit("onMsgItemPopDel",{msgData:this.msgData,listType:this.msgListType,index:this.msgIndex})})},"",ze("delete"),!0,ze("cancel"));break;case"admin_del_ass":Fe(ze("tips"),ze("deleteMsgForAllTip"),()=>{let i={chat_id:m.SYSTEM_ID,chat_type:this.msgData.chat_type,mtime:this.msgData.mtime,target_uid:this.msgData.chat_id,status:3};M.request("/admin/msg/delete",i,!0).then(()=>{this.$emit("onMsgItemPopDel",{msg_status:Qt.KEFU_DEL,msgData:this.msgData,listType:this.msgListType,index:this.msgIndex})})},"",ze("delete"),!0,ze("cancel"));break;case"reply":this.$emit("onMsgItemPopReply",{msgData:this.msgData,listType:this.msgListType,index:this.msgIndex});break}},parseContentList(){if(this.contentList=[],this.fromAdmin)this.msgData.chat_type==m.M_CHAT_ASS?!this.msgData.is_del&&this.msgData.msg_status!=Qt.KEFU_DEL&&([m.M_TEXT,m.M_IMG,m.M_VIDEO,m.M_EXPRESSION].indexOf(this.msgData.msg_type)!=-1&&this.contentList.push({key:"admin_del_ass",title:ze("delete")}),this.msgData.msg_status!=Qt.FAIL&&this.contentList.unshift({key:"reply",title:p("reply")})):this.msgData.is_del||this.contentList.push({key:"admin_del",title:ze("delete")});else{this.contentList.push({key:"delete",title:p("delete")});let e=[m.M_CHAT_NOTICE,m.M_CHAT_NOTIFY,m.M_CHAT_CLUB_NOTICE].indexOf(this.msgData.chat_type)!=-1;!this.msgData.isSend&&this.msgData.msg_type!=m.M_GIFT&&!e&&this.contentList.push({key:"report",title:p("report")}),this.msgData.msg_status!=Qt.FAIL&&this.contentList.unshift({key:"reply",title:p("reply")})}this.msgData.msg_type==m.M_TEXT&&this.contentList.unshift({key:"copy",title:p("copy")})},open(e,t=!1,i=!1){this.size=e.size,this.msgData=e.data,this.msgListType=e.listType,this.msgIndex=e.index,this.fromAdmin=t,this.fromKefu=i,this.parseContentList(),!(this.contentList.length<=0)&&this.$refs.refPop.open()}}};function Kd(e,t,i,a,n,s){let o=S((0,se.resolveDynamicComponent)("custom-popover"),Ir);return(0,se.openBlock)(),(0,se.createBlock)(o,{ref:"refPop",size:n.size,bgColor:s.viewBg,"triangle-is-top":!1},{default:(0,se.withCtx)(()=>[(0,se.createElementVNode)("view",{class:"view-content"},[((0,se.openBlock)(!0),(0,se.createElementBlock)(se.Fragment,null,(0,se.renderList)(n.contentList,(l,c)=>((0,se.openBlock)(),(0,se.createElementBlock)("u-text",{key:"op_"+c,onClick:u=>s.clickItem(l.key),class:"op-text"},(0,se.toDisplayString)(l.title),9,["onClick"]))),128))])]),_:1},8,["size","bgColor"])}var Pr=E(Yd,[["render",Kd],["styles",[zd]]]);var Br={data(){return{playTimer:!1,isPlayingByTouch:!1,mAudioInner:uni.createInnerAudioContext(),mLastPlayCTime:0}},methods:{clickMsgVoice(e,t){let i=this.$refs[`msg${e.ctime}`][0];if(!i)return;if(!e.isSend&&e.content.voice_unread==0&&(e.content.voice_unread=1,Wt(this.chatId,this.chatType,e.ctime,JSON.stringify(e.content))),typeof this.mAudioInner.paused!="undefined"&&!this.mAudioInner.paused&&(this.mAudioInner.stop(),this.playTimer&&clearInterval(this.playTimer),this.$refs[`msg${this.mLastPlayCTime}`][0].changeIcon(!1),this.mLastPlayCTime==e.ctime)){this.mLastPlayCTime=0;return}this.mAudioInner.src=ys(e.content.voice_url),this.mAudioInner.startTime=t,this.mLastPlayCTime=e.ctime,this.mAudioInner.play(),this.handlePlayTimer(e.ctime),i.changeIcon(!0)},onMsgVoiceChange(e,t,i){if(!e){this.scrollable=!1,!this.mAudioInner.paused&&i.ctime==this.mLastPlayCTime?(this.isPlayingByTouch=!0,this.mAudioInner.pause(),this.playTimer&&clearInterval(this.playTimer)):this.isPlayingByTouch=!1;return}this.scrollable=!0,this.isPlayingByTouch&&(this.mAudioInner.seek(t),this.mAudioInner.play(),this.handlePlayTimer(i.ctime))},handlePlayTimer(e){let t=this.$refs[`msg${e}`][0];this.playTimer&&clearInterval(this.playTimer),this.playTimer=setInterval(()=>{if(this.mAudioInner.paused)return;let i=this.mAudioInner.currentTime,a=Math.round(i*100);isNaN(a)||t.changeDuration(Math.round(i),a)},100)},initAudio(){this.mAudioInner.onEnded(()=>{this.playTimer&&clearInterval(this.playTimer),this.$refs[`msg${this.mLastPlayCTime}`][0].changeIcon(!1),this.$refs[`msg${this.mLastPlayCTime}`][0].changeDuration(-1,0),this.mLastPlayCTime=0}),this.mAudioInner.onError(e=>{this.playTimer&&clearInterval(this.playTimer),this.$refs[`msg${this.mLastPlayCTime}`][0].changeIcon(!1),this.mLastPlayCTime=0})}},onLoad(){this.initAudio()},onUnload(){this.mAudioInner.destroy(),this.playTimer&&clearInterval(this.playTimer)}};var pt=K(q()),Jd={emits:["click"],props:{data:{type:Object,default(){return{text:"",info:[],click:[]}}},fontSize:{type:String,default:"24rpx"},color:{type:String,default(){return getApp().globalData.themeObj.color.title}},selectable:{type:Boolean,default:!1}},data(){return{version:0,nodes:[{name:"div",children:[]}]}},watch:{data(){this.parse()}},methods:{click(e){let t=Array.isArray(this.data.click)?this.data.click[0]:this.data.click;t&&(t.disabled||(e.stopPropagation(),t.action==1?$("/pages/main/user-home",{uid:t.id}):t.action==2?Ot(t.id,t.member,0):t.action==3?vi(0,1):t.action==4?Si(t.id):t.action==5?Xt(t.url,!1):t.action==6?Xt(t.url,!0):t.action==100?$(t.url):t.action==101&&this.$emit("click")))},parseTextV1(e,t,i,a="",n=""){let s={type:"text",text:`${t?"&nbsp;":""}${e}${i?"&nbsp;":""}`},o="";return a!=""&&(o+=`color:${a};`),n!=""&&(o+=`font-size:${n};`),o!=""&&(s.attrs={style:o}),s},parseDataV1(){let e=[];if(this.data.text=="[x]"){let i=this.data.info[0];this.nodes[0].children=[this.parseTextV1(i.text,!1,!1,i.color)];return}let t=this.data.text.split("[x]");for(let i=0,a=t.length;i<a;i++){let n=t[i];n!=""&&e.push(this.parseTextV1(n,!1,!1,this.color));let s=this.data.info[i];if(s){let o,l;try{f(n)||n.endsWith('"')?o=!1:o=!0;let u=t[i+1];f(u)||u.startsWith('"')||u.startsWith(",")||u.startsWith(".")?l=!1:l=!0}catch(u){o=!0,l=!0}let c="";s.user_info?s.user_info.uid==getApp().pubUser.uid?c=s.self:c=s.nickname:c=s.text,e.push(this.parseTextV1(c,o,l,s.color))}}e.length>1&&(this.nodes[0].children=e)},parseText(e,t="",i=""){let a={type:"text",text:`${e}`},n="";return f(t)||(n+=`color:${t};`),f(i)||(n+=`font-size:${i};`),n!=""&&(a.attrs={style:n}),a},parse(){let e=this.data.text.split(/(\[%\w+%\])/).filter(function(i){return i!==""});if(e.length<=1){this.parseDataV1();return}let t=[];for(let i=0,a=e.length;i<a;i++){let n=e[i];if(n.startsWith("[%")){let o=n.replace(/[\s+,\[%,%\]]/g,""),l=this.data.info[o];if(f(l)||f(l.text))continue;t.push(this.parseText(l.text,l.color,l.fontSize))}else n.startsWith(" ")&&(n=`&nbsp;${n}`),n.endsWith(" ")&&(n=`${n}&nbsp;`),t.push(this.parseText(n,this.color))}t.length>1&&(this.nodes[0].children=t)}},created(){f(this.data.text)||this.parse()}};function qd(e,t,i,a,n,s){let o=(0,pt.resolveComponent)("rich-text");return(0,pt.openBlock)(),(0,pt.createBlock)(o,{onClick:s.click,nodes:n.nodes,selectable:i.selectable,style:(0,pt.normalizeStyle)({color:i.color,fontSize:i.fontSize})},null,8,["onClick","nodes","selectable","style"])}var Y=E(Jd,[["render",qd]]);var D=K(q());var Gt=K(q());var Xd={line:{"":{height:"2rpx",transform:"scaleY(0.5)",transformOrigin:"50% 100%"}}},Zd={computed:{bgColor(){return getApp().globalData.themeObj.color.line}}};function Qd(e,t,i,a,n,s){return(0,Gt.openBlock)(),(0,Gt.createElementBlock)("view",{style:(0,Gt.normalizeStyle)({background:s.bgColor}),class:"line",renderWhole:!0},null,4)}var Be=E(Zd,[["render",Qd],["styles",[Xd]]]);var ep={"m-t-10":{"":{marginTop:"20rpx"}},"center-between":{"":{alignItems:"center",flexDirection:"row",justifyContent:"space-between"}},detail:{"":{paddingTop:"14rpx",paddingRight:"26rpx",paddingBottom:"14rpx",paddingLeft:"26rpx",lineHeight:"32rpx"}},title:{".detail ":{fontWeight:"500"}}},tp={components:{MLine:Be,UniIcons:Xe,LImg:N},props:{detail:{type:Object,default(){return{}}},titleSize:{type:[String,Number],default:24},titleColor:{type:String,default:"#0091FF"}},data(){return{lineH:m.isAndroid?"4rpx":"2rpx"}},methods:{clickDetail(e){e&&e.stopPropagation(),!f(this.detail)&&(f(this.detail.action)||M.handleCallback(this.detail.action))}}};function ip(e,t,i,a,n,s){let o=(0,D.resolveComponent)("m-line"),l=S((0,D.resolveDynamicComponent)("uni-icons"),Xe);return i.detail?((0,D.openBlock)(),(0,D.createElementBlock)("view",{key:0,onClick:t[0]||(t[0]=(...c)=>s.clickDetail&&s.clickDetail(...c)),onLongpress:c=>!1,renderWhole:!0},[(0,D.createVNode)(o,{style:(0,D.normalizeStyle)([{height:n.lineH},{"margin-left":"26rpx"}])},null,8,["style"]),(0,D.createElementVNode)("view",{class:"detail center-between"},[(0,D.createElementVNode)("u-text",{class:"title",style:(0,D.normalizeStyle)({fontSize:`${i.titleSize}rpx`,color:i.titleColor})},(0,D.toDisplayString)(i.detail.title),5),(0,D.createVNode)(l,{type:"right",size:"32rpx",color:i.titleColor,style:{"margin-right":"-8rpx"}},null,8,["color"])])],32)):(0,D.createCommentVNode)("",!0)}var Ie=E(tp,[["render",ip],["styles",[ep]]]),np={container:{"":{marginTop:"28rpx",paddingTop:0,paddingRight:15,paddingBottom:0,paddingLeft:15,alignItems:"flex-start",flexDirection:"row"}},"content-view":{"":{marginLeft:8,borderTopLeftRadius:0,borderTopRightRadius:8,borderBottomRightRadius:8,borderBottomLeftRadius:8}},"top-view":{"":{flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},"text-time":{"":{fontSize:"20rpx",marginRight:"24rpx",color:"#999999"}},"tag-bg":{"":{flexDirection:"row",paddingTop:0,paddingRight:"20rpx",paddingBottom:0,paddingLeft:"16rpx",height:"48rpx",alignItems:"center",backgroundImage:"linear-gradient(to right, #FF00BD, #FF5954)",borderTopLeftRadius:0,borderTopRightRadius:0,borderBottomRightRadius:8,borderBottomLeftRadius:0}},"text-tag":{"":{fontSize:"20rpx",color:"#FFFFFF",marginLeft:"8rpx"}}},ap=Le("dom"),sp={props:{data:{type:Object,default(){return{}}},width:{type:Number,default:getApp().globalData.window.width-90-uni.upx2px(76)},index:{type:Number,default:-1},listType:{type:Number,default:1}},computed:{getTitle(){let e=this.data.msg_content;if(!f(e))return e=z(e),f(e.title)?p("msg.secretaryNotice"):e.title},viewBg(){return getApp().globalData.themeObj.style==Z.LIGHT?"#FFFFFF":getApp().globalData.themeObj.color.bg3}},methods:{$str:p,onLongPress(e){if(e&&e.stopPropagation(),!getApp().globalData.userConfig.del_sys_msg||this.data.msg_id)return;let t=`msg-${this.data.chat_id}-${this.data.ctime}`;ap.getComponentRect(this.$refs[t],i=>{i&&i.size&&uni.$emit("event_msg_popover",{size:i.size,data:this.data,listType:this.listType,index:this.index})})}}};function rp(e,t,i,a,n,s){let o=S((0,D.resolveDynamicComponent)("l-img"),N);return(0,D.openBlock)(),(0,D.createElementBlock)("view",{class:"container",renderWhole:!0},[(0,D.createVNode)(o,{src:i.data.user.avatar,w:"76rpx",h:"76rpx",radius:"38rpx"},null,8,["src"]),(0,D.createElementVNode)("view",{onLongpress:t[0]||(t[0]=(...l)=>s.onLongPress&&s.onLongPress(...l)),ref:"msg-"+i.data.chat_id+"-"+i.data.ctime,style:(0,D.normalizeStyle)({width:`${i.width}px`,background:s.viewBg}),class:"content-view"},[(0,D.createElementVNode)("view",{class:"top-view"},[(0,D.createElementVNode)("view",{class:"tag-bg"},[(0,D.createVNode)(o,{h:"28rpx",src:"s/msg/bells_white_1.png",w:"28rpx"}),(0,D.createElementVNode)("u-text",{class:"text-tag"},(0,D.toDisplayString)(s.getTitle),1)]),(0,D.createElementVNode)("u-text",{class:"text-time"},(0,D.toDisplayString)(i.data.showTime),1)]),(0,D.renderSlot)(e.$slots,"default")],36)])}var oe=E(sp,[["render",rp],["styles",[np]]]),op={"center-between":{"":{alignItems:"center",flexDirection:"row",justifyContent:"space-between"}}},lp={components:{MText:ee,MsgDetail:Ie,RichContent:Y,MsgNDef:oe},props:{data:{type:Object,default(){return{}}},index:{type:Number,default:-1},listType:{type:Number,default:1}},data(){return{richText:"",detail:""}},methods:{parseData(){let e=this.data.content;f(e)||(e.text&&e.info&&(this.richText={text:e.text,info:e.info,click:[e.click]}),e.detail&&(this.detail=e.detail))}},created(){this.parseData()}};function cp(e,t,i,a,n,s){let o=(0,D.resolveComponent)("m-text"),l=S((0,D.resolveDynamicComponent)("rich-content"),Y),c=(0,D.resolveComponent)("msg-detail"),u=(0,D.resolveComponent)("msg-n-def");return(0,D.openBlock)(),(0,D.createBlock)(u,{data:i.data,listType:i.listType,index:i.index},{default:(0,D.withCtx)(()=>[(0,D.createElementVNode)("view",{style:{margin:"20rpx 26rpx 0 26rpx"}},[i.data.content.tips?((0,D.openBlock)(),(0,D.createBlock)(o,{key:0,text:i.data.content.tips,style:{"font-size":"30rpx","margin-bottom":"20rpx","line-height":"40rpx"}},null,8,["text"])):(0,D.createCommentVNode)("",!0),n.richText?((0,D.openBlock)(),(0,D.createBlock)(l,{key:1,onLongpress:d=>!1,data:n.richText,"font-size":"30rpx",style:{"background-color":"transparent","text-align":"left","margin-bottom":"20rpx","line-height":"40rpx"}},null,8,["data"])):(0,D.createCommentVNode)("",!0)]),n.detail?((0,D.openBlock)(),(0,D.createBlock)(c,{key:0,detail:n.detail},null,8,["detail"])):(0,D.createCommentVNode)("",!0)]),_:1},8,["data","listType","index"])}var Ur=E(lp,[["render",cp],["styles",[op]]]),up={center:{"":{flexDirection:"row",alignItems:"center"}},container:{"":{paddingTop:"20rpx",paddingRight:"26rpx",paddingBottom:"20rpx",paddingLeft:"26rpx"}},"phone-wrap":{".container ":{marginTop:"20rpx",borderRadius:"8rpx",backgroundColor:"rgba(255,68,119,0.1)",paddingTop:"16rpx",paddingRight:"20rpx",paddingBottom:"16rpx",paddingLeft:"20rpx"}},platform:{".container .phone-wrap ":{fontSize:"28rpx",color:"#FF4477",lineHeight:"42rpx",marginLeft:"4rpx"}}},dp={components:{MText:ee,RichContent:Y,LImg:N,MsgNDef:oe},props:{data:{type:Object,default(){return{}}},index:{type:Number,default:-1},listType:{type:Number,default:1}},data(){return{contentW:getApp().globalData.window.width-38-uni.upx2px(76),cooperation:getApp().globalData.config.cooperation,richText:""}},methods:{$str:p,clickCopy(e){e&&e.stopPropagation(),Ei(this.cooperation.phone)},parseData(){let e=p("msg.cooperateSendTips",{platform:this.cooperation.platform});this.richText={text:e,info:{star:{text:"*",color:"#FF4477"}}}}},created(){this.parseData()}};function pp(e,t,i,a,n,s){let o=(0,D.resolveComponent)("m-text"),l=S((0,D.resolveDynamicComponent)("l-img"),N),c=S((0,D.resolveDynamicComponent)("rich-content"),Y),u=(0,D.resolveComponent)("msg-n-def");return(0,D.openBlock)(),(0,D.createBlock)(u,{data:i.data,width:n.contentW,listType:i.listType,index:i.index},{default:(0,D.withCtx)(()=>[(0,D.createElementVNode)("view",{class:"container"},[(0,D.createVNode)(o,{text:"\u{1F91D}"+s.$str("msg.cooperate")+"!",style:{"font-size":"30rpx","font-weight":"600","line-height":"44rpx"}},null,8,["text"]),(0,D.createVNode)(o,{text:s.$str("msg.cooperateTips"),style:{"margin-top":"8rpx","line-height":"44rpx","font-size":"28rpx"}},null,8,["text"]),(0,D.createElementVNode)("view",{onClick:t[0]||(t[0]=(...d)=>s.clickCopy&&s.clickCopy(...d)),onLongpress:d=>!1,class:"phone-wrap center"},[(0,D.createVNode)(l,{onClick:s.clickCopy,onLongpress:d=>!1,src:n.cooperation.icon,h:"32rpx",w:"34rpx"},null,8,["onClick","src"]),(0,D.createElementVNode)("u-text",{class:"platform"},(0,D.toDisplayString)(n.cooperation.platform)+":",1),(0,D.createElementVNode)("u-text",{class:"platform"},(0,D.toDisplayString)(n.cooperation.phone),1),(0,D.createVNode)(l,{onClick:s.clickCopy,onLongpress:d=>!1,src:"s/msg/copy_red.png",w:"32rpx",h:"32rpx",style:{"margin-left":"2rpx"}},null,8,["onClick"])],32),(0,D.createVNode)(c,{data:n.richText,"font-size":"24rpx",style:{"margin-top":"20rpx","background-color":"transparent","text-align":"left"}},null,8,["data"])])]),_:1},8,["data","width","listType","index"])}var Hr=E(dp,[["render",pp],["styles",[up]]]);var y=K(q());var mp={"view-this":{"":{flexDirection:"row",alignItems:"center",position:"relative",marginRight:"8rpx"}},"text-level":{"":{width:"50rpx",lineHeight:"50rpx",textAlign:"center",color:"#FFFFFF",position:"absolute",top:0}}},fp={props:{info:{type:Object,default(){return{}}},vipAlways:{type:Boolean,default:!1},levelAlways:{type:Boolean,default:!1},hideVip:{type:Boolean,default:!1}},computed:{show(){return this.info.is_auth||this.info.level>0||this.showVip||this.levelAlways},showVip(){return this.hideVip?!1:this.info.is_vip?this.info.hide_vip?this.vipAlways:!0:!1},showLevel(){return!this.info.hide_level&&(this.info.level>0||this.info.is_auth)?!0:this.levelAlways},levelStr(){let e=this.info.is_auth?1:0;return this.info.level<=0?e:this.info.level},levelSrc(){return this.info.sex==2?"s/pub/level_a.png":"s/pub/level_c.png"},levelSize(){return this.info.level>99?"10rpx":this.info.level>9?"14rpx":"16rpx"},levelWeight(){return this.info.level>99?"bold":"normal"}}};function gp(e,t,i,a,n,s){let o=S((0,y.resolveDynamicComponent)("l-img"),N);return s.show?((0,y.openBlock)(),(0,y.createElementBlock)("view",{key:0,class:"view-this",renderWhole:!0},[s.showLevel?((0,y.openBlock)(),(0,y.createElementBlock)("view",{key:0},[(0,y.createVNode)(o,{src:s.levelSrc,w:"50rpx",h:"50rpx"},null,8,["src"]),(0,y.createElementVNode)("u-text",{class:"text-level",style:(0,y.normalizeStyle)({fontSize:s.levelSize,fontWeight:s.levelWeight})},(0,y.toDisplayString)(s.levelStr),5)])):(0,y.createCommentVNode)("",!0),s.showVip?((0,y.openBlock)(),(0,y.createBlock)(o,{key:1,src:"s/pub/vip_3.png",w:"56rpx",h:"24rpx",style:{"margin-left":"8rpx"}})):(0,y.createCommentVNode)("",!0)])):(0,y.createCommentVNode)("",!0)}var Wr=E(fp,[["render",gp],["styles",[mp]]]),hp={center:{"":{alignItems:"center",flexDirection:"row"}},"m-l-4":{"":{marginLeft:"8rpx"}},"m-r-4":{"":{marginRight:"8rpx"}}},_p={props:{user:{type:Object,default(){return{}}},imgW:{type:Number,default:40},imgH:{type:Number,default:26},fontSize:{type:Number,default:24},color:{type:String,default:""},showName:{type:Boolean,default:!1},showCode:{type:Boolean,default:!0},desc:{type:Boolean,default:!1}},computed:{defClass(){let e={fontSize:`${this.fontSize}rpx`};return f(this.color)?e.color=getApp().globalData.themeObj.color.title:e.color=this.color,e}}};function yp(e,t,i,a,n,s){let o=S((0,y.resolveDynamicComponent)("l-img"),N);return i.user.country_code&&!i.desc?((0,y.openBlock)(),(0,y.createElementBlock)("view",{key:0,class:"center"},[(0,y.createVNode)(o,{src:i.user.country_flag,w:`${i.imgW}rpx`,h:`${i.imgH}rpx`},null,8,["src","w","h"]),i.showCode&&i.user.country_code?((0,y.openBlock)(),(0,y.createElementBlock)("u-text",{key:0,class:"m-l-4",style:(0,y.normalizeStyle)(s.defClass)},(0,y.toDisplayString)(i.user.country_code.toUpperCase()),5)):(0,y.createCommentVNode)("",!0),i.showName&&i.user.country_name?((0,y.openBlock)(),(0,y.createElementBlock)("u-text",{key:1,class:"m-l-4",style:(0,y.normalizeStyle)(s.defClass)},(0,y.toDisplayString)(i.user.country_name),5)):(0,y.createCommentVNode)("",!0)])):i.user.country_code?((0,y.openBlock)(),(0,y.createElementBlock)("view",{key:1,class:"center m-r-4"},[i.showName&&i.user.country_name?((0,y.openBlock)(),(0,y.createElementBlock)("u-text",{key:0,class:"m-r-4",style:(0,y.normalizeStyle)(s.defClass)},(0,y.toDisplayString)(i.user.country_name),5)):(0,y.createCommentVNode)("",!0),i.showCode&&i.user.country_code?((0,y.openBlock)(),(0,y.createElementBlock)("u-text",{key:1,class:"m-r-4",style:(0,y.normalizeStyle)(s.defClass)},(0,y.toDisplayString)(i.user.country_code.toUpperCase()),5)):(0,y.createCommentVNode)("",!0),(0,y.createVNode)(o,{src:i.user.country_flag,w:`${i.imgW}rpx`,h:`${i.imgH}rpx`},null,8,["src","w","h"])])):(0,y.createCommentVNode)("",!0)}var zi=E(_p,[["render",yp],["styles",[hp]]]),bp={"user-info":{"":{flexDirection:"row",alignItems:"center"}},"nickname-nvue":{"":{lines:1,textOverflow:"ellipsis",wordWrap:"anywhere"}},"m-r-4":{"":{marginRight:"8rpx"}},"text-official":{"":{lineHeight:"28rpx",backgroundColor:"#34C759",borderRadius:"4rpx",paddingTop:0,paddingRight:"8rpx",paddingBottom:0,paddingLeft:"8rpx",color:"#FFFFFF",fontSize:"20rpx",fontStyle:"italic",fontWeight:"700",marginRight:"8rpx"}}},xp={components:{LImg:N,CountryCode:zi,LevelVip:Wr},props:{info:{type:Object,default(){return{}}},noName:{type:Number,default:0},nameColor:{type:String,default:""},nameSize:{type:String,default:"26rpx"},nameWidth:{type:String,default:"300rpx"},fw:{type:[String,Number],default:"400"},desc:{type:Boolean,default:!1},isAdmin:{type:Number,default:0},showAge:{type:Boolean,default:!0},showAuth:{type:Boolean,default:!0},showCountry:{type:Boolean,default:!1},showCountryCode:{type:Boolean,default:!0},levelAlways:{type:Boolean,default:!1}},computed:{officialStr(){return this.info.auth_status==9?p("official"):""},age(){if(!this.showAge||f(this.info.birthday)||this.info.hide_profile)return"";let e=Ti(this.info.birthday);return f(e)||isNaN(e)?"":`${this.noName?"":", "}${e}`},nicknameText(){return Ii(this.info,this.isAdmin)},showCountryInfo(){return this.showCountry&&this.info.hide_profile!=1},nicknameColor(){return f(this.nameColor)?getApp().globalData.themeObj.color.title:this.nameColor}}};function wp(e,t,i,a,n,s){let o=S((0,y.resolveDynamicComponent)("level-vip"),Wr),l=S((0,y.resolveDynamicComponent)("country-code"),zi),c=S((0,y.resolveDynamicComponent)("l-img"),N);return(0,y.openBlock)(),(0,y.createElementBlock)("view",{renderWhole:!0},[i.desc?((0,y.openBlock)(),(0,y.createElementBlock)("view",{key:1,class:"user-info",style:{"justify-content":"flex-end"}},[s.officialStr?((0,y.openBlock)(),(0,y.createElementBlock)("u-text",{key:0,class:"text-official"},(0,y.toDisplayString)(s.officialStr),1)):((0,y.openBlock)(),(0,y.createElementBlock)("view",{key:1,class:"user-info"},[i.showAuth&&i.info.auth_status==1?((0,y.openBlock)(),(0,y.createBlock)(c,{key:0,src:"s/pub/verified_1.png",w:"24rpx",h:"24rpx",style:{"margin-right":"8rpx"}})):(0,y.createCommentVNode)("",!0),s.showCountryInfo?((0,y.openBlock)(),(0,y.createBlock)(l,{key:1,user:i.info,color:s.nicknameColor,desc:i.desc,"show-code":i.showCountryCode},null,8,["user","color","desc","show-code"])):(0,y.createCommentVNode)("",!0),(0,y.createVNode)(o,{info:i.info,"vip-always":i.isAdmin==1,"level-always":i.levelAlways,style:{"margin-right":"8rpx"}},null,8,["info","vip-always","level-always"])])),i.noName?(0,y.createCommentVNode)("",!0):((0,y.openBlock)(),(0,y.createElementBlock)("u-text",{key:2,class:(0,y.normalizeClass)(["nickname-nvue",[s.age?"":"m-r-4"]]),style:(0,y.normalizeStyle)({color:s.nicknameColor,fontSize:i.nameSize,maxWidth:i.nameWidth,fontWeight:i.fw})},(0,y.toDisplayString)(s.nicknameText),7)),s.age?((0,y.openBlock)(),(0,y.createElementBlock)("u-text",{key:3,class:"nickname-nvue",style:(0,y.normalizeStyle)({color:s.nicknameColor,fontSize:i.nameSize,fontWeight:i.fw})},(0,y.toDisplayString)(s.age),5)):(0,y.createCommentVNode)("",!0)])):((0,y.openBlock)(),(0,y.createElementBlock)("view",{key:0,class:"user-info"},[i.noName?(0,y.createCommentVNode)("",!0):((0,y.openBlock)(),(0,y.createElementBlock)("u-text",{key:0,class:(0,y.normalizeClass)(["nickname-nvue",[s.age?"":"m-r-4"]]),style:(0,y.normalizeStyle)({color:s.nicknameColor,fontSize:i.nameSize,maxWidth:i.nameWidth,fontWeight:i.fw})},(0,y.toDisplayString)(s.nicknameText),7)),s.age?((0,y.openBlock)(),(0,y.createElementBlock)("u-text",{key:1,class:"nickname-nvue m-r-4",style:(0,y.normalizeStyle)({color:s.nicknameColor,fontSize:i.nameSize,fontWeight:i.fw})},(0,y.toDisplayString)(s.age),5)):(0,y.createCommentVNode)("",!0),s.officialStr?((0,y.openBlock)(),(0,y.createElementBlock)("u-text",{key:2,class:"text-official"},(0,y.toDisplayString)(s.officialStr),1)):((0,y.openBlock)(),(0,y.createElementBlock)("view",{key:3,class:"user-info"},[(0,y.createVNode)(o,{info:i.info,"vip-always":i.isAdmin==1,"level-always":i.levelAlways,style:{"margin-right":"8rpx"}},null,8,["info","vip-always","level-always"]),s.showCountryInfo?((0,y.openBlock)(),(0,y.createBlock)(l,{key:0,user:i.info,color:s.nicknameColor,"show-code":i.showCountryCode,style:{"margin-right":"8rpx"}},null,8,["user","color","show-code"])):(0,y.createCommentVNode)("",!0),i.showAuth&&i.info.auth_status==1?((0,y.openBlock)(),(0,y.createBlock)(c,{key:1,src:"s/pub/verified_1.png",w:"24rpx",h:"24rpx",style:{"margin-right":"8rpx"}})):(0,y.createCommentVNode)("",!0)]))]))])}var Ue=E(xp,[["render",wp],["styles",[bp]]]);var He=K(q()),Tp={"fj-slider":{"":{position:"relative"}},"fj-touch-right":{"":{position:"absolute"}},"fj-line":{"":{position:"absolute",left:0,right:0}}},Ap=Le("dom"),Cp={name:"CustomSlider",emits:["onChanged","onChangeStart","onChange"],props:{fillValue:{type:Number,default:100},maxValue:{type:Number,default:0},step:{type:Number,default:1},activeColor:{type:String,default:"#2F85FC"},inactiveColor:{type:String,default:"#999999"},blockWidth:{type:Number,default:24},lineHeight:{type:Number,default:8},lineRadius:{type:Number,default:4},blockColor:{type:String,default:"#FFFFFF"},disClick:{type:Boolean,default:!1}},data(){return{lineWidth:0,maxLeft:0,lineLeft:0,curValue:0,sMaxValue:0,sFillValue:0,percentage:0,sBlockWidth:uni.upx2px(this.blockWidth),sLineHeight:uni.upx2px(this.lineHeight),sLineTop:(uni.upx2px(this.blockWidth)-uni.upx2px(this.lineHeight))/2,sLineRadius:uni.upx2px(this.lineRadius),getRectInterval:!1}},watch:{maxValue(e,t){this.sMaxValue=e,this.maxLeft=this.sMaxValue/this.percentage,this.checkMaxLeft()},fillValue(e,t){this.sFillValue=this.fillValue}},methods:{clickLine(e){e.stopPropagation(),!this.disClick&&this.touchmove(e,!0)},envir(e){this.getRectInterval=setTimeout(()=>{Ap.getComponentRect(e.refName,t=>{if(clearTimeout(this.getRectInterval),this.getRectInterval=!1,t&&t.size&&t.size.height!=0){let i=t.size;e.fn({width:i.width,height:i.height,top:i.top,bottom:i.bottom,left:i.left,right:i.right})}else this.envir(e)})},100)},touchstart(e){this.$emit("onChangeStart",this.curValue)},touchmove(e,t){e.stopPropagation();let i;if(t?i=e.changedTouches[0].screenX-this.lineLeft:i=e.touches[0].screenX-this.lineLeft,i<0||i>this.lineWidth)return;let a=Math.ceil(i);a>this.lineWidth&&(a=this.lineWidth),this.curValue=Math.round(a*this.percentage),this.maxLeft=Math.ceil(i),this.checkMaxLeft(),this.$emit("onChange",this.curValue)},touchend(e){if(this.step===1)this.sMaxValue=this.curValue;else{let t=Math.round(this.maxLeft*this.percentage/this.step);this.sMaxValue=t*this.step,this.sFillValue-this.sMaxValue<this.step&&(this.sMaxValue=this.sFillValue),this.maxLeft=this.sMaxValue/this.percentage}F("info","at components/custom-slider/custom-slider.vue:179","m-slider onChanged "+this.curValue),this.$emit("onChanged",this.curValue)},checkMaxLeft(){this.maxLeft>this.lineWidth-this.sBlockWidth?this.maxLeft=this.lineWidth-this.sBlockWidth:this.maxLeft<=4&&(this.maxLeft=0)}},mounted(){this.$nextTick(()=>{this.envir({className:".fj-line",refName:this.$refs["fj-line"],fn:e=>{this.lineWidth=e.width,this.lineLeft=e.left,this.sMaxValue=this.maxValue>0?this.maxValue:0,this.sFillValue=this.fillValue>0?this.fillValue:0,this.percentage=this.sFillValue/this.lineWidth,this.maxLeft=this.sMaxValue/this.percentage}})})},unmounted(){this.getRectInterval&&clearTimeout(this.getRectInterval)}};function Sp(e,t,i,a,n,s){return(0,He.openBlock)(),(0,He.createElementBlock)("view",{class:"fj-slider",onTouchend:t[3]||(t[3]=(...o)=>s.clickLine&&s.clickLine(...o)),renderWhole:!0},[(0,He.createElementVNode)("view",{class:"fj-line",ref:"fj-line",style:(0,He.normalizeStyle)({background:i.inactiveColor,height:`${n.sLineHeight}px`,top:`${n.sLineTop}px`,borderRadius:`${n.sLineRadius}px`})},null,4),(0,He.createElementVNode)("view",{class:"fj-line",style:(0,He.normalizeStyle)({width:`${Math.abs(n.maxLeft)}px`,background:i.activeColor,height:`${n.sLineHeight}px`,top:`${n.sLineTop}px`,borderTopLeftRadius:`${n.sLineRadius}px`,borderBottomLeftRadius:`${n.sLineRadius}px`})},null,4),(0,He.createElementVNode)("view",{class:"fj-touch-right",onTouchstart:t[0]||(t[0]=(...o)=>s.touchstart&&s.touchstart(...o)),onTouchmove:t[1]||(t[1]=(...o)=>s.touchmove&&s.touchmove(...o)),onTouchend:t[2]||(t[2]=(...o)=>s.touchend&&s.touchend(...o)),style:(0,He.normalizeStyle)({left:`${n.maxLeft}px`,background:i.blockColor,width:`${n.sBlockWidth}px`,height:`${n.sBlockWidth}px`,borderRadius:`${n.sBlockWidth/2}px`})},null,36)],32)}var Qn=E(Cp,[["render",Sp],["styles",[Tp]]]);var B=K(q());var kp={"tran-flex":{"":{flexDirection:"row",alignItems:"center"}},"view-tran":{"":{flexDirection:"row",justifyContent:"center",alignItems:"center"}},"text-a":{"":{fontSize:"20rpx"}},"text-tran":{"":{fontSize:"26rpx",marginLeft:"8rpx"}},"text-end":{"":{color:"#999999",fontSize:"24rpx",marginLeft:"4rpx"}}},Dp={components:{MLine:Be},emits:["onTranslateFinish","onTranslateClick"],props:{text:{type:String,default:""},border:{type:Boolean,default:!1},showTran:{type:Boolean,default:!0},showTranContent:{type:Boolean,default:!0},contentTop:{type:Number,default:20},showTranEnd:{type:Boolean,default:!1},bg:{type:[Boolean,String],default:!1},textColor:{type:String,default(){return getApp().globalData.themeObj.color.barBtn}},aColor:{type:String,default:"#FFFFFF"},contentColor:{type:String,default(){return getApp().globalData.themeObj.color.title}},isAuto:{type:Boolean,default:!1},isAutoForce:{type:Boolean,default:!1},translateResult:{type:String,default:""},fromLanguage:{type:String,default:""},apiParams:{type:Object,default(){return{}}},translateSize:{type:String,default:"24rpx"},paddingTop:{type:String,default:"10rpx"},fw:{type:Number,default:0}},data(){return{transStatus:0,tranContent:""}},watch:{text(e){e&&(this.transStatus=0,this.tranContent="",this.executeTranAuto())},translateResult(e){this.transStatus=0,this.tranContent="",this.executeTranAuto()}},computed:{borderStyle(){return this.border?{"border-radius":"4px","padding-left":"10rpx","padding-right":"10rpx","padding-top":this.paddingTop}:{}},viewStyle(){if(this.border){let e=getApp().globalData.themeObj.style==Z.LIGHT?"#624A8E":"#7D8288";return{"border-radius":"4px",width:"32rpx",height:"32rpx",background:this.bg||e}}return{opacity:"0.89","border-radius":"2px",width:"26rpx",height:"26rpx",background:this.bg||"#FF4477"}},contentStyle(){let e={marginTop:`${this.contentTop}rpx`,color:this.contentColor,fontSize:this.translateSize};return this.fw>0&&(e["font-weight"]=this.fw),e},tranIconSrc(){return"s/pub/tran_end_1.png"},tranStr(){return this.isAuto?p("autoTranslation"):p("translation")},translateStr(){return p("translate")}},methods:{clickTranEndView(e){(this.isAuto||this.isAutoForce)&&(e&&e.stopPropagation(),_s())},clickThis(e){e&&e.stopPropagation(),this.reqTranslate()&&((this.isAuto||this.isAutoForce)&&this.$emit("onTranslateClick"),vn(!0))},handleTranRes(e){this.transStatus=2,this.showTranContent&&(this.tranContent=e),this.$emit("onTranslateFinish",{text:e})},reqTranslate(){if(f(this.text)||this.transStatus!=0)return!1;if(this.translateResult)return this.handleTranRes(this.translateResult),!0;this.transStatus=1;let e=this.apiParams;return e.target=getApp().globalData.translateKey,e.content=this.text,M.request("/translate/index",e,!1,!0).then(t=>{t.ok==1&&t.data.text&&this.handleTranRes(t.data.text)},t=>{this.transStatus=0}),!0},executeTranAuto(){(this.isAutoForce||this.isAuto&&hs(this.fromLanguage))&&this.$nextTick(()=>{this.reqTranslate()})}},created(){if(!(!this.isAuto&&!this.isAutoForce)&&getApp().globalData.translateAuto){if(this.translateResult){this.transStatus=2,this.tranContent=this.translateResult;return}this.executeTranAuto()}}};function Ep(e,t,i,a,n,s){let o=S((0,B.resolveDynamicComponent)("l-img"),N),l=(0,B.resolveComponent)("m-line");return(0,B.openBlock)(),(0,B.createElementBlock)("view",{style:(0,B.normalizeStyle)([s.borderStyle,{background:"transparent"}]),renderWhole:!0},[n.transStatus!=2?((0,B.openBlock)(),(0,B.createElementBlock)("view",{key:0,onClick:t[0]||(t[0]=(0,B.withModifiers)((...c)=>s.clickThis&&s.clickThis(...c),["stop"])),class:"tran-flex"},[(0,B.createElementVNode)("view",{class:"view-tran",style:(0,B.normalizeStyle)(s.viewStyle)},[n.transStatus==1?((0,B.openBlock)(),(0,B.createBlock)(o,{key:0,src:"s/pub/tran_load_1.gif",w:"20rpx",h:"20rpx","is-gif":!0})):n.transStatus==0?((0,B.openBlock)(),(0,B.createElementBlock)("u-text",{key:1,class:"text-a",style:(0,B.normalizeStyle)({color:`${i.aColor}`})},"A",4)):(0,B.createCommentVNode)("",!0)],4),i.showTran?((0,B.openBlock)(),(0,B.createElementBlock)("u-text",{key:0,class:"text-tran",style:(0,B.normalizeStyle)({color:i.textColor})},(0,B.toDisplayString)(s.translateStr),5)):(0,B.createCommentVNode)("",!0)])):n.tranContent?((0,B.openBlock)(),(0,B.createElementBlock)("view",{key:1},[(0,B.createVNode)(l),(0,B.createElementVNode)("u-text",{style:(0,B.normalizeStyle)(s.contentStyle)},(0,B.toDisplayString)(n.tranContent),5),i.showTranEnd?((0,B.openBlock)(),(0,B.createElementBlock)("view",{key:0,onClick:t[1]||(t[1]=(...c)=>s.clickTranEndView&&s.clickTranEndView(...c)),class:"tran-flex",style:{"margin-top":"8rpx"}},[(0,B.createVNode)(o,{src:s.tranIconSrc,w:"30rpx",h:"30rpx"},null,8,["src"]),(0,B.createElementVNode)("u-text",{class:"text-end"},(0,B.toDisplayString)(s.tranStr),1)])):(0,B.createCommentVNode)("",!0)])):(0,B.createCommentVNode)("",!0)],4)}var ea=E(Dp,[["render",Ep],["styles",[kp]]]);var We=K(q()),vp={"view-info":{"":{height:"40rpx",flexDirection:"row",alignItems:"center",borderRadius:"4rpx"}},point:{"":{width:"14rpx",height:"14rpx",borderRadius:"8rpx",marginRight:"4rpx"}},text:{"":{fontSize:"22rpx",lineHeight:"40rpx",fontWeight:"600"}}},Lp={components:{MText:ee},props:{status:{type:Number,default:0},upTime:{type:[Number,String],default:0}},data(){return{}},computed:{colorVal(){return getApp().globalData.themeObj.style==Z.LIGHT?this.status==1?"#34C759":this.status==2?"#FF9537":"#999999":this.status==1?"#2A9F47":this.status==2?"#CC7732":"#666666"},onlineStr(){return this.status==1?p("available"):this.status==2?p("chatting"):this.status==3?p("anchorSet.rest"):this.upTime==0?p("time.daysAgo",{number:"3"}):cs(this.upTime)}},methods:{}};function Ip(e,t,i,a,n,s){let o=(0,We.resolveComponent)("m-text");return(0,We.openBlock)(),(0,We.createElementBlock)("view",{class:"view-info",renderWhole:!0},[(0,We.createElementVNode)("view",{class:"point",style:(0,We.normalizeStyle)({background:s.colorVal})},null,4),(0,We.createVNode)(o,{type:"tip",text:s.onlineStr,style:{"font-size":"24rpx"}},null,8,["text"])])}var ta=E(Lp,[["render",Ip],["styles",[vp]]]);var Bh=K(en());var Gr=getApp().globalData.window,Mp={data(){return{chatId:m.SYSTEM_ID,chatType:"",msgType:"",user:{},indexCTime:0,indexMTime:0,msgHasMore:!0,safeBottom:Gr.safeBottom,screenW:Gr.width,barSlotH:0,showService:!Ft(Lt.MSG_SYSTEM,!1)&&Mn(),navBarTitle:"",showBottom:!1,initFinish:!1,useBg1_1:!1,showCooperation:getApp().globalData.config.show_cooperation}},computed:{emptyInfo(){return this.initFinish&&f(this.addList)&&f(this.historyList)?{img_url:"s/pub/empty_chat_notice.png",tip:p("msg.noticeEmptyTips",{notice:this.navBarTitle})}:""},viewBtnBg(){return getApp().globalData.themeObj.style==Z.LIGHT?"#FFFFFF":getApp().globalData.themeObj.color.bg2}},methods:{$str:p,clickMyClubApplication(){$($e.clubApplicationList)},clickNewClub(){fs()},clickCooperate(){let e={title:p("msg.cooperate")},t=JSON.stringify(e),i=this.parseSendData(this.chatId,this.chatType,m.M_N_COOPERATE,t);this.receiveMsg(i),bt(i,!1).then(()=>{i.user_info=this.user,uni.$emit("event_msg_index_send",i,!1),uni.$emit("event_msg_index",i,0)})},clickService(){ps()},clickFeedback(){$("/pagesPub/set/feedback")},parseSendData(e,t,i,a){let n=getApp().getCTime();return{chat_id:e,chat_type:t,send_uid:this.user.uid,msg_type:i,msg_content:a,ctime:n*1e3,mtime:n*1e3}},onLoadMore(){return Ae(this,null,function*(){this.msgHasMore&&(yield this.loadMessage(),this.$nextTick(()=>{this.$refs.msgList.resetLoadmore()}))})},receiveMsg(e){e.chat_id!=this.chatId||e.chat_type!=this.chatType||this.addMsg(e,this.user)},addMsg(e,t){let i=H.parseItem(e,t);this.addMsgTimeByLast(i.ctime),this.addList.push(i),this.$nextTick(()=>{this.messageNone&&this.scrollBottom()})},setNavbarTitle(){return this.chatType==m.M_CHAT_CLUB_NOTICE?p("msg.noticeClubApplication"):this.chatType==m.M_CHAT_NOTICE?p("notice"):this.chatType==m.M_CHAT_NOTIFY?p("announcement"):""},syncFinish(){this.refreshMessage()},refreshMessage(){return Ae(this,null,function*(){this.indexCTime=0,this.indexMTime=0,this.addList=[],this.historyList=[],this.messageNone=1,yield this.loadMessage()})},initView(){return Ae(this,null,function*(){return this.user=yield Kn(this.chatId),!0})},loadMessage(){return Ae(this,null,function*(){let e=yield Ee.getList(this.chatId,this.chatType,this.indexCTime,this.indexMTime);this.indexCTime==0&&!e.hasMore?this.messageNone=1:this.messageNone=0,this.indexCTime=e.ctime,this.indexMTime=e.mtime,this.msgHasMore=e.hasMore;let t=[];if(this.messageNone){for(let i=e.forLen-1,a=0;i>=a;i--){let n=e.rows[i],s=H.getAddTitleTime(n.ctime);s!=null&&t.push(s),t.push(H.parseItem(n,this.user))}this.addList=[...this.addList,...t],this.$nextTick(()=>{this.scrollBottom(),this.showMask=!1})}else{this.showMask=!1;for(let i=0,a=e.forLen;i<a;i++){let n=e.rows[i],s=H.getHistoryTitleTime(n.ctime,30);s!=null&&i!=0&&t.push(s),t.push(H.parseItem(n,this.user))}this.historyList=[...this.historyList,...t]}return e.rows})}},onShow(){Wi(this.chatId,this.chatType).then(e=>{e<=0||uni.$emit("event_msg_index_unread",{chatId:this.chatId,chatType:this.chatType,unread:e})})},onReady(){this.navBarTitle=this.setNavbarTitle()},onLoad(e){e.chat_type&&(this.chatType=e.chat_type),e.msg_type&&(this.msgType=e.msg_type),this.showBottom=this.chatType!=6,this.initView().then(()=>this.loadMessage()).then(()=>{this.initFinish=!0,this.messageNone?this.itemHeightLast=this.safeBottom+60:this.itemHeightFirst=this.safeBottom+60}),uni.$on("event_chat_pri",this.receiveMsg),uni.$on("event_sync_finish_index",this.handleSyncFinish),uni.$on("event_msg_popover",this.onMsgItemPopListener)},onUnload(){uni.$off("event_chat_pri",this.receiveMsg),uni.$off("event_sync_finish_index",this.handleSyncFinish),uni.$off("event_msg_popover",this.onMsgItemPopListener)}},Np={"center-between":{"":{alignItems:"center",flexDirection:"row",justifyContent:"space-between"}}},Rp={components:{MsgDetail:Ie,LImg:N,RichContent:Y,MsgNDef:oe},props:{data:{type:Object,default(){return{}}},index:{type:Number,default:-1},listType:{type:Number,default:1}},data(){return{rich:{text:"",info:[]},detail:""}},methods:{parseData(){f(this.data.content)||(this.rich={text:this.data.content.text,info:this.data.content.info},this.detail=this.data.content.detail)}},created(){this.parseData()}};function Op(e,t,i,a,n,s){let o=S((0,r.resolveDynamicComponent)("rich-content"),Y),l=(0,r.resolveComponent)("msg-detail"),c=(0,r.resolveComponent)("msg-n-def");return(0,r.openBlock)(),(0,r.createBlock)(c,{data:i.data,listType:i.listType,index:i.index},{default:(0,r.withCtx)(()=>[(0,r.createVNode)(o,{data:n.rich,onLongpress:u=>!1,"font-size":"30rpx",style:{margin:"20rpx 26rpx","background-color":"transparent","text-align":"left"}},null,8,["data"]),n.detail?((0,r.openBlock)(),(0,r.createBlock)(l,{key:0,detail:n.detail},null,8,["detail"])):(0,r.createCommentVNode)("",!0)]),_:1},8,["data","listType","index"])}var Fp=E(Rp,[["render",Op],["styles",[Np]]]),Pp={"center-between":{"":{alignItems:"center",flexDirection:"row",justifyContent:"space-between"}}},Bp={components:{MsgDetail:Ie,LImg:N,RichContent:Y,MsgNDef:oe},props:{data:{type:Object,default(){return{}}},index:{type:Number,default:-1},listType:{type:Number,default:1}},data(){return{rich:{text:"",info:[]},detail:""}},methods:{parseData(){f(this.data.content)||(this.rich={text:this.data.content.text,info:this.data.content.info},this.detail=this.data.content.detail)}},created(){this.parseData()}};function Up(e,t,i,a,n,s){let o=S((0,r.resolveDynamicComponent)("rich-content"),Y),l=(0,r.resolveComponent)("msg-detail"),c=(0,r.resolveComponent)("msg-n-def");return(0,r.openBlock)(),(0,r.createBlock)(c,{data:i.data,listType:i.listType,index:i.index},{default:(0,r.withCtx)(()=>[(0,r.createVNode)(o,{data:n.rich,onLongpress:u=>!1,"font-size":"30rpx",style:{margin:"20rpx 26rpx","background-color":"transparent","text-align":"left"}},null,8,["data"]),n.detail?((0,r.openBlock)(),(0,r.createBlock)(l,{key:0,detail:n.detail},null,8,["detail"])):(0,r.createCommentVNode)("",!0)]),_:1},8,["data","listType","index"])}var Hp=E(Bp,[["render",Up],["styles",[Pp]]]),Wp={reason:{"":{paddingTop:"14rpx",paddingRight:"20rpx",paddingBottom:"14rpx",paddingLeft:"20rpx",lineHeight:"36rpx",flexDirection:"row",borderRadius:"8rpx",marginTop:"20rpx"}}},Gp={components:{MText:ee},props:{reason:{type:String,default:""}},methods:{$str:p},computed:{viewBg(){return getApp().globalData.themeObj.style==Z.LIGHT?"#F5F5F5":getApp().globalData.themeObj.color.bg2}}};function $p(e,t,i,a,n,s){let o=(0,r.resolveComponent)("m-text");return i.reason?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:0,class:"reason",style:(0,r.normalizeStyle)({background:s.viewBg}),renderWhole:!0},[(0,r.createVNode)(o,{text:s.$str("reason")+": ",style:{"font-size":"24rpx"}},null,8,["text"]),(0,r.createVNode)(o,{text:i.reason,type:"warn",style:{"font-size":"24rpx",flex:"1"}},null,8,["text"])],4)):(0,r.createCommentVNode)("",!0)}var Yi=E(Gp,[["render",$p],["styles",[Wp]]]),Vp={"center-between":{"":{alignItems:"center",flexDirection:"row",justifyContent:"space-between"}},"info-wrap":{"":{marginTop:0,marginRight:"26rpx",marginBottom:"20rpx",marginLeft:"26rpx"}}},jp={components:{MText:ee,MsgDetail:Ie,MsgReason:Yi,LImg:N,RichContent:Y,MsgNDef:oe},props:{data:{type:Object,default(){return{}}},index:{type:Number,default:-1},listType:{type:Number,default:1}},data(){return{content:"",detail:"",richText:""}},methods:{$str:p,parseData(){f(this.data.content)||(this.content=this.data.content,this.content.text&&(this.richText={text:this.content.text,info:this.content.info,click:[this.content.click]}),!f(this.data.content.detail)&&(this.detail=this.data.content.detail))}},created(){this.parseData()}};function zp(e,t,i,a,n,s){let o=S((0,r.resolveDynamicComponent)("rich-content"),Y),l=(0,r.resolveComponent)("m-text"),c=(0,r.resolveComponent)("msg-reason"),u=(0,r.resolveComponent)("msg-detail"),d=(0,r.resolveComponent)("msg-n-def");return(0,r.openBlock)(),(0,r.createBlock)(d,{data:i.data,listType:i.listType,index:i.index},{default:(0,r.withCtx)(()=>[(0,r.createElementVNode)("view",{class:"info-wrap"},[n.richText?((0,r.openBlock)(),(0,r.createBlock)(o,{key:0,data:n.richText,onLongpress:g=>!1,"font-size":"30rpx",style:{"margin-top":"20rpx","background-color":"transparent","text-align":"left"}},null,8,["data"])):(0,r.createCommentVNode)("",!0),n.content.tips?((0,r.openBlock)(),(0,r.createBlock)(l,{key:1,text:n.content.tips,style:{"margin-top":"20rpx","font-size":"30rpx","line-height":"42rpx"}},null,8,["text"])):(0,r.createCommentVNode)("",!0),n.content.reason?((0,r.openBlock)(),(0,r.createBlock)(c,{key:2,reason:n.content.reason},null,8,["reason"])):(0,r.createCommentVNode)("",!0)]),n.detail?((0,r.openBlock)(),(0,r.createBlock)(u,{key:0,detail:n.detail},null,8,["detail"])):(0,r.createCommentVNode)("",!0)]),_:1},8,["data","listType","index"])}var Yp=E(jp,[["render",zp],["styles",[Vp]]]),Kp={center:{"":{flexDirection:"row",alignItems:"center"}},"center-between":{"":{alignItems:"center",flexDirection:"row",justifyContent:"space-between"}},info:{"":{marginLeft:"12rpx"}},"pay-count":{"":{marginTop:"10rpx",fontSize:12,color:"#FF014C",fontWeight:"600",marginLeft:"26rpx",lineHeight:"28rpx"}}},Jp={components:{MText:ee,MsgDetail:Ie,RichContent:Y,MsgNDef:oe},props:{data:{type:Object,default(){return{content:"",detail:""}}},index:{type:Number,default:-1},listType:{type:Number,default:1}},data(){return{richText:"",content:"",detail:"",nicknameW:getApp().globalData.window.width-138-uni.upx2px(152)}},computed:{payCount(){if(f(this.content)||f(this.content.user_info))return"";let e=this.content.user_info.pay_count;return f(this.content.user_info.pay_count)?"":Number(e)>1?e+" "+this.$str("timesLower"):e+" "+this.$str("timeLower")},sysImg(){return this.content.user_info.mobile=="ios"?getApp().globalData.themeObj.style==Z.LIGHT?"s/manager/i_ios_black.png":"s/pub/sys_ios_w.png":"s/manager/icon_android.png"}},methods:{$str:p,clickUser(e){e&&e.stopPropagation(),Si(this.content.user_info.uid)},parseData(){f(this.data.content)||(this.content=this.data.content,this.content.text&&(this.richText={text:this.content.text,info:this.content.info,click:[this.content.click]}),!f(this.data.content.detail)&&(this.detail=this.data.content.detail))}},created(){this.parseData()}};function qp(e,t,i,a,n,s){let o=S((0,r.resolveDynamicComponent)("l-img"),N),l=(0,r.resolveComponent)("m-text"),c=S((0,r.resolveDynamicComponent)("u-base-info"),Ue),u=S((0,r.resolveDynamicComponent)("country-code"),zi),d=S((0,r.resolveDynamicComponent)("rich-content"),Y),g=(0,r.resolveComponent)("msg-detail"),h=(0,r.resolveComponent)("msg-n-def");return(0,r.openBlock)(),(0,r.createBlock)(h,{data:i.data,listType:i.listType,index:i.index},{default:(0,r.withCtx)(()=>[(0,r.createElementVNode)("view",null,[n.content.user_info?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:0,onClick:t[0]||(t[0]=(..._)=>s.clickUser&&s.clickUser(..._)),onLongpress:_=>!1,style:{margin:"20rpx 26rpx 0 26rpx","flex-direction":"row"}},[(0,r.createVNode)(o,{src:n.content.user_info.small_avatar,onClick:s.clickUser,onLongpress:_=>!1,w:"92rpx",h:"92rpx",radius:"8rpx"},null,8,["src","onClick"]),(0,r.createElementVNode)("view",{class:"info"},[(0,r.createElementVNode)("view",{class:"center"},[n.content.user_info.mobile?((0,r.openBlock)(),(0,r.createBlock)(o,{key:0,src:s.sysImg,w:"28rpx",h:"28rpx"},null,8,["src"])):(0,r.createCommentVNode)("",!0),(0,r.createVNode)(l,{text:n.content.user_info.nickname,style:(0,r.normalizeStyle)([{width:`${n.nicknameW}px`},{"font-size":"28rpx","font-weight":"600",overflow:"hidden","text-overflow":"ellipsis","margin-left":"4rpx",lines:"1"}])},null,8,["text","style"])]),(0,r.createElementVNode)("view",{class:"center"},[(0,r.createVNode)(c,{info:n.content.user_info,"no-name":1},null,8,["info"]),(0,r.createVNode)(u,{user:n.content.user_info,showName:!0,showCode:!1,color:"#333333"},null,8,["user"])])])],32)):(0,r.createCommentVNode)("",!0),s.payCount?((0,r.openBlock)(),(0,r.createElementBlock)("u-text",{key:1,class:"pay-count"},(0,r.toDisplayString)(s.payCount),1)):(0,r.createCommentVNode)("",!0),n.content.user_info&&n.content.user_info.regtime?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:2,style:{"margin-top":"10rpx"}},[(0,r.createVNode)(l,{text:s.$str("regTime")+": "+n.content.user_info.regtime,style:{"margin-left":"26rpx","font-size":"20rpx"}},null,8,["text"])])):(0,r.createCommentVNode)("",!0),n.content.user_info&&n.content.user_info.channel_name?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:3,class:"center",style:{"margin-top":"10rpx","margin-left":"26rpx"}},[(0,r.createVNode)(l,{text:s.$str("channel")+": ",style:{"font-size":"20rpx"}},null,8,["text"]),(0,r.createVNode)(l,{type:"action",text:n.content.user_info.channel_name,style:{"font-size":"20rpx"}},null,8,["text"])])):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("view",{style:{"margin-top":"20rpx"}},[n.richText?((0,r.openBlock)(),(0,r.createBlock)(d,{key:0,data:n.richText,onLongpress:_=>!1,"font-size":"30rpx",style:{margin:"0 26rpx 20rpx 26rpx","background-color":"transparent","text-align":"left"}},null,8,["data"])):(0,r.createCommentVNode)("",!0),n.content.tips?((0,r.openBlock)(),(0,r.createBlock)(l,{key:1,text:n.content.tips,style:{padding:"0 26rpx 20rpx 26rpx","font-size":"30rpx"}},null,8,["text"])):(0,r.createCommentVNode)("",!0)]),n.detail?((0,r.openBlock)(),(0,r.createBlock)(g,{key:4,detail:n.detail},null,8,["detail"])):(0,r.createCommentVNode)("",!0)])]),_:1},8,["data","listType","index"])}var Xp=E(Jp,[["render",qp],["styles",[Kp]]]),Zp={"center-between":{"":{alignItems:"center",flexDirection:"row",justifyContent:"space-between"}},"msg-content":{"":{paddingTop:"20rpx",paddingRight:"26rpx",paddingBottom:0,paddingLeft:"26rpx"}},"msg-text":{".msg-content ":{fontSize:"30rpx",paddingTop:"24rpx",paddingRight:"20rpx",paddingBottom:"24rpx",paddingLeft:"20rpx",lineHeight:"42rpx",backgroundColor:"#FF00BD",borderTopLeftRadius:"16rpx",borderTopRightRadius:0,borderBottomRightRadius:"16rpx",borderBottomLeftRadius:"16rpx",color:"#FFFFFF"}},"msg-voice":{".msg-content ":{flex:1,alignItems:"center",flexDirection:"row"}},"view-content":{".msg-content .msg-voice ":{alignItems:"center",flexDirection:"row",height:"90rpx"}},"send-voice":{".msg-content .msg-voice ":{flex:1,backgroundColor:"#FF00BD",borderTopLeftRadius:"16rpx",borderTopRightRadius:0,borderBottomRightRadius:"16rpx",borderBottomLeftRadius:"16rpx"}},"unread-point":{".msg-content .msg-voice ":{width:"16rpx",height:"16rpx",borderRadius:"8rpx",backgroundColor:"#FF4545",marginLeft:"8rpx"}},"text-duration":{".msg-content .msg-voice ":{width:"100rpx",textAlign:"center",fontSize:"28rpx",color:"#FFFFFF",marginRight:"8rpx"}},"msg-video":{".msg-content ":{position:"relative",alignItems:"center",flexDirection:"row",justifyContent:"center"}},"msg-fee-photo":{".msg-content ":{borderRadius:"8rpx"}},"paid-video-cover":{".msg-content .msg-fee-photo ":{alignItems:"center",flexDirection:"row",top:0,position:"absolute",borderRadius:"8rpx",justifyContent:"center",backgroundColor:"rgba(0,0,0,0)"}},price:{".msg-content .msg-fee-photo ":{color:"#FF953F",fontSize:"20rpx",textAlign:"center"}},"checked-wrap":{".msg-content .msg-fee-photo ":{position:"absolute",bottom:"0rpx",height:"48rpx",alignItems:"center",flexDirection:"row",justifyContent:"space-between",backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.5))"}},"checked-price":{".msg-content .msg-fee-photo .checked-wrap ":{alignItems:"center",flexDirection:"row",marginLeft:"8rpx"}},duration:{".msg-content .msg-fee-photo .checked-wrap ":{fontSize:"20rpx",color:"#FFFFFF",marginRight:"8rpx"}},"view-b-content":{".msg-content .msg-fee-photo ":{borderTopLeftRadius:0,borderTopRightRadius:0,borderBottomRightRadius:"8rpx",borderBottomLeftRadius:"8rpx",backgroundImage:"linear-gradient(to right, #FF00BD, #FF5954)"}},"content-text":{".msg-content .msg-fee-photo .view-b-content ":{paddingTop:"14rpx",paddingRight:"20rpx",paddingBottom:"14rpx",paddingLeft:"20rpx",color:"#FFFFFF",fontSize:"20rpx"}},"gift-title":{".msg-content ":{marginTop:"16rpx",color:"#EC3B65",fontSize:"28rpx",fontWeight:"600"}}},Qp={components:{MText:ee,MLine:Be,MsgDetail:Ie,MsgReason:Yi,CustomSlider:Qn,LImg:N,MsgNDef:oe},emits:["clickMsgVoice","onMsgVoiceChange"],props:{data:{type:Object,default(){return{}}},index:{type:Number,default:-1},listType:{type:Number,default:1}},data(){return{content:"",detail:"",msgContent:"",iconPlay:"s/msg/audio_msg_play_white.png",sliderValue:0,curDuration:0}},computed:{getDurationStr(){return this.curDuration<=0?"00:00":ii(this.curDuration)},getWH(){let e=parseInt(this.content.msg_type);if([m.M_IMG,m.M_VIDEO,m.M_EXPRESSION,m.M_PAID_PHOTO,m.M_PAID_VIDEO].indexOf(e)!=-1)return this.msgContent.media_type==2?kn(this.msgContent.width,this.msgContent.height):kn(this.msgContent.image_width,this.msgContent.image_height)},getFeeRadius(){return this.msgContent.content?"8rpx 8rpx 0 0":"8rpx"},getFeePriceRadius(){return this.msgContent.content?"0":"0 0 8rpx 8rpx"},getFeeShowUrl(){return this.msgContent.small_url||this.msgContent.cover_url}},methods:{$str:p,clickVoice(e){e&&e.stopPropagation();let t=z(JSON.stringify(this.data));t.content=this.msgContent,this.$emit("clickMsgVoice",t,this.curDuration==this.msgContent.voice_duration?0:this.curDuration)},clickFeePhoto(e){e&&e.stopPropagation();let t="";this.content.msg_type==25?t=Re(!1,this.msgContent.small_url,this.msgContent.image_url):t=Re(!0,this.msgContent.small_url||"",this.msgContent.url,this.msgContent.cover_url),Ve([t],0)},clickExpression(){let e=ht(this.msgContent.path),t=Re(!1,e,e);Ve([t],0)},clickImg(e){e&&e.stopPropagation();let t=Re(!1,this.msgContent.small_url,this.msgContent.image_url);Ve([t],0)},clickVideo(e){e&&e.stopPropagation();let t=this.msgContent.small_url||"",i=Re(!0,t,this.msgContent.url,this.msgContent.cover);Ve([i],0)},changeIcon(e){this.iconPlay=`s/msg/audio_msg_${e?"pause":"play"}_white.png`},changeDuration(e,t){e==-1&&(e=this.msgContent.voice_duration),this.curDuration=e,this.sliderValue=parseInt(t/this.msgContent.voice_duration)},onSliderChangeStart(){let e=z(JSON.stringify(this.data));e.content=this.msgContent,this.$emit("onMsgVoiceChange",!1,this.curDuration,this.data)},onSliderChanged(e){let t=e/100;this.curDuration=Math.round(this.msgContent.voice_duration*t);let i=z(JSON.stringify(this.data));i.content=this.msgContent,this.$emit("onMsgVoiceChange",!0,this.curDuration,i)},parseData(){f(this.data.content)||(this.content=this.data.content,this.msgContent=z(this.content.content),this.content.msg_type==m.M_VOICE?this.curDuration=this.msgContent.voice_duration:this.content.msg_type==m.M_PAID_VIDEO&&(this.curDuration=this.msgContent.duration),!f(this.data.content.detail)&&(this.detail=this.data.content.detail))}},created(){this.parseData(),this.content.ctime=new Date().getTime()}};function em(e,t,i,a,n,s){let o=S((0,r.resolveDynamicComponent)("l-img"),N),l=S((0,r.resolveDynamicComponent)("custom-slider"),Qn),c=(0,r.resolveComponent)("m-text"),u=(0,r.resolveComponent)("m-line"),d=(0,r.resolveComponent)("msg-reason"),g=(0,r.resolveComponent)("msg-detail"),h=(0,r.resolveComponent)("msg-n-def");return(0,r.openBlock)(),(0,r.createBlock)(h,{data:i.data,listType:i.listType,index:i.index},{default:(0,r.withCtx)(()=>[(0,r.createElementVNode)("view",{class:"msg-content"},[n.content.msg_type==1?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:0},[(0,r.createElementVNode)("u-text",{class:"msg-text"},(0,r.toDisplayString)(n.msgContent.content),1)])):n.content.msg_type==2?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:1,onClick:t[0]||(t[0]=(..._)=>s.clickVoice&&s.clickVoice(..._)),onLongpress:_=>!1,class:"msg-voice"},[(0,r.createElementVNode)("view",{class:"view-content send-voice"},[(0,r.createVNode)(o,{onClick:s.clickVoice,onLongpress:_=>!1,src:n.iconPlay,w:"34rpx",h:"34rpx",style:{padding:"40rpx"}},null,8,["onClick","src"]),(0,r.createVNode)(l,{ref:"audioSlider",style:{flex:"1",height:"24rpx"},"max-value":n.sliderValue,"fill-value":100,"active-color":"#FFFFFF","inactive-color":"rgba(255,255,255,0.2)","dis-click":!0,blockColor:"#FFFFFF",onOnChangeStart:s.onSliderChangeStart,onOnChanged:s.onSliderChanged},null,8,["max-value","onOnChangeStart","onOnChanged"]),(0,r.createElementVNode)("u-text",{class:"text-duration"},(0,r.toDisplayString)(s.getDurationStr),1)])],32)):n.content.msg_type==3?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:2,onClick:t[1]||(t[1]=(..._)=>s.clickImg&&s.clickImg(..._)),onLongpress:_=>!1,class:"msg-img"},[(0,r.createVNode)(o,{h:`${s.getWH[1]}px`,src:n.msgContent.small_url,w:`${s.getWH[0]}px`,onClick:s.clickImg,onLongpress:_=>!1,radius:"8rpx"},null,8,["h","src","w","onClick"])],32)):n.content.msg_type==18?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:3,onClick:t[2]||(t[2]=(..._)=>s.clickVideo&&s.clickVideo(..._)),onLongpress:_=>!1,class:"msg-video",style:(0,r.normalizeStyle)({width:`${s.getWH[0]}px`,height:`${s.getWH[1]}px`})},[(0,r.createVNode)(o,{h:`${s.getWH[1]}px`,src:n.msgContent.small_url||n.msgContent.cover,w:`${s.getWH[0]}px`,onClick:s.clickVideo,onLongpress:_=>!1,radius:"8rpx"},null,8,["h","src","w","onClick"]),(0,r.createVNode)(o,{onClick:s.clickVideo,onLongpress:_=>!1,src:"s/pub/play_video.png",w:"50rpx",h:"50rpx",style:{position:"absolute"}},null,8,["onClick"])],36)):n.content.msg_type==21?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:4},[(0,r.createVNode)(o,{src:n.msgContent.icon,w:"160rpx",h:"160rpx",radius:"8rpx"},null,8,["src"]),(0,r.createElementVNode)("u-text",{class:"gift-title"},(0,r.toDisplayString)(n.msgContent.title),1),(0,r.createVNode)(c,{text:n.msgContent.content,style:{"font-size":"24rpx","margin-top":"16rpx"}},null,8,["text"])])):n.content.msg_type==23?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:5,onClick:t[3]||(t[3]=(..._)=>s.clickExpression&&s.clickExpression(..._)),onLongpress:_=>!1},[(0,r.createVNode)(o,{src:n.msgContent.path,w:`${s.getWH[0]}px`,h:`${s.getWH[1]}px`,radius:"8rpx"},null,8,["src","w","h"])],32)):n.content.msg_type==25||n.content.msg_type==26?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:6,class:"msg-fee-photo"},[(0,r.createElementVNode)("view",{style:{position:"relative"}},[(0,r.createVNode)(o,{onClick:s.clickFeePhoto,onLongpress:_=>!1,src:s.getFeeShowUrl,w:s.getWH[0]+"px",h:s.getWH[1]+"px",radius:s.getFeeRadius},null,8,["onClick","src","w","h","radius"]),n.msgContent.media_type==2?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:0,style:(0,r.normalizeStyle)({width:`${s.getWH[0]}px`,height:`${s.getWH[1]}px`}),class:"paid-video-cover"},[(0,r.createVNode)(o,{onClick:s.clickFeePhoto,onLongpress:_=>!1,src:"s/anchor/video_play.png",w:"56rpx",h:"56rpx"},null,8,["onClick"])],4)):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("view",{class:"checked-wrap",style:(0,r.normalizeStyle)({width:`${s.getWH[0]}px`,borderRadius:`${s.getFeePriceRadius}px`})},[(0,r.createElementVNode)("view",{class:"checked-price"},[(0,r.createVNode)(o,{onClick:s.clickFeePhoto,onLongpress:_=>!1,src:"s/anchor/paid_lock.png",w:"26rpx",h:"24rpx"},null,8,["onClick"]),(0,r.createElementVNode)("u-text",{class:"price"},(0,r.toDisplayString)(n.msgContent.price)+" "+(0,r.toDisplayString)(s.$str("coinsLower")),1)]),n.content.msg_type==26?((0,r.openBlock)(),(0,r.createElementBlock)("u-text",{key:0,class:"duration"},(0,r.toDisplayString)(s.getDurationStr),1)):(0,r.createCommentVNode)("",!0)],4)]),n.msgContent.content?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:0,class:"view-b-content",style:(0,r.normalizeStyle)({width:`${s.getWH[0]}px`})},[(0,r.createVNode)(u),(0,r.createElementVNode)("u-text",{class:"content-text"},(0,r.toDisplayString)(n.msgContent.content),1)],4)):(0,r.createCommentVNode)("",!0)])):(0,r.createCommentVNode)("",!0)]),n.content.msg_type==21?((0,r.openBlock)(),(0,r.createBlock)(u,{key:0,style:{"margin-top":"20rpx","margin-left":"26rpx"}})):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("view",{style:{margin:"0 26rpx 20rpx 26rpx"}},[n.content.tips?((0,r.openBlock)(),(0,r.createBlock)(c,{key:0,text:n.content.tips,style:{"font-size":"30rpx","line-height":"42rpx","margin-top":"20rpx"}},null,8,["text"])):(0,r.createCommentVNode)("",!0),(0,r.createVNode)(c,{text:s.$str("msg.noticeUploadGreetingAgain"),type:"desc",style:{"margin-top":"14rpx","font-size":"28rpx","line-height":"40rpx"}},null,8,["text"]),n.content.reason?((0,r.openBlock)(),(0,r.createBlock)(d,{key:1,reason:n.content.reason},null,8,["reason"])):(0,r.createCommentVNode)("",!0)]),n.detail?((0,r.openBlock)(),(0,r.createBlock)(g,{key:1,detail:n.detail},null,8,["detail"])):(0,r.createCommentVNode)("",!0)]),_:1},8,["data","listType","index"])}var tm=E(Qp,[["render",em],["styles",[Zp]]]),im={center:{"":{alignItems:"center",flexDirection:"row"}},"center-between":{"":{alignItems:"center",flexDirection:"row",justifyContent:"space-between"}},content:{"":{position:"relative",paddingTop:"20rpx",paddingRight:"26rpx",paddingBottom:"20rpx",paddingLeft:"26rpx"}},info:{".content ":{marginLeft:"20rpx",height:"92rpx",flexDirection:"column",justifyContent:"space-between"}},"left-icon":{".content ":{alignItems:"center",flexDirection:"row",height:"36rpx",width:"36rpx",justifyContent:"center",position:"absolute",left:0}},point:{".content ":{width:"16rpx",height:"16rpx",backgroundColor:"#00FFBE",borderRadius:50}}},nm={components:{MText:ee,MsgDetail:Ie,UniIcons:Xe,RichContent:Y,UBaseInfo:Ue,LImg:N,MsgNDef:oe},props:{data:{type:Object,default(){return{}}},index:{type:Number,default:-1},listType:{type:Number,default:1}},data(){return{content:"",richText:"",detail:"",nicknameW:getApp().globalData.window.width-138-uni.upx2px(152)}},computed:{contentLeft(){return this.content.icon||this.content.type==3?"36rpx":"0rpx"}},methods:{$str:p,clickUser(e){e&&e.stopPropagation(),$("/pages/main/user-home",{uid:this.content.user_info.uid})},clickDetail(e){if(e&&e.stopPropagation(),!f(this.detail)){M.handleCallback(this.detail.action);return}$("/pages/main/user-home",{uid:this.content.user_info.uid})},parseData(){if(!f(this.data.content))if(this.content=this.data.content,this.content.text&&(this.richText={text:this.content.text,info:this.content.info}),f(this.content.detail)){if(f(this.content.user_info))return;let e=Qa(this.content.user_info.sex);this.detail={title:p("msg.noticeViewHomePage",{whose:e}),action:{func_name:"open",func_data:{page_name:"web",data:{route:"/pages/main/user-home?uid="+this.content.user_info.uid}}}}}else this.detail=this.content.detail}},created(){this.parseData()}};function am(e,t,i,a,n,s){let o=S((0,r.resolveDynamicComponent)("l-img"),N),l=(0,r.resolveComponent)("m-text"),c=S((0,r.resolveDynamicComponent)("u-base-info"),Ue),u=S((0,r.resolveDynamicComponent)("rich-content"),Y),d=(0,r.resolveComponent)("msg-detail"),g=(0,r.resolveComponent)("msg-n-def");return(0,r.openBlock)(),(0,r.createBlock)(g,{data:i.data,listType:i.listType,index:i.index},{default:(0,r.withCtx)(()=>[(0,r.createElementVNode)("view",{onClick:t[1]||(t[1]=(...h)=>s.clickDetail&&s.clickDetail(...h)),onLongpress:h=>!1,class:"content"},[n.content.user_info?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:0,onClick:t[0]||(t[0]=(...h)=>s.clickUser&&s.clickUser(...h)),class:"center"},[(0,r.createVNode)(o,{src:n.content.user_info.small_avatar,onClick:s.clickUser,h:"92rpx",radius:"8rpx",w:"92rpx"},null,8,["src","onClick"]),(0,r.createElementVNode)("view",{class:"info"},[(0,r.createVNode)(l,{text:n.content.user_info.nickname,style:(0,r.normalizeStyle)([{width:`${n.nicknameW}px`},{"font-size":"34rpx","font-weight":"600","line-height":"48rpx","margin-top":"-6rpx",overflow:"hidden","text-overflow":"ellipsis",lines:"1"}])},null,8,["text","style"]),(0,r.createVNode)(c,{info:n.content.user_info,"no-name":1,style:{"margin-bottom":"6rpx"}},null,8,["info"])])])):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("view",{style:{"margin-top":"24rpx"}},[n.content.icon||n.content.type==3?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:0,class:"left-icon"},[n.content.icon?((0,r.openBlock)(),(0,r.createBlock)(o,{key:0,src:n.content.icon,h:"30rpx",w:"30rpx"},null,8,["src"])):n.content.type==3?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:1,class:"point"})):(0,r.createCommentVNode)("",!0)])):(0,r.createCommentVNode)("",!0),n.richText?((0,r.openBlock)(),(0,r.createBlock)(u,{key:1,data:n.richText,onLongpress:h=>!1,style:(0,r.normalizeStyle)([{marginLeft:`${s.contentLeft}`},{"background-color":"transparent","text-align":"left"}]),"font-size":"30rpx"},null,8,["data","style"])):n.content.tips?((0,r.openBlock)(),(0,r.createBlock)(l,{key:2,text:n.content.tips,style:(0,r.normalizeStyle)([{marginLeft:`${s.contentLeft}`},{"line-height":"36rpx","font-size":"30rpx"}])},null,8,["text","style"])):(0,r.createCommentVNode)("",!0)])],32),n.detail?((0,r.openBlock)(),(0,r.createBlock)(d,{key:0,detail:n.detail},null,8,["detail"])):(0,r.createCommentVNode)("",!0)]),_:1},8,["data","listType","index"])}var sm=E(nm,[["render",am],["styles",[im]]]),rm={"center-between":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},"center-end":{"":{flexDirection:"row",alignItems:"center",justifyContent:"flex-end"}},text:{"":{fontSize:"24rpx",lineHeight:"34rpx"}},"vertical-line":{"":{height:"20rpx",opacity:.2,width:1,backgroundColor:"#979797",transform:"scaleX(0.5)",transformOrigin:"50% 0"}}},om={components:{MText:ee,LImg:N},props:{leftTitle:{type:String,default:""},duration:{type:[String,Number],default:""},income:{type:[String,Number],default:""}},data(){return{msgW:getApp().globalData.window.width-138-2}},computed:{leftTitleW(){return this.duration?90/240*this.msgW:"max-content"},durationW(){return 55/240*this.msgW},rightW(){return this.duration?70/240*this.msgW:"max-content"}}};function lm(e,t,i,a,n,s){let o=(0,r.resolveComponent)("m-text"),l=S((0,r.resolveDynamicComponent)("l-img"),N);return(0,r.openBlock)(),(0,r.createElementBlock)("view",{class:"center-between",style:{"margin-top":"20rpx"},renderWhole:!0},[(0,r.createVNode)(o,{text:i.leftTitle,style:(0,r.normalizeStyle)([{"font-size":"24rpx","line-height":"34rpx"},{width:`${s.leftTitleW}px`}])},null,8,["text","style"]),i.duration?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:0,class:"vertical-line"})):(0,r.createCommentVNode)("",!0),i.duration?((0,r.openBlock)(),(0,r.createBlock)(o,{key:1,text:i.duration,style:(0,r.normalizeStyle)([{"font-size":"24rpx","line-height":"34rpx","text-align":"center"},{width:`${s.durationW}px`}])},null,8,["text","style"])):(0,r.createCommentVNode)("",!0),i.duration?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:2,class:"vertical-line"})):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("view",{style:(0,r.normalizeStyle)({width:`${s.rightW}px`}),class:"center-end"},[(0,r.createVNode)(o,{text:"+"+i.income,style:{"font-size":"24rpx","line-height":"34rpx",margin:"2rpx 2rpx 0 0"}},null,8,["text"]),(0,r.createVNode)(l,{src:"s/my/i_coins.png",w:"26rpx",h:"26rpx"})],4)])}var cm=E(om,[["render",lm],["styles",[rm]]]),um={center:{"":{flexDirection:"row",alignItems:"center"}},"center-align":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"center-end":{"":{flexDirection:"row",alignItems:"center",justifyContent:"flex-end"}},item:{"":{paddingTop:"20rpx",paddingRight:8,paddingBottom:"20rpx",paddingLeft:8}},"gift-wrap":{"":{borderRadius:"8rpx",flexDirection:"row",flexWrap:"wrap",marginTop:"16rpx",paddingBottom:"20rpx"}},"gift-item":{".gift-wrap ":{paddingTop:"20rpx"}},count:{".gift-wrap .gift-item ":{color:"#FF4477",fontSize:"20rpx",lineHeight:"28rpx",marginLeft:"4rpx"}},"total-income":{"":{color:"#FFAA0D",fontSize:"32rpx",lineHeight:"44rpx",fontWeight:"500"}}},dm={components:{MText:ee,MLine:Be,AvatarImg:yt,IncomeItem:cm,UBaseInfo:Ue,LImg:N,MsgNDef:oe},props:{data:{type:Object,default(){return{}}},index:{type:Number,default:-1},listType:{type:Number,default:1}},data(){return{content:{},matchInfo:"",freeInfo:"",rewardInfo:"",callInfo:"",giftInfo:"",playRewardsInfo:"",gameComInfo:"",gamePrizesInfo:""}},computed:{giftW(){return parseInt((getApp().globalData.window.width-138-16)/5)},leftIcon(){let e=this.data.content,t=e.caller==getApp().pubUser.uid;if(e.is_match){if(e.is_match==1)return e.call_duration?"s/msg/match_in_call.png":"s/msg/match_not_call.png";if(e.is_match==2)return t?"s/game/game_video_out.png":"s/game/game_video_in.png"}let i=e.call_type==1?"video":"audio";return t?"s/msg/call_"+i+"_red.png":"s/msg/answer_"+i+".png"},viewGiftBg(){return getApp().globalData.themeObj.style==Z.LIGHT?"#F5F5F5":getApp().globalData.themeObj.color.bg2}},methods:{$str:p,clickUser(e){e&&e.stopPropagation(),$("/pages/main/user-home",{uid:this.content.target_user.uid})},setUserFirstCall(){this.freeInfo={leftTitle:p("userFirstCall"),duration:this.content.free_min_duration,income:this.content.free_min_income}},setUserFirstAward(){this.rewardInfo={leftTitle:p("topUpReward"),income:this.content.recharge_reward}},setCall(){this.callInfo={leftTitle:this.content.call_type==1?p("videoChat"):p("audioChat"),duration:this.content.call_duration,income:this.content.call_income}},setGift(){let e=this.content.gift_received,t=0;if(e.length>0)for(let i=0,a=e.length;i<a;i++){let n=e[i],s=Number(n.number);t+=s}this.giftInfo={leftTitle:p("giftsReceived"),income:this.content.gift_income,duration:t}},setMatch(){this.matchInfo={leftTitle:p("match"),duration:this.content.match_duration,income:this.content.match_income}},setPlayRewards(){this.playRewardsInfo={leftTitle:"Playmates",duration:this.content.call_duration,income:this.content.play_rewards}},setGameCommission(){this.gameComInfo={leftTitle:"Game commission",income:this.content.game_commission}},setGamePrizes(){this.gamePrizesInfo={leftTitle:"Game prizes",income:this.content.game_prizes}},checkHasField(e){return this.content.hasOwnProperty(e)},initData(){let e=this.content.is_match;e&&e==1&&this.setMatch(),this.content.is_free_min&&this.setUserFirstCall(),this.content.is_free_min&&this.content.recharge_reward>0&&this.setUserFirstAward(),this.content.gift_income>0&&this.setGift(),this.checkHasField("call_income")&&this.setCall(),this.checkHasField("play_rewards")&&this.setPlayRewards(),this.checkHasField("game_commission")&&this.setGameCommission(),this.checkHasField("game_prizes")&&this.setGamePrizes()}},created(){this.content=this.data.content,this.initData()}};function pm(e,t,i,a,n,s){let o=S((0,r.resolveDynamicComponent)("l-img"),N),l=S((0,r.resolveDynamicComponent)("avatar-img"),yt),c=S((0,r.resolveDynamicComponent)("u-base-info"),Ue),u=(0,r.resolveComponent)("m-line"),d=(0,r.resolveComponent)("income-item"),g=(0,r.resolveComponent)("m-text"),h=(0,r.resolveComponent)("msg-n-def");return(0,r.openBlock)(),(0,r.createBlock)(h,{data:i.data,listType:i.listType,index:i.index},{default:(0,r.withCtx)(()=>[(0,r.createElementVNode)("view",{onClick:t[0]||(t[0]=(..._)=>s.clickUser&&s.clickUser(..._)),onLongpress:_=>!1,class:"item center"},[(0,r.createVNode)(o,{src:s.leftIcon,h:"48rpx",style:{"margin-right":"12rpx"},w:"48rpx"},null,8,["src"]),(0,r.createVNode)(l,{user:n.content.target_user,border:"1px solid #CCCCCC",w:"48rpx",h:"48rpx",radius:"8rpx","place-type":0,style:{"margin-right":"8rpx"}},null,8,["user"]),(0,r.createVNode)(c,{info:n.content.target_user,fw:"600","name-color":"#FF4477","name-size":"34rpx","name-width":"50px"},null,8,["info"])],32),(0,r.createVNode)(u,{style:{"margin-left":"8px"}}),(0,r.createElementVNode)("view",{class:"item",style:{"padding-top":"0"}},[n.matchInfo?((0,r.openBlock)(),(0,r.createBlock)(d,{key:0,duration:n.matchInfo.duration,income:n.matchInfo.income,leftTitle:n.matchInfo.leftTitle},null,8,["duration","income","leftTitle"])):(0,r.createCommentVNode)("",!0),n.freeInfo?((0,r.openBlock)(),(0,r.createBlock)(d,{key:1,duration:n.freeInfo.duration,income:n.freeInfo.income,leftTitle:n.freeInfo.leftTitle},null,8,["duration","income","leftTitle"])):(0,r.createCommentVNode)("",!0),n.rewardInfo?((0,r.openBlock)(),(0,r.createBlock)(d,{key:2,income:n.rewardInfo.income,leftTitle:n.rewardInfo.leftTitle},null,8,["income","leftTitle"])):(0,r.createCommentVNode)("",!0),n.callInfo?((0,r.openBlock)(),(0,r.createBlock)(d,{key:3,duration:n.callInfo.duration,income:n.callInfo.income,leftTitle:n.callInfo.leftTitle},null,8,["duration","income","leftTitle"])):(0,r.createCommentVNode)("",!0),n.playRewardsInfo?((0,r.openBlock)(),(0,r.createBlock)(d,{key:4,duration:n.playRewardsInfo.duration,income:n.playRewardsInfo.income,leftTitle:n.playRewardsInfo.leftTitle},null,8,["duration","income","leftTitle"])):(0,r.createCommentVNode)("",!0),n.gameComInfo?((0,r.openBlock)(),(0,r.createBlock)(d,{key:5,income:n.gameComInfo.income,leftTitle:n.gameComInfo.leftTitle},null,8,["income","leftTitle"])):(0,r.createCommentVNode)("",!0),n.gamePrizesInfo?((0,r.openBlock)(),(0,r.createBlock)(d,{key:6,income:n.gamePrizesInfo.income,leftTitle:n.gamePrizesInfo.leftTitle},null,8,["income","leftTitle"])):(0,r.createCommentVNode)("",!0),n.giftInfo?((0,r.openBlock)(),(0,r.createBlock)(d,{key:7,duration:n.giftInfo.duration,income:n.giftInfo.income,leftTitle:n.giftInfo.leftTitle},null,8,["duration","income","leftTitle"])):(0,r.createCommentVNode)("",!0),n.content.gift_received&&n.content.gift_received.length>0?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:8,class:"gift-wrap",style:(0,r.normalizeStyle)({background:s.viewGiftBg})},[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(n.content.gift_received,(_,v)=>((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:v,style:(0,r.normalizeStyle)({width:`${s.giftW}px`}),class:"center-align gift-item"},[(0,r.createVNode)(o,{src:_.icon,h:"34rpx",w:"34rpx"},null,8,["src"]),(0,r.createElementVNode)("u-text",{class:"count"},"x"+(0,r.toDisplayString)(_.number),1)],4))),128))],4)):(0,r.createCommentVNode)("",!0)]),(0,r.createVNode)(u,{style:{"margin-left":"8px"}}),(0,r.createElementVNode)("view",{class:"item center-end"},[(0,r.createVNode)(g,{text:s.$str("totalRevenueCoins")+":",style:{"font-size":"24rpx","line-height":"34rpx","margin-right":"8rpx"}},null,8,["text"]),(0,r.createElementVNode)("view",{class:"center"},[(0,r.createVNode)(g,{text:n.content.total_income,type:"coin",style:{"font-size":"32rpx","line-height":"44rpx","font-weight":"500","margin-right":"2rpx"}},null,8,["text"]),(0,r.createVNode)(o,{h:"26rpx",src:"s/my/i_coins.png",w:"26rpx"})])])]),_:1},8,["data","listType","index"])}var mm=E(dm,[["render",pm],["styles",[um]]]),fm={components:{MText:ee,MsgNDef:oe},props:{data:{type:Object,default(){return{}}},index:{type:Number,default:-1},listType:{type:Number,default:1}},methods:{$str:p}};function gm(e,t,i,a,n,s){let o=(0,r.resolveComponent)("m-text"),l=(0,r.resolveComponent)("msg-n-def");return(0,r.openBlock)(),(0,r.createBlock)(l,{data:i.data,listType:i.listType,index:i.index},{default:(0,r.withCtx)(()=>[(0,r.createVNode)(o,{text:s.$str("msg.notCurrentSupport"),style:{padding:"24rpx","font-size":"28rpx"}},null,8,["text"])]),_:1},8,["data","listType","index"])}var hm=E(fm,[["render",gm]]),_m={flex:{"":{flexDirection:"row"}},center:{"":{flexDirection:"row",alignItems:"center"}},"center-between":{"":{alignItems:"center",flexDirection:"row",justifyContent:"space-between"}},"m-t-10":{"":{marginTop:"20rpx"}},"m-t-8":{"":{marginTop:"16rpx"}},"info-wrap":{"":{marginTop:0,marginRight:"26rpx",marginBottom:"20rpx",marginLeft:"26rpx"}},"info-content":{"":{borderRadius:"8rpx"}},"info-item":{".info-content ":{paddingTop:"20rpx",paddingRight:"20rpx",paddingBottom:"20rpx",paddingLeft:"20rpx",lineHeight:"30rpx"}},"agent-wrap":{"":{marginLeft:"10rpx",height:"88rpx",flexDirection:"column",justifyContent:"space-between"}}},ym={components:{MLine:Be,MText:ee,MsgDetail:Ie,MsgReason:Yi,UBaseInfo:Ue,RichContent:Y,LImg:N,MsgNDef:oe},props:{data:{type:Object,default(){return{}}},index:{type:Number,default:-1},listType:{type:Number,default:1}},data(){return{contentW:getApp().globalData.window.width-38-uni.upx2px(76),accountW:getApp().globalData.window.width-86-uni.upx2px(104),content:{},richText:"",detail:""}},computed:{uBaseMTop(){let e=this.content.union_info;return f(e)||f(e.manager_user_info)?!1:e.manager_user_info.hide_level?0:"-8"},showAccountLine(){return!f(this.content.union_info)},showCoinsLine(){return this.showAccountLine||!f(this.content.account)},showRealMoneyLine(){return this.showCoinsLine||!f(this.content.coins)},showCommissionLine(){return this.showRealMoneyLine||!f(this.content.real_money)},showPaymentAmountLine(){return this.showCommissionLine||!f(this.content.commission)},showVoucherLine(){return this.showPaymentAmountLine||!f(this.content.payment_amount)},viewContentBg(){return getApp().globalData.themeObj.style==Z.LIGHT?"#F5F5F5":getApp().globalData.themeObj.color.bg2}},methods:{$str:p,clickAgency(){$("/pages/main/user-home",{uid:this.content.union_info.manager_user_info.uid})},clickShot(e){let t=[];for(let i=0,a=this.content.voucher.length;i<a;i++){let n=this.content.voucher[i].url;t.push(Re(!1,"",n))}Ve(t,e)},parseData(){f(this.data.content)||(this.content=this.data.content,this.content.text&&(this.richText={text:this.content.text,info:this.content.info,click:[this.content.click]}),this.detail=this.data.content.detail)}},created(){this.parseData()}};function bm(e,t,i,a,n,s){let o=(0,r.resolveComponent)("m-text"),l=(0,r.resolveComponent)("m-line"),c=S((0,r.resolveDynamicComponent)("l-img"),N),u=S((0,r.resolveDynamicComponent)("u-base-info"),Ue),d=S((0,r.resolveDynamicComponent)("rich-content"),Y),g=(0,r.resolveComponent)("msg-reason"),h=(0,r.resolveComponent)("msg-detail"),_=(0,r.resolveComponent)("msg-n-def");return(0,r.openBlock)(),(0,r.createBlock)(_,{data:i.data,width:n.contentW,listType:i.listType,index:i.index},{default:(0,r.withCtx)(()=>[(0,r.createElementVNode)("view",{class:"info-wrap"},[(0,r.createElementVNode)("view",{class:"info-content m-t-10",style:(0,r.normalizeStyle)({background:s.viewContentBg})},[n.content.union_info?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:0,class:"info-item"},[(0,r.createVNode)(o,{text:s.$str("agency")+": ",style:{"font-size":"24rpx"}},null,8,["text"]),(0,r.createVNode)(o,{text:n.content.union_info.union_name,type:"action",style:{"margin-top":"8rpx","max-width":"400rpx","line-height":"42rpx","font-size":"30rpx"}},null,8,["text"]),n.content.union_info.manager_user_info?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:0},[(0,r.createVNode)(l,{style:{margin:"20rpx 0 0 0"}}),(0,r.createVNode)(o,{text:s.$str("agencyAgent")+": ",style:{"font-size":"24rpx","margin-top":"20rpx"}},null,8,["text"]),(0,r.createElementVNode)("view",{onClick:t[0]||(t[0]=(...v)=>s.clickAgency&&s.clickAgency(...v)),onLongpress:v=>!1,class:"center",style:{"margin-top":"12rpx"}},[(0,r.createVNode)(c,{src:n.content.union_info.manager_user_info.small_avatar,w:"88rpx",h:"88rpx",radius:"8rpx"},null,8,["src"]),(0,r.createElementVNode)("view",{class:"agent-wrap"},[(0,r.createVNode)(u,{info:n.content.union_info.manager_user_info,fw:"500","name-size":"30rpx","name-width":"170rpx",style:(0,r.normalizeStyle)({marginTop:`${s.uBaseMTop}rpx`})},null,8,["info","style"]),(0,r.createVNode)(o,{text:s.$str("id")+": "+n.content.union_info.manager_user_info.uid,type:"tip",style:{"font-size":"24rpx"}},null,8,["text"])])],32)])):(0,r.createCommentVNode)("",!0)])):(0,r.createCommentVNode)("",!0),n.content.account?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:1},[s.showAccountLine?((0,r.openBlock)(),(0,r.createBlock)(l,{key:0,style:{"margin-left":"20rpx"}})):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("view",{class:"info-item"},[(0,r.createVNode)(o,{text:s.$str("withdrawAccount")+": ",style:{"font-size":"30rpx","line-height":"30rpx"}},null,8,["text"]),(0,r.createElementVNode)("view",{class:"flex m-t-8",style:{"line-height":"28rpx"}},[(0,r.createVNode)(c,{src:n.content.account.icon,w:"28rpx",h:"28rpx"},null,8,["src"]),(0,r.createVNode)(o,{type:"action",text:n.content.account.account,style:(0,r.normalizeStyle)([{width:`${n.accountW}px`},{"font-size":"24rpx","margin-left":"8rpx","line-height":"28rpx"}])},null,8,["text","style"])])])])):(0,r.createCommentVNode)("",!0),n.content.coins?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:2},[s.showCoinsLine?((0,r.openBlock)(),(0,r.createBlock)(l,{key:0,style:{"margin-left":"20rpx"}})):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("view",{class:"center info-item"},[(0,r.createVNode)(o,{text:s.$str("msg.noticeGirlsSettleCoins")+": ",style:{"font-size":"30rpx","line-height":"30rpx"}},null,8,["text"]),(0,r.createElementVNode)("view",{class:"center"},[(0,r.createVNode)(o,{text:n.content.coins,type:"coin",style:{"font-size":"30rpx","line-height":"30rpx"}},null,8,["text"]),(0,r.createVNode)(c,{src:"s/my/i_coins.png",w:"24rpx",h:"24rpx",class:"m-l-2"})])])])):(0,r.createCommentVNode)("",!0),n.content.real_money?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:3},[s.showRealMoneyLine?((0,r.openBlock)(),(0,r.createBlock)(l,{key:0,style:{"margin-left":"20rpx"}})):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("view",{class:"center info-item"},[(0,r.createVNode)(o,{text:s.$str("msg.noticeSalaryOfGirls")+": ",style:{"font-size":"30rpx","line-height":"30rpx"}},null,8,["text"]),(0,r.createVNode)(o,{text:"$"+n.content.real_money,type:"coin",style:{"font-size":"30rpx","line-height":"30rpx"}},null,8,["text"])])])):(0,r.createCommentVNode)("",!0),n.content.commission?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:4},[s.showCommissionLine?((0,r.openBlock)(),(0,r.createBlock)(l,{key:0,style:{"margin-left":"20rpx"}})):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("view",{class:"center info-item"},[(0,r.createVNode)(o,{text:s.$str("msg.noticeYourCommission")+": ",style:{"font-size":"30rpx","line-height":"30rpx"}},null,8,["text"]),(0,r.createVNode)(o,{text:"$"+n.content.commission,type:"coin",style:{"font-size":"30rpx","line-height":"30rpx"}},null,8,["text"])])])):(0,r.createCommentVNode)("",!0),n.content.payment_amount?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:5},[s.showPaymentAmountLine?((0,r.openBlock)(),(0,r.createBlock)(l,{key:0,style:{"margin-left":"20rpx"}})):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("view",{class:"center info-item"},[(0,r.createVNode)(o,{text:s.$str("paymentAmount")+": ",style:{"font-size":"30rpx","line-height":"30rpx"}},null,8,["text"]),(0,r.createVNode)(o,{text:"$"+n.content.payment_amount,type:"coin",style:{"font-size":"30rpx","line-height":"30rpx"}},null,8,["text"])])])):(0,r.createCommentVNode)("",!0),n.content.voucher?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:6},[s.showVoucherLine?((0,r.openBlock)(),(0,r.createBlock)(l,{key:0,style:{"margin-left":"20rpx"}})):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("view",{class:"info-item"},[(0,r.createVNode)(o,{text:s.$str("msg.noticePaymentScreenshot")+": ",style:{"font-size":"30rpx","line-height":"30rpx"}},null,8,["text"]),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(n.content.voucher,(v,R)=>((0,r.openBlock)(),(0,r.createBlock)(c,{key:R,src:v.small_url,onClick:L=>s.clickShot(R),onLongpress:L=>!1,border:"2rpx solid #CCCCCC",w:"300rpx",h:"156rpx",radius:"4rpx",style:{"margin-top":"8px"}},null,8,["src","onClick"]))),128))])])):(0,r.createCommentVNode)("",!0)],4),n.content.tips?((0,r.openBlock)(),(0,r.createBlock)(o,{key:0,text:n.content.tips,style:{"font-size":"30rpx","line-height":"42rpx","margin-top":"20rpx"}},null,8,["text"])):(0,r.createCommentVNode)("",!0),n.richText?((0,r.openBlock)(),(0,r.createBlock)(d,{key:1,data:n.richText,onLongpress:v=>!1,style:{"font-size":"30rpx","line-height":"42rpx","margin-top":"10px",background:"transparent"},"font-size":"30rpx"},null,8,["data"])):(0,r.createCommentVNode)("",!0),n.content.reason?((0,r.openBlock)(),(0,r.createBlock)(g,{key:2,reason:n.content.reason,style:{"margin-top":"10px"}},null,8,["reason"])):(0,r.createCommentVNode)("",!0)]),n.detail?((0,r.openBlock)(),(0,r.createBlock)(h,{key:0,detail:n.detail},null,8,["detail"])):(0,r.createCommentVNode)("",!0)]),_:1},8,["data","width","listType","index"])}var xm=E(ym,[["render",bm],["styles",[_m]]]),wm={center:{"":{flexDirection:"row",alignItems:"center"}},"column-between":{"":{flexDirection:"column",justifyContent:"space-between"}},"img-wrap":{"":{flexDirection:"row",alignItems:"center",flexWrap:"wrap"}}},Tm={components:{MLine:Be,MText:ee,AvatarImg:yt,UBaseInfo:Ue,LImg:N,MsgNDef:oe},props:{data:{type:Object,default(){return{}}},index:{type:Number,default:-1},listType:{type:Number,default:1}},data(){return{content:{}}},computed:{nickname(){let e=this.content.report_user;return f(e)?"":Ii(e)}},methods:{$str:p,clickUser(){$("/pages/main/user-home",{uid:this.content.report_user.uid})},clickImg(e){let t=this.content.info.url,i=[];for(let a=0,n=t.length;a<n;a++){let s=ht(t[a].url),o=Re(!1,s,s);i.push(o)}Ve(i,e,0)}},created(){f(this.data.content)||(this.content=this.data.content)}};function Am(e,t,i,a,n,s){let o=(0,r.resolveComponent)("m-text"),l=(0,r.resolveComponent)("m-line"),c=S((0,r.resolveDynamicComponent)("avatar-img"),yt),u=S((0,r.resolveDynamicComponent)("u-base-info"),Ue),d=S((0,r.resolveDynamicComponent)("l-img"),N),g=(0,r.resolveComponent)("msg-n-def");return(0,r.openBlock)(),(0,r.createBlock)(g,{data:i.data,listType:i.listType,index:i.index},{default:(0,r.withCtx)(()=>[n.content.content?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:0,style:{margin:"20rpx"}},[(0,r.createVNode)(o,{text:n.content.content,style:{"font-size":"24rpx",opacity:".85"}},null,8,["text"])])):(0,r.createCommentVNode)("",!0),n.content.content?((0,r.openBlock)(),(0,r.createBlock)(l,{key:1,style:{"margin-left":"20rpx"}})):(0,r.createCommentVNode)("",!0),n.content.report_user?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:2,onClick:t[0]||(t[0]=(...h)=>s.clickUser&&s.clickUser(...h)),onLongpress:h=>!1,style:{margin:"20rpx 20rpx 32rpx 20rpx"}},[(0,r.createVNode)(o,{text:s.$str("reportObject")+": ",style:{"font-size":"24rpx",opacity:".85"}},null,8,["text"]),(0,r.createElementVNode)("view",{class:"center",style:{"margin-top":"10rpx"}},[(0,r.createVNode)(c,{user:n.content.report_user,w:"72rpx",h:"72rpx",radius:"12rpx","place-w":"60rpx","place-font-size":!1},null,8,["user"]),(0,r.createElementVNode)("view",{class:"column-between",style:{height:"72rpx","margin-left":"12rpx"}},[(0,r.createVNode)(o,{text:s.nickname,style:{"font-size":"24rpx","font-weight":"600","text-overflow":"ellipsis",lines:"1","max-width":"300rpx"}},null,8,["text"]),(0,r.createVNode)(u,{info:n.content.report_user,"no-name":1},null,8,["info"])])])],32)):(0,r.createCommentVNode)("",!0),n.content.report_user?((0,r.openBlock)(),(0,r.createBlock)(l,{key:3,style:{"margin-left":"20rpx"}})):(0,r.createCommentVNode)("",!0),n.content.info?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:4,style:{margin:"20rpx 20rpx 30rpx 20rpx"}},[n.content.reply_type==1||n.content.reply_type==2?((0,r.openBlock)(),(0,r.createBlock)(o,{key:0,text:n.content.reply_type==1?s.$str("reportContent")+":":s.$str("feedbackContent")+":",style:{"font-size":"24rpx"}},null,8,["text"])):(0,r.createCommentVNode)("",!0),n.content.info.content?((0,r.openBlock)(),(0,r.createBlock)(o,{key:1,text:n.content.info.content,style:{"font-size":"24rpx",opacity:".85","margin-top":"10rpx"}},null,8,["text"])):(0,r.createCommentVNode)("",!0),n.content.info.url&&n.content.info.url.length>0?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:2,class:"img-wrap"},[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(n.content.info.url,(h,_)=>((0,r.openBlock)(),(0,r.createBlock)(d,{src:h.url,key:_,onClick:v=>s.clickImg(_),onLongpress:v=>!1,w:"160rpx",h:"160rpx",radius:"8rpx",style:{"margin-top":"16rpx","margin-right":"16rpx"}},null,8,["src","onClick"]))),128))])):(0,r.createCommentVNode)("",!0)])):(0,r.createCommentVNode)("",!0)]),_:1},8,["data","listType","index"])}var Cm=E(Tm,[["render",Am],["styles",[wm]]]),Sm={center:{"":{flexDirection:"row",alignItems:"center"}},container:{"":{paddingTop:0,paddingRight:0,paddingBottom:"20rpx",paddingLeft:"26rpx"}},"tips-text":{".container ":{fontSize:"30rpx",color:"#333333",lineHeight:"42rpx"}},"content-wrap":{".container ":{flexDirection:"row",paddingRight:"26rpx",marginTop:"20rpx",flex:1}},"btn-wrap":{".container ":{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingTop:"20rpx",paddingRight:"26rpx",paddingBottom:0,paddingLeft:0}},refuse:{".container .btn-wrap ":{height:"56rpx",borderRadius:"8rpx",lineHeight:"56rpx",paddingTop:0,paddingRight:"24rpx",paddingBottom:0,paddingLeft:"24rpx",fontSize:"24rpx"}},agree:{".container .btn-wrap ":{marginLeft:"20rpx",height:"56rpx",borderRadius:"8rpx",lineHeight:"56rpx",paddingTop:0,paddingRight:"24rpx",paddingBottom:0,paddingLeft:"24rpx",fontSize:"24rpx",color:"#FFFFFF",backgroundImage:"linear-gradient(to right, #FF00BD, #FF5954)"}}},km={components:{MLine:Be,MText:ee,TranslateIcon:ea,RichContent:Y,LImg:N,MsgNDef:oe},props:{data:{type:Object,default(){return{}}},index:{type:Number,default:-1},listType:{type:Number,default:1}},data(){return{content:{},richText:"",contentW:getApp().globalData.window.width-38-uni.upx2px(76),targetUser:{}}},computed:{translateApiParams(){return{from_uid:this.data.chat_id,chat_type:this.data.chat_type,from_type:$a.MSG_SYS,key:this.data.mtime}},statusStr(){return this.content.status==1?p("agreed"):p("refused")},remarkStr(){return`${es(this.targetUser.sex)} ${p("saidLower")}`},viewRefuseStyle(){return{color:getApp().globalData.themeObj.color.tip,border:"2rpx solid "+getApp().globalData.themeObj.color.tip}},tranAColor(){return getApp().globalData.themeObj.color.bg1_1},tranABg(){return getApp().globalData.themeObj.style==Z.LIGHT?"#C6CCD6":"rgba(125, 130, 136, 0.9)"}},methods:{$str:p,clickLeftStr(){this.content.from_type==2?Ot(this.content.club_info.club_id):Dn(this.content.club_info.club_id)},clickRefuse(){let e="";if(this.content.from_type==2)e=p("msg.noticeRefuseJoinClub",{clubName:this.content.club_info.club_name});else{let t={nickname:this.content.user_info.nickname,club_name:this.content.club_info.club_name};e=p("msg.noticeRefuseOtherJoinClub",t)}Fe(p("tips"),e,()=>{this.reqCheck(2)},"",p("refuse"))},clickAgree(){if(this.content.from_type==2&&Ft(Lt.JOIN_CLUB)){$($e.clubStatusRemind,{from_type:3});return}if(getApp().globalData.appCRE&&this.content.from_type==2&&getApp().pubUser.level<getApp().globalData.config.join_club_level){$($e.clubReachLevel,{level:getApp().globalData.config.join_club_level,from_type:1});return}this.reqCheck(1)},reqCheck(e){let t={apply_id:this.content.apply_id,mtime:this.data.mtime,status:e};this.content.from_type&&(t.from_type=this.content.from_type),M.request("/chat/club/join-audit",t).then(i=>{if(i.ok==2){$($e.clubReachLevel,{level:getApp().globalData.config.join_club_level,from_type:1});return}this.content.status=e;let a=JSON.stringify(this.content);Wt(this.data.chat_id,this.data.chat_type,this.data.ctime,a)})},parseData(){f(this.data.content)||(this.targetUser=this.data.target_user,this.content=this.data.content,this.content.text&&(this.richText={text:this.content.text,info:this.content.info},this.content.click&&(this.richText.click=[this.content.click])))}},created(){this.parseData()}};function Dm(e,t,i,a,n,s){let o=S((0,r.resolveDynamicComponent)("rich-content"),Y),l=(0,r.resolveComponent)("m-text"),c=S((0,r.resolveDynamicComponent)("translate-icon"),ea),u=(0,r.resolveComponent)("m-line"),d=(0,r.resolveComponent)("msg-n-def");return(0,r.openBlock)(),(0,r.createBlock)(d,{data:i.data,width:n.contentW,listType:i.listType,index:i.index},{default:(0,r.withCtx)(()=>[(0,r.createElementVNode)("view",{class:"container"},[n.richText?((0,r.openBlock)(),(0,r.createBlock)(o,{key:0,data:n.richText,onLongpress:g=>!1,"font-size":"30rpx",style:{"line-height":"42rpx","padding-right":"26rpx","margin-top":"20rpx",background:"transparent"}},null,8,["data"])):(0,r.createCommentVNode)("",!0),n.content.content?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:1,class:"content-wrap"},[(0,r.createVNode)(l,{text:s.remarkStr+": ",type:"tip",style:{"font-size":"30rpx","line-height":"42rpx"}},null,8,["text"]),(0,r.createVNode)(l,{text:n.content.content,style:{"font-size":"30rpx","line-height":"42rpx",flex:"1"}},null,8,["text"])])):(0,r.createCommentVNode)("",!0),n.content.content?((0,r.openBlock)(),(0,r.createBlock)(c,{key:2,text:n.content.content,bg:s.tranABg,"text-color":"#999999","content-top":8,"show-tran-end":!0,"translate-size":"28rpx","api-params":s.translateApiParams,style:{"margin-top":"4rpx"}},null,8,["text","bg","api-params"])):(0,r.createCommentVNode)("",!0),(0,r.createVNode)(u,{style:{"margin-top":"20rpx"}}),(0,r.createElementVNode)("view",{class:"btn-wrap"},[(0,r.createVNode)(l,{type:"action",text:s.$str("club.introShort"),onClick:s.clickLeftStr,style:{"font-size":"24rpx"}},null,8,["text","onClick"]),n.content.status==0?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:0,class:"center"},[(0,r.createElementVNode)("u-text",{onClick:t[0]||(t[0]=(...g)=>s.clickRefuse&&s.clickRefuse(...g)),class:"refuse",style:(0,r.normalizeStyle)(s.viewRefuseStyle)},(0,r.toDisplayString)(s.$str("refuse")),5),(0,r.createElementVNode)("u-text",{onClick:t[1]||(t[1]=(...g)=>s.clickAgree&&s.clickAgree(...g)),class:"agree"},(0,r.toDisplayString)(s.$str("agree")),1)])):((0,r.openBlock)(),(0,r.createBlock)(l,{key:1,text:s.statusStr,type:"desc",style:{"font-size":"24rpx","line-height":"34rpx"}},null,8,["text"]))])])]),_:1},8,["data","width","listType","index"])}var Em=E(km,[["render",Dm],["styles",[Sm]]]),vm={container:{"":{paddingTop:"20rpx",paddingRight:"26rpx",paddingBottom:"20rpx",paddingLeft:"26rpx"}}},Lm={components:{MText:ee,RichContent:Y,MsgNDef:oe},props:{data:{type:Object,default(){return{}}},index:{type:Number,default:-1},listType:{type:Number,default:1}},data(){return{richText:"",tips:""}},methods:{parseData(){f(this.data.content)||(this.content=this.data.content,this.content.text?(this.richText={text:this.content.text,info:this.content.info},this.content.click&&(this.richText.click=[this.content.click])):this.content.tips&&(this.tips=this.content.tips))}},created(){this.parseData()}};function Im(e,t,i,a,n,s){let o=S((0,r.resolveDynamicComponent)("rich-content"),Y),l=(0,r.resolveComponent)("m-text"),c=(0,r.resolveComponent)("msg-n-def");return(0,r.openBlock)(),(0,r.createBlock)(c,{data:i.data,listType:i.listType,index:i.index},{default:(0,r.withCtx)(()=>[(0,r.createElementVNode)("view",{class:"container"},[n.richText?((0,r.openBlock)(),(0,r.createBlock)(o,{key:0,data:n.richText,onLongpress:u=>!1,"font-size":"30rpx",style:{background:"transparent","line-height":"42rpx"}},null,8,["data"])):n.tips?((0,r.openBlock)(),(0,r.createBlock)(l,{key:1,text:n.tips,style:{"font-size":"30rpx","line-height":"42rpx"}},null,8,["text"])):(0,r.createCommentVNode)("",!0)])]),_:1},8,["data","listType","index"])}var Mm=E(Lm,[["render",Im],["styles",[vm]]]),Nm={"center-between":{"":{alignItems:"center",flexDirection:"row",justifyContent:"space-between"}}},Rm={components:{MText:ee,MsgDetail:Ie,LImg:N,RichContent:Y,MsgNDef:oe},props:{data:{type:Object,default(){return{}}},index:{type:Number,default:-1},listType:{type:Number,default:1}},data(){return{richText:!1,detail:!1}},computed:{imgWH(){let e=getApp().globalData.window.width-138-uni.upx2px(52),t=this.data.content.img;if(!t.width||!t.height)return[200,200];let i,a;return t.width>t.height?t.width>e?(i=e,a=t.height*i/t.width):(i=t.width,a=t.height):(i=e,a=t.height*i/t.width,a>e+50&&(a=e+50)),[i,a]}},methods:{clickImg(e){if(e&&e.stopPropagation(),this.data.content.img.action){M.handleCallback(this.data.content.img.action);return}let t=ht(this.data.content.img.url),i=Re(!1,t,t);Ve([i],0)},parseData(){let e=this.data.content;e.info&&(e.text&&(this.richText={text:e.text,info:e.info,click:[e.click]}),e.detail&&(this.detail=e.detail))}},created(){F("error","at pagesMsg/coms/msg-n-img/msg-n-img.vue:97","----> 121 "+JSON.stringify(this.data)),this.parseData()}};function Om(e,t,i,a,n,s){let o=(0,r.resolveComponent)("m-text"),l=S((0,r.resolveDynamicComponent)("rich-content"),Y),c=S((0,r.resolveDynamicComponent)("l-img"),N),u=(0,r.resolveComponent)("msg-detail"),d=(0,r.resolveComponent)("msg-n-def");return(0,r.openBlock)(),(0,r.createBlock)(d,{data:i.data,listType:i.listType,index:i.index},{default:(0,r.withCtx)(()=>[(0,r.createElementVNode)("view",{style:{"padding-top":"20rpx"}},[i.data.content.content?((0,r.openBlock)(),(0,r.createBlock)(o,{key:0,text:i.data.content.content,style:{"font-size":"28rpx",padding:"0 26rpx","margin-bottom":"10rpx"}},null,8,["text"])):(0,r.createCommentVNode)("",!0),n.richText?((0,r.openBlock)(),(0,r.createBlock)(l,{key:1,data:n.richText,"font-size":"30rpx",style:{"margin-bottom":"20rpx","margin-left":"20rpx","margin-right":"20rpx","background-color":"transparent","text-align":"left"}},null,8,["data"])):(0,r.createCommentVNode)("",!0),i.data.content.img.url?((0,r.openBlock)(),(0,r.createBlock)(c,{key:2,onClick:s.clickImg,onLongpress:g=>!1,src:i.data.content.img.url,w:`${s.imgWH[0]}px`,h:`${s.imgWH[1]}px`,radius:"8rpx",style:{margin:"0 0 20rpx 26rpx"}},null,8,["onClick","src","w","h"])):(0,r.createCommentVNode)("",!0),n.detail?((0,r.openBlock)(),(0,r.createBlock)(u,{key:3,detail:n.detail},null,8,["detail"])):(0,r.createCommentVNode)("",!0)])]),_:1},8,["data","listType","index"])}var Fm=E(Rm,[["render",Om],["styles",[Nm]]]),Pm={center:{"":{flexDirection:"row",alignItems:"center"}},"center-between":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},"column-between":{"":{flexDirection:"column",justifyContent:"space-between"}},"user-item":{"":{paddingTop:"20rpx",paddingRight:"26rpx",paddingBottom:"20rpx",paddingLeft:"26rpx"}},info:{".user-item ":{height:"92rpx",marginLeft:"12rpx"}}},Bm={components:{MLine:Be,MText:ee,MsgDetail:Ie,AvatarImg:yt,RichContent:Y,OnlineBlock:ta,UBaseInfo:Ue,MsgNDef:oe},props:{data:{type:Object,default(){return{}}},index:{type:Number,default:-1},listType:{type:Number,default:1}},data(){return{detail:"",content:"",richText:""}},computed:{aCRE(){return getApp().globalData.appCRE}},methods:{clickUser(e){ki(e)},clickVideoChat(e,t){e&&e.stopPropagation();let i=this.content.list[t],a=i.video||null;Oi(i,a,wi.PRIVACY_SET_MSG)},parseData(){if(!f(this.data.content)&&(this.content=this.data.content,this.content.text&&(this.richText={text:this.content.text,info:this.content.info,click:[this.content.click]},this.content.click&&(this.richText.click=[this.content.click])),!f(this.data.content.detail)&&(this.detail=this.data.content.detail,this.data.content.list)))for(let e=0,t=this.data.content.list.length;e<t;e++){let i=this.data.content.list[e],a=Us(i,!0,!0,!1);i.nicknameWith=`${246-a}rpx`}}},created(){this.parseData()}};function Um(e,t,i,a,n,s){let o=(0,r.resolveComponent)("m-text"),l=S((0,r.resolveDynamicComponent)("rich-content"),Y),c=(0,r.resolveComponent)("m-line"),u=S((0,r.resolveDynamicComponent)("avatar-img"),yt),d=S((0,r.resolveDynamicComponent)("u-base-info"),Ue),g=S((0,r.resolveDynamicComponent)("online-block"),ta),h=S((0,r.resolveDynamicComponent)("l-img"),N),_=(0,r.resolveComponent)("msg-detail"),v=(0,r.resolveComponent)("msg-n-def");return(0,r.openBlock)(),(0,r.createBlock)(v,{data:i.data,listType:i.listType,index:i.index},{default:(0,r.withCtx)(()=>[n.content.tips?((0,r.openBlock)(),(0,r.createBlock)(o,{key:0,text:n.content.tips,style:{padding:"20rpx 26rpx 0 26rpx"}},null,8,["text"])):(0,r.createCommentVNode)("",!0),n.richText?((0,r.openBlock)(),(0,r.createBlock)(l,{key:1,data:n.richText,onLongpress:R=>!1,"font-size":"30rpx",style:{"font-size":"30rpx","line-height":"44rpx",padding:"20rpx 26rpx 0 26rpx"}},null,8,["data"])):(0,r.createCommentVNode)("",!0),n.content.list&&n.content.list.length>0?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:2,style:{"margin-top":"20rpx"}},[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(n.content.list,(R,L)=>((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:L},[(0,r.createVNode)(c,{style:{"margin-left":"26rpx"}}),(0,r.createElementVNode)("view",{onClick:U=>s.clickUser(R.uid),onLongpress:U=>!1,class:"user-item center-between"},[(0,r.createElementVNode)("view",{class:"center"},[(0,r.createVNode)(u,{user:R,w:"92rpx",h:"92rpx",radius:"8rpx",border:"2rpx solid #CCCCCC","place-w":"76rpx","place-font-size":!1},null,8,["user"]),(0,r.createElementVNode)("view",{class:"info column-between"},[(0,r.createVNode)(d,{info:R,"name-width":R.nicknameWith,"name-size":"32rpx","show-country":!0,"show-country-code":!1},null,8,["info","name-width"]),R.msg_desc?((0,r.openBlock)(),(0,r.createBlock)(o,{key:0,type:"tip",text:R.msg_desc,style:{"font-size":"24rpx",width:"248rpx",lines:"1","text-overflow":"ellipsis"}},null,8,["text"])):((0,r.openBlock)(),(0,r.createBlock)(g,{key:1,status:R.online_status,"up-time":R.uptime,style:{"margin-left":"-10rpx"}},null,8,["status","up-time"]))])]),s.aCRE?((0,r.openBlock)(),(0,r.createBlock)(h,{key:0,onClick:U=>s.clickVideoChat(U,L),onLongpress:U=>!1,src:"s/privacy/msg_video_chat.png",w:"60rpx",h:"60rpx"},null,8,["onClick"])):(0,r.createCommentVNode)("",!0)],40,["onClick"])]))),128))])):(0,r.createCommentVNode)("",!0),n.detail?((0,r.openBlock)(),(0,r.createBlock)(_,{key:3,detail:n.detail},null,8,["detail"])):(0,r.createCommentVNode)("",!0)]),_:1},8,["data","listType","index"])}var Hm=E(Bm,[["render",Um],["styles",[Pm]]]),Wm={"m-t-10":{"":{marginTop:"20rpx"}},center:{"":{flexDirection:"row",alignItems:"center"}},"center-between":{"":{alignItems:"center",flexDirection:"row",justifyContent:"space-between"}},"info-wrap":{"":{marginTop:0,marginRight:"26rpx",marginBottom:"20rpx",marginLeft:"26rpx"}},"info-content":{"":{borderRadius:"8rpx"}},"info-item":{".info-content ":{paddingTop:"20rpx",paddingRight:"20rpx",paddingBottom:"20rpx",paddingLeft:"20rpx",lineHeight:"30rpx"}}},Gm={components:{MLine:Be,MText:ee,MsgDetail:Ie,MsgReason:Yi,LImg:N,RichContent:Y,MsgNDef:oe},props:{data:{type:Object,default(){return{}}},index:{type:Number,default:-1},listType:{type:Number,default:1}},data(){return{contentW:getApp().globalData.window.width-38-uni.upx2px(76),content:{},richText:"",detail:""}},computed:{showRealMoneyLine(){return!f(this.content.coins)},showCommissionLine(){return this.showRealMoneyLine||!f(this.content.real_money)},showPaymentAmountLine(){return this.showCommissionLine||!f(this.content.commission)},viewContentBg(){return getApp().globalData.themeObj.style==Z.LIGHT?"#F5F5F5":getApp().globalData.themeObj.color.bg2}},methods:{$str:p,parseData(){f(this.data.content)||(this.content=this.data.content,this.content.text&&(this.richText={text:this.content.text,info:this.content.info,click:[this.content.click]}),this.detail=this.data.content.detail)}},created(){this.parseData()}};function $m(e,t,i,a,n,s){let o=(0,r.resolveComponent)("m-text"),l=S((0,r.resolveDynamicComponent)("l-img"),N),c=(0,r.resolveComponent)("m-line"),u=S((0,r.resolveDynamicComponent)("rich-content"),Y),d=(0,r.resolveComponent)("msg-reason"),g=(0,r.resolveComponent)("msg-detail"),h=(0,r.resolveComponent)("msg-n-def");return(0,r.openBlock)(),(0,r.createBlock)(h,{data:i.data,width:n.contentW,listType:i.listType,index:i.index},{default:(0,r.withCtx)(()=>[(0,r.createElementVNode)("view",{class:"info-wrap"},[(0,r.createElementVNode)("view",{class:"info-content m-t-10",style:(0,r.normalizeStyle)({background:s.viewContentBg})},[n.content.coins?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:0,class:"center info-item"},[(0,r.createVNode)(o,{text:s.$str("msg.noticeGirlsSettleCoins")+": ",style:{"font-size":"30rpx","line-height":"30rpx"}},null,8,["text"]),(0,r.createElementVNode)("view",{class:"center"},[(0,r.createVNode)(o,{text:n.content.coins,type:"coin",style:{"font-size":"30rpx","line-height":"30rpx"}},null,8,["text"]),(0,r.createVNode)(l,{src:"s/my/i_coins.png",w:"24rpx",h:"24rpx",style:{"margin-left":"2px"}})])])):(0,r.createCommentVNode)("",!0),n.content.real_money?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:1},[s.showRealMoneyLine?((0,r.openBlock)(),(0,r.createBlock)(c,{key:0,style:{"margin-left":"20rpx"}})):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("view",{class:"center info-item"},[(0,r.createVNode)(o,{text:s.$str("msg.noticeSalaryOfGirl")+": ",style:{"font-size":"30rpx","line-height":"30rpx"}},null,8,["text"]),(0,r.createVNode)(o,{text:"$"+n.content.real_money,type:"coin"},null,8,["text"])])])):(0,r.createCommentVNode)("",!0),n.content.commission?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:2},[s.showCommissionLine?((0,r.openBlock)(),(0,r.createBlock)(c,{key:0,style:{"margin-left":"20rpx"}})):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("view",{class:"center info-item"},[(0,r.createVNode)(o,{text:s.$str("msg.noticeYourCommission")+": ",style:{"font-size":"30rpx","line-height":"30rpx"}},null,8,["text"]),(0,r.createVNode)(o,{text:"$"+n.content.commission,type:"coin",style:{"font-size":"30rpx","line-height":"30rpx"}},null,8,["text"])])])):(0,r.createCommentVNode)("",!0),n.content.payment_amount?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:3},[s.showPaymentAmountLine?((0,r.openBlock)(),(0,r.createBlock)(c,{key:0,style:{"margin-left":"20rpx"}})):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("view",{class:"center info-item"},[(0,r.createVNode)(o,{text:s.$str("paymentAmount")+": ",style:{"font-size":"30rpx","line-height":"30rpx"}},null,8,["text"]),(0,r.createVNode)(o,{text:"$"+n.content.payment_amount,type:"coin",style:{"font-size":"30rpx","line-height":"30rpx"}},null,8,["text"])])])):(0,r.createCommentVNode)("",!0)],4),n.content.tips?((0,r.openBlock)(),(0,r.createBlock)(o,{key:0,text:n.content.tips,style:{"font-size":"30rpx","line-height":"42rpx","margin-top":"20rpx"}},null,8,["text"])):(0,r.createCommentVNode)("",!0),n.richText?((0,r.openBlock)(),(0,r.createBlock)(u,{key:1,data:n.richText,onLongpress:_=>!1,"font-size":"30rpx",style:{"line-height":"42rpx","margin-top":"20rpx","background-color":"transparent"}},null,8,["data"])):(0,r.createCommentVNode)("",!0),n.content.reason?((0,r.openBlock)(),(0,r.createBlock)(d,{key:2,reason:n.content.reason},null,8,["reason"])):(0,r.createCommentVNode)("",!0)]),n.detail?((0,r.openBlock)(),(0,r.createBlock)(g,{key:0,detail:n.detail},null,8,["detail"])):(0,r.createCommentVNode)("",!0)]),_:1},8,["data","width","listType","index"])}var Vm=E(Gm,[["render",$m],["styles",[Wm]]]),jm={"flex-warp":{"":{flexWrap:"wrap",flexDirection:"row"}},"img-wrap":{"":{marginLeft:"26rpx",marginRight:"26rpx"}},"img-item":{".img-wrap ":{position:"relative",marginBottom:"20rpx",alignItems:"center",justifyContent:"center",flexDirection:"row"}}},zm={components:{MText:ee,MsgDetail:Ie,LImg:N,RichContent:Y,MsgNDef:oe},props:{data:{type:Object,default(){return{}}},index:{type:Number,default:-1},listType:{type:Number,default:1}},data(){return{richText:!1,detail:!1,mediaList:[]}},computed:{playWH(){return this.mediaList.length>1?40:80},oneWH(){let e=getApp().globalData.window.width-138-uni.upx2px(52),t=this.mediaList[0];if(!t.width||!t.height)return[200,200];let i,a;return t.width>t.height?t.width>e?(i=e,a=t.height*i/t.width):(i=t.width,a=t.height):(i=e,a=t.height*i/t.width,a>e+50&&(a=e+50)),[i,a]},manyWH(){let e=Math.floor((getApp().globalData.window.width-138-uni.upx2px(92))/3);return[e,e]},imgWH(){return f(this.mediaList)?[0,0]:this.mediaList.length<=1?this.oneWH:this.manyWH}},methods:{clickImg(e,t){if(e&&e.stopPropagation(),f(this.mediaList))return;let i=[];for(let a=0,n=this.mediaList.length;a<n;a++){let s=this.mediaList[a],o=s.media_type==2;i.push(Re(o,s.small_url,s.url,s.cover_url))}Ve(i,t)},parseData(){let e=this.data.content;e.text&&e.info&&(this.richText={text:e.text,info:e.info,click:[e.click]}),e.media_list&&(this.mediaList=e.media_list),e.detail&&(this.detail=e.detail)}},created(){this.parseData()}};function Ym(e,t,i,a,n,s){let o=(0,r.resolveComponent)("m-text"),l=S((0,r.resolveDynamicComponent)("rich-content"),Y),c=S((0,r.resolveDynamicComponent)("l-img"),N),u=(0,r.resolveComponent)("msg-detail"),d=(0,r.resolveComponent)("msg-n-def");return(0,r.openBlock)(),(0,r.createBlock)(d,{data:i.data,listType:i.listType,index:i.index},{default:(0,r.withCtx)(()=>[(0,r.createElementVNode)("view",{style:{"padding-top":"20rpx"}},[i.data.content.tips?((0,r.openBlock)(),(0,r.createBlock)(o,{key:0,text:i.data.content.tips,style:{"font-size":"28rpx",padding:"0 26rpx","margin-bottom":"20rpx"}},null,8,["text"])):(0,r.createCommentVNode)("",!0),n.richText?((0,r.openBlock)(),(0,r.createBlock)(l,{key:1,onLongpress:g=>!1,data:n.richText,"font-size":"30rpx",style:{"margin-bottom":"20rpx","margin-left":"26rpx","margin-right":"26rpx","background-color":"transparent","text-align":"left"}},null,8,["data"])):(0,r.createCommentVNode)("",!0),n.mediaList&&n.mediaList.length>0?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:2,class:"flex-warp img-wrap"},[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(n.mediaList,(g,h)=>((0,r.openBlock)(),(0,r.createElementBlock)("view",{class:"img-item",style:(0,r.normalizeStyle)({width:`${s.imgWH[0]}px`,height:`${s.imgWH[1]}px`,marginRight:n.mediaList.length>1&&h%3<2?"20rpx":0})},[((0,r.openBlock)(),(0,r.createBlock)(c,{onClick:_=>s.clickImg(_,h),onLongpress:_=>!1,src:g.media_type==1?g.small_url:g.cover_url,key:h,w:`${s.imgWH[0]}px`,h:`${s.imgWH[1]}px`,radius:"8rpx"},null,8,["onClick","src","w","h"])),g.media_type==2?((0,r.openBlock)(),(0,r.createBlock)(c,{key:0,onClick:_=>s.clickImg(_,h),onLongpress:_=>!1,src:"s/user/video_play.png",w:`${s.playWH}rpx`,h:`${s.playWH}rpx`,style:{position:"absolute","z-index":"111"}},null,8,["onClick","w","h"])):(0,r.createCommentVNode)("",!0)],4))),256))])):(0,r.createCommentVNode)("",!0),n.detail?((0,r.openBlock)(),(0,r.createBlock)(u,{key:3,detail:n.detail},null,8,["detail"])):(0,r.createCommentVNode)("",!0)])]),_:1},8,["data","listType","index"])}var Km=E(zm,[["render",Ym],["styles",[jm]]]),Jm={"center-align":{"":{alignItems:"center",justifyContent:"center",flexDirection:"row"}},center:{"":{alignItems:"center",flexDirection:"row"}},"msg-list":{"":{flex:1}},"rotate-list":{"":{transform:"rotate(180deg)"}},"loading-more":{"":{flex:1,alignItems:"center",justifyContent:"center",flexDirection:"row",height:40}},"bottom-btn":{"":{position:"fixed",paddingTop:0,paddingRight:"10rpx",paddingBottom:"10rpx",paddingLeft:"30rpx"}},btn:{".bottom-btn ":{boxShadow:"0 0 6rpx 0 rgba(0, 0, 0, 0.08)",borderRadius:"8rpx",marginRight:"20rpx",paddingTop:0,paddingRight:"16rpx",paddingBottom:0,paddingLeft:"16rpx",height:"68rpx"}},title:{".bottom-btn ":{fontSize:"30rpx",color:"#333333",marginLeft:"8rpx"}},"mask-view":{"":{position:"absolute",top:0,backgroundColor:"#F1F3F6"}},"empty-page":{"":{position:"absolute",top:"248rpx"}}},qm={mixins:[pr,Ks,Fr,Mp,Br],components:{MsgNAudit:Yp,MsgNVip:Hp,MsgNRecharge:Fp,MsgNText:Ur,MsgNMonitor:Xp,MsgNGreeting:tm,MsgNNotice:sm,MsgNCall:mm,MsgNCooperate:Hr,MsgNWithdraw:xm,MsgNUnknow:hm,MsgNReportAudit:Cm,MsgNClubAudit:Em,MsgNClub:Mm,MsgNImg:Fm,MsgNPrivacy:Hm,MsgNWithdrawNotice:Vm,MsgNWithMedia:Km,GPageMeta:Un,EmptyPage:tr,MText:ee,MsgItemPop:Pr,CallEvaluate:zn}};function Xm(e,t,i,a,n,s){let o=S((0,r.resolveDynamicComponent)("g-page-meta"),Un),l=(0,r.resolveComponent)("m-text"),c=(0,r.resolveComponent)("MsgNText"),u=(0,r.resolveComponent)("MsgNAudit"),d=(0,r.resolveComponent)("MsgNVip"),g=(0,r.resolveComponent)("MsgNRecharge"),h=(0,r.resolveComponent)("MsgNClub"),_=(0,r.resolveComponent)("MsgNClubAudit"),v=(0,r.resolveComponent)("MsgNGreeting"),R=(0,r.resolveComponent)("MsgNNotice"),L=(0,r.resolveComponent)("MsgNCall"),U=(0,r.resolveComponent)("MsgNCooperate"),J=(0,r.resolveComponent)("MsgNWithdraw"),j=(0,r.resolveComponent)("MsgNReportAudit"),C=(0,r.resolveComponent)("MsgNImg"),G=(0,r.resolveComponent)("MsgNPrivacy"),xe=(0,r.resolveComponent)("MsgNWithdrawNotice"),Ye=(0,r.resolveComponent)("MsgNWithMedia"),pe=(0,r.resolveComponent)("MsgNMonitor"),we=(0,r.resolveComponent)("MsgNUnknow"),Me=S((0,r.resolveDynamicComponent)("uni-load-more"),Qs),xt=S((0,r.resolveDynamicComponent)("empty-page"),er),wt=(0,r.resolveComponent)("msg-item-pop"),Ke=S((0,r.resolveDynamicComponent)("l-img"),N),$t=S((0,r.resolveDynamicComponent)("notice-view"),nr),Ji=S((0,r.resolveDynamicComponent)("call-evaluate"),zn);return(0,r.openBlock)(),(0,r.createElementBlock)("scroll-view",{scrollY:!0,showScrollbar:!0,enableBackToTop:!0,bubble:"true",style:{flexDirection:"column"}},[(0,r.createVNode)(o,{title:e.navBarTitle},null,8,["title"]),(0,r.createElementVNode)("view",{style:(0,r.normalizeStyle)([{height:`${e.viewHeight}px`},e.pageBg])},[(0,r.createElementVNode)("list",{ref:"msgList",class:(0,r.normalizeClass)(["msg-list",[e.classRotate]]),onScroll:t[1]||(t[1]=(...x)=>e.onMsgListScroll&&e.onMsgListScroll(...x)),showScrollbar:!1,loadmoreoffset:20,offsetAccuracy:10,onLoadmore:t[2]||(t[2]=(...x)=>e.onLoadMore&&e.onLoadMore(...x))},[(0,r.createElementVNode)("cell",{ref:"cellLast",style:(0,r.normalizeStyle)({width:`${e.screenW}px`,height:`${e.itemHeightFirst}px`})},null,4),(0,r.createElementVNode)("cell",null,[(0,r.createElementVNode)("list",{showScrollbar:!1,scrollable:!1,class:(0,r.normalizeClass)([e.classRotate])},[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.addList,(x,W)=>((0,r.openBlock)(),(0,r.createElementBlock)("cell",{key:"key"+x.ctime,ref_for:!0,ref:"cell"+x.ctime,onClick:t[0]||(t[0]=(...qi)=>e.clickMsgList&&e.clickMsgList(...qi))},[x.msg_type==1e3?((0,r.openBlock)(),(0,r.createBlock)(l,{key:0,type:"desc",text:x.showTime,style:{"font-size":"24rpx","text-align":"center","margin-top":"48rpx"}},null,8,["text"])):x.msg_type==100?((0,r.openBlock)(),(0,r.createBlock)(c,{key:1,data:x,index:W,listType:2},null,8,["data","index"])):x.msg_type==103?((0,r.openBlock)(),(0,r.createBlock)(u,{key:2,data:x,index:W,listType:2},null,8,["data","index"])):x.msg_type==104?((0,r.openBlock)(),(0,r.createBlock)(d,{key:3,data:x,index:W,listType:2},null,8,["data","index"])):x.msg_type==105?((0,r.openBlock)(),(0,r.createBlock)(g,{key:4,data:x,index:W,listType:2},null,8,["data","index"])):x.msg_type==106?((0,r.openBlock)(),(0,r.createBlock)(h,{key:5,data:x,index:W,listType:2},null,8,["data","index"])):x.msg_type==107?((0,r.openBlock)(),(0,r.createBlock)(_,{key:6,data:x,index:W,listType:2},null,8,["data","index"])):x.msg_type==115?((0,r.openBlock)(),(0,r.createBlock)(v,{key:7,ref_for:!0,ref:"msg"+x.ctime,data:x,onClickMsgVoice:e.clickMsgVoice,onOnMsgVoiceChange:e.onMsgVoiceChange,index:W,listType:2},null,8,["data","onClickMsgVoice","onOnMsgVoiceChange","index"])):x.msg_type==116?((0,r.openBlock)(),(0,r.createBlock)(R,{key:8,data:x,index:W,listType:2},null,8,["data","index"])):x.msg_type==117?((0,r.openBlock)(),(0,r.createBlock)(L,{key:9,data:x,index:W,listType:2},null,8,["data","index"])):x.msg_type==118?((0,r.openBlock)(),(0,r.createBlock)(U,{key:10,data:x,index:W,listType:2},null,8,["data","index"])):x.msg_type==119?((0,r.openBlock)(),(0,r.createBlock)(J,{key:11,data:x,index:W,listType:2},null,8,["data","index"])):x.msg_type==120?((0,r.openBlock)(),(0,r.createBlock)(j,{key:12,data:x,index:W,listType:2},null,8,["data","index"])):x.msg_type==121?((0,r.openBlock)(),(0,r.createBlock)(C,{key:13,data:x,index:W,listType:2},null,8,["data","index"])):x.msg_type==122?((0,r.openBlock)(),(0,r.createBlock)(G,{key:14,data:x,index:W,listType:2},null,8,["data","index"])):x.msg_type==123?((0,r.openBlock)(),(0,r.createBlock)(xe,{key:15,data:x,index:W,listType:2},null,8,["data","index"])):x.msg_type==124?((0,r.openBlock)(),(0,r.createBlock)(Ye,{key:16,data:x,index:W,listType:2},null,8,["data","index"])):x.msg_type==202?((0,r.openBlock)(),(0,r.createBlock)(pe,{key:17,data:x,index:W,listType:2},null,8,["data","index"])):((0,r.openBlock)(),(0,r.createBlock)(we,{key:18,data:x,index:W,listType:2},null,8,["data","index"]))]))),128))],2)]),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.historyList,(x,W)=>((0,r.openBlock)(),(0,r.createElementBlock)("cell",{key:"cell"+x.ctime,ref_for:!0,ref:"cell"+x.ctime,class:(0,r.normalizeClass)([e.classRotate])},[x.msg_type==1e3?((0,r.openBlock)(),(0,r.createBlock)(l,{key:0,type:"desc",text:x.showTime,style:{"font-size":"24rpx","text-align":"center","margin-top":"48rpx"}},null,8,["text"])):x.msg_type==100?((0,r.openBlock)(),(0,r.createBlock)(c,{key:1,data:x,index:W,listType:1},null,8,["data","index"])):x.msg_type==103?((0,r.openBlock)(),(0,r.createBlock)(u,{key:2,data:x,index:W,listType:1},null,8,["data","index"])):x.msg_type==104?((0,r.openBlock)(),(0,r.createBlock)(d,{key:3,data:x,index:W,listType:1},null,8,["data","index"])):x.msg_type==105?((0,r.openBlock)(),(0,r.createBlock)(g,{key:4,data:x,index:W,listType:1},null,8,["data","index"])):x.msg_type==106?((0,r.openBlock)(),(0,r.createBlock)(h,{key:5,data:x,index:W,listType:1},null,8,["data","index"])):x.msg_type==107?((0,r.openBlock)(),(0,r.createBlock)(_,{key:6,data:x,index:W,listType:1},null,8,["data","index"])):x.msg_type==115?((0,r.openBlock)(),(0,r.createBlock)(v,{key:7,data:x,index:W,listType:1,onClickMsgVoice:e.clickMsgVoice,onOnMsgVoiceChange:e.onMsgVoiceChange},null,8,["data","index","onClickMsgVoice","onOnMsgVoiceChange"])):x.msg_type==116?((0,r.openBlock)(),(0,r.createBlock)(R,{key:8,data:x,index:W,listType:1},null,8,["data","index"])):x.msg_type==117?((0,r.openBlock)(),(0,r.createBlock)(L,{key:9,data:x,index:W,listType:1},null,8,["data","index"])):x.msg_type==118?((0,r.openBlock)(),(0,r.createBlock)(U,{key:10,data:x,index:W,listType:1},null,8,["data","index"])):x.msg_type==119?((0,r.openBlock)(),(0,r.createBlock)(J,{key:11,data:x,index:W,listType:1},null,8,["data","index"])):x.msg_type==120?((0,r.openBlock)(),(0,r.createBlock)(j,{key:12,data:x,index:W,listType:1},null,8,["data","index"])):x.msg_type==121?((0,r.openBlock)(),(0,r.createBlock)(C,{key:13,data:x,index:W,listType:1},null,8,["data","index"])):x.msg_type==122?((0,r.openBlock)(),(0,r.createBlock)(G,{key:14,data:x,index:W,listType:1},null,8,["data","index"])):x.msg_type==123?((0,r.openBlock)(),(0,r.createBlock)(xe,{key:15,data:x,index:W,listType:1},null,8,["data","index"])):x.msg_type==124?((0,r.openBlock)(),(0,r.createBlock)(Ye,{key:16,data:x,index:W,listType:1},null,8,["data","index"])):x.msg_type==202?((0,r.openBlock)(),(0,r.createBlock)(pe,{key:17,data:x,index:W,listType:1},null,8,["data","index"])):((0,r.openBlock)(),(0,r.createBlock)(we,{key:18,data:x,index:W,listType:1},null,8,["data","index"]))],2))),128)),(0,r.createElementVNode)("cell",{ref:"cellNew",style:(0,r.normalizeStyle)({width:`${e.screenW}px`,height:`${e.itemHeightLast}px`})},null,4),e.msgHasMore?((0,r.openBlock)(),(0,r.createElementBlock)("cell",{key:0},[(0,r.createElementVNode)("view",{class:(0,r.normalizeClass)(["loading-more",[e.classRotate]])},[(0,r.createVNode)(Me,{style:{height:"30px"},status:"loading",iconSize:14,color:"#FFFFFF"})],2)])):(0,r.createCommentVNode)("",!0)],34),e.emptyInfo?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:0,class:"empty-page center-align",style:(0,r.normalizeStyle)({width:`${e.screenW}px`})},[(0,r.createVNode)(xt,{imgUrl:e.emptyInfo.img_url,tip:e.emptyInfo.tip},null,8,["imgUrl","tip"])],4)):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("view",{style:(0,r.normalizeStyle)([{height:"1px"},{background:e.pageBg}])},null,4),(0,r.createVNode)(wt,{ref:"msgItemPop",onOnMsgItemPopDel:e.onMsgItemPopDel},null,8,["onOnMsgItemPopDel"]),e.showMask?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:1,class:"mask-view",style:(0,r.normalizeStyle)([{width:e.screenW+"px",height:e.viewHeight+"px"},e.pageBg])},null,4)):(0,r.createCommentVNode)("",!0),e.chatType!=6?((0,r.openBlock)(),(0,r.createElementBlock)("scroll-view",{key:2,scrollX:!0,class:"center bottom-btn",showScrollbar:!1,style:(0,r.normalizeStyle)({width:e.screenW+"px",bottom:e.safeBottom+"px"})},[e.showService?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:0,onClick:t[3]||(t[3]=(...x)=>e.clickService&&e.clickService(...x)),class:"center btn",style:(0,r.normalizeStyle)({background:e.viewBtnBg})},[(0,r.createVNode)(Ke,{src:"s/msg/notice_service_2.png",w:"30rpx",h:"30rpx"}),(0,r.createVNode)(l,{text:e.$str("customerService"),style:{"font-size":"30rpx","margin-left":"8rpx"}},null,8,["text"])],4)):(0,r.createCommentVNode)("",!0),e.showCooperation?((0,r.openBlock)(),(0,r.createElementBlock)("view",{key:1,onClick:t[4]||(t[4]=(...x)=>e.clickCooperate&&e.clickCooperate(...x)),class:"center btn",style:(0,r.normalizeStyle)({background:e.viewBtnBg})},[(0,r.createVNode)(Ke,{src:"s/msg/cooperate_love_1.png",w:"30rpx",h:"30rpx"}),(0,r.createVNode)(l,{text:e.$str("msg.noticeCooperation"),style:{"font-size":"30rpx","margin-left":"8rpx"}},null,8,["text"])],4)):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("view",{onClick:t[5]||(t[5]=(...x)=>e.clickFeedback&&e.clickFeedback(...x)),class:"center btn",style:(0,r.normalizeStyle)({background:e.viewBtnBg})},[(0,r.createVNode)(Ke,{src:"s/msg/notice_feedback_2.png",w:"30rpx",h:"30rpx"}),(0,r.createVNode)(l,{text:e.$str("feedback"),style:{"font-size":"30rpx","margin-left":"8rpx"}},null,8,["text"])],4)],4)):((0,r.openBlock)(),(0,r.createElementBlock)("scroll-view",{key:3,scrollX:!0,class:"center bottom-btn",showScrollbar:!1,style:(0,r.normalizeStyle)({width:e.screenW+"px",bottom:e.safeBottom+"px"})},[(0,r.createElementVNode)("view",{onClick:t[6]||(t[6]=(...x)=>e.clickNewClub&&e.clickNewClub(...x)),class:"center btn",style:(0,r.normalizeStyle)({background:e.viewBtnBg})},[(0,r.createVNode)(Ke,{src:"s/msg/club_add.png","need-style":1,w:"30rpx",h:"30rpx"}),(0,r.createVNode)(l,{text:e.$str("club.new"),style:{"font-size":"30rpx","margin-left":"8rpx"}},null,8,["text"])],4),(0,r.createElementVNode)("view",{onClick:t[7]||(t[7]=(...x)=>e.clickMyClubApplication&&e.clickMyClubApplication(...x)),class:"center btn",style:(0,r.normalizeStyle)({background:e.viewBtnBg})},[(0,r.createVNode)(Ke,{src:"s/msg/club_application.png","need-style":1,w:"30rpx",h:"30rpx"}),(0,r.createVNode)(l,{text:e.$str("club.myClubApplication"),style:{"font-size":"30rpx","margin-left":"8rpx"}},null,8,["text"])],4)],4)),(0,r.createVNode)($t,{id:"/pagesMsg/notice/chat"}),(0,r.createVNode)(Ji,{id:"/pagesMsg/notice/chat"})],4)])}var Ki=E(qm,[["render",Xm],["styles",[Jm]]]);var ia=plus.webview.currentWebview();if(ia){let e=parseInt(ia.id),t="pagesMsg/notice/chat",i={};try{i=JSON.parse(ia.__query__)}catch(n){}Ki.mpType="page";let a=Vue.createPageApp(Ki,{$store:getApp({allowDefault:!0}).$store,__pageId:e,__pagePath:t,__pageQuery:i});a.provide("__globalStyles",Vue.useCssStyles([...__uniConfig.styles,...Ki.styles||[]])),a.mount("#root")}})();
/*!
  * @intlify/shared v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/message-resolver v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/runtime v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/message-compiler v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/core-base v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * vue-i18n v9.1.9
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */
