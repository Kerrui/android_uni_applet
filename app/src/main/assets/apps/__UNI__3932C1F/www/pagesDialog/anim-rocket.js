"use weex:vue";

if (typeof Promise !== 'undefined' && !Promise.prototype.finally) {
  Promise.prototype.finally = function(callback) {
    const promise = this.constructor
    return this.then(
      value => promise.resolve(callback()).then(() => value),
      reason => promise.resolve(callback()).then(() => {
        throw reason
      })
    )
  }
};

if (typeof uni !== 'undefined' && uni && uni.requireGlobal) {
  const global = uni.requireGlobal()
  ArrayBuffer = global.ArrayBuffer
  Int8Array = global.Int8Array
  Uint8Array = global.Uint8Array
  Uint8ClampedArray = global.Uint8ClampedArray
  Int16Array = global.Int16Array
  Uint16Array = global.Uint16Array
  Int32Array = global.Int32Array
  Uint32Array = global.Uint32Array
  Float32Array = global.Float32Array
  Float64Array = global.Float64Array
  BigInt64Array = global.BigInt64Array
  BigUint64Array = global.BigUint64Array
};


(()=>{var yn=Object.create;var vt=Object.defineProperty;var Cn=Object.getOwnPropertyDescriptor;var Sn=Object.getOwnPropertyNames;var Tn=Object.getPrototypeOf,Ln=Object.prototype.hasOwnProperty;var Mt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Nn=(e,t,a,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Sn(t))!Ln.call(e,i)&&i!==a&&vt(e,i,{get:()=>t[i],enumerable:!(n=Cn(t,i))||n.enumerable});return e};var ge=(e,t,a)=>(a=e!=null?yn(Tn(e)):{},Nn(t||!e||!e.__esModule?vt(a,"default",{value:e,enumerable:!0}):a,e));var Pt=(e,t,a)=>new Promise((n,i)=>{var r=o=>{try{l(a.next(o))}catch(u){i(u)}},s=o=>{try{l(a.throw(o))}catch(u){i(u)}},l=o=>o.done?n(o.value):Promise.resolve(o.value).then(r,s);l((a=a.apply(e,t)).next())});var Ce=Mt((Ts,kt)=>{kt.exports=Vue});var at=Mt((Ls,Ft)=>{Ft.exports=uni.Vuex});var b=ge(Ce()),la=ge(at());var In=e=>typeof e=="string";function oa(e){return weex.requireModule(e)}function ee(e,t,...a){uni.__log__?uni.__log__(e,t,...a):console[e].apply(console,[...a,t])}function ua(e,t){return In(e)?t:e}var On="dev",ca,fa,pa,ga,ma;ca="https://ztest1.candychat.link",ga="https://mtest2.candychat.link",ma="https://atest3.267girl.com",fa="https://pic2.candychat.link/",pa="https://pic3.candychat.link/";var wn={wv:"13.2.0",ENV:On,apiHost:ca,ossPath:fa,pApiHost:ga,oApiHost:ma,ossPicPath:pa,zT:3,appId:plus.runtime.appid,appV:parseInt(plus.runtime.version.split(".").join("")),OSS_PATH_V:1,OSS_PIC_PATH_V:1,API_HOST_V:1,isAndroid:plus.os.name=="Android",PHOTO:1,VIDEO:2,VOICE:3,TXT:4,SYSTEM_ID:1e7,M_TEXT:1,M_VOICE:2,M_IMG:3,M_GIFT:5,M_NOTICE:6,M_CALL:8,M_RECOMMEND_USER:11,M_RECOMMEND_CLUB:12,M_VIDEO:18,M_GIFT_ASK:21,M_NOTICE_SYS:22,M_EXPRESSION:23,M_LETTER:24,M_PAID_PHOTO:25,M_PAID_VIDEO:26,M_MATCH_SUCCESS:27,M_N_DEF:100,M_N_AUDIT:103,M_N_VIP:104,M_N_RECHARGE:105,M_N_CLUB_AUDIT_REJECT:106,M_N_CLUB_AUDIT:107,M_N_GREETING_AUDIT:115,M_N_SYS_NOTICE:116,M_N_CALL:117,M_N_COOPERATE:118,M_N_WITHDRAW:119,M_N_REPORT_AUDIT:120,M_N_IMG:121,M_N_PRIVACY_CALL:122,M_N_WITHDRAW_NOTICE:123,M_N_WITH_MEDIA:124,M_N_MONITOR:202,M_C_RECHARGE:1001,M_C_CALL_TEXT_AUDIO:1002,M_CHAT_PRI:1,M_CHAT_CLUB:2,M_CHAT_ASS:3,M_CHAT_NOTICE:4,M_CHAT_NOTIFY:5,M_CHAT_CLUB_NOTICE:6,PAY_TYPE_SUCCESS:0,PAY_TYPE_FAIL:1,PAY_TYPE_CANCEL:2,PAY_TYPE_NOT_EXIST:3,PAY_TYPE_NOT_ALLOW:4,PAY_TYPE_ERROR:5,MATCH_PRICE:10},K=wn;var Ae={FIND:0,USER:1,MSG:2,MY:3},Me={FIND:"/pages/user/index",MSG:"/pages/msg/index",CALL:"/pages/call-history/index",USER:"/pages/user/index",MY:"/pages/my/index"};var Rn={en:{title:"English",language:"en",code:"en-US"},es:{title:"espa\xF1ol",language:"es",code:"es-ES"},ar:{title:"\u0639\u0631\u0628\u064A",language:"ar",code:"ar-SA"},vi:{title:"Ti\u1EBFng Vi\u1EC7t",language:"vi",code:"vi-VN"},tr:{title:"T\xFCrk\xE7e",language:"tr",code:"tr-TR"},pt:{title:"Portugu\xEAs",language:"pt",code:"pt-PT"}};var vn={DISBAND:1,CHECK_RESULT:2};var Mn=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",re=e=>Mn?Symbol(e):e,Pn=(e,t,a)=>kn({l:e,k:t,s:a}),kn=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),W=e=>typeof e=="number"&&isFinite(e),Fn=e=>At(e)==="[object Date]",$e=e=>At(e)==="[object RegExp]",Ke=e=>S(e)&&Object.keys(e).length===0;function Un(e,t){typeof console!="undefined"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}var j=Object.assign;function Ut(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}var Bn=Object.prototype.hasOwnProperty;function da(e,t){return Bn.call(e,t)}var G=Array.isArray,x=e=>typeof e=="function",d=e=>typeof e=="string",M=e=>typeof e=="boolean",V=e=>e!==null&&typeof e=="object",_a=Object.prototype.toString,At=e=>_a.call(e),S=e=>At(e)==="[object Object]",Hn=e=>e==null?"":G(e)||S(e)&&e.toString===_a?JSON.stringify(e,null,2):String(e);var Gn=Object.prototype.hasOwnProperty;function $n(e,t){return Gn.call(e,t)}var He=e=>e!==null&&typeof e=="object",se=[];se[0]={w:[0],i:[3,0],["["]:[4],o:[7]};se[1]={w:[1],["."]:[2],["["]:[4],o:[7]};se[2]={w:[2],i:[3,0],[0]:[3,0]};se[3]={i:[3,0],[0]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};se[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};se[5]={["'"]:[4,0],o:8,l:[5,0]};se[6]={['"']:[4,0],o:8,l:[6,0]};var Wn=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function xn(e){return Wn.test(e)}function Vn(e){let t=e.charCodeAt(0),a=e.charCodeAt(e.length-1);return t===a&&(t===34||t===39)?e.slice(1,-1):e}function Yn(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Kn(e){let t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:xn(t)?Vn(t):"*"+t}function jn(e){let t=[],a=-1,n=0,i=0,r,s,l,o,u,g,_,D=[];D[0]=()=>{s===void 0?s=l:s+=l},D[1]=()=>{s!==void 0&&(t.push(s),s=void 0)},D[2]=()=>{D[0](),i++},D[3]=()=>{if(i>0)i--,n=4,D[0]();else{if(i=0,s===void 0||(s=Kn(s),s===!1))return!1;D[1]()}};function y(){let E=e[a+1];if(n===5&&E==="'"||n===6&&E==='"')return a++,l="\\"+E,D[0](),!0}for(;n!==null;)if(a++,r=e[a],!(r==="\\"&&y())){if(o=Yn(r),_=se[n],u=_[o]||_.l||8,u===8||(n=u[0],u[1]!==void 0&&(g=D[u[1]],g&&(l=r,g()===!1))))return;if(n===7)return t}}var Bt=new Map;function We(e,t){if(!He(e))return null;let a=Bt.get(t);if(a||(a=jn(t),a&&Bt.set(t,a)),!a)return null;let n=a.length,i=e,r=0;for(;r<n;){let s=i[a[r]];if(s===void 0)return null;i=s,r++}return i}function st(e){if(!He(e))return e;for(let t in e)if($n(e,t))if(!t.includes("."))He(e[t])&&st(e[t]);else{let a=t.split("."),n=a.length-1,i=e;for(let r=0;r<n;r++)a[r]in i||(i[a[r]]={}),i=i[a[r]];i[a[n]]=e[t],delete e[t],He(i[a[n]])&&st(i[a[n]])}return e}var qn=e=>e,zn=e=>"",Jn="text",Xn=e=>e.length===0?"":e.join(""),Qn=Hn;function Ht(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function Zn(e){let t=W(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(W(e.named.count)||W(e.named.n))?W(e.named.count)?e.named.count:W(e.named.n)?e.named.n:t:t}function ei(e,t){t.count||(t.count=e),t.n||(t.n=e)}function ti(e={}){let t=e.locale,a=Zn(e),n=V(e.pluralRules)&&d(t)&&x(e.pluralRules[t])?e.pluralRules[t]:Ht,i=V(e.pluralRules)&&d(t)&&x(e.pluralRules[t])?Ht:void 0,r=h=>h[n(a,h.length,i)],s=e.list||[],l=h=>s[h],o=e.named||{};W(e.pluralIndex)&&ei(a,o);let u=h=>o[h];function g(h){let T=x(e.messages)?e.messages(h):V(e.messages)?e.messages[h]:!1;return T||(e.parent?e.parent.message(h):zn)}let _=h=>e.modifiers?e.modifiers[h]:qn,D=S(e.processor)&&x(e.processor.normalize)?e.processor.normalize:Xn,y=S(e.processor)&&x(e.processor.interpolate)?e.processor.interpolate:Qn,E=S(e.processor)&&d(e.processor.type)?e.processor.type:Jn,I={list:l,named:u,plural:r,linked:(h,T)=>{let v=g(h)(I);return d(T)?_(T)(v):v},message:g,type:E,interpolate:y,normalize:D};return I}function ha(e,t,a={}){let{domain:n,messages:i,args:r}=a,s=e,l=new SyntaxError(String(s));return l.code=e,t&&(l.location=t),l.domain=n,l}var ai="9.1.9",je=-1,Gt="";function ni(){return{upper:e=>d(e)?e.toUpperCase():e,lower:e=>d(e)?e.toLowerCase():e,capitalize:e=>d(e)?`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`:e}}var ii,$t=0;function ri(e={}){let t=d(e.version)?e.version:ai,a=d(e.locale)?e.locale:"en-US",n=G(e.fallbackLocale)||S(e.fallbackLocale)||d(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:a,i=S(e.messages)?e.messages:{[a]:{}},r=S(e.datetimeFormats)?e.datetimeFormats:{[a]:{}},s=S(e.numberFormats)?e.numberFormats:{[a]:{}},l=j({},e.modifiers||{},ni()),o=e.pluralRules||{},u=x(e.missing)?e.missing:null,g=M(e.missingWarn)||$e(e.missingWarn)?e.missingWarn:!0,_=M(e.fallbackWarn)||$e(e.fallbackWarn)?e.fallbackWarn:!0,D=!!e.fallbackFormat,y=!!e.unresolving,E=x(e.postTranslation)?e.postTranslation:null,I=S(e.processor)?e.processor:null,h=M(e.warnHtmlMessage)?e.warnHtmlMessage:!0,T=!!e.escapeParameter,v=x(e.messageCompiler)?e.messageCompiler:ii,O=x(e.onWarn)?e.onWarn:Un,m=e,L=V(m.__datetimeFormatters)?m.__datetimeFormatters:new Map,J=V(m.__numberFormatters)?m.__numberFormatters:new Map,le=V(m.__meta)?m.__meta:{};return $t++,{version:t,cid:$t,locale:a,fallbackLocale:n,messages:i,datetimeFormats:r,numberFormats:s,modifiers:l,pluralRules:o,missing:u,missingWarn:g,fallbackWarn:_,fallbackFormat:D,unresolving:y,postTranslation:E,processor:I,warnHtmlMessage:h,escapeParameter:T,messageCompiler:v,onWarn:O,__datetimeFormatters:L,__numberFormatters:J,__meta:le}}function Dt(e,t,a,n,i){let{missing:r,onWarn:s}=e;if(r!==null){let l=r(e,a,t,i);return d(l)?l:t}else return t}function Ie(e,t,a){let n=e;n.__localeChainCache||(n.__localeChainCache=new Map);let i=n.__localeChainCache.get(a);if(!i){i=[];let r=[a];for(;G(r);)r=Wt(i,r,t);let s=G(t)?t:S(t)?t.default?t.default:null:t;r=d(s)?[s]:s,G(r)&&Wt(i,r,!1),n.__localeChainCache.set(a,i)}return i}function Wt(e,t,a){let n=!0;for(let i=0;i<t.length&&M(n);i++){let r=t[i];d(r)&&(n=si(e,t[i],a))}return n}function si(e,t,a){let n,i=t.split("-");do{let r=i.join("-");n=li(e,r,a),i.splice(-1,1)}while(i.length&&n===!0);return n}function li(e,t,a){let n=!1;if(!e.includes(t)&&(n=!0,t)){n=t[t.length-1]!=="!";let i=t.replace(/!/g,"");e.push(i),(G(a)||S(a))&&a[i]&&(n=a[i])}return n}function Se(e,t,a){let n=e;n.__localeChainCache=new Map,Ie(e,a,t)}function _e(e){return ha(e,null,void 0)}var xt=()=>"",ce=e=>x(e);function Vt(e,...t){let{fallbackFormat:a,postTranslation:n,unresolving:i,fallbackLocale:r,messages:s}=e,[l,o]=lt(...t),u=M(o.missingWarn)?o.missingWarn:e.missingWarn,g=M(o.fallbackWarn)?o.fallbackWarn:e.fallbackWarn,_=M(o.escapeParameter)?o.escapeParameter:e.escapeParameter,D=!!o.resolvedMessage,y=d(o.default)||M(o.default)?M(o.default)?l:o.default:a?l:"",E=a||y!=="",I=d(o.locale)?o.locale:e.locale;_&&oi(o);let[h,T,v]=D?[l,I,s[I]||{}]:ui(e,l,I,r,g,u),O=l;if(!D&&!(d(h)||ce(h))&&E&&(h=y,O=h),!D&&(!(d(h)||ce(h))||!d(T)))return i?je:l;let m=!1,L=()=>{m=!0},J=ce(h)?h:Aa(e,l,T,h,O,L);if(m)return h;let le=pi(e,T,v,o),q=ti(le),X=ci(e,J,q);return n?n(X):X}function oi(e){G(e.list)?e.list=e.list.map(t=>d(t)?Ut(t):t):V(e.named)&&Object.keys(e.named).forEach(t=>{d(e.named[t])&&(e.named[t]=Ut(e.named[t]))})}function ui(e,t,a,n,i,r){let{messages:s,onWarn:l}=e,o=Ie(e,n,a),u={},g,_=null,D="translate";for(let y=0;y<o.length&&(g=o[y],u=s[g]||{},(_=We(u,t))===null&&(_=u[t]),!(d(_)||x(_)));y++){let E=Dt(e,t,g,r,D);E!==t&&(_=E)}return[_,g,u]}function Aa(e,t,a,n,i,r){let{messageCompiler:s,warnHtmlMessage:l}=e;if(ce(n)){let u=n;return u.locale=u.locale||a,u.key=u.key||t,u}let o=s(n,fi(e,a,i,n,l,r));return o.locale=a,o.key=t,o.source=n,o}function ci(e,t,a){return t(a)}function lt(...e){let[t,a,n]=e,i={};if(!d(t)&&!W(t)&&!ce(t))throw _e(14);let r=W(t)?String(t):(ce(t),t);return W(a)?i.plural=a:d(a)?i.default=a:S(a)&&!Ke(a)?i.named=a:G(a)&&(i.list=a),W(n)?i.plural=n:d(n)?i.default=n:S(n)&&j(i,n),[r,i]}function fi(e,t,a,n,i,r){return{warnHtmlMessage:i,onError:s=>{throw r&&r(s),s},onCacheKey:s=>Pn(t,a,s)}}function pi(e,t,a,n){let{modifiers:i,pluralRules:r}=e,l={locale:t,modifiers:i,pluralRules:r,messages:o=>{let u=We(a,o);if(d(u)){let g=!1,D=Aa(e,o,t,u,o,()=>{g=!0});return g?xt:D}else return ce(u)?u:xt}};return e.processor&&(l.processor=e.processor),n.list&&(l.list=n.list),n.named&&(l.named=n.named),W(n.plural)&&(l.pluralIndex=n.plural),l}function Yt(e,...t){let{datetimeFormats:a,unresolving:n,fallbackLocale:i,onWarn:r}=e,{__datetimeFormatters:s}=e,[l,o,u,g]=ot(...t),_=M(u.missingWarn)?u.missingWarn:e.missingWarn;M(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;let D=!!u.part,y=d(u.locale)?u.locale:e.locale,E=Ie(e,i,y);if(!d(l)||l==="")return new Intl.DateTimeFormat(y).format(o);let I={},h,T=null,v="datetime format";for(let L=0;L<E.length&&(h=E[L],I=a[h]||{},T=I[l],!S(T));L++)Dt(e,l,h,_,v);if(!S(T)||!d(h))return n?je:l;let O=`${h}__${l}`;Ke(g)||(O=`${O}__${JSON.stringify(g)}`);let m=s.get(O);return m||(m=new Intl.DateTimeFormat(h,j({},T,g)),s.set(O,m)),D?m.formatToParts(o):m.format(o)}function ot(...e){let[t,a,n,i]=e,r={},s={},l;if(d(t)){if(!/\d{4}-\d{2}-\d{2}(T.*)?/.test(t))throw _e(16);l=new Date(t);try{l.toISOString()}catch(o){throw _e(16)}}else if(Fn(t)){if(isNaN(t.getTime()))throw _e(15);l=t}else if(W(t))l=t;else throw _e(14);return d(a)?r.key=a:S(a)&&(r=a),d(n)?r.locale=n:S(n)&&(s=n),S(i)&&(s=i),[r.key||"",l,r,s]}function Kt(e,t,a){let n=e;for(let i in a){let r=`${t}__${i}`;n.__datetimeFormatters.has(r)&&n.__datetimeFormatters.delete(r)}}function jt(e,...t){let{numberFormats:a,unresolving:n,fallbackLocale:i,onWarn:r}=e,{__numberFormatters:s}=e,[l,o,u,g]=ut(...t),_=M(u.missingWarn)?u.missingWarn:e.missingWarn;M(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;let D=!!u.part,y=d(u.locale)?u.locale:e.locale,E=Ie(e,i,y);if(!d(l)||l==="")return new Intl.NumberFormat(y).format(o);let I={},h,T=null,v="number format";for(let L=0;L<E.length&&(h=E[L],I=a[h]||{},T=I[l],!S(T));L++)Dt(e,l,h,_,v);if(!S(T)||!d(h))return n?je:l;let O=`${h}__${l}`;Ke(g)||(O=`${O}__${JSON.stringify(g)}`);let m=s.get(O);return m||(m=new Intl.NumberFormat(h,j({},T,g)),s.set(O,m)),D?m.formatToParts(o):m.format(o)}function ut(...e){let[t,a,n,i]=e,r={},s={};if(!W(t))throw _e(14);let l=t;return d(a)?r.key=a:S(a)&&(r=a),d(n)?r.locale=n:S(n)&&(s=n),S(i)&&(s=i),[r.key||"",l,r,s]}function qt(e,t,a){let n=e;for(let i in a){let r=`${t}__${i}`;n.__numberFormatters.has(r)&&n.__numberFormatters.delete(r)}}var gi="9.1.9";function ue(e,...t){return ha(e,null,void 0)}var ct=re("__transrateVNode"),ft=re("__datetimeParts"),pt=re("__numberParts");re("__enableEmitter");re("__disableEmitter");var mi=re("__setPluralRules");re("__intlifyMeta");var Da=re("__injectWithOption"),zt=0;function Jt(e){return(t,a,n,i)=>e(a,n,(0,b.getCurrentInstance)()||void 0,i)}function ba(e,t){let{messages:a,__i18n:n}=t,i=S(a)?a:G(n)?{}:{[e]:{}};if(G(n)&&n.forEach(({locale:r,resource:s})=>{r?(i[r]=i[r]||{},xe(s,i[r])):xe(s,i)}),t.flatJson)for(let r in i)da(i,r)&&st(i[r]);return i}var Pe=e=>!V(e)||G(e);function xe(e,t){if(Pe(e)||Pe(t))throw ue(20);for(let a in e)da(e,a)&&(Pe(e[a])||Pe(t[a])?t[a]=e[a]:xe(e[a],t[a]))}function di(e={}){let{__root:t}=e,a=t===void 0,n=M(e.inheritLocale)?e.inheritLocale:!0,i=(0,b.ref)(t&&n?t.locale.value:d(e.locale)?e.locale:"en-US"),r=(0,b.ref)(t&&n?t.fallbackLocale.value:d(e.fallbackLocale)||G(e.fallbackLocale)||S(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:i.value),s=(0,b.ref)(ba(i.value,e)),l=(0,b.ref)(S(e.datetimeFormats)?e.datetimeFormats:{[i.value]:{}}),o=(0,b.ref)(S(e.numberFormats)?e.numberFormats:{[i.value]:{}}),u=t?t.missingWarn:M(e.missingWarn)||$e(e.missingWarn)?e.missingWarn:!0,g=t?t.fallbackWarn:M(e.fallbackWarn)||$e(e.fallbackWarn)?e.fallbackWarn:!0,_=t?t.fallbackRoot:M(e.fallbackRoot)?e.fallbackRoot:!0,D=!!e.fallbackFormat,y=x(e.missing)?e.missing:null,E=x(e.missing)?Jt(e.missing):null,I=x(e.postTranslation)?e.postTranslation:null,h=M(e.warnHtmlMessage)?e.warnHtmlMessage:!0,T=!!e.escapeParameter,v=t?t.modifiers:S(e.modifiers)?e.modifiers:{},O=e.pluralRules||t&&t.pluralRules,m;function L(){return ri({version:gi,locale:i.value,fallbackLocale:r.value,messages:s.value,messageCompiler:function(p){return Q=>Q.normalize([p])},datetimeFormats:l.value,numberFormats:o.value,modifiers:v,pluralRules:O,missing:E===null?void 0:E,missingWarn:u,fallbackWarn:g,fallbackFormat:D,unresolving:!0,postTranslation:I===null?void 0:I,warnHtmlMessage:h,escapeParameter:T,__datetimeFormatters:S(m)?m.__datetimeFormatters:void 0,__numberFormatters:S(m)?m.__numberFormatters:void 0,__v_emitter:S(m)?m.__v_emitter:void 0,__meta:{framework:"vue"}})}m=L(),Se(m,i.value,r.value);function J(){return[i.value,r.value,s.value,l.value,o.value]}let le=(0,b.computed)({get:()=>i.value,set:c=>{i.value=c,m.locale=i.value}}),q=(0,b.computed)({get:()=>r.value,set:c=>{r.value=c,m.fallbackLocale=r.value,Se(m,i.value,c)}}),X=(0,b.computed)(()=>s.value),te=(0,b.computed)(()=>l.value),Oe=(0,b.computed)(()=>o.value);function we(){return x(I)?I:null}function Re(c){I=c,m.postTranslation=c}function et(){return y}function Za(c){c!==null&&(E=Jt(c)),y=c,m.missing=E}function pe(c,p,Q,$,tt,ve){J();let ye;if(ye=c(m),W(ye)&&ye===je){let[En,Cs]=p();return t&&_?$(t):tt(En)}else{if(ve(ye))return ye;throw ue(14)}}function wt(...c){return pe(p=>Vt(p,...c),()=>lt(...c),"translate",p=>p.t(...c),p=>p,p=>d(p))}function en(...c){let[p,Q,$]=c;if($&&!V($))throw ue(15);return wt(p,Q,j({resolvedMessage:!0},$||{}))}function tn(...c){return pe(p=>Yt(p,...c),()=>ot(...c),"datetime format",p=>p.d(...c),()=>Gt,p=>d(p))}function an(...c){return pe(p=>jt(p,...c),()=>ut(...c),"number format",p=>p.n(...c),()=>Gt,p=>d(p))}function nn(c){return c.map(p=>d(p)?(0,b.createVNode)(b.Text,null,p,0):p)}let rn={normalize:nn,interpolate:c=>c,type:"vnode"};function sn(...c){return pe(p=>{let Q,$=p;try{$.processor=rn,Q=Vt($,...c)}finally{$.processor=null}return Q},()=>lt(...c),"translate",p=>p[ct](...c),p=>[(0,b.createVNode)(b.Text,null,p,0)],p=>G(p))}function ln(...c){return pe(p=>jt(p,...c),()=>ut(...c),"number format",p=>p[pt](...c),()=>[],p=>d(p)||G(p))}function on(...c){return pe(p=>Yt(p,...c),()=>ot(...c),"datetime format",p=>p[ft](...c),()=>[],p=>d(p)||G(p))}function un(c){O=c,m.pluralRules=O}function cn(c,p){let Q=d(p)?p:i.value,$=Rt(Q);return We($,c)!==null}function fn(c){let p=null,Q=Ie(m,r.value,i.value);for(let $=0;$<Q.length;$++){let tt=s.value[Q[$]]||{},ve=We(tt,c);if(ve!=null){p=ve;break}}return p}function pn(c){let p=fn(c);return p!=null?p:t?t.tm(c)||{}:{}}function Rt(c){return s.value[c]||{}}function gn(c,p){s.value[c]=p,m.messages=s.value}function mn(c,p){s.value[c]=s.value[c]||{},xe(p,s.value[c]),m.messages=s.value}function dn(c){return l.value[c]||{}}function _n(c,p){l.value[c]=p,m.datetimeFormats=l.value,Kt(m,c,p)}function hn(c,p){l.value[c]=j(l.value[c]||{},p),m.datetimeFormats=l.value,Kt(m,c,p)}function An(c){return o.value[c]||{}}function Dn(c,p){o.value[c]=p,m.numberFormats=o.value,qt(m,c,p)}function bn(c,p){o.value[c]=j(o.value[c]||{},p),m.numberFormats=o.value,qt(m,c,p)}return zt++,t&&((0,b.watch)(t.locale,c=>{n&&(i.value=c,m.locale=c,Se(m,i.value,r.value))}),(0,b.watch)(t.fallbackLocale,c=>{n&&(r.value=c,m.fallbackLocale=c,Se(m,i.value,r.value))})),{id:zt,locale:le,fallbackLocale:q,get inheritLocale(){return n},set inheritLocale(c){n=c,c&&t&&(i.value=t.locale.value,r.value=t.fallbackLocale.value,Se(m,i.value,r.value))},get availableLocales(){return Object.keys(s.value).sort()},messages:X,datetimeFormats:te,numberFormats:Oe,get modifiers(){return v},get pluralRules(){return O||{}},get isGlobal(){return a},get missingWarn(){return u},set missingWarn(c){u=c,m.missingWarn=u},get fallbackWarn(){return g},set fallbackWarn(c){g=c,m.fallbackWarn=g},get fallbackRoot(){return _},set fallbackRoot(c){_=c},get fallbackFormat(){return D},set fallbackFormat(c){D=c,m.fallbackFormat=D},get warnHtmlMessage(){return h},set warnHtmlMessage(c){h=c,m.warnHtmlMessage=c},get escapeParameter(){return T},set escapeParameter(c){T=c,m.escapeParameter=c},t:wt,rt:en,d:tn,n:an,te:cn,tm:pn,getLocaleMessage:Rt,setLocaleMessage:gn,mergeLocaleMessage:mn,getDateTimeFormat:dn,setDateTimeFormat:_n,mergeDateTimeFormat:hn,getNumberFormat:An,setNumberFormat:Dn,mergeNumberFormat:bn,getPostTranslationHandler:we,setPostTranslationHandler:Re,getMissingHandler:et,setMissingHandler:Za,[ct]:sn,[pt]:ln,[ft]:on,[mi]:un,[Da]:e.__injectWithOption}}var bt={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};j({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>W(e)||!isNaN(e)}},bt);function _i({slots:e},t){return t.length===1&&t[0]==="default"?e.default?e.default():[]:t.reduce((a,n)=>{let i=e[n];return i&&(a[n]=i()),a},{})}function Ea(e,t,a,n){let{slots:i,attrs:r}=t;return()=>{let s={part:!0},l={};e.locale&&(s.locale=e.locale),d(e.format)?s.key=e.format:V(e.format)&&(d(e.format.key)&&(s.key=e.format.key),l=Object.keys(e.format).reduce((_,D)=>a.includes(D)?j({},_,{[D]:e.format[D]}):_,{}));let o=n(e.value,s,l),u=[s.key];G(o)?u=o.map((_,D)=>{let y=i[_.type];return y?y({[_.type]:_.value,index:D,parts:o}):[_.value]}):d(o)&&(u=[o]);let g=j({},r);return d(e.tag)?(0,b.h)(e.tag,g,u):V(e.tag)?(0,b.h)(e.tag,g,u):(0,b.h)(b.Fragment,g,u)}}var hi=["localeMatcher","style","unit","unitDisplay","currency","currencyDisplay","useGrouping","numberingSystem","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","notation","formatMatcher"];j({value:{type:Number,required:!0},format:{type:[String,Object]}},bt);var Ai=["dateStyle","timeStyle","fractionalSecondDigits","calendar","dayPeriod","numberingSystem","localeMatcher","timeZone","hour12","hourCycle","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"];j({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},bt);function Et(e={}){let t=(0,b.getCurrentInstance)();if(t==null)throw ue(16);if(!t.appContext.app.__VUE_I18N_SYMBOL__)throw ue(17);let a=(0,b.inject)(t.appContext.app.__VUE_I18N_SYMBOL__);if(!a)throw ue(22);let n=a.mode==="composition"?a.global:a.global.__composer,i=Ke(e)?"__i18n"in t.type?"local":"global":e.useScope?e.useScope:"local";if(i==="global"){let l=V(e.messages)?e.messages:{};"__i18nGlobal"in t.type&&(l=ba(n.locale.value,{messages:l,__i18n:t.type.__i18nGlobal}));let o=Object.keys(l);if(o.length&&o.forEach(u=>{n.mergeLocaleMessage(u,l[u])}),V(e.datetimeFormats)){let u=Object.keys(e.datetimeFormats);u.length&&u.forEach(g=>{n.mergeDateTimeFormat(g,e.datetimeFormats[g])})}if(V(e.numberFormats)){let u=Object.keys(e.numberFormats);u.length&&u.forEach(g=>{n.mergeNumberFormat(g,e.numberFormats[g])})}return n}if(i==="parent"){let l=Di(a,t,e.__useComponent);return l==null&&(l=n),l}if(a.mode==="legacy")throw ue(18);let r=a,s=r.__getInstance(t);if(s==null){let l=t.type,o=j({},e);l.__i18n&&(o.__i18n=l.__i18n),n&&(o.__root=n),s=di(o),bi(r,t),r.__setInstance(t,s)}return s}function Di(e,t,a=!1){let n=null,i=t.root,r=t.parent;for(;r!=null;){let s=e;if(e.mode==="composition")n=s.__getInstance(r);else{let l=s.__getInstance(r);l!=null&&(n=l.__composer),a&&n&&!n[Da]&&(n=null)}if(n!=null||i===r)break;r=r.parent}return n}function bi(e,t,a){(0,b.onMounted)(()=>{},t),(0,b.onUnmounted)(()=>{e.__deleteInstance(t)},t)}function qe(e,t,a=!1,n=null){let i=Ct(e,a);n?uni.setStorage({key:i,data:t,success:n}):uni.setStorageSync(i,t)}function Y(e,t=!1,a=null){let n=Ct(e,t);if(a)uni.getStorage({key:n,success:a});else return uni.getStorageSync(n)}function yt(e,t=!1){uni.removeStorage({key:Ct(e,t)})}function Ct(e,t){return t?`_a_${e}`:`m_${e}`}function Ei(e,t){let a=t;return typeof t=="undefined"&&(a=getApp().globalData.uid),Y(e+"_"+a)}var Xt={NONE:0,WAITING:1,GAME:2,WEEK_UP:3,JUDGE_ROOM:100};function C(e){return typeof e=="undefined"||e==null||e==""}function yi(e){return e===""||e===null}var ke=new Promise(()=>{});function Ci(e,t,a=""){if(C(e))return"";let n=[];for(let i in e)n.push(i+"="+e[i]);return a+n.join(t)}function Fe(e){return typeof e=="number"?e+"":typeof e=="boolean"?e?"true":"false":C(e)?"null":typeof e=="object"?JSON.stringify(e):e}function Ue(e){return e.replace(new RegExp("'","gm"),"\uFF07")}function oe(e){return e<10?"0"+e:e}function ya(e,t=!1,a=!1,n=!0){e<1e10&&(e=e*1e3);var i=new Date(e),r=i.getFullYear(),s=i.getMonth()+1,l=i.getDate(),o=i.getHours(),u=i.getMinutes(),g=i.getSeconds();let _=t?`${r}-`:"";if(a)return _+oe(s)+"-"+oe(l);{let D=n?":"+oe(g):"";return _+oe(s)+"-"+oe(l)+" "+oe(o)+":"+oe(u)+D}}function Si(e){try{let t=JSON.parse(e);if(typeof t=="object")return t}catch(t){}return!1}function Ti(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var Te={adminAgencyList:"/pagesAdmin/agency/list",adminAgencyDetail:"/pagesAdmin/agency/agency-detail",adminAgencyEdit:"/pagesAdmin/agency/agency-edit",adminAgencyEditPrice:"/pagesAdmin/agency/agency-edit-price",adminAgencyEditWithdrawInfo:"/pagesAdmin/agency/withdraw-info",adminAgencyEditName:"/pagesAdmin/agency/agency-edit-nickname",adminAgencyEditCountry:"/pagesAdmin/agency/agency-edit-country",adminAgencyEditEmail:"/pagesAdmin/agency/agency-edit-email",adminAgencyEditWhatsApp:"/pagesAdmin/agency/agency-edit-whatsapp",adminAgencyInvited:"/pagesAdmin/agency/invited",adminAgencyListSub:"/pagesAdmin/agency/list-sub",adminAgencyGirlsList:"/pagesAdmin/agency/girls-list",adminAgencyGirlsListSub:"/pagesAdmin/agency/girls-list-sub",adminAgencyDataPanel:"/pagesAdmin/agency/data-panel",adminAgencyDataHistory:"/pagesAdmin/agency/data-history",adminAgencyDataDetail:"/pagesAdmin/agency/data-detail",adminAgencyDataDetailTask:"/pagesAdmin/agency/data-detail-task",adminAgencyWithdrawRecords:"/pagesAdmin/agency/withdraw-records",adminAgencyWalletDetail:"/pagesAdmin/agency/wallet-detail",adminAgencyHandleBan:"/pagesAdmin/agency/handle-ban",adminAgencyHandleDelete:"/pagesAdmin/agency/handle-delete",adminAgencySelected:"/pagesAdmin/agency/selected-agency",adminAgencyStatus:"/pagesAdmin/agency/agency-status",adminAgencySubAgencyList:"/pagesAdmin/agency/sub-agency-list",adminAgencyWithdrawGirlList:"/pagesAdmin/agency/withdraw/girl-list",adminAgencyWithdrawSubAgentList:"/pagesAdmin/agency/withdraw/sub-agent-list",adminAgencyWithdrawSettlementDetail:"/pagesAdmin/agency/withdraw/settlement-detail",adminAgencyWithdrawEntiretyDetail:"/pagesAdmin/agency/withdraw/entirety-detail",adminAgencyWithdrawEntiretyDetailReject:"/pagesAdmin/agency/withdraw/entirety-detail-reject",adminAgencyHistoricalMemberList:"/pagesAdmin/agency/historical-list",adminAgencyWithdrawSubAgentDetail:"/pagesAdmin/agency/withdraw/sub-agent-detail",adminAuditSettlement:"/pagesAdmin/auditNew/settlement",adminAuditSettlementSub:"/pagesAdmin/auditNew/settlement-sub",adminAuditWithdraw:"/pagesAdmin/auditNew/withdraw",adminAuditWithdrawCashList:"/pagesAdmin/audit/withdraw-cash-list",adminWallet:"/pagesAdmin/wallet/wallet",adminWalletCoinStat:"/pagesAdmin/wallet/coin-stat",adminAgencyAnchorDetail:"/pagesAdmin/agencyManager/anchor-detail",adminChannelBackend:"/pagesAdmin/channel/channel-backend",adminAuditAgencyAvatar:"/pagesAdmin/auditNew/agency-avatar",adminAuditAgencyName:"/pagesAdmin/auditNew/agency-name",adminAuditCheckAllUnderReview:"/pagesAdmin/audit/check-all-under-review",adminPermissionWebManage:"/pagesAdmin/more/permission-web-manage",adminPermissionList:"/pagesAdmin/more/permission-list",adminPermissionEdit:"/pagesAdmin/more/permission-edit",adminPermissionNewAccount:"/pagesAdmin/more/permission-new-account",adminPermissionChooseRole:"/pagesAdmin/more/permission-choose-role",adminPermissionNewRole:"/pagesAdmin/more/permission-new-role",adminWhiteList:"/pagesAdmin/more/white-list",adminCallEvaluationList:"/pagesAdmin/user/call-evaluation-list",adminWarnDeviceUser:"/pagesAdmin/user/ban-device-user",adminWarnList:"/pagesAdmin/audit/warn-list",adminVersionUseList:"/pagesAdmin/more/version-use-list",adminAuditSettlementReview:"/pagesAdmin/auditNew/settlement-review",adminAuditWithdrawReview:"/pagesAdmin/auditNew/withdraw-review",adminClubApplication:"/pagesAdmin/auditNew/club-application",adminClubModification:"/pagesAdmin/auditNew/club-modification",adminClubManagement:"/pagesAdmin/club/management",warningDialog:"/pagesDialog/warning",homeFilterSexGuide:"/pagesDialog/home-filter-sex-guide",club:"/pagesClub/club",clubReachLevel:"/pagesDialog/club-reach-level",clubStatusRemind:"/pagesDialog/club-status-remind",clubApplyCreate:"/pagesClub/apply-create",clubCreateSuccess:"/pagesClub/create-success",clubRules:"/pagesDialog/club-rules",clubApplicationList:"/pagesClub/application-list",clubWarning:"/pagesDialog/club-warning",clubDisband:"/pagesDialog/club-disband",adminClubManagementSub:"/pagesAdmin/club/management-sub",adminClubTodayNew:"/pagesAdmin/club/club-today-new",adminClubNormal:"/pagesAdmin/club/club-normal",adminClubManageGirls:"/pagesAdmin/club/club-manage-girls",adminClubOperator:"/pagesAdmin/club/club-operator",adminClubDisbanded:"/pagesAdmin/club/club-disbanded",adminClubMemberList:"/pagesAdmin/club/member-new",adminClubInfo:"/pagesAdmin/club/detail-new",adminCLubWarning:"/pagesAdmin/club/warning",adminClubOperatorLog:"/pagesAdmin/club/operation-log",adminClubPersonalApplication:"/pagesAdmin/auditNew/club-application-personal",adminOutsourcingIndex:"/pagesAdmin/more/outsourcing/index",adminOutsourcingPermissionList:"/pagesAdmin/more/outsourcing/permission-list",adminOutsourcingNewRole:"/pagesAdmin/more/outsourcing/new-role",adminOutsourcingEditRole:"/pagesAdmin/more/outsourcing/edit-role",adminRefundDetail:"/pagesAdmin/refund/detail"};function Ca(e,t){let a=Te[e];return a||(a=e),a+Ci(t,"&","?")}function ae(e,t=null,a=null,n=!1){let i=Ca(e,t),r={url:i,fail:s=>{ee("error","at common/route.js:107",`\u6253\u5F00\u9875\u9762\u5931\u8D25${i} ${JSON.stringify(s)}`),getApp().globalData.appCRE&&i.startsWith("/pagesAdmin")&&K.zT!=3&&z.request("/sign/reload-route",{},!0)}};n&&(r=Object.assign(r,n)),a!=null&&(r.events=a),uni.navigateTo(r)}function B(e,t,a,n,i=null){let s={url:Ca(e,t),success(l){l.eventChannel.emit(a,n)}};i!=null&&(s.events=i),uni.navigateTo(s)}function ze(e=1,t="",a=""){let n={delta:e};t&&(n.animationType=t),a&&(n.animationDuration=a),uni.navigateBack(n)}function Je(){let e=[],t=getCurrentPages();for(let a=0,n=t.length;a<n;a++){let i=t[a].$page;e.push(i.path)}return e}function Sa(e="path"){let t=getCurrentPages(),a=t[t.length-1];if(!a)return"";let n=a.$page;return n?n[e]:""}function Li(e,t=null,a=null){let i={uid:typeof e=="object"?e.uid:e};a&&(i=Object.assign(i,a)),B("/pagesMsg/pri/chat",i,"priData",{user:e,extra:t})}function Ta(e,t=!0){return e.startsWith("http")?e:e.startsWith("file://")?t?e:e.replace("file://",""):e.startsWith("/storage/")||e.startsWith("/var/mobile/")?t?`file://${e}`:e:e.startsWith("_doc/uniapp")?t?e:plus.io.convertLocalFileSystemURL(e):e.indexOf("apps/__UNI")!=-1?e:!1}var Ni=[{key:"tr",title:"T\xFCrk"},{key:"pt",title:"Portugu\xEAs"}];function gt(e=!0){let t=Y("language_app_key");if(!e||!yi(t))return t;let a=La(!1),n=Rn[a];return C(n)?"en":a}function La(e){let t=uni.getAppBaseInfo().language;return C(t)?e?"en-US":"en":e?t:t.split("-")[0]}function Ii(){return Y("call_automatic_source_language")||gt()}function Oi(){return!!Y("call_automatic_open")}function H(...e){return getApp().globalData.s.state.pubI18n(...e)}function Na(e){function t(s,l,o){for(;0<o--;)s.push(l)}function a(s,l){return s<<l|s>>>32-l}function n(s,l,o){return s^l^o}function i(s,l){var o=(l&65535)+(s&65535),u=(l>>>16)+(s>>>16)+(o>>>16);return(u&65535)<<16|o&65535}var r="0123456789abcdef";return function(s){for(var l=[],o=s.length*4,u,g=0;g<o;g++)u=s[g>>2]>>(3-g%4)*8,l.push(r.charAt(u>>4&15)+r.charAt(u&15));return l.join("")}(function(s,l){var o,u,g,_,D,y=s.length,E=1732584193,I=4023233417,h=2562383102,T=271733878,v=3285377520,O=[];t(O,1518500249,20),t(O,1859775393,20),t(O,2400959708,20),t(O,3395469782,20),s[l>>5]|=128<<24-l%32,s[(l+65>>9<<4)+15]=l;for(var m=0;m<y;m+=16){o=E,u=I,g=h,_=T,D=v;for(var L=0,J=[];L<80;L++){J[L]=L<16?s[L+m]:a(J[L-3]^J[L-8]^J[L-14]^J[L-16],1);var le=function(q,X,te,Oe,we){var Re=(we&65535)+(q&65535)+(X&65535)+(te&65535)+(Oe&65535),et=(we>>>16)+(q>>>16)+(X>>>16)+(te>>>16)+(Oe>>>16)+(Re>>>16);return(et&65535)<<16|Re&65535}(L<20?function(q,X,te){return q&X^~q&te}(u,g,_):L<40?n(u,g,_):L<60?function(q,X,te){return q&X^q&te^X&te}(u,g,_):n(u,g,_),D,O[L],J[L],a(o,5));D=_,_=g,g=a(u,30),u=o,o=le}E=i(E,o),I=i(I,u),h=i(h,g),T=i(T,_),v=i(v,D)}return[E,I,h,T,v]}(function(s){for(var l=[],o=255,u=s.length*8,g=0;g<u;g+=8)l[g>>5]|=(s.charCodeAt(g/8)&o)<<24-g%32;return l}(e).slice(),e.length*8))}function Ia(e,t,a=!0){return wa(getApp().globalData.ossPicPath,e,t,a)}function Xe(e,t,a=!0){return wa(getApp().globalData.ossPath,e,t,a)}function Oa(e){if(C(e)||e.startsWith("http"))return;let a=`img_${Na(e)}`,n=Y(a);yt(a),n&&uni.removeSavedFile({filePath:n})}function wa(e,t,a,n=!0){if(C(t))return"";if(t.startsWith("http")||t.startsWith("file://"))return t;if(t.startsWith("/var/mobile/"))return"file://"+t;if(t.startsWith("/storage/"))return t;let r=`img_${Na(t)}`,s=Y(r);if(s){let o={filePath:s,fail(u){wi(`\u7F13\u5B58\u68C0\u6D4B\u5931\u8D25${t}`,u),yt(r),typeof a=="function"&&a(e+t)},success(u){}};return typeof a=="function"&&(o.success=function(){a(s)}),uni.getFileInfo(o),s}let l=e+t;return getApp().globalData.picCacheObj[r]||(getApp().globalData.picCacheObj[r]=1,typeof a=="function"&&!n&&a(l),$i(l).then(o=>{qe(r,o),typeof a=="function"&&n&&a(o),delete getApp().globalData.picCacheObj[r]}).catch(()=>{})),l}function wi(e,t){ee("error","at common/cache.js:118",`cache ${e}`,t)}var Ri={CANDY_CHAT_I:"__UNI__CB903B1",CANDY_CHAT_A:"__UNI__564E31A",CHAT_NOW_A:"__UNI__DB0D401",CHAT_NOW_DEV:"__UNI__DEED62E",HOT_FACE_A:"__UNI__0D44E11",HOT_FACE_DEV:"__UNI__58DBD61",LOVE_SKY:"__UNI__0EE5E5E",DEV:"__UNI__3932C1F",DEV2:"__UNI__9C66D76"};function vi(){return getApp().globalData.pluginTool.vpnConnected()}function Mi(e){return getApp().globalData.pluginTool.permissionStatusSync({permission:e})}function Pi(){return getApp().globalData.pluginTool.permissionCheckAll()}function ki(){return getApp().globalData.pluginTool.locationAuthorizationStatusSync()}var R={ALBUM:1,CAMERA:2,VIDEO:3,MICROPHONE:4,NOTIFY:5,LOCATION:6,DRAW_OVERLAYS:7,ALBUM_AND_CAMERA:101};function Fi(e,t,a){if(getApp().globalData.uid!=0)return new Promise(n=>{let i;if(a==null?i=Ra():i=a,i==null){n();return}let r={fromType:e,showClose:t,resList:i[0]};B("/pagesDialog/check-permission",null,"permissionData",r,{onCloseListener:()=>{n()}})})}function Ra(){let e=[],t=!0;if(K.isAndroid){let r=Pi();e.push({key:"notice",value:r.notice,permission:R.NOTIFY}),e.push({key:"camera",value:r.camera,permission:R.CAMERA}),e.push({key:"voice",value:r.voice,permission:R.MICROPHONE}),e.push({key:"album",value:r.storage,permission:R.ALBUM})}else e.push({key:"notice",value:Pa(),permission:R.NOTIFY}),e.push({key:"camera",value:Bi(),permission:R.CAMERA}),e.push({key:"voice",value:Ma(),permission:R.MICROPHONE}),e.push({key:"album",value:Hi(),permission:R.ALBUM});for(let r=0,s=e.length;r<s;r++)if(!e[r].value){t=!1;break}let a={};for(let r=0,s=e.length;r<s;r++){let l=e[r];a[l.key]=l.value?1:0}a.auto_translate=getApp().globalData.translateAuto?1:0;let n=Oi()?1:0,i=Ii();return a.audio_translate=n,a.audio_language=i,z.request("/user/sync-permission",a),[e,t]}function va(e){if(e==R.NOTIFY)return K.isAndroid?nt(e):Pa();if(e==R.MICROPHONE)return K.isAndroid?nt(e):Ma();if(e==R.ALBUM_AND_CAMERA){let a=Ra()[0];return a?a[1].value&&a[3].value:!0}else if(e==R.LOCATION)return K.isAndroid?nt(e):ki();return!0}function nt(e){let t=Ui(e);return Mi(t)}function Ui(e){switch(e){case R.LOCATION:return["android.permission.ACCESS_FINE_LOCATION","android.permission.ACCESS_COARSE_LOCATION"];case R.ALBUM:case R.VIDEO:return["android.permission.READ_MEDIA_IMAGES","android.permission.READ_MEDIA_VIDEO"];case R.MICROPHONE:return["android.permission.RECORD_AUDIO"];case R.CAMERA:return["android.permission.CAMERA"];case R.NOTIFY:return["android.permission.POST_NOTIFICATIONS"]}}function Ma(){let e=plus.ios.importClass("AVCaptureDevice"),t=e.authorizationStatusForMediaType("soun");return plus.ios.deleteObject(e),t==3}function Bi(){let e=plus.ios.importClass("AVCaptureDevice"),t=e.authorizationStatusForMediaType("vide");return plus.ios.deleteObject(e),t==3}function Hi(){var e=!1,t=plus.ios.import("PHPhotoLibrary"),a=t.authorizationStatus();return(a==3||a==4)&&(e=!0),plus.ios.deleteObject(t),e}function Pa(){var e=!1,t=plus.ios.import("UIApplication"),a=t.sharedApplication(),n=0;if(a.currentUserNotificationSettings){var i=a.currentUserNotificationSettings();n=i.plusGetAttribute("types"),e=n!=0,plus.ios.deleteObject(i)}else n=a.enabledRemoteNotificationTypes(),e=n!=0;return plus.ios.deleteObject(a),plus.ios.deleteObject(t),e}function ka(e,t){getApp().globalData.s.commit("setPubValue",{name:e,value:t})}function A(e,t){getApp().globalData.s.commit(e,t)}function Ve(e,t){e==Ae.MSG&&getApp().setNumberBadge(),t>0?uni.setTabBarBadge({index:e,text:t+""}):uni.removeTabBarBadge({index:e})}function Gi(e,t=!0){t?uni.showTabBarRedDot({index:e}):uni.hideTabBarRedDot({index:e})}function $i(e){return new Promise((t,a)=>{uni.downloadFile({url:e}).then(n=>!n||n.statusCode!=200||!n.tempFilePath?(a(),new Promise(()=>{})):uni.saveFile({tempFilePath:n.tempFilePath})).then(n=>{!n||!n.savedFilePath?a():t(n.savedFilePath)}).catch(n=>{ee("error","at common/common.js:65","downloadFile error "+JSON.stringify(n))})})}function Qt(e,t){t?plus.runtime.openWeb(e):plus.runtime.openURL(e)}function Fa(e,t,a,n=H("confirm")){Ua(e,t,a,"",n,!1)}function Wi(e){return["Si, desbloquear","Reenviar Completar"].indexOf(e)!=-1}function Ua(e,t,a,n,i=H("confirm"),r=!0,s=H("cancel"),l=!1){let o=!1;if(!K.isAndroid&&(o=Wi(i),o)){let u=i;i=s,s=u}uni.showModal({title:e,content:t,showCancel:r,cancelText:s,confirmText:i,editable:l,success(u){u.confirm?o?typeof n=="function"&&n():typeof a=="function"&&a(u):u.cancel&&(o?typeof a=="function"&&a(u):typeof n=="function"&&n())}})}function xi(e,t="none",a="center"){uni.showToast({title:e,duration:2e3,icon:t,position:a})}var Ba={LIGHT:1,DARK:2};function Vi(e){let t=getApp().pubUser.seeking_sex;return e?t:t==0?getApp().pubUser.sex==1?2:1:t}function Ye(){return getApp().globalData.s.state.pubUser.is_auth}function Yi(){return!Ye()&&getApp().pubUser.recharge_money>0}function Ki(){let e=getApp().globalData.admin;return e&&e.permission&&e.permission.kefu}function ji(){let e=getApp().globalData.admin;return e&&e.permission&&e.permission.check_all}function qi(){let e=getApp().globalData.admin;return!C(e)&&e.type==1}var mt={DEFAULT:1e4,FAIL:0,SUCCESS:1,DISCONNECT:6,RECONNECT:7},zi={INIT:"init",APP_SHOW:"app_show",TAB_SHOW:"tab_show",MSG_INDEX_REFRESH:"msg_index_refresh",STOP_TAKING_RECOVERY:"stop_taking_recovery",CATCH_MSG_SYNC:"sync_catch",API_CALL_BACK:"api_call_back",RECONNECT_LISTENER:"reconnect_listener",RECONNECT_LOCAL:"reconnect_local"};function Ji(e){return new Promise((t,a)=>{getApp().globalData.pluginDB.selectSql({sql:e},n=>{n.status==1?t(n.rows):(ee("error","at comExtend/plugin-DB.js:44","db \u63D2\u4EF6 select \u6267\u884C \u9519\u8BEF "+n.message),a(n.message))})})}function Xi(e){return new Promise((t,a)=>{getApp().globalData.pluginDB.executeSql({sql:e},n=>{n.status==1?t(n.rows):(ee("error","at comExtend/plugin-DB.js:57","db \u63D2\u4EF6 execute \u6267\u884C \u9519\u8BEF "+n.message),a(n.message))})})}function Qi(e,t){return new Promise((a,n)=>{Xi(e).then(i=>{a(i)},i=>{n(),t||$a("execute",i,e)})})}function Zi(e,t){return new Promise((a,n)=>{Ji(e).then(i=>{a(i)},i=>{n(),t||$a("select",i,e)})})}function Ge(e){return C(e)?0:parseInt(e)}function er(){return getApp().globalData.pluginMqtt.checkStatusSync()?mt.SUCCESS:mt.FAIL}function tr(){return er()}function ar(){return tr()==mt.SUCCESS}var De={getUserDesc(){let e=getApp().pubUser;return Object.keys(e).length<=3?"\u672A\u767B\u5F55":[e.uid,e.is_auth?"\u4E3B\u64AD":"\u7528\u6237",`\u7B49\u7EA7-${e.level}`,`vip${e.is_vip?"\u662F":"\u5426"}`,`\u5145\u503C${e.recharge_money}`,`\u4F59\u989D${getApp().pubAccount.money}`,`\u540E\u53F0\u8EAB\u4EFD${nr()}`].join("|")},getActionDesc(){let e=Je(),t=e.length;return[`\u9875\u9762: ${(t>5?e.slice(t-5):e).join(",")}`,`${getApp().globalData.catchApiUrlList.join(",")}`].join("|")},getEnvironsDesc(){let e=getApp().globalData.ua.split("|"),t=[`${e[1]}`,`app\u7248\u672C${e[2]}`,`zip\u7248\u672C${e[3]}-${e[13]}`,`${e[6]}`,`\u54C1\u724C${e[11]}`,`\u578B\u53F7${e[12]}`,`\u7F51\u7EDC${getApp().globalData.network.type}`,`MQTT${ar()?"\u662F":"\u5426"}`],a=vi();return typeof a!="undefined"&&t.push(`VPN${a?"\u662F":"\u5426"}`),t.join("|")}};function nr(){if(qi())return"\u8D85\u7BA1";let e=[];return Ki()&&e.push("\u5BA2\u670D"),ji()&&e.push("\u5BA1\u6838"),e.length<=0?"\u65E0":e.join("\u548C")}var it=0;function ir(e){return sr(rr(lr(e)))}function rr(e){return ur(cr(or(e),e.length*8))}function sr(e){try{}catch(r){it=0}for(var t=it?"0123456789ABCDEF":"0123456789abcdef",a="",n,i=0;i<e.length;i++)n=e.charCodeAt(i),a+=t.charAt(n>>>4&15)+t.charAt(n&15);return a}function lr(e){for(var t="",a=-1,n,i;++a<e.length;)n=e.charCodeAt(a),i=a+1<e.length?e.charCodeAt(a+1):0,55296<=n&&n<=56319&&56320<=i&&i<=57343&&(n=65536+((n&1023)<<10)+(i&1023),a++),n<=127?t+=String.fromCharCode(n):n<=2047?t+=String.fromCharCode(192|n>>>6&31,128|n&63):n<=65535?t+=String.fromCharCode(224|n>>>12&15,128|n>>>6&63,128|n&63):n<=2097151&&(t+=String.fromCharCode(240|n>>>18&7,128|n>>>12&63,128|n>>>6&63,128|n&63));return t}function or(e){for(var t=Array(e.length>>2),a=0;a<t.length;a++)t[a]=0;for(var a=0;a<e.length*8;a+=8)t[a>>5]|=(e.charCodeAt(a/8)&255)<<a%32;return t}function ur(e){for(var t="",a=0;a<e.length*32;a+=8)t+=String.fromCharCode(e[a>>5]>>>a%32&255);return t}function cr(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var a=1732584193,n=-271733879,i=-1732584194,r=271733878,s=0;s<e.length;s+=16){var l=a,o=n,u=i,g=r;a=P(a,n,i,r,e[s+0],7,-680876936),r=P(r,a,n,i,e[s+1],12,-389564586),i=P(i,r,a,n,e[s+2],17,606105819),n=P(n,i,r,a,e[s+3],22,-1044525330),a=P(a,n,i,r,e[s+4],7,-176418897),r=P(r,a,n,i,e[s+5],12,1200080426),i=P(i,r,a,n,e[s+6],17,-1473231341),n=P(n,i,r,a,e[s+7],22,-45705983),a=P(a,n,i,r,e[s+8],7,1770035416),r=P(r,a,n,i,e[s+9],12,-1958414417),i=P(i,r,a,n,e[s+10],17,-42063),n=P(n,i,r,a,e[s+11],22,-1990404162),a=P(a,n,i,r,e[s+12],7,1804603682),r=P(r,a,n,i,e[s+13],12,-40341101),i=P(i,r,a,n,e[s+14],17,-1502002290),n=P(n,i,r,a,e[s+15],22,1236535329),a=k(a,n,i,r,e[s+1],5,-165796510),r=k(r,a,n,i,e[s+6],9,-1069501632),i=k(i,r,a,n,e[s+11],14,643717713),n=k(n,i,r,a,e[s+0],20,-373897302),a=k(a,n,i,r,e[s+5],5,-701558691),r=k(r,a,n,i,e[s+10],9,38016083),i=k(i,r,a,n,e[s+15],14,-660478335),n=k(n,i,r,a,e[s+4],20,-405537848),a=k(a,n,i,r,e[s+9],5,568446438),r=k(r,a,n,i,e[s+14],9,-1019803690),i=k(i,r,a,n,e[s+3],14,-187363961),n=k(n,i,r,a,e[s+8],20,1163531501),a=k(a,n,i,r,e[s+13],5,-1444681467),r=k(r,a,n,i,e[s+2],9,-51403784),i=k(i,r,a,n,e[s+7],14,1735328473),n=k(n,i,r,a,e[s+12],20,-1926607734),a=F(a,n,i,r,e[s+5],4,-378558),r=F(r,a,n,i,e[s+8],11,-2022574463),i=F(i,r,a,n,e[s+11],16,1839030562),n=F(n,i,r,a,e[s+14],23,-35309556),a=F(a,n,i,r,e[s+1],4,-1530992060),r=F(r,a,n,i,e[s+4],11,1272893353),i=F(i,r,a,n,e[s+7],16,-155497632),n=F(n,i,r,a,e[s+10],23,-1094730640),a=F(a,n,i,r,e[s+13],4,681279174),r=F(r,a,n,i,e[s+0],11,-358537222),i=F(i,r,a,n,e[s+3],16,-722521979),n=F(n,i,r,a,e[s+6],23,76029189),a=F(a,n,i,r,e[s+9],4,-640364487),r=F(r,a,n,i,e[s+12],11,-421815835),i=F(i,r,a,n,e[s+15],16,530742520),n=F(n,i,r,a,e[s+2],23,-995338651),a=U(a,n,i,r,e[s+0],6,-198630844),r=U(r,a,n,i,e[s+7],10,1126891415),i=U(i,r,a,n,e[s+14],15,-1416354905),n=U(n,i,r,a,e[s+5],21,-57434055),a=U(a,n,i,r,e[s+12],6,1700485571),r=U(r,a,n,i,e[s+3],10,-1894986606),i=U(i,r,a,n,e[s+10],15,-1051523),n=U(n,i,r,a,e[s+1],21,-2054922799),a=U(a,n,i,r,e[s+8],6,1873313359),r=U(r,a,n,i,e[s+15],10,-30611744),i=U(i,r,a,n,e[s+6],15,-1560198380),n=U(n,i,r,a,e[s+13],21,1309151649),a=U(a,n,i,r,e[s+4],6,-145523070),r=U(r,a,n,i,e[s+11],10,-1120210379),i=U(i,r,a,n,e[s+2],15,718787259),n=U(n,i,r,a,e[s+9],21,-343485551),a=ie(a,l),n=ie(n,o),i=ie(i,u),r=ie(r,g)}return Array(a,n,i,r)}function Qe(e,t,a,n,i,r){return ie(fr(ie(ie(t,e),ie(n,r)),i),a)}function P(e,t,a,n,i,r,s){return Qe(t&a|~t&n,e,t,i,r,s)}function k(e,t,a,n,i,r,s){return Qe(t&n|a&~n,e,t,i,r,s)}function F(e,t,a,n,i,r,s){return Qe(t^a^n,e,t,i,r,s)}function U(e,t,a,n,i,r,s){return Qe(a^(t|~n),e,t,i,r,s)}function ie(e,t){var a=(e&65535)+(t&65535),n=(e>>16)+(t>>16)+(a>>16);return n<<16|a&65535}function fr(e,t){return e<<t|e>>>32-t}var dt={md5:function(e){return ir(e)}};function Ha(){return"tb_error_log"}function pr(e,t){return new Promise(a=>{let n=`SELECT * FROM ${Ha()} WHERE status = ${Ge(e)} AND identify = '${t}' ORDER BY id DESC LIMIT 1`;Zi(n,!0).then(i=>{a(i[0])})})}function gr(e,t,a,n,i,r,s,l,o,u){return pr(e,t).then(g=>{if(g)return Promise.resolve(!0);let _=`INSERT INTO ${Ha()} (status, identify, grade, flag, user_desc, action_desc, environs_desc, error_desc, create_time, exp_time) values (${Ge(e)}, '${t}', ${a}, '${n}', '${Ue(i)}', '${Ue(r)}', '${Ue(s)}', '${Ue(l)}', ${Ge(o)}, ${Ge(u)})`;return Qi(_,!0)})}var St={CRASH:1,USER:11,API_FAIL:12,API_ERROR:13,MSG_SYNC:14,DB_PLUGIN:15,FRAME:21,LISTENER:31,BUG_DB_GET_NONE:201,BUG_MSG_SYNC_PLUGIN_LOSS:202,BUG_MSG_SYNC_JS_LOSS:203},Tt={CRASH:"crash",MEMORY:"memory",LISTENER:"listener",FRAME_API:"frame_api",API:"api",DB:"db",PAYMENT:"payment",AUTH_FACE:"auth_face",CHAT_CALL:"chat_call",HOT_UPDATE:"hot_update",MESSAGE_PARSE:"message_parse",BUG:"bug"};function Ga(){return getApp().globalData.uid==0?!1:K.zT==3?!0:K.appId==Ri.CHAT_NOW_A||K.ENV=="dev"}var mr=1e3;function dr(e,t){try{if(!Ga())return;let a=_t(t),n=`api-${e} ${a}`;ee("error","at comCatch/catch-save.js:15","catch api fail "+n);let i=Wa(n);Ar().then(r=>{let s;typeof r=="boolean"?s="\u6D4B\u8BD5\u8C37\u6B4C\u6210\u529F":s=`\u6D4B\u8BD5\u8C37\u6B4C\u5931\u8D25-${_t(r)}`,i.errorDesc=`${i.errorDesc} - ${s}`,xa(St.API_FAIL,Tt.API,i)})}catch(a){}}function _r(e,t,a){try{if(!Ga())return;let n=_t(a);n=n.substring(0,120);let i=`statusCode-${a.statusCode}-${n}-api-${e}-${JSON.stringify(t)}`;ee("error","at comCatch/catch-save.js:37","catch api error "+i);let r=Wa(i);xa(St.API_ERROR,Tt.API,r)}catch(n){}}function $a(e,t,a){try{if(a.indexOf("tb_error_log")!=-1)return;let n=`${e} - ${t}`;a&&(n+=` - ${a}`),ee("error","at comCatch/catch-save.js:74","catch db "+n),hr(St.DB_PLUGIN,Tt.DB,n)}catch(n){}}function _t(e){if(!e)return"";let t=JSON.stringify(e);return(typeof t!="string"||t=="{}")&&(t=e.toString()),t}function Wa(e){return{identify:dt.md5(e),errorDesc:e,userDesc:De.getUserDesc(),actionDesc:De.getActionDesc(),environsDesc:De.getEnvironsDesc(),expTime:0}}function xa(e,t,a){gr(0,a.identify,e,t,a.userDesc,a.actionDesc,a.environsDesc,a.errorDesc,new Date().getTime(),a.expTime)}function hr(e,t,a){let n=[],i=new Date().getTime();if(i-getApp().globalData.catchApiLastReqTime<=mr)return;getApp().globalData.catchApiLastReqTime=i,n.push({grade:e,flag:t,user_desc:De.getUserDesc(),action_desc:De.getActionDesc(),environs_desc:De.getEnvironsDesc(),error_desc:a,create_time:i,createTimeStr:ya(i)});let r={log_list:n};z.request("/monitor/record-exception-log",r)}function Ar(){return new Promise(e=>{uni.request({url:"https://google.com",method:"GET",timeout:5e3,success(t){e(!0)},fail(t){e(t)}})})}var Dr=["/monitor/index","/chat/call/log","/chat/msg/mq-log","/user/sync-permission","/monitor/record-exception-log"],Zt=["/monitor/record-exception-log"],ea=5,Be={invoke(e,t){if(Dr.indexOf(e)!=-1)return;let a="";a+=`\u63A5\u53E3=${e};`,a+=`\u53C2\u6570=${JSON.stringify(t)}`,a+=`\u65F6\u95F4=${ya(new Date().getTime())}`,getApp().globalData.catchApiUrlList.push(`\u3010${a}\u3011`);let n=getApp().globalData.catchApiUrlList.length;n>ea&&(getApp().globalData.catchApiUrlList=getApp().globalData.catchApiUrlList.slice(n-ea))},error(e,t,a){Zt.indexOf(e)==-1&&getApp().globalData.network.isConnected&&(!a||typeof a.statusCode=="undefined"||_r(e,t,a))},fail(e,t){Zt.indexOf(e)==-1&&getApp().globalData.network.isConnected&&dr(e,t)}},br={INIT:1,OPEN:2,CALLBACK:3,SOCKET:4,LOGIN:5};function ta(){if(getApp().pubUnreadMy.moment>0){Ve(Ae.MY,getApp().pubUnreadMy.moment);return}Ve(Ae.MY,0),Gi(Ae.MY,getApp().pubUnreadMy.fans>0)}var f={PERMISSION:"permission",PERFECT_DATA:"perfect_data",REST:"rest",HOME_FILTER:"home_filter",GRID_GUIDE:"grid_guide",NOTIFY:"notify",HELLO:"hello",SHARE:"share",LANGUAGE_UP:"language_up",RAMADAN:"ramadan",MSG_DISTURB:"msg_disturb",CALL_DISTURB:"call_disturb",BAN:"ban",WARNING:"warning",HOME_SEX_FILTER:"home_sex_filter",CLUB_RESULT:"club_result",CLUB_DISBAND:"club_disband"},Er={[f.HOME_FILTER]:"seeking_sex_open_time",[f.GRID_GUIDE]:"dialog_show_time_grid_guide",[f.NOTIFY]:"dialog_show_time_notify",[f.HELLO]:"dialog_show_time_hello"},ht=-99,Ne=-100,yr={[f.HOME_FILTER]:1,[f.HOME_SEX_FILTER]:1,[f.GRID_GUIDE]:1,[f.NOTIFY]:2,[f.SHARE]:3,[f.HELLO]:4,[f.LANGUAGE_UP]:5,[f.RAMADAN]:6},Lt={[f.PERMISSION]:1,[f.PERFECT_DATA]:2,[f.REST]:3,[f.HOME_FILTER]:4,[f.HOME_SEX_FILTER]:4,[f.GRID_GUIDE]:4,[f.NOTIFY]:5,[f.SHARE]:7,[f.LANGUAGE_UP]:8};function Cr(e){return Lr(f.HOME_FILTER,21600)?!1:Vi(!1)!=e}function Sr(e){return K.isAndroid||e||Y(Nt(f.GRID_GUIDE))?!1:!Y("user_list_sort_"+getApp().globalData.uid)}function Va(){return va(R.NOTIFY)?!1:!Tr()}function Tr(){let e=Ei(`${f.NOTIFY}_show_status`);if(!C(e))return!0;let t=Y(Nt(f.NOTIFY));return!C(t)}function Nt(e){return`${Er[e]}_${getApp().globalData.uid}`}function Lr(e,t){let a=Y(Nt(e));if(!a)return!1;let n=new Date().getTime();return n<=a?!1:parseInt((n-a)/1e3)<=t}var aa=!1,me=!1,ne=0,Le={appDialogList:[],appDialogStop:!1,appDialogCurKey:"",appDialogHelloData:!1,appBanDialogList:[],appClubResultList:[],appDialogIsShowBan:!1,appBanDialogCurKey:"",appWarningDialogCurKey:"",appClubResultCurKey:""},Nr={setDialogHelloData(e,t){e.appDialogHelloData=t},setDialogCurKey(e,t){e.appDialogCurKey=t},setDialogList(e,t){e.appDialogList=t,e.appDialogList.sort((a,n)=>a.sort-n.sort)},sortDialogList(e){e.appDialogList.sort((t,a)=>t.sort-a.sort)},resetDialogItem(e,t){let a=e.appDialogList.findIndex(n=>n.key==t.key);a!=-1&&(e.appDialogList[a].hasExec=!1,e.appDialogList[a].delay=t.delay)},resetClubResultDialogItem(e,t){let a=e.appClubResultList.findIndex(n=>n.key==t.key);a!=-1&&(e.appClubResultList[a].hasExec=!1)},delDialogItem(e,t){C(e.appDialogList)||e.appDialogList.splice(t,1)},delDialogItemByKey(e,t){if(C(e.appDialogList))return;let a=e.appDialogList.findIndex(n=>n.key==t);a!=-1&&e.appDialogList.splice(a,1)},clearDialog(e){e.appDialogStop=!0,e.appDialogList=[]},executeDialog(e,t){if(e.appBanDialogCurKey||e.appWarningDialogCurKey||e.appClubResultCurKey||C(e.appDialogList)||e.appDialogStop)return;let a=e.appDialogList[0];C(a)||a.hasExec||a.isCanExecute&&(e.appDialogList[0].hasExec=!0,rt[a.funcName](a).then(()=>{e.appDialogCurKey="";let n=e.appDialogList.indexOf(a);n!=-1&&A("appDialog/delDialogItem",n),A("appDialog/executeDialog","execute then")}))},addDialog(e,t){let a=t.key;e.appDialogStop=!0;let n=e.appDialogList.findIndex(i=>i.key==a);if(n!=-1){if(e.appDialogList[n].isAdd){e.appDialogStop=!1,e.appDialogCurKey||A("appDialog/executeDialog");return}e.appDialogList[n].isAdd=!0,e.appDialogList[n].addTime=new Date().getTime(),e.appDialogList[n].isCanExecute=!0}else{let i=Ye()?1:2,r;switch(a){case f.HOME_FILTER:r=Pr(i,!0);break;case f.HELLO:r=na(t.delay);break;case f.MSG_DISTURB:r=Fr(t.delay);break;case f.CALL_DISTURB:r=Ur(t.delay);break;default:e.appDialogStop=!1,e.appDialogCurKey||A("appDialog/executeDialog");return}r.isAdd=!0,r.addTime=new Date().getTime(),e.appDialogList.push(r)}e.appDialogList.sort((i,r)=>i.sort==r.sort?r.addTime-i.addTime||(i.isCanExecute?Ne:0):i.sort-r.sort),!e.appDialogCurKey&&(e.appDialogCurKey=a,e.appDialogStop=!1,A("appDialog/executeDialog"))},addDialogHomeFilter(e,t){getApp().globalData.appCRE==0||!Cr(t)||A("appDialog/addDialog",{key:f.HOME_FILTER})},addDialogHomeSexFilter(e,t){getApp().globalData.appCRE!=0&&(A("appDialog/addDialog",{key:f.HOME_SEX_FILTER,value:t}),A("appDialog/sortDialogList"))},addDialogGridGuide(e,t){let a=e.appDialogList.findIndex(i=>i.key==f.GRID_GUIDE);if(Sr(t)){if(a==-1)return;A("appDialog/addDialog",{key:f.GRID_GUIDE})}else a!=-1&&A("appDialog/delDialogItem",a)},addDialogNotify(e,t){t&&!Va()||ae("/pagesDialog/open-sys-notice")},addDialogHello(e,t){if(getApp().globalData.appCRE==0||aa)return;aa=!0;let a=e.appDialogList[0];if(a&&a.key==f.SHARE){ne=30;let n=na(ne);n.sort=fe(Ye()?1:2,f.SHARE+1),n.isAdd=!0,n.addTime=new Date().getTime(),e.appDialogList.push(n),e.appDialogList.sort((i,r)=>i.sort==r.sort?r.addTime-i.addTime||(i.isCanExecute?Ne:0):i.sort-r.sort);return}ne=t,A("appDialog/addDialog",{key:f.HELLO,delay:t})},addDialogMsgDisturb(e,t){A("appDialog/addDialog",{key:f.MSG_DISTURB,delay:t})},addDialogCallDisturb(e,t){A("appDialog/addDialog",{key:f.CALL_DISTURB,delay:t})},delBanDialogItem(e){C(Le.appBanDialogList)||Le.appBanDialogList.splice(e,1)},delClubResultDialogItem(e){C(Le.appClubResultList)||Le.appClubResultList.splice(e,1)},addDialogBan(e,t){let a=Br(t);e.appDialogIsShowBan?uni.$emit("event_refresh_banned_data",t):(e.appBanDialogList.push(a),A("appDialog/sortBanWarningDialog"))},addDialogWarning(e,t){if(e.appBanDialogList.map(i=>i.sort).indexOf(Number(t.id))!=-1)return;let n;t.from_type==2?n=Gr(t):n=Hr(t),e.appBanDialogList.push(n),!(e.appBanDialogCurKey||e.appWarningDialogCurKey)&&A("appDialog/executeBanWarningDialog")},addDialogClubNoticeDialog(e,t){let a,n,i=e.appClubResultList.map(r=>r.key);t.type==vn.CHECK_RESULT?(n=f.CLUB_RESULT+"_"+t.club_id,i.indexOf(n)==-1&&(a=Wr(t))):(n=f.CLUB_DISBAND+"_"+t.club_id,i.indexOf(n)==-1&&(a=$r(t))),a&&e.appClubResultList.push(a),!(e.appBanDialogCurKey||e.appWarningDialogCurKey)&&(e.appClubResultCurKey||A("appDialog/executeClubNoticeDialog"))},executeBanWarningDialog(e){if(C(e.appBanDialogList)){A("appDialog/executeClubNoticeDialog");return}let t=e.appBanDialogList[0];if(C(t)||t.hasExec)return;let a=getApp().globalData.curCallId>Xt.WAITING;if(a){t.isBan&&uni.$emit("event_banned_close_chat");return}e.appBanDialogList[0].hasExec=!a||!t.isBan,e.appDialogIsShowBan=t.isBan,t.isBan?e.appBanDialogCurKey="ban":e.appWarningDialogCurKey="warning",rt[t.funcName](t).then(n=>{if(t.isBan){if(e.appBanDialogCurKey="",e.appDialogIsShowBan=!1,n==1){let i=e.appBanDialogList.indexOf(t);i!=-1&&A("appDialog/delBanDialogItem",i)}}else{e.appWarningDialogCurKey="";let i=e.appBanDialogList.indexOf(t);i!=-1&&A("appDialog/delBanDialogItem",i)}A("appDialog/executeBanWarningDialog","execute then")})},executeClubNoticeDialog(e,t){if(e.appBanDialogCurKey||e.appWarningDialogCurKey)return;if(C(e.appClubResultList)){A("appDialog/executeDialog");return}let a=e.appClubResultList[0];C(a)||a.hasExec||getApp().globalData.curCallId>Xt.WAITING||(e.appClubResultCurKey="club_result",e.appClubResultList[0].hasExec=!0,t&&t.delay&&(a.delay=t.delay),rt[a.funcName](a).then(()=>{e.appClubResultCurKey="";let i=e.appClubResultList.indexOf(a);i!=-1&&A("appDialog/delClubResultDialogItem",i),A("appDialog/executeClubNoticeDialog","execute then")}))},sortBanWarningDialog(e){let t=e.appBanDialogList.filter(n=>n.sort==ht),a=e.appBanDialogList.filter(n=>n.sort!=ht);a=a.sort((n,i)=>n.sort-i.sort),e.appBanDialogList=[...t,...a]}},Ir={init(a,n){return Pt(this,arguments,function*({state:e},t){ee("error","at store/modules/app-dialog.js:326","------> init dialog list, data ",t);let i=[];Ye()?i=Rr(t.data,t.homeViewSizeObj):i=wr(t.data,t.homeViewSizeObj),A("appDialog/setDialogList",i),A("appDialog/executeDialog")})}},Or={namespaced:!0,state:Le,mutations:Nr,actions:Ir};function wr(e,t){permissionGetAllStatus();let a=[],n=Ya(2,t,e.homeFilterSex);n&&a.push(n);let i=Ka(2,t);i&&a.push(i);let r=ja(2,e.share);r&&a.push(r);let s=qa(2);s&&a.push(s);let l=kr(2,e.notifyTips);return l&&a.push(l),a}function Rr(e,t){let a=[],n=vr(e.authList);n&&a.push(n);let i=Mr();i&&a.push(i);let r=Ya(2,t,e.homeFilterSex);r&&a.push(r);let s=Ka(1,t);s&&a.push(s);let l=5,o=ja(1,e.share,l);o&&a.push(o);let u=qa(1);return u&&a.push(u),a}function vr(e){return typeof e=="undefined"?null:{key:f.PERFECT_DATA,sort:Lt[f.PERFECT_DATA],delay:0,data:e,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecutePerfectData"}}function Mr(){return za()||!getApp().pubUser.is_rest?null:{key:f.REST,sort:Lt[f.REST],delay:0,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteRest"}}function Pr(e,t){return{key:f.HOME_FILTER,sort:fe(e,f.HOME_FILTER),delay:0,data:{},hasExec:!1,isCanExecute:t,addTime:new Date().getTime(),funcName:"_dialogExecuteHomeFilter"}}function Ya(e,t,a){return getApp().globalData.appCRE==0||!t||!t.filter?null:{key:f.HOME_SEX_FILTER,sort:fe(e,f.HOME_SEX_FILTER),delay:0,data:{value:a,size:t.filter},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteHomeSexFilter"}}function Ka(e,t){if(getApp().globalData.appCRE==0)return null;let a="grid";if(!t||!t[a])return null;let n={sizeList:[{key:a,size:t[a]}],from_type:1};return{key:f.GRID_GUIDE,sort:fe(e,f.GRID_GUIDE),delay:0,data:n,hasExec:!1,isCanExecute:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteGridGuide"}}function ja(e,t,a=5){return getApp().globalData.appCRE==0||C(t)||getApp().globalData.launchCount<3||Yi()?null:{key:f.SHARE,sort:fe(e,f.SHARE),delay:a,data:t,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteShare"}}function na(e){return{key:f.HELLO,sort:Ne,delay:e,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteHello"}}function qa(e){let t=Y("user_switch_language_status");if(t)return null;let a=gt(!1);if(t||C(a))return null;let n=Ni.map(s=>s.key),i=gt();if(n.indexOf(i)!=-1)return null;let r=La(!1);return n.indexOf(r)==-1?null:{key:f.LANGUAGE_UP,sort:fe(e,f.LANGUAGE_UP),delay:5,data:{},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteLanguageUp"}}function kr(e,t){return C(t)||Y(`stop_notify_${getApp().globalData.uid}_${t.time}`)||!va(R.NOTIFY)?null:{key:f.RAMADAN,sort:fe(e,f.RAMADAN),delay:5,data:t,hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteRamadan"}}function Fr(e){return{key:f.MSG_DISTURB,sort:Ne,delay:e,data:{from_type:1},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteMsgDisturb"}}function Ur(e){return{key:f.CALL_DISTURB,sort:Ne,delay:e,data:{from_type:2},hasExec:!1,isCanExecute:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteCallDisturb"}}function Br(e){return{key:f.BAN,sort:ht,data:e,delay:e.delay||0,hasExec:!1,isBan:!0,addTime:new Date().getTime(),funcName:"_dialogExecuteBan"}}function Hr(e){return{key:f.WARNING,sort:Number(e.id),data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteWarning"}}function Gr(e){return{key:f.WARNING,sort:Number(e.id),data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubWarning"}}function $r(e){return{key:f.CLUB_DISBAND+"_"+e.club_id,data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubDisband"}}function Wr(e){return{key:f.CLUB_RESULT+"_"+e.club_id,data:e,delay:e.delay||0,hasExec:!1,isBan:!1,addTime:new Date().getTime(),funcName:"_dialogExecuteClubResult"}}var rt={_dialogExecutePermission(e){return new Promise(t=>{let a=setTimeout(()=>{clearTimeout(a),Z(e.key,e.delay,0)&&(A("appDialog/setDialogCurKey",f.PERMISSION),Fi(1,!1,e.permissionRes).then(()=>{t()}))},e.delay*1e3)})},_dialogExecutePerfectData(e){return new Promise(t=>{A("appDialog/setDialogCurKey",f.PERFECT_DATA),B("/pagesDialog/complete-content-first",{},"DataCompleteContentFirst",e.data,{onCloseListener(){t()}})})},_dialogExecuteRest(){return new Promise(e=>{A("appDialog/setDialogCurKey",f.REST),Ua(H("tips"),H("anchor.rest.openedTip"),()=>{let t={user_info:{is_rest:0}};z.request("/user/update-info",t,!0,!0).then(a=>{ka("pubUser.is_rest",0),Fa(H("tips"),H("anchor.rest.turnOff"),()=>{e()},H("gotIt"))},()=>{e()})},()=>{e()},H("startWorking"))})},_dialogExecuteHomeFilter(e){return new Promise(t=>{Z(e.key,e.delay,Me.USER)&&(A("appDialog/setDialogCurKey",f.HOME_FILTER),ae("/pagesDialog/seeking-sex-guide",{},{onCloseChooseSeekingSex:a=>{uni.$emit("event_app_dialog_seeking_sex_after",a),t()}}))})},_dialogExecuteHomeSexFilter(e){return new Promise(t=>{Z(e.key,e.delay,Me.USER)&&(A("appDialog/setDialogCurKey",f.HOME_SEX_FILTER),ae(Te.homeFilterSexGuide,{params:JSON.stringify(e.data)},{onCloseListener:()=>{uni.$emit("event_handle_filter_seeking_sex"),t()}}))})},_dialogExecuteGridGuide(e){return new Promise(t=>{if(!Z(e.key,e.delay,Me.USER))return;A("appDialog/setDialogCurKey",f.GRID_GUIDE);let a=e.data.sizeList;ae("/pagesDialog/guide-cover",{list:encodeURIComponent(JSON.stringify(a))},{onCloseGuideCover:()=>{uni.$emit("event_app_dialog_close_guide",{from_type:e.data.from_type}),t()}})})},_dialogExecuteShare(e){return new Promise(t=>{let a=setTimeout(()=>{clearTimeout(a),Z(e.key,e.delay,0)&&(A("appDialog/setDialogCurKey",f.SHARE),B("/pagesDialog/share",{},"shareData",e.data.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteLanguageUp(e){return new Promise(t=>{let a=setTimeout(()=>{clearTimeout(a),Z(e.key,e.delay,0)&&(A("appDialog/setDialogCurKey",f.LANGUAGE_UP),qe("user_switch_language_status","1"),ae("/pagesDialog/switch-language-remind",{},{onCloseListener(){t()}}))},e.delay*1e3)})},_dialogExecuteRamadan(e){return new Promise(t=>{let a=setTimeout(()=>{clearTimeout(a),Z(e.key,e.delay,0)&&(A("appDialog/setDialogCurKey",f.RAMADAN),B("/pagesDialog/stop-notify",{},"dataStopNotify",e.data,{onCloseListener(){t()}}))},e.delay*1e3)})},_dialogExecuteHello(e){return new Promise(t=>{Yr().then(a=>{if(!a){t();return}if(me&&clearInterval(me),e.delay<=0||ne<=0){if(!Z(e.key,ne,0))return;A("appDialog/setDialogCurKey",f.HELLO),ia(a,()=>{t()});return}me=setInterval(()=>{if(!Z(e.key,ne,0)){me&&clearInterval(me);return}ne-=1,ne<=0&&(clearInterval(me),A("appDialog/setDialogCurKey",f.HELLO),ia(a,()=>{t()}))},1e3)})})},_dialogExecuteMsgDisturb(e){return new Promise(t=>{let a=setTimeout(()=>{clearTimeout(a),Z(e.key,e.delay,Me.MSG)&&(A("appDialog/setDialogCurKey",f.MSG_DISTURB),ae("/pagesDialog/disturb-def",e.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteCallDisturb(e){return new Promise(t=>{let a=setTimeout(()=>{clearTimeout(a),Z(e.key,e.delay,0)&&(A("appDialog/setDialogCurKey",f.CALL_DISTURB),ae("/pagesDialog/disturb-def",e.data,{onCloseListener:()=>{t()}}))},e.delay*1e3)})},_dialogExecuteBan(e){return new Promise(t=>{let a=e.exp_time;if(parseInt(new Date().getTime()/1e3)>a){t();return}let n=setTimeout(()=>{clearTimeout(n);let i=e.data.from_cache?1:0;B("/pagesDialog/banned",{from_cache:i},"bannedDialogData",e.data,{onCloseListener:r=>{t(r)}})},e.delay*1e3)})},_dialogExecuteWarning(e){return new Promise(t=>{let a=setTimeout(()=>{clearTimeout(a),B("/pagesDialog/warning",{},"warningDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubWarning(e){return new Promise(t=>{let a=setTimeout(()=>{clearTimeout(a),B(Te.clubWarning,{},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubDisband(e){return new Promise(t=>{let a=setTimeout(()=>{clearTimeout(a),B(Te.clubDisband,{},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})},_dialogExecuteClubResult(e){return new Promise(t=>{let a=setTimeout(()=>{clearTimeout(a),B(Te.clubStatusRemind,{from_type:2},"clubDialogData",e.data,{onCloseListener:()=>{t()}})},e.delay*1e3)})}};function Z(e,t,a){let n;return a==0?n=xr():n=Vr(a),getApp().globalData.isGestureBacking||getApp().globalData.s.state.appDialog.appDialogStop||za()||!n?(A("appDialog/resetDialogItem",{key:e,delay:t}),!1):!0}function za(){return getApp().globalData.uid==0}function xr(){return getCurrentPages().length==1}function Vr(e){let t=Je();return t.length==1&&t[0]==e}function fe(e,t){return e==1?Lt[t]:yr[t]}function Yr(){return new Promise(e=>{let t=getApp().globalData.s.state.appDialog.appDialogHelloData;t?e(t):z.request("/user/greet-coach-list",{},!1,!0).then(a=>{C(a.data)||C(a.data.list)?e(null):(A("appDialog/setDialogHelloData",a.data),e(a.data))},a=>{e(null)})})}function ia(e,t){B("/pagesDialog/quality-user",{},"qualityUserData",e,{onCloseListener:a=>{a&&Va()?setTimeout(()=>{A("appDialog/addDialogNotify")},2300):t()}})}var Kr={curSendCont:0,msgMtimeList:[]},jr=60,ra=6,qr={addSendCount(e){e.curSendCont+=1},clearSendCount(e){e.curSendCont=0},addMsgDisturbSaveCount(e,t){let a=e.msgMtimeList.length;if(e.msgMtimeList.length<ra&&(e.msgMtimeList.push(t/1e6),a=e.msgMtimeList.length),a>=ra){let n=e.msgMtimeList[0];e.msgMtimeList[a-1]-n<=jr&&A("appDialog/addDialogMsgDisturb",2),e.msgMtimeList.splice(0,1)}}},zr={namespaced:!0,state:Kr,mutations:qr},Jr={callMtimeList:[]},Xr=60,sa=3,Qr={addCallDisturbReceiveCount(e,t){let a=e.callMtimeList.length;if(e.callMtimeList.length<sa&&(e.callMtimeList.push(t/1e3),a=e.callMtimeList.length),a>=sa){let n=e.callMtimeList[0];e.callMtimeList[a-1]-n<=Xr&&A("appDialog/addDialogCallDisturb",2),e.callMtimeList.splice(0,1)}},clearCallDisturbReceiveMtime(e){e.callMtimeList=[]}},Zr={namespaced:!0,state:Jr,mutations:Qr},he=Y("pubData");he||(he={});var es=["pubToken","pubUser","pubAccount","pubPrivacy"],ts=function(e,t){if(es.indexOf(e)==-1)return;let a=Y("pubData");a=a||{},a[e]=t,qe("pubData",a),["pubUser","pubAccount"].indexOf(e)!=-1?uni.$emit("event_vuex_watch",e):uni.$emit(`event_vuex_watch_${e}`)},as=(0,la.createStore)({state:{pubToken:he.pubToken||"",pubUser:he.pubUser||{nickname:"",uid:0,avatar:""},pubAccount:he.pubAccount||{money:0},pubPrivacy:he.pubPrivacy||{},pubUnread:0,pubUnreadMy:{fans:0,moment:0,moment_type:1},pubI18n:"",pubAI18n:""},mutations:{setPubValue(e,t){let a=t.name.split("."),n="",i=a.length;if(i>=2){let r=e[a[0]];for(let s=1;s<i-1;s++)r=r[a[s]];r[a[i-1]]=t.value,n=a[0]}else e[t.name]=t.value,n=t.name;ts(n,e[n])},initUnread(e,t){let a=parseInt(t);a<0&&(a=0),e.pubUnread=a,Ve(Ae.MSG,e.pubUnread),uni.$emit("event_vuex_watch_pub_unread",a)},setUnread(e,t){let a=parseInt(t);if(isNaN(a)||a==0)return;let n=e.pubUnread+a;n<0&&(n=0),e.pubUnread=n,Ve(Ae.MSG,e.pubUnread),uni.$emit("event_vuex_watch_pub_unread",n)},initUnreadMy(e,t){let a=e.pubUnreadMy;typeof t.fans!="undefined"&&(a.fans=Number(t.fans)),typeof t.moment!="undefined"&&(a.moment=Number(t.moment)),typeof t.moment_type!="undefined"&&(a.moment_type=Number(t.moment_type)),e.pubUnreadMy=a,ta(),uni.$emit("event_vuex_watch_pubUnreadMy",a)},setUnreadMy(e,t){let a=e.pubUnreadMy;for(let n in t)a[n]=t[n];e.pubUnreadMy=a,ta(),uni.$emit("event_vuex_watch_pubUnreadMy",a)}},modules:{appDialog:Or,message:zr,call:Zr}}),de={handleCache(){let e=de.getCache();C(e)||(e=Si(e),!de.checkIsShow()&&(e.from_cache=1,A("appDialog/addDialogBan",e),A("appDialog/executeBanWarningDialog")))},checkIsShow(){return Sa()=="/pagesDialog/banned"},setCache(e){let t=JSON.stringify(e);qe(de.getCacheKey(),t)},getCache(){return Y(de.getCacheKey())},getCacheKey(){return`banned_data_${as.state.pubUser.uid}`},removeCache(){yt(de.getCacheKey())}},z={setToken(e){C(e)||ka("pubToken",e)},isLogin(){let e=getApp().globalData.s.state;return!C(e.pubToken)&&e.pubUser.uid},requestOutsourcing(e,t,a,n,i=!1){return z.requestBase(e,t,a,n,i,3)},requestManager(e,t,a,n,i=!1){return z.requestBase(e,t,a,n,i,2)},request(e,t,a,n,i=!1){return z.requestBase(e,t,a,n,i,1)},requestBase(e,t,a,n,i=!1,r){return new Promise((s,l)=>{let o=!1;try{o=getApp().globalData.s.state.pubToken}catch(y){ee("error","at common/api.js:35","request token catch "+JSON.stringify(y))}let u={"content-type":"application/json",ua:getApp().globalData.ua},g;r==1?(g=getApp().globalData.apiHost,o&&(u.auth=`Bearer ${o}`)):r==2?(g=getApp().globalData.pApiHost,o&&(u.Authorization=`Bearer ${o}`)):r==3&&(g=getApp().globalData.oApiHost,o&&(u.Authorization=`Bearer ${o}`));let _=!1;if(a)if(a=="refresh")_=!0;else{let y={mask:!0};typeof a=="string"&&(y.title=a),uni.showLoading(y)}Be.invoke(e,t);let D=us(t);uni.request({url:g+e,method:"POST",header:u,data:D,dataType:"json",timeout:1e4,complete(y){if(a&&uni.hideLoading(),ee("log","at common/api.js:74",`request ${e} obj ${JSON.stringify(t)}`),y.statusCode==200){let E=y.data;if(E.data&&typeof E.data.callback=="object"&&(z.handleCallback(E.data.callback),i))return ke;if(E.ok===99)return getApp().loginOut(),ke;if(E.ok==-98)return os(E.data),n&&l(E),ke;if(C(E.msg)||xi(E.msg),E.ok>0){s(E);return}n&&l(E)}else if(_&&uni.stopPullDownRefresh(),n)l(y),Be.error(e,t,y);else return Be.error(e,t,y),ke},fail(y){Be.fail(e,y)}})})},handleCallback(e){switch(e.func_name){case"alert":ns(e.func_data);break;case"open":is(e.func_data);break;case"vip_alert":B("/pages/vip/vip-dialog",null,"vipDialogData",e.func_data);break;case"recharge_alert":let t={fromType:e.func_data.from_type,diffCoin:e.func_data.diff_coin||0};t.order_source=typeof e.func_data.order_source=="undefined"?0:e.func_data.order_source,t.click_type=typeof e.func_data.click_type=="undefined"?0:e.func_data.click_type,B("/pages/coin/coin-dialog",t,"coinDialogData",e.func_data);break;case"close":ze();break;case"banned_alert":let a=e.func_data.exp_time;if(parseInt(new Date().getTime()/1e3)>a||(A("appDialog/addDialogBan",e.func_data),de.setCache(e.func_data),Sa()=="/pagesDialog/banned"))return;let i=setTimeout(()=>{clearTimeout(i),A("appDialog/executeBanWarningDialog")},e.delay*1e3);break;case"reconnect_mqtt":getApp().socketReconnect(zi.API_CALL_BACK,e.func_data);break;case"reload_route":getApp().handleSecret(e.func_data,br.CALLBACK,{});break;case"event":rs(e.func_data);break;case"api":ss(e.func_data);break;case"sensitive_alert":B("/pagesDialog/sensitive-check",null,"sensitiveData",e.func_data),uni.hideKeyboard();break;case"free_coins":B("/pagesDialog/coins-free",{coin:e.func_data.free_coins},"coinsFree",{},{});break}},accessLog(e,t){this.request("/other/access-log",{api_name:e,content:Fe(t)})},accessLogExtra(e,t,a){let n=`${Fe(t)} ${Fe(a)}`;this.request("/other/access-log",{api_name:e,content:n})},accessLogApi(e,t,a,n){let i=`url:${t} p:${JSON.stringify(a)} res ${Fe(n)}`;z.accessLog(e,i)}};function ns(e){let t=e.enter_func,a=e.cancel_title,n=e.enter_title,i=e.cancel_func,r=!C(a);uni.hideKeyboard(),uni.showModal({title:e.title,content:e.msg,showCancel:r,cancelText:r?a:H("cancel"),confirmText:n||H("ok"),complete(s){s.confirm?C(t)||z.handleCallback(t):s.cancel&&(C(i)||z.handleCallback(i))}})}function is(e){let t=e.page_name,a=e.data;t=="inside_web"?Qt(a.route,!0):t=="safari"?Qt(a.route,!1):t=="web"?ae(a.route):t=="native"?ls(a.route):t=="chat"&&(Je().indexOf("/pages/call/chat-view")==-1?Li(a.user_info):uni.$emit("event_no_connect_close_listener",{action:"chat_pri",user:a.user_info}))}function rs(e){let t=e.event_key;if(C(t))return;let a=e.data;C(a)?uni.$emit(t):uni.$emit(t,a)}function ss(e){if(e.type==1){let a={user_info:{is_rest:0}};z.request("/user/update-info",a,!0).then(()=>{getApp().pubUser.is_rest=0,Fa(H("tips"),H("anchorTurnedOffRest"),"",H("gotIt"))})}}function ls(e){return new Function("return "+e)()}function os(e){Je().indexOf("/pagesDialog/stop_taking")==-1&&(getApp().globalData.appStopTaking=!0,getApp().socketDisconnect(),B("/pagesDialog/stop_taking",{},"stopTakingData",e))}function us(e){try{C(e)&&(e={}),e.times=new Date().getTime();let t=Object.keys(e).sort(),a={};for(let i=0,r=t.length;i<r;i++)a[t[i]]=e[t[i]];let n=Ja(a).substr(1);return a.sign=dt.md5(`${dt.md5(n)}fMHjgD94yoc6TbB7sGoA`),a}catch(t){return e}}function Ja(e,t){if(e==null)return"";try{let a="",n=typeof e;if(n=="string"||n=="number")a+="&"+t+"="+Ti(e);else if(n=="boolean")a+="&"+t+"="+(e?1:0);else for(let i in e){let r=t==null?i:t+cs(i);a+=Ja(e[i],r)}return a}catch(a){return""}}function cs(e){return`${encodeURIComponent("[")}${e}${encodeURIComponent("]")}`}var be=(e,t)=>{let a=e.__vccOpts||e;for(let[n,i]of t)a[n]=i;return a};var N=ge(Ce()),fs={"l-img":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"place-img":{"":{position:"absolute",top:0,left:0}},"text-place":{"":{color:"#999999",position:"absolute",bottom:0,textAlign:"center"}}},ps={name:"LImg",emits:["click","onError","onLoad"],props:{src:{type:String,default:""},mode:{type:String,default:"aspectFill"},w:{type:String,default:"0"},h:{type:String,default:"0"},radius:{type:String,default:"0"},lazyLoad:{type:Boolean,default:!1},fade:{type:Boolean,default:!0},placeType:{type:Number,default:0},placeW:{type:String,default:""},placeFontSize:{type:[String,Boolean],default:""},placeBottom:{type:String,default:""},border:{type:String,default:""},otherStyle:{type:Object,default(){return{}}},click:{type:Boolean,default:!0},isGif:{type:Boolean,default:!1},needStyle:{type:[String,Number],default:0},useCache:{type:Boolean,default:!1},fitWH:{type:String,default:""}},data(){return{errorCount:1,path:"",refresh:!0,darkDir:"",isLoad:!1,fitStr:""}},watch:{src(){this.isLoad=!1,this.path=this.parse()}},computed:{placeSrc(){return this.placeType==1?"/static/img_load_s.png":this.placeType==2?"/static/img_load_b.png":""},placeViewStyle(){let e={width:this.placeW,height:this.placeW,position:"relative"};return this.placeBottom&&(e.marginBottom=this.placeBottom),e},placeFontSizeVal(){return this.placeFontSize===!1?"":this.placeFontSize?this.placeFontSize:this.placeType==2?"24rpx":"16rpx"},borderStyle(){if(this.border=="")return{};let e={},t=this.border.split(" ");return e.borderWidth=t[0],e.borderStyle=t[1],e.borderColor=t[2],e},viewStyle(){let e={width:this.w,minWidth:this.w,height:this.h,minHeight:this.h};return this.setRadius(e)},imgStyle(){let e={width:this.w,height:this.h};return e=Object.assign(e,this.otherStyle),this.setRadius(e)},ossPathOriginal(){return this.isGif?getApp().globalData.ossPath:getApp().globalData.ossPicPath}},methods:{$str:H,clickImg(e){this.click&&this.$emit("click",e)},setRadius(e){let t=this.radius.split(" ");return t.length<=1?e.borderRadius=this.radius:(e.borderTopLeftRadius=t[0],e.borderTopRightRadius=t[1],e.borderBottomRightRadius=t[2],e.borderBottomLeftRadius=t[3]),e},onLoadError(){if(this.path){if(this.path.startsWith("http")){if(this.errorCount>2){this.isError=!0,this.$emit("onError");return}this.errorCount+=1,this.refresh=!1,setTimeout(()=>{this.refresh=!0},500);return}this.path=this.ossPathOriginal+this.darkDir+this.src,Oa(this.darkDir+this.src)}},onLoad(){this.isLoad=!0,this.$emit("onLoad")},parse(){let e;if(e=0,this.src.startsWith("/static"))return this.src;if(this.src.startsWith("s/")){let t=getApp().getAppFilePath(this.darkDir+this.src,e);if(!C(t))return t}return this.useCache||e&&K.isAndroid?this.isGif?Xe(this.fitStr+this.darkDir+this.src):Ia(this.fitStr+this.darkDir+this.src):this.src.startsWith("file://")?this.src:this.src.startsWith("/var/mobile/")?"file://"+this.src:this.src.startsWith("/storage/")?this.src:this.ossPathOriginal+this.fitStr+this.darkDir+this.src}},created(){this.needStyle==1&&getApp().globalData.themeObj.style==Ba.DARK?this.darkDir="dark/":this.darkDir="",this.fitWH&&this.src.indexOf("fit-in")==-1&&(this.fitStr="fit-in/"+this.fitWH+"/"),this.path=this.parse()}};function gs(e,t,a,n,i,r){return(0,N.openBlock)(),(0,N.createElementBlock)("view",{class:"l-img",onClick:t[2]||(t[2]=(...s)=>r.clickImg&&r.clickImg(...s)),style:(0,N.normalizeStyle)([r.viewStyle,r.borderStyle]),renderWhole:!0},[(0,N.createElementVNode)("view",{class:"l-img",style:(0,N.normalizeStyle)([{position:"relative"},r.viewStyle])},[a.placeType&&!i.isLoad?((0,N.openBlock)(),(0,N.createElementBlock)("view",{key:0,style:(0,N.normalizeStyle)(r.placeViewStyle)},[(0,N.createElementVNode)("u-image",{src:r.placeSrc,style:(0,N.normalizeStyle)({width:a.placeW,height:a.placeW})},null,12,["src"]),r.placeFontSizeVal?((0,N.openBlock)(),(0,N.createElementBlock)("u-text",{key:0,class:"text-place",style:(0,N.normalizeStyle)({fontSize:r.placeFontSizeVal,width:a.placeW})},(0,N.toDisplayString)(r.$str("loading"))+"...",5)):(0,N.createCommentVNode)("",!0)],4)):(0,N.createCommentVNode)("",!0),i.refresh?((0,N.openBlock)(),(0,N.createElementBlock)("u-image",{key:1,onError:t[0]||(t[0]=(...s)=>r.onLoadError&&r.onLoadError(...s)),onLoad:t[1]||(t[1]=(...s)=>r.onLoad&&r.onLoad(...s)),src:i.path,mode:a.mode,lazyLoad:a.lazyLoad,fadeShow:a.fade,style:(0,N.normalizeStyle)([r.imgStyle,r.borderStyle]),class:"place-img"},null,44,["src","mode","lazyLoad","fadeShow"])):(0,N.createCommentVNode)("",!0)],4)],4)}var It=be(ps,[["render",gs],["styles",[fs]]]);var w=ge(Ce());var Ee=ge(Ce()),ms={emits:["onEvent"],props:{src:{type:String,default:""},autoPlay:{type:Boolean,default:!1},loops:{type:Number,default:0},repeatMode:{type:Number,default:1},frame:{type:Number,default:0},progress:{type:Number,default:0},speed:{type:Number,default:1},eventStep:{type:Boolean,default:!1}},data(){return{refView:null}},computed:{params(){return{src:Ta(Xe(this.src),!1),autoPlay:this.autoPlay,loops:this.loops,repeatMode:this.repeatMode,initFrame:this.frame,progress:this.progress,speed:this.speed,eventStep:this.eventStep}}},methods:{event(e){C(e)||typeof e.detail=="undefined"||this.$emit("onEvent",e.detail)},play(){this.$refs.lottie&&this.$refs.lottie.play()},pause(){this.$refs.lottie&&this.$refs.lottie.pause()},resume(){this.$refs.lottie&&this.$refs.lottie.resume()},stop(){this.$refs.lottie&&this.$refs.lottie.stop()},setFrame(e){this.$refs.lottie&&this.$refs.lottie.setFrame(e)},setProgress(e){this.$refs.lottie&&this.$refs.lottie.setProgress(e)},setSpeed(e){this.$refs.lottie&&this.$refs.lottie.setSpeed(e)},setEventStep(e){this.$refs.lottie&&this.$refs.lottie.setEventStep(e)}},created(){}};function ds(e,t,a,n,i,r){let s=(0,Ee.resolveComponent)("nav-anim-lottie");return(0,Ee.openBlock)(),(0,Ee.createBlock)(s,{ref:"lottie",params:r.params,onEvent:r.event},null,8,["params","onEvent"])}var Xa=be(ms,[["render",ds]]);var Fs=ge(at()),Qa=getApp().globalData.window,_s=oa("animation"),hs={data(){return{isShow:!1,sW:Qa.width,sH:Qa.height,isShowClose:!0,isAnimLoad:!1,hasClickClose:!1}},computed:{},methods:{clickClose(){this.hasClickClose=!0,ze()},onEvent(e){if(e.status==4){if(K.isAndroid&&!this.isAnimLoad)return;this.hasClickClose||ze()}else e.status==2?_s.transition(this.$refs.refBg,{styles:{opacity:0},duration:1e3,timingFunction:"linear",needLayout:!1,delay:1e3},()=>{this.isShowClose=!1}):e.status==1&&(this.isAnimLoad=!0)}},onBackPress(e){if(e.from=="backbutton")return!0},onReady(){},onLoad(){},onUnload(){}},As={"view-base":{"":{backgroundColor:"rgba(0,0,0,0)",flexDirection:"column",justifyContent:"center",alignItems:"center"}},"view-bg":{"":{backgroundColor:"rgba(0,0,0,0.7)",position:"absolute",top:0,left:0}}},Ds={mixins:[hs],components:{Lottie:Xa,LImg:It}};function bs(e,t,a,n,i,r){let s=(0,w.resolveComponent)("lottie"),l=ua((0,w.resolveDynamicComponent)("l-img"),It);return(0,w.openBlock)(),(0,w.createElementBlock)("scroll-view",{scrollY:!0,showScrollbar:!0,enableBackToTop:!0,bubble:"true",style:{flexDirection:"column"}},[(0,w.createElementVNode)("view",{class:"view-base",style:(0,w.normalizeStyle)({width:`${e.sW}px`,height:`${e.sH}px`})},[(0,w.createElementVNode)("view",{ref:"refBg",class:"view-bg",style:(0,w.normalizeStyle)({width:`${e.sW}px`,height:`${e.sH}px`})},null,4),(0,w.createVNode)(s,{ref:"refLottie",src:"s/user/rocket_fly_2.json",eventStep:!0,onOnEvent:e.onEvent,"auto-play":!0,style:(0,w.normalizeStyle)([{width:`${e.sW}px`,height:`${e.sH}px`},{position:"absolute"}])},null,8,["onOnEvent","style"]),e.isShowClose?((0,w.openBlock)(),(0,w.createBlock)(l,{key:0,onClick:e.clickClose,src:"s/pub/close_bg_gray.png",w:"60rpx",h:"60rpx",style:{position:"absolute",bottom:"220rpx"}},null,8,["onClick"])):(0,w.createCommentVNode)("",!0)],4)])}var Ze=be(Ds,[["render",bs],["styles",[As]]]);var Ot=plus.webview.currentWebview();if(Ot){let e=parseInt(Ot.id),t="pagesDialog/anim-rocket",a={};try{a=JSON.parse(Ot.__query__)}catch(i){}Ze.mpType="page";let n=Vue.createPageApp(Ze,{$store:getApp({allowDefault:!0}).$store,__pageId:e,__pagePath:t,__pageQuery:a});n.provide("__globalStyles",Vue.useCssStyles([...__uniConfig.styles,...Ze.styles||[]])),n.mount("#root")}})();
/*!
  * @intlify/shared v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/message-resolver v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/runtime v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/message-compiler v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * @intlify/core-base v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
/*!
  * vue-i18n v9.1.9
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */
