"use weex:vue";

if (typeof Promise !== 'undefined' && !Promise.prototype.finally) {
  Promise.prototype.finally = function(callback) {
    const promise = this.constructor
    return this.then(
      value => promise.resolve(callback()).then(() => value),
      reason => promise.resolve(callback()).then(() => {
        throw reason
      })
    )
  }
};

if (typeof uni !== 'undefined' && uni && uni.requireGlobal) {
  const global = uni.requireGlobal()
  ArrayBuffer = global.ArrayBuffer
  Int8Array = global.Int8Array
  Uint8Array = global.Uint8Array
  Uint8ClampedArray = global.Uint8ClampedArray
  Int16Array = global.Int16Array
  Uint16Array = global.Uint16Array
  Int32Array = global.Int32Array
  Uint32Array = global.Uint32Array
  Float32Array = global.Float32Array
  Float64Array = global.Float64Array
  BigInt64Array = global.BigInt64Array
  BigUint64Array = global.BigUint64Array
};


(()=>{var et=Object.create;var O=Object.defineProperty;var it=Object.getOwnPropertyDescriptor;var rt=Object.getOwnPropertyNames;var st=Object.getPrototypeOf,ot=Object.prototype.hasOwnProperty;var nt=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var at=(t,e,i,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of rt(e))!ot.call(t,a)&&a!==i&&O(t,a,{get:()=>e[a],enumerable:!(r=it(e,a))||r.enumerable});return t};var A=(t,e,i)=>(i=t!=null?et(st(t)):{},at(e||!t||!t.__esModule?O(i,"default",{value:t,enumerable:!0}):i,t));var v=nt((vt,z)=>{z.exports=Vue});var wt=A(v());function w(t,e,...i){uni.__log__?uni.__log__(t,e,...i):console[t].apply(console,[...i,e])}var L=(t,e)=>{let i=t.__vccOpts||t;for(let[r,a]of e)i[r]=a;return i};var U={zT:2,appId:plus.runtime.appid,appV:parseInt(plus.runtime.version.split(".").join("")),isAndroid:plus.os.name=="Android"};function J(t){return new Promise((e,i)=>{uni.downloadFile({url:t}).then(r=>!r||r.statusCode!=200||!r.tempFilePath?(i(),new Promise(()=>{})):uni.saveFile({tempFilePath:r.tempFilePath})).then(r=>{!r||!r.savedFilePath?i():e(r.savedFilePath)}).catch(r=>{w("error","at common/common.js:78","downloadFile error "+JSON.stringify(r))})})}function b(t){return typeof t=="undefined"||t==null||t==""}var Ct=new Promise(()=>{});function H(t,e=!0){return t.startsWith("http")?t:t.startsWith("file://")?e?t:t.replace("file://",""):t.startsWith("/storage/")||t.startsWith("/var/mobile/")?e?`file://${t}`:t:t.startsWith("_doc/uniapp")?e?t:plus.io.convertLocalFileSystemURL(t):t.indexOf("apps/__UNI")!=-1?t:!1}function M(t){function e(s,n,l){for(;0<l--;)s.push(n)}function i(s,n){return s<<n|s>>>32-n}function r(s,n,l){return s^n^l}function a(s,n){var l=(n&65535)+(s&65535),u=(n>>>16)+(s>>>16)+(l>>>16);return(u&65535)<<16|l&65535}var o="0123456789abcdef";return function(s){for(var n=[],l=s.length*4,u,p=0;p<l;p++)u=s[p>>2]>>(3-p%4)*8,n.push(o.charAt(u>>4&15)+o.charAt(u&15));return n.join("")}(function(s,n){var l,u,p,d,P,Y=s.length,C=1732584193,x=4023233417,W=2562383102,N=271733878,F=3285377520,_=[];e(_,1518500249,20),e(_,1859775393,20),e(_,2400959708,20),e(_,3395469782,20),s[n>>5]|=128<<24-n%32,s[(n+65>>9<<4)+15]=n;for(var k=0;k<Y;k+=16){l=C,u=x,p=W,d=N,P=F;for(var h=0,S=[];h<80;h++){S[h]=h<16?s[h+k]:i(S[h-3]^S[h-8]^S[h-14]^S[h-16],1);var Z=function(m,g,y,E,I){var R=(I&65535)+(m&65535)+(g&65535)+(y&65535)+(E&65535),tt=(I>>>16)+(m>>>16)+(g>>>16)+(y>>>16)+(E>>>16)+(R>>>16);return(tt&65535)<<16|R&65535}(h<20?function(m,g,y){return m&g^~m&y}(u,p,d):h<40?r(u,p,d):h<60?function(m,g,y){return m&g^m&y^g&y}(u,p,d):r(u,p,d),P,_[h],S[h],i(l,5));P=d,d=p,p=i(u,30),u=l,l=Z}C=a(C,l),x=a(x,u),W=a(W,p),N=a(N,d),F=a(F,P)}return[C,x,W,N,F]}(function(s){for(var n=[],l=255,u=s.length*8,p=0;p<u;p+=8)n[p>>5]|=(s.charCodeAt(p/8)&l)<<24-p%32;return n}(t).slice(),t.length*8))}function lt(t,e,i=!1,r=null){let a=B(t,i);r?uni.setStorage({key:a,data:e,success:r}):uni.setStorageSync(a,e)}function j(t,e=!1,i=null){let r=B(t,e);if(i)uni.getStorage({key:r,success:i});else return uni.getStorageSync(r)}function G(t,e=!1){uni.removeStorage({key:B(t,e)})}function B(t,e){return e?`_s_${t}`:`s_${t}`}function K(t,e,i=!0){return q(getApp().globalData.ossPicPath,t,e,i)}function T(t,e,i=!0){return q(getApp().globalData.ossPath,t,e,i)}function X(t){if(b(t)||t.startsWith("http"))return;let i=`img_${M(t)}`,r=j(i);G(i),r&&uni.removeSavedFile({filePath:r})}function q(t,e,i,r=!0){if(b(e))return"";if(e.startsWith("http")||e.startsWith("file://"))return e;if(e.startsWith("/var/mobile/"))return"file://"+e;if(e.startsWith("/storage/"))return e;let o=`img_${M(e)}`,s=j(o);if(s){let l={filePath:s,fail(u){ft(`\u7F13\u5B58\u68C0\u6D4B\u5931\u8D25${e}`,u),G(o),typeof i=="function"&&i(t+e)},success(u){}};return typeof i=="function"&&(l.success=function(){i(s)}),uni.getFileInfo(l),s}let n=t+e;return getApp().globalData.picCacheObj[o]||(getApp().globalData.picCacheObj[o]=1,w("error","at common/cache.js:105","------> \u7F13\u5B58\u5730\u5740 "+e),typeof i=="function"&&!r&&i(n),J(n).then(l=>{lt(o,l),typeof i=="function"&&r&&i(l),delete getApp().globalData.picCacheObj[o]}).catch(()=>{})),n}function ft(t,e){w("error","at common/cache.js:117",`cache ${t}`,e)}var c=A(v());var ct={"l-img":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"place-img":{"":{position:"absolute",top:0,left:0}}},ut={name:"LImg",emits:["click","onError","onLoad"],props:{src:{type:String,default:""},mode:{type:String,default:"aspectFill"},w:{type:String,default:"0"},h:{type:String,default:"0"},radius:{type:String,default:"0"},lazyLoad:{type:Boolean,default:!1},fade:{type:Boolean,default:!0},placeType:{type:Number,default:0},placeW:{type:String,default:""},placeFontSize:{type:[String,Boolean],default:""},placeBottom:{type:String,default:""},border:{type:String,default:""},otherStyle:{type:Object,default(){return{}}},click:{type:Boolean,default:!0},isGif:{type:Boolean,default:!1},needStyle:{type:[String,Number],default:0},useCache:{type:Boolean,default:!1},fitWH:{type:String,default:""},isStatic:{type:Number,default:0}},data(){return{errorCount:1,path:"",refresh:!0,darkDir:"",isLoad:!1,fitStr:""}},watch:{src(){this.isLoad=!1,this.path=this.parse()}},computed:{placeSrc(){return this.placeType==1?"/static/img_load_s.png":this.placeType==2?"/static/img_load_b.png":""},placeViewStyle(){let t={width:this.placeW,height:this.placeW,position:"relative"};return this.placeBottom&&(t.marginBottom=this.placeBottom),t},placeFontSizeVal(){return this.placeFontSize===!1?"":this.placeFontSize?this.placeFontSize:this.placeType==2?"24rpx":"16rpx"},borderStyle(){if(this.border=="")return{};let t={},e=this.border.split(" ");return t.borderWidth=e[0],t.borderStyle=e[1],t.borderColor=e[2],t},viewStyle(){let t={width:this.w,minWidth:this.w,height:this.h,minHeight:this.h};return this.setRadius(t)},imgStyle(){let t={width:this.w,height:this.h};return t=Object.assign(t,this.otherStyle),this.setRadius(t)},ossPathOriginal(){return this.isGif?getApp().globalData.ossPath:getApp().globalData.ossPicPath}},methods:{clickImg(t){this.click&&this.$emit("click",t)},setRadius(t){let e=this.radius.split(" ");return e.length<=1?t.borderRadius=this.radius:(t.borderTopLeftRadius=e[0],t.borderTopRightRadius=e[1],t.borderBottomRightRadius=e[2],t.borderBottomLeftRadius=e[3]),t},onLoadError(){if(this.path){if(this.path.startsWith("http")){if(this.errorCount>2){this.isError=!0,this.$emit("onError");return}this.errorCount+=1,this.refresh=!1,setTimeout(()=>{this.refresh=!0},500);return}this.path=this.ossPathOriginal+this.darkDir+this.src,X(this.darkDir+this.src)}},onLoad(){this.isLoad=!0,this.$emit("onLoad")},parse(){if(this.isStatic)return this.src;let t;return t=0,this.src.startsWith("/static")?this.src:this.useCache||t&&U.isAndroid?this.isGif?T(this.fitStr+this.darkDir+this.src):K(this.fitStr+this.darkDir+this.src):this.src.startsWith("file://")?this.src:this.src.startsWith("/var/mobile/")?"file://"+this.src:this.src.startsWith("/storage/")?this.src:this.ossPathOriginal+this.fitStr+this.darkDir+this.src}},created(){this.fitWH&&this.src.indexOf("fit-in")==-1&&(this.fitStr="fit-in/"+this.fitWH+"/"),this.path=this.parse()}};function pt(t,e,i,r,a,o){return(0,c.openBlock)(),(0,c.createElementBlock)("view",{class:"l-img",onClick:e[2]||(e[2]=(...s)=>o.clickImg&&o.clickImg(...s)),style:(0,c.normalizeStyle)([o.viewStyle,o.borderStyle]),renderWhole:!0},[(0,c.createElementVNode)("view",{class:"l-img",style:(0,c.normalizeStyle)([{position:"relative"},o.viewStyle])},[i.placeType&&!a.isLoad?((0,c.openBlock)(),(0,c.createElementBlock)("view",{key:0,style:(0,c.normalizeStyle)(o.placeViewStyle)},[(0,c.createElementVNode)("u-image",{src:o.placeSrc,style:(0,c.normalizeStyle)({width:i.placeW,height:i.placeW})},null,12,["src"])],4)):(0,c.createCommentVNode)("",!0),a.refresh?((0,c.openBlock)(),(0,c.createElementBlock)("u-image",{key:1,onError:e[0]||(e[0]=(...s)=>o.onLoadError&&o.onLoadError(...s)),onLoad:e[1]||(e[1]=(...s)=>o.onLoad&&o.onLoad(...s)),src:a.path,mode:i.mode,lazyLoad:i.lazyLoad,fadeShow:i.fade,style:(0,c.normalizeStyle)([o.imgStyle,o.borderStyle]),class:"place-img"},null,44,["src","mode","lazyLoad","fadeShow"])):(0,c.createCommentVNode)("",!0)],4)],4)}var Q=L(ut,[["render",pt],["styles",[ct]]]);var f=A(v());var Vt=A(v());function V(t){return plus.io.convertLocalFileSystemURL(t)}var ht={emits:["onEvent"],props:{src:{type:String,default:""},autoPlay:{type:Boolean,default:!1},loops:{type:Number,default:0},repeatMode:{type:Number,default:1},frame:{type:Number,default:0},progress:{type:Number,default:0},speed:{type:Number,default:1},eventStep:{type:Boolean,default:!1},scaleX:{type:String,default:""}},data(){return{refView:null}},computed:{params(){return{src:H(T(this.src),!1),autoPlay:this.autoPlay,loops:this.loops,repeatMode:this.repeatMode,initFrame:this.frame,progress:this.progress,speed:this.speed,eventStep:this.eventStep,scaleX:this.scaleX}}},methods:{event(t){b(t)||typeof t.detail=="undefined"||this.$emit("onEvent",t.detail)},play(t){this.$refs.lottie&&this.$refs.lottie.play(t||"")},pause(){this.$refs.lottie&&this.$refs.lottie.pause()},resume(){this.$refs.lottie&&this.$refs.lottie.resume()},stop(){this.$refs.lottie&&this.$refs.lottie.stop()},setFrame(t){this.$refs.lottie&&this.$refs.lottie.setFrame(t)},setProgress(t){this.$refs.lottie&&this.$refs.lottie.setProgress(t)},setSpeed(t){this.$refs.lottie&&this.$refs.lottie.setSpeed(t)},setEventStep(t){this.$refs.lottie&&this.$refs.lottie.setEventStep(t)}},created(){}};function dt(t,e,i,r,a,o){let s=(0,f.resolveComponent)("nav-anim-lottie");return(0,f.openBlock)(),(0,f.createBlock)(s,{ref:"lottie",params:o.params,onEvent:o.event},null,8,["params","onEvent"])}var mt=L(ht,[["render",dt]]),gt={"center-between":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}}},yt={components:{LImg:Q,Lottie:mt},data(){return{lottieType:1,imgW:getApp().globalData.window.width*.784-uni.upx2px(40)}},computed:{lottiePath(){return V(this.lottieType==1?"/static/line-1.json":"/static/line-9.json")},svgPath(){return V("/static/anima-1.svg")}},methods:{click3(){this.lottieType=this.lottieType==1?2:1,console("this.lottiePath->",this.lottiePath),this.$refs.lottieRef.play(this.lottiePath)}},onLoad(t){}};function St(t,e,i,r,a,o){let s=(0,f.resolveComponent)("lottie"),n=(0,f.resolveComponent)("button");return(0,f.openBlock)(),(0,f.createElementBlock)("scroll-view",{scrollY:!0,showScrollbar:!0,enableBackToTop:!0,bubble:"true",style:{flexDirection:"column"}},[(0,f.createElementVNode)("view",{style:{flex:"1"}},[(0,f.createVNode)(s,{ref:"lottieRef",src:o.lottiePath,style:(0,f.normalizeStyle)({width:`${a.imgW}px`,height:"108rpx"}),loops:-1,"auto-play":!0,"scale-x":"1.42"},null,8,["src","style"]),(0,f.createVNode)(n,{onClick:o.click3,style:{"margin-top":"20px"}},{default:(0,f.withCtx)(()=>[(0,f.createTextVNode)("\u53D8\u66F4Lottie\u52A8\u753B")]),_:1},8,["onClick"])])])}var D=L(yt,[["render",St],["styles",[gt]]]);var $=plus.webview.currentWebview();if($){let t=parseInt($.id),e="pagesPub/lottie-view",i={};try{i=JSON.parse($.__query__)}catch(a){}D.mpType="page";let r=Vue.createPageApp(D,{$store:getApp({allowDefault:!0}).$store,__pageId:t,__pagePath:e,__pageQuery:i});r.provide("__globalStyles",Vue.useCssStyles([...__uniConfig.styles,...D.styles||[]])),r.mount("#root")}})();
