"use weex:vue";

if (typeof Promise !== 'undefined' && !Promise.prototype.finally) {
  Promise.prototype.finally = function(callback) {
    const promise = this.constructor
    return this.then(
      value => promise.resolve(callback()).then(() => value),
      reason => promise.resolve(callback()).then(() => {
        throw reason
      })
    )
  }
};

if (typeof uni !== 'undefined' && uni && uni.requireGlobal) {
  const global = uni.requireGlobal()
  ArrayBuffer = global.ArrayBuffer
  Int8Array = global.Int8Array
  Uint8Array = global.Uint8Array
  Uint8ClampedArray = global.Uint8ClampedArray
  Int16Array = global.Int16Array
  Uint16Array = global.Uint16Array
  Int32Array = global.Int32Array
  Uint32Array = global.Uint32Array
  Float32Array = global.Float32Array
  Float64Array = global.Float64Array
  BigInt64Array = global.BigInt64Array
  BigUint64Array = global.BigUint64Array
};


(()=>{var te=Object.create;var O=Object.defineProperty;var ie=Object.getOwnPropertyDescriptor;var re=Object.getOwnPropertyNames;var se=Object.getPrototypeOf,oe=Object.prototype.hasOwnProperty;var ae=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ne=(e,t,i,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of re(t))!oe.call(e,l)&&l!==i&&O(e,l,{get:()=>t[l],enumerable:!(r=ie(t,l))||r.enumerable});return e};var W=(e,t,i)=>(i=e!=null?te(se(e)):{},ne(t||!e||!e.__esModule?O(i,"default",{value:e,enumerable:!0}):i,e));var L=ae((Le,z)=>{z.exports=Vue});var Pe=W(L());function v(e,t,...i){uni.__log__?uni.__log__(e,t,...i):console[e].apply(console,[...i,t])}var _=(e,t)=>{let i=e.__vccOpts||e;for(let[r,l]of t)i[r]=l;return i};var U={zT:2,appId:plus.runtime.appid,appV:parseInt(plus.runtime.version.split(".").join("")),isAndroid:plus.os.name=="Android"};function J(e){return new Promise((t,i)=>{uni.downloadFile({url:e}).then(r=>!r||r.statusCode!=200||!r.tempFilePath?(i(),new Promise(()=>{})):uni.saveFile({tempFilePath:r.tempFilePath})).then(r=>{!r||!r.savedFilePath?i():t(r.savedFilePath)}).catch(r=>{v("error","at common/common.js:78","downloadFile error "+JSON.stringify(r))})})}function w(e){return typeof e=="undefined"||e==null||e==""}var Ne=new Promise(()=>{});function M(e,t=!0){return e.startsWith("http")?e:e.startsWith("file://")?t?e:e.replace("file://",""):e.startsWith("/storage/")||e.startsWith("/var/mobile/")?t?`file://${e}`:e:e.startsWith("_doc/uniapp")?t?e:plus.io.convertLocalFileSystemURL(e):e.indexOf("apps/__UNI")!=-1?e:!1}function H(e){function t(s,n,f){for(;0<f--;)s.push(n)}function i(s,n){return s<<n|s>>>32-n}function r(s,n,f){return s^n^f}function l(s,n){var f=(n&65535)+(s&65535),p=(n>>>16)+(s>>>16)+(f>>>16);return(p&65535)<<16|f&65535}var o="0123456789abcdef";return function(s){for(var n=[],f=s.length*4,p,u=0;u<f;u++)p=s[u>>2]>>(3-u%4)*8,n.push(o.charAt(p>>4&15)+o.charAt(p&15));return n.join("")}(function(s,n){var f,p,u,d,P,Y=s.length,C=1732584193,x=4023233417,$=2562383102,N=271733878,k=3285377520,b=[];t(b,1518500249,20),t(b,1859775393,20),t(b,2400959708,20),t(b,3395469782,20),s[n>>5]|=128<<24-n%32,s[(n+65>>9<<4)+15]=n;for(var V=0;V<Y;V+=16){f=C,p=x,u=$,d=N,P=k;for(var h=0,S=[];h<80;h++){S[h]=h<16?s[h+V]:i(S[h-3]^S[h-8]^S[h-14]^S[h-16],1);var Z=function(m,g,y,D,R){var I=(R&65535)+(m&65535)+(g&65535)+(y&65535)+(D&65535),ee=(R>>>16)+(m>>>16)+(g>>>16)+(y>>>16)+(D>>>16)+(I>>>16);return(ee&65535)<<16|I&65535}(h<20?function(m,g,y){return m&g^~m&y}(p,u,d):h<40?r(p,u,d):h<60?function(m,g,y){return m&g^m&y^g&y}(p,u,d):r(p,u,d),P,b[h],S[h],i(f,5));P=d,d=u,u=i(p,30),p=f,f=Z}C=l(C,f),x=l(x,p),$=l($,u),N=l(N,d),k=l(k,P)}return[C,x,$,N,k]}(function(s){for(var n=[],f=255,p=s.length*8,u=0;u<p;u+=8)n[u>>5]|=(s.charCodeAt(u/8)&f)<<24-u%32;return n}(e).slice(),e.length*8))}function le(e,t,i=!1,r=null){let l=A(e,i);r?uni.setStorage({key:l,data:t,success:r}):uni.setStorageSync(l,t)}function X(e,t=!1,i=null){let r=A(e,t);if(i)uni.getStorage({key:r,success:i});else return uni.getStorageSync(r)}function j(e,t=!1){uni.removeStorage({key:A(e,t)})}function A(e,t){return t?`_s_${e}`:`s_${e}`}function q(e,t,i=!0){return K(getApp().globalData.ossPicPath,e,t,i)}function E(e,t,i=!0){return K(getApp().globalData.ossPath,e,t,i)}function G(e){if(w(e)||e.startsWith("http"))return;let i=`img_${H(e)}`,r=X(i);j(i),r&&uni.removeSavedFile({filePath:r})}function K(e,t,i,r=!0){if(w(t))return"";if(t.startsWith("http")||t.startsWith("file://"))return t;if(t.startsWith("/var/mobile/"))return"file://"+t;if(t.startsWith("/storage/")||t.startsWith("/data/"))return t;let o=`img_${H(t)}`,s=X(o);if(s){let f={filePath:s,fail(p){fe(`\u7F13\u5B58\u68C0\u6D4B\u5931\u8D25${t}`,p),j(o),typeof i=="function"&&i(e+t)},success(p){}};return typeof i=="function"&&(f.success=function(){i(s)}),uni.getFileInfo(f),s}let n=e+t;return getApp().globalData.picCacheObj[o]||(getApp().globalData.picCacheObj[o]=1,v("error","at common/cache.js:107","------> \u7F13\u5B58\u5730\u5740 "+t),typeof i=="function"&&!r&&i(n),J(n).then(f=>{le(o,f),typeof i=="function"&&r&&i(f),delete getApp().globalData.picCacheObj[o]}).catch(()=>{})),n}function fe(e,t){v("error","at common/cache.js:119",`cache ${e}`,t)}var c=W(L());var ce={"l-img":{"":{flexDirection:"row",alignItems:"center",justifyContent:"center"}},"place-img":{"":{position:"absolute",top:0,left:0}}},pe={name:"LImg",emits:["click","onError","onLoad"],props:{src:{type:String,default:""},mode:{type:String,default:"aspectFill"},w:{type:String,default:"0"},h:{type:String,default:"0"},radius:{type:String,default:"0"},lazyLoad:{type:Boolean,default:!1},fade:{type:Boolean,default:!0},placeType:{type:Number,default:0},placeW:{type:String,default:""},placeFontSize:{type:[String,Boolean],default:""},placeBottom:{type:String,default:""},border:{type:String,default:""},otherStyle:{type:Object,default(){return{}}},click:{type:Boolean,default:!0},isGif:{type:Boolean,default:!1},needStyle:{type:[String,Number],default:0},useCache:{type:Boolean,default:!1},fitWH:{type:String,default:""},isStatic:{type:Number,default:0}},data(){return{errorCount:1,path:"",refresh:!0,darkDir:"",isLoad:!1,fitStr:""}},watch:{src(){this.isLoad=!1,this.path=this.parse()}},computed:{placeSrc(){return this.placeType==1?"/static/img_load_s.png":this.placeType==2?"/static/img_load_b.png":""},placeViewStyle(){let e={width:this.placeW,height:this.placeW,position:"relative"};return this.placeBottom&&(e.marginBottom=this.placeBottom),e},placeFontSizeVal(){return this.placeFontSize===!1?"":this.placeFontSize?this.placeFontSize:this.placeType==2?"24rpx":"16rpx"},borderStyle(){if(this.border=="")return{};let e={},t=this.border.split(" ");return e.borderWidth=t[0],e.borderStyle=t[1],e.borderColor=t[2],e},viewStyle(){let e={width:this.w,minWidth:this.w,height:this.h,minHeight:this.h};return this.setRadius(e)},imgStyle(){let e={width:this.w,height:this.h};return e=Object.assign(e,this.otherStyle),this.setRadius(e)},ossPathOriginal(){return this.isGif?getApp().globalData.ossPath:getApp().globalData.ossPicPath}},methods:{clickImg(e){this.click&&this.$emit("click",e)},setRadius(e){let t=this.radius.split(" ");return t.length<=1?e.borderRadius=this.radius:(e.borderTopLeftRadius=t[0],e.borderTopRightRadius=t[1],e.borderBottomRightRadius=t[2],e.borderBottomLeftRadius=t[3]),e},onLoadError(){if(this.path){if(this.path.startsWith("http")){if(this.errorCount>2){this.isError=!0,this.$emit("onError");return}this.errorCount+=1,this.refresh=!1,setTimeout(()=>{this.refresh=!0},500);return}this.path=this.ossPathOriginal+this.darkDir+this.src,G(this.darkDir+this.src)}},onLoad(){this.isLoad=!0,this.$emit("onLoad")},parse(){if(this.isStatic)return this.src;let e;return e=0,this.src.startsWith("/static")?this.src:this.useCache||e&&U.isAndroid?this.isGif?E(this.fitStr+this.darkDir+this.src):q(this.fitStr+this.darkDir+this.src):this.src.startsWith("file://")?this.src:this.src.startsWith("/var/mobile/")?"file://"+this.src:this.src.startsWith("/storage/")?this.src:this.ossPathOriginal+this.fitStr+this.darkDir+this.src}},created(){this.fitWH&&this.src.indexOf("fit-in")==-1&&(this.fitStr="fit-in/"+this.fitWH+"/"),this.path=this.parse()}};function ue(e,t,i,r,l,o){return(0,c.openBlock)(),(0,c.createElementBlock)("view",{class:"l-img",onClick:t[2]||(t[2]=(...s)=>o.clickImg&&o.clickImg(...s)),style:(0,c.normalizeStyle)([o.viewStyle,o.borderStyle]),renderWhole:!0},[(0,c.createElementVNode)("view",{class:"l-img",style:(0,c.normalizeStyle)([{position:"relative"},o.viewStyle])},[i.placeType&&!l.isLoad?((0,c.openBlock)(),(0,c.createElementBlock)("view",{key:0,style:(0,c.normalizeStyle)(o.placeViewStyle)},[(0,c.createElementVNode)("u-image",{src:o.placeSrc,style:(0,c.normalizeStyle)({width:i.placeW,height:i.placeW})},null,12,["src"])],4)):(0,c.createCommentVNode)("",!0),l.refresh?((0,c.openBlock)(),(0,c.createElementBlock)("u-image",{key:1,onError:t[0]||(t[0]=(...s)=>o.onLoadError&&o.onLoadError(...s)),onLoad:t[1]||(t[1]=(...s)=>o.onLoad&&o.onLoad(...s)),src:l.path,mode:i.mode,lazyLoad:i.lazyLoad,fadeShow:i.fade,style:(0,c.normalizeStyle)([o.imgStyle,o.borderStyle]),class:"place-img"},null,44,["src","mode","lazyLoad","fadeShow"])):(0,c.createCommentVNode)("",!0)],4)],4)}var Q=_(pe,[["render",ue],["styles",[ce]]]);var a=W(L());var Re=W(L());function T(e){return plus.io.convertLocalFileSystemURL(e)}var he={emits:["onEvent"],props:{src:{type:String,default:""},autoPlay:{type:Boolean,default:!1},loops:{type:Number,default:0},repeatMode:{type:Number,default:1},frame:{type:Number,default:0},progress:{type:Number,default:0},speed:{type:Number,default:1},eventStep:{type:Boolean,default:!1},scaleX:{type:String,default:""}},data(){return{refView:null}},computed:{params(){return{src:M(E(this.src),!1),autoPlay:this.autoPlay,loops:this.loops,repeatMode:this.repeatMode,initFrame:this.frame,progress:this.progress,speed:this.speed,eventStep:this.eventStep,scaleX:this.scaleX}}},methods:{event(e){w(e)||typeof e.detail=="undefined"||this.$emit("onEvent",e.detail)},play(e){this.$refs.lottie&&this.$refs.lottie.play(e||"")},pause(){this.$refs.lottie&&this.$refs.lottie.pause()},resume(){this.$refs.lottie&&this.$refs.lottie.resume()},stop(){this.$refs.lottie&&this.$refs.lottie.stop()},setFrame(e){this.$refs.lottie&&this.$refs.lottie.setFrame(e)},setProgress(e){this.$refs.lottie&&this.$refs.lottie.setProgress(e)},setSpeed(e){this.$refs.lottie&&this.$refs.lottie.setSpeed(e)},setEventStep(e){this.$refs.lottie&&this.$refs.lottie.setEventStep(e)}},created(){}};function de(e,t,i,r,l,o){let s=(0,a.resolveComponent)("nav-anim-lottie");return(0,a.openBlock)(),(0,a.createBlock)(s,{ref:"lottie",params:o.params,onEvent:o.event},null,8,["params","onEvent"])}var me=_(he,[["render",de]]),ge={emits:["onEvent"],props:{url:{type:String,default:""},autoPlay:{type:Boolean,default:!1},cover:{type:String,default:""},loops:{type:Number,default:0},repeatMode:{type:Number,default:1},frame:{type:Number,default:0},progress:{type:Number,default:0},speed:{type:Number,default:1},scaleX:{type:String,default:""}},data(){return{refView:null}},computed:{params(){return{url:this.url,cover:this.cover,autoPlay:this.autoPlay,loops:this.loops,repeatMode:this.repeatMode,initFrame:this.frame,progress:this.progress,event:this.event}}},methods:{event(e){w(e)||typeof e.detail=="undefined"||this.$emit("onEvent",e.detail)},play(){this.$refs.video&&this.$refs.video.play()},pause(){this.$refs.video&&this.$refs.video.pause()},resume(){this.$refs.video&&this.$refs.video.resume()},stop(){this.$refs.video&&this.$refs.video.stop()},setFrame(e){this.$refs.video&&this.$refs.video.setFrame(e)},setProgress(e){this.$refs.video&&this.$refs.video.setProgress(e)},setSpeed(e){this.$refs.video&&this.$refs.video.setSpeed(e)},setEvent(e){this.$refs.video&&this.$refs.video.setEventStep(e)}},created(){}};function ye(e,t,i,r,l,o){let s=(0,a.resolveComponent)("nav-video-player");return(0,a.openBlock)(),(0,a.createBlock)(s,{ref:"video",params:o.params,onEvent:o.event},null,8,["params","onEvent"])}var ve=_(ge,[["render",ye]]),Se={"center-between":{"":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}}},_e={components:{LImg:Q,Lottie:me,VideoPlayer:ve},data(){return{cover:"https://q6.itc.cn/q_70/images03/20240427/acd99c3b0c4e46f68d9670a575c1ac57.png",videoUrl:"https://media.w3.org/2010/05/sintel/trailer.mp4",lottieType:1,imgW:getApp().globalData.window.width*.784-uni.upx2px(40)}},computed:{lottiePath(){return T(this.lottieType==1?"/static/line-1.json":"/static/line-9.json")},svgPath(){return T("/static/anima-1.svg")}},methods:{click3(){this.lottieType=this.lottieType==1?2:1,this.$refs.lottieRef.play(this.lottiePath)},click4(){this.$refs.playerRef.play()},click5(){this.$refs.playerRef.pause()},onVideoEvent(e){v("log","at pagesPub/lottie-view.nvue:68",JSON.stringify(e))}},onLoad(e){}};function we(e,t,i,r,l,o){let s=(0,a.resolveComponent)("lottie"),n=(0,a.resolveComponent)("button"),f=(0,a.resolveComponent)("video-player");return(0,a.openBlock)(),(0,a.createElementBlock)("scroll-view",{scrollY:!0,showScrollbar:!0,enableBackToTop:!0,bubble:"true",style:{flexDirection:"column"}},[(0,a.createElementVNode)("view",{style:{flex:"1"}},[(0,a.createVNode)(s,{ref:"lottieRef",src:o.lottiePath,style:(0,a.normalizeStyle)({width:`${l.imgW}px`,height:"108rpx"}),loops:-1,"auto-play":!0,"scale-x":"1.42",info:o.lottiePath},null,8,["src","style","info"]),(0,a.createVNode)(n,{onClick:o.click3,style:{"margin-top":"20px"}},{default:(0,a.withCtx)(()=>[(0,a.createTextVNode)("\u53D8\u66F4Lottie\u52A8\u753B")]),_:1},8,["onClick"]),(0,a.createVNode)(f,{ref:"playerRef",url:l.videoUrl,cover:l.cover,"auto-play":!1,style:{width:"100%",height:"300px","background-color":"#000"},onEvent:o.onVideoEvent},null,8,["url","cover","onEvent"]),(0,a.createVNode)(n,{onClick:o.click4,style:{"margin-top":"20px"}},{default:(0,a.withCtx)(()=>[(0,a.createTextVNode)("play")]),_:1},8,["onClick"]),(0,a.createVNode)(n,{onClick:o.click5,style:{"margin-top":"20px"}},{default:(0,a.withCtx)(()=>[(0,a.createTextVNode)("pause")]),_:1},8,["onClick"])])])}var F=_(_e,[["render",we],["styles",[Se]]]);var B=plus.webview.currentWebview();if(B){let e=parseInt(B.id),t="pagesPub/lottie-view",i={};try{i=JSON.parse(B.__query__)}catch(l){}F.mpType="page";let r=Vue.createPageApp(F,{$store:getApp({allowDefault:!0}).$store,__pageId:e,__pagePath:t,__pageQuery:i});r.provide("__globalStyles",Vue.useCssStyles([...__uniConfig.styles,...F.styles||[]])),r.mount("#root")}})();
